(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d7a12670"],{"1dd8":function(t,e,i){},"3bfa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApQAAAKUBAMAAABI4bUPAAAAGFBMVEXU3+25x9n////N2ejH0+PAzd3c4+zt8fVUObajAAAFR0lEQVR42uzUsQmEQBRF0QG3gQ9uHwuruaANDGj/rSgmGmgwikbnlHDhvQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK+qminH4jv2v8R1TY6dsUtc819DinlfGweGRKkqx6HaZRb6xJnayEtLavlcyY2WM3v3shs1DIZh2KMke0zTso9Qu45a9jUKsG00V9CKK0Dcv5gB2jmQw+/EQ79m3nfP5lHs38lU2FzmhysdmScOlmkK3mOZ8jzJdjm73Fu65Hg5Xus3scRTLW+WeIIyb+3S0WDBm3twND5zmDzzCz6iC0e95T4qHsuRh5Ld8oQP5SVDPLa6i6u53azj7K5peSwj6oBcu5caXnnMFf649cFgyQOvPFOHztod9YXz0LShs+7QZvBYWvVL7goMHkPhWLKzwOCJXd+l8Xumo7H1fd9LzgofK1hHc2CGD5ebJ3PODB+usB+9a07p9vVdRvyS9s7RYTFPWs1mOVAes/9lbJZDlFFrNvAt3YhzPwrPybK/EPcy2LJZ9hZ5vFmxWZpWrBsvY7PsaxX7saeFsqc69sxdM3d6CrFvggVzp6foL5AZc2ccpnSmWig7y+O/9NR8SU9FWTDCO1vFP2IZI7yzesJPiFB2FiZQtnz97SpMYKk5WI48YQ9QzmrKr14Ff6LR1ZSDTcEZfeRgY/9HUHaUT1HJeN2B8pTlkyYIb45Q7qdB2UL5bwWUJ6C8gPIVKAN/GAjlXlDKBiWUekEJpV5QQqkXlFDqBSWUekEJpV5QQqkXlFDqBSWUekEJpV5QQqkXlFDqBSWUekEJpV5QQqkXlNO6vWuO20MpG3Pt3r3hzWFnccP9J5+wc75jOGv9STq/S9kHJbGMKfgkcdOjK3ySuOnRZT5FXKm3qfYJ4kq9bT5FXKlnv6OR3VJufC95iHtjDB7F9b3QFb7yxpjhklvlMme4NwWl4qvOYufO/5k6Z3ErbuHNMcKhHOrtn4WW+N+1QfmWv7BtW+IZHUoo9YISSr2ghFIvKKHUC0oo9YISSr2ghFIvKKHUC0oo9YISSr2gVKAsv36HMgnlt6qqrgOU8ymvqm3XUM6mLH9Uv/sJ5VzKD9WfbqCcS/lU/e0RynmUZfXcRyjnUV5Vz91AOY/yffUSlFCKUH7eUQYoZ1E+7SgfoYQSStWghFIvKKHUC0oo9YISSr2ghFIvKKHUC0oo9YISSr2ghFIvKKHUC0oo9YISSr2ghFIvKKHUC0oo9YISSr2ghFIvKKHUC8pf7NxBTsMwEEBRVy17RmpgzaYX4AKAxB6EOABXQNxflAWsjZLG0+l7R/hKYluRR8p8pJQyHylbnuuiUrp5mySl++CLpbyVcvmUBynnpYy/lHdSzkz5ZM7Q0tOvDqZfdaTs2qR/SLnQpMAvkwLnp4ybz2NJo0A7UnbYG1Br1u8PKfOSUsp8pJQyHymlzEdKKfORUsp8pJQyHymlzEdKKfORUsp8pDz/lK2cTfSRUsr1XMUYUytnVMp9K2cbXaTMm/K61fMaQ7y0eh5jiIdWzyYGqLgXam0X6yu56hzF+mquOkNO4TU/lSPe8Krvd9d2yEOZ9exY8AA+ZmtZc3/e+7X0pUz6WNb7F9Hf0przD8+xlql4ydZ277GG6a302/1re39yF9ERAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+G4PDgQAAAAABPlbD3IFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsBKfqDYX+7PX8QAAAABJRU5ErkJggg=="},"542c":function(t,e,i){"use strict";var o=i("a133"),o={props:{isAiCollection:{default:!1,type:Boolean},collectionId:{default:0,type:Number},title:{default:"",type:String},collectionPwd:{default:"",type:String}},components:{movieList:o.default},data(){return{}},mounted(){},beforeDestroy(){},methods:{goBack(){this.$emit("onClose")}}},i=(i("de57"),i("2877")),i=Object(i.a)(o,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"album-detail-root"},[e("my-bg"),e("div",{staticStyle:{overflow:"hidden",width:"100%",height:"100%"}},[e("div",{staticClass:"album-detail-header"},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-arrow-back"},on:{click:t.goBack}}),e("div",{staticClass:"max-line-one",staticStyle:{"font-size":"18px","font-weight":"bold",height:"100%","margin-left":"20px"}},[t._v(" "+t._s(t.title))])],1)]),e("div",{staticClass:"album-detail-content"},[e("movie-list",{attrs:{isAiCollection:t.isAiCollection,collectionId:t.collectionId,collectionPwd:t.collectionPwd}})],1)])],1)},[],!1,null,"d9a004f6",null);e.a=i.exports},6264:function(t,e,i){"use strict";i("1dd8")},7357:function(t,e,i){},c16b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApQAAAKUCAMAAACNEVgOAAAANlBMVEXU3+25x9n///+/zN7I1OPQ3Orl6vHO2ee6yNrDz+D7+/32+PrK1ufT3OfG0eHT3ezu8fbg5+4Se407AAALDElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB27BgFYhCKoqjyFRVE97/bSTXtEJIMKc4prS9P+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQ0m6tlDLikL/iMI7n1naCv9mtrIj8U8Qq2uRpda7o+ZQea9YED9itfHs8rUdpCe7UVuTLYgmTe9Q5er5JH75yrqol8s2i6JI3FalLLtgz8oNiOhZxTh09P6wPc8lbRtJcfti7E+TUYSAIoG7JxgveuP9lPxSVnwAOxFSNaI36naFrpBlJtuy11B2S6WrFUl5peiSmVVyeaiM+oNdQXXiqpKqlkEZSsZRNS48P69XyyI26w8d1dSXyZYygEMdK5KIhieRF1NZSzmpQ0RouLVGZvIqaWpZtmUFoVh9eML4yqWJZOrLdpHaWwtR0qw2Xi5FgXP5Mp5llaT5/qvhaX0lJuJduLeElasmX7i+duvBiEHfd6sILlcF2UhvLsixZbCe/RR3vuJdHi6N2pyRNJi3OT51S6VqOmVQqfRuRKZ3uuJVtJpVKtzLOpFLpVNaZVCpdyjyTSqVD2WdSqXTHQSaVSmcaeKB5pSd5zsyVSs+8ZFKp9CO3e0G6M1QAR5kEYiUOZHWnV7d+i5DR2we9kChEC3f0mixzfhpvteBeeGq81ew44azJUbPjwIgU5uq0DuFsWE/VjF/oFFxSbSjrwxBuDIcam7StlCRT8+kYNhwnbNG2UuwnlNdI7omlppWFa2ErruGJNWKDppVls54GTUN4amixQVczijbD1CG8dICpuZLMtDB1zuTHU6kFPDcRls6Z/Hwq1YFnpoalcyYZUqkOPCsNLE3hz1pY0gg9JxGG4hD+bIi4pQW8VCMsrWGHFZt0Bl6cCENT2GXCLZXKMtWwdAy7HHFPvU6Blg6GphCISmWnc5089LB0DIGpVOq+bxYaWKrDbjMeaCxUmB6WDuE/jgm6SmUGGpgawm4D7qlUFqaHpTkEtvVbpZJeC1NVeEMFQyqV/CJMncIbTjCkUkmvga01vGHFA5XKgvSwNYQ3HHFPpbIgC4yFt8CYjnWY1bhXRCh1Ak5s49S7iFDqBJzYiAdFhFL3KolFbHHf6OheJbEGm9yPhDQVItZjk/fhuaZCxOzbHM5jRkCtDq0R1igvZFyo1WEVYY7x6tqFWh1SDewRXvK9UqvDqYY9wucQVzrV4RSRAN3DMa3fzBqkwPbEVus3tRpJkH2MQOs3tYgdEpbKFr/T+u1bg0SoPnCl9ZvaiGT6PZ8C7PGc5ueO9UiF6KOpP+n8m08HW9sTdIKrGN+6Sqi0SIjkQ/x39LsINjNS4vhlyR39WYdNRGIHsrVbQyE6C5Jrd/8Gz14lRP6xd4fLasJAGIb5EgRBRb3/m62d6UxbK/awmvge+J4b2D87hN0km171Dc8fDB1Um38qWVrV9/Rp5V71eaeRJesTAo/Ql+SfSpa9PqXtxvSXsZv0Ge5Uouz0SVNzvRzSzeFybSZ9jre/SY5vTK8x3YxP0oscy9vfHFOhhbjVA+RYrnQ48vcqWeZiudJZk32BNJlNFXIsVzoYZ70mP2+DZ/2JHcuDMih6veS0aMOQHct7OhStXtEtO+7DjuVKh2JS2PJDaOxYTkqKrKjAcV12LJffFLlAnsxmCjuWk5JCQZErYPRYjSGcFZWXXJbN+okeyz0hhl4xobEC9FjuCTH0CjoFJlXRYzkpGVqFxEZV0WO5J8TQKiI41I8ey0nJ0CoiOP6UHstJyTAoIDoomh7LA4UYsgKiI/Xpsdw9Z8gKiD4+Qo/lpGTICog+00SP5aRkyAqIPmhHj+WkZFBA9OlPfCxfiGBQQPSRZH6sxggUEH1Onh+rMQKFpBB+rMYINIOTKE7KzdEMTqI4KTdHMziJ4qTcHM3gFB8udDZHMzhtGreENkczMA1tN8+3x9uM3mbE8YEMJyWOj645KXF8yNdJiePrEL4OgeOLY744huMrtk5KHA8j8KMlOLXGtvS6ocfy2BYGD7hyUuKcFTUsGc836Cd6LI8ChND/eGiqfQGhe76oq33VL+xY7p1TeBC/kxLHT5a4TYlT/HGnq35jx3KbkqLXS/pFT9OxY7kjRHHWa4bnj3gO+hM7ljtCGCWfVu51hxzLlyE4/Ai9i2+cSW/QdmP6y9hNeoAcy8U3x1HvMTXXyyHdHC7X2Uwnx3LxzbFTHfPpNaab8S696ts1hqGAYgtxqyjXOWuS9WXfpGRxnfPttYp6PSVBaek6h6RXffl5GzxrAdc5K3RWdafAhmFZPkwJk1VZFzjuU5Z/KWkm1dWlxMtK/1Ky9KqqSwmYle5SwuxVUZcSMCvdpaQZVEvgClgNHiPEc1Q1ecll2azn/Eu5YjtV8uaxAv6lXLOsSk5vnVTlhtCatariraOqvHqv3E51nFJifiq9egNlVXFICfmp9OpN1Kq89w6K9uq9ejuFxPvmrA66V2+krOLe+viIV+8NOKq8KSXm+u2jlEznvQoLP2hXmPe9uQYVFn76s7ipMaadirukBwBbjS5zsLJKG9MjH+9UuszhOqq0FKKyXOaQPSh1NpGUe08ABGt1bxNJ6d0csrPubSEp/aFkG3RvA4WO70Gw7fSv1beE3A+CG/SPtTfP/aGk61UQc5vRH0q8QeUgD2T8YO/ectyGYSgMk7AURa1hT/a/2U4L9GEuCTABFPCQ/7eGA1mkKIvGeXzdF4o4usZCKWD6OgGHfNlRKui+TsDrECyUEqavE+7iGDNrGlaegEe7Ysthjorm6wT7GQGn3jIiLZXDP2KhLGr3dUL94Io5SiGbLzR/8ivA6V/QN6+p+zpxfpp6pR0kpfkdr+2g3/wzqpzCNl8nyI/4ueutZvhCMZ4sGQYxhy91ef7bzVlOWatvNo6nnsGjRVnb8LXm4wdDp9/BIEZlzZd6+LTy8O9ReVe3+VpPPEJP27y6fvXl2uXXp73k5fC7aJtj91c47Pb2+98K+XZ7WPRz5o1301PiCoS0zRNiQ6mtXz0dNpTqhqfD8aK85snQoUwgWbFDkZNCqmKHIieHM1EqN8YwkshTglN455EllWQyk+4p0AxKZfcEOPFOJkEqyWQ68qkkkwmJp5JMpiSdSjKZlHAqyWRasqkkk4lpdtHpmad2KqaSTGbX5aYzmMHIT21miEyWIDX1O8lkDUI3JLj7UMYQKXcocSrRKHfYThYjsLHkilg5u8gn/FuGnDQ+4YSyGKEqnFCWoVKFE8pKzsMlGTIbkjtLQ26KO0tDcoJluCE9uZ6loYCmFUtDBafAuSOhLKcLxdJQhU4sDXUMkVgaKtFYLQ21nAKVuKGac4/eTjcU1Gfo5dJQUujl0lBVb1FzaSgsaC4NtfU93v7SgHHEWjAN+Gu0LcyKacB/fT9CJNOAD87R2rb5DxBKvMY5Rmttbu+u/hihBAAAAAAAAAAAAAAAAAAAAADgD3twIAAAAAAA5P/aCKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqwh4cCAAAAAAA+b82gqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqtAeHBAAAAACC/r/2hgEAAAAAAAAAAGAoYAEvXUyV0TQAAAAASUVORK5CYII="},de57:function(t,e,i){"use strict";i("7357")},e54c:function(t,e,l){"use strict";l.r(e);l("14d9");var i=l("542c"),o=(l("be3b"),l("1f2e")),i={props:{selectMode:{default:!1,type:Boolean}},created(){},mounted(){var t="cacheMoviebumSortField",t=(localStorage.getItem(t)&&(this.orderField=localStorage.getItem(t)),"cacheMoviebumSortType");localStorage.getItem(t)&&(this.orderType=localStorage.getItem(t)),this.loadFirstPage(),window.addEventListener("resize",this.calImageWidth),window.addEventListener("popstate",this.onPopstate)},beforeDestroy(){window.removeEventListener("resize",this.calImageWidth),window.removeEventListener("popstate",this.onPopstate)},components:{collectionDetail:i.a},data(){return{nextHasMore:!0,nextLoading:!1,searchStr:"",orderField:"id",orderType:"desc",pageSize:20,shareForSubUser:!0,rightMenuList:[{text:this.$t("file.check"),type:"CHECK"},{text:this.$t("common.delete"),type:"DELETE"}],showChooseCover:!1,coverPath:"",showCollectionDetail:!1,dialogTitle:"",selectedCollection:"",itemBaseWidth:200,itemWidth:200,itemMargin:10,dataList:[],showAddDialog:!1,password:"",enablePwd:!1,inputCollectionName:"",editCollectionId:"",collectionPwd:"",selectedIndex:!1}},methods:{onSearch(t){this.searchStr=t,this.loadFirstPage()},loadFirstPage(){this.dataList=[],this.nextHasMore=!0,this.nextLoading=!1,this.getCollectionList()},loadNextPage(){this.getCollectionList()},onPageScroll(t){"movie-album-wrapper"==t.target.id&&this.dealOnPageScroll(t,()=>{this.loadNextPage()},t=>{})},clickOrder(){localStorage.setItem("cacheMoviebumSortField",this.orderField),localStorage.setItem("cacheMoviebumSortType",this.orderType),this.loadFirstPage()},rightMenuClick(t){t=this.rightMenuList[t[0]].type;"CHECK"==t?this.onCollectionClick(this.selectedIndex):"DELETE"==t&&this.deleteCollection(this.selectedCollection)},getSelectedCollectionId(){for(var t of this.dataList)if(t.selected)return t.id;return!1},onChooseCover(){this.coverPath?this.coverPath="":this.showChooseCover=!0},onSelectedCover(t){t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".JPG")||t.endsWith(".JPEG")||t.endsWith(".png")||t.endsWith(".PNG")?(this.showChooseCover=!1,this.coverPath=t):this.showVsAlertDialog(this.$t("common.alert"),this.$t("movie.coverFileNoSupport"))},onPopstate(){this.showCollectionDetail?this.showCollectionDetail=!1:this.$router.go(-1)},checkPwd(t){this.collectionPwd=t,this.api.post("/api/movieApi/checkCollectionPwd",{pwd:t,collectionId:this.selectedCollection.id}).then(t=>{t.code||(this.$refs.inputPwdDialog.setShow(!1),this.showCollectionDetail=!0,this.pushState())}).catch(t=>{})},onCollectionClick(t){if(this.selectMode){for(var e in this.dataList)this.dataList[e].selected=e==t;this.$forceUpdate()}else this.selectedCollection=this.dataList[t],1==this.selectedCollection.enable_pwd?this.$refs.inputPwdDialog.setShow(!0):(this.showCollectionDetail=!0,this.pushState())},showAdd(t){this.password="",this.enablePwd=!1,t?(this.dialogTitle=this.$t("movie.editCollection"),this.editCollectionId=t.id,this.inputCollectionName=t.title,this.coverPath=t.collection_cover_path,this.shareForSubUser=1==t.share_for_subuser):(this.dialogTitle=this.$t("movie.addCollection"),this.inputCollectionName=""),this.showAddDialog=!0},calImageWidth(){var t;this.$refs.wrapper&&(t=this.$refs.wrapper.getBoundingClientRect(),t=this.utils.calItemWidth(t,this.itemBaseWidth,this.itemMargin))&&(this.itemWidth=t)},onAddBtnClick(){if(!this.inputCollectionName)return this.showVsNotification(this.$t("movie.pleaseInputCollectionName"));this.api.post("/api/movieApi/addCollection",{collectionId:this.editCollectionId,title:this.inputCollectionName,enablePwd:this.enablePwd?"1":"0",pwd:this.password,coverPath:this.coverPath,shareForSubUser:this.shareForSubUser?"1":"0"}).then(t=>{t.code||(this.showAddDialog=!1,this.showVsNotification(this.$t("common.operationSuccess")),this.loadFirstPage())}).catch(t=>{})},deleteCollection(i){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("common.deleteSure"),()=>{this.api.post("/api/movieApi/deleteCollection",{collectionId:i.id}).then(t=>{if(!t.code)for(var e in this.showVsNotification(this.$t("common.operationSuccess")),this.dataList)if(this.dataList[e].id==i.id){this.dataList.splice(e,1);break}}).catch(t=>{this.showVsNotification(this.$t("common.operationFail"))})})},getCollectionList(){var t;!this.nextLoading&&this.nextHasMore&&(this.nextLoading=!0,t={offset:this.dataList.length,count:this.pageSize,orderType:this.orderType,orderField:this.orderField},this.searchStr&&(t.search=this.searchStr),this.api.post("/api/movieApi/getCollection",t).then(e=>{if(!e.code){for(let t=0;t<e.data.length;t++)e.data[t].coverMovie&&o.a.dealMovieList(!1,[e.data[t].coverMovie]),this.dataList.push(e.data[t]);e.data.length<this.pageSize&&(this.nextHasMore=!1),this.$nextTick(()=>{this.calImageWidth(),setTimeout(()=>{this.calImageWidth()},300)}),this.nextLoading=!1}}).catch(t=>{this.nextLoading=!1}))}}},s=(l("6264"),l("2877")),s=Object(s.a)(i,function(){var o=this,t=o.$createElement,s=o._self._c||t;return s("div",{staticClass:"list-root"},[!o.nextLoading&&o.dataList.length<1?s("my-nodata",{staticStyle:{position:"absolute",width:"100%","margin-top":"150px"},attrs:{title:o.$t("movie.addCollectionAlert"),btnTitle:1==o.$store.state.currentUser.is_admin?o.$t("movie.addCollection"):null},on:{onBtnClick:o.showAdd}}):o._e(),s("div",{staticStyle:{overflow:"hidden",width:"100%"},style:{height:"100%"}},[s("div",{staticClass:"top-root"},[s("div",{class:{"nas-padding-left":!o.selectMode},staticStyle:{flex:"1",display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"nasIcons icon-add operation-icon",on:{click:function(t){return o.showAdd()}}}),s("Poptip",{attrs:{placement:"bottom"},scopedSlots:o._u([{key:"content",fn:function(){return[s("div",{staticClass:"sort-root"},[s("div",[o._v(o._s(o.$t("common.sortField")))]),s("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":o.clickOrder},model:{value:o.orderField,callback:function(t){o.orderField=t},expression:"orderField"}},[s("Radio",{attrs:{label:"title"}},[s("span",[o._v(o._s(o.$t("common.name")))])]),s("Radio",{attrs:{label:"id"}},[s("span",[o._v(o._s(o.$t("movie.createTime")))])])],1),s("div",{staticStyle:{"margin-top":"15px"}},[o._v(o._s(o.$t("common.sortType")))]),s("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":o.clickOrder},model:{value:o.orderType,callback:function(t){o.orderType=t},expression:"orderType"}},[s("Radio",{attrs:{label:"asc"}},[s("span",[o._v(o._s(o.$t("common.asc")))])]),s("Radio",{attrs:{label:"desc"}},[s("span",[o._v(o._s(o.$t("common.desc")))])])],1)],1)]},proxy:!0}])},["asc"==o.orderType?s("span",{staticClass:"nasIcons icon-sort-alpha-up operation-icon"}):o._e(),"desc"==o.orderType?s("span",{staticClass:"nasIcons icon-sort-alpha-down-alt operation-icon"}):o._e()])],1),s("div",{staticClass:"list-title",staticStyle:{flex:"1"}},[s("span",{staticClass:"max-line-one"},[o._v(o._s(o.selectMode?o.$t("WhereToMove"):o.$t("movie.collection")))]),o.selectMode?o._e():s("Icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",type:"ios-help-circle-outline"},on:{click:function(t){t.stopPropagation(),o.showVsAlertDialog(o.$t("common.alert"),o.$t("movie.addCollectionAlert"))}}})],1),s("div",{class:{"nas-padding-right":!o.selectMode},staticStyle:{flex:"1",display:"flex","justify-content":"flex-end"}},[s("my-search",{ref:"mySearch",staticStyle:{"max-width":"200px"},attrs:{keepSmall:o.selectMode,placeholder:o.$t("common.pleaseInputSearchContent")},on:{onSearch:o.onSearch}})],1)]),o.selectMode?s("divider",{staticStyle:{"margin-top":"1px","margin-bottom":"1px"}}):o._e(),s("div",{staticStyle:{overflow:"scroll"},style:{height:o.selectMode?"450px":"100%"},attrs:{id:"movie-album-wrapper"},on:{scroll:o.onPageScroll}},[s("div",{ref:"wrapper",staticClass:"album-list-root"},o._l(o.dataList,function(e,i){return s("vs-card",{style:{margin:o.itemMargin+"px",width:o.itemWidth+"px"},attrs:{type:"1"},on:{click:function(t){return o.onCollectionClick(i)}},scopedSlots:o._u([{key:"title",fn:function(){return[s("h3",{staticClass:"max-line-one",staticStyle:{"text-align":"left"}},[o._v(o._s(e.title))])]},proxy:!0},{key:"img",fn:function(){return[e.collection_cover_path?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.axios.getRawFileUrl(e.collection_cover_path,"cover.jpg"),expression:"axios.getRawFileUrl(collection.collection_cover_path, 'cover.jpg')"}],staticStyle:{"object-fit":"cover"},style:{width:o.itemWidth+"px",height:o.itemWidth+"px"}}):e.collection_cover_path||1!=e.enable_pwd?!e.collection_cover_path&&e.coverMovie&&e.coverMovie.url?s("img",{staticStyle:{"object-fit":"cover"},style:{width:o.itemWidth+"px",height:o.itemWidth+"px"},attrs:{src:e.coverMovie.url}}):s("img",{staticStyle:{"object-fit":"cover"},style:{width:o.itemWidth+"px",height:o.itemWidth+"px"},attrs:{src:l("c16b")}}):s("img",{staticStyle:{"object-fit":"cover"},style:{width:o.itemWidth+"px",height:o.itemWidth+"px"},attrs:{src:l("3bfa")}}),e.selected?s("div",{staticStyle:{width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.5)",position:"absolute",display:"flex","align-items":"center","justify-content":"center"}},[s("Icon",{attrs:{type:"md-checkmark-circle-outline",color:"white",size:"50"}})],1):o._e()]},proxy:!0},{key:"text",fn:function(){return[s("p",{staticClass:"item-subtitle max-line-one"},[o._v(o._s(e.create_time))])]},proxy:!0},{key:"interactions",fn:function(){return[o.selectMode||1!=o.$store.state.currentUser.is_admin?o._e():s("vs-button",{staticClass:"btn-chat",attrs:{icon:"",shadow:"",primary:""},on:{click:function(t){return t.stopPropagation(),o.showAdd(e)}}},[s("Icon",{attrs:{type:"md-settings",size:"20"}})],1),o.selectMode||1!=o.$store.state.currentUser.is_admin?o._e():s("vs-button",{staticClass:"btn-chat",attrs:{icon:"",shadow:"",primary:""},on:{click:function(t){return t.stopPropagation(),o.deleteCollection(e)}}},[s("Icon",{attrs:{type:"md-trash",size:"20"}})],1)]},proxy:!0}],null,!0)})}),1),s("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%","flex-direction":"column","align-items":"center"}},[o.nextHasMore&&0<o.dataList.length?s("Button",{staticStyle:{width:"250px","margin-top":"30px",height:"45px","border-radius":"20px"},attrs:{type:"default"},on:{click:function(t){return o.loadNextPage()}}},[o._v(o._s(o.$t("common.loadmore")))]):o._e(),o.nextLoading?s("Spin",{staticStyle:{"margin-top":"30px"},attrs:{size:"large"}}):o._e(),!o.nextLoading&&!o.nextHasMore&&0<o.dataList.length?s("span",{staticStyle:{"margin-top":"30px"}},[o._v(o._s(o.$t("common.noMore")))]):o._e(),s("div",{staticStyle:{height:"50px"}})],1),s("div",{staticStyle:{height:"50px",width:"100%"}})]),s("vs-dialog",{scopedSlots:o._u([{key:"header",fn:function(){return[s("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[s("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:l("135a")}}),s("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[o._v(" "+o._s(o.dialogTitle)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("my-btn",{staticStyle:{width:"100%"},attrs:{block:"",title:o.dialogTitle},on:{click:o.onAddBtnClick}})],1)]},proxy:!0}]),model:{value:o.showAddDialog,callback:function(t){o.showAddDialog=t},expression:"showAddDialog"}},[s("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[o.coverPath?s("img",{staticClass:"img-cover",attrs:{src:o.axios.getRawFileUrl(o.coverPath,"cover.jpg")}}):o._e(),s("a",{staticStyle:{"margin-top":"10px"},on:{click:o.onChooseCover}},[o._v(o._s(o.coverPath?o.$t("movie.deleteCover"):o.$t("movie.addCover")))])]),s("div",{staticStyle:{"word-break":"break-all","text-align":"left","max-width":"100%"}}),s("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text",placeholder:o.$t("movie.addCollectionPlaceholder")},scopedSlots:o._u([{key:"icon",fn:function(){return[s("Icon",{attrs:{color:"#99AABF",type:"ios-bookmarks"}})]},proxy:!0}]),model:{value:o.inputCollectionName,callback:function(t){o.inputCollectionName=t},expression:"inputCollectionName"}}),s("Divider"),s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("p",{staticStyle:{"margin-right":"20px"}},[o._v(o._s(o.$t("movie.collectionIsNeedPwd")))]),s("i-switch",{model:{value:o.enablePwd,callback:function(t){o.enablePwd=t},expression:"enablePwd"}})],1),o.enablePwd?s("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:o.$t("movie.collectionPwdPlaceholder")},scopedSlots:o._u([{key:"icon",fn:function(){return[s("Icon",{attrs:{color:"#99AABF",type:"ios-key"}})]},proxy:!0}],null,!1,3197728351),model:{value:o.password,callback:function(t){o.password=t},expression:"password"}}):o._e(),s("Divider"),s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("p",{staticStyle:{"margin-right":"20px"}},[o._v(o._s(o.$t("shareForSubUser")))]),s("i-switch",{model:{value:o.shareForSubUser,callback:function(t){o.shareForSubUser=t},expression:"shareForSubUser"}})],1),o.shareForSubUser?s("div",{staticStyle:{"margin-top":"5px"}},[s("p",{staticClass:"text-grey"},[o._v(o._s(o.$t("movie.libraryUserAlert")))])]):o._e(),s("Divider")],1),s("Modal",{attrs:{fullscreen:"","footer-hide":"",closable:!1,"class-name":"modal-style-nopadding"},model:{value:o.showCollectionDetail,callback:function(t){o.showCollectionDetail=t},expression:"showCollectionDetail"}},[o.showCollectionDetail?s("collection-detail",{attrs:{collectionId:o.selectedCollection.id,title:o.selectedCollection.title,collectionPwd:o.collectionPwd},on:{onClose:function(t){o.showCollectionDetail=!1}}}):o._e()],1),s("my-dialog-input",{ref:"inputPwdDialog",attrs:{isPwd:!0,showCloseBtn:!0,closeOnClickBtn:!1,clearOnOpen:!0,title:o.$t("registerAdmin.placeholderPassword"),content:o.$t("registerAdmin.placeholderPassword")},on:{onOkClick:o.checkPwd}}),s("vs-dialog",{attrs:{scroll:"","full-screen":o.isMobile},scopedSlots:o._u([{key:"header",fn:function(){return[s("h4",{staticStyle:{"font-size":"16px"}},[o._v(" "+o._s(o.$t("movie.addCover")+"["+o.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[s("file-select-bar",{on:{back:function(t){return o.$refs.fileSelector.goBack()},select:function(t){return o.$refs.fileSelector.onSelect()},create:function(t){return o.$refs.fileSelector.createNewFolder(t)}}})]},proxy:!0}]),model:{value:o.showChooseCover,callback:function(t){o.showChooseCover=t},expression:"showChooseCover"}},[o.showChooseCover?s("file-select",{ref:"fileSelector",attrs:{parent:"root",fileType:0},on:{onSelect:o.onSelectedCover,onCancel:function(t){o.showChooseCover=!1}}}):o._e()],1)],1)],1)},[],!1,null,"68911147",null);e.default=s.exports}}]);