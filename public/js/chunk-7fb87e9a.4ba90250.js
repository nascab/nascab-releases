(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7fb87e9a"],{"0cb3":function(t,e,i){"use strict";i("eafe")},3489:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvCAMAAAC8TH5HAAAA81BMVEUAAAC8Rje/QDDdoJnbnpa7RjbamZK7Rje7Rja7Rja7RTe5RjS7RjfYlIzYk4q8RjbWj4a7RjfVjITTioDKUVHcoJi6Rje7Rje7RjbbnJTam5PZl4/Zlo3YkonYkonXkYjWj4bVjoS7Rje7RTfVjIPVi4LTin67RjfTiX+6RTbUhn69RzjThn3RiX7Wg3fSgHfbnZXZmZC7RjfZmI/Vi4HZmI+8Rje6Rje7Rji8RTfUjYW8RjfSi4G6RTfSiHvWioC4RzW7Rjf////do5vu0c3MdGnQf3XWjoXVi4LPfHHLcWXJa1/GZFfDWk2/UUO9Sz3Xk4qUxAlnAAAAQXRSTlMAyRD38OTdxrVhURzpwLaamZJ+Wgb9/fTq5+LMx66ooY2HeXNvaU5KR0Q4NCkhFQ7p1tbU08/Nq4B9d2phXD4yK7ZnvsIAAALsSURBVHja7d3nbpxQEIZhki3uvffuuDu9tznfORvbcezc/9VkLUdo7IXds16QZ5J5fyHBj0cwAiEQJFkNjr2dp5J6PZ0U3FaNSqyxVKz28AmVWgMjRXKfzVG5NYDR4rj7VFLci9WiuEPDVFbci/GCvO+ovLgX68UML5UZ92KyCG8/lRr3YruA6aWS415M9ez9QmXHvZXdXr0TVHbci+qBgvFlXiwc9ebto/LjXtRPevI+odZK9eKVMi+WlXkxosyLFWVerCnzYlyZFxvKvPiozIsdZd6ZKV1eVPZ0eVH9psuLxWNdXtRPdXnxRpkXy8q8GFXmxYoyL9aUebGuzItJZV5sK/PiszJvZVeXF9Wvurx4fiTHe46IFk/EeC8Q0wsx3ktEtSTFe4W4RoR46TfiGhXivUBkqzK814htXISXAmLbEOG9nkFskxK89BPR7UjwUkB0UxK8XYArexK8XYxE9UCCl36dIbKFYwnepvgccdVPRXibXV2GxtmPjtWleGN7al6eec3LM695eeY1L8+85uWZ17w885qXZ17z8sxrXp55zcszr3l5ArzhwVFG5XvhHpinNPNSmnmJzEusLK9HNz2+N1A3mde8Ir3wDqCWpHq9u6kVLNTb5DI8S6Y35F4JhHtB9/IivZTn9S6I9MLdlrGFSO/tsg8ZG0Ckt1mg+6XnjCDRm7Peee+dV+CFS9PgDY4n3+vuFKR7ocsLdzfI9MKDDS/Li/R65xxuF+4n0ftXCYLT4PXpwXetBXFeplTgDa59XpY3OFXe4Domyus7FyR52yTz/iIv85qXZ97/7fmFec1rXvMSmZfIvJRmXiLzUpp5icxLuQX/wEDtsvcRRWTeO5nXvDzzmpdnXvPyzPtvePtJaNPZ3jGSWS3J7hPJrD/H+51ktiXjA2jRDeV5B0hiY+3+SCWvuaF87yHJa+AGpmciPiSJJvBm0qH9lySn2mDSuc0ayWj+/XQS1eBE3/AsPWazw30Tmfv2DxI88nHIbRDHAAAAAElFTkSuQmCC"},8608:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvCAMAAAC8TH5HAAAA51BMVEUAAACOTJ+PUJ+QWqaOTJ6OTJ6emraOTJ6ahK+OS56Zga6PS56XeKuVb6iNTJ6OTJ6OTJ2ckbObjLKOS56birKOTJ6PTZ2WcaqOTJ2QX6aKTqCdl7WclLSelrSdkrObirGcjrOOTJ6ahK+birGZgq6XdquYf62OS56PS5+NTJ6QX6aXcKqOSp2QW6WPTJ6ZhbCYeKyXfKyOS5+OS52ZfKyNTJ+OTJ7///+hqLpxOYV/QpHHps+aha/j0uebk7Oqebago7iHR5ifnreQdaWPaqOCSpSYg66Ue6qVdaqJX56IVJuaj7F4PosMo5bqAAAANnRSTlMAyRAK08X+6b+0sal+Vj0w/PHp4NeajWtTJhP8+fbp4uDbzcuhkpB+YVdAPTQY9dijonpzaUre3gOPAAADMklEQVR42u3diU7bQBDGcUpCCGlCue+rXG2h9O54SDA5OAq07/88TVRV2krrZEf2yt+U+T/BT6vNKLYszZSv92/mlhcoTkuVqYLbmKGIXe0Vq916SVG74oMiua9ekyy5l1cK5M6KAXIvHxXFrVRJntzL9YK8q+QpgpcbhXDnyVMULx8X4fWMhlhePs3PnSZPsbzczO19R56ieXvf8nrXyFM0Lw9aOb1z5Cmel2vn+bwz5Cmil3c3c3lfkKeYXl6s6PLynjIvHyjz8ooyLx8p83JdmZcbyrx8rMzLp8q83FTm7a3r8vKgpcvL2+e6vLy7qcvLi1u6vLxU0eXlfWVeXlHm5UNlXq4r83JDmZc/K/PyiTJvr6nLy4N1XV6utXC89xzQ9hmM94FD2tlE8d5yUIsXIN4nDmupguHt1zisfQwvPXBgHzG8dxzaIYS3/4NDqyN46a7HoTUQvP1bDu4TgJf6NxzcCYCX2uHgXhPAS+3wKzFYB/BS++maA6u1ALzU//UYOteuzwC8RO3Ly7vHm/uf1xPbuUDwjsSBTWN4h+K2Lu+IHBCSNyTz/pN5zetmXvO6mde8buY1r5t5zetmXvO6mde8buY1r5t5/2dvN006VFZybycZ1SmFLPcOuX8rQyz3pklSvljgHTLLF4u8AOJwbzdJAMQiL4BY5AUQh3uH4wxALPP6S4PFGN7wI0bxhopxvEnaJUnxvekQVf4Ri7wAYokXASz25rrFcN4JRwzoDQTH9w4pAGKBFwIs8EKABV5R/jmB603IF7A3JU/AXu8Bm/fZ3gfvSMP1+rmw3ozxC+pNs7iYXoz/O2npd0HqzT/H8Lzj7wKad9IPDcyr63k+4HCRvGjvozoFjAUUb+hVAPFCvq/uAmhl3vxXoXRvDm10L4BW5AXQSrwEoBV50/K1Im+3fK3we5jStTIvdTr5sfY9l3nNa94/mde8buY1r5t5zetmXvO6mTdrfwtolaz9OJh9yNw/hFk1c78TZquZ+7Mw28jeT4bY7Jj9b4h9GbdfD6/q+P2FcM1P2A8J1tuJ+zehcrj+tpCGRHW+9P2xgpa/en3y/bzxW5idWfvuo/0GvSG/F2rmG/EAAAAASUVORK5CYII="},ceeb:function(t,e,o){"use strict";o.r(e);o("14d9");var i=o("25a9"),l=o("be3b"),s=o("5d55"),a=o("d3ac"),r=o("e762"),n=o("2cc5"),d=o("c220"),d={watch:{showUploadModal:function(t,e){t||this.uploadClose()}},props:{propsSelectedSpace:{default:null,type:Object}},data(){return{selectedFile:null,selectedIndex:-1,rightMenuList:[],isInDragSelectMode:!1,dragStartIndex:0,dragEndIndex:0,dragSelectMode:!0,openAsPage:!1,spaceId:"",selectedSpace:{},hasNewFileUploaded:!1,typeMenuOptionList:[{title:this.$t("photo.all"),id:"all"},{title:this.$t("photo.photo"),id:"image"},{title:this.$t("photo.video"),id:"video"},{title:this.$t("common.other"),id:"other"}],orderMenuOptionList:[{title:this.$t("file.recent"),id:"check_time"},{title:this.$t("movie.createTime"),id:"create_time"},{title:this.$t("private.shootTime"),id:"original_time"}],selectedItemList:[],editMode:!1,showFileType:"all",itemBaseWidth:160,itemWidth:160,itemMargin:5,sliderMin:160,sliderMax:400,sliderValue:160,lastSliderValue:0,pageCount:100,showUploadModal:!1,dataList:[],orderField:"check_time",orderType:"desc",loading:!1,hasMore:!0,showPhotoDetail:!1,showVideoDetail:!1,scrollTop:0,longPressTimeout:null}},components:{myScrollBar:d.a,Upload:i.a,videoDetail:s.default,photoDetail:a.default},mounted(){var t=this.$route.params;this.propsSelectedSpace?(this.spaceId=this.propsSelectedSpace.id+"",this.selectedSpace=this.propsSelectedSpace):(this.openAsPage=!0,this.spaceId=t.selectedSpace.id+"",this.selectedSpace=t.selectedSpace),this.$store.state.privateSpace[this.spaceId]?this.getFileList(!1):this.showVsAlertDialog(this.$t("common.alert"),this.$t("private.passwordInvalid")),window.addEventListener("resize",this.onWindowResize),window.addEventListener("popstate",this.onPopstate)},beforeDestroy(){window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("popstate",this.onPopstate)},methods:{showRightMenu(t,e,i,s){if(this.isMobile)return t.preventDefault();i.selected||this.clearSelect(),this.initRightMenu(i),this.selectedFile=i,this.selectedIndex=s,this.$easycm(t,e,"detail")},rightMenuClick(t){"DOWNLOAD"==this.rightMenuList[t[0]].type&&(this.selectedItemList.push(this.selectedFile),this.downloadSelectedList())},initRightMenu(t){this.rightMenuList=[],t.selected||this.rightMenuList.push({text:this.$t("common.download"),type:"DOWNLOAD"})},onPopstate(){this.showPhotoDetail?(this.$refs.photoDetailSpace.closeGallery(),this.showPhotoDetail=!1):this.showVideoDetail?this.showVideoDetail=!1:this.$router.go(-1)},goBack(){this.openAsPage?this.$router.go(-1):this.$emit("onClose")},onSizeChange(t){this.lastSliderValue!=t&&(this.lastSliderValue=t,this.itemBaseWidth=t,this.calImageWidth())},onMouseDown(t,e){t&&1==t.buttons&&(this.isInDragSelectMode=!0,this.dragSelectMode=!this.dataList[e].selected,this.dragStartIndex=e)},onMouseUp(t){this.isInDragSelectMode=!1},onMouseLeaveRoot(){this.isInDragSelectMode=!1},mouseEnterImg(t){this.isInDragSelectMode?(this.dragEndIndex=t,this.setDragRange()):this.isMobile||this.$set(this.dataList[t],"hover",!0)},mouseLeaveImg(t){this.isMobile||(this.dataList[t].hover=!1)},setDragRange(){var e=this.dragStartIndex>this.dragEndIndex?this.dragEndIndex:this.dragStartIndex,i=this.dragStartIndex>this.dragEndIndex?this.dragStartIndex:this.dragEndIndex;for(let t=e;t<=i;t++)this.dragSelectMode?this.dataList[t].selected||this.hoverSelect(t):this.dataList[t].selected&&this.hoverSelect(t)},touchstart(t){clearTimeout(this.longPressTimeout),this.longPressTimeout=setTimeout(()=>{this.hoverSelect(t)},800)},touchend(){clearTimeout(this.longPressTimeout)},clickOrder(){this.loadFirstPage()},onUploadDialogVisibleChange(t){t||this.hasNewFileUploaded&&this.loadFirstPage()},clearSelect(){for(var t in this.isInDragSelectMode=!1,this.editMode=!1,this.dataList)this.dataList[t].selected=!1;this.selectedItemList=[]},downloadSelectedList(){if(!(this.selectedItemList.length<1)){let t=[];for(var i in this.selectedItemList)this.selectedItemList[i].rawUrl&&t.push(this.selectedItemList[i].rawUrl);let e=this;function s(){e.downloadFile(t),e.clearSelect()}1<this.selectedItemList.length?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.multiDownloadAlert"),()=>{s()}):s()}},onPhotoViewerClickDelete(t){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("private.fileWillDeleteForever"),()=>{this.deleteApi([t])})},deleteSelectFiles(){this.selectedItemList.length<1||this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("private.fileWillDeleteForever"),()=>{var t=this.selectedItemList.map(t=>t.id);this.deleteApi(t)})},deleteApi(t){this.api.post("/api/privateSpaceApi/deleteSpaceFiles",{spaceId:this.spaceId,ids:JSON.stringify(t)}).then(t=>{if(!t.code){if(this.showVsNotification(t.deleteCount+this.$t("file.fileDeleteSuc")),this.selectedItemList=[],this.editMode=!1,t.deleteList&&0<t.deleteList.length)for(var e in t.deleteList)for(var i in this.dataList)if(t.deleteList[e]==this.dataList[i].id){this.dataList.splice(i,1);break}this.calImageWidth()}}).catch(t=>{})},hoverSelect(t){if(this.dataList[t].selected){for(var e in this.$set(this.dataList[t],"selected",!1),this.selectedItemList)this.selectedItemList[e].id==this.dataList[t].id&&this.selectedItemList.splice(e,1);this.selectedItemList.length<1&&(this.editMode=!1)}else this.editMode=!0,this.$set(this.dataList[t],"selected",!0),this.selectedItemList.push(this.dataList[t])},onChooseFileType(t){this.showFileType=t,this.$nextTick(()=>{this.loadFirstPage()})},loadFirstPage(){this.dataList=[],this.hasMore=!0,this.clearSelect(),this.getFileList()},uploadClose(t){t||0<this.$refs.spaceUpload.uploadSucCount&&this.loadFirstPage()},onWindowResize(){this.calImageWidth()},calImageWidth(){var t=this.$refs.photoWrapper.getBoundingClientRect(),t=this.utils.calItemWidth(t,this.itemBaseWidth,this.itemMargin);t&&(this.itemWidth=t)},goPreviewImage(e){let i=[],s=0;for(let t=0;t<this.dataList.length;t++)"image"==this.dataList[t].file_type&&i.push({id:this.dataList[t].id,title:this.dataList[t].filename,type:1,url:this.dataList[t].rawUrl});for(let t=0;t<i.length;t++)if(this.dataList[e].filename==i[t].title){s=t;break}this.showPhotoDetail=!0,this.$nextTick(()=>{this.$refs.photoDetailSpace.showImg(i,s)}),this.pushState()},goPreviewVideo(e){let i=[],s=0;for(let t=0;t<this.dataList.length;t++)"video"==this.dataList[t].file_type&&(this.dataList[t].filePath=l.a.encodePath(this.dataList[t].filename_enc),this.dataList[t].spaceToken=this.$store.state.privateSpace[this.spaceId],this.dataList[t].spaceId=this.spaceId,t==e&&(s=i.length),this.dataList[t].type=2,i.push(this.dataList[t]));"1"==localStorage.getItem("rawPlayer")||this.isIosSupportRawPlayer()?n.a.playVideo({playIndex:s,playList:i,token:this.$store.state.token,fromFileBrower:!1,serverType:"photo"}):(this.showVideoDetail=!0,setTimeout(()=>{this.$refs.videoPlayer.playVideo(i,s)},500),this.pushState())},clickFile(t){this.editMode?this.hoverSelect(t):"image"==this.dataList[t].file_type?this.goPreviewImage(t):"video"==this.dataList[t].file_type?this.goPreviewVideo(t):window.open(this.dataList[t].rawUrl,"_blank")},onPageScroll(t){this.showPhotoDetail||this.showVideoDetail||this.loading||(this.$refs.scrollBar&&this.$refs.scrollBar.onScroll(t),this.longPressTimeout&&(clearTimeout(this.longPressTimeout),this.longPressTimeout=null),this.dealOnPageScroll(t,()=>{this.getFileList(!0)},t=>{}))},uploadFiles(){if(this.isFromApp&&n.a)n.a.onClickSpaceUpload(parseInt(this.spaceId),this.$store.state.privateSpace[this.spaceId]);else{for(var t in this.selectedItemList=[],this.editMode=!1,this.dataList)this.dataList[t].selected=!1;this.showUploadModal=!0}},getFileList(a){!this.loading&&this.hasMore&&(this.loading=!0,this.api.post("/api/privateSpaceApi/getFileList",{fileType:this.showFileType,count:this.pageCount,offsetCount:this.dataList.length,spaceId:this.spaceId,spaceToken:this.$store.state.privateSpace[this.spaceId],orderField:this.orderField,orderType:this.orderType}).then(t=>{if(!t.code){for(var e in t.data){var i=t.data[e];t.data[e].filename=r.a.decode(t.data[e].filename),t.data[e].tiny_path&&"undefined"!=t.data[e].tiny_path?t.data[e].tinyUrl=l.a.getPrivateSpaceFileUrl(this.spaceId,this.$store.state.privateSpace[this.spaceId],i.filename,"tiny",i.id):"image"==t.data[e].file_type?t.data[e].tinyUrl=o("3489"):"video"==t.data[e].file_type&&(t.data[e].tinyUrl=o("8608")),t.data[e].stream_info&&(t.data[e].stream_info=JSON.parse(t.data[e].stream_info)),t.data[e].rawUrl=l.a.getPrivateSpaceFileUrl(this.spaceId,this.$store.state.privateSpace[this.spaceId],i.filename,"raw",i.id)}if(t.data.length<this.pageCount&&(this.hasMore=!1),a)for(var s=0;s<t.data.length;s++)this.dataList.push(t.data[s]);else this.dataList=t.data,this.$nextTick(()=>{setTimeout(()=>{this.calImageWidth()},300)})}setTimeout(()=>{this.loading=!1},500)}).catch(t=>{this.loading=!1}))}}},i=(o("0cb3"),o("2877")),s=Object(i.a)(d,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"root-wrapper-space-detail",on:{mouseleave:s.onMouseLeaveRoot}},[a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"album-detail-header"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("Button",{staticStyle:{"flex-shrink":"0"},attrs:{type:"primary",shape:"circle",icon:"ios-arrow-back"},on:{click:s.goBack}}),a("div",{staticStyle:{"font-size":"18px","font-weight":"bold",height:"100%","margin-left":"20px",display:"flex","align-items":"center"}},[a("p",{staticStyle:{"margin-right":"20px"}},[s._v(s._s(s.selectedSpace?s.selectedSpace.space_name:"")+" ")]),a("p",{staticClass:"max-line-one",staticStyle:{"word-break":"break-all"}},[s._v(s._s(s.$t("private.spaceFolder"))+":"+s._s(s.selectedSpace?s.selectedSpace.folder_path:""))])])],1)]),a("div",{staticClass:"album-detail-content"},[a("div",{staticClass:"content-root"},[a("div",{staticClass:"list-top-root"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("Poptip",{attrs:{placement:"bottom"},scopedSlots:s._u([{key:"content",fn:function(){return[a("div",{staticClass:"zoom-slider-title"},[s._v(s._s(s.$t("imageSize")))]),a("Slider",{staticClass:"zoom-slider",attrs:{"show-tip":"never",min:s.sliderMin,max:s.sliderMax,step:10},on:{"on-input":s.onSizeChange},model:{value:s.sliderValue,callback:function(t){s.sliderValue=t},expression:"sliderValue"}}),a("div",{staticClass:"sort-root"},[a("div",[s._v(s._s(s.$t("type")))]),a("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":s.onChooseFileType},model:{value:s.showFileType,callback:function(t){s.showFileType=t},expression:"showFileType"}},s._l(s.typeMenuOptionList,function(t){return a("Radio",{attrs:{label:t.id}},[a("span",[s._v(s._s(t.title))])])}),1)],1)]},proxy:!0}])},[a("span",{staticClass:"nasIcons icon-filter operation-icon"})]),a("Poptip",{attrs:{placement:"bottom"},scopedSlots:s._u([{key:"content",fn:function(){return[a("div",{staticClass:"sort-root"},[a("div",[s._v(s._s(s.$t("common.sortField")))]),a("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":s.clickOrder},model:{value:s.orderField,callback:function(t){s.orderField=t},expression:"orderField"}},s._l(s.orderMenuOptionList,function(t){return a("Radio",{attrs:{label:t.id}},[a("span",[s._v(s._s(t.title))])])}),1),a("div",{staticStyle:{"margin-top":"15px"}},[s._v(s._s(s.$t("common.sortType")))]),a("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":s.clickOrder},model:{value:s.orderType,callback:function(t){s.orderType=t},expression:"orderType"}},[a("Radio",{attrs:{label:"asc"}},[a("span",[s._v(s._s(s.$t("common.asc")))])]),a("Radio",{attrs:{label:"desc"}},[a("span",[s._v(s._s(s.$t("common.desc")))])])],1)],1)]},proxy:!0}])},["asc"==s.orderType?a("span",{staticClass:"nasIcons icon-sort-alpha-up operation-icon"}):s._e(),"desc"==s.orderType?a("span",{staticClass:"nasIcons icon-sort-alpha-down-alt operation-icon"}):s._e()])],1),a("div",{staticClass:"private-header-mobile-none"},[a("div",{staticStyle:{display:"flex","align-items":"center","white-space":"nowrap"}},[a("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("private.uploadFile")}},[a("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{iIcon:"md-cloud-upload"},on:{click:function(t){return s.uploadFiles()}}})],1),a("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("common.refresh")}},[a("my-btn-icon",{attrs:{iIcon:"md-refresh"},on:{click:function(t){return s.loadFirstPage()}}})],1)],1)]),a("div",{staticClass:"private-header-mobile-show"},[a("div",{staticStyle:{display:"flex","align-items":"center","white-space":"nowrap"}},[a("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{iIcon:"md-cloud-upload"},on:{click:function(t){return s.uploadFiles()}}}),a("my-btn-icon",{attrs:{iIcon:"md-sync"},on:{click:function(t){return s.loadFirstPage()}}})],1)])]),a("div",{staticClass:"list-content-root"},[a("div",{ref:"photoWrapper",staticClass:"file-list",on:{scroll:s.onPageScroll}},[s._l(s.dataList,function(e,i){return a("div",{key:e.id,style:{margin:s.itemMargin+"px",width:s.itemWidth+"px"},on:{contextmenu:function(t){return s.showRightMenu(t,s.$root,e,i)},mouseenter:function(t){return s.mouseEnterImg(i)},mouseleave:function(t){return s.mouseLeaveImg(i)},touchstart:function(t){return s.touchstart(i)},touchend:s.touchend,mousedown:function(t){return s.onMouseDown(t,i)},mouseup:function(t){return s.onMouseUp(i)}}},[a("div",{staticClass:"item-folder",on:{click:function(t){return s.clickFile(i)}}},[a("div",{staticClass:"item-image-root"},["image"==e.file_type?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.tinyUrl,expression:"file.tinyUrl"}],staticClass:"item-img",style:{width:s.itemWidth+"px",height:s.itemWidth+"px"},on:{dragstart:function(t){t.preventDefault()}}}):s._e(),"video"==e.file_type?a("div",{staticClass:"item-image-root",staticStyle:{position:"relative"}},[a("img",{staticClass:"item-img",style:{width:s.itemWidth+"px",height:s.itemWidth+"px"},attrs:{src:e.tinyUrl},on:{dragstart:function(t){t.preventDefault()}}}),a("div",{staticClass:"icon-play-root"},[a("span",{staticClass:"nasIcons icon-play",staticStyle:{color:"white","font-size":"30px"}}),a("p",{staticClass:"icon-duration"},[s._v(s._s(s.utils.formatSeconds(e.duration))+" ")])])]):s._e(),"other"==e.file_type?a("img",{staticClass:"item-img",style:{width:s.itemWidth+"px",height:s.itemWidth+"px"},attrs:{src:o("8b5e")},on:{dragstart:function(t){t.preventDefault()}}}):s._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hover&&!e.selected,expression:"file.hover && !file.selected"}],staticClass:"photo-hover-mask"},[a("span",{staticClass:"photo-select-icon-hover nasIcons icon-radio-unchecked",on:{click:function(t){return t.stopPropagation(),s.hoverSelect(i)}}})]),e.selected?a("div",{staticClass:"photo-select-mask"},[a("span",{staticClass:"photo-select-icon-hover nasIcons icon-radio-checked"})]):s._e()]),a("p",{staticClass:"filename",staticStyle:{width:"100%","margin-top":"5px","word-break":"break-all","text-align":"center"}},[s._v(" "+s._s(e.filename)+" ")])])])}),a("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%","flex-direction":"column","align-items":"center"}},[s.hasMore&&0<s.dataList.length?a("Button",{staticStyle:{width:"500px","margin-top":"30px",height:"45px","border-radius":"20px"},attrs:{type:"default"},on:{click:function(t){return s.loadNextPage()}}},[s._v(s._s(s.$t("common.loadmore")))]):s._e(),s.loading?a("Spin",{staticStyle:{"margin-top":"30px"},attrs:{size:"large"}}):s._e(),s.loading||s.hasMore?s._e():a("span",{staticStyle:{"margin-top":"30px"}},[s._v(s._s(s.$t("common.noMore")))]),a("div",{staticStyle:{height:"160px"}})],1)],2)])]),0<s.selectedItemList.length?a("div",{staticClass:"bottom-root"},[a("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("common.delete")}},[a("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"red",iIcon:"md-trash"},on:{click:function(t){return s.deleteSelectFiles()}}})],1),a("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("common.download")}},[a("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"whtie",iIcon:"md-download"},on:{click:function(t){return s.downloadSelectedList()}}})],1),a("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("common.cancel")}},[a("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"white",iIcon:"md-close"},on:{click:s.clearSelect}})],1)],1):s._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.showUploadModal,expression:"showUploadModal"}],staticClass:"upload-wrapper"},[a("Upload",{ref:"spaceUpload",attrs:{spaceId:s.spaceId},on:{onCloseUpload:function(t){s.showUploadModal=!1},fileUploaded:function(t){s.hasNewFileUploaded=!0}}})],1)]),a("Modal",{attrs:{fullscreen:"","footer-hide":"",closable:!1},model:{value:s.showVideoDetail,callback:function(t){s.showVideoDetail=t},expression:"showVideoDetail"}},[s.showVideoDetail?a("video-detail",{ref:"videoPlayer",attrs:{propsServerType:"photo",fromFileBrower:!1},on:{onClose:function(t){s.showVideoDetail=!1}}}):s._e()],1),s.isMobile?s._e():a("easy-cm",{attrs:{list:s.rightMenuList,tag:"detail"},on:{ecmcb:s.rightMenuClick}}),s.showPhotoDetail||s.showVideoDetail?s._e():a("my-scroll-bar",{ref:"scrollBar"}),s.showPhotoDetail?a("photo-detail",{ref:"photoDetailSpace",attrs:{fromSpace:!0,enableExif:!1,enableRemove:!0},on:{onClickDelete:s.onPhotoViewerClickDelete,onClose:function(t){s.showPhotoDetail=!1}}}):s._e()],1)},[],!1,null,"77ad9d56",null);e.default=s.exports},e762:function(t,z,_){"use strict";!function(e){_.d(z,"a",function(){return X});function t(){var t=(t,e)=>Object.defineProperty(String.prototype,t,V(e));t("fromBase64",function(){return k(this)}),t("toBase64",function(t){return L(this,t)}),t("toBase64URI",function(){return L(this,!0)}),t("toBase64URL",function(){return L(this,!0)}),t("toUint8Array",function(){return R(this)})}function i(){var t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,V(e));t("toBase64",function(t){return y(this,t)}),t("toBase64URI",function(){return y(this,!0)}),t("toBase64URL",function(){return y(this,!0)})}const s="function"==typeof atob,a="function"==typeof btoa,o="function"==typeof e,l="function"==typeof TextDecoder?new TextDecoder:void 0,r="function"==typeof TextEncoder?new TextEncoder:void 0,n=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),d=(t=>{let i={};return t.forEach((t,e)=>i[t]=e),i})(n),c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),u=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),m=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),f=e=>{let i,s,a,o,l="";var t=e.length%3;for(let t=0;t<e.length;){if(255<(s=e.charCodeAt(t++))||255<(a=e.charCodeAt(t++))||255<(o=e.charCodeAt(t++)))throw new TypeError("invalid character found");i=s<<16|a<<8|o,l+=n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]}return t?l.slice(0,t-3)+"===".substring(t):l},g=a?t=>btoa(t):o?t=>e.from(t,"binary").toString("base64"):f,v=o?t=>e.from(t).toString("base64"):i=>{var s=[];for(let t=0,e=i.length;t<e;t+=4096)s.push(h.apply(null,i.subarray(t,t+4096)));return g(s.join(""))},y=(t,e=!1)=>e?u(v(t)):v(t),S=t=>{var e;return t.length<2?(e=t.charCodeAt(0))<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e):(e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320),h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|63&e))},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,A=t=>t.replace(w,S),b=o?t=>e.from(t,"utf8").toString("base64"):r?t=>v(r.encode(t)):t=>g(A(t)),L=(t,e=!1)=>e?u(b(t)):b(t),x=t=>L(t,!0),I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,C=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return h(55296+(e>>>10))+h(56320+(1023&e));case 3:return h((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return h((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},T=t=>t.replace(I,C),F=e=>{if(e=e.replace(/\s+/g,""),!c.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let i,s,a,o="";for(let t=0;t<e.length;)i=d[e.charAt(t++)]<<18|d[e.charAt(t++)]<<12|(s=d[e.charAt(t++)])<<6|(a=d[e.charAt(t++)]),o+=64===s?h(i>>16&255):64===a?h(i>>16&255,i>>8&255):h(i>>16&255,i>>8&255,255&i);return o},P=s?t=>atob(m(t)):o?t=>e.from(t,"base64").toString("binary"):F,D=o?t=>p(e.from(t,"base64")):t=>p(P(t).split("").map(t=>t.charCodeAt(0))),R=t=>D(U(t)),M=o?t=>e.from(t,"base64").toString("utf8"):l?t=>l.decode(D(t)):t=>T(P(t)),U=t=>m(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),k=t=>M(U(t)),V=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),X={version:"3.7.5",VERSION:"3.7.5",atob:P,atobPolyfill:F,btoa:g,btoaPolyfill:f,fromBase64:k,toBase64:L,encode:L,encodeURI:x,encodeURL:x,utob:A,btou:T,decode:k,isValid:t=>{return"string"==typeof t&&(t=t.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t))},fromUint8Array:y,toUint8Array:R,extendString:t,extendUint8Array:i,extendBuiltins:()=>{t(),i()}}}.call(this,_("b639").Buffer)},eafe:function(t,e,i){}}]);