(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-af491a4a"],{3489:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvCAMAAAC8TH5HAAAA81BMVEUAAAC8Rje/QDDdoJnbnpa7RjbamZK7Rje7Rja7Rja7RTe5RjS7RjfYlIzYk4q8RjbWj4a7RjfVjITTioDKUVHcoJi6Rje7Rje7RjbbnJTam5PZl4/Zlo3YkonYkonXkYjWj4bVjoS7Rje7RTfVjIPVi4LTin67RjfTiX+6RTbUhn69RzjThn3RiX7Wg3fSgHfbnZXZmZC7RjfZmI/Vi4HZmI+8Rje6Rje7Rji8RTfUjYW8RjfSi4G6RTfSiHvWioC4RzW7Rjf////do5vu0c3MdGnQf3XWjoXVi4LPfHHLcWXJa1/GZFfDWk2/UUO9Sz3Xk4qUxAlnAAAAQXRSTlMAyRD38OTdxrVhURzpwLaamZJ+Wgb9/fTq5+LMx66ooY2HeXNvaU5KR0Q4NCkhFQ7p1tbU08/Nq4B9d2phXD4yK7ZnvsIAAALsSURBVHja7d3nbpxQEIZhki3uvffuuDu9tznfORvbcezc/9VkLUdo7IXds16QZ5J5fyHBj0cwAiEQJFkNjr2dp5J6PZ0U3FaNSqyxVKz28AmVWgMjRXKfzVG5NYDR4rj7VFLci9WiuEPDVFbci/GCvO+ovLgX68UML5UZ92KyCG8/lRr3YruA6aWS415M9ez9QmXHvZXdXr0TVHbci+qBgvFlXiwc9ebto/LjXtRPevI+odZK9eKVMi+WlXkxosyLFWVerCnzYlyZFxvKvPiozIsdZd6ZKV1eVPZ0eVH9psuLxWNdXtRPdXnxRpkXy8q8GFXmxYoyL9aUebGuzItJZV5sK/PiszJvZVeXF9Wvurx4fiTHe46IFk/EeC8Q0wsx3ktEtSTFe4W4RoR46TfiGhXivUBkqzK814htXISXAmLbEOG9nkFskxK89BPR7UjwUkB0UxK8XYArexK8XYxE9UCCl36dIbKFYwnepvgccdVPRXibXV2GxtmPjtWleGN7al6eec3LM695eeY1L8+85uWZ17w885qXZ17z8sxrXp55zcszr3l5ArzhwVFG5XvhHpinNPNSmnmJzEusLK9HNz2+N1A3mde8Ir3wDqCWpHq9u6kVLNTb5DI8S6Y35F4JhHtB9/IivZTn9S6I9MLdlrGFSO/tsg8ZG0Ckt1mg+6XnjCDRm7Peee+dV+CFS9PgDY4n3+vuFKR7ocsLdzfI9MKDDS/Li/R65xxuF+4n0ftXCYLT4PXpwXetBXFeplTgDa59XpY3OFXe4Domyus7FyR52yTz/iIv85qXZ97/7fmFec1rXvMSmZfIvJRmXiLzUpp5icxLuQX/wEDtsvcRRWTeO5nXvDzzmpdnXvPyzPtvePtJaNPZ3jGSWS3J7hPJrD/H+51ktiXjA2jRDeV5B0hiY+3+SCWvuaF87yHJa+AGpmciPiSJJvBm0qH9lySn2mDSuc0ayWj+/XQS1eBE3/AsPWazw30Tmfv2DxI88nHIbRDHAAAAAElFTkSuQmCC"},8169:function(t,e,i){i("8f97")},8608:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvCAMAAAC8TH5HAAAA51BMVEUAAACOTJ+PUJ+QWqaOTJ6OTJ6emraOTJ6ahK+OS56Zga6PS56XeKuVb6iNTJ6OTJ6OTJ2ckbObjLKOS56birKOTJ6PTZ2WcaqOTJ2QX6aKTqCdl7WclLSelrSdkrObirGcjrOOTJ6ahK+birGZgq6XdquYf62OS56PS5+NTJ6QX6aXcKqOSp2QW6WPTJ6ZhbCYeKyXfKyOS5+OS52ZfKyNTJ+OTJ7///+hqLpxOYV/QpHHps+aha/j0uebk7Oqebago7iHR5ifnreQdaWPaqOCSpSYg66Ue6qVdaqJX56IVJuaj7F4PosMo5bqAAAANnRSTlMAyRAK08X+6b+0sal+Vj0w/PHp4NeajWtTJhP8+fbp4uDbzcuhkpB+YVdAPTQY9dijonpzaUre3gOPAAADMklEQVR42u3diU7bQBDGcUpCCGlCue+rXG2h9O54SDA5OAq07/88TVRV2krrZEf2yt+U+T/BT6vNKLYszZSv92/mlhcoTkuVqYLbmKGIXe0Vq916SVG74oMiua9ekyy5l1cK5M6KAXIvHxXFrVRJntzL9YK8q+QpgpcbhXDnyVMULx8X4fWMhlhePs3PnSZPsbzczO19R56ieXvf8nrXyFM0Lw9aOb1z5Cmel2vn+bwz5Cmil3c3c3lfkKeYXl6s6PLynjIvHyjz8ooyLx8p83JdmZcbyrx8rMzLp8q83FTm7a3r8vKgpcvL2+e6vLy7qcvLi1u6vLxU0eXlfWVeXlHm5UNlXq4r83JDmZc/K/PyiTJvr6nLy4N1XV6utXC89xzQ9hmM94FD2tlE8d5yUIsXIN4nDmupguHt1zisfQwvPXBgHzG8dxzaIYS3/4NDqyN46a7HoTUQvP1bDu4TgJf6NxzcCYCX2uHgXhPAS+3wKzFYB/BS++maA6u1ALzU//UYOteuzwC8RO3Ly7vHm/uf1xPbuUDwjsSBTWN4h+K2Lu+IHBCSNyTz/pN5zetmXvO6mde8buY1r5t5zetmXvO6mde8buY1r5t5/2dvN006VFZybycZ1SmFLPcOuX8rQyz3pklSvljgHTLLF4u8AOJwbzdJAMQiL4BY5AUQh3uH4wxALPP6S4PFGN7wI0bxhopxvEnaJUnxvekQVf4Ri7wAYokXASz25rrFcN4JRwzoDQTH9w4pAGKBFwIs8EKABV5R/jmB603IF7A3JU/AXu8Bm/fZ3gfvSMP1+rmw3ozxC+pNs7iYXoz/O2npd0HqzT/H8Lzj7wKad9IPDcyr63k+4HCRvGjvozoFjAUUb+hVAPFCvq/uAmhl3vxXoXRvDm10L4BW5AXQSrwEoBV50/K1Im+3fK3we5jStTIvdTr5sfY9l3nNa94/mde8buY1r5t5zetmXvO6mTdrfwtolaz9OJh9yNw/hFk1c78TZquZ+7Mw28jeT4bY7Jj9b4h9GbdfD6/q+P2FcM1P2A8J1tuJ+zehcrj+tpCGRHW+9P2xgpa/en3y/bzxW5idWfvuo/0GvSG/F2rmG/EAAAAASUVORK5CYII="},"8f97":function(t,e,i){},ceeb:function(t,e,n){n.r(e);n("d81d"),n("14d9"),n("a434"),n("e9f5"),n("ab43"),n("e9c4"),n("b64b"),n("d3b7"),n("e25e");var i=n("25a9"),r=n("be3b"),a=n("5d55"),s=n("d3ac"),l=n("e762"),o=n("2cc5"),c=n("c220"),c={watch:{showUploadModal:function(t,e){t||this.uploadClose()}},props:{propsSelectedSpace:{default:null,type:Object}},data:function(){return{selectedFile:null,selectedIndex:-1,rightMenuList:[],isInDragSelectMode:!1,dragStartIndex:0,dragEndIndex:0,dragSelectMode:!0,openAsPage:!1,spaceId:"",selectedSpace:{},hasNewFileUploaded:!1,typeMenuOptionList:[{title:this.$t("photo.all"),id:"all"},{title:this.$t("photo.photo"),id:"image"},{title:this.$t("photo.video"),id:"video"},{title:this.$t("common.other"),id:"other"}],orderMenuOptionList:[{title:this.$t("file.recent"),id:"check_time"},{title:this.$t("movie.createTime"),id:"create_time"},{title:this.$t("private.shootTime"),id:"original_time"}],selectedItemList:[],editMode:!1,showFileType:"all",itemBaseWidth:160,itemWidth:160,itemMargin:5,sliderMin:160,sliderMax:400,sliderValue:160,lastSliderValue:0,pageCount:100,showUploadModal:!1,dataList:[],orderField:"check_time",orderType:"desc",loading:!1,hasMore:!0,showPhotoDetail:!1,showVideoDetail:!1,scrollTop:0,longPressTimeout:null}},components:{myScrollBar:c.a,Upload:i.a,videoDetail:a.default,photoDetail:s.default},mounted:function(){var t=this.$route.params;this.propsSelectedSpace?(this.spaceId=this.propsSelectedSpace.id+"",this.selectedSpace=this.propsSelectedSpace):(this.openAsPage=!0,this.spaceId=t.selectedSpace.id+"",this.selectedSpace=t.selectedSpace),this.$store.state.privateSpace[this.spaceId]?this.getFileList(!1):this.showVsAlertDialog(this.$t("common.alert"),this.$t("private.passwordInvalid")),window.addEventListener("resize",this.onWindowResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onWindowResize)},methods:{showRightMenu:function(t,e,i,a){if(this.isMobile)return t.preventDefault();i.selected||this.clearSelect(),this.initRightMenu(i),this.selectedFile=i,this.selectedIndex=a,this.$easycm(t,e,"detail")},rightMenuClick:function(t){"DOWNLOAD"==this.rightMenuList[t[0]].type&&(this.selectedItemList.push(this.selectedFile),this.downloadSelectedList())},initRightMenu:function(t){this.rightMenuList=[],t.selected||this.rightMenuList.push({text:this.$t("common.download"),type:"DOWNLOAD"})},goBack:function(){this.openAsPage?this.$router.go(-1):this.$emit("onClose")},onSizeChange:function(t){this.lastSliderValue!=t&&(this.lastSliderValue=t,this.itemBaseWidth=t,this.calImageWidth())},onMouseDown:function(t,e){t&&1==t.buttons&&(this.isInDragSelectMode=!0,this.dragSelectMode=!this.dataList[e].selected,this.dragStartIndex=e)},onMouseUp:function(t){this.isInDragSelectMode=!1},onMouseLeaveRoot:function(){this.isInDragSelectMode=!1},mouseEnterImg:function(t){this.isInDragSelectMode?(this.dragEndIndex=t,this.setDragRange()):this.isMobile||this.$set(this.dataList[t],"hover",!0)},mouseLeaveImg:function(t){this.isMobile||(this.dataList[t].hover=!1)},setDragRange:function(){for(var t=this.dragStartIndex>this.dragEndIndex?this.dragEndIndex:this.dragStartIndex,e=this.dragStartIndex>this.dragEndIndex?this.dragStartIndex:this.dragEndIndex,i=t;i<=e;i++)this.dragSelectMode?this.dataList[i].selected||this.hoverSelect(i):this.dataList[i].selected&&this.hoverSelect(i)},touchstart:function(t){var e=this;clearTimeout(this.longPressTimeout),this.longPressTimeout=setTimeout(function(){e.hoverSelect(t)},800)},touchend:function(){clearTimeout(this.longPressTimeout)},clickOrder:function(){this.loadFirstPage()},onUploadDialogVisibleChange:function(t){t||this.hasNewFileUploaded&&this.loadFirstPage()},clearSelect:function(){for(var t in this.isInDragSelectMode=!1,this.editMode=!1,this.dataList)this.dataList[t].selected=!1;this.selectedItemList=[]},downloadSelectedList:function(){if(!(this.selectedItemList.length<1)){var t,e=[];for(t in this.selectedItemList,this.selectedItemList)this.selectedItemList[t].rawUrl&&e.push(this.selectedItemList[t].rawUrl);var i=this;1<this.selectedItemList.length?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.multiDownloadAlert"),function(){a()}):a()}function a(){i.downloadFile(e),i.clearSelect()}},onPhotoViewerClickDelete:function(t){var e=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("private.fileWillDeleteForever"),function(){e.deleteApi([t])})},deleteSelectFiles:function(){var e=this;this.selectedItemList.length<1||this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("private.fileWillDeleteForever"),function(){var t=e.selectedItemList.map(function(t){return t.id});e.deleteApi(t)})},deleteApi:function(t){var a=this;this.api.post("/api/privateSpaceApi/deleteSpaceFiles",{spaceId:this.spaceId,ids:JSON.stringify(t)}).then(function(t){if(!t.code){if(a.showVsNotification(t.deleteCount+a.$t("file.fileDeleteSuc")),a.selectedItemList=[],a.editMode=!1,t.deleteList&&0<t.deleteList.length)for(var e in t.deleteList)for(var i in t.deleteList[e],a.dataList)if(t.deleteList[e]==a.dataList[i].id){a.dataList[i].id,a.dataList.splice(i,1);break}a.calImageWidth()}}).catch(function(t){})},hoverSelect:function(t){if(this.dataList[t].selected){for(var e in this.$set(this.dataList[t],"selected",!1),this.selectedItemList)this.selectedItemList[e].id==this.dataList[t].id&&this.selectedItemList.splice(e,1);this.selectedItemList.length<1&&(this.editMode=!1)}else this.editMode=!0,this.$set(this.dataList[t],"selected",!0),this.selectedItemList.push(this.dataList[t])},onChooseFileType:function(t){var e=this;this.showFileType=t,this.$nextTick(function(){e.loadFirstPage()})},loadFirstPage:function(){this.dataList=[],this.hasMore=!0,this.clearSelect(),this.getFileList()},uploadClose:function(t){t||0<this.$refs.spaceUpload.uploadSucCount&&this.loadFirstPage()},onWindowResize:function(){this.calImageWidth()},calImageWidth:function(){var t=this.$refs.photoWrapper.getBoundingClientRect(),t=this.utils.calItemWidth(t,this.itemBaseWidth,this.itemMargin);t&&(this.itemWidth=t)},goPreviewImage:function(t){for(var e=this,i=[],a=0,s=0;s<this.dataList.length;s++)"image"==this.dataList[s].file_type&&i.push({id:this.dataList[s].id,title:this.dataList[s].filename,type:1,url:this.dataList[s].rawUrl});for(var o=0;o<i.length;o++)if(this.dataList[t].filename==i[o].title){a=o;break}this.showPhotoDetail=!0,this.$nextTick(function(){e.$refs.photoDetailSpace.showImg(i,a)})},goPreviewVideo:function(t){var e=this;this.dataList;for(var i=[],a=0,s=0;s<this.dataList.length;s++)"video"==this.dataList[s].file_type&&(this.dataList[s].filePath=r.a.encodePath(this.dataList[s].filename_enc),this.dataList[s].spaceToken=this.$store.state.privateSpace[this.spaceId],this.dataList[s].spaceId=this.spaceId,s==t&&(a=i.length),this.dataList[s].type=2,i.push(this.dataList[s]));"1"==localStorage.getItem("rawPlayer")||this.isIosSupportRawPlayer()?o.a.playVideo({playIndex:a,playList:i,token:this.$store.state.token,fromFileBrower:!1,serverType:"photo"}):(this.showVideoDetail=!0,this.addModalToList(this.$refs.refModalVideoDetail),setTimeout(function(){e.$refs.videoPlayer.playVideo(i,a)},500))},clickFile:function(t){this.editMode?this.hoverSelect(t):"image"==this.dataList[t].file_type?this.goPreviewImage(t):"video"==this.dataList[t].file_type?this.goPreviewVideo(t):window.open(this.dataList[t].rawUrl,"_blank")},onPageScroll:function(t){var e=this;this.showPhotoDetail||this.showVideoDetail||this.loading||(this.$refs.scrollBar&&this.$refs.scrollBar.onScroll(t),this.longPressTimeout&&(clearTimeout(this.longPressTimeout),this.longPressTimeout=null),this.dealOnPageScroll(t,function(){e.getFileList(!0)},function(t){}))},uploadFiles:function(){if(this.isFromApp&&o.a)o.a.onClickSpaceUpload(parseInt(this.spaceId),this.$store.state.privateSpace[this.spaceId]);else{for(var t in this.selectedItemList=[],this.editMode=!1,this.dataList)this.dataList[t].selected=!1;this.showUploadModal=!0}},getFileList:function(s){var o=this;!this.loading&&this.hasMore&&(this.loading=!0,this.api.post("/api/privateSpaceApi/getFileList",{fileType:this.showFileType,count:this.pageCount,offsetCount:this.dataList.length,spaceId:this.spaceId,spaceToken:this.$store.state.privateSpace[this.spaceId],orderField:this.orderField,orderType:this.orderType}).then(function(t){if(!t.code){for(var e in t.data){var i=t.data[e];t.data[e].filename=l.a.decode(t.data[e].filename),t.data[e].tiny_path&&"undefined"!=t.data[e].tiny_path?t.data[e].tinyUrl=r.a.getPrivateSpaceFileUrl(o.spaceId,o.$store.state.privateSpace[o.spaceId],i.filename,"tiny",i.id):"image"==t.data[e].file_type?t.data[e].tinyUrl=n("3489"):"video"==t.data[e].file_type&&(t.data[e].tinyUrl=n("8608")),t.data[e].stream_info&&(t.data[e].stream_info=JSON.parse(t.data[e].stream_info)),t.data[e].rawUrl=r.a.getPrivateSpaceFileUrl(o.spaceId,o.$store.state.privateSpace[o.spaceId],i.filename,"raw",i.id)}if(t.data.length<o.pageCount&&(o.hasMore=!1),s)for(var a=0;a<t.data.length;a++)o.dataList.push(t.data[a]);else o.dataList=t.data,o.$nextTick(function(){setTimeout(function(){o.calImageWidth()},300)})}setTimeout(function(){o.loading=!1},500)}).catch(function(t){o.loading=!1}))}}},i=(n("8169"),n("2877")),a=Object(i.a)(c,function(){var a=this,s=a._self._c;return s("div",{staticClass:"root-wrapper-space-detail",on:{mouseleave:a.onMouseLeaveRoot}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("div",{staticClass:"album-detail-header"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("Button",{staticStyle:{"flex-shrink":"0"},attrs:{type:"primary",shape:"circle",icon:"ios-arrow-back"},on:{click:a.goBack}}),s("div",{staticStyle:{"font-size":"18px","font-weight":"bold",height:"100%","margin-left":"20px",display:"flex","align-items":"center"}},[s("p",{staticStyle:{"margin-right":"20px"}},[a._v(a._s(a.selectedSpace?a.selectedSpace.space_name:"")+" ")]),s("p",{staticClass:"max-line-one",staticStyle:{"word-break":"break-all"}},[a._v(a._s(a.$t("private.spaceFolder"))+":"+a._s(a.selectedSpace?a.selectedSpace.folder_path:""))])])],1)]),s("div",{staticClass:"album-detail-content"},[s("div",{staticClass:"content-root"},[s("div",{staticClass:"list-top-root"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("Poptip",{attrs:{placement:"bottom"},scopedSlots:a._u([{key:"content",fn:function(){return[s("div",{staticClass:"zoom-slider-title"},[a._v(a._s(a.$t("imageSize")))]),s("Slider",{staticClass:"zoom-slider",attrs:{"show-tip":"never",min:a.sliderMin,max:a.sliderMax,step:10},on:{"on-input":a.onSizeChange},model:{value:a.sliderValue,callback:function(t){a.sliderValue=t},expression:"sliderValue"}}),s("div",{staticClass:"sort-root"},[s("div",[a._v(a._s(a.$t("type")))]),s("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":a.onChooseFileType},model:{value:a.showFileType,callback:function(t){a.showFileType=t},expression:"showFileType"}},a._l(a.typeMenuOptionList,function(t){return s("Radio",{attrs:{label:t.id}},[s("span",[a._v(a._s(t.title))])])}),1)],1)]},proxy:!0}])},[s("span",{staticClass:"nasIcons icon-filter operation-icon"})]),s("Poptip",{attrs:{placement:"bottom"},scopedSlots:a._u([{key:"content",fn:function(){return[s("div",{staticClass:"sort-root"},[s("div",[a._v(a._s(a.$t("common.sortField")))]),s("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":a.clickOrder},model:{value:a.orderField,callback:function(t){a.orderField=t},expression:"orderField"}},a._l(a.orderMenuOptionList,function(t){return s("Radio",{attrs:{label:t.id}},[s("span",[a._v(a._s(t.title))])])}),1),s("div",{staticStyle:{"margin-top":"15px"}},[a._v(a._s(a.$t("common.sortType")))]),s("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":a.clickOrder},model:{value:a.orderType,callback:function(t){a.orderType=t},expression:"orderType"}},[s("Radio",{attrs:{label:"asc"}},[s("span",[a._v(a._s(a.$t("common.asc")))])]),s("Radio",{attrs:{label:"desc"}},[s("span",[a._v(a._s(a.$t("common.desc")))])])],1)],1)]},proxy:!0}])},["asc"==a.orderType?s("span",{staticClass:"nasIcons icon-sort-alpha-up operation-icon"}):a._e(),"desc"==a.orderType?s("span",{staticClass:"nasIcons icon-sort-alpha-down-alt operation-icon"}):a._e()])],1),s("div",{staticClass:"private-header-mobile-none"},[s("div",{staticStyle:{display:"flex","align-items":"center","white-space":"nowrap"}},[s("Tooltip",{attrs:{disabled:a.isMobile,content:a.$t("private.uploadFile")}},[s("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{iIcon:"md-cloud-upload"},on:{click:function(t){return a.uploadFiles()}}})],1),s("Tooltip",{attrs:{disabled:a.isMobile,content:a.$t("common.refresh")}},[s("my-btn-icon",{attrs:{iIcon:"md-refresh"},on:{click:function(t){return a.loadFirstPage()}}})],1)],1)]),s("div",{staticClass:"private-header-mobile-show"},[s("div",{staticStyle:{display:"flex","align-items":"center","white-space":"nowrap"}},[s("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{iIcon:"md-cloud-upload"},on:{click:function(t){return a.uploadFiles()}}}),s("my-btn-icon",{attrs:{iIcon:"md-sync"},on:{click:function(t){return a.loadFirstPage()}}})],1)])]),s("div",{staticClass:"list-content-root"},[s("div",{ref:"photoWrapper",staticClass:"file-list",on:{scroll:a.onPageScroll}},[a._l(a.dataList,function(e,i){return s("div",{key:e.id,style:{margin:a.itemMargin+"px",width:a.itemWidth+"px"},on:{contextmenu:function(t){return a.showRightMenu(t,a.$root,e,i)},mouseenter:function(t){return a.mouseEnterImg(i)},mouseleave:function(t){return a.mouseLeaveImg(i)},touchstart:function(t){return a.touchstart(i)},touchend:a.touchend,mousedown:function(t){return a.onMouseDown(t,i)},mouseup:function(t){return a.onMouseUp(i)}}},[s("div",{staticClass:"item-folder",on:{click:function(t){return a.clickFile(i)}}},[s("div",{staticClass:"item-image-root"},["image"==e.file_type?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.tinyUrl,expression:"file.tinyUrl"}],staticClass:"item-img",style:{width:a.itemWidth+"px",height:a.itemWidth+"px"},on:{dragstart:function(t){t.preventDefault()}}}):a._e(),"video"==e.file_type?s("div",{staticClass:"item-image-root",staticStyle:{position:"relative"}},[s("img",{staticClass:"item-img",style:{width:a.itemWidth+"px",height:a.itemWidth+"px"},attrs:{src:e.tinyUrl},on:{dragstart:function(t){t.preventDefault()}}}),s("div",{staticClass:"icon-play-root"},[s("span",{staticClass:"nasIcons icon-play",staticStyle:{color:"white","font-size":"30px"}}),s("p",{staticClass:"icon-duration"},[a._v(a._s(a.utils.formatSeconds(e.duration))+" ")])])]):a._e(),"other"==e.file_type?s("img",{staticClass:"item-img",style:{width:a.itemWidth+"px",height:a.itemWidth+"px"},attrs:{src:n("8b5e")},on:{dragstart:function(t){t.preventDefault()}}}):a._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hover&&!e.selected,expression:"file.hover && !file.selected"}],staticClass:"photo-hover-mask"},[s("span",{staticClass:"photo-select-icon-hover nasIcons icon-radio-unchecked",on:{click:function(t){return t.stopPropagation(),a.hoverSelect(i)}}})]),e.selected?s("div",{staticClass:"photo-select-mask"},[s("span",{staticClass:"photo-select-icon-hover nasIcons icon-radio-checked"})]):a._e()]),s("p",{staticClass:"filename",staticStyle:{width:"100%","margin-top":"5px","word-break":"break-all","text-align":"center"}},[a._v(" "+a._s(e.filename)+" ")])])])}),s("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%","flex-direction":"column","align-items":"center"}},[a.hasMore&&0<a.dataList.length?s("Button",{staticStyle:{width:"500px","margin-top":"30px",height:"45px","border-radius":"20px"},attrs:{type:"default"},on:{click:function(t){return a.loadNextPage()}}},[a._v(a._s(a.$t("common.loadmore")))]):a._e(),a.loading?s("Spin",{staticStyle:{"margin-top":"30px"},attrs:{size:"large"}}):a._e(),a.loading||a.hasMore?a._e():s("span",{staticStyle:{"margin-top":"30px"}},[a._v(a._s(a.$t("common.noMore")))]),s("div",{staticStyle:{height:"160px"}})],1)],2)])]),0<a.selectedItemList.length?s("div",{staticClass:"bottom-root"},[s("Tooltip",{attrs:{disabled:a.isMobile,content:a.$t("common.delete")}},[s("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"red",iIcon:"md-trash"},on:{click:function(t){return a.deleteSelectFiles()}}})],1),s("Tooltip",{attrs:{disabled:a.isMobile,content:a.$t("common.download")}},[s("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"whtie",iIcon:"md-download"},on:{click:function(t){return a.downloadSelectedList()}}})],1),s("Tooltip",{attrs:{disabled:a.isMobile,content:a.$t("common.cancel")}},[s("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"white",iIcon:"md-close"},on:{click:a.clearSelect}})],1)],1):a._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:a.showUploadModal,expression:"showUploadModal"}],staticClass:"upload-wrapper"},[s("Upload",{ref:"spaceUpload",attrs:{spaceId:a.spaceId},on:{onCloseUpload:function(t){a.showUploadModal=!1},fileUploaded:function(t){a.hasNewFileUploaded=!0}}})],1)]),s("Modal",{ref:"refModalVideoDetail",attrs:{fullscreen:"","footer-hide":"",closable:!1},model:{value:a.showVideoDetail,callback:function(t){a.showVideoDetail=t},expression:"showVideoDetail"}},[a.showVideoDetail?s("video-detail",{ref:"videoPlayer",attrs:{propsServerType:"photo",fromFileBrower:!1},on:{onClose:function(t){return a.historyBack()}}}):a._e()],1),a.isMobile?a._e():s("easy-cm",{attrs:{list:a.rightMenuList,tag:"detail"},on:{ecmcb:a.rightMenuClick}}),a.showPhotoDetail||a.showVideoDetail?a._e():s("my-scroll-bar",{ref:"scrollBar"}),a.showPhotoDetail?s("photo-detail",{ref:"photoDetailSpace",attrs:{fromSpace:!0,enableExif:!1,enableRemove:!0},on:{onClickDelete:a.onPhotoViewerClickDelete,onClose:function(t){a.showPhotoDetail=!1}}}):a._e()],1)},[],!1,null,"98b5bd38",null);e.default=a.exports},e762:function(t,V,X){!function(e){X.d(V,"a",function(){return U});function t(){var t=(t,e)=>Object.defineProperty(String.prototype,t,k(e));t("fromBase64",function(){return D(this)}),t("toBase64",function(t){return b(this,t)}),t("toBase64URI",function(){return b(this,!0)}),t("toBase64URL",function(){return b(this,!0)}),t("toUint8Array",function(){return P(this)})}function i(){var t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,k(e));t("toBase64",function(t){return g(this,t)}),t("toBase64URI",function(){return g(this,!0)}),t("toBase64URL",function(){return g(this,!0)})}let a="function"==typeof e,s="function"==typeof TextDecoder?new TextDecoder:void 0,o="function"==typeof TextEncoder?new TextEncoder:void 0,r=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),n=(t=>{let i={};return t.forEach((t,e)=>i[t]=e),i})(r),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,c=String.fromCharCode.bind(String),d="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),h=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),p=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),u=e=>{let i,a,s,o,n="";var t=e.length%3;for(let t=0;t<e.length;){if(255<(a=e.charCodeAt(t++))||255<(s=e.charCodeAt(t++))||255<(o=e.charCodeAt(t++)))throw new TypeError("invalid character found");i=a<<16|s<<8|o,n+=r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]}return t?n.slice(0,t-3)+"===".substring(t):n},f="function"==typeof btoa?t=>btoa(t):a?t=>e.from(t,"binary").toString("base64"):u,m=a?t=>e.from(t).toString("base64"):i=>{var a=[];for(let t=0,e=i.length;t<e;t+=4096)a.push(c.apply(null,i.subarray(t,t+4096)));return f(a.join(""))},g=(t,e=!1)=>e?h(m(t)):m(t),v=t=>{var e;return t.length<2?(e=t.charCodeAt(0))<128?t:e<2048?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e):(e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320),c(240|e>>>18&7)+c(128|e>>>12&63)+c(128|e>>>6&63)+c(128|63&e))},y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=t=>t.replace(y,v),w=a?t=>e.from(t,"utf8").toString("base64"):o?t=>m(o.encode(t)):t=>f(S(t)),b=(t,e=!1)=>e?h(w(t)):w(t),A=t=>b(t,!0),L=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,x=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c(55296+(e>>>10))+c(56320+(1023&e));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},I=t=>t.replace(L,x),C=e=>{if(e=e.replace(/\s+/g,""),!l.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let i,a,s,o="";for(let t=0;t<e.length;)i=n[e.charAt(t++)]<<18|n[e.charAt(t++)]<<12|(a=n[e.charAt(t++)])<<6|(s=n[e.charAt(t++)]),o+=64===a?c(i>>16&255):64===s?c(i>>16&255,i>>8&255):c(i>>16&255,i>>8&255,255&i);return o},T="function"==typeof atob?t=>atob(p(t)):a?t=>e.from(t,"base64").toString("binary"):C,F=a?t=>d(e.from(t,"base64")):t=>d(T(t).split("").map(t=>t.charCodeAt(0))),P=t=>F(R(t)),M=a?t=>e.from(t,"base64").toString("utf8"):s?t=>s.decode(F(t)):t=>I(T(t)),R=t=>p(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),D=t=>M(R(t)),k=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),U={version:"3.7.7",VERSION:"3.7.7",atob:T,atobPolyfill:C,btoa:f,btoaPolyfill:u,fromBase64:D,toBase64:b,encode:b,encodeURI:A,encodeURL:A,utob:S,btou:I,decode:D,isValid:t=>"string"==typeof t&&(t=t.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)),fromUint8Array:g,toUint8Array:P,extendString:t,extendUint8Array:i,extendBuiltins:()=>{t(),i()}}}.call(this,X("b639").Buffer)}}]);