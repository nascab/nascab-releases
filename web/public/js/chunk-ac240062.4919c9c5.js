(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ac240062"],{"896a":function(t,e,o){"use strict";o("cfff")},"8fad":function(t,e,o){"use strict";o.r(e);var s={props:{propsGeoHash:{default:"",type:String},propsOrdinaryAlbumId:{default:"",type:String},propsAlbumId:{default:"",type:String},propsLibraryId:{default:"",type:String},propsNearMode:{default:!1,type:Boolean},propsShowRemoveFromAlbum:{default:!1,type:Boolean},propsShowAddToAlbum:{default:!1,type:Boolean},propsShowSearchBtn:{default:!1,type:Boolean},propsTitle:{default:"",type:String},propsShowModeSwitch:{default:!1,type:Boolean},propsShowDelete:{default:!1,type:Boolean},propsFaceId:{default:"",type:String},propsAiClassId:{default:"",type:String}},components:{photoTimelineContent:()=>Promise.all([o.e("chunk-1e8b375e"),o.e("chunk-31f9f2c4")]).then(o.bind(null,"cd79")),photoMap:()=>o.e("chunk-ddb87040").then(o.bind(null,"0bd4"))},data(){return{aiClassId:"",faceId:"",ordinaryAlbumId:"",showAddToAlbum:!1,dataMode:"list",showDelete:!1,showModeSwitch:!1,title:"",geoHash:"",albumId:"",nearMode:!1,showSearchBtn:!1,openAsPage:!1,showRemoveFromAlbum:!1,libraryId:""}},mounted(){var t=this.$route.params;this.propsAiClassId||this.propsFaceId||this.propsGeoHash||this.propsAlbumId||this.propsOrdinaryAlbumId||this.propsLibraryId?(this.title=this.propsTitle,this.geoHash=this.propsGeoHash,this.albumId=this.propsAlbumId,this.libraryId=this.propsLibraryId,this.nearMode=this.propsNearMode,this.showSearchBtn=this.propsShowSearchBtn,this.showModeSwitch=this.propsShowModeSwitch,this.showDelete=this.propsShowDelete,this.showAddToAlbum=this.propsShowAddToAlbum,this.ordinaryAlbumId=this.propsOrdinaryAlbumId,this.faceId=this.propsFaceId,this.aiClassId=this.propsAiClassId,this.showRemoveFromAlbum=this.propsShowRemoveFromAlbum):(this.openAsPage=!0,this.title=t.title,this.geoHash=t.geoHash,this.albumId=t.albumId,this.nearMode=t.nearMode,this.showSearchBtn=t.showSearchBtn,this.showModeSwitch=t.showModeSwitch,this.showDelete=t.showDelete,this.showAddToAlbum=t.showAddToAlbum,this.ordinaryAlbumId=t.ordinaryAlbumId,this.faceId=t.faceId,this.aiClassId=t.aiClassId,this.libraryId=t.propsLibraryId,this.showRemoveFromAlbum=t.showRemoveFromAlbum)},beforeDestroy(){},methods:{onClickAlbum(){this.openAsPage?this.deleteAlbum():this.$emit("onDelete")},deleteAlbum(){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("common.deleteSure"),()=>{let t="",e={};this.albumId?(t="/api/photoApi/deleteAlbum",e.id=this.albumId):this.ordinaryAlbumId&&(t="/api/ordinaryAlbumApi/deleteAlbum",e.id=this.ordinaryAlbumId),this.api.post(t,e).then(t=>{t.code||(this.showVsNotification(this.$t("common.deleteSuccess")),this.albumId?sessionStorage.setItem("albumDelete",this.albumId):this.ordinaryAlbumId&&sessionStorage.setItem("ordinaryAlbumDelete",this.ordinaryAlbumId),this.$router.go(-1))}).catch(t=>{})})},goBack(){this.openAsPage,this.openAsPage?this.$router.go(-1):this.$emit("onClose")}}},i=(o("896a"),o("2877")),i=Object(i.a)(s,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"album-detail-root"},[t("my-bg"),t("div",{staticStyle:{overflow:"hidden",width:"100%",height:"100%"}},[t("div",{staticClass:"album-detail-header"},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-arrow-back"},on:{click:e.goBack}}),!e.isMobile&&e.showModeSwitch?t("div",{staticStyle:{"margin-left":"15px","flex-shrink":"0"}},["list"==e.dataMode?t("Button",{attrs:{type:"primary",shape:"circle",icon:"md-map"},on:{click:function(t){e.dataMode="map"}}}):e._e(),"map"==e.dataMode?t("Button",{attrs:{type:"primary",shape:"circle",icon:"md-grid"},on:{click:function(t){e.dataMode="list"}}}):e._e()],1):e._e(),t("div",{staticClass:"max-line-one",staticStyle:{"font-size":"18px","font-weight":"bold",height:"100%","margin-left":"20px"}},[e._v(" "+e._s(e.title))])],1),e.showDelete?t("vs-button",{attrs:{danger:""},on:{click:e.deleteAlbum}},[e._v(" "+e._s(e.$t("photo.deleteAlbum"))+" ")]):e._e()],1),t("div",{staticClass:"album-detail-content"},[e.isMobile||"map"!=e.dataMode?e._e():t("photo-map",{attrs:{albumDetailInner:!0,ordinaryAlbumId:e.ordinaryAlbumId?e.ordinaryAlbumId+"":"",libraryId:e.libraryId?e.libraryId+"":"",albumId:e.albumId?e.albumId+"":""}}),"list"==e.dataMode?t("photo-timeline-content",{attrs:{nearMode:e.nearMode,showSearchBtn:e.showSearchBtn,showAddToAlbum:e.showAddToAlbum,geohash:e.geoHash||"",ordinaryAlbumId:e.ordinaryAlbumId?e.ordinaryAlbumId+"":"",libraryId:e.libraryId?e.libraryId+"":"",albumId:e.albumId?e.albumId+"":"",faceId:e.faceId?e.faceId+"":"",aiClassId:e.aiClassId?e.aiClassId+"":"",showRemoveFromAlbum:e.showRemoveFromAlbum}}):e._e()],1)])],1)},[],!1,null,"7a13f339",null);e.default=i.exports},cfff:function(t,e,o){}}]);