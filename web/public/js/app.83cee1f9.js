!function(l){function e(e){for(var t,i,s=e[0],n=e[1],r=e[2],a=0,o=[];a<s.length;a++)i=s[a],Object.prototype.hasOwnProperty.call(d,i)&&d[i]&&o.push(d[i][0]),d[i]=0;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(l[t]=n[t]);for(m&&m(e);o.length;)o.shift()();return u.push.apply(u,r||[]),c()}function c(){for(var e,t=0;t<u.length;t++){for(var i=u[t],s=!0,n=1;n<i.length;n++){var r=i[n];0!==d[r]&&(s=!1)}s&&(u.splice(t--,1),e=p(p.s=i[0]))}return e}var i={},h={app:0},d={app:0},u=[];function p(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},l[e].call(t.exports,t,t.exports,p),t.l=!0,t)).exports}p.e=function(u){var s,n,e,r,t,i=[],a=(h[u]?i.push(h[u]):0!==h[u]&&{"chunk-0618d39e":1,"chunk-08d0d107":1,"chunk-0bbd4df2":1,"chunk-159793b0":1,"chunk-5c918488":1,"chunk-4e886eb8":1,"chunk-1e8b375e":1,"chunk-4374e844":1,"chunk-5a283fea":1,"chunk-21738d85":1,"chunk-40208be6":1,"chunk-fe958ec6":1,"chunk-4b20a2c4":1,"chunk-56916f66":1,"chunk-6ae4ff8a":1,"chunk-71e525cc":1,"chunk-777a2d7a":1,"chunk-ac240062":1,"chunk-bbd5975c":1,"chunk-ce7e591e":1,"chunk-cf2482a2":1,"chunk-2499d876":1,"chunk-304e0d9a":1,"chunk-31f9f2c4":1,"chunk-4dd5b452":1,"chunk-ddb87040":1}[u]&&i.push(h[u]=new Promise(function(e,i){for(var t="css/"+({}[u]||u)+"."+{"chunk-0618d39e":"33b540d8","chunk-08d0d107":"c7199b43","chunk-0bbd4df2":"575a6a7d","chunk-159793b0":"ec6a31bc","chunk-5c918488":"8dbb420a","chunk-4e886eb8":"f7600d9f","chunk-1e8b375e":"b1ade8be","chunk-4374e844":"44cd6e8a","chunk-5a283fea":"60757cf1","chunk-21738d85":"b68b9c81","chunk-40208be6":"92e85c54","chunk-fe958ec6":"ddaf10eb","chunk-4b20a2c4":"691c7203","chunk-56916f66":"fe7cc72b","chunk-6ae4ff8a":"0f183dbd","chunk-71e525cc":"15021fda","chunk-777a2d7a":"a841ee41","chunk-ac240062":"189ea075","chunk-bbd5975c":"70d71197","chunk-ce7e591e":"257c19aa","chunk-cf2482a2":"fa928331","chunk-2499d876":"b47fdcff","chunk-304e0d9a":"19a745ba","chunk-31f9f2c4":"fce25ec0","chunk-4dd5b452":"551c83be","chunk-2d0e48df":"31d6cfe0","chunk-ddb87040":"0840d486"}[u]+".css",s=p.p+t,n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===t||o===s))return e()}for(var l=document.getElementsByTagName("style"),r=0;r<l.length;r++)if((o=(a=l[r]).getAttribute("data-href"))===t||o===s)return e();var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onload=e,c.onerror=function(e){var e=e&&e.target&&e.target.src||s,t=new Error("Loading CSS chunk "+u+" failed.\n("+e+")");t.code="CSS_CHUNK_LOAD_FAILED",t.request=e,delete h[u],c.parentNode.removeChild(c),i(t)},c.href=s,document.getElementsByTagName("head")[0].appendChild(c)}).then(function(){h[u]=0})),d[u]);return 0!==a&&(a?i.push(a[2]):(t=new Promise(function(e,t){a=d[u]=[e,t]}),i.push(a[2]=t),(s=document.createElement("script")).charset="utf-8",s.timeout=120,p.nc&&s.setAttribute("nonce",p.nc),s.src=p.p+"js/"+({}[t=u]||t)+"."+{"chunk-0618d39e":"4acba4e4","chunk-08d0d107":"07103afe","chunk-0bbd4df2":"190f2c2d","chunk-159793b0":"6998c47d","chunk-5c918488":"9dbcc632","chunk-4e886eb8":"82345dd9","chunk-1e8b375e":"248d2a47","chunk-4374e844":"35a196f8","chunk-5a283fea":"10c2871a","chunk-21738d85":"dd03967b","chunk-40208be6":"b73c4438","chunk-fe958ec6":"897b553e","chunk-4b20a2c4":"f834a887","chunk-56916f66":"5b99e5bd","chunk-6ae4ff8a":"eb29e7bb","chunk-71e525cc":"96838c4e","chunk-777a2d7a":"a78101ef","chunk-ac240062":"4919c9c5","chunk-bbd5975c":"04dd3823","chunk-ce7e591e":"61d3ba7a","chunk-cf2482a2":"071b2959","chunk-2499d876":"070e0217","chunk-304e0d9a":"d0c70b19","chunk-31f9f2c4":"4e2d91cc","chunk-4dd5b452":"89a3ceca","chunk-2d0e48df":"627d1252","chunk-ddb87040":"b4d65271"}[t]+".js",n=new Error,e=function(e){s.onerror=s.onload=null,clearTimeout(r);var t,i=d[u];0!==i&&(i&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,n.message="Loading chunk "+u+" failed.\n("+t+": "+e+")",n.name="ChunkLoadError",n.type=t,n.request=e,i[1](n)),d[u]=void 0)},r=setTimeout(function(){e({type:"timeout",target:s})},12e4),s.onerror=s.onload=e,document.head.appendChild(s))),Promise.all(i)},p.m=l,p.c=i,p.d=function(e,t,i){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(t,e){if(1&e&&(t=p(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(p.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)p.d(i,s,function(e){return t[e]}.bind(null,s));return i},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="",p.oe=function(e){throw console.error(e),e};var t=(s=window.webpackJsonp=window.webpackJsonp||[]).push.bind(s);s.push=e;for(var s=s.slice(),n=0;n<s.length;n++)e(s[n]);var m=t;u.push([0,"chunk-vendors"]),c()}({0:function(e,t,i){e.exports=i("56d7")},"044b":function(e,t,i){"use strict";var s={props:{disabled:{default:!1,type:Boolean},title:{default:"",type:String},type:{default:"primary",type:String}},components:{},data(){return{}},created(){},methods:{}},i=(i("c659"),i("2877")),i=Object(i.a)(s,function(){var t=this,e=t.$createElement;return(t._self._c||e)("Button",{staticClass:"my-bt",class:[{"my-bt-red":"red"==t.type},{"my-bt-white":"white"==t.type},{"my-bt-primary":"primary"==t.type}],attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._v(" "+t._s(t.title)+" ")])},[],!1,null,"070d3a5a",null);t.a=i.exports},"0632":function(e,t,i){},"0714":function(e,t,r){"use strict";r("14d9");var i=r("1bb5"),a=r("be3b"),s=r("19cb"),n=r.n(s),s=r("5d55"),o=r("2cc5"),l=(r("d930"),r("7ce8")),c=r("c220"),u={data(){return{}},mounted(){},methods:{api(){this.api.post("/api/photoApi/getTimeLineDateList",{type:parseInt(this.showFileType)}).then(e=>{e.code||(this.timeLine=e.data,this.$refs.timeline.initDate(e.data),this.loadFirstPage())}).catch(e=>{})}}},h=(r("6271"),r("2877")),u=Object(h.a)(u,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"root"},[this._v(" 压缩包预览 哈哈 ")])},[],!1,null,"1c185143",null).exports,d=r("d3ac"),u={name:"MyFolderBrower",components:{zipPreview:u,myScrollBar:c.a,videoDetail:s.default,photoDetail:d.default,filesQuickShareAdd:l.a},computed:{},props:{showInWindow:{default:!1,type:Boolean},initPath:{default:"",type:String},selectMode:{default:!1,type:Boolean},fileType:{default:0,type:Number}},data(){return{isSelectSourceFolder:!1,recentSelectFolderPathObj:"",zipPreviewFullPath:"",showZipPreview:!1,isInDragSelectMode:!1,dragStartIndex:0,dragEndIndex:0,dragSelectMode:!0,showAddLocalPath:!1,supportUnzipFormat:[".tar",".gzip",".tgz",".zip"],currentOperationType:"",showChooseTargetFolder:!1,showType:"grid",checkAll:!1,selectedFileList:[],doingSelect:!1,newWindowList:[],showPhotoDetail:!1,attrDialogIsShow:!1,rightMenuList:[],itemBaseWidth:100,itemWidth:100,itemMargin:6,showVideoDetail:!1,source:"list",visible:!1,scroll:null,clickTimeout:null,selectedIndex:null,selectedFile:null,hoveredFile:null,selectedFileAttr:null,isRoot:!0,parent:this.initPath,pathSep:"/",fileTree:[],platform:"",typeData:i.a,parentPathList:[],mouseX:0,mouseY:0,tipX:0,tipY:0,showTipTimer:null,enteredPathObj:null}},mounted(){this.init(),this.showInWindow||this.$bus.$on("onUploadToCurrentPath",()=>{this.switchUpload(!0,this.parent)}),window.addEventListener("popstate",this.onPopstate),localStorage.folderBrowerShowType&&(this.showType=localStorage.folderBrowerShowType),this.$bus.$on("eventChangeFolderBrowerShowType",this.changeFolderBrowerShowType),window.addEventListener("mousemove",this.onMouseMove);try{localStorage.recentSelectFolderPath&&(this.recentSelectFolderPathObj=JSON.parse(localStorage.recentSelectFolderPath))}catch(e){}this.isSelectSourceFolder=this.isSelectSourceFolderFunc()},beforeDestroy(){this.showInWindow||this.$bus.$off("onUploadToCurrentPath"),window.removeEventListener("popstate",this.onPopstate),window.removeEventListener("mousemove",this.onMouseMove),this.$bus.$off("eventChangeFolderBrowerShowType",this.changeFolderBrowerShowType)},methods:{onMouseMove(e){this.mouseX=e.pageX,this.mouseY=e.pageY},changeFolderBrowerShowType(){this.showType="list"==this.showType?"grid":"list"},onMouseLeaveRoot(){this.isInDragSelectMode=!1},onMouseDown(e,t){this.isRoot||!e||1!=e.buttons||this.selectMode||(this.isInDragSelectMode=!0,this.dragSelectMode=!this.fileTree[t].selected,this.dragStartIndex=t)},onMouseUp(e){this.isInDragSelectMode=!1},setDragRange(){var t=this.dragStartIndex>this.dragEndIndex?this.dragEndIndex:this.dragStartIndex,i=this.dragStartIndex>this.dragEndIndex?this.dragStartIndex:this.dragEndIndex;for(let e=t;e<=i;e++)this.dragSelectMode?this.fileTree[e].selected||this.selectFileItem(e):this.fileTree[e].selected&&this.selectFileItem(e)},mouseEnterImg(e){this.isInDragSelectMode?(this.dragEndIndex=e,this.setDragRange(),this.hoveredFile=null):this.isMobile||this.isRoot||this.selectMode||(this.$set(this.fileTree[e],"hover",!0),this.showTipTimer&&clearTimeout(this.showTipTimer),this.$refs.folderBrowerEasyCm&&this.$refs.folderBrowerEasyCm.show)||(this.showTipTimer=setTimeout(()=>{this.tipX=this.mouseX,this.tipY=this.mouseY,this.hoveredFile=this.fileTree[e]},500))},mouseLeaveImg(e){this.isMobile||this.isRoot||this.selectMode||(this.fileTree[e].hover=!1,this.showTipTimer&&clearTimeout(this.showTipTimer),this.hoveredFile=null)},operationLocalPath(i,e,t,s){this.api.post("/api/file/operationPathMount",{url:e,type:"local",id:t,pathName:s,operationType:i}).then(e=>{if(!e.code)if("get"==i){if(e.data,e.data)for(var t in e.data)this.fileTree.push({parent:"",pathSep:this.pathSep,name:e.data[t].url,fileFullPath:e.data[t].url,type:2,isCustomPath:!0,customPathId:e.data[t].id,remark:e.data[t].remark})}else this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.operationSuccess")),this.getFileTree(this.parent)})},onSelectTargetFolder(e){"ZIP"!=this.currentOperationType&&"UNZIP"!=this.currentOperationType||this.zipApi(e),this.showChooseTargetFolder=!1},onSelectAll(e){if(e)for(var t in this.fileTree)this.fileTree[t].selected=!0,this.selectedFileList.push(this.fileTree[t]);else this.cancelMultipleSelect()},cancelMultipleSelect(){for(var e in this.doingSelect=!1,this.checkAll=!1,this.selectedFileList)this.selectedFileList[e].selected=!1;this.selectedFileList=[]},setIsDoingSelect(){this.doingSelect=0<this.selectedFileList.length,this.doingSelect&&(this.selectedIndex=-1)},selectFileItem(e){var t=this.fileTree[e];if(this.fileTree[e].selected){for(var i in this.fileTree[e].selected=!1,this.selectedFileList)if(this.selectedFileList[i].fileFullPath==t.fileFullPath){this.selectedFileList.splice(i,1);break}}else this.fileTree[e].selected=!0,this.selectedFileList.push(this.fileTree[e]);this.$forceUpdate(),this.setIsDoingSelect()},clickTree(e,t,i){if(this.$refs.folderBrowerEasyCm&&this.$refs.folderBrowerEasyCm.show)return this.$refs.folderBrowerEasyCm.hide();this.doingSelect?this.selectFileItem(i):(this.selectedIndex==i&&this.onDoubleClick(t,i),this.selectedIndex=i,this.selectedFile=t)},onPopstate(){this.showPhotoDetail?(this.$refs.photoDetail.closeGallery(),this.showPhotoDetail=!1):this.showVideoDetail?this.showVideoDetail=!1:this.isRoot?this.$router.go(-1):this.goBack(),this.$forceUpdate()},onPageScroll(e){this.$refs.folderBrowerEasyCm&&this.$refs.folderBrowerEasyCm.show&&this.$refs.folderBrowerEasyCm.hide(),this.$refs.scrollBar&&this.$refs.scrollBar.onScroll(e)},onRenameInput(e){this.api.post("/api/file/operationFolder",{sourcePath:this.getDealedPath(this.selectedFile.fileFullPath),targetPath:this.getDealedPath(this.selectedFile.parent),newName:e,type:"rename"}).then(e=>{e.code||(e.isOver&&1==e.isOver?this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.operationSuccess")):this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.checkAfter")),this.getFileTree(this.parent))})},refresh(){this.getFileTree(this.parent)},getDealedPath(e){e=encodeURIComponent(e);return n.a.encode(e)},zipApi(e){this.api.post("/api/file/zipFile",{sourcePath:this.selectedFile.fileFullPath,targetPath:e,type:this.currentOperationType.toLowerCase()}).then(e=>{e.code||this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.checkAfter"))})},copy(){if(!localStorage.copyPath||!localStorage.operationType)return this.showVsAlertDialog(this.$t("common.alert"),this.$t("file.noSelectAnything"));let e=JSON.parse(localStorage.copyPath),t=localStorage.operationType;if(this.isRoot||!this.parent)return this.showVsAlertDialog(this.$t("common.alert"),this.$t("file.canNotCopyToHere"));var i=e.length<10?e:this.$t("file.fileCount",{count:e.length}),i="cut"==t?this.$t("file.cutToHere",{path:i}):this.$t("file.copyToHere",{path:i});this.showVsConfirmDialog(this.$t("common.confirm"),i,()=>{e.length<=1?this.api.post("/api/file/operationFolder",{sourcePath:this.getDealedPath(e),targetPath:this.getDealedPath(this.parent),type:t}).then(e=>{e.code||(localStorage.removeItem("copyPath"),this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.checkAfter")),this.getFileTree(this.parent),this.$bus.$emit("onShowPaste",!1))}):this.api.post("/api/file/operationFileList",{sourcePathList:e,targetPath:this.parent,type:t}).then(e=>{e.code||(localStorage.removeItem("copyPath"),this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.checkAfter")),this.getFileTree(this.parent),this.$bus.$emit("onShowPaste",!1))})})},scrollToTop(){this.$refs.wrapper.scrollTo({top:0,behavior:"smooth"})},getFileStatApi(){this.api.post("/api/file/getPathState",{fullPath:this.selectedFile.tipName}).then(e=>{e.code||(this.selectedFileAttr=e.data)})},deleteFileApi(e,t,i,s){this.api.post("/api/file/deleteByPath",{fullPath:e,putInSystemTrash:s?1:0}).then(e=>{e.code?i&&i():t&&t()}).catch(e=>{i&&i()})},showRightMenu(e,t,i,s){this.doingSelect?this.initRightMenuListOnMultiSelect():(this.selectedIndex=s,this.selectedFile=i,this.initRightMenuList(this.selectedFile)),this.$easycm(e,t,this.parent,"folderBrowerEasyCm")},showRightMenuBg(e,t){if(this.doingSelect)return e.preventDefault();this.initRightMenuListBg(),this.$easycm(e,t,this.parent,"folderBrowerEasyCm")},initRightMenuListBg(){this.rightMenuList=[{text:this.$t("file.newFolder"),type:"CREATE_NEW_FOLDER"},{text:this.$t("common.refresh"),type:"REFRESH"}],localStorage.copyPath&&this.rightMenuList.push({text:this.$t("file.paste"),type:"PASTE"}),this.rightMenuList.push({text:this.$t("file.showType"),type:"SHOW_TYPE",children:[{text:this.$t("movie.gridView"),type:"SHOW_TYPE_GRID"},{text:this.$t("movie.listView"),type:"SHOW_TYPE_LIST"}]})},initRightMenuListOnMultiSelect(){this.rightMenuList=[],this.rightMenuList.push({text:this.$t("file.cancelMutipleSelect"),type:"CANCEL_SELECT"}),this.rightMenuList.push({text:this.$t("file.cut"),type:"CUT"}),this.rightMenuList.push({text:this.$t("file.copy"),type:"COPY"});let e=!1;for(var t in this.selectedFileList)1==this.selectedFileList[t].type&&(e=!0);e&&this.rightMenuList.push({text:this.$t("common.download"),type:"DOWNLOAD"}),this.rightMenuList.push({text:this.$t("common.delete"),type:"DELETE"})},initRightMenuList(e){if(this.rightMenuList=[],2!=e.type||this.selectMode||this.isMobile?this.rightMenuList.push({text:this.$t("file.check"),type:"CHECK"}):this.rightMenuList.push({text:this.$t("file.openInNewWindow"),type:"OPEN_NEW_WINDOW"}),"collect"==this.source&&this.isRoot||this.rightMenuList.push({text:this.$t("file.collect"),type:"COLLECT"}),"collect"==this.source&&this.isRoot&&this.rightMenuList.push({text:this.$t("file.cancelCollect"),type:"CANCEL_COLLECT"}),"recent"==this.source&&this.isRoot&&this.rightMenuList.push({text:this.$t("file.deleteFromRecent"),type:"DELETE_RECENT"}),this.parent&&"/"!=this.parent){this.rightMenuList.push({text:this.$t("common.multiSelect"),type:"MULTIPLE_SELECT"}),this.rightMenuList.push({text:this.$t("file.cut"),type:"CUT"}),this.rightMenuList.push({text:this.$t("file.copy"),type:"COPY"}),this.rightMenuList.push({text:this.$t("common.delete"),type:"DELETE"}),this.rightMenuList.push({text:this.$t("common.rename"),type:"RENAME"});let e=!1;for(var t in this.supportUnzipFormat)if(this.selectedFile.name.endsWith(this.supportUnzipFormat[t])){e=!0;break}e?this.rightMenuList.push({text:this.$t("file.unzip"),type:"UNZIP"}):this.rightMenuList.push({text:this.$t("file.zip"),type:"ZIP"})}this.isRoot||(this.rightMenuList.push({text:this.$t("common.download"),type:"DOWNLOAD"}),this.rightMenuList.push({text:this.$t("file.attr"),type:"ATTR"})),this.rightMenuList.push({text:this.$t("home.shareTemp"),type:"QUICK_SHARE"}),this.isMobile?this.rightMenuList.push({text:this.$t("file.switchShowType"),type:"SHOW_TYPE"}):this.rightMenuList.push({text:this.$t("file.showType"),type:"SHOW_TYPE",children:[{text:this.$t("movie.gridView"),type:"SHOW_TYPE_GRID"},{text:this.$t("movie.listView"),type:"SHOW_TYPE_LIST"}]}),e.isCustomPath&&this.rightMenuList.push({text:this.$t("file.deletePath"),type:"DELETE_CUSTOM_PATH"}),this.showOpenInSystem&&(this.rightMenuList.push({text:this.$t("openInSystem"),type:"OPEN_IN_SYSTEM"}),this.isRoot||this.rightMenuList.push({text:this.$t("selectedInSystem"),type:"SELECT_IN_SYSTEM"}))},deleteBySelectedIndexOnByOne(e,t,i,s){t+i>=this.selectedFileList.length?s?(this.showVsNotification(this.$t("backup.orderSent")),setTimeout(()=>{this.getFileTree(this.parent)},1e3),this.cancelMultipleSelect()):(this.showVsNotification(this.$t("common.deleteSuccessWithCount",{sucCount:t,errCount:i})),this.getFileTree(this.parent)):this.deleteFileApi(this.selectedFileList[e].fileFullPath,()=>{this.deleteBySelectedIndexOnByOne(e+1,t+1,i,s)},()=>{this.deleteBySelectedIndexOnByOne(e+1,t,i+1,s)},s)},deleteSelectedList(){this.selectedFileList.length<1||this.showVsConfirmDialog(this.$t("common.alert"),`[${this.$t("file.fileCount",{count:this.selectedFileList.length})}]`+this.$t("file.fileDeleteSure"),e=>{this.deleteBySelectedIndexOnByOne(0,0,0,e)},null,this.$t("common.delete"),this.$t("common.cancel"),300,!0,"linux"==this.platform?null:{checkBoxContent:this.$t("putInSystemTrash"),isCheck:!0})},copyCutSelectedList(e){if(!(this.selectedFileList.length<1)){var t,i=[];for(t in this.selectedFileList){var s=this.getFileFullPath(this.selectedFileList[t]);i.push(s)}localStorage.setItem("copyPath",JSON.stringify(i)),localStorage.setItem("operationType",e),this.showVsNotification("cut"==e?this.$t("file.cutted",{count:i.length}):this.$t("file.copied",{count:i.length})),this.$bus.$emit("onShowPaste",!0),this.cancelMultipleSelect()}},rightMenuClick(e,t){let i=t||this.rightMenuList[e[0]].type;e&&2==e.length&&(i=t||this.rightMenuList[e[0]].children[[e[1]]].type),"CREATE_NEW_FOLDER"==(this.currentOperationType=i)?this.$refs.newFolderDialog.setShow(!0):"PASTE"==i?this.copy():"REFRESH"==i?this.refresh():"OPEN_NEW_WINDOW"==i?this.newWindowList.push({show:!0,initPath:this.getFileFullPath(this.selectedFile)}):"CHECK"==i?this.onDoubleClick(this.selectedFile,this.selectedIndex):"COLLECT"==i?this.addFileRecord("collect",this.selectedFile):"CUT"==i?(this.doingSelect||this.selectedFileList.push(this.selectedFile),this.copyCutSelectedList("cut")):"COPY"==i?(this.doingSelect||this.selectedFileList.push(this.selectedFile),this.copyCutSelectedList("copy")):"RENAME"==i?(localStorage.setItem("operationType","rename"),this.$refs.renameDialog.setShow(!0)):"CANCEL_COLLECT"==i?this.deleteFileRecord("collect",this.selectedFile,!1):"DELETE_RECENT"==i?this.deleteFileRecord("recent",this.selectedFile,!1):"ATTR"==i?(this.attrDialogIsShow=!0,this.selectedFileAttr=null,this.getFileStatApi()):"DELETE"==i?this.doingSelect?this.deleteSelectedList():this.deleteOneFile(this.selectedFile.fileFullPath):"DOWNLOAD"==i?(this.doingSelect||this.selectedFileList.push(this.selectedFile),this.downloadSelectedList()):"CANCEL_SELECT"==i?this.cancelMultipleSelect():"MULTIPLE_SELECT"==i?this.selectFileItem(this.selectedIndex):"SHOW_TYPE_GRID"==i?this.showType="grid":"SHOW_TYPE_LIST"==i?this.showType="list":"SHOW_TYPE"==i?this.showType="list"==this.showType?"grid":"list":"ZIP"==i?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.zipAlert"),()=>{this.showChooseTargetFolder=!0}):"UNZIP"==i?this.showChooseTargetFolder=!0:"DELETE_CUSTOM_PATH"==i?this.operationLocalPath("delete",null,this.selectedFile.customPathId):"QUICK_SHARE"==i?this.onClickQuickShare():"OPEN_IN_SYSTEM"==i?(this.selectedFile,this.openInSystem(null,null,this.selectedFile.fileFullPath)):"SELECT_IN_SYSTEM"==i&&this.openInSystem(null,null,this.selectedFile.fileFullPath,"showItemInFolder"),localStorage.setItem("folderBrowerShowType",this.showType)},downloadSelectedList(){if(!(this.selectedFileList.length<1)){let e=[];for(var i in this.selectedFileList)1==this.selectedFileList[i].type?(this.selectedFileList[i],e.push(this.getRawUrl(this.selectedFileList[i]))):2==this.selectedFileList[i].type&&e.push(this.getZipRawUrl(this.selectedFileList[i]));let t=this;function s(){t.downloadFile(e),t.cancelMultipleSelect()}1<e.length?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.multiDownloadAlert"),()=>{s()}):s()}},deleteOneFile(t){t&&this.showVsConfirmDialog(this.$t("common.alert"),this.$t("file.fileDeleteSure"),e=>{this.deleteFileApi(t,()=>{e?(this.showVsNotification(this.$t("backup.orderSent")),setTimeout(()=>{this.getFileTree(this.parent)},1e3)):(this.showVsNotification(this.$t("common.deleteSuccess")),this.getFileTree(this.parent))},null,e)},null,this.$t("common.delete"),this.$t("common.cancel"),300,!0,"linux"==this.platform?null:{checkBoxContent:this.$t("putInSystemTrash"),isCheck:!0})},setItemBaseWidth(e){this.itemBaseWidth=e},calImageWidth(){this.isMobile&&("grid"==this.showType?this.itemBaseWidth=100:this.itemBaseWidth=60,this.itemMargin=6);var e=this.$refs.wrapper.getBoundingClientRect(),e=this.utils.calItemWidth(e,this.itemBaseWidth,this.itemMargin);e&&(this.itemWidth=e)},clearCollect(e){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.sureClearCollect"),()=>{this.deleteFileRecord("collect",e,!0)})},clearRecent(e){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.sureClearRecents"),()=>{this.deleteFileRecord("recent",e,!0)})},changeShowType(e){this.parentPathList=[],this.source=e,this.selectedIndex=null,this.selectedFile=null,this.init()},parentPathClick(e,t){let i="";for(let e=0;e<=t;e++)i+=this.parentPathList[e];3<i.length&&i.endsWith(this.pathSep)&&(i=i.substring(0,i.lastIndexOf(this.pathSep))),this.getFileTree(i)},parseParentPath(){this.parentPathList=[];var t,i=this.parent.split(this.pathSep);for(t in i)if("win32"==this.platform){let e=i[t];if(!e)continue;t!=i.length-1&&(e+=this.pathSep),this.parentPathList.push(e)}else i[t]&&this.parentPathList.push(this.pathSep+i[t])},init(){if(this.isRoot=!0,this.parent=this.initPath,this.fileTree=[],"list"==this.source)this.getFileTree(this.parent);else{this.getFileRecord(this.source);let e="";"recent"==this.source?e=this.$t("file.recent"):"collect"==this.source&&(e=this.$t("file.collect")),this.$emit("onParentChange",e,!0)}},onSearch(e){this.isRoot||this.getFileTree(this.parent,!1,e)},onDoubleClick(e,t){var i=this.fileTree[t];2==e.type?this.enterPath(e):1==e.type&&(this.selectMode?this.$emit("onSelect",this.getFileFullPath(e)):(this.addFileRecord("recent",e),"image"==e.fileType?this.goPreviewImage(t):"video"==e.fileType?this.goPreviewVideo(t):"pdf"==e.fileType?this.goPreviewPdf(this.getRawUrl(this.fileTree[t]),i):"word"==e.fileType&&".docx"==e.ext?this.goPreviewer("docx",this.getRawUrl(this.fileTree[t]),i):"excel"==e.fileType&&".xlsx"==e.ext?this.goPreviewer("excel",this.getRawUrl(this.fileTree[t]),i):"book"!=e.fileType||".cbz"!=e.ext&&".cbr"!=e.ext?"book"==e.fileType&&".cbz"!=e.ext&&".cbr"!=e.ext?this.goBookReader(this.getRawUrl(this.fileTree[t]),i):this.downloadFile([this.getRawUrl(this.fileTree[t])]):this.goBookReaderComic(i)))},goUrl(e,t){this.isFromApp?window.android?window.android.onOpenNewWebViewByPath(e,t.name):window.webkit&&window.webkit.messageHandlers?(t=JSON.stringify({func:"onOpenNewWebViewByPath",path:e,title:t.name}),window.webkit.messageHandlers.bridge.postMessage(t)):window.open(e,"_blank"):window.open(e,"_blank")},goPreviewPdf(e,t){e=a.a.getPdfUrl(e);this.goUrl(e,t)},goBookReader(e,t){localStorage.currentReadBook=JSON.stringify({path:t.parent,filename:t.name});e=a.a.getBookReadUrl(e);this.goUrl(e,t)},goBookReaderComic(e){var t=this.getFileFullPath(e),t=(localStorage.currentReadBook=JSON.stringify({path:e.parent,filename:e.name}),a.a.getBookReadComicUrl(t));this.goUrl(t,e)},goPreviewer(e,t,i){e=a.a.getViewerUrl(e,t);this.goUrl(e,i)},getRawUrl(e){var t=e.parent+e.pathSep+e.name;return a.a.getRawFileUrl(t,e.name)},getZipRawUrl(e){var t=e.parent+e.pathSep+e.name;return a.a.getRawFileZipUrl(t,e.name)},onSelectedPath(e,t){e=this.getFileFullPath(e);this.$emit("onSelect",e)},getCurrentSelectedPath(){let e;return this.selectedFile?(e=this.getFileFullPath(this.selectedFile),localStorage.setItem("recentSelectFolderPath",JSON.stringify(this.selectedFile)),e):this.parent&&!this.isRoot?(e=this.parent,localStorage.setItem("recentSelectFolderPath",JSON.stringify(this.enteredPathObj)),e):(this.showVsNotification(this.$t("file.noFolderSelected")),!1)},onClickQuickShare(){this.$refs.quickShareAdd.showAdd(this.getCurrentSelectedPath())},isSelectSourceFolderFunc(){return"sourceFolderPhoto"==this.parent||"sourceFolderMovie"==this.parent||"sourceFolderMusic"==this.parent||"sourceFolderBook"==this.parent},getFileFullPath(e){if(this.isSelectSourceFolderFunc())return e.fileFullPath;let t=e.name,i=e.parent==e.pathSep?e.parent:e.parent+e.pathSep;return"win32"==this.platform&&(e.parent?i=e.parent+e.pathSep:(i="",t.endsWith(e.pathSep)||(t+=e.pathSep))),i+t},goBack(){if(this.isSelectSourceFolderFunc())return this.getFileTree(this.initPath,!0);let e=0<this.parent.lastIndexOf(this.pathSep)?this.parent.lastIndexOf(this.pathSep):1,t=this.parent.substring(0,e);t=3<t.length&&t[t.length-1]==this.pathSep?t.substring(0,t.length-1):t,"win32"==this.platform&&2==t.length&&":"==t[1]&&(t+=this.pathSep),"win32"==this.platform&&this.parent.length<=4&&":"==this.parent[1]&&(t=""),this.getFileTree(t,!0)},enterPath(e){var t=this.getFileFullPath(e);this.getFileTree(t),this.enteredPathObj=e},goPreviewImage(t){let i=[],s=0;for(let e=0;e<this.fileTree.length;e++){var n,r;"image"!=this.fileTree[e].fileType&&"video"!=this.fileTree[e].fileType||(n=JSON.parse(JSON.stringify(this.fileTree[e])),r=this.getFileFullPath(this.fileTree[e]),r=this.getDealedPath(r),n.filePath=r,n.rawUrl=this.getRawUrl(this.fileTree[e]),n.id=e,n.title=this.fileTree[e].name,n.type="image"==this.fileTree[e].fileType?1:2,n.url=this.fileTree[e].url,i.push(n))}for(let e=0;e<i.length;e++)if(this.fileTree[t].name==i[e].title){s=e;break}this.showPhotoDetail=!0,this.$nextTick(()=>{this.$refs.photoDetail.showImg(i,s)}),this.pushState()},goPreviewVideo(t){let i=[],s=0;for(let e=0;e<this.fileTree.length;e++){var n;"video"==this.fileTree[e].fileType&&(n=this.getFileFullPath(this.fileTree[e]),n=this.getDealedPath(n),this.fileTree[e].filePath=n,this.fileTree[e].rawUrl=this.getRawUrl(this.fileTree[e]),(this.fileTree[e].id=e)==t&&(s=i.length),i.push({...this.fileTree[e],type:2}))}"1"==localStorage.getItem("rawPlayer")||this.isIosSupportRawPlayer()?o.a.playVideo({playIndex:s,playList:i,token:this.$store.state.token,fromFileBrower:!0}):(this.showVideoDetail=!0,this.$nextTick(()=>{this.$refs.videoPlayer.playVideo(i,s)}),this.pushState())},addFileRecord(t,e){e={parent:e.parent,path_sep:e.pathSep,name:e.name,ext:e.ext,record_type:t,is_file:1==e.type?1:0};"recent"==t&&(e.hideLoading=!0),this.api.post("/api/fileRecordApi/addFileRecord",e).then(e=>{e.code||"collect"==t&&this.showVsNotification(this.$t("file.collectSuccess"))})},sortFiles(e,n,r){return e.sort(function(i,s){if("number"==n){let e=i.name.match(/\d+/g),t=s.name.match(/\d+/g);return e=e&&0<e.length?e.join(""):0,t=t&&0<t.length?t.join(""):0,"asc"==r?parseInt(e)<parseInt(t)?-1:1:parseInt(e)<parseInt(t)?1:-1}var e,t;return"name"==n&&i.type!=s.type?i.type<s.type?1:-1:!i[n]||!s[n]||(e=i[n]instanceof String?i[n].toLowerCase():i[n],t=s[n]instanceof String?s[n].toLowerCase():s[n],i==s)?0:"asc"==r?e<t?-1:1:t<e?-1:1}),e},onClickOrder(e,t){localStorage.folderBroweerSortField=e,localStorage.folderBroweerSortType=t,this.sortFiles(this.fileTree,e,t)},deleteFileRecord(e,i,s){e={id:i?i.id:"",type:e,deleteAll:s};this.api.post("/api/fileRecordApi/deleteFileRecord",e).then(e=>{if(!e.code)if(this.showVsNotification(this.$t("common.deleteSuccess")),s)this.init();else for(var t in this.fileTree)this.fileTree[t].id==i.id&&this.fileTree.splice(t,1)})},addPathTipName(e){this.parent?this.parent.endsWith(this.pathSep)?e.tipName=this.parent+e.name:e.tipName=this.parent+this.pathSep+e.name:e.tipName=e.name},getFileRecord(e){this.api.post("/api/fileRecordApi/getFileRecord",{type:e,count:500}).then(e=>{if(!e.code){for(var t in e.data){1==e.data[t].is_file?e.data[t].type=1:e.data[t].type=2,e.data[t].pathSep=e.data[t].path_sep;var i=e.data[t].name.toLowerCase(),s=i.lastIndexOf(".");0<=s?(i=i.substring(s),e.data[t].ext=i,e.data[t].fileType=this.getFileType(i)):e.data[t].fileType="file",this.addPathTipName(e.data[t]),e.data[t].url=a.a.getTinyUrlByFilePath(e.data[t].parent+e.data[t].path_sep+e.data[t].name,!1,e.data[t].name)}this.fileTree=e.data}})},createNewFolder(e){if(!this.parent)return this.showVsNotification(this.$t("file.cannotCreateHere"));if("sourceFolderPhoto"==this.parent||"sourceFolderMovie"==this.parent||"sourceFolderMusic"==this.parent||"sourceFolderBook"==this.parent)return this.showVsNotification(this.$t("file.cannotCreateHere"));this.parent;var t=this.getDealedPath(this.parent);this.api.post("/api/file/addNewFolder",{parentPath:t,folderName:e}).then(e=>{e.code||(this.getFileTree(this.parent),this.showVsNotification(this.$t("common.operationSuccess")))})},getFileType(e){switch(this.typeData[e]){case 1:return"image";case 2:return"video";case 3:return"text";case 4:return"pdf";case 5:return"music";case 6:return"word";case 7:return"ppt";case 8:return"excel";case 9:return"book";case 10:return"zip";default:return"file"}},getFileTree(t,r,e){var i={parent:t,type:this.fileType};e&&(i.searchStr=e),this.api.post("/api/file/getPathTree",i).then(e=>{if(this.selectedIndex=null,this.selectedFile=null,this.cancelMultipleSelect(),e.code)2==e.code&&this.showVsAlertDialog(this.$t("common.alert"),this.$t("common.noAccess"));else{""==t||"/"==t||t==this.pathSep?this.isRoot=!0:(this.isRoot=!1,r||this.pushState()),this.parent=e.data.parent,this.pathSep=e.data.sep,this.platform=e.data.platform,this.parseParentPath();var i=e.data.children;for(let t=0;t<i.length;t++){this.addPathTipName(i[t]),i[t].parent=e.data.parent,i[t].pathSep=e.data.sep;var s=i[t].name.toLowerCase(),n=s.lastIndexOf(".");if(0<=n){let e=s.substring(n);e=e&&e.toLowerCase(),i[t].ext=e||"",i[t].fileType=this.getFileType(e)}else i[t].fileType="file";i[t].url=a.a.getTinyUrlByFilePath(i[t].fileFullPath,!1,i[t].name)}localStorage.folderBroweerSortField&&localStorage.folderBroweerSortType?this.fileTree=this.sortFiles(i,localStorage.folderBroweerSortField,localStorage.folderBroweerSortType):this.fileTree=i,this.$emit("onParentChange",this.parent,this.isRoot),this.isRoot&&this.operationLocalPath("get",null),this.$nextTick(()=>{this.calImageWidth()})}})}}},c=(r("3ccd"),Object(h.a)(u,function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{ref:"rootWrapper",staticClass:"browser-root",on:{contextmenu:function(e){return e.stopPropagation(),s.showRightMenuBg(e,s.$root)},mouseleave:s.onMouseLeaveRoot}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!s.doingSelect&&!s.isSelectSourceFolder,expression:"!doingSelect&&!isSelectSourceFolder"}],class:{"path-root":!s.selectMode,"recent-path-root":s.selectMode}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[s.isRoot?s._e():n("p",{staticClass:"max-line-one",staticStyle:{color:"#999999","margin-right":"10px","flex-shrink":"0"}},[s._v(s._s(s.fileTree.length)+" "+s._s(s.$t("itemsCount")))]),s._l(s.parentPathList,function(t,i){return n("a",{staticStyle:{"font-size":"14px","flex-shrink":"0","margin-left":"5px"},style:{color:i==s.parentPathList.length-1?"#386DF2":"#999999"},on:{click:function(e){return s.parentPathClick(t,i)}}},[s._v(" "+s._s(t))])}),s.parentPathList.length<1?n("a",[s._v(s._s(s.$t("file.rootPath")))]):s._e()],2),s.isMobile||s.selectMode?s._e():n("Icon",{staticStyle:{cursor:"pointer"},attrs:{type:"ios-help-circle-outline",size:20},on:{click:function(e){s.showVsAlertDialog(s.$t("quickKey"),s.$t("fileKeyAlert"))}}})],1),s.isRoot&&s.recentSelectFolderPathObj&&s.selectMode&&!s.doingSelect&&!s.isSelectSourceFolder?n("div",{class:{"path-root":!s.selectMode,"recent-path-root":s.selectMode}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("p",{staticClass:"max-line-one",staticStyle:{color:"#999999","margin-right":"10px","flex-shrink":"0"}},[s._v(" "+s._s(s.$t("upload.recentUseFolder")))]),n("Button",{attrs:{size:"small",type:"dashed"},on:{click:function(e){return s.enterPath(s.recentSelectFolderPathObj)}}},[s._v(s._s(s.recentSelectFolderPathObj.fileFullPath))])],1)]):s._e(),n("div",{staticStyle:{overflow:"hidden"},style:{height:s.showInWindow?"550px":"100%"}},[n("div",{ref:"wrapper",staticClass:"list-root",on:{scroll:s.onPageScroll}},[s.fileTree.length<1?n("div",{staticStyle:{"margin-top":"20px",width:"100%"}},[s._v(s._s(this.$t("common.noMore"))+" ")]):s._e(),s._l(s.fileTree,function(t,i){return n("div",{class:{"list-item-root-list":"list"==s.showType},style:{"background-color":s.selectedIndex==i?"rgba(0,0,0,0.1)":"transparent",padding:s.itemMargin/2+"px"},attrs:{id:"file_"+i},on:{contextmenu:function(e){return e.stopPropagation(),s.showRightMenu(e,s.$root,t,i)},mouseenter:function(e){return s.mouseEnterImg(i)},mouseleave:function(e){return s.mouseLeaveImg(i)},mousedown:function(e){return s.onMouseDown(e,i)},mouseup:function(e){return s.onMouseUp(i)}}},[n("div",{class:{"list-item-list":"list"==s.showType,"list-item-grid":"grid"==s.showType},on:{click:function(e){s.clickTree(e,t,i)}}},[n("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},style:{width:s.itemWidth+"px",height:s.itemWidth+"px",margin:s.itemMargin/2+"px"}},[2!=t.type||t.isCustomPath?2==t.type&&t.isCustomPath?n("img",{style:{width:s.itemWidth+"px"},attrs:{src:r("36e5")}}):1!=t.type||"image"!=t.fileType&&"video"!=t.fileType?1==t.type&&"video"==t.fileType?n("Button",{staticStyle:{height:"30px",position:"absolute"},attrs:{type:"text",ghost:""}},[n("span",{staticClass:"nasIcons icon-play",staticStyle:{"font-size":"30px","line-height":"30px"}})]):1==t.type&&"text"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("a481")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"file"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("8b5e")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"pdf"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("218f")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"music"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("1e28")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"word"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("9b66")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"excel"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("c0ed")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"ppt"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("25d4")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"zip"==t.fileType?n("img",{staticClass:"item-img",attrs:{src:r("b856")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"book"==t.fileType?n("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[n("img",{staticClass:"item-img",attrs:{src:r("d69a")},on:{dragstart:function(e){e.preventDefault()}}}),t.ext?n("div",{staticStyle:{position:"absolute",left:"0",top:"0",display:"flex","align-items":"center","justify-content":"center",width:"100%",height:"100%"}},[n("div",{staticStyle:{color:"white","font-weight":"bold"}},[s._v(s._s(t.ext.replace(".","").toUpperCase()))])]):s._e()]):s._e():n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.url,expression:"file.url"}],staticClass:"item-img",on:{dragstart:function(e){e.preventDefault()}}}):n("img",{style:{width:s.itemWidth+"px"},attrs:{src:r("60b7")}})],1),n("div",{style:{width:"list"==s.showType?"100%":s.itemWidth+"px","margin-left":"list"==s.showType?"3px":"0px"}},[n("p",{staticClass:"filename"},[s._v(s._s(t.isCustomPath&&t.remark?"["+t.remark+"] "+t.name:t.name))]),"list"==s.showType&&t.birthtimeMs?n("p",{staticClass:"size"},[s._v(s._s(s.$t("movie.createTime"))+":"+s._s(s.utils.formatTimeStamp(t.birthtimeMs))+" ")]):s._e(),"list"==s.showType&&t.size&&1==t.type?n("p",{staticClass:"size"},[s._v(s._s(s.$t("file.size"))+":"+s._s(s.utils.getSizeStr(t.size)))]):s._e()]),s.selectMode||s.selectedIndex==i?s._e():n("div",{staticClass:"mask-root"},[!s.selectMode&&t.hover?n("div",{staticClass:"hover-mask"},[n("span",{staticClass:"select-icon-hover nasIcons icon-radio-unchecked",style:{right:s.itemMargin+.02*s.itemWidth+"px",top:.05*s.itemWidth+"px"},on:{click:function(e){return e.stopPropagation(),s.selectFileItem(i)}}})]):s._e(),!s.selectMode&&t.selected?n("div",{staticClass:"select-mask"},[n("span",{staticClass:"select-icon-hover nasIcons icon-radio-checked",style:{right:s.itemMargin+.02*s.itemWidth+"px",top:.05*s.itemWidth+"px"},on:{click:function(e){return e.stopPropagation(),s.selectFileItem(i)}}})]):s._e()]),s.isMobile&&!t.selected?n("i",{staticClass:"nasIcons icon-shenglve more",style:{left:s.itemMargin+.02*s.itemWidth+"px",top:.05*s.itemWidth+"px"},on:{click:function(e){return e.stopPropagation(),s.showRightMenu(e,s.$root,t,i)}}}):s._e()])])}),s.isRoot&&1==s.$store.state.currentUser.is_admin&&"list"==s.source?n("div",{class:{"list-item-root-list":"list"==s.showType},style:{padding:s.itemMargin/2+"px"},on:{click:function(e){return s.$refs.addLocalPathDialog.setShow(!0)}}},[n("div",{class:{"list-item-list":"list"==s.showType,"list-item-grid":"grid"==s.showType}},[n("div",{staticStyle:{cursor:"pointer",display:"flex","justify-content":"center","align-items":"center"},style:{width:s.itemWidth+"px",height:s.itemWidth+"px",margin:s.itemMargin/2+"px"}},[n("img",{style:{width:s.itemWidth+"px"},attrs:{src:r("ab60")}})]),n("p",{staticClass:"filename",style:{width:s.itemWidth+"px"}},[s._v(s._s(s.$t("common.add")))])])]):s._e(),3e3<=s.fileTree.length?n("div",{staticClass:"max-count"},[s._v(s._s(s.$t("file.maxShowCountAlert")))]):s._e()],2)]),s.hoveredFile&&"grid"==s.showType?n("div",{staticClass:"file-tip",style:{top:s.tipY+"px",left:s.tipX+"px"}},[s.hoveredFile?n("p",{staticClass:"size"},[n("span",{staticStyle:{"font-weight":"bold"}},[s._v(s._s(s.$t("common.name")))]),s._v(":"+s._s(s.hoveredFile.name))]):s._e(),s.hoveredFile.birthtimeMs?n("p",{staticClass:"size"},[n("span",{staticStyle:{"font-weight":"bold"}},[s._v(s._s(s.$t("movie.createTime")))]),s._v(":"+s._s(s.utils.formatTimeStamp(s.hoveredFile.birthtimeMs))+" ")]):s._e(),s.hoveredFile.size&&1==s.hoveredFile.type?n("p",{staticClass:"size"},[n("span",{staticStyle:{"font-weight":"bold"}},[s._v(s._s(s.$t("file.size")))]),s._v(":"+s._s(s.utils.getSizeStr(s.hoveredFile.size)))]):s._e()]):s._e(),s.isRoot&&1==s.$store.state.currentUser.is_admin?n("my-dialog-input",{ref:"addLocalPathDialog",attrs:{showCloseBtn:!0,title:s.$t("file.addLocalPath"),content:s.$t("file.addLocalPathAlert"),placeholder:s.$t("file.inputPath"),contentB:s.$t("common.name")},on:{onOkClick:function(e,t){return s.operationLocalPath("add",e,null,t)}}}):s._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:s.doingSelect,expression:"doingSelect"}],staticClass:"bottom-select-root"},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Checkbox",{on:{"on-change":s.onSelectAll},model:{value:s.checkAll,callback:function(e){s.checkAll=e},expression:"checkAll"}}),n("div",{staticStyle:{color:"white",cursor:"pointer"}},[s._v(s._s(s.$t("common.selectAll")))]),n("div",{staticStyle:{color:"white","margin-left":"10px",cursor:"pointer"},on:{click:s.cancelMultipleSelect}},[s._v(s._s(s.$t("common.cancel")))])],1),n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("common.delete")}},[n("my-btn-icon",{attrs:{type:"red",iIcon:"md-trash"},on:{click:function(e){return s.deleteSelectedList()}}})],1),n("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("file.copy")}},[n("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"whtie",iIcon:"md-copy"},on:{click:function(e){return s.copyCutSelectedList("copy")}}})],1),n("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("file.cut")}},[n("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"whtie",iIcon:"md-cut"},on:{click:function(e){return s.copyCutSelectedList("cut")}}})],1),n("Tooltip",{attrs:{disabled:s.isMobile,content:s.$t("common.download")}},[n("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"whtie",iIcon:"md-download"},on:{click:function(e){return s.downloadSelectedList()}}})],1)],1)]),n("vs-dialog",{scopedSlots:s._u([{key:"header",fn:function(){return[n("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[n("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:r("135a")}}),n("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[s._v(" "+s._s(s.$t("file.attr"))+" ")])])]},proxy:!0}]),model:{value:s.attrDialogIsShow,callback:function(e){s.attrDialogIsShow=e},expression:"attrDialogIsShow"}},[s.selectedFileAttr?n("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start","max-width":"600px"}},[s.selectedFile?n("div",{staticClass:"item-attr"},[s._v(s._s(s.$t("file.location"))+":"),n("span",[s._v(s._s(s.selectedFile.tipName))])]):s._e(),n("div",{staticClass:"item-attr"},[s._v(s._s(s.$t("movie.createTime"))+":"),n("span",[s._v(s._s(s.utils.formatTimeStamp(s.selectedFileAttr.ctime)))])]),n("div",{staticClass:"item-attr"},[s._v(s._s(s.$t("file.modifyTime"))+":"),n("span",[s._v(s._s(s.utils.formatTimeStamp(s.selectedFileAttr.mtime)))])]),s.selectedFileAttr.sizeStr?n("div",{staticClass:"item-attr"},[s._v(" "+s._s(s.$t("file.size"))+":"),n("span",[s._v(s._s(s.selectedFileAttr.sizeStr))])]):s._e()]):s._e()]),n("my-dialog-input",{ref:"newFolderDialog",attrs:{showCloseBtn:!0,title:s.$t("file.newFolder"),content:s.$t("file.inputNewFolderName")},on:{onOkClick:s.createNewFolder}}),n("my-dialog-input",{ref:"renameDialog",attrs:{placeholder:s.$t("file.inputNewFileName"),showCloseBtn:!0,initValue:s.selectedFile?s.selectedFile.name:"",content:s.selectedFile?s.selectedFile.name:"",title:s.$t("common.rename")},on:{onOkClick:s.onRenameInput}}),s._l(s.newWindowList,function(t,e){return n("Modal",{attrs:{width:"80","mask-closable":!1,draggable:"",scrollable:"",mask:!1,title:s.$t("home.fileBrower"),"footer-hide":""},model:{value:t.show,callback:function(e){s.$set(t,"show",e)},expression:"window.show"}},[t.show?n("my-folder-brower",{attrs:{initPath:t.initPath,showInWindow:!0}}):s._e()],1)}),n("vs-dialog",{attrs:{scroll:"",scroll:"","prevent-close":"","full-screen":s.isMobile},scopedSlots:s._u([{key:"header",fn:function(){return["ZIP"==s.currentOperationType?n("h4",{staticStyle:{"font-size":"16px"}},[s._v(" "+s._s(s.$t("backup.chooseTargetPath")+" "+s.$t("file.zip")+":"+s.selectedFile.name)+" ")]):s._e(),"UNZIP"==s.currentOperationType?n("h4",{staticStyle:{"font-size":"16px"}},[s._v(" "+s._s(s.$t("backup.chooseTargetPath")+" "+s.$t("file.unzip")+":"+s.selectedFile.name)+" ")]):s._e()]},proxy:!0},{key:"footer",fn:function(){return[n("file-select-bar",{on:{back:function(e){return s.$refs.fileSelector.goBack()},select:function(e){return s.$refs.fileSelector.onSelect()},create:function(e){return s.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:s.showChooseTargetFolder,callback:function(e){s.showChooseTargetFolder=e},expression:"showChooseTargetFolder"}},[s.showChooseTargetFolder?n("file-select",{ref:"fileSelector",attrs:{parent:"root",type:2,initPath:s.parent||""},on:{onSelect:s.onSelectTargetFolder,onCancel:function(e){s.showChooseTargetFolder=!1}}}):s._e()],1),n("files-quick-share-add",{ref:"quickShareAdd"}),s.showChooseTargetFolder?s._e():n("my-scroll-bar",{ref:"scrollBar"}),s.showPhotoDetail?n("photo-detail",{ref:"photoDetail",attrs:{enableExif:!1,fromFolderBrower:!0,fromFileBrower:!0,enableRemove:!0},on:{onClickDelete:s.deleteOneFile,onClose:function(e){s.showPhotoDetail=!1}}}):s._e(),n("Modal",{attrs:{fullscreen:"","footer-hide":"",closable:!1},model:{value:s.showVideoDetail,callback:function(e){s.showVideoDetail=e},expression:"showVideoDetail"}},[s.showVideoDetail?n("video-detail",{ref:"videoPlayer",attrs:{propsServerType:"photo",fromFileBrower:!0},on:{onClose:function(e){s.showVideoDetail=!1}}}):s._e()],1),n("Modal",{attrs:{"footer-hide":""},model:{value:s.showZipPreview,callback:function(e){s.showZipPreview=e},expression:"showZipPreview"}},[s.showZipPreview?n("zipPreview",{attrs:{zipPreviewFullPath:s.zipPreviewFullPath}}):s._e()],1),n("easy-cm",{ref:"folderBrowerEasyCm",attrs:{tag:"folderBrowerEasyCm",arrow:!0,tag:s.parent,list:s.rightMenuList},on:{ecmcb:s.rightMenuClick}})],2)},[],!1,null,"33bf769a",null));t.a=c.exports},"096d":function(e,t,i){"use strict";i("f6f7")},"0b09":function(e,t,i){},"0be9":function(e,t,i){"use strict";var s=i("aa62"),n=i.n(s),r=i("be3b"),s={props:{},mounted(){},components:{},data(){return{serverUrl:"",showUrlDialog:!1,showUrl:""}},computed:{},methods:{getShareConfig(s){this.api.post("/api/commonApi/getAllConfig",{keys:["customShareUrl"]}).then(t=>{for(let e=0;e<t.data.allConfig.length;e++){var i=t.data.allConfig[e];"customShareUrl"==i.title&&(this.serverUrl=i.value)}s&&s()}).catch(e=>{s&&s()})},getShareLink(e){return this.serverUrl||(this.serverUrl=r.a.getBaseByLocation()),this.serverUrl+"/#/shareTemp?st="+e},goOnShow(e){this.showUrlDialog=!0,this.showUrl=e,this.$nextTick(()=>{this.showQrCode(e,"lanQrcode")})},showQrCodeDialog(e){this.serverUrl?this.goOnShow(this.getShareLink(e)):this.getShareConfig(()=>{this.goOnShow(this.getShareLink(e))})},showQrCode(e,t){var i=n()(0,"L");i.addData(e),i.make(),document.getElementById(t).innerHTML=i.createImgTag(3)}}},i=i("2877"),i=Object(i.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vs-dialog",{attrs:{"prevent-close":""},scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticClass:"not-margin"},[t._v(" "+t._s(t.$t("home.scanToAccess"))+" ")])]},proxy:!0}]),model:{value:t.showUrlDialog,callback:function(e){t.showUrlDialog=e},expression:"showUrlDialog"}},[i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("Input",{attrs:{placeholder:"",search:"","enter-button":t.$t("refreshQrcode")},on:{"on-search":function(e){return t.showQrCode(t.showUrl,"lanQrcode")}},model:{value:t.showUrl,callback:function(e){t.showUrl=e},expression:"showUrl"}})],1),i("p",{staticClass:"text-grey",staticStyle:{width:"100%","text-align":"left","margin-top":"10px"}},[t._v(" "+t._s(t.$t("file.changeToRealUrl",{url:t.serverUrl})))]),1==t.$store.state.currentUser.is_admin?i("p",{staticClass:"text-grey",staticStyle:{width:"100%","text-align":"left","margin-top":"10px"}},[t._v(" "+t._s(t.$t("customUrlAlertA"))),i("a",{on:{click:function(e){return t.goToSetting("custom")}}},[t._v(t._s(t.$t("home.settingCenter")))]),t._v(t._s(t.$t("customUrlAlertB")))]):t._e(),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("div",{attrs:{id:"lanQrcode"}})])])},[],!1,null,"99793d46",null);t.a=i.exports},1:function(e,t){},"135a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAANlBMVEUAAAA5bfI4bfM4bfM4cfQ7bfY4bfM4bfI4bvM4bfM4bvM8cfg5bvM4bfL////t8v65zPpNffPhepfDAAAADXRSTlMA8cGpRDjn2ZmDbSKQFSIWhgAAAOpJREFUOMud1d2ygjAMBOBt0haqLoX3f9njqEe0VNjhu8508gMJWqm4DSEM5iVhVxwzP+Qx4pdk3LD+81dnl187GQT+EDa5XLjjgi837rpt3hXfjjwU330IPBT+e+IU+GsWlDynY2wsc63zwoZ1q1vqdFeXXo0jG/P0MLMxAshs1GdwZSP3ypteOiUWPbjA9WCH6cGGgWqBHBCoto4BgepQGNY0tuPepmGUGZwyR9HTKEh6gQnIausygPF4KOsnGtXgiDvT0rD1hz0uMOHBldb5iSWjry99Meor9/wyPz4T+gHST9v5o6mf4z9DDEylR42AGwAAAABJRU5ErkJggg=="},"14c8":function(e,t,i){"use strict";i("2357")},"155f":function(e,t,i){e.exports=i.p+"img/5.40c2f45b.jpg"},1675:function(e,a,o){"use strict";!function(i){Object.defineProperty(a,"__esModule",{value:!0});var t=o("f265");function e(e,t){return void 0===t&&(t="utf8"),i.isBuffer(e)?n(e.toString("base64")):n(i.from(e,t).toString("base64"))}function s(e){return e=e.toString(),t.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function n(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var r=e;r.encode=e,r.decode=function(e,t){return void 0===t&&(t="utf8"),i.from(s(e),"base64").toString(t)},r.toBase64=s,r.fromBase64=n,r.toBuffer=function(e){return i.from(s(e),"base64")},a.default=r}.call(this,o("b639").Buffer)},1996:function(e,t,i){"use strict";i("4dfb")},"19c4":function(e,t,i){},"19cb":function(e,t,i){e.exports=i("1675").default},"1bb5":function(e,t,i){"use strict";t.a={".psd":1,".dng":1,".cr2":1,".nef":1,".orf":1,".raf":1,".raw":1,".arw":1,".x3f":1,".rw2":1,".nrw":1,".jpg":1,".jpeg":1,".heic":1,".hif":1,".heif":1,".gif":1,".webp":1,".bmp":1,".tiff":1,".svg":1,".png":1,".mp4":2,".mov":2,".avi":2,".rm":2,".mkv":2,".wmv":2,".m4v":2,".flv":2,".f4v":2,".vob":2,".mpg":2,".rmvb":2,".asf":2,".ts":2,".m2ts":2,".ogg":2,".ogg":5,".3gp":2,".text":3,".json":3,".js":3,".html":3,".pdf":4,".docx":3,".docx":6,".doc":3,".doc":6,".dot":3,".xml":3,".xls":3,".xls":8,".xlsm":3,".xlsm":8,".csv":3,".csv":8,".mp3":5,".wav":5,".flac":5,".opus":5,".aac":5,".odt":6,".ppt":7,".pptx":7,".odp":7,".xlsx":8,".ods":8,".mobi":9,".epub":9,".txt":9,".azw3":9,".fb2":9,".cbz":9,".cbr":9,".fbz":9,".zip":10,".rar":10}},"1c3e":function(e,t,i){"use strict";i("359a")},"1e27":function(e,t,i){},"1e28":function(e,t,i){e.exports=i.p+"img/icon-folder-music.34e1d4c2.png"},"1ee4":function(e,t,i){"use strict";var s={props:{showClearBtn:{default:!0,type:Boolean},showCurrentPath:{default:!0,type:Boolean},showSearch:{default:!1,type:Boolean},showCreateNew:{default:!0,type:Boolean},showSlider:{default:!1,type:Boolean}},computed:{},data(){return{sortField:"name",sortType:"asc",sliderMin:80,sliderMax:200,sliderValue:80,newFolderName:"",showPath:"",isRoot:!1,showPaste:""}},mounted(){this.$bus.$on("onShowPaste",e=>{this.showPaste=e}),localStorage.folderBroweerSortField&&localStorage.folderBroweerSortType&&(this.sortField=localStorage.folderBroweerSortField,this.sortType=localStorage.folderBroweerSortType),window.addEventListener("keydown",this.onKeyDown)},beforeDestroy(){this.$bus.$off("onShowPaste"),window.removeEventListener("keydown",this.onKeyDown)},methods:{onKeyDown(i){if(!this.isShowingDialog()){let e,t=i.key;"="==t?this.sliderValue<this.sliderMax&&(e=this.sliderValue+20):"-"==t?this.sliderValue>this.sliderMin&&(e=this.sliderValue-20):t&&"c"==t.toLowerCase()?this.$bus.$emit("eventChangeFolderBrowerShowType"):t&&"r"==t.toLowerCase()&&this.$emit("onRefresh"),e&&(this.sliderValue=e,this.onSizeChange())}},onClickOrder(){this.$emit("onClickOrder",this.sortField,this.sortType)},onSearch(e){this.$emit("onSearch",e)},onCreateNewFolder(e){this.$emit("createNewFolder",e)},onSizeChange(){this.$emit("onSliderChange",this.sliderValue)},onCutCopy(e){this.showPaste=e},setShowPath(e,t){this.showPath=e,this.isRoot=t}}},i=(i("9ef6"),i("2877")),i=Object(i.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bar-root"},[i("div",[i("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{disabled:t.isRoot,iIcon:"md-arrow-round-back"},on:{click:function(e){return t.$emit("onBack")}}})],1),i("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{iIcon:"md-add"},on:{click:function(e){return t.$refs.newFolderDialog.setShow(!0)}}}),i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("Poptip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[i("div",{staticClass:"sort-root"},[i("div",[t._v(t._s(t.$t("common.sortField")))]),i("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":t.onClickOrder},model:{value:t.sortField,callback:function(e){t.sortField=e},expression:"sortField"}},[i("Radio",{attrs:{label:"name"}},[i("span",[t._v(t._s(t.$t("movie.filename")))])]),i("Radio",{attrs:{label:"number"}},[i("span",[t._v(t._s(t.$t("number")))])]),i("Radio",{attrs:{label:"type"}},[i("span",[t._v(t._s(t.$t("type")))])]),i("Radio",{attrs:{label:"size"}},[i("span",[t._v(t._s(t.$t("file.size")))])]),i("Radio",{attrs:{label:"atimeMs"}},[i("span",[t._v(t._s(t.$t("file.accessTime")))])]),i("Radio",{attrs:{label:"mtimeMs"}},[i("span",[t._v(t._s(t.$t("file.modifyTime")))])]),i("Radio",{attrs:{label:"birthtimeMs"}},[i("span",[t._v(t._s(t.$t("movie.createTime")))])])],1),i("div",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.$t("common.sortType")))]),i("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":t.onClickOrder},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},[i("Radio",{attrs:{label:"asc"}},[i("span",[t._v(t._s(t.$t("common.asc")))])]),i("Radio",{attrs:{label:"desc"}},[i("span",[t._v(t._s(t.$t("common.desc")))])])],1)],1)]},proxy:!0}])},["asc"==t.sortType?i("span",{staticClass:"nasIcons icon-sort-alpha-up operation-icon"}):t._e(),"desc"==t.sortType?i("span",{staticClass:"nasIcons icon-sort-alpha-down-alt operation-icon"}):t._e()])],1),t.showSlider?i("Slider",{staticClass:"zoom-slider",attrs:{"show-tip":"never",min:t.sliderMin,max:t.sliderMax,step:10},on:{"on-input":t.onSizeChange},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}}):t._e(),i("my-dialog-input",{ref:"newFolderDialog",attrs:{showCloseBtn:!0,title:t.$t("file.newFolder"),content:t.$t("file.inputNewFolderName")},on:{onOkClick:t.onCreateNewFolder}}),i("div",{staticStyle:{display:"flex","align-items":"center",position:"absolute",right:"20px"}},[t.showSearch?i("my-search",{staticStyle:{"max-width":"220px"},attrs:{placeholder:t.$t("movie.searchPlaceHolder")},on:{onSearch:t.onSearch}}):t._e(),t.showClearBtn?i("div",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.$emit("onClear")}}},[i("my-btn",{attrs:{type:"red",title:t.$t("common.clear")}})],1):t._e(),t.showSearch?i("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{iIcon:"md-cloud-upload"},on:{click:function(e){return t.$bus.$emit("onUploadToCurrentPath")}}}):t._e(),!t.isRoot&&t.showPaste?i("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{iIcon:"md-copy"},on:{click:function(e){return t.$emit("onCopy")}}}):t._e(),t.showSearch?i("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{iIcon:"md-sync"},on:{click:function(e){return t.$emit("onRefresh")}}}):t._e()],1)],1)},[],!1,null,"bba248b4",null);t.a=i.exports},"1fe8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAM1BMVEUAAAA4bfI4bPE4cO84bfI4bPM4bfI4bfI4bfL///9qkvVRf/SDpPfN2vzm7f20yPqbtvjFr//+AAAACHRSTlMA338gv0CfYF85lZwAAAOvSURBVHja7dyLcuMgDAVQi5dvAD/+/2u3u+uWmbbJBFu2wKPzBzdCGHDwoJRSSimllFJKKaWUUkoppZRSSqnmWGuHrlljnCP8Q+RCGIf+WGPwC+orjDV4jsgMfSgxnukiig14A5nG+986bPquisGH/qNYhzqNJjGoRn5oz1aO7ovigDsksQ64QxLrsF8YmmFxiBta4fDhBjX5ytF5nxh80+nzxIMBya8hLTa9N/zWIN23iceHOwwuhy9dz8EjNr3PXATcoiQGnARLgk3vU/AI3KMkAZvenyXAPcbWCNxjbDngBmPLegt2NFzHGxMc4STGD1ewJuBsFMaTw1jjUCnFmNecY0QdCudl8YRKeZ0fn+ZpqQzDEIXn3Gp9fDdVRqGRP0ZApfz4zYo6ZJh7A7WWx+/mhDpGdi87PZ6Zq9veC+44So55Wte8LNOBmsCIrULWn92d1pIEtcjKHLLHxyYCRVpKx9ciL3LUMz3phmX34AJ5gRz5Rz02aa4oCWsSi2qlIAt+SJ+tg3rkL99tPP5LLwYddiB/cY5cCvJ0OovYgeyF5wqlpTN+EY8EAV27HZ9LkKdNkrGL4Z6w9rYI4rEg5C9rkPKjv5yZE/ahC8950quJaTkYBOG6M/b4Kshjg938ZWfs8Y3ZN2M3d81JaFmHrK8WkzjAX3Y0nZ+OrKlmqcVSEosjUl7XVzlmHEG+riD8prJLOSRIvBbkz1FXErBLXzkmHGVEXnrw54CTG1klx4LjSGBkceYovNDIKjkyWBih12ncOUAyIyuXeZeLlQiSmHO83yQWrHKZd9mMEr2+lAUWGyMRZGZt9JogBnxKiyQwCgJL37JhZOTkgqzgRALPw8zaIvJBIlgJDK1TgjiBWSueMGkhiE2/E1gFiQdinMvbRC6m4hieT4oRzMY3F43N83cJ8u5+pHkyW90UcwKrMAwC3R7/bkZWMCm9fnWTpBPWWlbiX8mZf6MLgSPTU3a64erreCXIB/CxAv94PyWIzB0E/iChIoglcOEPYmWuhazcs1ao/Scjk8S9QxS7qRNn1kOUUe6qTooZbGio5dEk38LtKQZuqGcJ7flekF53ir6VO4YHmTYuRl/eIIVtquG/cnTe8DQMt0hCfjjENtInf+txhySuvY867GKa+qLOfl7qNmVbbd7I7EWG+970O1Gaj1ExfbXY5JW32XuoxvVZyPjhZHY8OcuVXwK2fhyD4w1EIBeMGX0LH9VTSimllFJKKaWUUkoppZRSSimlVBf+AK47yDXzBIQfAAAAAElFTkSuQmCC"},2:function(e,t){},"218f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAABFFBMVEVHcEyaxeRRnNBSm9BRnM9Rm9CSv+BQm89Qm89Rm8+Yw+OWw+N3rNBRm9CeyOWVwOOly+ecxuOfyeVRm8+SweFRm8+jyeeOv+GUweIyYIGky+eRv+CozeehyeWbx+VSnNBSm8+RweOdx+VSm8+VwuKTweFSm9BTl8ebxuNSm9CPvuGZw+RSm81Rm9BLnMyYw+NRnNCIv+NRnc6RwOGhyOWly+dSm89RndGMweNSnNFSndBSnM9QnNBSm8+ny+dSnNGXw+NSm8+pzef///8iPlJ8tdvV5/M6bJGdx+VScotGhbEuVHKOvuCaxeNRf587YHpbh6V3pcZjjakzWXWYw+NGaYN8rc9glryhyeUqRFh2m7ORt9F5Fq9uAAAAQXRSTlMArXnIJD8hXjCQmo0FttFn8cPY6V1O5y97ZOtB++K7aNBSyfGFcoZxtdw3oByuCqamDhNJ3fW+RBUrnThX+Pfjk4R3pw0AAA4RSURBVHgB7NXrTltHFMXxmjpOudmYELDMRYXg1DVNHWTTkIpSuqRKKOrHvv+z9EIvScD2OTN7zzpbWv9H2OunmS/y++r56zdf/vyLemhscNKgvV/b/ol9/oZ1P2WPwum7ta/Zp29g99hgD0Po2Vv23ZvZPbDJ3qa4hW321ZvanxowYM9TtLbehYX9pQE99kIFW2NfvMn9rQF77I1K1dYnsawHDbcz9kxlunnFvneze9CA4YQ9VIn0S6zoHw3Y77Cn8m+dfezG968GzC/ZY3n3I/vWze8/Deiy1xIGev9rQJ+9l2v6Jir0kQacsBdzbI196BB9rAEt9mZuvWTfOUafaMAFezWn2q/Yd47Rpxpwx97Np232mYP0mQacs4fz6Bv2laP0uQaM2NPZ12YfOUyPNKDHHs+8t+wjh+mxhqNT9nrGvWPfOE6PNeDqkL2fbdvsG8fpCQ0YHrAHtExPQ/We0oDjDntCw96wTxyoJzVgd4u9oVnv2ReO1NMa0GWPaNZr9oUjtUAD+uwVrXrBvnCkFmnAmD2jTe/YBw7VQg2Ysoc0aZ194FAt1oAN9pIWfcs+cKiWaMAme8r82uz7xmqZBgzYY2Z3w75vrJZqwIi9Zm7r7PvGarkG7LHnzOwH9n1jtULD7Yy9Z14v2PeN1QoN2JmwB83pe/Z5g7VKA/Y77EkzarPPG6yVGjC/Zm+a3jP2eYO1WgO67E3Te8k+b7AqaMAZe9TkbtjnDVYVDThhr5rac/Z5g1VJA1rsWaWhSNU0YMreVRpKVFED7tjDSkOBqmrAOXtZafCvsgYM2NNKg3vVNaDH3lYavKuh4eiUPa40OFdDA65m7HWlwbc6GjCcsOeVBtdqacBxh72vNHhWTwN2L9kDS4NjNTWgyx5YGhyrqwF99sLS4FdtDRizJ5YGt+prQIu9sTR4laABF+yRpcGpFA3YZK8sDT4lacA5e2ZpcClNA0bsnaXBo0QN2GMPLQ0OpWo4OmUvLQ32pWrAziF7amkwL1kD9g/YW0uDdekaML9mjy0NxmVowO4We21psC1HA87Ya0uDbVka0GfPLQ2m5WnAmL23NFiWqQFT9uDSYFiuBmywF5cGu7I1YJM9uTSYla8BA/bm0mCVgQb02KNLg1EWGrDHXl0abDLRcDtjzy4NJplowHDC3l0aLLLRgP0Oe3hpMMhIA+aX7OWlIT8rDeiyl5eG/Mw0oM+eXhqys9OAE/b20pCboQa02ONLQ2aWGnDBXl8a8jLVgDv2/NKQla0GnLP3l4acjDVgxAYgDRlZa0CPLUAa0jPXcHTKJiANyZlrwNUh24A0pGavAcMDNgJpSMxBA447bAXSkJaHBuxusRlIQ1IuGtBlM5CGpHw0oM92IA0pOWnAmA1BGhLy0oApW4I01M9NAzbYFKShdn4asMm2IA11c9SAARuDNNTMUwNG0hArVw3Yk4ZQ+Wq4nUlDpHw1YGciDYFy1oD9jjTEyVsD5tfSECZ3DehKQ5j8NeBMGqJUQANOpCFIJTSgJQ0xKqIBU2kIURkNuJOGCBXSgHNpCFApDRhIQ/MrpgE9aWh85TQcnUpD0yunAVczaWh4BTVgOJGGZldSA4470tDoimrA7qU0NLnfi2pAVxqaXGEN6EtDc/vwW2ENGEtDY/vwa2kNaEkDuT/Yq7+fJpYogOO5L+QGCFwIgSugCQYikQdixMQnI9PZXZwplJaf6v//f7jIhmOhu53aZs8JfL/xze2WzPn0TO2/4rp1De4ADUYLN+1rcAtosFkIChrcLhpMFgoNDW4PDSaLXRUOa2iwWMxUNGzvoMFg8UZFg/tvCw32Kno6Gtz6BhrMFeKpEoejz2gwl+8raXCri2iwVrzS0uDeosFaMd6qcVhBg7GC3lXh3D4ajBV7ehrcIRpsFXxXkcM8GkwV/LmiBreABlNFf6rJ4X80WEp5ObhlNFhKeTm4NTQYSns5fPmIBkNF/1OVw+Z7NNgp+J6qBrc+hwY7Rd/X5XD0AQ1mCt5f6nJYQoOdgj/T1eBW0GCnwg+UObxBg52i7ytz+AcNZgred5U5HKDBTIWPJ8ocvqLBTIW/0OawiwYzFb53qcxhDw1mMsBhGQ1mKi+Lrq6G7R00mKnwfqDL4dMWGsxUcjjT5bC5gQYzlRxipsrh9RwazBR8uR4uNTmsLqLBTuV68INbRQ5LaDDUHQc/ONHjsIIGQ93dFuV9ca3GYR8Nlvq9HvzFeVeJwyEaLFXceyhB/FC5MubRYKqKQ9n3s0G/9VtjAQ22Eg+Vit7V1bfWeocGYz320Gav0GAuPQ9osJiWBzTYrIhoICkoLAg0GK5oGwQabNcuCDTYr2itf9FAD6GBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIOk5acjqmvodM/1rZvYNs+8Zacg6TeW5Sznzhs/n+UQzyzuTpH14970YDdVMx4kY9/l0EWhQLUs79+Z5Tv2Ch9CgWpZ89A3jnAGoKjSolq6hYZxTv+AhNKg2gYZOx9W8ZAagqtCg2kQa6jjMAFQVGlSbTEMnH/mSGYCqQoNqWf2gs8zledIwR84nK3N5Kqgqed5l49M+vPtehobqgXw8h6Zf6wgRDVPMUx4y1kvSUObGrecxu/sxqIYNjwbVUjQMX+cjlsPYOT/ykCd8ERoUStMwtB6e/m/Cr37Yg6t7DA2qJWr4k8PTUabcAcdJHNCgWqqG46k1DO2XugfRoFqyBtcwyTQNQxxqlgMa/qpf7NVNjqswEEXhtaUivP8lvdm70Bj/EFI3CeeoZ1i2lPravupvWEPrchjUMMABDdbGNcTrGh5oQENtj4OlaLA2rqGxcljDmkP1ckCDtXENjys0PDqXAxqsndHwHP+yq3M5oMFatobO5YAGa+kaAg1o+F/7qUCDtTMayuGXAQ0PNPyChuUiDdE6EQ3WnBoqq9FgbVxDOb7hpzToxMrE0WDtjIbdoKY0rFbHzCEf2x01LI2Rz2kojSPRYG1YQ2uGcxoCDd+uofnao+FmGso7NDwbx6DB0KCGFYbKOjTcSsMKQ23gcxqWIQ3twv27rbqZhujNAQ230bCxUF91WsPuOUCDtbaGJf6Op/qcz2l4oOHzNTxjUym1yVQxoOEHNQxUx8BLcUsNBxjQcEMNxxM4rWH3DQ3WhjXEcrzJOzREs8X9u626n4Zo/jPOaYghDZ8073Z309C7l89qKLtvaLDW01BGbuU5DQUNn6+h7B/n0Ymg4fc0nN9kTsMTDWjYn1iZOBqsoeHl0LBtSkNpnYgGa2h4OTRsm9HQfCjQ4C1dQ0EDGipra4vRYC1bw+qhqB2IBmvZGtoPBRq8JWvoXA1o8Jas4dm+GtDgLVdD6VwNaPCWqmHpXQ1o8JapYY3hYCUarCVq2GCI+ho0WMvTEAMY0OAtTcMGw+FZaLCWpWGD4XjUaLCWo2Fr4fCdQIO5DA1/LDQwoMHbuzVElD8WWhjQ4O1iDYuKqEjoYECDt4s19GtiQIO3bA2dIaPBWq6G6O2EBmuZGroW0GAuT8OABTSYS9JQhiygwVyGhojhndBg7Y0aSikRMTdVNNB3hwZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghYav7R97dY8SWQCEUfQxPzDBGHbeIDQ0qEFnovtfl+FdwCspg3OoDXxwob7h1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRABmr43N7AlPfzNVy2NzDl5XwNH9sbmPJ2voY/2xsY8nw+huP/9giGXAdqOO7bK5jxOlHD0/YKZtwmarhtr2DGZaKGy/YKZjwmanhsr2DEdSKG4/i9vYMJt5kafm3vYMLfmRr+be9gwH0mhh//Kr7aq5sVV4EwCMNFjHiEk5Vk3YKgBFSCi4RRQu7/rsaQ3TA/xv66a2TqwRso+6Vb3xJGDwXQsJeIv71VDf2NPUV8dVYxADl7i/i62tXQsreIp4NdDLocNi+1rGGo2HPEx2gZA9Cw94iHqrWtARf2IlnPGceAib1IVjtbx6C3YrtOg30NGNmrZJ00QAxAwp4la2RBYkBbsIfJ63ZhYgD+KYfNCRaDctiegDEAbyV7nrzChYwBGA7sgbJYdQwbwyxnb5SFLvvgMQBZxZ4pS9QRWpi1Z/ZQ+VGSxolhdizZY+VbhYvWwoM7sQfLl267PmoMsyxhj5ZPlc3/2C08THnBXi4fFOOVkcJTWuuG+D2SmpjCUz+5vCvv7D/xp93LLndp732W77cNMtZf1rNQAAAAAElFTkSuQmCC"},2252:function(e){e.exports=JSON.parse('{"otherRegion":"其他國家或地區","setting.serverRootPath":"服務入口路徑","setting.serverRootPathPlaceholder":"輸入路徑如：myweb","setting.serverRootPathHint":"範例:如原始URL為http://192.168.1.5:80，入口路徑設定為abc，則URL變為:http://192.168.1.5:80/設定後重啟NasCab生效，此設定不影響WebDav和Ftp分享","setting.serverRootPathError":"路徑僅支援字母數字且不超過32位元","china":"中国(含港澳台) ","addMapServer":"新增瓦片伺服器","region":"地區","maxZoom":"縮放等級","currentUsing":"目前使用","mapSwitchAlert":"切換地圖後,頁面將刷新並重新載入,是否確認切換?","tileServerUrl":"瓦片伺服器","coordinate":"座標系","switchMap":"切換地圖","languageAndRegion":"語言和地區(Region&Language)","regionAlert":"不同地區版本之間NasCab會員帳號與資料不通用,功能也不完全相同,請依實際狀況選擇","defaultPlay":"優先播放","rawFile":"原始檔案","folderDownloadAlert":"您正在嘗試下載資料夾,資料夾將以zip壓縮包形式下載,是否確認?","notes":"便條","mix":"混搭","copyLink":"複製下載連結","linkCopied":"下載連結已複製","remark":"備註","intervalScan":"間隔掃描","intervalScanAlert":"每隔一段時間掃描磁碟並新增檔案的索引","everyXHour":"每{count}小時","scanAll":"掃描全部目錄","addUserRemark":"設定使用者備註","userRemarkPh":"輸入使用者名稱或備註搜尋","proxy":"代理","quickKey":"快捷鍵","fileKeyAlert":"[+/=]:放大[-]:縮小[c]:切換展示方式[r]:刷新","photoKeyAlert":"[+/=]:放大[-]:縮小[c]:切換展示方式","saveAndTest":"儲存並測試","tmdbProxy":"啟用TMDB代理","tmdbAlert":"當您的網路環境無法存取TMDB的伺服器時,可以設定使用本機代理程式,如:http://127.0.0.1:10809等,實際的本機代理位址根據您的代理軟體設定而定","protocol":"協議","host":"主機[含協定與連接埠]","afterScrapeAlert":"請求成功,任務將在背景進行,請稍後刷新頁面或查看[刮削日誌]確認結果","tryRescrape":"請嘗試重新刮除","scrapeSeasonDetail":"請求季節詳情[TMDB]","scrapeDetail":"請求劇情片詳情[TMDB]","scrapePath":"刮削路徑","scrapeType":"刮削型別","result":"結果","resultPath":"儲存路徑","failReason":"失敗原因","scrape":"刮削","scrapeLog":"刮削日誌","scrapeEpisode":"刮削缺失劇集","scrapeMissingAlert":"將嘗試根據本劇已有NFO文件刮削缺失的劇集信息,確定嗎?","poster":"封面","scanWhenStart":"啟動時掃描","scanWhenChange":"有變動時自動掃描","scanWhenChangeAlert":"部分作業系統與運作環境可能不支援此功能,如Windows下的Docker,網路磁碟等,在對來源目錄進行大量修改時,建議暫時關閉此選項","proxy.smooth":"暢通","proxy.normal":"中","proxy.busy":"擁擠","book.library":"圖書管理","episodeCount":"集數","bestSize":"建議長寬比例","whiteBg":"透明或白色背景","bestBg":"推薦使用淺色圖片","loginWelMsg":"登入頁歡迎語","keyword":"關鍵字","nameRule":"刮除命名規則","alreadyInQueue":"任務已加入執行隊列","movieNameRule":"電影命名規則:霸王別姬(1999).mp4,如不知道具體年份也可以不加","tvNameRule":"電視劇命名規則:建議採用3級目錄命名方式,如:權力的遊戲> [\'Season 1\'或\'s2\'或\'第三季\'或\'第4季\'] > [\'權力的遊戲S01E01.mp4\'或\'權力的遊戲EP02.mp4\'或\'權力的遊戲E03.mp4\'或\'權力的遊戲第4集.mp4\']","loginImg":"登入頁圖片","sourceIncludeCache":"此路徑在您設定的快取目錄下,將不會被掃描,請在【配置中心-系統設定】中修改快取目錄","homeBg":"首頁背景圖","cantAccess":"無法存取","localNetAlert":"如果此位址無法存取,請依照下列順序排查:1.存取裝置和服務端必須處於同一個IP網段,在同一個路由器下。2.如果您使用的是Windows系統,請確保已經在防火牆把服務端放行。","logoLeft":"左上角LOGO","successAndRestartImgViewer":"設定成功,請重新開啟圖片瀏覽器","imgPreviewSize":"大片預覽尺寸","longSideMaxPx":"長邊最大尺寸(像素)","imgQuality":"圖片品質[建議60-90]","imgPreviewAlert":"設定自訂圖片預覽尺寸,瀏覽大圖片時可以降低網路流量,提升載入速度,此功能不會改變您的圖片來源檔案,建議設定為[自訂][長邊3000-8000像素]","rawImage":"原圖","episode":"集","dragSelectAlert":"按住滑鼠左鍵拖曳多重選擇","yourInputTooLong":"您輸入的內容太長,請保持在{count}個字以內","onlySupportCustomImageFormat":"只支援JPG,PNG,WEBP格式","chooseDeleteOption":"選擇刪除選項","watched":"看過","lastWatched":"上次看到","number":"數字","index.title":"正在初始化...","net.error":"網路連線錯誤...","cannotBeEmpty":"{content}不能為空","terminal.disconnect":"終端連線已中斷","terminal.failConnect":"終端連線失敗","terminal.connected":"終端已連線","terminal.start":"啟動終端","creator":"創作者","terminal.title":"終端機工具","refreshQrcode":"刷新二維碼","customUrlAlertA":"您還可以在","customUrlAlertB":"中設定分享URL,用於每次自動替換伺服器位址","pleaseSelectFolder":"請選擇一個資料夾","itemsCount":"個項目","switch":"切換","imageSize":"圖片尺寸","second":"秒","width":"寬度","height":"高度","pixel":"像素","setting":"設定","open":"開啟","verify":"驗證","dataFrom":"資料來源","theSeason":"第{number}季","season":"季","selectWhichSeason":"您要選擇哪一季?","putInSystemTrash":"放入作業系統回收站","fileNotFound":"檔案找不到,請檢查","openInSystem":"在系統中開啟","selectedInSystem":"在系統中選取","file.hidePath":"隱藏檔案路徑","file.hidePathAlert":"如果您不想讓某些資料夾在文件瀏覽器中顯示,可以在這裡添加想要隱藏的路徑,隱藏後的路徑將不會顯示在文件瀏覽模組中,此功能只能在服務端的程式視窗內設定,無法在瀏覽器或APP中設定,此功能僅支援Windows和Mac平台","file.hidePathPlaceHolder":"輸入要隱藏的路徑,如:D:\\\\或/Applications等","shareForSubUser":"對所有使用者可見","transcodeSpeed":"轉碼速度","transcodeReadRate":"轉碼讀取速率","transcodeReadRateAlert":"轉碼時對來源檔案的最大讀取速率倍數,即每1秒讀取最多幾秒的視訊來源檔案,降低此數值可降低cpu和gpu佔用率,過低會影響轉碼速度,建議設定為2-10之間","transcodeSpeedAlert":"轉碼速度越快,畫面品質越低","decoderErrorAlert":"此解碼器為測試狀態,如無法解碼請切換到其他解碼器","ultrafast":"最快","superfast":"超快","veryfast":"非常快","faster":"更快","fast":"快","medium":"中","slow":"慢","slower":"較慢","veryslow":"非常慢","pageCount":"{count}群組/頁","transcode":"轉碼","valueMustBeNum":"值必須是數字","whatModelWillYouUse":"設定需要在首頁顯示的功能","whatModelWillYouUseSubuser":"為此使用者顯示哪些選單?","shareDomainSetting":"分享網域設定","shareDomainAlert":"設定後,將用於自動替換分享連結中的伺服器位址,如快速分享等功能,需包含位址與連接埠以及入口路徑","map.currentZoomLevel":"目前縮放等級{zoom}","map.upgradeZoom":"升級版,解鎖12級地圖","proxy.switchAlert":"由於DNS快取時效問題,切換線路將導致最長5-30分鐘的網域生效時間,是否確認切換?","proxy.downloadFrp":"下載FRP","proxy.currentRoute":"目前線路","proxy.routeList":"可選線路清單","proxy.pluginState":"外掛程式狀態","proxy.installPlugin":"安裝外掛程式","proxy.installed":"已安裝","proxy.pluginPath":"外掛程式安裝路徑","proxy.installMsgSent":"安裝指令已發送,稍後將自動刷新","proxy.uninstalled":"未安裝","proxy.cannotLoginMulti":"同時在多個服務端登入同一個NasCab帳號會導致內網穿透無法使用","proxy.firewallAlert":"NasCab使用第三方開源軟體FRP進行內網穿透,在Windows下有可能被防火牆誤殺,請確保將frpc檔案加入白名單,否則可能無法使用","proxy.frpcGithub":"FRP開源位址及相關討論:https://github.com/fatedier/frp","language.chi":"中文","language.eng":"英文","language.ger":"德文","language.spa":"西班牙文","language.fre":"法文","language.jpn":"日文","language.kor":"韓文","common.menu":"菜單","common.pathExist":"路徑已存在","common.fileExist":"檔案已存在","common.cancelFavorite":"取消收藏","common.sortField":"排序方式","common.sortType":"排序類型","common.asc":"升序","common.desc":"降序","common.iKnow":"我已了解","common.yes":"是","common.addMore":"增加","common.no":"否","common.nothing":"無","common.download":"下載","common.selectAll":"全選","common.folder":"資料夾","common.file":"檔案","common.name":"名稱","common.onlyCanUseInApp":"只能在APP內部使用","common.eq":"等於","common.gt":"大於","common.lt":"小於","common.contain":"包含","common.filepath":"檔案路徑","common.textTooLong":"字元長度超出限制","common.buyVipInPc":"請在PC端購買","common.addPath":"新增路徑","common.selectSubuser":"選擇子使用者","setting.tokenKeepTime":"登入狀態保持時間[小時]","setting.tokenKeepMaxAlert":"登入狀態維持時間最大值為720小時","sign.tv":"劇","sign.movie":"影","checkTime":"查看時間","file.withoutSharedFile":"找不到共用檔案","file.changeToRealUrl":"可將共用連結中的{url}部分更換為您實際的伺服器位址與連接埠","file.endDate":"截止日期","file.shareLink":"共享連結","file.validity":"存取有效期限[天]","file.accessPwd":"存取密碼","file.noNeedPwd":"無需密碼","file.shareTempPwdPh":"輸入存取密碼,留空代表不需要","file.shareTempAlert":"快速分享檔案/資料夾,他人無需登入即可存取","file.addShareTemp":"新增快速分享","file.shareFolderAlert":"新增共用資料夾,所有子使用者無需授權即可查看","file.addShareFoler":"新增共用資料夾","file.sharePath":"共享路徑","holiday.yuandan":"元旦","holiday.chuxi":"除夕","holiday.chuyi":"初一","holiday.yuanxiaojie":"元宵節","holiday.qingrenjie":"情人節","holiday.funvjie":"婦女節","holiday.yurenjie":"愚人節","holiday.laodongjie":"勞動節","holiday.ertongjie":"兒童節","holiday.qixi":"七夕","holiday.duanwujie":"端午節","holiday.jiaoshijie":"教師節","holiday.zhongqiujie":"中秋節","holiday.guoqingjie":"國慶日","holiday.chongyangjie":"重陽節","holiday.wanshengjie":"萬聖節","holiday.pinganye":"平安夜","holiday.shengdanjie":"聖誕節","system.sysUpdate":"系統更新","system.systemResetSuc":"系統重設成功,請重新登入","system.copied":"已複製","system.hostName":"主機名稱","system.update":"更新","system.updateLog":"更新日誌","system.updateTo":"更新至","system.currentSystemVersion":"目前系統版本","system.lastestVersion":"最新系統版本","system.updateSent":"安裝套件下載後將自動進行安裝並重新啟動,期間NasCab將停止服務,請耐心等待","system.info.system":"設備概況","system.info.osInfo":"系統資訊","system.info.cpu":"CPU","system.info.mem":"內存","system.info.diskLayout":"硬碟","system.info.usb":"USB","system.info.audio":"音訊","system.info.networkInterfaces":"網路","system.info.bios":"BIOS","system.info.baseboard":"主機板","system.info.graphics":"顯示/顯示卡","system.info.wifiNetworks":"WIFI","system.info.bluetoothDevices":"藍牙","system.info.osInfo.platform":"平台","system.info.osInfo.distro":"發行版","system.info.osInfo.release":"Release","system.info.osInfo.kernel":"核心","system.info.osInfo.arch":"架構","system.info.osInfo.hostname":"主機名稱","system.info.osInfo.codepage":"建置版本","system.info.osInfo.logofile":"發行商","system.info.osInfo.serial":"序號","system.info.osInfo.build":"建置版本號碼","system.info.osInfo.uefi":"UEFI啟動支援","system.info.cpu.manufacturer":"製造商","system.info.cpu.brand":"品牌型號","system.info.cpu.speed":"頻率Ghz","system.info.cpu.speedMin":"最小頻率","system.info.cpu.speedMax":"最大頻率","system.info.cpu.cores":"核心數","system.info.cpu.physicalCores":"物理核心數","system.info.cpu.processors":"處理器數量","system.info.cpu.socket":"介面","system.info.cpu.vendor":"供應商","system.info.cpu.family":"家族","system.info.cpu.model":"型號","system.info.cpu.stepping":"步進","system.info.cpu.revision":"版本號","system.info.cpu.flags":"標記","system.info.cpu.virtualization":"支援虛擬化","system.info.cpu.cache":"快取","system.info.cpu.performanceCores":"效能核心","system.info.cpu.efficiencyCores":"能源效率核心","system.info.mem.total":"容量","system.info.mem.free":"可用","system.info.mem.used":"已使用","system.info.mem.active":"主動使用(不包括緩衝區/快取)","system.info.mem.buffcache":"緩衝區/快取","system.info.bios.vendor":"供應商","system.info.bios.version":"版本","system.info.bios.releaseDate":"發行日期","system.info.bios.revision":"版本號","system.info.bios.serial":"序號","system.info.baseboard.manufacturer":"製造商","system.info.baseboard.model":"型號","system.info.baseboard.version":"版本","system.info.baseboard.serial":"序號","system.info.baseboard.assetTag":"資產標籤","system.info.diskLayout.device":"裝置路徑","system.info.diskLayout.type":"類型","system.info.diskLayout.name":"名稱","system.info.diskLayout.vendor":"供應商","system.info.diskLayout.size":"容量","system.info.diskLayout.firmwareRevision":"韌體版本","system.info.diskLayout.serialNum":"序號","system.info.diskLayout.interfaceType":"介面類型","system.info.diskLayout.smartStatus":"SMART狀態","system.info.diskLayout.bytesPerSector":"每區位元組數","system.info.diskLayout.totalCylinders":"總柱面數","system.info.diskLayout.totalHeads":"總磁頭數","system.info.diskLayout.totalSectors":"總扇區數","system.info.diskLayout.totalTracks":"總軌道數","system.info.diskLayout.tracksPerCylinder":"每柱面磁軌","system.info.diskLayout.sectorsPerTrack":"每磁軌磁區數","system.info.diskLayout.temperature":"SMART溫度","system.info.usb.bus":"USB匯流排","system.info.usb.deviceId":"匯流排設備ID","system.info.usb.id":"內部ID","system.info.usb.name":"名稱","system.info.usb.type":"類型","system.info.usb.removable":"可移除","system.info.usb.vendor":"供應商","system.info.usb.manufacturer":"製造商","system.info.usb.maxPower":"最大功率","system.info.usb.serialNumber":"序號","system.info.audio.id":"內部ID","system.info.audio.name":"名稱","system.info.audio.manufacturer":"製造商","system.info.audio.revision":"版本號","system.info.audio.driver":"驅動程式","system.info.audio.default":"是否預設","system.info.audio.channel":"通道","system.info.audio.type":"類型","system.info.audio.in":"是否為輸入","system.info.audio.out":"是否為輸出","system.info.audio.interfaceType":"介面類型","system.info.networkInterfaces.iface":"介面","system.info.networkInterfaces.ifaceName":"介面名稱","system.info.networkInterfaces.default":"是否為預設","system.info.networkInterfaces.ip4":"IPV4位址","system.info.networkInterfaces.ip4subnet":"IPV4子網路遮罩","system.info.networkInterfaces.ip6":"IPV6位址","system.info.networkInterfaces.ip6subnet":"IPV6子網路遮罩","system.info.networkInterfaces.mac":"Mac位址","system.info.networkInterfaces.internal":"內部","system.info.networkInterfaces.virtual":"是否為虛擬","system.info.networkInterfaces.type":"類型","system.info.networkInterfaces.mtu":"最大傳輸單元","system.info.networkInterfaces.speed":"速度MBit/s","system.info.networkInterfaces.dhcp":"DHCP取得的IP位址","system.info.networkInterfaces.dnsSuffix":"DNS字尾","system.info.bluetoothDevices.device":"裝置名稱","system.info.bluetoothDevices.name":"名稱","system.info.bluetoothDevices.macDevice":"MAC","system.info.bluetoothDevices.macHost":"MAC位址主機","system.info.bluetoothDevices.batteryPercent":"電量","system.info.bluetoothDevices.manufacturer":"製造商","system.info.bluetoothDevices.type":"類型","system.info.bluetoothDevices.connected":"是否已連線","system.info.graphics.vendor":"供應商","system.info.graphics.vendorId":"供應商編號","system.info.graphics.model":"型號","system.info.graphics.name":"名稱","system.info.graphics.deviceId":"裝置ID","system.info.graphics.bus":"匯流排","system.info.graphics.vram":"VRAM size (MB)","system.info.graphics.external":"是否外接","system.info.graphics.cores":"核心數","system.info.graphics.deviceName":"裝置名稱","system.info.graphics.productionYear":"生產年份","system.info.graphics.serial":"序號","system.info.graphics.displayId":"顯示ID","system.info.graphics.main":"是否為主要","system.info.graphics.builtin":"是否為內建","system.info.graphics.connection":"連線方式","system.info.graphics.sizeX":"水平尺寸(mm)","system.info.graphics.sizeY":"垂直尺寸(mm)","system.info.graphics.pixelDepth":"色深(bits)","system.info.graphics.resolutionX":"水平解析度","system.info.graphics.resolutionY":"垂直解析度","system.info.graphics.currentResX":"當前水平解析度","system.info.graphics.currentResY":"目前垂直解析度","system.info.graphics.currentRefreshRate":"目前刷新率","system.info.graphics.driverVersion":"驅動程式版本","system.info.graphics.memoryTotal":"總顯存(MB)","system.info.graphics.memoryUsed":"已使用顯存(MB)","system.info.graphics.memoryFree":"可用記憶體(MB)","system.info.graphics.temperatureGpu":"溫度","system.info.graphics.powerDraw":"功率消耗(w)","system.info.graphics.utilizationGpu":"GPU使用率%","system.info.graphics.clockCore":"時鐘核心","nascab.online":"線上","reconnect":"重連","home.scanToAccess":"可以使用瀏覽器/微信等掃碼存取","usage":"使用率","sureToClose":"確認關閉嗎?","nascab.useNasCabCert":"使用NasCab提供的https憑證","nascab.useApiCert":"使用和API服務相同的憑證[您在配置中心配置的或DDNS服務提供的]","nascab.useNasCabCertCloseAlert":"關閉後,將使用預設憑證作為https協定的api介面憑證,您也可以在通用設定中自行配置","nascab.useNasCabCertAlert":"開啟後,將使用NasCab提供的https憑證,程式啟動時,用作https協定的api介面憑證,重啟應用程式才能生效","nascab.clearCustomProxy":"清除連接埠對映配置","nascab.conFromLan":"如果您和伺服器處於同一區域網路,可以從區域網路連線:","nascab.localMachine":" [127.0.0.1代表本機] ","nascab.invalidIp":"請輸入正確的IP","nascab.invalidPort":"請輸入正確的連接埠","nascab.pleaseOpenTwoStepsLogin":"開啟遠端存取後,您的NasCab服務可以從公網存取,請您務必在安全中心開啟\'兩步驟登入\'以增強帳戶安全性","nascab.lanAccessAlert":"在同一個區域網路內的任一瀏覽器,輸入此網址可存取NasCab服務,完全相容PC/手機瀏覽器","nascab.proxyDelay":"每次重連後,網域生效可能會有5-30分鐘延遲,請耐心等待","nascab.sameAccountLogin":"同一個NasCab帳號不支援同時在多個客戶端登入","nascab.reconnectSent":"重新連線請求已傳送,請稍後重新整理查看連線狀態","nascab.connectState":"連線狀態","nascab.connectLine":"連接線路","nascab.sureEnableDDNS":"確認啟用DDNS嗎?DDNS用來將NasCab專屬網域解析到您的動態公網IP.","nascab.sureDisableDDNS":"確認關閉DDNS嗎?","nascab.ddnsIp":"解析IP","nascab.ddnsType":"解析類型","nascab.isEnable":"是否啟用","nascab.sureEnableRemote":"確認啟用遠端存取嗎?","nascab.sureDisableRemote":"確認關閉遠端存取嗎?如果您正在使用遠端存取,連線將立即中斷","nascab.remoteAccessMenu":"內部網路穿透","nascab.offline":"離線","nascab.remoteAccess":"遠端存取位址","nascab.customServerRemoteUrl":"自訂服務公網存取網域","nascab.setDomain":"設定我的專屬網域","nascab.myDomain":"我的網域","nascab.ddnsDomain":"DDNS網域","nascab.proxyDomain":"內網穿透網域名稱","nascab.contactServe":"聯絡客服","nascab.validUntil":"有效期限至","nascab.needUpgrade":"免費版無法使用此功能,請用管理員帳號在\'配置中心->NasCab帳號\'中升級後再試","nascab.version":"當前版本","nascab.renewal":"續期","nascab.loginFirst":"請先登入NasCab帳號","nascab.upgrade":"升級","nascab.versionFree":"個人免費版","nascab.versionPro":"專業版","nascab.versionTeam":"白金版","nascab.goToBind":"去綁定","nascab.account":"NasCab帳號","nascab.notLogin":"未登入","nascab.switchAccount":"切換帳號","nascab.email":"信箱","nascab.changeToLan":"您和要連接的NasCab服務處於同一個區域網路,切換到區域網路存取可以大幅加快存取速度,是否切換?","nascab.phone":"手機","nascab.exitAccount":"退出NasCab帳號","nascab.accountManage":"管理我的NasCab帳號","slogan":"Nas Cab做最簡單好用的多媒體管理軟體","common.faq":"常見問題","proxy.faqContent1":"1.內網穿透的作用：讓您的NasCab在沒有公網IP的情況下可以透過公網存取。開啟後請在安全中心開啟兩步驟登入增強安全性。 ","proxy.faqContent2":"2.內部網路穿透和DDNS的區別：內部網路穿透不需要公網IP,資料需NasCab伺服器中轉。DDNS需要公網IP,連接方式為直連無需中轉。內網穿透和DDNS可以透過設定不同子網域同時啟用。","proxy.faqContent3":"3.內部網路穿透是否安全：傳輸採用HTTPS+AES雙重加密,NasCab伺服器只做中轉,不對資料做任何過濾和審核,也無法被中間路由器取得。 ","proxy.faqContent4":"4.內部網路穿透的連接埠：內部網路穿透網域的連接埠固定為443(HTTPS)","proxy.faqContent5":"5.Frp在Windows下的殺軟誤報,相關討論請見Frp倉庫： https://github.com/fatedier/frp","ddns.faqContent1":"1.如何驗證ddns是否成功:使用命令列對您的網域進行ping操作,觀察解析出來的IP是否和顯示的一致","ddns.faqContent2":"2.映射成功後無法存取:如果是IPV4還需要在路由器進行連接埠轉送,把NasCab服務埠轉送至NasCab所在裝置,IPV6通常不需要","ddns.faqContent3":"3.是否需要加埠存取:如果是預設連接埠(http:80)(https:443)不需要,非預設連接埠需要使用[http(s)://網域：連接埠]的形式訪問","ddns.faqContent4":"4.如果仍然無法存取,可以切換不同服務端口嘗試,部分運營商可能會屏蔽80和443端口","ddns.faqContent5":"5.如何確認是否擁有動態公網IPV4位址:在搜尋引擎搜尋\'IP\'等關鍵字,查看自己的公網IP,然後和路由器WAN IP對比是否一致,一致則為公網IP","common.rename":"重新命名","common.startTime":"開始時間","common.newVersionReady":"新版本{version}已準備好","common.import":"導入","common.export":"導出","common.show":"顯示","common.new":"新建","common.multiSelect":"多選","common.longPressShowMenu":"長按可以彈出選單","common.rightClickShowMenu":"右鍵點選彈出選單","upload.success":"上傳成功","upload.error":"上傳失敗","upload.uploading":"上傳中...","upload.paused":"已暫停","upload.waiting":"等待中","upload.noTargetPath":"未選擇目標上傳資料夾","upload.folderAlert":"注意：使用資料夾上傳時,無法保持子資料夾結構","common.pleaseInputSearchContent":"請輸入搜尋內容","common.welcomeToNasCab":"歡迎使用NasCab雲可雲","common.hide":"隱藏","common.close":"關閉","common.top":"頂部","common.ok":"確定","common.and":"和","common.iSee":"知道了","common.alert":"提示","common.title":"標題","common.search":"搜尋","common.resetDefault":"重設為預設","common.default":"預設","common.detail":"詳情","common.refresh":"刷新","common.refreshList":"刷新清單","common.confirm":"需要您確認","common.noMore":"沒有更多了","common.returnLastLayer":"返回","common.noData":"無資料","common.operationSuccess":"操作成功","common.checkAfter":"操作將在背景進行,稍後刷新可以查看結果","common.operationFail":"操作失敗","common.getFail":"取得失敗","common.options":"選項","common.all":"全部","common.succesed":"成功","common.faild":"失敗","common.uploading":"上傳中","common.home":"首頁","common.photo":"照片","common.save":"儲存","common.video":"影片","common.cancel":"取消","common.cancelled":"已取消","common.select":"選擇","common.update":"更新","common.mode":"IP模式","common.blacklistMode":"黑名單模式","common.whitelistMode":"白名單模式","common.edit":"編輯","common.cancelSelect":"取消選擇","common.selected":"已選擇","common.loadmore":"載入更多","common.username":"使用者名稱","common.password":"密碼","common.question":"密保問題","common.answer":"密保答案","common.commit":"提交","common.add":"新增","common.upload":"上傳","common.delete":"刪除","common.clear":"清除","common.action":"操作","common.deleteSuccess":"刪除成功","common.deleteSuccessWithCount":"{sucCount}個檔案刪除成功,{errCount}個檔案刪除失敗","common.deleteSure":"確認刪除嗎?","common.change":"修改","common.changeSuccess":"修改成功","common.check":"查看","common.return":"返回","common.unselect":"取消已選取","common.noPermission":"無權限","common.tokenExpire":"登入狀態過期","common.whatWillYouDo":"您要怎麼做?","common.year":"年","common.month":"月","common.day":"日","common.continue":"繼續","common.sureSaveChange":"是否儲存修改?","common.monday":"星期一","common.tuesday":"星期二","common.wednesday":"星期三","common.thursday":"星期四","common.friday":"星期五","common.saturday":"星期六","common.sunday":"星期日","common.chooseUser":"選擇使用者","common.noAccess":"無存取權限","common.other":"其他","common.path":"路徑","common.state":"狀態","common.available":"可用","common.unavailable":"不可用","common.help":"幫助","useWhitePhotoGps":"參考了下列圖片的GPS資訊","help.howToWork":"此功能如何運作?","help.addGpsHelp":"例如：您在11點用單眼相機拍攝了100張沒有GPS訊息的照片,又在臨近時間【如當天12點】用手機拍攝了一張帶有GPS訊息的照片,您可以利用此功能將手機拍攝的照片的位置資訊寫入單眼拍攝的一系列照片中,此功能僅支援JPEG格式。","security.sameIpOrigin":"IP同源偵測","security.sameIpAlert":"客戶端IP變更後Token立刻過期,可提升安全性,但在複雜網路條件下可能導致登入狀態頻繁過期,請根據實際情況決定是否開啟,重啟NasCab生效","security.blackDesc":"該模式下,黑名單中的IP無法存取","security.whiteDesc":"該模式下,只有白名單中的IP可以存取","security.ipFromatWrong":"IP格式不正確","security.addOne":"新增一個","security.description":"描述","security.removeFromBlackList":"從黑名單移除","security.removeFromWhiteList":"從白名單移除","security.blackList":"IP黑名單","security.whiteList":"IP白名單","security.login":"登入","security.changePwd":"修改密碼","security.username":"使用者名稱","type":"型別","security.time":"記錄時間","security.client":"客戶端","security.loginFail":"登入失敗","security.timesIpBlock":"次後,IP封鎖","security.minutes":"分鐘","security.logs":"日誌","security.twoStepsDesc":"開啟後,在本機以外的地方登入需要填寫密保問題答案","notice.markAllAsRead":"全部標記已讀","notice.deleteAll":"全部刪除","notice.error":"錯誤","notice.info":"訊息","private.fileWillDeleteForever":"檔案將被永久刪除","private.spaceInfo":"空間資料","private.shootTime":"拍攝時間","private.chooseExportPathFirst":"請先選擇要匯出的空間路徑和目標路徑","private.tokenExpired":"加密空間驗證狀態過期,請嘗試重新進入","private.videoNoTransPlay":"加密空間中的影片因格式原因無法支援即時轉碼,在原始檔案無法播放的情況下,您可以下載解密後的影片到本機播放","private.privateSpaceDescA":"加密空間用於加密並保存您的資料,AES加密保障資料安全","private.privateSpaceDescB":"每一個加密空間保存在獨立的資料夾中,支援建立多個加密空間","private.deleteSpaceAlert":"確認刪除加密空間嗎?加密空間對應的資料夾不會被刪除,您可以手動刪除,如後續需要,可以透過\'導入加密空間\'功能對資料夾進行導入","private.addPrivateSpace":"新增加密空間","private.changeSpaceName":"修改空間名稱","private.inputNewName":"輸入一個新的空間名稱","private.sureDeleteSpace":"確實要刪除空間嗎?","private.importPrivateSpace":"導入空間","private.importPrivateSpaceDes":"此功能用於匯入您先前建立的加密空間","private.createPrivateSpace":"建立加密空間","private.spaceName":"空間名稱","private.spaceFolder":"空間目錄","private.spacePwd":"空間密碼","private.newSpaceName":"導入後空間名稱","private.rawSpacePwd":"原空間密碼","private.rawSpaceFolderPath":"選擇原加密空間所對應的資料夾","private.createDate":"建立日期","private.folderPath":"選擇加密空間資料保存位置(所選資料夾必須為空)","private.inputSpacePwd":"輸入空間密碼","private.uploadFile":"上傳檔案","private.uploadFileToSpace":"上傳檔案到加密空間[上傳期間不要關閉空間]","private.passwordInvalid":"空間密碼過期,請嘗試重新進入空間","private.exportSpaceData":"匯出空間","private.exportFolder":"匯出目標資料夾","private.exportTaskInLine":"匯出任務已加入執行佇列","private.exportSpaceDataDes":"此功能用於將加密空間的資料全部解密並導出到您指定的資料夾,即使設定檔損壞的空間也可以使用此功能匯出資料","ws.indexState":"索引狀態","ws.backupState":"備份服務狀態","ws.indexing":"索引中...","ws.indexingDone":"索引完成","share.atLeastChooseOneUser":"至少選擇一位使用者","share.noChooseShareFolder":"您需要選擇分享目錄","share.WebDav":"WebDav","share.FTP":"FTP","share.shareDesc":"檔案分享可以讓您把本機資料夾分享給網路上的其他電腦存取,支援WebDav協定,Ftp協定","share.chooseFtpRootPath":"選擇FTP根目錄","share.ftpRootPath":"FTP根目錄","share.urlExample":"訪問url範例:","share.addShareFold":"新增共用資料夾","share.updateShareFold":"更新共用資料夾","share.pathSign":"共用路徑識別碼","share.fullWebDavUrl":"共用URL","share.pathSignPlaceHolder":"僅支援字母與數字","share.chooseShareFold":"選擇共用資料夾","share.shareFold":"共用資料夾","share.userAlreadyInList":"使用者已存在","share.choosePowerUser":"選擇授權使用者","share.selectedUserList":"已授權的使用者清單","share.restartFileShareAlert":"此操作將重新啟動檔案共用服務,所有已有連線客戶端將暫時中斷,確認嗎?","share.restartSuccess":"檔案共享服務已重新啟動","share.adminHasPowerDefault":"管理員帳號預設擁有所有共用資料夾的存取權限","share.noShareAlert":"還沒有共用資料夾,點擊底部按鈕建立一個","bakcup.noRecords":"無備份記錄","backup.cannotUseRoot":"不能使用磁碟根目錄,請選擇一個資料夾","backup.backupDesc":"備份功能用於將您的本機資料夾備份到不同的磁碟或資料夾","backup.currentStat":"目前狀態","backup.running":"正在執行備份...","backup.paused":"已暫停","backup.waiting":"即將執行備份任務...","backup.noRunning":"未在執行","backup.ifRunTask":"是否執行備份任務?","backup.ifStopTask":"是否停止備份任務?","backup.createTask":"建立新的備份任務","backup.orderSent":"指令已發送","backup.noTaskAlert":"還沒有備份任務,點擊底部按鈕建立一個","backup.taskName":"任務名稱","backup.backupRate":"備援頻率","backup.oneTime":"一次","backup.everyDay":"每天","backup.everyWeek":"每週","backup.everyMonth":"每月","backup.backupDate":"備份日期","backup.lastBackupStat":"上次備援狀態","backup.errorInfo":"錯誤訊息","backup.lastBackupTime":"上次備份時間","backup.pleaseChooseBackupDate":"請選擇備份日期","backup.pleaseChooseBackupTime":"請選擇備份時間","backup.pleaseInputTaskName":"請輸入任務名稱","backup.backupTime":"備份時間","backup.backupPath":"備份資料夾","backup.targetPath":"目標資料夾","backup.youFileWillBeHere":"注意:備份為單向同步,每次備份任務執行時,來源目錄中不存在/已刪除的檔案,也將在備份目標資料夾中同步刪除","backup.youFileWillBeHereB":"您的備份將儲存在以下位置","backup.chooseWeek":"選擇星期","backup.whichDayInMonth":"每月第幾日備份","backup.choosePathWantBakcup":"選擇要備份的資料夾","backup.addExclude":"新增排除項","backup.excludeList":"排除清單","backup.updateTask":"更新任務","backup.excludeExample":"支援通配符*,例如:xxA代表排除名字為xxA的所有檔案和資料夾*.mp4代表排除所有mp4檔案abc*代表排除所有abc開頭的檔案和資料夾","backup.chooseTargetPath":"選擇目標資料夾","backup.backupSuccess":"備份成功","backup.backupFail":"備份失敗","backup.sourceAndTargetPathCantEqual":"備份資料夾和目標資料夾不能相等或包含","backup.records":"備份記錄","backup.copySize":"拷貝大小","backup.copyCount":"拷貝檔案個數","backup.excludeCount":"排除檔案數量","backup.failCount":"錯誤數量","backup.refreshStatus":"刷新任務狀態","backup.copied":"已複製","backup.startTime":"備份開始時間","backup.endTime":"備份結束時間","backup.failList":"錯誤清單","header.changePwd":"修改密碼","header.changeQuestion":"修改密保","header.twoStepsLogin":"兩步驟驗證","header.rawPassword":"舊密碼","header.newPassword":"新密碼","header.newPasswordConfirm":"確認新密碼","header.oldPasswordIncorrect":"舊密碼不正確","header.twoPasswordHaveToSame":"兩次輸入的新密碼必須一致","header.changePasswordSuccess":"密碼修改成功,需要重新登入","header.changeQuestionSuccess":"密保問題修改成功,請您牢記","header.rawQuestion":"原密保問題","header.newQuestion":"新密保問題","header.newAnswer":"新密保答案","header.okLogout":"確認退出帳號嗎?","header.logoutSuccess":"退出成功","question.petName":"我的寵物叫什麼名字?","question.bornStreet":"我出生的街道叫什麼?","question.houseNumber":"我家門牌號碼是多少?","question.phoneNumber":"我的手機號碼是多少?","question.schoolName":"我的小學名字是什麼?","question.carType":"我的車是什麼型號?","registerAdmin.firstUseAlertText":"您需要建立管理員帳號用於管理您的NasCab,帳號密碼加密後保存在您的電腦上","registerAdmin.placeholderUsername":"請輸入使用者名稱","registerAdmin.placeholderPassword":"請輸入密碼","registerAdmin.placeholderQuestion":"輸入密保問題,如:寵物名字/門牌號碼?","registerAdmin.questionAndAnswerCantSame":"密保問題和答案不能一樣","registerAdmin.uesrnameAndPwdCantSame":"使用者名稱與密碼不能相同","registerAdmin.placeholderAnswer":"請輸入密保答案並牢記,用於找回密碼","registerAdmin.btRegisterAdmin":"保存並繼續","registerAdmin.labelUsername":"登入名稱","registerAdmin.labelPassword":"登入密碼","registerAdmin.labelEmail":"電子郵件","registerAdmin.usernameLengthLimit":"使用者名稱長度至少需要2位元","registerAdmin.passwordLengthLimit":"密碼長度至少需要2位元","registerAdmin.checkEmail":"請輸入正確的電子郵件格式","registerAdmin.success":"管理者建立成功","registerAdmin.registerAdmin":"建立管理者帳號","login.agree":"同意","login.chooseOtherServer":"選擇其他伺服器","login.privacy":" 《隱私權政策》 ","login.agreement":" 《使用者協議》 ","login.success":"登入成功","login.btLogin":"登入並繼續","login.goLogin":"去登入","login.forgotPwd":"忘記密碼?","login.getPwdBack":"找回密碼","login.getPwdOnlyForAdmin":"此功能僅用於找回管理員密碼,修改普通使用者密碼請登入管理員帳號後,在【使用者管理】中修改","resetPwd.placeholderPassword":"請輸入新密碼","resetPwd.placeholderAnswer":"請輸入密保問題答案","resetPwd.question":"密保問題:","resetPwd.answerIsWrong":"密保答案不正確","home.message":"訊息","home.apps":"應用程式","home.status":"狀態","home.quickAccess":"快速功能","home.others":"其他應用程式","home.albumBackup":"相簿備份","home.refreshBg":"背景","home.bgTask":"後台任務","home.haveNoRunningTasks":"沒有正在執行的後台任務","home.sureDeleteBgTask":"確定要刪除後台任務嗎?","home.task":"任務","home.terminal":"終端機工具","home.mine":"我的","home.cloudSyncActiveInfo":"連網同步啟動資訊","home.currentVersion":"目前版本","home.proCode":"啟動碼","home.endTime":"截止日期","home.renew":"延期","home.freeVersion":"免費版","home.proVersion":"專業版","home.backup":"檔案備份","home.sharing":"文件分享","home.indexCount":"索引數量","home.indexing":"索引中","home.indexingComplete":"索引完成","home.mediaCount":"媒體數量","home.photoManage":"照片管理","home.movieManage":"影視管理","home.musicManage":"音樂管理","home.backupAndShare":"備份與共用","home.backupManage":"備份任務","home.shareManage":"共享管理","home.shareTemp":"快速分享","home.settingCenter":"配置中心","home.mobileSync":"手機同步","home.securityCenter":"安全中心","home.thumbnail":"縮圖","home.hardwareMonitor":"硬體監控","home.disk":"磁碟","home.RAM":"記憶體","home.upgradeToPro":"升級到專業版","home.fileBrower":"文件瀏覽","home.activeSuc":"啟動成功","home.pleaseEnterCode":"請填入啟動碼","home.indexAlert":"只有產生縮圖後的文件,才會在照片和影視服務中顯示","setting.howToBackup":"重裝系統前如何備份資料?","setting.howToBackupContent":"將此目錄({path})下的資料拷貝出來,重裝系統並安裝NasCab後,再將資料拷貝回原位置。 ","setting.noSetShowAllMenu":"不勾選代表顯示所有選單","setting.ddnsExplain":"DDNS用於將您的NasCab專屬網域解析到您的動態公網IPV6/IPV4","setting.sourceFolderDeleteInBg":"索引刪除將在背景進行,請您稍後刷新查看結果,在索引清除結束前,請不要添加新的來源資料夾","setting.defaultCert":"不填寫時使用預設憑證","setting.httpsCert":"HTTPS憑證內容","setting.httpsKey":"HTTPS私鑰內容","setting.autoLaunch":"開機啟動","setting.autoLoginClient":"自動登入客戶端","setting.autoShowWindow":"啟動客戶端時顯示視窗","setting.account":"帳號","setting.changeCachePath":"更換快取目錄","setting.reLaunchNasCab":"重啟NasCab","setting.reLaunchNasCabAlert":"NasCab服務端即將重啟,所有連線將暫時斷開,是否確認重啟?","setting.reLaunchNasCabConfirm":"重啟指令已發送,請稍後再訪問","setting.resetSystem":"系統重置","setting.downloadPackage":"下載安裝包","setting.installationSoon":"即將開始安裝...","setting.transcodeTmpPath":"轉碼暫存目錄","setting.userDataFolder":"預設資料目錄","setting.resetSystemAlert":"所有資料庫和快取圖片將被清除,所有使用者也將被刪除,下次使用您需要重新建立管理員帳號,如確認重設,請您輸入目前登入帳號的密碼","setting.crf":"H264編碼CRF","setting.crfDesc":"CRF x264編碼器的預設品質設定。您可以設定介於1和51之間的值,值越低視訊品質越好,但會導致檔案體積增大和傳輸速度變慢。一般介於18-28之間。​​","setting.cacheInfo":"快取資訊","setting.cacheCount":"快取數量","setting.clearCacheAlert":"清除快取會導致下次造訪時重新產生,影響載入速度,如非必須釋放磁碟空間,請勿清除","setting.databasePath":"資料庫目錄","setting.cachePath":"快取目錄","setting.cacheSize":"快取大小","setting.clearCache":"清除快取","setting.proSetting":"進階設定","setting.threadCount":"API執行緒數量","setting.threadCountHint":"提升並發速度,也會增加記憶體用量","setting.source.directoryMoved":"目錄已經移動到其他位置?","setting.source.reChoose":"重新定位,原始位置:","setting.security.ipBan":"IP封鎖","setting.security.loginNeedAnswer":"兩步驟登入","setting.securitySetting":"安全設定","setting.commonSetting":"通用設定","setting.chooseLanguage":"選擇您的語言","setting.language":"語言","setting.photoSourceSetting":"照片來源","setting.photoSourceSettingAlert":"請選擇您儲存照片的目錄,作為\'照片管理\'中內容的來源","setting.movieSourceSetting":"來源目錄","setting.movieSourceSettingAlert":"請選擇您儲存影片的目錄,作為「影視管理」中的內容的來源","setting.yourCurrentSources":"您目前設定的照片來源","setting.btAddSource":"新增來源資料夾","setting.ifDeletePath":"是否刪除此目錄?","setting.noSourceFolderSelected":"您目前尚未新增任何來源資料夾","setting.folderIsNotExist":"檔案/資料夾已不存在","setting.userManage":"使用者管理","setting.basePort":"基礎服務埠[HTTP]","setting.basePortHttps":"基礎服務埠[HTTPS]","setting.webDavPort":"WebDav服務埠","setting.FTPPort":"FTP服務埠","setting.transFlvPort":"推流轉碼服務埠","setting.saveSuccessRestartValid":"儲存成功,部分功能需重新啟動客戶端生效","setting.saveSuccess":"儲存成功","setting.saveSuccessRestart":"儲存成功,重新啟動客戶端生效","setting.portSetting":"連接埠設定","setting.videoCodecSetting":"影片轉碼設定","setting.photoFuncsSetting":"照片管理功能設定","setting.videoSubtitleFontSize":"字幕放大倍率","setting.videoCoder":"視訊編解碼器","setting.ifPortInUserWillAdd":"如果設定的連接埠被其他程式佔用,會自動向後順延","setting.changeCachePathAlert":"快取目錄修改後,需要重新啟動客戶端才能生效,原始快取資料需要您手動刪除,下次存取圖片影片等將重新即時產生縮圖快取,速度較慢,非必要情況不建議您修改","user.updateUserInfo":"更新使用者資訊","user.addNewUser":"新增使用者","user.noUserToChoose":"無選用使用者","user.subCountNum":"最大子使用者數量","user.admin":"管理員","user.commonUser":"一般使用者","user.logout":"登出","user.powerPhoto":"照片權限","user.powerMovie":"影視權限","user.powerMusic":"音樂權限","user.powerBooks":"圖書權限","user.powerFolder":"目錄權限","user.addFolderPowerPath":"新增檔案瀏覽目錄權限","user.selectImpowerPath":"選擇要授權給使用者路徑","user.powerSet":"權限","user.goToSetSourcePath":"沒有任何來源目錄","user.haveAllPower":"擁有全部權限","user.sureDeleteUser":"確定刪除使用者嗎?此操作不可恢復!","user.hadSameUsername":"已有同名使用者存在","user.addPhotoPowerPath":"新增照片來源授權目錄","user.addMoviePowerPath":"新增影視來源授權目錄","user.addMusicPowerPath":"新增音樂來源授權目錄","user.addBookPowerPath":"新增圖書來源授權目錄","user.cancelPathPower":"取消目錄授權","user.sureCancelPathPower":"確定取消使用者對此目錄的所有權限嗎?","photo.camera":"相機型號","photo.help":"空白鍵:播放影片/Livephoto左右鍵:切換上一張/下一張Del鍵:放入回收站","photo.cover":"裁切","photo.contain":"縮放","photo.addSourceAlert":"將在後台對來源目錄進行掃描以及生成縮圖,稍後可在首頁查看進度,請耐心等待。 ","photo.aiFaceMinPhotoCount":"照片數量低於多少時隱藏人物","photo.changePeople":"人物變更","photo.changePeopleAlert":"這些照片屬於誰?","photo.library":"照片集","photo.solar":"公曆","photo.lunar":"農曆","photo.leftSimilarGroupCount":"還有{count}群組重複照片等待處理","photo.createAlbumByFolder":"以資料夾建立相簿","photo.sourcePathUnusable":"來源目錄已不可用,請檢查{path}","photo.setFacePoster":"設定為相簿封面","photo.waitDealCount":"待處理數量:{count}","photo.waitCompareFaceCount":"正在進行臉比對,剩餘數量:{count}","photo.indexingNoAi":"照片索引中,暫停處理AI識別,將在索引結束後繼續","photo.removeFromFace":"從人臉相簿移出","photo.photoCount":"{photoCount}張照片","photo.andriodPrimaryPlayer":"安卓首選播放器設定","photo.onlySupportPhoto":"只支援修改JPG格式照片","photo.mergePerson":"合併人物","photo.mergePersonAlert":"確認合併這些人物嗎?","photo.atleastTwoPersonMerge":"至少選擇兩個臉部資訊合併","photo.changeName":"修改名字","photo.personNameTooLong":"人物名字太長[小於50個字元]","photo.inputPersonName":"輸入人物的名字","photo.deletePerson":"刪除這個人物","photo.noPersonPlaceHolder":"將在空閒時自動為您掃描照片中的人物","photo.sameNameMerged":"相同名字的人物將合併","photo.unnamed":"未命名","photo.sureDeletePerson":"確定從【人物】刪除嗎?","photo.changeUserName":"將人物的名字改為【 {name} 】 ,確定嗎?","photo.classes":"在空閒時自動為您的照片分類","photo.tag":"標籤","photo.enableClass":"啟用照片智慧分類","photo.enableSimilarPhoto":"啟用重複照片掃描","photo.enableAiFace":"啟用人臉辨識","photo.aiClasses":"物體","photo.aiFace":"人物","photo.aiSimilarPhoto":"照片去重","photo.noSimilarPhoto":"將在空閒時為您掃描重複照片","photo.checkKeepPhoto":"勾選要保留的照片","photo.keepAll":"保留全部照片","photo.moveSimilarToTrash":"移動重複照片到回收站","photo.deleteAlbum":"刪除相簿","photo.gpsAddSuccess":"位置新增成功","photo.gpsAdd":"GPS補充","photo.noPendingPhotos":"沒有待處理的照片","photo.sureSkipAddGps":"確認不為這些照片新增位置嗎?","photo.sureAddGps":"確認將目前選取的位置新增至這些照片嗎?","photo.searchPlace":"搜尋地點","photo.restorePosition":"恢復到建議位置","photo.skipAddGps":"跳過這批照片","photo.wirteGps":"將位置寫入勾選照片","photo.confirmPhotoLocation":"確認照片拍攝位置(點擊地圖可以修改)","photo.dealListForAddGps":"勾選要補充位置資訊的照片","photo.noCanAddGpsPhoto":"未找到可以補充位置的照片","photo.addPhotoGpsInfo":"補充照片位置","photo.recentCheck":"最近","photo.searchPlaceHolder":"依檔案名稱及裝置搜尋","photo.whichAlbumWanToAdd":"要加入哪個相簿?","photo.addToAlbum":"新增至相簿","photo.youHaveNoAlbum":"您還沒有相簿,快去創建一個吧","photo.addAlbumSuc":"已經成功加入相簿","photo.removeFromAlbum":"從相簿移出","photo.removeFromAlbumSuc":"已從相簿移出","photo.changePosition":"是否修改照片位置資訊,此動作將對照片exif進行修改,是否確認?","photo.all":"全部","photo.tools":"工具箱","photo.confirmPutInTrash":"放入回收站嗎?","photo.putInTrash":"放入回收站","photo.photo":"照片","photo.video":"影片","photo.album":"相簿","photo.image":"圖片","photo.ordinaryAlbum":"普通相簿","photo.smartAlbum":"智慧相簿","photo.myAlbum":"我的相簿","photo.holidays":"節慶相簿","photo.folder":"檔案檢視","photo.map":"地圖","photo.selectPhotoTakeTime":"選擇拍攝時間","photo.confirmChangePhotoTime":"確認修改拍攝時間?","photo.footprint":"我的足跡","photo.fileCount":"個項目","photo.5km":"5km","photo.10km":"10km","photo.80km":"80km","photo.300km":"300km","photo.near":"附近","photo.timeOrder":"時間軸方向","photo.timeline":"時間軸","photo.privateSpace":"加密空間","photo.stillIndexTryLater":"正在為您掃描文件,請稍後再試","photo.sureChangeNewPhoto":"改動將儲存為新的檔案,儲存嗎?","photo.saveSucReturnToCheck":"儲存成功,請返回清單檢視","photo.setSourceFolder":"設定來源目錄","photo.noSourceSetAlert":"您沒有設定來源目錄,如需使用照片服務,請先設定來源目錄","movie.creator":"製作人","movie.crew":"演職人員","movie.myMedia":"我的媒材","movie.newTv":"最新電視劇","movie.newMovie":"最新電影","movie.defaultRaion":"首選轉碼解析度","movie.tvDeleteSure":"您正在刪除電視劇,電視劇所在的資料夾將被整體刪除,是否確認?","movie.tmdbLinkError":"TMDB連線失敗","movie.tmdbLinkSuc":"TMDB連線成功","movie.tmdbKeyAlert":"在https://www.themoviedb.org申請,如不填寫將使用預設Token","movie.tmdbUrlAlert":"請求TMDB資料的API位址,通常是https://api.tmdb.org或https://api.themoviedb.org,如果您不知道這是什麼意思,請不要修改","movie.infoDatabase":"首選刮削資料庫","movie.transcodeSetting":"轉碼設定","movie.subtitleSetting":"字幕設定","movie.playSetting":"播放設定","movie.longPressSpeed":"長按播放速率","movie.videoInfoSetting":"影音訊息設定","movie.score":"評分","movie.primaryLanguage":"首選字幕語言","movie.sureDeletePath":"要刪除路徑嗎?","movie.library":"我的收藏","movie.atleastOnePath":"至少選擇一條路徑","movie.libraryAuthUser":"能看到此合集的子使用者","movie.libraryUserAlert":"需在使用者管理中同步授權對應來源路徑,子使用者才可看到對應內容","movie.libraryIncludePath":"集合包含的來源路徑","movie.favorite":"收藏","movie.lastTime":"上次看到","movie.posterSize":"海報尺寸","movie.useInfo":"使用此資訊","movie.addCover":"新增封面","movie.deleteCover":"刪除封面","movie.noSourceSetAlert":"您沒有設定來源目錄,如需使用影片服務,請先設定來源目錄","movie.selectSubtitleInServer":"伺服器上的字幕","movie.subtitleNoSupport":"只支援.ass和.srt字幕","movie.coverFileNoSupport":"只支援jpeg和png","movie.pleaseInputCollectionName":"請輸入名稱","movie.pleaseCompleteFilterInfo":"請完善篩選條件","movie.yearLimit":"年份必須在1800-2200之間","movie.deleteNfoFirst":"如修改符合資訊,請先刪除nfo檔","setting.addExcludePathPlaceholder":"輸入排除關鍵字,如:/excludeDir","setting.addExcludePath":"新增排除路徑","setting.scan":"掃描變動","setting.other":"其他設定","setting.excludePath":"路徑排除","setting.excludeFilename":"檔名排除","setting.excludePathAlert":"路徑中含有這些關鍵字的將會被隱藏","setting.excludeFilenameAlert":"檔案名稱中含有這些關鍵字的將會被隱藏","photo.filterAlubm":"條件相簿","photo.filterInfo":"篩選條件","photo.atleastOnefilterInfo":"至少新增一個篩選條件","photo.goToSet":"去設定","photo.genningTinyImage":"產生縮圖...","photo.doingAiFaces":"正在進行人物辨識...","photo.doingAiClasses":"正在進行AI分類...","photo.doingPhash":"正在掃描重複照片...","movie.scrap":"重新刮削","movie.scrapAlert":"將對此媒體進行重新刮削nfo和封面等信息,原有nfo文件和封面等將被清除,確定嗎?","movie.scrapFailAlert":"刮削失敗,未找到媒體資訊,請嘗試手動搜尋","movie.clearNfo":"清理nfo檔案與封面","movie.clearNfoAlert":"將刪除資料夾下所有nfo檔案和封面圖片,並重新從網路刮削,是否確認?","movie.conditionFilter":"條件篩選","movie.year":"上映年份","movie.filterValue":"條件值","movie.smartCollectionExample":"例如:您希望篩選檔案名稱中包含\'abc\'的檔案,您可以在下方選擇[\'檔案名稱\'] [\'包含\'] [\'abc\'] ","movie.smartCollectionExampleB":"例如:您希望篩選年份大於2000年的的文件,您可以在下方選擇[\'年份\'] [\'大於\'] [\'2000\'] ","movie.smartCollectionExampleC":"根據電影資訊篩選需要在來源資料夾設定處開啟【電影資訊比對開關】 ","WhereToMove":"移動到哪?","movie.history":"觀看歷史","movie.addToCollection":"加入到影集","movie.noCollection":"還沒有影集,去創建一個吧","movie.addToCollectionFolderAlert":"將資料夾下所有影片移入影集?","movie.removeFromCollection":"從影集移出","movie.addCollection":"新增影集","movie.addSmartCollection":"新增智慧影集","movie.editCollection":"修改影集","movie.addCollectionPlaceholder":"輸入影集名稱","movie.collectionIsNeedPwd":"存取需要密碼","movie.collectionPwdPlaceholder":"輸入影集存取密碼","movie.addCollectionAlert":"新增影集,然後將影視庫中或檔案檢視中的影片移入影集【右鍵選單觸發】 ,影集中的檔案將不再顯示於影視庫中","movie.addLibraryAlert":"將多個不同來源資料夾【或來源資料夾的子資料夾】中的內容集中顯示","movie.addLibrary":"新增合輯","movie.addLibraryPlaceholder":"輸入合集名稱","movie.addSmartCollectionAlert":"根據條件篩選電影,電影將自動歸納到智慧影集中,智慧影集中的電影將仍顯示在影視庫","movie.clearHistory":"清空觀看歷史","movie.collection":"普通影集","movie.smartCollection":"智慧影集","movie.mediaType":"媒體類型","movie.parsingSubtitle":"正在解析字幕...","movie.movieSet":"影視設定","movie.relatedPictures":"資料夾內圖片","movie.indexDeleted":"索引已刪除","movie.movieFilter":"篩選電影","movie.showMatchName":"影視庫顯示自動符合的電影名稱","movie.subtitlePreGen":"字幕預先擷取","movie.subtitlePreGenAlert":"將影片中的字幕軌預先提取到快取資料夾,播放的時候可以極大提升字幕載入速度","movie.subtitlePrenGenClose":"可在影視管理->設定中關閉","movie.useSameFolderPoster":"使用相同資料夾下的圖片作為海報","movie.selectSourceFolder":"篩選來源資料夾","movie.selectLanguage":"電影語言","movie.selectRegion":"發行地區","movie.selectGenres":"電影類型","successAndRefresh":"操作成功,請稍後刷新頁面查看結果","movie.privateVideoCannotSeek":"加密空間的視訊以串流的形式即時解密,暫不支援調節進度","movie.confirmMovieInfo":"使用[{movieName}]的資訊嗎?","album.youHaveNoAlbumYet":"您還沒有相簿,點擊上方按鈕可以新增","movie.confirClearMovieInfo":"電影或電視節目相關的nfo檔案,封面檔案將被刪除,是否確認?","movie.matchMovieInfo":"刮除搜尋","movie.channelLayout":"聲道佈局","movie.channels":"聲道","movie.movie":"電影","movie.tvdrama":"電視劇","movie.streamVideo":"影片","movie.otherTv":"集","movie.setAsTv":"標記為電視劇","movie.setAsMovie":"標記為電影","movie.setAsTvAlert":"標記為電視劇後,同資料夾下的影片將合併顯示","movie.streamAudio":"音訊","movie.mediaInfo":"視訊訊息","movie.recentPlay":"最近播放","movie.movieName":"名稱","movie.actors":"演員","movie.director":"導演","movie.alias":"又名","movie.genres":"風格","movie.resources":"資源類型","movie.enableInfoMatch":"自動從網路刮除媒體資訊與封面(.nfo檔)","movie.language":"語言","movie.storyline":"簡介","movie.releaseDate":"上映日期","movie.regions":"地區","movie.playRate":"播放速率","movie.continuePlay":"上次播放到{lastTime},是否繼續播放?","movie.play":"播放","movie.audioChannel":"聲道數","movie.noOtherChannel":"沒有其他聲道可以選擇","movie.alreadChangeChannelTo":"已將聲道數量切換為:{channels}","movie.nascabPlayer":"NasCab播放器播放","movie.browserPlayer":"瀏覽器播放器播放","movie.whatsDifferent":"有什麼差別?","movie.differentExplain":"在某些安卓瀏覽器上播放來源檔案時,瀏覽器會強行接管影片,導致您無法選擇音軌和字幕,選擇NasCab播放器為轉碼播放,使用瀏覽器播放器會嘗試播放來源檔案,推薦使用Chrome手機版或微信內建瀏覽器來避免可能出現的相容性問題","movie.noMovieInfoFound":"未找到電影資訊","movie.upgradeAutoMatch":"升級版本,自動搭配電影海報與簡介","movie.playBegain":"從頭播放","movie.resumePlay":"繼續播放","movie.movieHome":"影視庫","movie.viewFolder":"文件視圖","movie.createTime":"建立時間","movie.filename":"檔名","movie.matchName":"符合名稱","movie.listView":"列表","movie.listViewView":"清單檢視","movie.gridView":"網格","movie.bitrate":"碼率","movie.resolution":"解析度","movie.displayRatio":"影片比例","movie.codecName":"格式","movie.frameRate":"幀率","movie.pixFmt":"像素格式","movie.subtitle":"字幕","movie.chooseSubtitle":"選擇字幕","movie.chooseAudio":"選擇音軌","movie.audioIndex":"音軌","movie.continueWatch":"上次看到","movie.openDuration":"片頭長度（秒） ","movie.endDuration":"片尾長度（秒） ","movie.sikpOpenEnd":"自動跳過片頭片尾","movie.skippingMovieTitle":"正在跳過片頭...","movie.skippingMovieEnd":"正在跳過片尾...","movie.searchPlaceHolder":"輸入檔名搜尋","movie.selectLocalSubtitles":"選擇本地的字幕","album.setPhotoAsCover":"是否將圖片設定為封面?","album.changeAlbumName":"修改相簿名字","album.noAlubmDesc":"智慧相簿可依指定地圖區域,智慧日期,裝置型號等為您篩選照片","album.noOrdinaryAlubmDesc":"普通相簿中的照片由您自己管理,您可以將時間軸中的照片添加到相簿中","album.addAAlbum":"新增相簿","album.addASmartAlbum":"新增智慧相簿","album.addAOrdinaryAlbum":"新增普通相簿","album.geoAlbum":"地理圍籬","album.geoAlbumDetail":"選定區域內拍攝的照片","album.aiDateAlbum":"智能日期","album.fixDate":"固定日期","album.sectionDate":"區間日期","album.aiDate":"智慧日期","album.dateType":"日期類型","album.memoryDate":"紀念日","album.holidays":"假日","album.modeAlbum":"裝置型號","album.everyYear":"每年","album.everyMonth":"每月","album.January":"1月","album.February":"2月","album.March":"3月","album.April":"4月","album.May":"5月","album.June":"6月","album.July":"7月","album.August":"8月","album.September":"9月","album.October":"10月","album.November":"11月","album.December":"12月","album.chooseDate":"請選擇一個日期","album.chooseDateSection":"請選擇日期區間","album.albumName":"相簿名字","album.pleaseInputAlbumName":"請輸入相簿名字","album.aiDateExample":"例如：您的生日是1月1日,您可以選擇\'每年1月1日\',這樣,每年1月1日拍攝的照片將位於此相簿中","album.fixDateExample":"例如：您可以設定顯示某個固定日期,或某個固定日期之前或之後的照片","album.sectionDateExample":"例如：您可以設定某個日期區間,在此區間拍攝的照片都會顯示在此相簿","album.geoAlbumExample":"在地圖上圈選一塊區域,在此區域內拍攝的照片將會出現在相簿中,將地圖拖動到您需要的區域,然後點擊\'開始圈選\'進行區域選擇,點擊地圖並拖曳滑鼠進行圈選","album.modeAlbumExample":"輸入一個裝置型號,此裝置拍攝的照片都會出現在相簿中","album.mode":"裝置型號","album.pleaseInputMode":"請輸入裝置型號","album.selectArea":"開始圈選","album.clearSelectArea":"清除已選取","album.takePhotoDate":"拍攝日期","album.pleaseSelectArea":"請選擇一個區域","album.eq":"當日","album.gt":"之後","album.lt":"之前","album.createAlbum":"建立相簿","file.multiDownloadAlert":"是否下載多個檔案？使用瀏覽器時,請允許彈出視窗,否則下載可能失敗,資料夾將以zip格式進行下載","file.cannotCreateHere":"無法在目前位置建立","file.sureClearLog":"要清除所有日誌嗎?","file.inputPath":"輸入路徑","file.deletePath":"刪除路徑","file.addLocalPath":"新增自訂路徑或磁碟機","file.addLocalPathAlert":"例如: G:\\\\或/A/B/C等","file.zip":"壓縮","file.ziped":"已壓縮","file.unzip":"解壓縮","file.zipAlert":"檔案/資料夾將被壓縮為zip格式,是否確認?","file.showType":"展示方式","file.switchShowType":"切換展示方式","file.fileCount":"{count}個檔案","file.cancelMutipleSelect":"取消多重選擇","file.recordSearchPlaceholder":"路徑/檔案名稱/使用者名稱","file.operator":"操作使用者","file.maxShowCountAlert":"最多顯示6000個檔案","file.paste":"貼上","file.openInNewWindow":"在新視窗開啟","file.failReason":"失敗原因","file.stateStarted":"已開始","file.stateStoped":"已終止","file.sourcePath":"來源路徑","file.targetPath":"目標路徑","file.operationType":"操作類型","file.attr":"屬性","file.inputNewFileName":"輸入新的名稱","file.rootPath":"根目錄","file.size":"大小","file.copy":"複製","file.copied":"{count}個檔案已複製","file.cutted":"{count}個檔案已剪下","file.cut":"剪下","file.cuttedSize":"已剪下","file.cutToHere":"剪下\'{path}\'到這裡嗎? ","file.copyToHere":"複製\'{path}\'到這裡嗎? ","file.canNotCopyToHere":"您不能複製檔案到目前目錄","file.sourceAndTargetSame":"目前位置已存在相同名稱的檔案/資料夾","file.fileDeleteSure":"檔案將被徹底刪除,無法復原,是否確認?","file.location":"路徑位置","file.modifyTime":"修改時間","file.accessTime":"存取時間","file.cannotCreate":"無法在這個位置建立資料夾","file.putInTrashSuc":"已放入回收站","file.putOutTrashSuc":"已移出回收站","file.deleteSuc":"檔案已刪除","file.fileDeleteSuc":"個檔案已成功刪除","file.trashBin":"回收站","file.delete":"刪除","file.deleteFail":"刪除失敗,檔案可能正在使用","file.deleteAll":"全部刪除","file.restore":"復原","file.restoreAll":"全部恢復","file.doAllRestore":"所有檔案全部恢復嗎?","file.doAllDelete":"所有來源檔案將被刪除,刪除後不可恢復,確認嗎?","file.confirmDelete":"檔案刪除後不可恢復,確認嗎?","file.selectIt":"選取","file.goDetail":"查看詳情","file.deleteForever":"徹底刪除","file.fileExifInfo":"檔案元資訊","file.resetTinyImg":"重置縮圖","file.chooseFolder":"選擇資料夾","file.clickChooseFolder":"點選選擇資料夾","file.returnLastPath":"返回上一級","file.currentPath":"當前目錄","file.doubleClickFolderEnter":"雙擊資料夾可進入下一層","file.resetTinyImgSuccess":"縮圖重置成功,下次刷新將使用最新生成的縮圖","file.noSelectAnything":"您沒有選擇任何路徑","file.sureSelectPath":"是否確認選擇路徑","file.sourcePathRoo":"來源資料夾根目錄","file.fileList":"檔案清單","file.collect":"收藏","file.recent":"最近","file.logs":"日誌","file.deleteAllCollect":"清空收藏夾嗎?","file.deleteAllRecent":"清空最近訪問嗎?","file.cancelCollect":"取消收藏","file.deleteRecent":"刪除此筆記錄","file.newFolder":"新建資料夾","file.check":"查看","file.collectSuccess":"收藏成功","file.deleteFromRecent":"從\'最近\'移除","file.clearCollect":"清除收藏夾","file.clearRecents":"清除最近瀏覽","file.sureClearCollect":"確認清空收藏夾嗎?","file.sureClearRecents":"確認清空最近瀏覽記錄嗎?","file.inputNewFolderName":"輸入新資料夾名稱","file.noFolderSelected":"您尚未選取任何資料夾","file.noAccessPower":"缺少資料夾寫入/讀取權限","video.helpContent":"空白鍵:切換暫停播放\\nCtrl:按住加速播放\\n方向鍵[左右]:快轉快退","video.speedingPlay":"加速播放...","video.rawPlayAlert":"如遇播放異常,請切換解析度轉碼播放","video.closeSubtitle":"關閉字幕","video.originalBitrate":"原碼率","video.volumn":"音量","video.duration":"長度","video.errorRetryPlay":"播放似乎出現問題,是否需要重新載入?","video.netErrorRetryPlay":"網路連線出現錯誤,是否重試?","video.subtitleUploadFailed":"字幕上傳失敗","video.code_raw":"原片","video.noMoreVideo":"沒有更多影片","video.autoPlayOn":"自動播放已開啟","video.autoPlayOff":"自動播放已關閉","video.videoIsNotSupportCoding":"目前瀏覽器不支援的[視訊/音訊/字幕]編碼","video.autoTranscodeStart":"原始檔案編碼不支援,已為您自動轉碼播放","video.playError":"播放出錯","video.whatIsBitate":"碼率即位元率,即每秒鐘傳輸的資料量,碼率越高越清晰,消耗的網路流量越大,轉碼伺服器的運算量也越大,請根據影片實際情況進行選擇","video.transcodingIsNotOnline":"轉碼服務沒有啟動,請檢查客戶端狀態","state.systemState":"系統狀態","state.natAlert":"在沒有公網IP的情況下,您可以透過設定內網穿透,從外網存取您的NasCab","state.ddnsAlert":"如果您有公網IP,可以透過設定DDNS和連接埠對映從外網存取您的NasCab","state.systemInfo":"系統資訊","state.appRootPath":"NasCab安裝目錄","state.run":"運行中","state.netStateNoFound":"未找到網路資訊","state.checkIfThePortInUse":"請檢查連接埠是否被其他服務佔用","state.runPort":"運行連接埠","state.apiServer":"基礎服務","state.fileShare":"檔案共用","state.lanUrl":"區域網路存取位址","state.ipv6url":"IPV6存取位址","state.ipv6alert":"在您的網路和路由器都支援並開啟ipv6的情況下,ipv6存取位址將在這裡顯示","state.serverState":"服務狀態","state.rtmpServer":"即時推流服務","state.flvServer":"即時轉碼服務","state.error":"未執行","state.port":"連接埠","state.lanIp":"區域網路存取位址","state.mem":"記憶體","state.os":"系統","Crop":"裁剪","ZoomIn":"放大","ZoomOut":"縮小","Hand":"拖曳","History":"歷史記錄","DeleteAll":"全部刪除","Delete":"刪除","Undo":"撤銷","Redo":"反撤銷","Reset":"重置","Flip":"鏡像","Rotate":"旋轉","Draw":"畫","Shape":"形狀標註","Icon":"圖示標註","Text":"文字標註","Mask":"遮罩","Filter":"濾鏡","Bold":"加粗","Italic":"斜體","Underline":"底線","Left":"左對齊","Center":"居中","Right":"右對齊","Color":"顏色","Text size":"字體大小","Custom":"自訂","Square":"正方形","Apply":"應用程式","Cancel":"取消","Flip X":"X軸","Flip Y":"Y軸","Range":"區間","Stroke":"描邊","Fill":"填滿","Circle":"圓","Triangle":"三角","Rectangle":"長方形","Free":"曲線","Straight":"直線","Arrow":"箭頭","Arrow-2":"箭頭2","Arrow-3":"箭頭3","Star-1":"星星1","Star-2":"星星2","Polygon":"多邊形","Location":"定位","Heart":"心形","Bubble":"氣泡","Custom icon":"自訂圖示","Load Mask Image":"載入蒙層圖片","Grayscale":"灰階","Blur":"模糊","Sharpen":"銳化","Emboss":"浮雕","Remove White":"除去白色","Distance":"距離","Brightness":"亮度","Noise":"噪音","Color Filter":"彩色濾鏡","Sepia":"褐色","Sepia2":"棕色2","Invert":"負片","Pixelate":"像素化","Threshold":"閾值","Tint":"色調","Multiply":"正片疊底","Blend":"混色","setting.custom":"個人化","setting.vacuumDb":"碎片清理","setting.vacuumDbAlert":"清理資料庫碎片可以壓縮資料庫中未使用空間,減少資料庫檔案大小,是否立刻清理?","setting.aiFaceResetAlert":"重置人臉辨識後,將重新觸發人臉掃描,現有掃描結果將清空,是否確認?","setting.similarPhotoResetAlert":"重置將觸發重新掃描重複照片,是否確認?","setting.systemSetting":"系統設定","setting.resetIndex":"重設索引","setting.resetIndexAlert":"此功能將刪除所有已掃描的索引資料,並清除來源資料夾記錄,非必要情況下無需使用此功能,確認重設嗎?","setting.resetTinyImage":"重置縮圖","setting.resetTinyImageAlert":"此功能將刪除所有已經產生的縮圖,並重新生成,非必要情況下無需使用此功能,確認重置縮圖嗎?","login.unlockScreen":"解鎖畫面","login.checkConChannel":"選擇連線通道","login.saveUsernamePwd":"下次自動登入","login.forgetAnswer":"我忘了密保答案和使用者名稱","login.forgetAnswerAlert":"如果您忘記了密保答案和使用者名稱,可以透過刪除NasCab本地資料庫來重置,資料庫目錄位於使用者資料目錄下的database資料夾,預設位置是:{dbPath}","upload.clearRecord":"清空上傳記錄","upload.onFileNameConflict":"當檔案名稱衝突","upload.skip":"跳過","upload.over":"覆蓋","upload.uploadType":"上傳類型","upload.files":"檔案","upload.folder":"資料夾","upload.rename":"重新命名","upload.filenameTooLong":"檔案名稱長度超過限制","upload.dropFilesUpload":"點擊或拖曳檔案上傳","upload.selectFile":"選擇檔案","upload.selectFolder":"選擇","upload.selectTargetFolder":"選擇上傳目標資料夾","upload.targetFolder":"上傳目標資料夾","upload.noSelected":"未選擇","upload.upload":"上傳","upload.quickUpload":"快速上傳","upload.uploadFail":"上傳失敗","upload.recentUseFolder":"最近使用","upload.useRecentFolder":"使用{recentFolder}作為上傳資料夾嗎?","coco.person":"人們","coco.bicycle":"自行車","coco.car":"車輛","coco.motorcycle":"摩托車","coco.airplane":"飛機/飛行物","coco.bus":"巴士","coco.train":"火車","coco.truck":"卡車/越野車","coco.boat":"船","coco.traffic light":"交通燈","coco.fire hydrant":"消防栓","coco.stop sign":"停車標誌","coco.parking meter":"記時器","coco.bench":"長椅","coco.bird":"鳥/飛行物","coco.cat":"貓科動物","coco.dog":"犬科動物","coco.horse":"馬/駱駝","coco.sheep":"羊","coco.cow":"牛","coco.elephant":"大象","coco.bear":"野生動物","coco.zebra":"斑馬","coco.giraffe":"長頸鹿","coco.backpack":"背包","coco.umbrella":"傘","coco.handbag":"手提包","coco.tie":"領帶","coco.suitcase":"箱子/盒子","coco.frisbee":"飛盤","coco.skis":"滑雪","coco.snowboard":"滑雪板","coco.sports ball":"球類","coco.kite":"風箏","coco.baseball bat":"棒球棒/棒球","coco.baseball glove":"棒球手套","coco.skateboard":"滑板","coco.surfboard":"衝浪/板","coco.tennis racket":"網球拍","coco.bottle":"瓶子","coco.wine glass":"酒杯","coco.cup":"杯","coco.fork":"叉","coco.knife":"刀","coco.spoon":"湯匙","coco.bowl":"碗盤/菜餚","coco.banana":"香蕉/月牙形","coco.apple":"蘋果","coco.sandwich":"夾心麵包/三明治","coco.orange":"橙","coco.broccoli":"綠花椰菜/花椰菜","coco.carrot":"胡蘿蔔","coco.hot dog":"熱狗/麵包","coco.pizza":"披薩/餡餅","coco.donut":"麵包圈/甜甜圈","coco.cake":"蛋糕/甜點","coco.chair":"椅子/凳子","coco.couch":"沙發/長椅/台","coco.potted plant":"盆栽/植物","coco.bed":"床/岩層","coco.dining table":"聚餐","coco.toilet":"馬桶/祭壇","coco.tv":"電視/畫框","coco.laptop":"筆記本/顯示器","coco.mouse":"滑鼠","coco.remote":"遙控","coco.keyboard":"鍵盤","coco.cell phone":"手機","coco.oven":"烤爐","coco.toaster":"麵包爐","coco.sink":"水槽","coco.refrigerator":"冰箱","coco.book":"書/紙","coco.clock":"鐘錶","coco.vase":"花瓶","coco.scissors":"剪刀","coco.teddy bear":"玩偶","coco.hair drier":"吹風機","coco.toothbrush":"牙刷"}')},2357:function(e,t,i){},"25a9":function(e,t,i){"use strict";i("3c65");var n=i("be3b"),s=i("ccdb"),r=(i("19cb"),i("e86f")),s={props:{spaceId:{default:"",type:String}},components:{fileSelect:s.default,fileSelectBar:r.a},computed:{},data(){return{uploadType:"files",uploadUrl:"",currentUploadFile:null,overMode:"skip",uploadList:[],recordType:"all",targetPath:"",lastUsePath:"",uploadSucCount:0,showChooseFolder:!1}},created(){},mounted(){this.lastUsePath=localStorage.getItem("lastUsePath")},methods:{onCloseUpload(){this.spaceId?this.$emit("onCloseUpload"):this.switchUpload()},retryUpload(t){for(let e=this.uploadList.length-1;0<=e;e--)this.uploadList[e]==t&&this.uploadList.splice(e,1);"error"==t.status&&t.uploadFile&&this.$refs.upload.addUploadFile(t.uploadFile)},clearRecord(){this.uploadList=[]},onRecordTypeSelect(e){this.recordType=e},onBeforeUpload(s){return new Promise((t,i)=>{if(!this.$store.state.token)return this.uploadList.unshift({status:"error",name:this.$t("common.tokenExpire")}),i();if(".DS_Store"==s.name)return i();if(120<s.name.length)return this.uploadList.unshift({status:"error",name:this.$t("upload.filenameTooLong")}),i();if(!this.targetPath&&!this.spaceId)return this.uploadList.unshift({status:"error",name:this.$t("upload.noTargetPath")}),i();let e=n.a.uploadUrl()+(`&savePath=${n.a.encodePath(this.targetPath)}&overMode=`+this.overMode);if(s.webkitRelativePath&&(e+="&relativePath="+n.a.encodePath(s.webkitRelativePath)),this.spaceId?e=n.a.privateSpaceUploadUrl()+(`&spaceId=${this.spaceId}&overMode=over&spaceToken=${this.$store.state.privateSpace[this.spaceId]}&encodeFilename=`+n.a.encodePath(s.name)):e+="&encodeFilename="+n.a.encodePath(s.name),this.uploadUrl=e,s.uploadUrl=e,this.spaceId||"skip"!=this.overMode)return t(s);this.detectFileExist(s.webkitRelativePath||s.name,e=>e?(this.uploadList.unshift({status:"error",name:this.$t("common.fileExist")+":"+s.name}),i()):t(s))})},handleRemove(t,e){let i=!1;if(t.uid&&"uploading"==t.status&&t.percentage<95)for(var s in this.$refs.upload.fileList)this.$refs.upload.fileList[s].uid==t.uid&&this.$refs.upload.fileList[s].xhr&&(this.$refs.upload.fileList[s].xhr.abort(),i=!0);if(this.uploadList.splice(e,1),i){let e=this.$t("common.cancelled");t.name&&(e+=":"+t.name),this.uploadList.unshift({status:"error",name:e})}},onUploadSuccess(e,t,i,s){for(var n in this.uploadList)if(this.uploadList[n].uid==t.uid){this.uploadList.splice(n,1);break}e.code?this.uploadList.unshift({status:"error",name:t.name+":"+e.message,uploadFile:s}):(this.$emit("fileUploaded",t),this.uploadList.unshift(t))},onUploadProgress(e,t,i){for(var s in this.uploadList)if(this.uploadList[s].uid==t.uid)return this.uploadList[s].percentage=t.percentage,void(this.uploadList[s].file=t);this.uploadList.unshift({status:"uploading",name:t.name,percentage:1,uid:t.uid,file:t})},onUploadError(e,t,i){for(var s in this.uploadList)if(this.uploadList[s].uid==i.uid){this.uploadList.splice(s,1);break}this.uploadList.unshift({status:"error",name:i?i.name+":"+this.$t("upload.uploadFail"):this.$t("upload.uploadFail"),uploadFile:i})},selectRecrentFolder(){this.api.post("/api/uploadApi/folderExist",{savePath:this.lastUsePath}).then(e=>{e.code||this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("upload.useRecentFolder",{recentFolder:this.lastUsePath}),()=>{this.onSelectPath(this.lastUsePath)})}).catch(e=>{})},selectPath(){this.showChooseFolder=!0},detectFileExist(e,t){this.api.post("/api/file/fileExist",{hideLoading:!0,folderPath:n.a.encodePath(this.targetPath),fileName:e}).then(e=>{t&&t(1==e.code)}).catch(e=>{t&&t(1==e.code)})},onSelectPath(t){this.api.post("/api/file/checkFolderPower",{checkPath:n.a.encodePath(t),checkPower:"all"}).then(e=>{e.code||(e.access?(this.showChooseFolder=!1,this.targetPath=t,localStorage.setItem("lastUsePath",t)):this.showVsNotification(this.$t("file.noAccessPower")))}).catch(e=>{})}}},r=(i("f6be"),i("2877")),i=Object(r.a)(s,function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{staticClass:"app-upload-root"},[s.spaceId?n("div",{staticStyle:{"margin-bottom":"10px",width:"100%","flex-direction":"column",display:"flex","justify-content":"center","align-items":"center","padding-left":"20px","padding-right":"20px","padding-top":"20px"}},[s._v(" "+s._s(s.$t("private.uploadFileToSpace"))+" ")]):s._e(),s.spaceId?s._e():n("div",{staticStyle:{"margin-bottom":"10px",width:"100%","flex-direction":"column",display:"flex","justify-content":"center","align-items":"center","padding-left":"20px","padding-right":"20px","padding-top":"20px"}},[s.targetPath?n("div",{staticStyle:{"font-weight":"bold"}},[s._v(" "+s._s(s.$t("upload.targetFolder")+" : ")+" ")]):s._e(),s.targetPath?n("Tag",{staticStyle:{"border-radius":"20px","margin-bottom":"10px"},attrs:{type:"border",closable:""},on:{"on-close":function(e){s.targetPath=""}}},[s._v(s._s(s.targetPath))]):n("Button",{staticStyle:{"border-radius":"20px"},attrs:{type:"dashed"},on:{click:s.selectPath}},[s._v(s._s(s.$t("upload.selectTargetFolder")))]),!s.lastUsePath||s.targetPath||s.spaceId?s._e():n("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px","padding-left":"10px","padding-right":"10px",display:"flex","align-items":"center","flex-direction":"row","font-weight":"bold"}},[n("div",{staticStyle:{"flex-shrink":"0"}},[s._v(s._s(s.$t("upload.recentUseFolder"))+":")]),n("a",{on:{click:s.selectRecrentFolder}},[s._v(s._s(s.lastUsePath))])])],1),s.targetPath&&!s.spaceId?n("div",{staticStyle:{display:"flex","flex-direction":"row","margin-bottom":"20px","padding-left":"20px","align-items":"center"}},[n("div",{staticStyle:{"margin-right":"10px"}},[s._v(s._s(s.$t("upload.onFileNameConflict")+" : "))]),n("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"skip"},model:{value:s.overMode,callback:function(e){s.overMode=e},expression:"overMode"}},[s._v(" "+s._s(s.$t("upload.skip"))+" ")]),n("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"over"},model:{value:s.overMode,callback:function(e){s.overMode=e},expression:"overMode"}},[s._v(" "+s._s(s.$t("upload.over"))+" ")]),n("vs-radio",{attrs:{val:"rename"},model:{value:s.overMode,callback:function(e){s.overMode=e},expression:"overMode"}},[s._v(" "+s._s(s.$t("upload.rename"))+" ")])],1):s._e(),!s.targetPath&&!s.spaceId||s.isMobile?s._e():n("div",{staticStyle:{display:"flex","flex-direction":"row","margin-bottom":"20px","padding-left":"20px","align-items":"center"}},[n("div",{staticStyle:{"margin-right":"10px"}},[s._v(s._s(s.$t("upload.uploadType")+" : "))]),n("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"files"},model:{value:s.uploadType,callback:function(e){s.uploadType=e},expression:"uploadType"}},[s._v(" "+s._s(s.$t("upload.files"))+" ")]),n("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"folder"},model:{value:s.uploadType,callback:function(e){s.uploadType=e},expression:"uploadType"}},[s._v(" "+s._s(s.$t("upload.folder"))+" ")])],1),"files"==s.uploadType?n("Upload",{directives:[{name:"show",rawName:"v-show",value:s.targetPath||s.spaceId,expression:"targetPath || spaceId"}],ref:"upload",attrs:{action:s.uploadUrl,"show-upload-list":!1,"on-error":s.onUploadError,"on-success":s.onUploadSuccess,"before-upload":s.onBeforeUpload,"on-progress":s.onUploadProgress,multiple:"",type:"drag",webkitdirectory:!1}},[n("div",{staticStyle:{padding:"20px 0",position:"relative"}},[n("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer"}},[n("p",[s._v(s._s(this.$t("upload.dropFilesUpload")))]),0<s.uploadList.length?n("Button",{staticStyle:{"margin-left":"3px"},attrs:{size:"small"},on:{click:[function(e){e.stopPropagation(),s.uploadList=[]},function(e){s.uploadList=[]}]}},[s._v(s._s(s.$t("upload.clearRecord")))]):s._e()],1)],1)]):s._e(),"folder"==s.uploadType?n("Upload",{directives:[{name:"show",rawName:"v-show",value:s.targetPath||s.spaceId,expression:"targetPath || spaceId"}],ref:"upload",attrs:{action:s.uploadUrl,"show-upload-list":!1,"on-error":s.onUploadError,"on-success":s.onUploadSuccess,"before-upload":s.onBeforeUpload,"on-progress":s.onUploadProgress,multiple:"",type:"select",webkitdirectory:!0}},[n("div",{staticStyle:{padding:"20px 0",position:"relative"}},[n("Icon",{staticStyle:{color:"#3399ff",cursor:"pointer"},attrs:{type:"ios-cloud-upload",size:"52"}}),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("p",[s._v(s._s(this.$t("file.clickChooseFolder")))]),0<s.uploadList.length?n("Button",{staticStyle:{"margin-left":"3px"},attrs:{size:"small"},on:{click:[function(e){return e.stopPropagation(),s.clearRecord(e)},function(e){s.uploadList=[]}]}},[s._v(s._s(s.$t("upload.clearRecord")))]):s._e()],1)],1)]):s._e(),n("div",{staticStyle:{width:"100%","max-height":"300px","padding-bottom":"20px",display:"flex","flex-direction":"column","align-items":"center"}},[s.uploadList&&0<s.uploadList.length?n("Menu",{staticStyle:{width:"100%",display:"flex","justify-content":"space-around"},attrs:{mode:"horizontal","active-name":"all"},on:{"on-select":s.onRecordTypeSelect}},[n("MenuItem",{attrs:{name:"all"}},[s._v(" "+s._s(s.$t("common.all"))+"["+s._s(s.uploadList.length)+"] ")]),n("MenuItem",{attrs:{name:"uploading"}},[s._v(" "+s._s(s.$t("common.uploading"))+" ")]),n("MenuItem",{attrs:{name:"finished"}},[s._v(" "+s._s(s.$t("common.succesed"))+" ")]),n("MenuItem",{attrs:{name:"error"}},[s._v(" "+s._s(s.$t("common.faild"))+" ")])],1):s._e(),n("div",{staticStyle:{overflow:"auto",height:"100%",width:"100%"}},s._l(s.uploadList,function(t,i){return t.status==s.recordType||"all"==s.recordType?n("div",{staticStyle:{padding:"10px",display:"flex","flex-direction":"column","border-bottom":"1px solid #eee",width:"100%"}},[n("div",{staticStyle:{display:"flex",width:"100%","align-items":"center","justify-content":"space-between"}},["finished"==t.status?n("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-checkmark-circle",size:"20",color:"green"}}):s._e(),"error"==t.status?n("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"ios-close-circle",size:"20",color:"red"}}):s._e(),n("div",{class:{uploadError:"error"==t.status},staticStyle:{"text-align":"left",flex:"1","word-break":"break-all"}},[s._v(s._s(t.name))]),"error"==t.status?n("Icon",{staticStyle:{"flex-shrink":"0",cursor:"pointer","margin-right":"5px"},attrs:{type:"md-refresh",size:"20"},on:{click:function(e){return s.retryUpload(t)}}}):s._e(),n("Icon",{staticStyle:{"flex-shrink":"0",cursor:"pointer"},attrs:{type:"md-trash",size:"20"},on:{click:function(e){return s.handleRemove(t,i)}}})],1),"uploading"==t.status?n("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):s._e()],1):s._e()}),0)],1),n("vs-dialog",{attrs:{"prevent-close":"",scroll:"","full-screen":s.isMobile},scopedSlots:s._u([{key:"header",fn:function(){return[n("h4",{staticStyle:{"font-size":"16px"}},[s._v(" "+s._s(s.$t("file.chooseFolder")+"["+s.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[n("file-select-bar",{on:{back:function(e){return s.$refs.fileSelector.goBack()},select:function(e){return s.$refs.fileSelector.onSelect()},create:function(e){return s.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:s.showChooseFolder,callback:function(e){s.showChooseFolder=e},expression:"showChooseFolder"}},[s.showChooseFolder?n("file-select",{ref:"fileSelector",attrs:{parent:"root",type:2},on:{onSelect:s.onSelectPath,onCancel:function(e){s.showChooseFolder=!1}}}):s._e()],1),n("vs-button",{staticClass:"closs-btn",attrs:{icon:""},on:{click:s.onCloseUpload}},[n("Icon",{attrs:{type:"md-close-circle",color:"#386DF2",size:"25"}})],1)],1)},[],!1,null,"66742d72",null);t.a=i.exports},"25d4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAABC1BMVEVHcEznm4rkjHXnmojpn47lk4DlkXzRRibPRCTTRSTpopHTRiXkkHrlkn7mlYPji3XjjnrTRiXTRiXjhG3TRSXonYzji3jnl4XjinPQQSXTRSXRRiTTRSXTRiXSRiXTRiXSRSXTRSbnmIaDKhbmlYLih3LTRibSRSXSRSXWdFneiXPTRiXjiHPTRiXliHXTRibljXfWRCTgiXDTRiXTRSXTRibTRSbSRCedWEjTRibpo5P///9WHBDddFyVMBr10cnllYONTD50KBazOiB9NSSiSjeqWUflkHzEcF7ihW3nmYimUT7fd1/OalRcJBisX07MemaFQDCKSDjlk4C+V0DjiXR4LRvTi3q3RCp64g7hAAAAOXRSTlMA5Wbc87OdXjBB+pGSqcRXh/G0EXLrc81KCSsjfMeI506o1WS7L7wdZwQl3x3UN858E0CdVzr5MnKuHxNbAAANoklEQVR4AezV6U6jRxPF8df2YyOMNzBgv0Amg2WIIIRYZJQo5xPSfIgi5f6vJwtZZobFfrqr+nRJ538JdX7q/l9+P+29u/zq25/VU32Dkwbt7Pj6R/b5K+txzB6F0zcX37NPX2GPGLCHIbR/yb57nT0CM/Y2xS0csa9ea39owIY9T9HO9S682p8a0GUvVLBj9sVr7i8NmLI3KtX5NfvgVfekoVmyZyrTh0P2vevuSQOae/ZQJbpgX7v2/taAzi17Kv8O2Meuvn80oDdnj+XdD+xb19+/GrBiryUM9P7TgAl7L9f0TezQJxqwZi/m2AX70CH6VAP67M3ces++c4w+04ABezWnzg/Zd47R5xowYu/m0xH7zEH6QgNm7OE8OmZfOUpfasApezr7ztlHDtMzDeiyxzPvkn3kMD3XMJyy1zNun33jOD3XgOaBvZ9t1+wbx+kFDTi5Yg9omZ6G3XtJAzp37AkNO2KfOFAvasDqhr2hWWfsC0fqZQ1YsEc06x37wpF6RQMm7BWtOmRfOFKvaUCfPaNN++wDh+pVDRizhzTpgH3gUL2uAQP2khZ9xz5wqN7QgBF7yvzO2feN1VsasGGPmd0e+76xelMDTtlr5nbAvm+s3taAKXvOzK7Z943VFg3DJXvPvL5m3zdWWzSguWcPmtP/2ecN1jYN6NyyJ83ojH3eYG3VgN6cvWl6++zzBmu7BqzYm6b3nn3eYO2gAQv2qMl9YJ83WLtowJq9amp77PMGaycN6LNnlYYi7aYBY/au0lCiHTVgxB5WGgq0qwbM2MtKg387a8CGPa00uLe7BnTZ20qDdy00DKfscaXBuRYa0CzZ60qDb2004OSKPa80uNZKAzp37H2lwbN2GtCbsweWBsdaasCCPbA0ONZWAybshaXBr9YasGZPLA1utdeAMXtjafAqQQMG7JGlwakUDRixV5YGn5I0YMOeWRpcStOAU/bO0uBRogZ02UNLg0OpGoZL9tLSYF+qBjQP7KmlwbxkDTi5Ym8tDdala0Dvjj22NBiXoQGrG/ba0mBbjgYs2GtLg21ZGrBmzy0NpuVpQJ+9tzRYlqkBY/bg0mBYrgYM2ItLg13ZGjBjTy4NZuVrwIa9uTRYZaABXfbo0mCUhQZM2atLg00mGpole3ZpMMlEA5p79u7SYJGNBnRu2cNLg0FGGtCbs5eXhvysNGDFXl4a8jPTgAl7emnIzk4D1uztpSE3Qw3os8eXhswsNWDAXl8a8jLVgBF7fmnIylYDZuz9pSEnYw04ZQOQhoysNaDLFiAN6ZlrGE7ZBKQhOXMNaB7YBqQhNXsNOLliI5CGxBw0oHPHViANaXlowOqGzUAaknLRgAWbgTQk5aMBE7YDaUjJSQP6bAjSkJCXBozZEqShfW4aMGBTkIbW+WnAiG1BGtrmqAEbNgZpaJmnBpxKQ6xcNWAqDaHy1TBcSkOkfDWguZeGQDlrQOdWGuLkrQG9uTSEyV0DVtIQJn8NWEhDlApowFoaglRCA/rSEKMiGjCWhhCV0YCRNESokAbMpCFApTRgIw31V0wDutJQfeU0DKfSUHvlNKBZSkPlFdSAkytpqLuSGtC5k4aqK6oBvbk01NwvRTVgIQ01V1gDJtJQbx9/LawBa2moto+/ldaAsTSQ+529eutpG4kCOC5u0Qpxk1Zcnll4YIVWiKfNZGxTTwjhVkq5tN//k9S0bg8EHE8s8DmQ/199qz1Ec36eqfyXXrauwXXQYLRw274Gt4QGm4XvChrcARpMFlINDW4DDSbL71Q4zKLBYvmFiobFLTQYLL9V0eDmD9Fgr7Svo8Gt76LBXCE/UuIwt48Gc/mhkga3vYcGa+XXWhrcJhqslednahx20GCs4C/VNLgFNBgr7+tpcMtosFXwd4ocOmgwVfDnihrcGhpMlfsbTQ4HaLBU8ANNDW4WDZZSPhzcKhoMFfy5qob5LTQYKvffdDn8hwY7Bd9X1eBm/kWDnXJ/qcth7m80mCl4f6LLYRsNdgr+WFeDW0GDnVJ/pcxhBw12yv1QmcMCGswUvD9V5tBBg5lSnx8pc1hCg5lSf6/NYQ0NZkp9/0aZwwYazFRwOFHmMIsGMxWXxamuhsVVNJgp9f5Kl8P8IRrMVHA41uWwvosGMxUc8gtVDjP7aDBT8MXxcKLJYXsPDXYqjgd/dabIYRMNhnrg4AdHehxW0GCoh9uiuC++qHFYQIOlfh4P/n5wqsRhGQ2WSn958PfnQ5Uro4MGU5Ucij4fD4at3xpLaLCVeChV9K+/fmqt/9FgrFEPbfYPGsyl5wENFtPygAabpTkaSAoKBwQaDJe2DQINtmsXBBrsl7bWX2igP6GBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIOmDaUiqeo01kuZv1qW9b2UfS0PSG1eWuZh979UsUr1Gr3HaG1c2TRrKcdaJiFkjSxq+iYb2SuL2PhvrIXKNFxZBw3vUUDTGQ/QarvGbaGijeA1jzocJhugav4mGt28CDS982mWTrJE1fhMNb95EGqo49BpzQMM71jDyZf9uwjWSpm+i4Y1LqgedJC7LRofw4ulQPaPkYZExk0wqkmerntDeuLKp0VA+kNVzqPtiR0W42p9l7gyoaso0FLm6Izpidk9R1X7ZaFApRkO3m43/sKNm99hUVvez0KBSnIYno3z+v3GzcxPcFWhQKVLD41E+n2Tk7BwaPoiG7itoeMyhG/vXtDeopinVMG6SsbNLog8HNMT3g706ym0UhsIwuq46stj/rmbefkID3FBr3CHnU99ANxX3YAb+lTUcHQ7l3TUabqKhDdVQ/i7NfkAn0XBdQ/lOGqZU13BwJw0fp+FrhIaFhrtpeNSvbIuGfvG3flk00JBooCHRQEOiYdm98oaG4m/R8C+ra+gjNDxooOHtO2mYUl1DDvm2vVTeXfnXaJjSFQ19e6m8u4WGe2joBwu6oKEf30jDlMoajl7r6u5aeck0TKmqYXU0fH+tq7t7lD9LNEypqmEZoOFwxqWJ8/tIDcvha13bXasfDTTMqaZhheHVekq7W2E4PRpomFNFw3qPj/bihsLunmacHg00zOlcw9MeX991urv2POT0aKBhTscaelt/I3YXebi7vqHw+nh5Z+Jv6q4aHu2pZdlC2H+r35tRwEDDnPqLde23c8S/NaOCgYY59QEYvoZjoGFOfcQeR1ugYVJlDa3vDxmOgYY5FTW0wz3WZixlCzRMqo94pX96thxNnP2ATvosDUsrrHHEjL2Jsx/QSXfV8Hdnm3p1h+svyrcZ/cq/RcOUVhquDxm/OxqmRMPPouFbNNCQaKAh0UBDooGGRAMNiQYaEg00JBpoSDTQkGigIdFAQ6KBhkQDDYkGGhINNCQaaEg00JBooCHRQEOigYZEAw2JBhoSDTQkGmhINNCQaKAh0UBDooGGRMNNNOhn0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0fDf9oe9OkZtKwCiKPrLpEy6JIqQK2NUCIG9/625vAv4Y8bFOcwGHlyYLzg1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNZCBGt63NzDl7/kabtsbmPJ6voaP7Q1M+XO+hn/bGxjy63wMx9v2CIY8Bmo47tsrmPEyUcPv7RXMuEzUcN1ewYzbRA237RXMeE7U8NxewYjHRAzH8X97BxOuMzVctncw4edMDT+2dzDgPhPDt38Vn+3VzWqDQBTF8bOz4kpxYxM1buIUCSJi8v5vVkN2pR/GueOp5PzwBY78matvCaNDAeTsJeLvYFVDcWVPEV+NVQxAwt4ivmK7Glr2FvGU2cWgx2H3DJ8GYEjZc8THaBkDkLP3iIe0ta0BJXuRrOeMY8CNvUhWa6xj0K3Yr26wrwEje5WsEweIAR8le5asEYWIAWhr9jB5Xh4mBuBNOezOMVQMwE057EzAGID3C3uePMOFjAEYzuyBslh6ChvDLGFvlIXOh+AxAFHKnilLVBu0MGsb9lD5UxlvE8Ps1LPHyq9qt1kLd65jD5YfXY/FpjHMopI9Wr51yTdv4W5KavZy+aIeY0YKD3GlF+L/KCtiCg/F5JKs79h/4qV1fZa4yf9AfALoRoWdH3HSlwAAAABJRU5ErkJggg=="},"2b18":function(e,t,i){"use strict";i("c5a7")},"2cc5":function(e,t,i){"use strict";t.a={onLoginSuc(e){try{android&&android.onLoginSuc(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(`{"func": "onLoginSuc","usernameAndPwd":"${e}"}`)}catch(e){}},onChooseOtherServer(){try{android&&android.onChooseOtherServer()}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onChooseOtherServer"}')}catch(e){}},onClickMobileSync(e){try{android&&android.onClickMobileSync(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(`{"func": "onClickMobileSync","token":"${e}"}`)}catch(e){}},onClickUpload(e,t){try{android&&(e?android.onClickUploadToPath(e):android.onClickUpload())}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(JSON.stringify({func:"onClickUpload",uploadTargetPath:e||"",token:t}))}catch(e){}},onClickSpaceUpload(e,t){try{android&&android.onClickSpaceUpload(e,t)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(`{"func": "onClickSpaceUpload","spaceId":"${e}","spaceToken":"${t}"}`)}catch(e){}},onOpenNewWebViewByPath(e,t){try{android&&android.onOpenNewWebViewByPath(e,t)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(`{"func": "onOpenNewWebViewByPath","path":"${e}","title":"${t}"}`)}catch(e){}},setScreenDirection(e){try{android&&android.setScreenDirection(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(`{"func": "setScreenDirection","direction":"${e}"}`)}catch(e){}},setIsShowNavBar(e){try{android&&android.setIsShowNavBar(e)}catch(e){}},downloadFiles(e){try{if(!android)return null;android.downloadFiles(e)}catch(e){}try{if(!webkit||!webkit.messageHandlers)return null;webkit.messageHandlers.bridge.postMessage(`{"func": "downloadFiles","downloadFilesJson":${e}}`)}catch(e){}},openInBrowser(e){try{android&&android.openInBrowser(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(`{"func": "openInBrowser","url":"${e}"}`)}catch(e){}},onClickLogout(){try{android&&android.onClickLogout()}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onClickLogout"}')}catch(e){}},playVideo(e){e.playIndex=parseInt(e.playIndex),100<e.playList.length&&(e.playList,e.playList=e.playList.slice(e.playIndex,e.playIndex+100),e.playIndex=0,e.playList);e=JSON.stringify(e);try{window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.videoPlayerBridge?window.webkit.messageHandlers.videoPlayerBridge.postMessage(e):android&&android.playVideo(e)}catch(e){}}}},"2e74":function(e,t,i){"use strict";i("3b8c")},"2fc7":function(e,t,i){},3:function(e,t){},"30d1":function(e,t,i){},"341e":function(e,t,i){var s={"./1.jpg":"bf44","./10.jpg":"75b6","./11.jpg":"9345","./12.jpg":"af5d","./13.jpg":"9ab6","./14.jpg":"902c","./15.jpg":"522e","./16.jpg":"a5cd","./2.jpg":"5bfa","./3.jpg":"c6fd","./4.jpg":"4146","./5.jpg":"155f","./6.jpg":"637e","./7.jpg":"e5b3","./8.jpg":"c1f4","./9.jpg":"cae4"};function n(e){e=r(e);return i(e)}function r(e){if(i.o(s,e))return s[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(s)},n.resolve=r,(e.exports=n).id="341e"},"359a":function(e,t,i){},"36e5":function(e,t,i){e.exports=i.p+"img/icon_custom.0cbc8dfa.png"},"3b8c":function(e,t,i){},"3ccd":function(e,t,i){"use strict";i("8ae4")},"3e25":function(e,t,i){},4103:function(e,t,i){"use strict";i("46a1")},4146:function(e,t,i){e.exports=i.p+"img/4.b7095c95.jpg"},4174:function(e,t,i){},4287:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAKlBMVEUAAADB1+O7yNm9z9y7yNi7ydm7ydi7ydi6ydm7ydm9ytq/ytq7yNm6yNgDyiRhAAAADXRSTlMADHsd8/HZy72vYDDk83a3CAAAAG9JREFUKM9jIBIwrkxxmyWAxFe9CwRBCBHzu2BQDOMzn4UI3DGACojfveu0UVrl7t1CqIDu3RtAOebeu5egRsbebQDRHHevQozlunsFrJnZ9+4CsAAnUClU6wQwzXb3NkRg790EEHUXBYwKEBIgDAAUzAQ+KruudgAAAABJRU5ErkJggg=="},4360:function(e,t,i){"use strict";var s=i("2b0e"),n=i("2f62");i("d3a4"),s.default.use(n.a),t.a=new n.a.Store({state:{geoCache:new Map,firstIndex:null,unreadMsgCount:0,runInElectron:!1,serverConfig:{},currentUser:null,privateSpace:{}},mutations:{setServerConfig(e,t){e.serverConfig=t},setRunInElectron(e,t){e.runInElectron=t}},actions:{},modules:{}})},"455b":function(e,t,i){"use strict";i("14d9");var s={props:{mobileLayout:{default:!1,type:Boolean}},components:{},computed:{},data(){return{timer:null,taskList:[],loading:!1,popedTaskIdList:[]}},mounted(){null==this.timer&&(this.timer=setInterval(this.getBgTaskList,8e3)),this.getBgTaskList()},beforeDestroy(){this.timer&&(clearInterval(this.timer),this.timer=null)},methods:{deleteTask(e){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("home.sureDeleteBgTask"),()=>{this.api.post("/api/commonApi/deleteBgTask",{taskId:e.id}).then(e=>{e.code||this.getBgTaskList()})})},getBgTaskList(e){if(this.isInHome()&&(e=e||1,!this.loading)&&this.$store.state.token){let r={taskState:e,count:10,offset:0,hideLoading:this.loading=!0};this.api.post("/api/commonApi/getBgTask",r).then(e=>{if(this.loading=!1,!e.code){for(var t in r.playIdList&&0<r.playIdList.length&&sessionStorage.setItem("play-id-list",[]),this.taskList=e.data,this.taskList){var i,s=this.taskList[t];"EXPORT_PRIVATE_SPACE"==this.taskList[t].task_type?(this.taskList[t].taskTypeStr=this.$t("private.exportSpaceData"),this.taskList[t].showDelete=!0):"BACKUP"==this.taskList[t].task_type?this.taskList[t].taskTypeStr=this.$t("home.backup")+" "+this.taskList[t].task_name:"FILE_OPERATION"==this.taskList[t].task_type?(this.taskList[t].showDelete=!0,"copy"==(i=JSON.parse(this.taskList[t].task_json)).type?(this.taskList[t].taskTypeStr=this.$t("file.copy")+" "+i.sourcePath,this.taskList[t].sizeStr=this.utils.getSizeStr(s.size_current)+this.$t("backup.copied")+"..."):"cut"==i.type?(this.taskList[t].taskTypeStr=this.$t("file.cut")+" "+i.sourcePath,this.taskList[t].sizeStr=this.utils.getSizeStr(s.size_current)+this.$t("file.cuttedSize")+"..."):"zip"==i.type?(this.taskList[t].taskTypeStr=this.$t("file.zip")+" "+i.sourcePath,this.taskList[t].sizeStr=this.utils.getSizeStr(s.size_current)+this.$t("file.ziped")+"..."):"unzip"==i.type&&(this.taskList[t].taskTypeStr=this.$t("file.unzip")+" "+i.sourcePath,this.taskList[t].sizeStr=this.utils.getSizeStr(s.size_current)+"...")):"PACKAGE_UPDATE"==this.taskList[t].task_type?(this.taskList[t].taskTypeStr=this.$t("setting.downloadPackage"),s.progress_current&&95<s.progress_current&&(this.taskList[t].taskTypeStr=this.$t("setting.downloadPackage"))):"GEN_TINY_IMAGE"==this.taskList[t].task_type?this.taskList[t].taskTypeStr=this.$t("photo.genningTinyImage"):"AI_FACES"==this.taskList[t].task_type?this.taskList[t].taskTypeStr=this.$t("photo.doingAiFaces"):"AI_CLASSES"==this.taskList[t].task_type?this.taskList[t].taskTypeStr=this.$t("photo.doingAiClasses"):"AI_PHASH"==this.taskList[t].task_type?this.taskList[t].taskTypeStr=this.$t("photo.doingPhash"):"SUBTITLE_PRE_GEN"==this.taskList[t].task_type&&(this.taskList[t].taskTypeStr=this.$t("movie.subtitlePreGen")+"...",this.taskList[t].taskTypeStrAlert=this.$t("movie.subtitlePreGenAlert")+"["+this.$t("movie.subtitlePrenGenClose")+"]"),s.size_current&&s.size_all&&0<s.size_current?(this.taskList[t].percent=parseInt(Math.ceil(parseFloat(s.size_current)/parseFloat(s.size_all)*100)),s.size_current,s.size_all):s.progress_current&&s.progress_all&&0<s.progress_current?(this.taskList[t].percent=parseInt(Math.ceil(parseFloat(s.progress_current)/parseFloat(s.progress_all)*100)),s.progress_current,s.progress_all):s.size_current&&0<s.size_current&&"BACKUP"==s.task_type&&(this.taskList[t].sizeStr=this.utils.getSizeStr(s.size_current)+this.$t("backup.copied")+"...")}if(0<this.taskList.length&&window.location.href.includes("/home")&&!this.mobileLayout&&!this.isFromApp){let e=!1;for(var n in this.taskList)this.popedTaskIdList.includes(this.taskList[n].id)||(e=!0),this.popedTaskIdList.push(this.taskList[n].id);e&&this.$emit("setBgTaskShow",!0)}else this.popedTaskIdList=[];localStorage.reqIp=e.reqIp}}).catch(e=>{this.loading=!1})}}}},i=(i("9911"),i("2877")),i=Object(i.a)(s,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:{"bgtask-root-mobile":i.mobileLayout,"bgtask-root":!i.mobileLayout}},[s("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","margin-top":"15px"}},[s("div",{staticStyle:{width:"100%","font-weight":"bold","text-align":"left"}},[i._v(i._s(i.$t("home.bgTask")))])]),i._l(i.taskList,function(t){return s("div",[s("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"10px"}},[s("div",{staticClass:"blue-point"}),s("div",{staticClass:"task-type"},[i._v(i._s(t.taskTypeStr)+" "),t.taskTypeStrAlert?s("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{size:"16",type:"ios-help-circle-outline"},on:{click:function(e){i.showVsAlertDialog(i.$t("common.alert"),t.taskTypeStrAlert)}}}):i._e()],1)]),s("div",{staticStyle:{display:"flex","align-items":"center"}},[t.sizeStr?s("div",{staticClass:"size-str"},[i._v(i._s(t.sizeStr))]):i._e(),t.percent?s("Progress",{attrs:{percent:t.percent,"stroke-width":20,status:"active","text-inside":""}}):i._e(),t.showDelete?s("div",{on:{click:function(e){return i.deleteTask(t)}}},[s("Icon",{staticClass:"task-icon",attrs:{type:"md-close",size:"20"}})],1):i._e()],1)])}),i.taskList.length<1?s("div",{staticClass:"no-task-text"},[i._v(" "+i._s(i.$t("home.haveNoRunningTasks"))+" ")]):i._e(),i.mobileLayout?i._e():s("vs-button",{staticClass:"closs-btn",attrs:{icon:""},on:{click:function(e){return i.$emit("setBgTaskShow",!1)}}},[s("Icon",{attrs:{type:"md-close-circle",color:"#386DF2",size:"25"}})],1)],2)},[],!1,null,"777a1019",null);t.a=i.exports},"46a1":function(e,t,i){},4871:function(e,t,i){},"48ab":function(e,t,i){},"4a03":function(e){e.exports=JSON.parse('{"otherRegion":"Other country/regions","setting.serverRootPath":"Service entry path","setting.serverRootPathPlaceholder":"Enter the path such as: myweb","setting.serverRootPathHint":"Example: If the original access address is http://192.168.1.5:80, and the entry path is set to abc, the access address becomes: http://192.168.1.5:80/abc, and the intranet penetration and DDNS are synchronized to enhance security. After setting, restart NasCab to take effect. This setting does not affect WebDav and Ftp sharing.","setting.serverRootPathError":"The path supports only alphanumeric characters and must not exceed 32 characters.","china":"China","addMapServer":"Add Tiles Server","region":"Region","maxZoom":"Max Zoom Level","currentUsing":"Current","mapSwitchAlert":"After switching the map, the page will be refreshed and reloaded. Are you sure you want to switch?","tileServerUrl":"Tile server","coordinate":"Coordinate System","switchMap":"Switch map","languageAndRegion":"Language and Region","regionAlert":"NasCab member accounts and data are not universal between different regional versions, and their functions are not exactly the same. Please choose according to the actual situation.After switching.","defaultPlay":"Priority playback","rawFile":"Original file","folderDownloadAlert":"You are trying to download the folder. The folder will be downloaded as a zip package. Do you confirm?","notes":"Notes","mix":"Mix","copyLink":"Copy download link","linkCopied":"Download link copied","remark":"Remark","intervalScan":"Interval scan","intervalScanAlert":"Scan the disk every once in a while and add an index of new files","everyXHour":"every {count} hour","scanAll":"Scan all folders","addUserRemark":"Add remark to user","userRemarkPh":"Enter username or remarks to search","proxy":"Proxy","quickKey":"Shortcut keys","fileKeyAlert":"[+] : zoom in  [-] : zoom out [c]: switch display mode [r]: refresh","photoKeyAlert":"[+] : zoom in  [-] : zoom out [c]: switch display mode","saveAndTest":"Save&Test","tmdbProxy":"Enable TMDB Proxy","tmdbAlert":"When your network environment cannot access the TMDB server, you can configure and use a local proxy, such as: http://127.0.0.1:10809, etc. The actual local proxy address is set according to your proxy software It depends","protocol":"Protocol","host":"Host [including protocol & port]","afterScrapeAlert":"The request is successful. The task will be performed in the background. Please refresh the page later or check the [Scraping Log] to confirm the result.","tryRescrape":"Please try scraping again","scrapeSeasonDetail":"Request season detail[TMDB]","scrapeDetail":"Request drama detail[TMDB]","scrapePath":"Scrape path","scrapeType":"Scrape type","result":"Result","resultPath":"Save path","failReason":"Failure reason","scrape":"Scrape","scrapeLog":"Scrape Log","scrapeEpisode":"Scrape missing episodes","scrapeMissingAlert":"Will try to scrape missing episode information based on existing NFO files, are you sure?","poster":"Poster","scanWhenStart":"Scan folders on NasCab start.","scanWhenChange":"Auto-scan this folder on changes","scanWhenChangeAlert":"Certain OS and environments, like Docker on Windows,Network disk, may not support this function.When making extensive modifications to folder, it is recommended to temporarily turn this option off.","proxy.smooth":"Smooth","proxy.normal":"Normal","proxy.busy":"Busy","book.library":"Library","episodeCount":"Number of episodes","bestSize":"Recommended size","whiteBg":"Transparent or white background","bestBg":"Recommended to use light-colored images","loginWelMsg":"Login page welcome message","keyword":"Keyword","nameRule":"Scrape nfo naming rules","alreadyInQueue":"The task has been added to the queue","movieNameRule":"Movie naming rules, such as: The Shawshank Redemption(1994).mp4, if you don\'t know the specific year, you don\'t need to add the year","tvNameRule":"TV series naming rules. it is recommended to use a three-level directory naming method, such as: Game of Thrones > [Season 1 / Season 2 / ...] > [Game of Thrones S01E01.mp4 / Game of Thrones S01E02.mp4 / ...]","loginImg":"Login page image","sourceIncludeCache":"This path is under the cache directory you set and will not be scanned. Please modify the cache directory in [Settings - System Settings]","homeBg":"Home page background image","cantAccess":"Inaccessible","localNetAlert":"If this address is inaccessible, please troubleshoot in the following order: 1. The device and server must be on the same IP subnet, under the same router. 2. If you are using a Windows system, ensure that the server has been allowed through the firewall. 3. If your network attribute is set to [Public Network], try switching it to [Private Network].","logoLeft":"LOGO in the upper left corner","successAndRestartImgViewer":"Set up successfully, please reopen the image viewer","imgPreviewSize":"Large image preview size","longSideMaxPx":"Maximum size of long side (px)","imgQuality":"Image quality [recommended 60-90]","imgPreviewAlert":"Set a custom image preview size, which can reduce network traffic and speed up loading when browsing large images,it is recommended to set it to [Custom][3000-8000 pixels on the long side]","rawImage":"original image","episode":"Eps","dragSelectAlert":"Hold down the left mouse button and drag to select multiple items","yourInputTooLong":"The content you entered is too long, please keep it within {count} characters","onlySupportCustomImageFormat":"Only supports JPG, PNG, WEBP formats","chooseDeleteOption":"Select delete option","watched":"Watched","lastWatched":"Last watched at ","number":"Number","index.title":"Loading...","net.error":"Network error...","cannotBeEmpty":"{content} cannot be empty","terminal.disconnect":"The terminal is disconnected","terminal.failConnect":"Terminal connection failure","terminal.connected":"Terminal connected","terminal.start":"Start terminal","creator":"Creator","terminal.title":"Terminal","refreshQrcode":"Refresh QRCode","customUrlAlertA":"You can configure the sharing URL in ","customUrlAlertB":" to automatically replace the server address","pleaseSelectFolder":"Please select a folder","itemsCount":" items","switch":"Switch","imageSize":"Image Size","second":"Seconds","width":"Width","height":"Height","pixel":"Pixel","setting":"Settings","open":"Open","verify":"Verify","dataFrom":"Data from","theSeason":"Season {number}","season":"S","selectWhichSeason":"Which season do you want to choose?","putInSystemTrash":"Put it in the OS recycle bin","fileNotFound":"File not found, please check","openInSystem":"Open in OS","selectedInSystem":"Select in OS","file.hidePath":"Hidden file/folder","file.hidePathAlert":"If you do not want folders to be displayed in the browser, you can add the path you want to hide here. The hidden path will not be displayed in the browser. This function can only be set in the program window, this function only supports Windows and Mac platforms","file.hidePathPlaceHolder":"Enter the path to be hidden, such as: D:\\\\ or /Applications, etc.","shareForSubUser":"Visible to all users","transcodeSpeed":"Transcoding speed","transcodeReadRate":"Transcoding read rate","transcodeReadRateAlert":"The maximum reading rate multiple of the source file during transcoding. Reducing this value appropriately can reduce the CPU usage.","transcodeSpeedAlert":"The faster the transcoding, the lower the picture quality","decoderErrorAlert":"This decoder is in test state. Please switch to another decoder if there is any problem","ultrafast":"Ultra fast","superfast":"Super fast","veryfast":"Very fast","faster":"Faster","fast":"Fast","medium":"Medium","slow":"Slow","slower":"Slower","veryslow":"Very slow","pageCount":"{count}/page","transcode":"Transcoding","valueMustBeNum":"The value must be a number","whatModelWillYouUse":"Which modules should be displayed on the home page?","whatModelWillYouUseSubuser":"Which menus to display for this user?","shareDomainSetting":"Share domain setting","shareDomainAlert":"After setting, it will be used to automatically replace the server address in the sharing link. For functions such as temporary sharing, the address and port must be included","map.currentZoomLevel":"Current zoom level {zoom}","map.upgradeZoom":"Upgrade version to unlock zoom 12 ","proxy.switchAlert":"Due to the DNS cache, switching the route will take a maximum of 5-30 minutes for the domain name to take effect. Do you want to switch?","proxy.downloadFrp":"Download frp","proxy.currentRoute":"Current Route","proxy.routeList":"List of available routes","proxy.pluginState":"Plug-in status","proxy.installPlugin":"Installing plugins","proxy.installed":"Installed","proxy.pluginPath":"Plug-in path","proxy.installMsgSent":"The installation command has been sent and will refresh automatically later","proxy.uninstalled":"uninstalled","proxy.cannotLoginMulti":"If you login to the same NasCab account on multiple servers at the same time, NAT traversal becomes unavailable","proxy.firewallAlert":"NasCab uses third-party open-source software frp to penetrate the NAT. In windows, it may be blocked by the firewall. Therefore, ensure that the frp is whitelisted","proxy.frpcGithub":"FRP url:https://github.com/fatedier/frp","language.chi":"Chinese","language.eng":"English","language.ger":"German","language.spa":"Spanish","language.fre":"French","language.jpn":"Japanese","language.kor":"Korean","common.menu":"Menus","common.pathExist":"Path already exists","common.fileExist":"File already exists","common.cancelFavorite":"Cancel favorite","common.sortField":"Sort field","common.sortType":"Sort type","common.asc":"Asc","common.desc":"Desc","common.iKnow":"Understand","common.yes":"Yes","common.addMore":"Add more","common.no":"No","common.nothing":"None","common.download":"Download","common.selectAll":"Select All","common.folder":"Folders","common.file":"File","common.name":"Name","common.onlyCanUseInApp":"Can only be used inside the APP","common.eq":"Equal to","common.gt":"Greater than","common.lt":"Less than","common.contain":"Contains","common.filepath":"File path","common.textTooLong":"Character length exceeds limit","common.buyVipInPc":"Please purchase it on PC","common.addPath":"Add path","common.selectSubuser":"Select subuser","setting.tokenKeepTime":"Login status hold time [hours]","setting.tokenKeepMaxAlert":"The maximum login status hold time is 720 hours","sign.tv":"TV","sign.movie":"Movie","checkTime":"Check time","file.withoutSharedFile":"The shared file was not found","file.changeToRealUrl":"You can replace the  {url}  part with your actual server address and port","file.endDate":"Expiration date","file.shareLink":"Shared url","file.validity":"Access Validity [days]","file.accessPwd":"Access password","file.noNeedPwd":"No password required","file.shareTempPwdPh":"Enter access password. Leave blank if no require","file.shareTempAlert":"Quick shared files/folders that others can access without login","file.addShareTemp":"Add quick share","file.shareFolderAlert":"Add a shared folder that all subusers can view without authorization","file.addShareFoler":"Add a shared folder","file.sharePath":"Shared path","holiday.yuandan":"New Year","holiday.chuxi":"Lunar New Year\'s eve","holiday.chuyi":"First day","holiday.yuanxiaojie":"Lantern Festival","holiday.qingrenjie":"Valentine\'s Day","holiday.funvjie":"Women\'s day","holiday.yurenjie":"April fools day","holiday.laodongjie":"Labor day","holiday.ertongjie":"Children\'s day","holiday.qixi":"Tanabata","holiday.duanwujie":"Dragon boat festival","holiday.jiaoshijie":"Teachers\' Day","holiday.zhongqiujie":"Mid-Autumn Festival","holiday.guoqingjie":"National day","holiday.chongyangjie":"Double Ninth Festival","holiday.wanshengjie":"Halloween","holiday.pinganye":"Christmas Eve","holiday.shengdanjie":"Christmas","system.systemResetSuc":"System reset successful, please login again","system.copied":"Copied","system.hostName":"Host Name","system.update":"Update","system.updateLog":"Update log","system.currentSystemVersion":"Current system version","system.lastestVersion":"Latest system version","system.sysUpdate":"System update","system.updateTo":"Update to","system.updateSent":"After the installation package is downloaded, it will be automatically installed and restarted. During this period, NasCab will stop serving, please wait patiently","system.info.system":"System","system.info.osInfo":"OS","system.info.cpu":"Cpu","system.info.mem":"Mem","system.info.diskLayout":"Disks","system.info.usb":"USB","system.info.audio":"Audio","system.info.networkInterfaces":"Network","system.info.bios":"BIOS","system.info.baseboard":"Baseboard","system.info.graphics":"Graphics","system.info.wifiNetworks":"Wifi","system.info.bluetoothDevices":"Bluetooth","system.info.osInfo.platform":"Platform","system.info.osInfo.distro":"Distro","system.info.osInfo.release":"Release","system.info.osInfo.kernel":"Kernel","system.info.osInfo.arch":"Arch","system.info.osInfo.hostname":"Hostname","system.info.osInfo.codepage":"OS build version","system.info.osInfo.logofile":"Logo","system.info.osInfo.serial":"Serial","system.info.osInfo.build":"Build","system.info.osInfo.uefi":"UEFI support","system.info.cpu.manufacturer":"Manufacturer","system.info.cpu.brand":"Brand","system.info.cpu.speed":"Speed[Ghz]","system.info.cpu.speedMin":"Speed min [Ghz]","system.info.cpu.speedMax":"Speed max [Ghz]","system.info.cpu.cores":"Cores","system.info.cpu.physicalCores":"Physical Cores","system.info.cpu.processors":"Processors","system.info.cpu.socket":"Socket","system.info.cpu.vendor":"Vendor","system.info.cpu.family":"Family","system.info.cpu.model":"Model","system.info.cpu.stepping":"Stepping","system.info.cpu.revision":"Revision","system.info.cpu.flags":"Flags","system.info.cpu.virtualization":"Virtualization","system.info.cpu.cache":"Cache","system.info.cpu.performanceCores":"Performance Cores","system.info.cpu.efficiencyCores":"Efficiency Cores","system.info.mem.total":"Total","system.info.mem.free":"Free","system.info.mem.used":"Used","system.info.mem.active":"Used actively (excl. buffers/cache)","system.info.mem.buffcache":"Buff + Cache","system.info.bios.vendor":"Vendor","system.info.bios.version":"Version","system.info.bios.releaseDate":"Release date","system.info.bios.revision":"Revision","system.info.bios.serial":"Serial","system.info.baseboard.manufacturer":"Manufacturer","system.info.baseboard.model":"Model","system.info.baseboard.version":"Version","system.info.baseboard.serial":"Serial","system.info.baseboard.assetTag":"Asset tag","system.info.diskLayout.device":"Device","system.info.diskLayout.type":"Type","system.info.diskLayout.name":"Name","system.info.diskLayout.vendor":"Vendor","system.info.diskLayout.size":"Size","system.info.diskLayout.firmwareRevision":"Firmware revision","system.info.diskLayout.serialNum":"Serial number","system.info.diskLayout.interfaceType":"Interface type","system.info.diskLayout.smartStatus":"S.M.A.R.T status","system.info.diskLayout.bytesPerSector":"Bytes per sector","system.info.diskLayout.totalCylinders":"Total cylinders","system.info.diskLayout.totalHeads":"Total heads","system.info.diskLayout.totalSectors":"Total sectors","system.info.diskLayout.totalTracks":"Total tracks","system.info.diskLayout.tracksPerCylinder":"Tracks per cylinder","system.info.diskLayout.sectorsPerTrack":"Sectors per track","system.info.diskLayout.temperature":"S.M.A.R.T temperature","system.info.usb.bus":"USB BUS","system.info.usb.deviceId":"BUS ID","system.info.usb.id":"Internal ID","system.info.usb.name":"Name","system.info.usb.type":"Type","system.info.usb.removable":"Removable","system.info.usb.vendor":"Vendor","system.info.usb.manufacturer":"Manufacturer","system.info.usb.maxPower":"Max power","system.info.usb.serialNumber":"Serial number","system.info.audio.id":"Internal ID","system.info.audio.name":"Name","system.info.audio.manufacturer":"Manufacturer","system.info.audio.revision":"Revision","system.info.audio.driver":"Driver","system.info.audio.default":"Default","system.info.audio.channel":"Channel","system.info.audio.type":"Type","system.info.audio.in":"In","system.info.audio.out":"Out","system.info.audio.interfaceType":"Interface type","system.info.networkInterfaces.iface":"Interface","system.info.networkInterfaces.ifaceName":"Interface name","system.info.networkInterfaces.default":"Default","system.info.networkInterfaces.ip4":"IPV4 address","system.info.networkInterfaces.ip4subnet":"IPV4 subnet mask","system.info.networkInterfaces.ip6":"IPV6 address","system.info.networkInterfaces.ip6subnet":"IPV6 subnet mask","system.info.networkInterfaces.mac":"Mac","system.info.networkInterfaces.internal":"Internal","system.info.networkInterfaces.virtual":"Virtual","system.info.networkInterfaces.type":"Type","system.info.networkInterfaces.mtu":"Maximum transmission unit","system.info.networkInterfaces.speed":"Speed MBit/s","system.info.networkInterfaces.dhcp":"IP address obtained by DHCP","system.info.networkInterfaces.dnsSuffix":"DNS suffix","system.info.bluetoothDevices.device":"Device","system.info.bluetoothDevices.name":"Name","system.info.bluetoothDevices.macDevice":"MAC","system.info.bluetoothDevices.macHost":"MAC host","system.info.bluetoothDevices.batteryPercent":"Battery percent","system.info.bluetoothDevices.manufacturer":"Manufacturer","system.info.bluetoothDevices.type":"Type","system.info.bluetoothDevices.connected":"Connected","system.info.graphics.vendor":"Vendor","system.info.graphics.vendorId":"Vendor ID","system.info.graphics.model":"Model","system.info.graphics.name":"Name","system.info.graphics.deviceId":"Device ID","system.info.graphics.bus":"Bus","system.info.graphics.vram":"VRAM size (MB)","system.info.graphics.external":"External","system.info.graphics.cores":"Cores","system.info.graphics.deviceName":"Device name","system.info.graphics.productionYear":"Production year","system.info.graphics.serial":"Serial number","system.info.graphics.displayId":"Display ID","system.info.graphics.main":"Main","system.info.graphics.builtin":"Builtin","system.info.graphics.connection":"Connection","system.info.graphics.sizeX":"Size X (mm)","system.info.graphics.sizeY":"Size Y (mm)","system.info.graphics.pixelDepth":"Pixel depth (bits)","system.info.graphics.resolutionX":"Resolution X","system.info.graphics.resolutionY":"Resolution Y","system.info.graphics.currentResX":"Current Resolution X","system.info.graphics.currentResY":"Current Resolution Y","system.info.graphics.currentRefreshRate":"Current refresh rate","system.info.graphics.driverVersion":"Driver version","system.info.graphics.memoryTotal":"Memory total (MB)","system.info.graphics.memoryUsed":"Memory used (MB)","system.info.graphics.memoryFree":"Memory free (MB)","system.info.graphics.temperatureGpu":"Temperature GPU","system.info.graphics.powerDraw":"Power draw (w)","system.info.graphics.utilizationGpu":"Utilization GPU %","system.info.graphics.clockCore":"Clock core","nascab.online":"online","reconnect":"Reconnection","home.scanToAccess":"You can use the browser/WeChat to scan the code to access","usage":"Usage","sureToClose":"Close the page?","nascab.lanAccessAlert":"In any browser in the same local area network, enter this URL to access the NasCab service","nascab.useNasCabCert":"Use the https certificate provided by NasCab","nascab.useApiCert":"Use the same certificate as the API service","nascab.useNasCabCertCloseAlert":"After closing, the default certificate will be used as the api interface certificate of the https protocol, and you can also configure it yourself","nascab.useNasCabCertAlert":"After it is enabled, the https certificate provided by NasCab will be used. When the program starts, it will be used as the api interface certificate of the https protocol,restart NasCab to take effect","nascab.clearCustomProxy":"Delete port mapping","nascab.conFromLan":"Connect to the server from LAN","nascab.localMachine":"[127.0.0.1 is this machine]","nascab.invalidIp":"Please enter the correct IP","nascab.invalidPort":"Please enter the correct PORT","nascab.pleaseOpenTwoStepsLogin":"After enabling NAT traversal, your NasCab service can be accessed from the public network, please be sure to enable \'two-step login\' in the security center to enhance account security","nascab.proxyDelay":"After reconnection, there may be a delay of 5-30 minutes for the domain name to take effect, please be patient","nascab.reconnectSent":"A reconnection request has been sent, please refresh later to check the connection status","nascab.sameAccountLogin":"The same NasCab account does not support logging in to multiple clients at the same time, otherwise NAT traversal may be unavailable","nascab.connectState":"Connection Status","nascab.connectLine":"Connection Route","nascab.sureEnableDDNS":"Enable DDNS? DDNS is used to resolve the dedicated domain name to your public IP","nascab.sureDisableDDNS":"Close DDNS?","nascab.ddnsIp":"DDNS IP","nascab.ddnsType":"DDNS type","nascab.isEnable":"Enable","nascab.sureEnableRemote":"Enable NAT traversal?","nascab.sureDisableRemote":"Turn off NAT traversal? If you are using NAT traversal, the connection will be disconnected immediately","nascab.remoteAccessMenu":"NAT traversal","nascab.offline":"offline","nascab.remoteAccess":"NAT traversal","nascab.customServerRemoteUrl":"Custom service public network access domain name","nascab.setDomain":"Set up my domain","nascab.myDomain":"My domain","nascab.ddnsDomain":"DDNS domain","nascab.proxyDomain":"NAT domain","nascab.contactServe":"Contact us","nascab.validUntil":"Valid until","nascab.needUpgrade":"The free version cannot use this function, please use the administrator account to upgrade in the ‘Settings -> NasCab Account’ and try again","nascab.loginFirst":"Login first","nascab.renewal":"Renewal","nascab.version":"Current version","nascab.upgrade":"Upgrade","nascab.versionFree":"Free Edition","nascab.versionPro":"Pro Edition","nascab.versionTeam":"Platinum edition","nascab.goToBind":"To Bind","nascab.account":"NasCab Account","nascab.notLogin":"Not logged in","nascab.switchAccount":"Switch account","nascab.email":"Email","nascab.changeToLan":"You and the NasCab service you want to connect are in the same local area network. Switching to local area network access can greatly speed up the access speed. switch?","nascab.phone":"Phone number","nascab.exitAccount":"Logout NasCab account","nascab.accountManage":"Manage my NasCab account","slogan":"LightNas The most easy-to-use multimedia management software","common.faq":"FAQ","proxy.faqContent1":"1.NAT: Your NasCab can be accessed through the public network. Enable two-step login in the security center to enhance security.","proxy.faqContent2":"2.The differences between NAT and DDNS are as follows: NAT does not require a public IP address, and data needs to be forwarded by the NasCab server. DDNS requires a public IP address, and the connection mode is direct without transit.","proxy.faqContent3":"3.NAT security: HTTPS+AES double encryption is used for transmission. The NasCab server only forwards data and does not filter or audit data, and the data cannot be obtained by intermediate routers.","proxy.faqContent4":"4.NAT port: The port through NAT domain name is fixed to 443(https).","proxy.faqContent5":"5.Frp Github url：https://github.com/fatedier/frp","ddns.faqContent1":"1.How to verify whether ddns is successful: use the command line to ping your domain name, and observe whether the resolved ip is consistent with the displayed one","ddns.faqContent2":"2.Unable to access after successful DDNS resolution: If it is IPV4, port forwarding needs to be performed on the router to forward the NasCab service port to the device where the NasCab is located, ipv6 usually does not need","ddns.faqContent3":"3.Do you need to add port access: if it is the default port (http:80)(https:443), it is not required, and the non-default port needs to be accessed in the form of [http(s)://domain name:port]","ddns.faqContent4":"4.If you still cannot access, you can try to switch to a different network environment","ddns.faqContent5":"5.How to confirm whether you have a dynamic public IPV4 address: search for keywords such as ip in the search engine, check your own public IP, and then compare it with the displayed analytical IP to see if it is consistent, and if it is consistent, it is the public IP","common.rename":"Rename","common.startTime":"Start time","common.newVersionReady":"New version {version} is ready","common.import":"Import","common.export":"Export","upload.success":"Success","common.new":"New","common.multiSelect":"Multi Select","common.longPressShowMenu":"Long press to popup menu","common.rightClickShowMenu":"Right click popup menu","upload.error":"error","upload.uploading":"uploading...","upload.paused":"paused","upload.waiting":"waiting","common.show":"Show","upload.noTargetPath":"No destination upload folder selected","upload.folderAlert":"Note: The subfolder structure cannot be maintained when uploading using folder","common.pleaseInputSearchContent":"Enter search content","common.welcomeToNasCab":"Welcome to NasCab","common.hide":"Hide","common.close":"Close","common.top":"Top","common.ok":"OK","common.and":"and","common.iSee":"I see","common.alert":"Hint","common.title":"Title","common.search":"Search","common.resetDefault":"Reset to default","common.default":"Default","common.detail":"Detail","common.refresh":"Refresh","common.refreshList":"Refresh List","common.confirm":"Confirm","common.noMore":"No More","common.returnLastLayer":"Back","common.noData":"Empty","common.operationSuccess":"Operation successful","common.checkAfter":"Refresh later to view the results","common.operationFail":"Operation failure","common.getFail":"Failed to obtain data","common.all":"All","common.succesed":"Succeeded","common.faild":"Failed","common.uploading":"Uploading","common.options":"options","common.home":"Home","common.photo":"Photo","common.save":"Save","common.video":"Video","common.cancel":"Cancel","common.cancelled":"Cancelled","common.select":"Select","common.update":"Update","common.mode":"IP Mode","common.blacklistMode":"Blacklist mode","common.whitelistMode":"Whitelist mode","common.edit":"Edit","common.cancelSelect":"Cancel selected","common.selected":"Selected","common.loadmore":"Load more","common.username":"Username","common.password":"Password","common.question":"Security Question","common.answer":"Answer","common.commit":"Submit","common.add":"Add","common.upload":"Upload","common.delete":"Delete","common.clear":"Clear","common.action":"Action","common.deleteSuccess":"Deleted successfully","common.deleteSuccessWithCount":"{sucCount} files were deleted successfully and {errCount} files failed to be deleted","common.deleteSure":"Sure to delete?","common.change":"Edit","common.changeSuccess":"Modified Successfully","common.check":"Check","common.return":"Back","common.unselect":"Unselect","common.noPermission":"No permission","common.tokenExpire":"Token expired","common.whatWillYouDo":"What will you do?","common.year":"Year","common.month":"Month","common.day":"Day","common.continue":"Continue","common.sureSaveChange":"Save changes?","common.monday":"Monday","common.tuesday":"Tuesday","common.wednesday":"Wednesday","common.thursday":"Thursday","common.friday":"Friday","common.saturday":"Saturday","common.sunday":"Sunday","common.chooseUser":"Choose User","common.noAccess":"No access","common.other":"Other","common.path":"Path","common.state":"State","common.available":"Available","common.unavailable":"Unavailable","common.help":"Help","useWhitePhotoGps":"Refer to the following picture location","help.howToWork":"How this feature works?","help.addGpsHelp":"For instance, if you took 100 photos with an SLR camera at 11 o\'clock without GPS information, and then took another photo with GPS data using a mobile phone at 12 o\'clock, you can use this function to write the location information from the mobile phone photo into the series of SLR photos that lack GPS data.","security.sameIpOrigin":"IP detection","security.sameIpAlert":"The token expires immediately after the client IP is changed, which can improve security. However, under complex network conditions, the login status may frequently expire. Please decide whether to enable it based on the actual situation and restart NasCab to take effect.","security.blackDesc":"In this mode, IP in the blacklist cannot be accessed","security.whiteDesc":"In this mode, only IP in the whitelist can access","security.ipFromatWrong":"Incorrect IP format","security.addOne":"Add one","security.description":"Description","security.removeFromBlackList":"Remove from blacklist","security.removeFromWhiteList":"Remove from whitelist","security.blackList":"IP Black list","security.whiteList":"IP White list","security.login":"Login","security.changePwd":"Change Password","security.username":"UserName","type":"Type","security.time":"Add Time","security.client":"Client","security.loginFail":"Login failed ","security.timesIpBlock":" times,ip banned for ","security.minutes":" minutes","security.logs":" Logs","security.twoStepsDesc":"After enabling, you need to enter the answer of security question when you login from a place other than localhost","notice.markAllAsRead":"Mark all as read","notice.deleteAll":"Delete all","notice.error":"Errors","notice.info":"Msg","private.fileWillDeleteForever":"Files will be permanently deleted","private.spaceInfo":"Space Info","private.shootTime":"Shooting time","private.chooseExportPathFirst":"Please select the path first","private.tokenExpired":"Space token expired,please re-enter","private.videoNoTransPlay":"The video in the private space cannot support real-time transcoding due to the format. If the original file cannot be played, you can download the video to play locally.","private.privateSpaceDescA":"Private space is used to encrypt and save your data, AES encryption ensures your data security","private.privateSpaceDescB":"Each private space is saved in a separate folder, supporting multiple private spaces","private.deleteSpaceAlert":"Are you sure you want to delete the private space? The folder corresponding to the private space will not be deleted, you can delete it manually. If you need it later, you can import the folder through the \'Import private space\' function","private.addPrivateSpace":"Add private space","private.changeSpaceName":"Modify space name","private.inputNewName":"Enter new name","private.sureDeleteSpace":"Are you sure you want to delete the space?","private.createPrivateSpace":"Create private space","private.importPrivateSpace":"Import private space","private.importPrivateSpaceDes":"This feature is used to import private spaces you created earlier","private.spaceName":"Space name","private.spaceFolder":"Space folder","private.spacePwd":"Space password","private.newSpaceName":"Space name after import","private.rawSpacePwd":"Original space password","private.rawSpaceFolderPath":"Select the folder corresponding to the original private space","private.createDate":"Created","private.folderPath":"Encrypted data save location (selected folder must be empty)","private.inputSpacePwd":"Enter space password","private.uploadFile":"Upload","private.uploadFileToSpace":"Upload files to private space[Do not close space during upload]","private.passwordInvalid":"The space password has expired, please try to re-enter the space","private.exportSpaceData":"Export private space data","private.exportFolder":"Export destination folder","private.exportTaskInLine":"The export task has been added to the execution queue","private.exportSpaceDataDes":"Used to decrypt and export all private space data to the folder you specify, even if the configuration file is damaged","ws.indexState":"Index Status","ws.backupState":"Backup service","ws.indexing":"Indexing...","ws.indexingDone":"index complete","share.atLeastChooseOneUser":"Select at least one user","share.noChooseShareFolder":"You need to choose a share directory","share.WebDav":"WebDav","share.FTP":"FTP","share.shareDesc":"Share the local folder by WebDav/Ftp protocol","share.chooseFtpRootPath":"Select FTP root path","share.ftpRootPath":"FTP root path","share.urlExample":"Example url:","share.addShareFold":"Add share Folders","share.updateShareFold":"Update share Folders","share.pathSign":"Identifier","share.fullWebDavUrl":"Url","share.pathSignPlaceHolder":"Only numbers and letters are supported","share.chooseShareFold":"Choose Shared Folder","share.shareFold":"Shared Folder","share.userAlreadyInList":"User already exists","share.choosePowerUser":"Choose a use","share.selectedUserList":"Authorized users","share.restartFileShareAlert":"This operation will restart the file sharing service, and all existing connected clients will be temporarily interrupted. Confirm?","share.restartSuccess":"The file sharing service has been restarted","share.adminHasPowerDefault":"The administrator account has access to all shared folders by default","share.noShareAlert":"Don\'t have a shared folder yet, click the bottom button to create one","backup.cannotUseRoot":"Disk root cannot be used, please select a folder","bakcup.noRecords":"No backup record","backup.backupDesc":"Backup function is used to backup your local folders to different disks or folders","backup.currentStat":"Current state","backup.running":"Backup in progress...","backup.paused":"paused","backup.waiting":"Waiting to run...","backup.noRunning":"Not executing","backup.ifRunTask":"Run backup tasks?","backup.ifStopTask":"Stop the backup task?","backup.createTask":"Create task","backup.orderSent":"Command sent","backup.noTaskAlert":"There is no backup task yet, click the bottom button to create one","backup.taskName":"Task name","backup.backupRate":"Backup frequency","backup.oneTime":"Single","backup.everyDay":"Every day","backup.everyWeek":"Every week","backup.everyMonth":"Every month","backup.backupDate":"Backup date","backup.lastBackupStat":"Last backup status","backup.errorInfo":"Error message","backup.lastBackupTime":"Last backup time","backup.pleaseChooseBackupDate":"Please select a backup date","backup.pleaseChooseBackupTime":"Please select a backup time","backup.pleaseInputTaskName":"Please enter a task name","backup.backupTime":"Backup time","backup.backupPath":"Backup folder","backup.targetPath":"Target folder","backup.youFileWillBeHere":"When the task is executed, the deleted files in the source folder will also be deleted synchronously in the target folder","backup.youFileWillBeHereB":"Your backups will be stored in","backup.chooseWeek":"Select week","backup.whichDayInMonth":"Backup day of the month","backup.choosePathWantBakcup":"Select backup folder","backup.addExclude":"Add exclusions","backup.excludeList":"Exclusion list","backup.updateTask":"Update task","backup.excludeExample":"Support \'*\',For example: \'xxA\' means exclude all files and folders named \'xxA\', \'*.mp4\' means exclude all mp4 files, \'abc*\' means exclude all files and folders starting with \'abc\'","backup.chooseTargetPath":"Select destination folder","backup.backupSuccess":"Backup succeeded","backup.backupFail":"Backup failed","backup.sourceAndTargetPathCantEqual":"Backup folder and destination folder cannot be equal or contain","backup.records":"BackupRecords","backup.copySize":"Copy size","backup.copyCount":"Copy count","backup.excludeCount":"Excluded count","backup.failCount":"Failure count","backup.refreshStatus":"Refreshing Status","backup.copied":"has been copied","backup.startTime":"Backup start time","backup.endTime":"Backup end Time","backup.failList":"Error list","header.changePwd":"ChangePw","header.changeQuestion":"Question","header.twoStepsLogin":"2-step verification","header.rawPassword":"Old Password","header.newPassword":"New Password","header.newPasswordConfirm":"Confirm password","header.oldPasswordIncorrect":"Incorrect old password","header.twoPasswordHaveToSame":"The new password entered twice must be the same","header.changePasswordSuccess":"Password changed successfully, need to log in again","header.changeQuestionSuccess":"The security question has been modified successfully, please keep in mind","header.rawQuestion":"Old question","header.newQuestion":"New question","header.newAnswer":"New answer","header.okLogout":"Are you sure log out?","header.logoutSuccess":"Log out successfully","question.petName":"What is my pet\'s name?","question.bornStreet":"What is the name of the street where i was born?","question.houseNumber":"What is my house number??","question.phoneNumber":"What is my mobile number?","question.schoolName":"What is my primary school name?","question.carType":"What model is my car?","registerAdmin.firstUseAlertText":"You need to create an administrator account first, this account and password are encrypted and saved on your computer.","registerAdmin.placeholderUsername":"Please enter user name","registerAdmin.placeholderPassword":"Please enter password","registerAdmin.placeholderQuestion":"Please enter a security question","registerAdmin.uesrnameAndPwdCantSame":"Username and password cannot be the same","registerAdmin.questionAndAnswerCantSame":"Security questions and answers cannot be the same","registerAdmin.placeholderAnswer":"Please enter the answer and remember it","registerAdmin.btRegisterAdmin":"Save and continue","registerAdmin.labelUsername":"Login username","registerAdmin.labelPassword":"Login password","registerAdmin.labelEmail":"Email","registerAdmin.usernameLengthLimit":"Username must be at least 2 characters long","registerAdmin.passwordLengthLimit":"Password length needs to be at least 2 characters","registerAdmin.checkEmail":"Please enter the correct email format","registerAdmin.success":"Administrator account created successfully","registerAdmin.registerAdmin":"Create Administrator","login.agree":"Agree","login.privacy":"<Privacy Policy>","login.chooseOtherServer":"Select another server","login.agreement":"<User Agreement>","login.success":"Login successful","login.btLogin":"Login and continue","login.goLogin":"Go to login","login.forgotPwd":"Forgot password?","login.getPwdBack":"Retrieve password","login.getPwdOnlyForAdmin":"This function is only used to retrieve the administrator password. To modify the ordinary user password, please log in to the administrator account and modify it in [User Management].","resetPwd.placeholderPassword":"Please enter a new password","resetPwd.placeholderAnswer":"Please enter the answer to the security question","resetPwd.question":"Security question:","resetPwd.answerIsWrong":"Incorrect answer to security question","home.message":"Message","home.apps":"App","home.status":"Status","home.quickAccess":"Applications","home.others":"Others","home.albumBackup":"Album backup","home.refreshBg":"BG","home.bgTask":"Background tasks","home.haveNoRunningTasks":"No background tasks running","home.sureDeleteBgTask":"Are you sure you want to delete this task","home.task":"Task","home.terminal":"Terminal","home.mine":"Mine","home.cloudSyncActiveInfo":"Online synchronization activation information","home.currentVersion":"Current version","home.proCode":"Activation code","home.endTime":"expiration date","home.renew":"Renewal","home.freeVersion":"Free Version","home.proVersion":"Pro version","home.backup":"Backup","home.sharing":"Sharing","home.indexCount":"Number of indexes","home.indexing":"Indexing","home.indexingComplete":"Index complete","home.mediaCount":"Number of multimedia files","home.photoManage":"Photos","home.movieManage":"Movies","home.musicManage":"Music","home.backupAndShare":"Backup/Share","home.backupManage":"Backup","home.shareManage":"Sharing","home.shareTemp":"Quick share","home.settingCenter":"Settings","home.mobileSync":"MobileSync","home.securityCenter":"Security","home.thumbnail":"Thumbnail","home.hardwareMonitor":"Hardware monitor","home.disk":"Disk","home.RAM":"RAM","home.upgradeToPro":"Upgrade to Professional Edition","home.fileBrower":"Files","home.pleaseEnterCode":"Please enter the code","home.activeSuc":"Activation succeeded","home.indexAlert":"Only the files after the thumbnails are generated will be displayed in the [photos] and [videos]","setting.howToBackup":"How to Back up Data?","setting.howToBackupContent":"Copy the data in the （{path}) directory, reinstall the system and install NasCab, and then copy the data back to the original location.","setting.ddnsExplain":"DDNS is used to resolve your NasCab exclusive domain name to your dynamic public network IPV6/IPV4","setting.noSetShowAllMenu":"Unchecked indicates that all menus are displayed","setting.sourceFolderDeleteInBg":"Index deletion will be performed in the background, please refresh to view the results later, please do not add new source folders before the index cleaning is completed","setting.defaultCert":"If not specified, use default cert","setting.httpsCert":"HTTPS certs","setting.httpsKey":"HTTPS key","setting.autoLaunch":"Auto launch","setting.autoLoginClient":"Login client automatically","setting.autoShowWindow":"Display window at startup","setting.account":"Account","setting.changeCachePath":"Change cache directory","setting.reLaunchNasCab":"Restart NasCab","setting.reLaunchNasCabAlert":"The NasCab server will restart, and all connections will be temporarily disconnected. Sure to restart?","setting.reLaunchNasCabConfirm":"The restart command has been sent, please check again later ","setting.resetSystem":"System reset","setting.downloadPackage":"Downloading installation package","setting.installationSoon":"Installation will start...","setting.transcodeTmpPath":"Transcode temp folder","setting.userDataFolder":"Default data folder","setting.resetSystemAlert":"All databases will be cleared, and all users will also be deleted. Next time you use NasCab, you need to re-create an administrator account. If you confirm the reset, please enter the password of the current login account","setting.crf":"H264 encoding CRF","setting.crfDesc":"CRF is the default quality setting for the x264 encoder. You can set the values between 1 and 51, where lower values would result in better quality (at the expense of higher file sizes). Sane values are between 18 and 28. The default for x264 is 23, so you can use this as a starting point.","setting.cacheInfo":"Cache info","setting.cacheCount":"Cache count","setting.clearCacheAlert":"Clearing the cache will cause it to be regenerated the next time it is accessed, which will affect the loading speed. If it is not necessary to free up disk space, please do not clear it.","setting.databasePath":"DataBase path","setting.cachePath":"Cache path","setting.cacheSize":"Cache size","setting.clearCache":"Clear cache","setting.proSetting":"Advanced settings","setting.threadCount":"Service threads","setting.threadCountHint":"Multithreading can improve the response speed","setting.source.directoryMoved":"Directory has moved ?","setting.source.reChoose":"Relocate,original locate:","setting.security.ipBan":"IP Ban","setting.security.loginNeedAnswer":"2-step login","setting.securitySetting":"Security","setting.commonSetting":"General","setting.chooseLanguage":"Choose your language","setting.language":"Lang","setting.photoSourceSetting":"Photo source","setting.photoSourceSettingAlert":"Please select the directory where you save the photos as the source of the content in \'Photos\'","setting.movieSourceSetting":"Movie source","setting.movieSourceSettingAlert":"Please select the directory where you save the movies as the source of the content in \'Movies\'.","setting.yourCurrentSources":"Your photo sources","setting.btAddSource":"Add source folder","setting.ifDeletePath":"Delete this path?","setting.noSourceFolderSelected":"You have not added any source folders","setting.folderIsNotExist":"File/Folder no longer exists","setting.userManage":"Users","setting.basePort":"Basic service port","setting.basePortHttps":"Basic service port [https]","setting.webDavPort":"WebDav service port","setting.FTPPort":"FTP service port","setting.transFlvPort":"Transcoding service port","setting.saveSuccessRestartValid":"Saved successfully, it will take effect after restarting the client","setting.saveSuccess":"Successfully saved","setting.saveSuccessRestart":"Saved successfully,Take effect after restart","setting.portSetting":"Port settings","setting.videoCodecSetting":"Video transcoding settings","setting.photoFuncsSetting":"Photo management settings","setting.videoSubtitleFontSize":"Subtitle size","setting.videoCoder":"Video coder","setting.ifPortInUserWillAdd":"If the set port is occupied by other programs, it will be automatically extended backward","setting.changeCachePathAlert":"After modifying the cache directory, you need to restart the client for it to take effect. You need to manually delete the original cached data, and the thumbnail cache will be generated again in real time when you access pictures and videos next time.","user.updateUserInfo":"Update user","user.addNewUser":"Add new user","user.noUserToChoose":"No users available","user.subCountNum":"Number of sub-users","user.admin":"Admin","user.commonUser":"General user","user.logout":"Exit","user.powerPhoto":"Photo","user.powerMovie":"Movie","user.powerMusic":"Music","user.powerFolder":"Directory permissions","user.powerBooks":"Books","user.addFolderPowerPath":"Add folders browsing permission","user.selectImpowerPath":"Select the path to be authorized to the user","user.powerSet":"Permission","user.goToSetSourcePath":"Without any source path","user.haveAllPower":"All permissions","user.sureDeleteUser":"Are you sure you want to delete the user? This operation cannot be reversed!","user.hadSameUsername":"A user with the same name already exists","user.addPhotoPowerPath":"Add photo authorization","user.addMoviePowerPath":"Add movie authorization","user.addMusicPowerPath":"Add music authorization","user.addBookPowerPath":"Add books authorization","user.cancelPathPower":"Cancel authorization","user.sureCancelPathPower":"Are you sure you want to remove all permissions for this path from the user?","photo.camera":"Camera model","photo.help":"Space: Play video/Live Photo  Left/Right Arrow Keys: Navigate to previous/next  Del Key: Send to Trash","photo.cover":"Cover","photo.contain":"Contain","photo.aiFaceMinPhotoCount":"Hide people when the number of photos is less than","photo.addSourceAlert":"The source directory will be scanned in the background and thumbnails will be generated. The progress can be viewed on the home page later. Please wait patiently.","photo.changePeople":"Change people","photo.changePeopleAlert":"Who these photos belong to?","photo.library":"Photo Library","photo.solar":"Solar","photo.lunar":"Lunar","photo.leftSimilarGroupCount":"{count} sets of duplicate photos waiting to be processed","photo.createAlbumByFolder":"Create album from folder","photo.sourcePathUnusable":"Source directory is not available, please check {path}","photo.setFacePoster":"Set as poster","photo.waitDealCount":"Number of files waiting to be processed: {count}","photo.waitCompareFaceCount":"Face comparison is in progress, the remaining number: {count}","photo.indexingNoAi":"Photo indexing, pause processing AI recognition","photo.removeFromFace":"Move out","photo.photoCount":"Photos:{photoCount}","photo.andriodPrimaryPlayer":"Android Preferred Player","photo.onlySupportPhoto":"Only JPG photos can be modified","photo.mergePerson":"Merge","photo.mergePersonAlert":"Are you sure you want to merge these faces?","photo.atleastTwoPersonMerge":"Select at least two faces to merge","photo.changeName":"Modify name","photo.personNameTooLong":"Name is too long [less than 50 characters]","photo.inputPersonName":"Enter the person\'s name","photo.deletePerson":"Delete this person","photo.noPersonPlaceHolder":"Photos will be automatically scanned for people who appear in your photos","photo.sameNameMerged":"Person with the same name will be merged","photo.unnamed":"Unnamed","photo.sureDeletePerson":"Are you sure you want to delete this person from \'People\'?","photo.changeUserName":"Change the person\'s name to [{name}], sure?","photo.classes":"Automatically scan and categorize your photos","photo.tag":"tag","photo.enableClass":"Enable photo classification","photo.enableSimilarPhoto":"Enable duplicate photo scanning","photo.enableAiFace":"Enable face recognition","photo.aiClasses":"Objects","photo.aiFace":"People","photo.aiSimilarPhoto":"Photo Deduplicate","photo.noSimilarPhoto":"Will scan for duplicate photos at idle","photo.checkKeepPhoto":"Check the photos you want to keep","photo.keepAll":"keep all photos","photo.moveSimilarToTrash":"Move Duplicate Photos to Trash","photo.deleteAlbum":"Delete Album","photo.gpsAddSuccess":"Location added","photo.gpsAdd":"GPS supplement","photo.noPendingPhotos":"No pending photos","photo.sureSkipAddGps":"Are you sure you don\'t want to add a location to these photos?","photo.sureAddGps":"Are you sure you want to add the currently selected location to these photos?","photo.searchPlace":"Search a place","photo.restorePosition":"Reset to recommended location","photo.skipAddGps":"skip these photos","photo.wirteGps":"Write location to photos","photo.confirmPhotoLocation":"Confirm the photo location (click the map to modify)","photo.dealListForAddGps":"Photos to be supplemented with location information","photo.noCanAddGpsPhoto":"No photos found to supplement the location","photo.addPhotoGpsInfo":"Supplementary photo location information","photo.recentCheck":"Recent","photo.searchPlaceHolder":"filename/model","photo.whichAlbumWanToAdd":"Which album to add to?","photo.addToAlbum":"Add to album","photo.youHaveNoAlbum":"You don\'t have an album yet, go create one","photo.addAlbumSuc":"Successfully added to the album","photo.removeFromAlbum":"Remove from album","photo.removeFromAlbumSuc":"Removed from album","photo.changePosition":"Whether to modify the photo location information, this operation will modify the photo exif, do you want to confirm?","photo.all":"All","photo.tools":"Tool kit","photo.confirmPutInTrash":"Put in trash?","photo.putInTrash":"Put in trash","photo.photo":"Photo","photo.video":"Video","photo.album":"Album","photo.image":"Image","photo.ordinaryAlbum":"Album","photo.smartAlbum":"Smart Album","photo.folder":"Folder","photo.holidays":"Holidays","photo.myAlbum":"My Album","photo.map":"Map","photo.selectPhotoTakeTime":"Choose time","photo.confirmChangePhotoTime":"Modify the shooting time?","photo.footprint":"Footprint","photo.fileCount":"projects","photo.5km":"5km","photo.10km":"10km","photo.80km":"80km","photo.300km":"300km","photo.near":"Nearby","photo.timeOrder":"Timeline order","photo.timeline":"Timeline","photo.privateSpace":"Private","photo.stillIndexTryLater":"Still scanning, please try again later","photo.sureChangeNewPhoto":"Changes will be saved as a new file, save?","photo.saveSucReturnToCheck":"Saved successfully","photo.setSourceFolder":"Set source folder","photo.noSourceSetAlert":"You have not set the source folder, if you want to use the photo service, please set the source folder first","movie.creator":"Creator","movie.crew":"Cast and crew","movie.myMedia":"My Media","movie.newTv":"Latest TV","movie.newMovie":"Latest Movie","movie.defaultRaion":"Preferred transcoding resolution","movie.tvDeleteSure":"You are deleting the TV series. The folder where the TV series is located will be deleted entirely. Do you confirm?","movie.tmdbLinkError":"TMDB connection failed","movie.tmdbLinkSuc":"TMDB connection successful","movie.tmdbKeyAlert":"Apply at https://www.themoviedb.org. If not filled in, the default Token will be used.","movie.tmdbUrlAlert":"The API url for requesting TMDB data, usually https://api.tmdb.org or https://api.themoviedb.org. If you don’t know what this means, please do not modify it.","movie.infoDatabase":"Preferred Movie Database","movie.transcodeSetting":"Transcoding settings","movie.subtitleSetting":"Subtitle settings","movie.playSetting":"Playback settings","movie.longPressSpeed":"Long press play rate","movie.videoInfoSetting":"Video database settings","movie.score":"Score","movie.primaryLanguage":"Preferred subtitle language","movie.sureDeletePath":"Do you want to delete path?","movie.library":"Movie library","movie.atleastOnePath":"Choose at least one path","movie.libraryAuthUser":"The subusers who can see this library","movie.libraryUserAlert":"You need to authorize the corresponding source paths in user management so that subusers can see content","movie.libraryIncludePath":"Path in library","movie.favorite":"Fav","movie.lastTime":"Progress","movie.posterSize":"Poster size","movie.useInfo":"Use this information","movie.addCover":"Add cover","movie.deleteCover":"Delete cover","movie.noSourceSetAlert":"You have not set the source folder, if you want to use the movie service, please set the source folder first","movie.selectSubtitleInServer":"Subtitle in server","movie.subtitleNoSupport":"Only support .ass and .srt file","movie.coverFileNoSupport":"Only jpeg and png are supported","movie.pleaseInputCollectionName":"Please enter an collection name","movie.pleaseCompleteFilterInfo":"Please complete the filter","movie.yearLimit":"Year must be between 1800-2200","movie.deleteNfoFirst":"To modify the movie information, delete the nfo file first","setting.addExcludePathPlaceholder":"Enter exclusion keyword, like: /excludeDir","setting.scan":"Scan now","setting.excludePath":"Path exclusion","setting.addExcludePath":"Add exclusion path","setting.other":"Others","setting.excludeFilename":"Filename exclusion","setting.excludePathAlert":"Paths containing these keywords will be hidden","setting.excludeFilenameAlert":"Files containing these keywords will be hidden","photo.filterAlubm":"Condition album","photo.filterInfo":"Condition","photo.atleastOnefilterInfo":"Add at least one filter condition","photo.goToSet":"Go to settings","photo.genningTinyImage":"Generate thumbnail...","photo.doingAiFaces":"Ai face recognition...","photo.doingAiClasses":"Classifying in AI...","photo.doingPhash":"Scanning for duplicate photos...","movie.scrap":"Scrape again","movie.scrapAlert":"This media will be re-scraped with information such as nfo and cover. are you sure?","movie.scrapFailAlert":"Scraping failed, media information not found, please try manual search","movie.conditionFilter":"Condition filter","movie.year":"year","movie.clearNfo":"Clear nfo and poster","movie.clearNfoAlert":"All nfo files and poster images in this folder will be deleted and re-scraped from the network. Are you sure?","movie.filterValue":"Condition value","movie.smartCollectionExample":"Example: if you want to filter files containing \'abc\' in the file name, you can select [\'file name\'] [\'contains\'] [\'abc\'] below","movie.smartCollectionExampleB":"Example: if you want to filter files with a year greater than 2000, you can select [\'year\'] [\'greater than\'] [\'2000\'] below","movie.smartCollectionExampleC":"To filter according to movie information, you need to turn on [Movie Information Matching Switch] in the configuration of the source folder","WhereToMove":"Where to move?","movie.history":"History","movie.addToCollection":"Move to collection","movie.noCollection":"There\'s no collection yet. Go ahead and create one","movie.addToCollectionFolderAlert":"Move all the videos in the folder to the collection?","movie.removeFromCollection":"Move out","movie.addCollection":"Add collection","movie.addSmartCollection":"Add smart collection","movie.editCollection":"Edit collection","movie.addCollectionPlaceholder":"Enter collection name","movie.collectionIsNeedPwd":"Enable password","movie.collectionPwdPlaceholder":"Enter access password","movie.addCollectionAlert":"Add collection, management is more flexible and convenient","movie.addLibraryAlert":"Display content from multiple different source folders (or subfolders of source folders) ","movie.addLibrary":"Add library","movie.addLibraryPlaceholder":"Enter library name","movie.addSmartCollectionAlert":"Add a smart collection, filter movies according to the conditions, the movies will be automatically summarized into the smart collection","movie.clearHistory":"Clear history","movie.collection":"Collections","movie.smartCollection":"Smart collections","movie.mediaType":"Media type","movie.parsingSubtitle":"Parsing subtitle...","movie.movieSet":"Settings","movie.relatedPictures":"Related pictures","movie.indexDeleted":"Index deleted","movie.movieFilter":"Filter movies","movie.showMatchName":"Shows the automatically matched movie name","movie.useSameFolderPoster":"Use the pictures in the same folder as the poster","movie.subtitlePreGen":"Subtitle preextraction","movie.subtitlePrenGenClose":"It can be turned off in \'Movies\' -> Settings","movie.subtitlePreGenAlert":"Pre-extract the subtitle track in the video to the cache folder, which can greatly improve the subtitle loading speed during playback","movie.selectSourceFolder":"Filter source folder","movie.selectLanguage":"Language","movie.selectRegion":"Region","movie.selectGenres":"Genres","successAndRefresh":"The operation was successful, please refresh the page later to view the results","movie.privateVideoCannotSeek":"The video in the private space is decrypted in real time in the form of a stream, and the \'Seek\' is not supported for the time being","movie.confirmMovieInfo":"Use {movieName} ?","album.youHaveNoAlbumYet":"You don\'t have an album yet, click the button above to add it","movie.confirClearMovieInfo":"The nfo and cover files related to movies or TV series will be deleted. Are you sure","movie.matchMovieInfo":"Scrape search","movie.channelLayout":"Channel Layout","movie.channels":"Channels","movie.movie":"Movie","movie.tvdrama":"Tv","movie.streamVideo":"Video","movie.otherTv":"TV LIST","movie.setAsTv":"Mark as TV show","movie.setAsMovie":"Mark as movie","movie.setAsTvAlert":"After setting as TV series, the videos in the same folder will be displayed together","movie.streamAudio":"Audio","movie.mediaInfo":"Media Info","movie.recentPlay":"Recent Play","movie.movieName":"Movie Name","movie.actors":"Actors","movie.director":"Director","movie.alias":"Alias","movie.genres":"Genres","movie.resources":"Resource type","movie.enableInfoMatch":"Automatically scrape .nfo and poster","movie.language":"Language","movie.storyline":"Storyline","movie.releaseDate":"Release Date","movie.regions":"Regions","movie.playRate":"Play rate","movie.continuePlay":"The last time it was played until \'{lastTime}\', do you want to continue playing?","movie.play":"Play","movie.audioChannel":"Audio Channel","movie.noOtherChannel":"No other channels can be selected","movie.alreadChangeChannelTo":"Switched channels to {channels}","movie.nascabPlayer":"NasCab player","movie.browserPlayer":"Browser player","movie.whatsDifferent":"What is the difference?","movie.differentExplain":"When playing the source file on some Android browsers, the browser will forcibly take over the video, causing you to be unable to select audio tracks and subtitles, choose NasCab player for transcoding playback","movie.noMovieInfoFound":"No movie info found","movie.upgradeAutoMatch":"Upgraded version that automatically matches movie posters and profiles","movie.playBegain":"Play","movie.resumePlay":"resume","movie.movieHome":"Media Library","movie.viewFolder":"Folder view","movie.createTime":"Creation time","movie.filename":"File name","movie.matchName":"Movie name","movie.listView":"List","movie.listViewView":"List View","movie.gridView":"Grid","movie.bitrate":"Bitrate","movie.resolution":"Resolution","movie.displayRatio":"Display Ratio","movie.codecName":"Codec Name","movie.frameRate":"Frame Rate","movie.pixFmt":"Pix Fmt","movie.subtitle":"Subtitles","movie.chooseSubtitle":"Select Subtitle","movie.chooseAudio":"Select audio","movie.audioIndex":"Audio","movie.continueWatch":"Continue to watch ","movie.openDuration":"Title length (seconds)","movie.endDuration":"Ending length (seconds)","movie.sikpOpenEnd":"Skip title and ending","movie.skippingMovieTitle":"Skipping the opening...","movie.skippingMovieEnd":"Skipping the end...","movie.searchPlaceHolder":"Enter filename to search","movie.selectLocalSubtitles":"Select subtitle file","album.setPhotoAsCover":"Set the picture as the cover?","album.changeAlbumName":"Modify album name","album.noAlubmDesc":"Smart albums can filter photos for you according to the specified map area, smart date, device model, etc.","album.noOrdinaryAlubmDesc":"The photos in the normal album are managed by yourself, you can add the photos in the timeline to the album","album.addAAlbum":"Add an album","album.addASmartAlbum":"Add a Smart Album","album.addAOrdinaryAlbum":"Add an album","album.geoAlbum":"Geofencing","album.geoAlbumDetail":"Photos in selected area","album.aiDateAlbum":"Smart Date Album","album.fixDate":"Fixed date","album.sectionDate":"Date range","album.aiDate":"Smart Date","album.dateType":"Date type","album.memoryDate":"Memorial Day","album.holidays":"Holidays","album.modeAlbum":"Camera Model","album.everyYear":"EveryYear","album.everyMonth":"EveryMonth","album.January":"January","album.February":"February","album.March":"March","album.April":"April","album.May":"May","album.June":"June","album.July":"July","album.August":"August","album.September":"September","album.October":"October","album.November":"November","album.December":"December","album.chooseDate":"Please select a date","album.chooseDateSection":"Please select a date range","album.albumName":"Album name","album.pleaseInputAlbumName":"Please enter album name","album.aiDateExample":"For example: your birthday is January 1st, you can select \'Every year on January 1st\', this way, photos taken on January 1st every year will be in this album","album.fixDateExample":"For example: you can set to display a certain date, or photos before or after a certain date","album.sectionDateExample":"For example: you can set a certain date range, photos taken in this range will be displayed in this album","album.geoAlbumExample":"Select an area on the map, the photos taken in this area will appear in the album, drag the map to the area you need, then click \'start selection\' to select the area, click the map and drag the mouse to select","album.modeAlbumExample":"Enter a camera model, photos taken by this camera will appear in the album","album.mode":"Camera model","album.pleaseInputMode":"Please enter camera model","album.selectArea":"Start select","album.clearSelectArea":"Clear selected","album.takePhotoDate":"Shooting date","album.pleaseSelectArea":"Please select a region","album.eq":"","album.gt":"After","album.lt":"Before","album.createAlbum":"Create album","file.multiDownloadAlert":"Whether to download multiple files? When using the browser, please allow pop-up windows, otherwise the download may fail. Folders will be downloaded in zip format","file.cannotCreateHere":"Cannot be created at current location","file.sureClearLog":"Do you want to clear all logs?","file.inputPath":"Input path","file.deletePath":"Delete path","file.addLocalPath":"Add a custom path","file.addLocalPathAlert":"For example:G:\\\\ or /A/B/C etc.","file.zip":"Compress to.zip","file.ziped":"Compressed","file.unzip":"Uncompress","file.zipAlert":"The file/folder will be compressed into zip format. Confirm?","file.showType":"Arrangement","file.switchShowType":"Switch arrangement","file.fileCount":"{count} files","file.cancelMutipleSelect":"Cancel multiple selection","file.recordSearchPlaceholder":"Path / FileName / UserName","file.operator":"Operator","file.maxShowCountAlert":"A maximum of 6000 files can be displayed","file.paste":"Paste","file.openInNewWindow":"Open in new window","file.failReason":"Reason for failure","file.stateStarted":"Started","file.stateStoped":"Stopped","file.operationType":"Operation type","file.sourcePath":"Source path","file.targetPath":"Target path","file.attr":"Properties","file.inputNewFileName":"Enter a new name","file.rootPath":"Root directory","file.size":"Size","file.copy":"Copy","file.copied":"{count} files has been copied","file.cutted":"{count}  file file has been clipped","file.cut":"Cut","file.cuttedSize":"clipped","file.cutToHere":"Cut {path} here?","file.copyToHere":"Copy {path} here?","file.canNotCopyToHere":"You cannot copy files to the current directory","file.sourceAndTargetSame":"A file/folder with the same name already exists at the current location","file.location":"Location","file.modifyTime":"Modified time","file.fileDeleteSure":"The file will be completely deleted and cannot be recovered. Confirm?","file.accessTime":"Access time","file.cannotCreate":"Could not create folder at this location","file.putInTrashSuc":"Already put in trash","file.putOutTrashSuc":"Put back","file.deleteSuc":"Deleted","file.fileDeleteSuc":"files have been successfully deleted","file.trashBin":"Trash","file.delete":"Delete","file.deleteFail":"Failed to delete file, file may be in use","file.deleteAll":"Delete All","file.restore":"Recover","file.restoreAll":"Recover All","file.doAllRestore":"All files will be put back?","file.doAllDelete":"All files will be permanently deleted, confirm?","file.confirmDelete":"files will be permanently deleted, confirm?","file.selectIt":"select","file.goDetail":"See details","file.deleteForever":"Remove completely","file.fileExifInfo":"Meta data","file.resetTinyImg":"Reset thumbnail","file.chooseFolder":"Select folder","file.clickChooseFolder":"Click to select folder","file.returnLastPath":"Back to previous","file.currentPath":"Current directory","file.doubleClickFolderEnter":"Double click on a folder to go to the next level","file.resetTinyImgSuccess":"Thumbnail reset successfully, the next refresh will use the latest generated thumbnail","file.noSelectAnything":"You did not choose any path","file.sureSelectPath":"Selected path","file.sourcePathRoo":"Source folder root","file.fileList":"List Files","file.collect":"Favorites","file.recent":"Recent","file.logs":"Logs","file.deleteAllCollect":"Clear Favorites?","file.deleteAllRecent":"Clear recent visits?","file.cancelCollect":"Unfavorite","file.deleteRecent":"Delete this record","file.newFolder":"New folder","file.check":"Check","file.collectSuccess":"Add success","file.deleteFromRecent":"Remove from \'Recents\'","file.clearCollect":"Empty \'Favorites\'","file.clearRecents":"Empty \'Recents\'","file.sureClearCollect":"Empty \'Favorites\'?","file.sureClearRecents":"Empty \'Recents\'?","file.inputNewFolderName":"Enter new folder name","file.noFolderSelected":"You don\'t have any folders selected","file.noAccessPower":"Missing folder write/read permissions","video.helpContent":"Space key: toggle play/pause\\nCtrl: hold to speed up playback\\nArrow keys [left/right]: fast forward/rewind","video.speedingPlay":"Playing accelerating...","video.rawPlayAlert":"If the picture/sound/subtitle is missing, please try transcoding to play","video.closeSubtitle":"Close subtitles","video.originalBitrate":"Original","video.volumn":"Volume","video.duration":"Duration","video.errorRetryPlay":"There seems to be a problem with playback, do you need to reload?","video.netErrorRetryPlay":"Network connection error, retry?","video.subtitleUploadFailed":"Subtitle upload failed","video.code_raw":"Original file","video.noMoreVideo":"No more videos","video.autoPlayOn":"Autoplay is on","video.autoPlayOff":"Autoplay is off","video.videoIsNotSupportCoding":"The source file format is not supported","video.autoTranscodeStart":"The encoding of the original file is not supported. Automatically transcoded","video.playError":"Play error","video.whatIsBitate":"With the same resolution, the higher the bitrate, the better the video quality,1mbps-5mbps are commonly used bitrate","video.transcodingIsNotOnline":"The transcoding service is not started, please check the client status","state.systemState":"System status","state.natAlert":"If you do not have a public IP address, you can access your NasCab from the public network by setting up NAT","state.ddnsAlert":"If you have a public IP address, you can access your NasCab from the public network by setting DDNS and port mapping","state.systemInfo":"System info","state.appRootPath":"NasCab installation directory","state.run":"Running","state.netStateNoFound":"No network information found","state.checkIfThePortInUse":"Please check if the port is occupied by other services","state.runPort":"Port","state.apiServer":"Basic services","state.fileShare":" File Sharing","state.lanUrl":"LAN access address","state.ipv6url":"IPV6 access address","state.ipv6alert":"The ipv6 access address will be displayed here after the router and network on the access side and server side support ipv6","state.serverState":"Service status","state.rtmpServer":"Real-time streaming service","state.flvServer":"Live transcoding service","state.error":"Not running","state.port":"Port","state.lanIp":"LAN access address","state.mem":"RAM","state.os":"OS","Crop":"Crop","ZoomIn":"ZoomIn","ZoomOut":"ZoomOut","Hand":"Hand","History":"History","DeleteAll":"DeleteAll","Delete":"Delete","Undo":"Undo","Redo":"Redo","Reset":"Reset","Flip":"Flip","Rotate":"Rotate","Draw":"Draw","Shape":"Shape","Icon":"Icon","Text":"Text","Mask":"Mask","Filter":"Filter","Bold":"Bold","Italic":"Italic","Underline":"Underline","Left":"Left","Center":"Center","Right":"Right","Color":"Color","Text size":"Text size","Custom":"Custom","Square":"Square","Apply":"Apply","Cancel":"Cancel","Flip X":"Flip X","Flip Y":"Flip Y","Range":"Range","Stroke":"Stroke","Fill":"Fill","Circle":"Circle","Triangle":"Triangle","Rectangle":"Rectangle","Free":"Free","Straight":"Straight","Arrow":"Arrow","Arrow-2":"Arrow-2","Arrow-3":"Arrow-3","Star-1":"Star-1","Star-2":"Star-2","Polygon":"Polygon","Location":"Location","Heart":"Heart","Bubble":"Bubble","Custom icon":"Custom icon","Load Mask Image":"Load Mask Image","Grayscale":"Grayscale","Blur":"Blur","Sharpen":"Sharpen","Emboss":"Emboss","Remove White":"Remove White","Distance":"Distance","Brightness":"Brightness","Noise":"Noise","Color Filter":"Color Filter","Sepia":"Sepia","Sepia2":"Sepia2","Invert":"Invert","Pixelate":"Pixelate","Threshold":"Threshold","Tint":"Tint","Multiply":"Multiply","Blend":"Blend","setting.custom":"Personalise","setting.vacuumDb":"Collate database","setting.vacuumDbAlert":"Defragmenting the database can compress the unused space in the database and reduce the size of the database file. Do you want to execute it?","setting.aiFaceResetAlert":"After the face recognition is reset, the face scanning will be triggered again, and the existing scanning results will be cleared. Are you sure?","setting.similarPhotoResetAlert":"Reset will trigger rescan duplicate photos. Are you sure?","setting.systemSetting":"System","setting.resetIndex":"Reset indexes","setting.resetIndexAlert":"This operation will delete all the scanned index data and clear the source folder records. You don\'t need to use this function unless it is necessary. Are you sure to reset?","setting.resetTinyImage":"Reset thumbnails","setting.resetTinyImageAlert":"This operation will delete all generated thumbnails and regenerate them. You do not need to use this function unless necessary. Are you sure to reset the thumbnails?","login.unlockScreen":"Unlock screen","login.checkConChannel":"Choose connection channel","login.saveUsernamePwd":"Auto login next time","login.forgetAnswer":"I forgot the security answer and the user name","login.forgetAnswerAlert":"If you forget the secret answer and user name, you can reset it by deleting the NasCab local database. The database directory is located in the database folder under the user data directory. The default location is: {dbPath}","upload.clearRecord":"Clear","upload.onFileNameConflict":"When filenames conflict ","upload.skip":"Skip","upload.over":"Cover","upload.uploadType":"Type","upload.files":"files","upload.folder":"folder","upload.rename":"Rename","upload.filenameTooLong":"File name is too long","upload.dropFilesUpload":"Click or Drop upload","upload.selectFile":"Select files","upload.selectFolder":"Select","upload.selectTargetFolder":"Destination folder","upload.targetFolder":"Upload destination folder:","upload.noSelected":"No selected","upload.upload":"Upload","upload.quickUpload":"Quick Upload","upload.uploadFail":"Upload failed","upload.recentUseFolder":"Recent","upload.useRecentFolder":"Use \'{recentFolder}\' as upload folder?","coco.person":"Person","coco.bicycle":"Bicycle","coco.car":"Car","coco.motorcycle":"Motorcycle","coco.airplane":"Airplane","coco.bus":"Bus","coco.train":"Train","coco.truck":"Truck/SUV","coco.boat":"Boat","coco.traffic light":"Traffic light","coco.fire hydrant":"Fire hydrant","coco.stop sign":"Stop sign","coco.parking meter":"Parking meter","coco.bench":"Bench","coco.bird":"Bird","coco.cat":"Cat","coco.dog":"Dog","coco.horse":"Horse","coco.sheep":"Sheep","coco.cow":"Cow","coco.elephant":"Elephant","coco.bear":"Wildlife","coco.zebra":"Zebra","coco.giraffe":"Giraffe","coco.backpack":"Backpack","coco.umbrella":"Umbrella","coco.handbag":"Handbag","coco.tie":"Tie","coco.suitcase":"Suitcase","coco.frisbee":"Frisbee","coco.skis":"Skis","coco.snowboard":"Snowboard","coco.sports ball":"Sports ball","coco.kite":"Kite","coco.baseball bat":"Baseball bat","coco.baseball glove":"Baseball glove","coco.skateboard":"Skateboard","coco.surfboard":"Surfboard","coco.tennis racket":"Tennis racket","coco.bottle":"Bottle","coco.wine glass":"Wine glass","coco.cup":"Cup","coco.fork":"Fork","coco.knife":"Knife","coco.spoon":"Spoon","coco.bowl":"Bowl","coco.banana":"Banana/Crescent","coco.apple":"Apple","coco.sandwich":"Sandwich","coco.orange":"Orange","coco.broccoli":"Broccoli","coco.carrot":"Carrot","coco.hot dog":"Hot dog","coco.pizza":"Pizza","coco.donut":"Donut","coco.cake":"Cake","coco.chair":"Chair","coco.couch":"Couch","coco.potted plant":"Potted plant","coco.bed":"Bed","coco.dining table":"Dining table","coco.toilet":"Toilet","coco.tv":"TV/Frame","coco.laptop":"Laptop","coco.mouse":"Mouse","coco.remote":"Remote","coco.keyboard":"Keyboard","coco.cell phone":"Phone","coco.oven":"Oven","coco.toaster":"Toaster","coco.sink":"Sink","coco.refrigerator":"Refrigerator","coco.book":"Book","coco.clock":"Clock","coco.vase":"Vase","coco.scissors":"Scissors","coco.teddy bear":"Teddy bear","coco.hair drier":"Hair drier","coco.toothbrush":"Toothbrush"}')},"4bad":function(e,t,i){},"4c8b":function(e,t,i){},"4dfb":function(e,t,i){},"4fe7":function(e,t,i){"use strict";i.d(t,"m",function(){return s}),i.d(t,"k",function(){return a}),i.d(t,"a",function(){return o}),i.d(t,"l",function(){return u}),i.d(t,"j",function(){return h}),i.d(t,"c",function(){return d}),i.d(t,"o",function(){return p}),i.d(t,"g",function(){return m}),i.d(t,"f",function(){return f}),i.d(t,"h",function(){return g}),i.d(t,"i",function(){return y}),i.d(t,"e",function(){return v}),i.d(t,"b",function(){return S}),i.d(t,"n",function(){return _}),i.d(t,"d",function(){return C}),i.d(t,"p",function(){return k}),i.d(t,"q",function(){return x}),i("14d9"),i("13d5"),i("d9e2");const n=i("2b0e").default.prototype.$isServer;function s(t,i){for(let e=0;e<i.length;e++)if(t===i[e])return!0;return!1}let r;function a(t){if(n)return 0;if(t||void 0===r){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";var i=document.createElement("div"),s=i.style,s=(s.position="absolute",s.top=0,s.left=0,s.pointerEvents="none",s.visibility="hidden",s.width="200px",s.height="150px",s.overflow="hidden",i.appendChild(t),document.body.appendChild(i),t.offsetWidth);i.style.overflow="scroll";let e=t.offsetWidth;s===e&&(e=i.clientWidth),document.body.removeChild(i),r=s-e}return r}const o=!n&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1),l=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/;function u(t,i){if(!t||!i)return null;"float"===(i=i.replace(l,function(e,t,i,s){return s?i.toUpperCase():i}).replace(c,"Moz$1"))&&(i="cssFloat");try{var e=document.defaultView.getComputedStyle(t,"");return t.style[i]||e?e[i]:null}catch(e){return t.style[i]}}function h(e){return e.toString()[0].toUpperCase()+e.toString().slice(1)}function d(t){var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(t)];let i;if("array"===e)i=[];else{if("object"!==e)return t;i={}}if("array"===e)for(let e=0;e<t.length;e++)i.push(d(t[e]));else if("object"===e)for(var s in t)i[s]=d(t[s]);return i}function p(r,e=0,t,i=500,a){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)});var s=Math.abs(e-t);!function t(i,s,n){if(i===s)a&&a();else{let e=s<i?i-n<s?s:i-n:s<i+n?s:i+n;r===window?window.scrollTo(e,e):r.scrollTop=e,window.requestAnimationFrame(()=>t(e,s,n))}}(e,t,Math.ceil(s/i*50))}function m(e,t,i){i="string"==typeof t?[t]:t;let s=e.$parent,n=s.$options.name;for(;s&&(!n||i.indexOf(n)<0);)(s=s.$parent)&&(n=s.$options.name);return s}function f(e,t){e=e.$children;let i=null;if(e.length)for(const s of e){const e=s.$options.name;if(e===t){i=s;break}if(i=f(s,t))break}return i}function g(e,i){return e.$children.reduce((e,t)=>{t.$options.name===i&&e.push(t);t=g(t,i);return e.concat(t)},[])}function y(e,t){var i=[],e=e.$parent;return e?(e.$options.name===t&&i.push(e),i.concat(y(e,t))):[]}function v(t,i,e=!0){var s=t.$parent.$children.filter(e=>e.$options.name===i),n=s.findIndex(e=>e._uid===t._uid);return e&&s.splice(n,1),s}const b=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function w(e,t){if(e&&t){if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")}}function S(s,n){if(s){let i=s.className;var r=(n||"").split(" ");for(let e=0,t=r.length;e<t;e++){const n=r[e];n&&(s.classList?s.classList.add(n):w(s,n)||(i+=" "+n))}s.classList||(s.className=i)}}function _(s,n){if(s&&n){var r=n.split(" ");let i=" "+s.className+" ";for(let e=0,t=r.length;e<t;e++){const n=r[e];n&&(s.classList?s.classList.remove(n):w(s,n)&&(i=i.replace(" "+n+" "," ")))}s.classList||(s.className=b(i))}}const C={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px"};function k(){"undefined"!=typeof window&&(window.matchMedia=window.matchMedia||(e=>({media:e,matches:!1,on(){},off(){}})))}const x=/#([^#]+)$/},5010:function(e,t,i){},"522e":function(e,t,i){e.exports=i.p+"img/15.e82d042d.jpg"},"55f7":function(e,t,i){},"56c8":function(e,t,i){},"56d7":function(i,F,s){"use strict";s.r(F),s("14d9");var a=s("2b0e"),F=s("25a9"),e=s("455b"),r=s("2cc5"),R=s("be3b"),F={watch:{$route(e,t){e.path.includes("login")&&(this.uploadIsShow=!1)}},components:{Upload:F.a,bgTask:e.a},provide(){return{reload:this.reload}},data(){return{isInputing:!1,runInElectron:!1,currentPageLevel:1,animationName:"fade",initFinish:!1,bgTaskIsShow:!1,uploadIsShow:!1,confirmDialogTitle:"",confirmOkTitle:"",confirmCancelTitle:"",confirmDialogContent:"",confirmDialogOkCallback:null,confirmDialogCancelCallback:null,confirmCancelTimer:null,alertDialogTitle:"",alertDialogContent:"",alertDialogCallback:null,languages:[{label:"简体中文",value:"zh-CN"},{label:"English",value:"en-US"},{label:"中文[繁體]",value:"zh-TW"}],isRouterAlive:!0}},beforeDestroy(){this.$bus.$off("onSerchFocus"),this.$bus.$off("onSerchBlur")},mounted(){var e=this.getToken(),e=(e&&(this.$store.state.token=e),this.getCurrentUser());e&&(this.$store.state.currentUser=e),this.isMobile()?a.default.prototype.isMobile=!0:a.default.prototype.isMobile=!1,-1<navigator.userAgent.toLowerCase().indexOf(" electron/")?(localStorage.setItem("runInElectron",!0),this.$store.commit("setRunInElectron",!0),this.runInElectron=!0):(localStorage.setItem("runInElectron",!1),this.$store.commit("setRunInElectron",!1)),this.getLanguageApi(),a.default.prototype.showVsAlertDialog=this.showVsAlertDialog,a.default.prototype.showVsConfirmDialog=this.showVsConfirmDialog,a.default.prototype.switchUpload=this.switchUpload,a.default.prototype.switchBgTask=this.switchBgTask,a.default.prototype.runInElectron=this.runInElectron,a.default.prototype.isAndroid=/(Android)/i.test(navigator.userAgent),a.default.prototype.dealOnPageScroll=this.dealOnPageScroll,a.default.prototype.pushState=this.pushState,a.default.prototype.openNewWebViewByPath=this.openNewWebViewByPath,a.default.prototype.goPathNewWebView=this.goPathNewWebView,a.default.prototype.goPath=this.goPath,a.default.prototype.copyText=this.copyText,a.default.prototype.goHome=this.goHome,a.default.prototype.goToSetting=this.goToSetting,a.default.prototype.isInHome=this.isInHome,a.default.prototype.showOpenInSystem=this.showOpenInSystem,a.default.prototype.openInSystem=this.openInSystem,a.default.prototype.downloadFile=this.downloadFile,a.default.prototype.isIosSupportRawPlayer=this.isIosSupportRawPlayer,a.default.prototype.openMusicPage=this.openMusicPage,a.default.prototype.openBooksPage=this.openBooksPage,a.default.prototype.scanPath=this.scanPath,a.default.prototype.isShowingDialog=this.isShowingDialog,a.default.prototype.isFromApp="app"==localStorage.getItem("from"),this.initFinish=!0,this.$bus.$on("onSerchFocus",()=>{this.isInputing=!0}),this.$bus.$on("onSerchBlur",()=>{this.isInputing=!1})},computed:{showOpenInSystem(){return this.runInElectron||localStorage&&localStorage.reqIp&&"localhost"==localStorage.reqIp}},methods:{isShowingDialog(){let e=!1;return(e=0<document.getElementsByClassName("vs-dialog-content").length?!0:e)||this.isInputing},isIosSupportRawPlayer(){return!!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.videoPlayerBridge)},scanPath(e,t){e&&t&&this.api.post("/api/sourceFolderApi/scanPath",{scanPath:t,sourceType:e}).then(e=>{e.code||this.showVsNotification(this.$t("alreadyInQueue"))})},openInSystem(e,t,i,s){this.showOpenInSystem&&this.api.post("/api/commonApi/openInSystem",{folder:e,filename:t,fullPath:i,openType:s}).then(e=>{})},isInHome(){return-1!=window.location.href.indexOf("/home")},goToSetting(e){1==this.$store.state.currentUser.is_admin?this.goPathNewWebView("/setting?pageName="+e,this.$t("home.settingCenter"),{pageName:e}):this.showVsNotification(this.$t("common.noPermission"))},goHome(){document.body.clientWidth<=640&&this.isMobile()?this.$router.push({path:"/homeMobile"}):this.$router.push({path:"/home"})},copyText(e){var t=navigator.clipboard;t&&(t.writeText(e),this.showVsNotification(this.$t("system.copied")))},getBasePath(){var e=window.location.pathname.split("/").filter(Boolean);return 0<e.length?"/"+e[0]:""},openMusicPage(){var e=this.getBasePath()+"/music/index.html";window.open(e,"_blank")},openBooksPage(){var e=this.getBasePath()+"/book/manager";window.open(e,"_blank")},goPathNewWebView(e,t,i,s){this.isFromApp?r.a.onOpenNewWebViewByPath(e,t):s?(location.href,"music"==e?this.openMusicPage():"book/manager"==e?this.openBooksPage():(t=location.protocol+"//"+window.location.host+"/#"+e,window.open(t,"_blank"))):this.goPath(e,i)},pushState(){window.history&&window.history.pushState&&(document.URL,history.pushState(null,null,document.URL))},isMobile(){let e=!1;return e=function(){let e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e;var t}()?!0:e},switchBgTask(){this.isMobile()&&(this.uploadIsShow=!1),this.bgTaskIsShow=!this.bgTaskIsShow},switchUpload(e,t){this.isFromApp&&r.a&&e?r.a.onClickUpload(t,this.$store.state.token):(this.isMobile()&&(this.bgTaskIsShow=!1),!1===e||!0===e?(this.uploadIsShow=e,t&&this.$refs.uploadComponent.onSelectPath(t)):this.uploadIsShow=!this.uploadIsShow)},showVsAlertDialog(e,t,i){e=e||this.$t("common.alert"),this.alertDialogTitle=e,this.alertDialogContent=t,this.$refs.appAlertDialog.setShow(!0),this.alertDialogCallback=i},showVsConfirmDialog(e,t,i,s,n,r,a,o,l,c){this.confirmOkTitle=n||this.$t("common.ok"),this.confirmCancelTitle=r||this.$t("common.cancel"),this.confirmDialogTitle=e||this.$t("common.confirm"),this.confirmDialogContent=t,this.$refs.appConfirmDialog.setShow(!0,a,o,l),this.confirmDialogOkCallback=i,this.confirmDialogCancelCallback=s,c&&(this.confirmCancelTimer=setTimeout(()=>{this.$refs.appConfirmDialog.setShow(!1)},c))},onAlertClick(){this.alertDialogCallback&&(this.alertDialogCallback(),this.alertDialogCallback=null)},onConfirmOkClick(e){this.confirmCancelTimer&&clearTimeout(this.confirmCancelTimer),this.confirmDialogOkCallback&&(this.confirmDialogOkCallback(e),this.confirmDialogOkCallback=null)},onConfirmCancelClick(){this.confirmCancelTimer&&clearTimeout(this.confirmCancelTimer),this.confirmDialogCancelCallback&&(this.confirmDialogCancelCallback(),this.confirmDialogCancelCallback=null)},onSelectLanguage(e){this.setLanguageApi(e)},getLanguageApi(){this.api.post("/api/commonApi/getLanguage").then(e=>{e.code||(e.data?(this.$store.state.language=e.data,this.$i18n.locale=e.data,localStorage.language=e.data):this.$refs.languageDialog.setShow(!0))})},setLanguageApi(t){this.api.post("/api/commonApi/setLanguage",{language:t}).then(e=>{e.code||(this.$i18n.locale=t)})},reload(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})},dealOnPageScroll(e,t,i){let s=null,n=null;e.srcElement?(s=e.srcElement.scrollTop,n=e.srcElement.scrollHeight):e.target?(s=e.target.scrollTop,n=e.target.scrollHeight):e.srcElement.scrollingElement&&(s=e.srcElement.scrollingElement.scrollTop,n=e.srcElement.scrollingElement.scrollHeight);var r=document.documentElement.clientHeight;!n&&e.srcElement.scrollingElement&&(n=e.srcElement.scrollingElement.scrollHeight),s>r?i&&i(!0):i&&i(!1),s+r>=n-5&&t&&t()},downloadFile(t){try{android&&null!=android.downloadFiles||localStorage.ios}catch(e){}var i,s=[];for(i in t){let e=t[i];-1==e.indexOf("&raw=1")&&(e+="&raw=1"),-1==e.indexOf("&download=1")&&(e+="&download=1"),e.startsWith("http")||(e,e=window.location.protocol+"//"+window.location.host+e),s.push(e)}if(this.isFromApp)r.a.downloadFiles(JSON.stringify(s));else for(var n in s){let e=s[n];setTimeout(()=>{this.isFromApp?r.a.openInBrowser(e):(e,window.open(e,"_blank"))},500*n)}},goPath(e,t){this.switchUpload(!1),this.$router.push({path:e,query:t})}}},e=(s("6e7a"),s("2877")),$=Object(e.a)(F,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticStyle:{"background-color":"white"},attrs:{id:"app"}},[e("keep-alive",[t.$route.meta.keepAlive&&t.isRouterAlive?e("router-view"):t._e()],1),e("transition",{attrs:{name:t.animationName}},[!t.$route.meta.keepAlive&&t.isRouterAlive?e("router-view"):t._e()],1),e("my-dialog-confirm",{ref:"appConfirmDialog",attrs:{title:t.confirmDialogTitle,content:t.confirmDialogContent,btOkTitle:t.confirmOkTitle,btCancelTitle:t.confirmCancelTitle},on:{onOkClick:t.onConfirmOkClick,onCancelClick:t.onConfirmCancelClick}}),e("my-dialog-alert",{ref:"appAlertDialog",attrs:{preventClose:!1,title:t.alertDialogTitle,content:t.alertDialogContent},on:{onOkClick:t.onAlertClick}}),e("my-dialog-select",{ref:"languageDialog",attrs:{options:t.languages,isBlur:!0,title:t.$t("setting.language"),placeholder:t.$t("setting.chooseLanguage")},on:{onOkClick:t.onSelectLanguage}}),t.initFinish?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.uploadIsShow,expression:"uploadIsShow"}],staticClass:"upload-wrapper"},[e("Upload",{ref:"uploadComponent"})],1)]):t._e(),t.initFinish?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.bgTaskIsShow,expression:"bgTaskIsShow"}],staticClass:"bgtask-wrapper"},[e("bg-task",{on:{setBgTaskShow:function(e){t.bgTaskIsShow=e}}})],1)]):t._e()],1)},[],!1,null,null,null).exports,U=s("a18c"),F=s("4360"),j=s("dc95"),V=s("d3a4"),z=(s("19c4"),s("c6d6"),s("caf9")),W=(s("f6e1"),{name:"EasyCm",data(){return{show:!1,axis:{x:0,y:0}}},props:{tag:{},list:{required:!0},underline:{default:!1},arrow:{default:!1},border:{default:!0},itemWidth:{default:140},itemHeight:{default:36},itemSize:{default:14},offset:{default:()=>({x:6,y:2})},borderWidth:{default:6}},mounted(){this.$nextTick(()=>{document.addEventListener("click",()=>{this.show=!1})}),this.$root.$on("easyAxis",e=>{e.tag==this.tag&&(this.show=!0,this.axis=e)}),this.$bus.$on("eventOnCloseEasycm",this.hide)},beforeDestroy(){this.$bus.$off("eventOnCloseEasycm",this.hide)},watch:{axis(){var e,t;this.border&&(e=document.body.offsetWidth,t=document.body.offsetHeight,this.axis.x+this.offset.x+this.itemWidth>=e&&(this.axis.x=e-this.itemWidth-this.borderWidth-this.offset.x),this.axis.y+this.offset.y+this.itemHeight*this.list.length>=t)&&(this.axis.y=t-this.itemHeight*this.list.length-this.borderWidth-this.offset.y)}},computed:{axisComputed(){return{top:this.axis.y+this.offset.y+"px",left:this.axis.x+this.offset.x+"px"}},liStyle(){return{width:this.itemWidth+"px",height:this.itemHeight+"px",lineHeight:this.itemHeight+"px",fontSize:this.itemSize+"px"}},firstLeft(){var e=document.body.offsetWidth;return this.axis.x+2*this.itemWidth>=e},secondLeft(){var e=document.body.offsetWidth;return this.axis.x+3*this.itemWidth>=e}},methods:{secondBorderCheck(e){var t=document.body.offsetWidth,i=document.body.offsetHeight,s=this.axis.y+(e+this.list[e].children.length)*this.itemHeight;return{left:this.axis.x+2*this.itemWidth>=t?"-100%":"100%",top:s<=i?0:-(this.list[e].children.length-1)*this.itemHeight+"px"}},thirdBorderCheck(e,t){var i=document.body.offsetWidth,s=document.body.offsetHeight,n=this.axis.y+this.list[e].children[t].children.length*this.itemHeight+(e+t)*this.itemHeight+parseInt(this.secondBorderCheck(e).top);return{left:this.axis.x+3*this.itemWidth>=i?"-100%":"100%",top:s<n?-(this.list[e].children[t].children.length-1)*this.itemHeight+"px":0}},onMenuClick(e){this.show=!1,this.$emit("ecmcb",e)},hide(){this.show=!1}}});s("4103");var H=Object(e.a)(W,function(){var n=this,e=n.$createElement,r=n._self._c||e;return n.show&&0<n.list.length?r("div",{staticClass:"cm-container",style:n.axisComputed},[r("svg",{staticStyle:{position:"absolute",width:"0px",height:"0px",overflow:"hidden"},attrs:{"aria-hidden":"true"}},[r("symbol",{attrs:{id:"icon-youjiantou",viewBox:"0 0 1024 1024"}},[r("path",{attrs:{d:"M288.791335 65.582671l446.41733 446.417329-446.41733 446.417329z"}})])]),r("ul",{staticClass:"cm-ul cm-ul-1 easy-cm-ul",class:n.underline?"cm-underline":""},n._l(n.list,function(e,s){return r("li",{style:n.liStyle},[r("div",{class:n.firstLeft?"cm-left":"",on:{click:function(e){return e.stopPropagation(),n.onMenuClick([s])}}},[r("span",[n._v(n._s(e.text))]),n.arrow&&e.children&&0<e.children.length?r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-youjiantou"}})]):n._e()]),e.children&&0<e.children.length?r("ul",{staticClass:"cm-ul cm-ul-2 easy-cm-ul",class:n.underline?"cm-underline":"",style:n.secondBorderCheck(s)},n._l(e.children,function(e,i){return r("li",{style:n.liStyle},[r("div",{class:n.secondLeft?"cm-left":"",on:{click:function(e){return e.stopPropagation(),n.onMenuClick([s,i])}}},[r("i",{class:e.icon}),r("span",[n._v(n._s(e.text))]),n.arrow&&e.children&&0<e.children.length?r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-youjiantou"}})]):n._e()]),e.children&&0<e.children.length?r("ul",{staticClass:"cm-ul cm-ul-3 easy-cm-ul",class:n.underline?"cm-underline":"",style:n.thirdBorderCheck(s,i)},n._l(e.children,function(e,t){return r("li",{style:n.liStyle},[r("div",{on:{click:function(e){return e.stopPropagation(),n.onMenuClick([s,i,t])}}},[r("i",{class:e.icon}),r("span",[n._v(n._s(e.text))])])])}),0):n._e()])}),0):n._e()])}),0)]):n._e()},[],!1,null,"56534454",null).exports,W={install:function(e){e.component("easy-cm",H),e.prototype.$easycm=function(e,t,i){e.stopPropagation(),e.preventDefault(),t.$emit("easyAxis",{tag:i,x:e.clientX,y:e.clientY})}}},q=("undefined"!=typeof window&&window.Vue&&window.Vue.use(W),s("a342"),s("9751"),s("d930")),G=s("19cb"),G=s.n(G),Y=(s("e0f1"),s("d9e2"),{backdrop:!0,button:!0,navbar:!1,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null});const Q="undefined"!=typeof window&&void 0!==window.document,n=Q?window:{},o=!(!Q||!n.document.documentElement)&&"ontouchstart"in n.document.documentElement,K=!!Q&&"PointerEvent"in n,h="viewer",X="move",l="zoom",Z=h+"-active",J=(h,h+"-fade"),ee=h+"-fixed",te=(h,h+"-fullscreen-exit"),d=h+"-hide",u=(h,h,h,h+"-in"),p=h+"-invisible",m=h+"-loading",ie=(h,h+"-open"),f=h+"-show",g=h+"-transition",y="click",se="dblclick",ne="dragstart",re="focusin",ae="keydown",v="load",b="error",oe=o?"touchend touchcancel":"mouseup",le=o?"touchmove":"mousemove",ce=o?"touchstart":"mousedown",ue=K?"pointerdown":ce,he=K?"pointermove":le,de=K?"pointerup pointercancel":oe,c="transitionend",w="viewed",pe="rotated",me=h+"Action",fe=/\s\s*/,ge=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function S(e){return"string"==typeof e}const ye=Number.isNaN||n.isNaN;function _(e){return"number"==typeof e&&!ye(e)}function C(e){return void 0===e}function k(e){return"object"==typeof e&&null!==e}const ve=Object.prototype["hasOwnProperty"];function x(e){if(!k(e))return!1;try{var t=e["constructor"],i=t["prototype"];return t&&i&&ve.call(i,"isPrototypeOf")}catch(e){return!1}}function T(e){return"function"==typeof e}function I(t,i){if(t&&T(i))if(Array.isArray(t)||_(t.length)){var s=t["length"];let e;for(e=0;e<s&&!1!==i.call(t,t[e],e,t);e+=1);}else k(t)&&Object.keys(t).forEach(e=>{i.call(t,t[e],e,t)});return t}const P=Object.assign||function(i,...e){return k(i)&&0<e.length&&e.forEach(t=>{k(t)&&Object.keys(t).forEach(e=>{i[e]=t[e]})}),i},be=/^(?:width|height|left|top|marginLeft|marginTop)$/;function A(e,t){const i=e["style"];I(t,(e,t)=>{be.test(t)&&_(e)&&(e+="px"),i[t]=e})}function E(e,t){return e&&t&&(e.classList?e.classList.contains(t):-1<e.className.indexOf(t))}function D(e,t){var i;if(e&&t)return _(e.length)?I(e,e=>{D(e,t)}):e.classList?e.classList.add(t):void((i=e.className.trim())?i.indexOf(t)<0&&(e.className=i+" "+t):e.className=t)}function O(e,t){e&&t&&(_(e.length)?I(e,e=>{O(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function we(e,t,i){t&&(_(e.length)?I(e,e=>{we(e,t,i)}):(i?D:O)(e,t))}const Se=/([a-z\d])([A-Z])/g;function _e(e){return e.replace(Se,"$1-$2").toLowerCase()}function L(e,t){return k(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+_e(t))}function Ce(e,t,i){k(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-"+_e(t),i)}const ke=(()=>{let e=!1;if(Q){let t=!1;var i=()=>{},s=Object.defineProperty({},"once",{get(){return e=!0,t},set(e){t=e}});n.addEventListener("test",i,s),n.removeEventListener("test",i,s)}return e})();function N(t,e,i,s={}){let n=i;e.trim().split(fe).forEach(e=>{if(!ke){const s=t["listeners"];s&&s[e]&&s[e][i]&&(n=s[e][i],delete s[e][i],0===Object.keys(s[e]).length&&delete s[e],0===Object.keys(s).length)&&delete t.listeners}t.removeEventListener(e,n,s)})}function M(s,e,n,r={}){let a=n;e.trim().split(fe).forEach(t=>{if(r.once&&!ke){const{listeners:i={}}=s;a=(...e)=>{delete i[t][n],s.removeEventListener(t,a,r),n.apply(s,e)},i[t]||(i[t]={}),i[t][n]&&s.removeEventListener(t,i[t][n],r),i[t][n]=a,s.listeners=i}s.addEventListener(t,a,r)})}function B(e,t,i,s){let n;return T(Event)&&T(CustomEvent)?n=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:i,...s}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function xe({rotate:e,scaleX:t,scaleY:i,translateX:s,translateY:n}){var r=[],s=(_(s)&&0!==s&&r.push(`translateX(${s}px)`),_(n)&&0!==n&&r.push(`translateY(${n}px)`),_(e)&&0!==e&&r.push(`rotate(${e}deg)`),_(t)&&1!==t&&r.push(`scaleX(${t})`),_(i)&&1!==i&&r.push(`scaleY(${i})`),r.length?r.join(" "):"none");return{WebkitTransform:s,msTransform:s,transform:s}}const Te=n.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(n.navigator.userAgent);function Ie(i,e,t){const s=document.createElement("img");if(i.naturalWidth&&!Te)t(i.naturalWidth,i.naturalHeight);else{const n=document.body||document.documentElement;s.onload=()=>{t(s.width,s.height),Te||n.removeChild(s)},I(e.inheritedAttributes,e=>{var t=i.getAttribute(e);null!==t&&s.setAttribute(e,t)}),s.src=i.src,Te||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(s))}return s}function Pe(e){switch(e){case 2:return"viewer-hide-xs-down";case 3:return"viewer-hide-sm-down";case 4:return"viewer-hide-md-down";default:return""}}function Ae({pageX:e,pageY:t},i){var s={endX:e,endY:t};return i?s:{timeStamp:Date.now(),startX:e,startY:t,...s}}var Ee,t={render(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody(){var e=this.element["ownerDocument"],t=e.body||e.documentElement;this.body=t,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=t.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer(){var{options:e,parent:t}=this;let i;e.inline&&(i={width:Math.max(t.offsetWidth,e.minWidth),height:Math.max(t.offsetHeight,e.minHeight)},this.parentData=i),!this.fulled&&i||(i=this.containerData),this.viewerData=P({},i)},renderViewer(){this.options.inline&&!this.fulled&&A(this.viewer,this.viewerData)},initList(){const{element:e,options:o,list:l}=this,c=[];l.innerHTML="",I(this.images,(i,e)=>{var t=i["src"],s=i.alt||(S(s=t)?decodeURIComponent(s.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""),n=this.getImageURL(i);if(t||n){const r=document.createElement("li"),a=document.createElement("img");I(o.inheritedAttributes,e=>{var t=i.getAttribute(e);null!==t&&a.setAttribute(e,t)}),a.src=t||n,a.alt=s,a.setAttribute("data-original-url",n||t),r.setAttribute("data-index",e),r.setAttribute("data-viewer-action","view"),r.setAttribute("role","button"),o.keyboard&&r.setAttribute("tabindex",0),r.appendChild(a),l.appendChild(r),c.push(r)}}),I(this.items=c,t=>{const i=t.firstElementChild;let e,s;Ce(i,"filled",!0),o.loading&&D(t,m),M(i,v,e=e=>{N(i,b,s),o.loading&&O(t,m),this.loadImage(e)},{once:!0}),M(i,b,s=()=>{N(i,v,e),o.loading&&O(t,m)},{once:!0})}),o.transition&&M(e,w,()=>{D(l,g)},{once:!0})},renderList(){var e,t,i=this["index"],s=this.items[i];s&&(e=s.nextElementSibling,t=s["offsetWidth"],s=t+(e=parseInt(window.getComputedStyle(e||s).marginLeft,10)),A(this.list,P({width:s*this.length-e},xe({translateX:(this.viewerData.width-t)/2-s*i}))))},resetList(){var e=this["list"];e.innerHTML="",O(e,g),A(e,xe({translateX:0}))},initImage(o){const{options:l,image:e,viewerData:t}=this,i=this.footer.offsetHeight,c=t.width,u=Math.max(t.height-i,i),h=this.imageData||{};let s;this.imageInitializing={abort:()=>{s.onload=null}},s=Ie(e,l,(e,t)=>{var i=e/t;let s=c,n=u;this.imageInitializing=!1,u*i>c?n=c/i:s=u*i,s=Math.min(.9*s,e),n=Math.min(.9*n,t);var r=(c-s)/2,a=(u-n)/2,r={left:r,top:a,x:r,y:a,width:s,height:n,oldRatio:1,ratio:s/e,aspectRatio:i,naturalWidth:e,naturalHeight:t},a=P({},r);l.rotatable&&(r.rotate=h.rotate||0,a.rotate=0),l.scalable&&(r.scaleX=h.scaleX||1,r.scaleY=h.scaleY||1,a.scaleX=1,a.scaleY=1),this.imageData=r,this.initialImageData=a,o&&o()})},renderImage(e){const{image:t,imageData:i}=this;if(A(t,P({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},xe(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&E(t,g)){const i=()=>{this.imageRendering=!1,e()};this.imageRendering={abort:()=>{N(t,c,i)}},M(t,c,i,{once:!0})}else e()},resetImage(){var e;(this.viewing||this.viewed)&&(e=this["image"],this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null)}};const De=n.Viewer,Oe=(Ee=-1,()=>Ee+=1);class Le{constructor(e,t={}){if(!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=P({},Y,x(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=Oe(),this.init()}init(){const{element:e,options:s}=this;if(!e[h]){e[h]=this,s.focus&&!s.keyboard&&(s.focus=!1);const t="img"===e.localName,i=[];if(I(t?[e]:e.querySelectorAll("img"),e=>{T(s.filter)?s.filter.call(this,e)&&i.push(e):this.getImageURL(e)&&i.push(e)}),this.isImg=t,this.length=i.length,this.images=i,this.initBody(),C(document.createElement(h).style.transition)&&(s.transition=!1),s.inline){let e=0;const s=()=>{if((e+=1)===this.length){let e;this.initializing=!1,this.delaying={abort:()=>{clearTimeout(e)}},e=setTimeout(()=>{this.delaying=!1,this.build()},0)}};this.initializing={abort:()=>{I(i,e=>{e.complete||(N(e,v,s),N(e,b,s))})}},I(i,i=>{if(i.complete)s();else{let e,t;M(i,v,e=()=>{N(i,b,t),s()},{once:!0}),M(i,b,t=()=>{N(i,v,e),s()},{once:!0})}})}else M(e,y,this.onStart=({target:e})=>{"img"!==e.localName||T(s.filter)&&!s.filter.call(this,e)||this.view(this.images.indexOf(e))})}}build(){if(!this.ready){const{element:r,options:a}=this,o=r.parentNode,l=document.createElement("div"),c=(l.innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',l.querySelector(`.${h}-container`)),u=c.querySelector(`.${h}-title`),t=c.querySelector(`.${h}-toolbar`),e=c.querySelector(`.${h}-navbar`),i=c.querySelector(`.${h}-button`),s=c.querySelector(`.${h}-canvas`);if(this.parent=o,this.viewer=c,this.title=u,this.toolbar=t,this.navbar=e,this.button=i,this.canvas=s,this.footer=c.querySelector(`.${h}-footer`),this.tooltipBox=c.querySelector(`.${h}-tooltip`),this.player=c.querySelector(`.${h}-player`),this.list=c.querySelector(`.${h}-list`),c.id=h+this.id,u.id=h+"Title"+this.id,D(u,a.title?Pe(Array.isArray(a.title)?a.title[0]:a.title):d),D(e,a.navbar?Pe(a.navbar):d),we(i,d,!a.button),a.keyboard&&i.setAttribute("tabindex",0),a.backdrop&&(D(c,h+"-backdrop"),a.inline||"static"===a.backdrop||Ce(s,me,"hide")),S(a.className)&&a.className&&a.className.split(fe).forEach(e=>{D(c,e)}),a.toolbar){const r=document.createElement("ul"),o=x(a.toolbar),l=ge.slice(0,3),c=ge.slice(7,9),u=ge.slice(9);o||D(t,Pe(a.toolbar)),I(o?a.toolbar:ge,(e,t)=>{var i,s=o&&x(e),t=o?_e(t):e,n=s&&!C(e.show)?e.show:e;!n||!a.zoomable&&-1!==l.indexOf(t)||!a.rotatable&&-1!==c.indexOf(t)||!a.scalable&&-1!==u.indexOf(t)||(i=s&&!C(e.size)?e.size:e,s=s&&!C(e.click)?e.click:e,e=document.createElement("li"),a.keyboard&&e.setAttribute("tabindex",0),e.setAttribute("role","button"),D(e,h+"-"+t),T(s)||Ce(e,me,t),_(n)&&D(e,Pe(n)),-1!==["small","large"].indexOf(i)?D(e,h+"-"+i):"play"===t&&D(e,h+"-large"),T(s)&&M(e,y,s),r.appendChild(e))}),t.appendChild(r)}else D(t,d);if(!a.rotatable){const r=t.querySelectorAll('li[class*="rotate"]');D(r,p),I(r,e=>{t.appendChild(e)})}if(a.inline)D(i,"viewer-fullscreen"),A(c,{zIndex:a.zIndexInline}),"static"===window.getComputedStyle(o).position&&A(o,{position:"relative"}),o.insertBefore(c,r.nextSibling);else{D(i,"viewer-close"),D(c,ee),D(c,J),D(c,d),A(c,{zIndex:a.zIndex});let e=a["container"];(e=(e=S(e)?r.ownerDocument.querySelector(e):e)||this.body).appendChild(c)}a.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,T(a.ready)&&M(r,"ready",a.ready,{once:!0}),!1!==B(r,"ready")?this.ready&&a.inline&&this.view(this.index):this.ready=!1}}renderList(){t()}resetList(){t()}initImage(){t(()=>{t()})}resetImage(){t()}static noConflict(){return window.Viewer=De,Le}static setDefaults(e){P(Y,x(e)&&e)}}P(Le.prototype,t,{bind(){var{options:e,viewer:t,canvas:i}=this,s=this.element.ownerDocument;M(t,y,this.onClick=this.click.bind(this)),M(t,ne,this.onDragStart=this.dragstart.bind(this)),M(i,ue,this.onPointerDown=this.pointerdown.bind(this)),M(s,he,this.onPointerMove=this.pointermove.bind(this)),M(s,de,this.onPointerUp=this.pointerup.bind(this)),M(s,ae,this.onKeyDown=this.keydown.bind(this)),M(window,"resize",this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&M(t,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&M(i,se,this.onDblclick=this.dblclick.bind(this))},unbind(){var{options:e,viewer:t,canvas:i}=this,s=this.element.ownerDocument;N(t,y,this.onClick),N(t,ne,this.onDragStart),N(i,ue,this.onPointerDown),N(s,he,this.onPointerMove),N(s,de,this.onPointerUp),N(s,ae,this.onKeyDown),N(window,"resize",this.onResize),e.zoomable&&e.zoomOnWheel&&N(t,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&N(i,se,this.onDblclick)}},{click(e){var{options:t,imageData:i}=this;let s=e["target"],n=L(s,me);switch(n||"img"!==s.localName||"li"!==s.parentElement.localName||(s=s.parentElement,n=L(s,me)),o&&e.isTrusted&&s===this.canvas&&clearTimeout(this.clickCanvasTimeout),n){case"mix":this.played?this.stop():t.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(L(s,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(t.loop);break;case"play":this.play(t.fullscreen);break;case"next":this.next(t.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick(e){e.preventDefault(),this.viewed&&e.target===this.image&&(o&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load(){this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);const{element:e,options:t,image:i,index:s,viewerData:n}=this;O(i,p),t.loading&&O(this.canvas,m),i.style.cssText=`height:0;margin-left:${n.width/2}px;margin-top:${n.height/2}px;max-width:none!important;position:relative;width:0;`,this.initImage(()=>{we(i,"viewer-move",t.movable),we(i,g,t.transition),this.renderImage(()=>{this.viewed=!0,this.viewing=!1,T(t.viewed)&&M(e,w,t.viewed,{once:!0}),B(e,w,{originalImage:this.images[s],index:s,image:i},{cancelable:!1})})})},loadImage(e){const n=e.target,t=n.parentNode,r=t.offsetWidth||30,a=t.offsetHeight||50,o=!!L(n,"filled");Ie(n,this.options,(e,t)=>{e/=t;let i=r,s=a;a*e>r?o?i=a*e:s=r/e:o?s=r/e:i=a*e,A(n,P({width:i,height:s},xe({translateX:(r-i)/2,translateY:(a-s)/2})))})},keydown(e){var t=this["options"];if(t.keyboard){var i=e.keyCode||e.which||e.charCode;if(13===i&&this.viewer.contains(e.target)&&this.click(e),this.fulled)switch(i){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle())}}},dragstart(e){"img"===e.target.localName&&e.preventDefault()},pointerdown(t){const{options:i,pointers:s}=this,{buttons:e,button:n}=t;if(!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(_(e)&&1!==e||_(n)&&0!==n||t.ctrlKey))){t.preventDefault(),t.changedTouches?I(t.changedTouches,e=>{s[e.identifier]=Ae(e)}):s[t.pointerId||0]=Ae(t);let e=!!i.movable&&X;i.zoomOnTouch&&i.zoomable&&1<Object.keys(s).length?e=l:i.slideOnTouch&&("touch"===t.pointerType||"touchstart"===t.type)&&this.isSwitchable()&&(e="switch"),!i.transition||e!==X&&e!==l||O(this.image,g),this.action=e}},pointermove(e){const{pointers:t,action:i}=this;this.viewed&&i&&(e.preventDefault(),e.changedTouches?I(e.changedTouches,e=>{P(t[e.identifier]||{},Ae(e,!0))}):P(t[e.pointerId||0]||{},Ae(e,!0)),this.change(e))},pointerup(e){const{options:t,action:i,pointers:s}=this;let n;e.changedTouches?I(e.changedTouches,e=>{n=s[e.identifier],delete s[e.identifier]}):(n=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),!t.transition||i!==X&&i!==l||D(this.image,g),this.action=!1,o)&&i!==l&&n&&Date.now()-n.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),t.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(()=>{B(this.image,se,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(()=>{this.imageClicked=!1},500)):(this.imageClicked=!1,t.backdrop&&"static"!==t.backdrop&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(()=>{B(this.canvas,y,{originalEvent:e})},50))))},resize(){this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(()=>{this.renderImage()}),this.played)&&(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?this.stop():I(this.player.getElementsByTagName("img"),e=>{M(e,v,this.loadImage.bind(this),{once:!0}),B(e,v)}))},wheel(t){if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(()=>{this.wheeling=!1},50);var i=Number(this.options.zoomRatio)||.1;let e=1;t.deltaY?e=0<t.deltaY?1:-1:t.wheelDelta?e=-t.wheelDelta/120:t.detail&&(e=0<t.detail?1:-1),this.zoom(-e*i,!0,t)}}},{show(e=!1){var{element:t,options:i}=this;if(!(i.inline||this.showing||this.isShown||this.showing))if(this.ready){if(T(i.show)&&M(t,"show",i.show,{once:!0}),!1!==B(t,"show")&&this.ready){this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();const s=this["viewer"];if(O(s,d),s.setAttribute("role","dialog"),s.setAttribute("aria-labelledby",this.title.id),s.setAttribute("aria-modal",!0),s.removeAttribute("aria-hidden"),i.transition&&!e){const e=this.shown.bind(this);this.transitioning={abort:()=>{N(s,c,e),O(s,u)}},D(s,g),s.initialOffsetWidth=s.offsetWidth,M(s,c,e,{once:!0}),D(s,u)}else D(s,u),this.shown()}}else this.build(),this.ready&&this.show(e);return this},hide(t=!1){const{element:e,options:i}=this;if(!i.inline&&!this.hiding&&(this.isShown||this.showing)&&(T(i.hide)&&M(e,"hide",i.hide,{once:!0}),!1!==B(e,"hide"))){this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();const{viewer:s,image:n}=this,r=()=>{O(s,u),this.hidden()};if(i.transition&&!t){const t=e=>{e&&e.target===s&&(N(s,c,t),this.hidden())},e=()=>{E(s,g)?(M(s,c,t),O(s,u)):r()};this.transitioning={abort:()=>{this.viewed&&E(n,g)?N(n,c,e):E(s,g)&&N(s,c,t)}},this.viewed&&E(n,g)?(M(n,c,e,{once:!0}),this.zoomTo(0,!1,null,!0)):e()}else r()}return this},view(i=this.options.initialViewIndex){if(i=Number(i)||0,!(this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)){if(!this.isShown)return this.index=i,this.show();this.viewing&&this.viewing.abort();const{element:n,options:r,title:a,canvas:o}=this,l=this.items[i],c=l.querySelector("img"),e=L(c,"originalUrl"),u=c.getAttribute("alt"),h=document.createElement("img");if(I(r.inheritedAttributes,e=>{var t=c.getAttribute(e);null!==t&&h.setAttribute(e,t)}),h.src=e,h.alt=u,T(r.view)&&M(n,"view",r.view,{once:!0}),!1!==B(n,"view",{originalImage:this.images[i],index:i,image:h})&&this.isShown&&!this.hiding&&!this.played){var s=this.items[this.index];s&&(O(s,Z),s.removeAttribute("aria-selected")),D(l,Z),l.setAttribute("aria-selected",!0),r.focus&&l.focus(),this.image=h,this.viewed=!1,this.index=i,this.imageData={},D(h,p),r.loading&&D(o,m),o.innerHTML="",o.appendChild(h),this.renderList(),a.innerHTML="";const d=()=>{var e=this["imageData"],t=Array.isArray(r.title)?r.title[1]:r.title;a.innerHTML=S(t=T(t)?t.call(this,h,e):`${u} (${e.naturalWidth} × ${e.naturalHeight})`)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t};let e,t;M(n,w,d,{once:!0}),this.viewing={abort:()=>{N(n,w,d),h.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(h.src="",N(h,v,e),this.timeout&&clearTimeout(this.timeout))}},h.complete?this.load():(M(h,v,e=()=>{N(h,b,t),this.load()},{once:!0}),M(h,b,t=()=>{N(h,v,e),this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),O(h,p),r.loading&&O(this.canvas,m)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{O(h,p),this.timeout=!1},1e3))}}return this},prev(e=!1){let t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next(e=!1){var t=this.length-1;let i=this.index+1;return i>t&&(i=e?0:t),this.view(i),this},move(e,t=e){var i=this["imageData"];return this.moveTo(C(e)?e:i.x+Number(e),C(t)?t:i.y+Number(t)),this},moveTo(t,i=t,s=null){const{element:n,options:r,imageData:a}=this;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&r.movable){const o=a.x,l=a.y;let e=!1;if(_(t)?e=!0:t=o,_(i)?e=!0:i=l,e){if(T(r.move)&&M(n,"move",r.move,{once:!0}),!1===B(n,"move",{x:t,y:i,oldX:o,oldY:l,originalEvent:s}))return this;a.x=t,a.y=i,a.left=t,a.top=i,this.moving=!0,this.renderImage(()=>{this.moving=!1,T(r.moved)&&M(n,"moved",r.moved,{once:!0}),B(n,"moved",{x:t,y:i,oldX:o,oldY:l,originalEvent:s},{cancelable:!1})})}}return this},rotate(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo(e){const{element:t,options:i,imageData:s}=this;if(_(e=Number(e))&&this.viewed&&!this.played&&i.rotatable){const n=s.rotate;if(T(i.rotate)&&M(t,"rotate",i.rotate,{once:!0}),!1===B(t,"rotate",{degree:e,oldDegree:n}))return this;s.rotate=e,this.rotating=!0,this.renderImage(()=>{this.rotating=!1,T(i.rotated)&&M(t,pe,i.rotated,{once:!0}),B(t,pe,{degree:e,oldDegree:n},{cancelable:!1})})}return this},scaleX(e){return this.scale(e,this.imageData.scaleY),this},scaleY(e){return this.scale(this.imageData.scaleX,e),this},scale(t,i=t){const{element:s,options:n,imageData:r}=this;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&n.scalable){const a=r.scaleX,o=r.scaleY;let e=!1;if(_(t)?e=!0:t=a,_(i)?e=!0:i=o,e){if(T(n.scale)&&M(s,"scale",n.scale,{once:!0}),!1===B(s,"scale",{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:o}))return this;r.scaleX=t,r.scaleY=i,this.scaling=!0,this.renderImage(()=>{this.scaling=!1,T(n.scaled)&&M(s,"scaled",n.scaled,{once:!0}),B(s,"scaled",{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:o},{cancelable:!1})})}}return this},zoom(e,t=!1,i=null){var s=this["imageData"];return e=Number(e),this.zoomTo(s.width*(e=e<0?1/(1-e):1+e)/s.naturalWidth,t,i),this},zoomTo(e,t=!1,i=null,s=!1){const{element:n,options:r,pointers:a,imageData:o}=this,{x:l,y:c,width:u,height:h,naturalWidth:d,naturalHeight:p}=o;if(_(e=Math.max(0,e))&&this.viewed&&!this.played&&(s||r.zoomable)){if(!s){const t=Math.max(.01,r.minZoomRatio),i=Math.min(100,r.maxZoomRatio);e=Math.min(Math.max(e,t),i)}if(i)switch(i.type){case"wheel":.055<=r.zoomRatio&&.95<e&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":.99<e&&e<1.01&&(e=1)}const m=d*e,f=p*e,g=m-u,y=f-h,v=o.ratio;if(T(r.zoom)&&M(n,"zoom",r.zoom,{once:!0}),!1===B(n,"zoom",{ratio:e,oldRatio:v,originalEvent:i}))return this;if(this.zooming=!0,i){const e={left:(s=(s=this.viewer).getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:s.top+(window.pageYOffset-document.documentElement.clientTop)},t=a&&0<Object.keys(a).length?function(e){let i=0,s=0,n=0;return I(e,({startX:e,startY:t})=>{i+=e,s+=t,n+=1}),i/=n,s/=n,{pageX:i,pageY:s}}(a):{pageX:i.pageX,pageY:i.pageY};o.x-=g*((t.pageX-e.left-l)/u),o.y-=y*((t.pageY-e.top-c)/h)}else o.x-=g/2,o.y-=y/2;o.left=o.x,o.top=o.y,o.width=m,o.height=f,o.oldRatio=v,o.ratio=e,this.renderImage(()=>{this.zooming=!1,T(r.zoomed)&&M(n,"zoomed",r.zoomed,{once:!0}),B(n,"zoomed",{ratio:e,oldRatio:v,originalEvent:i},{cancelable:!1})}),t&&this.tooltip()}return this},play(e=!1){if(this.isShown&&!this.played){const{element:t,options:a}=this;if(T(a.play)&&M(t,"play",a.play,{once:!0}),!1!==B(t,"play")){const o=this["player"],l=this.loadImage.bind(this),c=[];let n=0,r=0;if(this.played=!0,this.onLoadWhenPlay=l,e&&this.requestFullscreen(e),D(o,f),I(this.items,(e,t)=>{var i=e.querySelector("img"),s=document.createElement("img");s.src=L(i,"originalUrl"),s.alt=i.getAttribute("alt"),s.referrerPolicy=i.referrerPolicy,n+=1,D(s,J),we(s,g,a.transition),E(e,Z)&&(D(s,u),r=t),c.push(s),M(s,v,l,{once:!0}),o.appendChild(s)}),_(a.interval)&&0<a.interval){const e=()=>{this.playing=setTimeout(()=>{O(c[r],u),r=(r+=1)<n?r:0,D(c[r],u),e()},a.interval)};1<n&&e()}}}return this},stop(){var e,t;return this.played&&({element:e,options:t}=this,T(t.stop)&&M(e,"stop",t.stop,{once:!0}),!1!==B(e,"stop"))&&(t=this["player"],this.played=!1,clearTimeout(this.playing),I(t.getElementsByTagName("img"),e=>{N(e,v,this.onLoadWhenPlay)}),O(t,f),t.innerHTML="",this.exitFullscreen()),this},full(){const{options:e,viewer:t,image:i,list:s}=this;return this.isShown&&!this.played&&!this.fulled&&e.inline&&(this.fulled=!0,this.open(),D(this.button,te),e.transition&&(O(s,g),this.viewed)&&O(i,g),D(t,ee),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby",this.title.id),t.setAttribute("aria-modal",!0),t.removeAttribute("style"),A(t,{zIndex:e.zIndex}),e.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=P({},this.containerData),this.renderList(),this.viewed)&&this.initImage(()=>{this.renderImage(()=>{e.transition&&setTimeout(()=>{D(i,g),D(s,g)},0)})}),this},exit(){const{options:e,viewer:t,image:i,list:s}=this;return this.isShown&&!this.played&&this.fulled&&e.inline&&(this.fulled=!1,this.close(),O(this.button,te),e.transition&&(O(s,g),this.viewed)&&O(i,g),e.focus&&this.clearEnforceFocus(),t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-modal"),O(t,ee),A(t,{zIndex:e.zIndexInline}),this.viewerData=P({},this.parentData),this.renderViewer(),this.renderList(),this.viewed)&&this.initImage(()=>{this.renderImage(()=>{e.transition&&setTimeout(()=>{D(i,g),D(s,g)},0)})}),this},tooltip(){const{options:e,tooltipBox:t,imageData:i}=this;return this.viewed&&!this.played&&e.tooltip&&(t.textContent=Math.round(100*i.ratio)+"%",this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&B(t,c),D(t,f),D(t,J),D(t,g),t.removeAttribute("aria-hidden"),t.initialOffsetWidth=t.offsetWidth,D(t,u)):(D(t,f),t.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(()=>{e.transition?(M(t,c,()=>{O(t,f),O(t,J),O(t,g),t.setAttribute("aria-hidden",!0),this.fading=!1},{once:!0}),O(t,u),this.fading=!0):(O(t,f),t.setAttribute("aria-hidden",!0)),this.tooltipping=!1},1e3)),this},toggle(e=null){return 1===this.imageData.ratio?this.zoomTo(this.imageData.oldRatio,!0,e):this.zoomTo(1,!0,e),this},reset(){return this.viewed&&!this.played&&(this.imageData=P({},this.initialImageData),this.renderImage()),this},update(){const{element:s,options:t,isImg:e}=this;if(e&&!s.parentNode)return this.destroy();const n=[];if(I(e?[s]:s.querySelectorAll("img"),e=>{T(t.filter)?t.filter.call(this,e)&&n.push(e):this.getImageURL(e)&&n.push(e)}),n.length)if(this.images=n,this.length=n.length,this.ready){const s=[];if(I(this.items,(e,t)=>{var e=e.querySelector("img"),i=n[t];i&&e&&i.src===e.src&&i.alt===e.alt||s.push(t)}),A(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){const t=s.indexOf(this.index);if(0<=t)this.viewed=!1,this.view(Math.max(Math.min(this.index-t,this.length-1),0));else{const s=this.items[this.index];D(s,Z),s.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy(){var{element:e,options:t}=this;return e[h]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||N(e,y,this.onStart),e[h]=void 0),this}},{getImageURL(e){let t=this.options["url"];return t=S(t)?e.getAttribute(t):T(t)?t.call(this,e):""},enforceFocus(){this.clearEnforceFocus(),M(document,re,this.onFocusin=e=>{var t=this["viewer"];let i=e["target"];if(i!==document&&i!==t&&!t.contains(i)){for(;i;){if(null!==i.getAttribute("tabindex")||"true"===i.getAttribute("aria-modal"))return;i=i.parentElement}t.focus()}})},clearEnforceFocus(){this.onFocusin&&(N(document,re,this.onFocusin),this.onFocusin=null)},open(){var e=this["body"];D(e,ie),e.style.paddingRight=this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0)+"px"},close(){var e=this["body"];O(e,ie),e.style.paddingRight=this.initialBodyPaddingRight},shown(){var{element:e,options:t,viewer:i}=this;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,t.focus&&(i.focus(),this.enforceFocus()),T(t.shown)&&M(e,"shown",t.shown,{once:!0}),!1!==B(e,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden(){var{element:e,options:t,viewer:i}=this;t.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),D(i,d),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(T(t.hidden)&&M(e,"hidden",t.hidden,{once:!0}),B(e,"hidden",null,{cancelable:!1}))},requestFullscreen(e){var t=this.element.ownerDocument;this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t=t["documentElement"],t.requestFullscreen?x(e)?t.requestFullscreen(e):t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())},exitFullscreen(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change(e){var{options:t,pointers:i}=this,s=i[Object.keys(i)[0]];if(s){var n=s.endX-s.startX,r=s.endY-s.startY;switch(this.action){case X:this.move(n,r,e);break;case l:this.zoom(function(e){const t={...e},r=[];return I(e,(n,e)=>{delete t[e],I(t,e=>{var t=Math.abs(n.startX-e.startX),i=Math.abs(n.startY-e.startY),s=Math.abs(n.endX-e.endX),e=Math.abs(n.endY-e.endY),t=Math.sqrt(t*t+i*i),i=(Math.sqrt(s*s+e*e)-t)/t;r.push(i)})}),r.sort((e,t)=>Math.abs(e)<Math.abs(t)),r[0]}(i),!1,e);break;case"switch":{this.action="switched";const e=Math.abs(n);1<e&&e>Math.abs(r)&&(this.pointers={},1<n?this.prev(t.loop):n<-1&&this.next(t.loop));break}}I(i,e=>{e.startX=e.endX,e.startY=e.endY})}},isSwitchable(){var{imageData:e,viewerData:t}=this;return 1<this.length&&0<=e.x&&0<=e.y&&e.width<=t.width&&e.height<=t.height}});var Ne=Le;const Me="undefined"!=typeof window&&null!==window,Be=(!(Me&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)||"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return 0<this.intersectionRatio}}),Object.prototype.propertyIsEnumerable),Fe=Object.getOwnPropertySymbols;function Re(e){return"function"==typeof e||"[object Object]"===toString.call(e)}function $e(e,...t){let i=0;for(e=(e=("object"==typeof(a=e)?null===a:"function"!=typeof a)?t[i++]:e)||{};i<t.length;i++)if(Re(t[i])){for(const o of Object.keys(t[i]))r=o,"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(Re(e[o])&&Re(t[i][o])?$e(e[o],t[i][o]):e[o]=t[i][o]);n=s=void 0;var s=e,n=[t[i]];if(!Re(s))throw new TypeError("expected the first argument to be an object");if(0!==n.length&&"function"==typeof Symbol&&"function"==typeof Fe)for(const l of n){const n=Fe(l);for(const c of n)Be.call(l,c)&&(s[c]=l[c])}}var r,a;return e}var Ue=({images:e=[],options:t={}}={})=>{t=$e(t,{inline:!1});const i=a.default.extend({render(t){return t("div",{style:{display:"none"},class:["__viewer-token"]},e.map(e=>t("img",{attrs:"string"==typeof e?{src:e}:e})))}}),s=new i,n=(s.$mount(),document.body.appendChild(s.$el),new Ne(s.$el,t)),r=n.destroy.bind(n);return n.destroy=function(){return r(),s.$destroy(),document.body.removeChild(s.$el),n},n.show(),s.$el.addEventListener("hidden",function(){this.viewer===n&&n.destroy()}),n},je=s("574d"),je=s.n(je),Ve=(s("04f2"),{props:{name:{default:"sidebar",type:String},initIndex:{default:0,type:Number},optionList:{default:[],type:Array}},components:{},data(){return{selectedIndex:this.initIndex}},created(){},methods:{itemClick(e){this.selectedIndex=e,this.$emit("onItemClick",this.optionList[e])},setIndex(e){this.selectedIndex=e},setSelectById(t){if(t)for(let e=0;e<this.optionList.length;e++)this.optionList[e].id==t&&(this.selectedIndex=e)}}});s("f686");var Ve=Object(e.a)(Ve,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{staticClass:"my-sidebar-root"},i._l(i.optionList,function(e,t){return!e.onlyAdmin||e.onlyAdmin&&1==i.$store.state.currentUser.is_admin?s("div",{staticClass:"option-item"},[t==i.selectedIndex?s("div",{staticClass:"sign"}):i._e(),s("div",{staticClass:"item-content",on:{click:function(e){return i.itemClick(t)}}},[t==i.selectedIndex?s("span",{staticClass:"item-icon",class:e.font,staticStyle:{"font-size":"26px"}}):s("span",{staticClass:"item-icon-normal",class:e.font,staticStyle:{"font-size":"22px"}}),s("div",{staticClass:"item-title",style:{color:t==i.selectedIndex?"#386DF2":"#99AABF"}},[i._v(" "+i._s(e.title)+" ")])])]):i._e()}),0)},[],!1,null,"81acd664",null).exports,ze=s("7cfd"),We={props:{initIndex:{default:0,type:Number},optionList:{default:[],type:Array}},computed:{getLogoImageUrl(){return localStorage.customLogoImage?R.a.getCustomFileUrl(localStorage.customLogoImage):s("9743")}},components:{},watch:{selectedIndex:function(e){this.itemClick(e)}},data(){return{activeSidebar:!1,selectedIndex:this.initIndex}},created(){},methods:{itemClick(e){this.selectedIndex=e,this.activeSidebar=!1,this.$nextTick(()=>{this.$emit("onItemClick",this.optionList[e])})},setIndex(e){this.selectedIndex=e},setSelectById(t){if(t)for(let e=0;e<this.optionList.length;e++)this.optionList[e].id==t&&(this.selectedIndex=e)}}};s("cd39");var We=Object(e.a)(We,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{staticClass:"my-sidebar-root"},[i.isFromApp?i._e():s("my-btn-icon",{staticClass:"nas-mobile-show",staticStyle:{position:"fixed",bottom:"135px",left:"15px"},attrs:{size:"large",type:"grey",iIcon:"md-home"},on:{click:function(e){return i.goHome()}}}),s("my-btn-icon",{staticClass:"nas-mobile-show",staticStyle:{position:"fixed",bottom:"75px",left:"15px"},attrs:{size:"large",type:"grey",iIcon:"md-reorder"},on:{click:function(e){i.activeSidebar=!i.activeSidebar}}}),s("vs-sidebar",{attrs:{absolute:"",open:i.activeSidebar},on:{"update:open":function(e){i.activeSidebar=e}},scopedSlots:i._u([{key:"logo",fn:function(){return[s("img",{staticClass:"logo",attrs:{src:i.getLogoImageUrl}})]},proxy:!0},{key:"footer",fn:function(){return[s("vs-button",{staticStyle:{position:"fixed",bottom:"15px",left:"15px",width:"120px","border-radius":"20px","margin-bottom":"50px"},attrs:{border:""},on:{click:function(e){i.activeSidebar=!i.activeSidebar}}},[i._v(" "+i._s(i.$t("common.close"))+" ")])]},proxy:!0}]),model:{value:i.selectedIndex,callback:function(e){i.selectedIndex=e},expression:"selectedIndex"}},i._l(i.optionList,function(e,t){return!e.onlyAdmin||e.onlyAdmin&&1==i.$store.state.currentUser.is_admin?s("vs-sidebar-item",{attrs:{id:t+""},scopedSlots:i._u([{key:"icon",fn:function(){return[t==i.selectedIndex?s("span",{staticClass:"item-icon",class:e.font,staticStyle:{"font-size":"26px"}}):s("span",{staticClass:"item-icon-normal",class:e.font,staticStyle:{"font-size":"22px"}})]},proxy:!0}],null,!0)},[s("div",{staticClass:"item-title",style:{color:t==i.selectedIndex?"#386DF2":"#99AABF"}},[i._v(" "+i._s(e.title)+" ")])]):i._e()}),1)],1)},[],!1,null,"138a2c47",null).exports,He={props:{registeSwitchBg:{default:!1,type:Boolean}},components:{},computed:{bgUrl:function(){return localStorage.customHomeBgImage?R.a.getCustomFileUrl(localStorage.customHomeBgImage):s("341e")("./"+this.bgIndex+".jpg")}},data(){return{bgIndex:1}},created(){var e=localStorage.getItem("bgIndex");e&&(e=parseInt(e),this.bgIndex=e),this.registeSwitchBg&&this.$bus.$on("onChangeBg",()=>{this.bgIndex<16?this.bgIndex=this.bgIndex+1:this.bgIndex=1,localStorage.setItem("bgIndex",this.bgIndex),this.$forceUpdate()})},beforeDestroy(){},methods:{}};s("6d8f");var He=Object(e.a)(He,function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"my-bg-root",style:{"background-image":"url("+this.bgUrl+")"}},[e("div",{staticClass:"subBox"})])},[],!1,null,"64151f2e",null).exports,qe={props:{shrinkModeTh:{default:550,type:Number},optionList:{default:[],type:Array},initValue:{default:"",type:String}},components:{},data(){return{shrinkMode:!1,sortType:"desc",selectedIndex:0}},created(){this.updateShrinkMode(),this.initValue&&this.setSelectedId(this.initValue),window.addEventListener("resize",this.updateShrinkMode)},beforeDestroy(){window.removeEventListener("resize",this.updateShrinkMode)},methods:{updateShrinkMode(){let e=document.documentElement.clientWidth||window.screen.width;(e=e||screen.width)&&e<this.shrinkModeTh?this.shrinkMode=!0:this.shrinkMode=!1},setSelectedId(e){for(var t in this.optionList)this.optionList[t].id==e&&(this.selectedIndex=t)},setSelectedIndex(e){this.selectedIndex=e},itemClick(e){this.selectedIndex=e,this.$emit("onItemClick",this.optionList[e].id,this.sortType)}}};s("b30c");var qe=Object(e.a)(qe,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{staticClass:"select-root"},[i.shrinkMode?s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("Dropdown",{attrs:{trigger:"click"},on:{"on-click":i.itemClick},scopedSlots:i._u([{key:"list",fn:function(){return[s("DropdownMenu",i._l(i.optionList,function(e,t){return s("DropdownItem",{attrs:{name:t}},[i._v(" "+i._s(e.title)+" ")])}),1)]},proxy:!0}],null,!1,3739666871)},[s("a",{attrs:{href:"javascript:void(0)"}},[i._v(" "+i._s(i.optionList[i.selectedIndex].title)+" "),s("Icon",{attrs:{type:"ios-arrow-down"}})],1)])],1):i._l(i.optionList,function(e,t){return s("div",{staticClass:"select-item",on:{click:function(e){return i.itemClick(t)}}},[s("p",{staticClass:"select-text",style:{color:i.selectedIndex==t?"#386DF2":"#99AABF"}},[i._v(" "+i._s(e.title)+" ")])])})],2)},[],!1,null,"60602b10",null).exports,Ge=s("044b"),Ye={props:{size:{default:"default",type:String},type:{default:"primary",type:String},iIcon:{default:"md-home",type:String}},components:{},data(){return{}},created(){},methods:{}};s("c991");var Ye=Object(e.a)(Ye,function(){var t=this,e=t.$createElement;return(t._self._c||e)("Button",{staticClass:"btn",class:t.type,attrs:{shape:"circle",icon:t.iIcon,size:t.size},on:{click:function(e){return t.$emit("click")}}})},[],!1,null,"d09b2ec2",null).exports,Qe={props:{title:{default:"",type:String},btnTitle:{default:"",type:String}},components:{},data(){return{}},created(){},methods:{onBtnClick(){this.$emit("onBtnClick")}}};s("dfda");var Qe=Object(e.a)(Qe,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[t("img",{staticStyle:{width:"145px",height:"145px","object-fit":"contain"},attrs:{src:s("fb68")}}),t("div",{staticClass:"alert-text",staticStyle:{"margin-top":"15px"}},[e._v(e._s(e.title))]),e.btnTitle?t("my-btn",{staticStyle:{"margin-top":"18px"},attrs:{title:e.btnTitle},on:{click:e.onBtnClick}}):e._e()],1)},[],!1,null,"f43b2c04",null).exports,Ke=s("e11e"),Ke={props:{btnType:{default:"primary",type:String},keepSmall:{default:!1,type:Boolean},placeholder:{default:"",type:String},shrinkModeTh:{default:580,type:Number}},components:{Icon:Ke.Icon},data(){return{shrinkMode:!1,showMobileSearch:!1,searchValue:""}},created(){this.keepSmall,this.keepSmall||window.addEventListener("resize",this.updateShowType),this.updateShowType()},beforeDestroy(){this.keepSmall||window.removeEventListener("resize",this.updateShowType)},methods:{updateShowType(){let e=document.documentElement.clientWidth||window.screen.width;(e=e||screen.width)&&e<this.shrinkModeTh?this.shrinkMode=!0:this.shrinkMode=!1},clearSearchValue(){this.searchValue=""},clearSearch(){this.searchValue="",this.doSearch()},doSearch(){this.showMobileSearch=!1,this.$emit("onSearch",this.searchValue)},onFocus(){this.$bus.$emit("onSerchFocus")},onBlur(){this.$bus.$emit("onSerchBlur")}}};s("14c8");var Ke=Object(e.a)(Ke,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-search-root"},[t.shrinkMode||t.keepSmall?t._e():i("Input",{staticStyle:{"border-radius":"20px"},attrs:{autocapitalize:"off",autocorrect:"off",size:"large",clearable:"",search:"","enter-button":"",placeholder:t.placeholder},on:{"on-clear":function(e){return t.doSearch()},"on-search":function(e){return t.doSearch()},"on-focus":t.onFocus,"on-blur":t.onBlur},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t.shrinkMode||t.keepSmall?i("my-btn-icon",{attrs:{type:t.btnType,iIcon:"ios-search"},on:{click:function(e){t.showMobileSearch=!0}}}):t._e(),i("vs-dialog",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticClass:"not-margin"},[t._v(" "+t._s(t.$t("common.search"))+" ")])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("Button",{staticStyle:{width:"48%","border-radius":"20px"},attrs:{border:""},on:{click:function(e){return t.clearSearch()}}},[t._v(" "+t._s(t.$t("common.clear"))+" ")]),i("Button",{staticStyle:{width:"48%","border-radius":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.doSearch()}}},[t._v(" "+t._s(t.$t("common.search"))+" ")])],1)]},proxy:!0}]),model:{value:t.showMobileSearch,callback:function(e){t.showMobileSearch=e},expression:"showMobileSearch"}},[i("div",{staticClass:"input-mobile-root"},[i("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text"},scopedSlots:t._u([{key:"icon",fn:function(){return[i("i",{staticClass:"nasIcons icon-search icon-main-color"})]},proxy:!0}]),model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)])],1)},[],!1,null,"b96afffa",null).exports,Xe={props:{showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},preventClose:{default:!1,type:Boolean},title:{default:"",type:String},content:{default:"",type:String},btTitle:{default:function(){return this.$t("common.iSee")},type:String}},components:{},data(){return{active:!1}},created(){},methods:{onBtnClick(){this.active=!1,this.$emit("onOkClick")},setShow(e){this.active=e}}},Xe=Object(e.a)(Xe,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vs-dialog",{attrs:{"prevent-close":t.preventClose,blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[i("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:s("135a")}}),i("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[t._v(" "+t._s(t.title)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[i("vs-button",{attrs:{block:""},on:{click:t.onBtnClick}},[t._v(" "+t._s(t.btTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("div",{staticStyle:{color:"#99AABF","font-size":"14px","word-break":"break-all"}},[t._v(" "+t._s(t.content)+" ")])])],1)},[],!1,null,"96b5e894",null).exports,Ze={props:{showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},preventClose:{default:!1,type:Boolean},title:{default:function(){return this.$t("common.confirm")},type:String},content:{default:"NasCab",type:String},btCancelTitle:{default:function(){return this.$t("common.cancel")},type:String},btOkTitle:{default:function(){return this.$t("common.ok")},type:String}},components:{},data(){return{okBtnIsLoading:!1,active:!1,enableTimer:null,isDanger:!1,checkBoxContent:"",isCheck:!1,cacheKey:"dialog-confirm-cb-"}},created(){},mounted(){},beforeDestroy(){},methods:{onCancelClick(){this.active=!1,this.$emit("onCancelClick")},onOkClick(){this.active=!1,this.$emit("onOkClick",this.isCheck),this.checkBoxContent&&localStorage.setItem(this.cacheKey+this.checkBoxContent,this.isCheck?1:0)},setShow(e,t,i,s){this.okBtnIsLoading=!1,this.enableTimer&&clearTimeout(this.enableTimer),t&&0<t&&(this.okBtnIsLoading=!0,this.enableTimer=setTimeout(()=>{this.okBtnIsLoading=!1},t)),this.isDanger=!!i,s?(this.checkBoxContent=s.checkBoxContent,this.isCheck=!!s.isCheck,null!=(t=localStorage.getItem(this.cacheKey+this.checkBoxContent))&&(this.isCheck="1"==t)):(this.checkBoxContent="",this.isCheck=!1),this.active=e}}};s("b482");var Ze=Object(e.a)(Ze,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vs-dialog",{attrs:{"prevent-close":t.preventClose,blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[i("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:s("135a")}}),i("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[t._v(" "+t._s(t.title)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px",display:"flex","align-items":"center","justify-content":"center"}},[i("vs-button",{staticClass:"cancelBtn",attrs:{block:""},on:{click:t.onCancelClick}},[t._v(" "+t._s(t.btCancelTitle)+" ")]),i("vs-button",{staticClass:"confirmBtn",attrs:{danger:t.isDanger,loading:t.okBtnIsLoading,block:""},on:{click:t.onOkClick}},[t._v(" "+t._s(t.btOkTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("div",{staticStyle:{"max-width":"386px",color:"#99AABF","font-size":"14px","word-break":"break-all"}},[t._v(" "+t._s(t.content)+" ")]),t.checkBoxContent?i("div",{staticStyle:{"margin-top":"6px"}},[i("Checkbox",{model:{value:t.isCheck,callback:function(e){t.isCheck=e},expression:"isCheck"}},[t._v(" "+t._s(t.checkBoxContent))])],1):t._e()])],1)},[],!1,null,"671b1454",null).exports,Je={props:{isPwd:{default:!1,type:Boolean},clearOnOpen:{default:!1,type:Boolean},closeOnClickBtn:{default:!0,type:Boolean},showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},placeholder:{default:"",type:String},placeholderB:{default:"",type:String},preventClose:{default:!1,type:Boolean},title:{default:function(){return this.$t("common.alert")},type:String},content:{default:"",type:String},contentB:{default:"",type:String},initValue:{default:"",type:String},btTitle:{default:function(){return this.$t("common.ok")},type:String}},components:{},data(){return{inputValue:"",inputValueB:"",active:!1}},created(){},methods:{onBtnClick(){this.closeOnClickBtn&&(this.active=!1),this.$emit("onOkClick",this.inputValue,this.inputValueB)},setShow(e){this.$nextTick(()=>{e&&(this.clearOnOpen&&(this.inputValue=""),this.initValue)&&(this.inputValue=this.initValue),this.active=e})}}};s("8d6a");var Je=Object(e.a)(Je,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vs-dialog",{attrs:{"prevent-close":t.preventClose,blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[i("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:s("135a")}}),i("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[t._v(" "+t._s(t.title)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[i("vs-button",{attrs:{block:""},on:{click:t.onBtnClick}},[t._v(" "+t._s(t.btTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("div",{staticStyle:{"word-break":"break-all","text-align":"left","max-width":"100%"}},[t._v(" "+t._s(t.content||t.title)+" ")]),i("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:t.isPwd?"password":"text",placeholder:t.placeholder},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onBtnClick(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onBtnClick(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("p",[t._v("?")])]},proxy:!0}]),model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),t.contentB?i("div",{staticStyle:{"word-break":"break-all","text-align":"left","max-width":"100%","margin-top":"10px"}},[t._v(" "+t._s(t.contentB)+" ")]):t._e(),t.contentB?i("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",placeholder:t.placeholderB},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onBtnClick(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onBtnClick(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("p",[t._v("?")])]},proxy:!0}],null,!1,2839257838),model:{value:t.inputValueB,callback:function(e){t.inputValueB=e},expression:"inputValueB"}}):t._e()],1)],1)},[],!1,null,"4d04095a",null).exports,et={props:{showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},title:{default:"NasCab",type:String},placeholder:{default:"",type:String},titleB:{default:"",type:String},options:{default:[],type:Array},btTitle:{default:function(){return this.$t("common.select")},type:String}},components:{},data(){return{selectedValue:"",active:!1}},created(){},methods:{onBtnClick(){this.selectedValue&&(this.active=!1,this.$emit("onOkClick",this.selectedValue))},setShow(e){this.active=e}}},et=Object(e.a)(et,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vs-dialog",{attrs:{"prevent-close":"",blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticStyle:{color:"#333333","font-size":"22px","margin-top":"20px"}},[t._v(" "+t._s(t.title)),i("b",[t._v(t._s(t.titleB))])])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{"margin-top":"30px","margin-bottom":"10px"}},[i("vs-button",{attrs:{block:""},on:{click:t.onBtnClick}},[t._v(" "+t._s(t.btTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("div",{staticStyle:{"justify-content":"center","align-items":"center",display:"flex"}},[i("vs-select",{attrs:{placeholder:t.placeholder},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}},t._l(t.options,function(e){return i("vs-option",{attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])}),1)],1)])],1)},[],!1,null,"02dcacda",null).exports,tt={props:{optionList:{default:[],type:Array}},components:{},data(){return{}},created(){},methods:{onItemSelect(e){this.$emit("onItemClick",this.optionList[e])}}};s("8c08");var e=Object(e.a)(tt,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{staticStyle:{"padding-top":"5px"}},i._l(i.optionList,function(e,t){return s("div",[s("Button",{staticClass:"shrink-item",attrs:{type:"dashed"},on:{click:function(e){return i.onItemSelect(t)}}},[i._v(i._s(e.text))])],1)}),0)},[],!1,null,"5cf3396a",null).exports,tt=s("ccdb"),it=s("e86f"),st=s("3452"),nt=s.n(st),st=(a.default.prototype.$bridge=r.a,s("cf1c")),rt=s("1fe8");a.default.use(z.a,{preLoad:1.2,error:rt,attempt:1,loading:st}),a.default.use(j.a,{i18n:(e,t)=>V.a.t(e,t)}),a.default.use(W),a.default.prototype.goPath=function(e){U.a.push({path:e})},a.default.prototype.api=R.a.requests,a.default.prototype.axios=R.a,a.default.prototype.utils=q.a,a.default.prototype.base64=G.a,a.default.prototype.$viewerApi=Ue,a.default.use(je.a,{colors:{primary:"#386DF2",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}}),a.default.prototype.showVsNotification=(e,t)=>{a.default.prototype.$vs.notification({color:t||null,position:"top-center",title:V.a.t("common.alert"),text:e})},a.default.prototype.$vs.d,a.default.config.productionTip=!1,a.default.component("my-sidebar",Ve),a.default.component("my-header",ze.a),a.default.component("my-sidebar-mobile",We),a.default.component("my-bg",He),a.default.component("my-menu-select",qe),a.default.component("my-btn",Ge.a),a.default.component("my-btn-icon",Ye),a.default.component("my-nodata",Qe),a.default.component("my-search",Ke),a.default.component("my-dialog-alert",Xe),a.default.component("my-dialog-confirm",Ze),a.default.component("my-dialog-input",Je),a.default.component("my-dialog-select",et),a.default.component("my-selector-phone",e),a.default.component("file-select",tt.default),a.default.component("file-select-bar",it.a);const at="nDa!-2k3e1y1-#$d";function ot(e,t=at){return e&&nt.a.AES.decrypt(e,t).toString(nt.a.enc.Utf8)}a.default.prototype.encrypt=function(e,t=at){return nt.a.AES.encrypt(e,t).toString()},a.default.prototype.decrypt=ot,a.default.prototype.getCurrentUser=function(){var e=localStorage.getItem("currentUser");if(e)try{return JSON.parse(ot(e))}catch(e){return null}},a.default.prototype.getToken=function(){var e=localStorage.getItem("token");return e?ot(e):null},new a.default({i18n:V.a,router:U.a,store:F.a,beforeCreate(){a.default.prototype.$bus=this},render:e=>e($)}).$mount("#app")},"5bfa":function(e,t,i){e.exports=i.p+"img/2.a371e2e7.jpg"},"5d55":function(e,t,i){"use strict";i.r(t);var s=i("af7e"),n=i.n(s),s=(i("cb7c"),i("e11e")),o=i.n(s),l=(i("6cc5"),i("be3b")),s={name:"photo-exif",props:{indexObj:"",serverType:{default:"photo",type:String}},mounted(){this.$nextTick(()=>{this.initExif()})},data(){return{currentTilesServer:"",showMap:!1,dateEditing:!1,editDateValue:null,exifInfo:"",exifStr:"",geoStr:null,map:null,imgMaker:null}},watch:{indexObj(e,t){this.$nextTick(()=>{this.initExif()})}},methods:{initExif(){this.indexObj&&(this.showMap=!1,this.getExifInfo(),this.getPositionStr(),this.dateEditing=!1,this.editDateValue=null,this.indexObj&&1==this.indexObj.type&&(this.showMap=!0),this.indexObj&&2==this.indexObj.type&&this.indexObj.latitude&&"undefined"!=this.indexObj.latitude&&(this.showMap=!0),"photo"!=this.serverType&&(this.showMap=!1),this.$nextTick(()=>{this.map&&(this.map.remove(),this.map=null),this.getZoomInfo()}))},getZoomInfo(){this.api.post("/api/mapApi/getZoom",{hideLoading:!0}).then(e=>{e.code||(e.tileServer&&(this.currentTilesServer=e.tileServer),this.initMap(parseInt(e.zoomInfo.minZoom),parseInt(e.zoomInfo.maxZoom)))}).catch(e=>{})},onDateChange(e){this.editDateValue=e},submitNewDate(){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("photo.confirmChangePhotoTime"),()=>{this.editExifByIndexId(null,null,this.editDateValue)})},addMarker(){var e=o.a.icon({iconUrl:"icon_position.png",iconSize:[38,38]}),t=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude);this.imgMaker=o.a.marker([t[1],t[0]],{icon:e}),this.map&&this.imgMaker&&this.imgMaker.addTo(this.map)},initMap(s,n){if(this.showMap){let e=!0;this.indexObj.latitude&&this.indexObj.longitude&&"undefined"!=this.indexObj.longitude&&"undefined"!=this.indexObj.longitude||(e=!1);var r=l.a.mapUrl();let t=null,i=n;t=e?(a=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude),new o.a.LatLng(a[1],a[0])):(i=3,new o.a.LatLng(36,106));var a=new o.a.TileLayer(r,{minZoom:s,maxZoom:n,attribution:"NORMAL"}),r=o.a.latLng(-90,-360),s=o.a.latLng(90,360),n={maxBounds:o.a.latLngBounds(r,s),zoom:i,center:t,layers:[a],attributionControl:!1};this.map=new o.a.Map("exifmap",n),this.map.on("click",e=>{if(1!=this.indexObj.type)return this.showVsNotification(this.$t("photo.onlySupportPhoto"));new Date,this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("photo.changePosition"),()=>{this.editExifByIndexId(e.latlng.lat,e.latlng.lng)})}),e&&this.addMarker()}},changeExifTime(){this.dateEditing=!0},editExifByIndexId(e,t,i){if(1!=this.indexObj.type||!this.indexObj.filename.toLowerCase().endsWith(".jpeg")&&!this.indexObj.filename.toLowerCase().endsWith(".jpg"))return this.showVsNotification(this.$t("photo.onlySupportPhoto"));this.api.post("/api/photoApi/editExifByIndexId",{latitude:e,longitude:t,newDate:i,id:this.indexObj.id}).then(e=>{e.code||(this.$emit("onIndexUpdate",e.newIndex),this.$bus.$emit("onIndexUpdate",e.newIndex),this.initExif())}).catch(e=>{})},getPositionStr(){this.indexObj.geohash&&this.api.post("/api/mapApi/getLocationStr",{hideLoading:!0,indexId:this.indexObj.id}).then(e=>{e.code||(this.geoStr=e.geo.name+" "+e.geo.cn_name)}).catch(e=>{})},getExifInfo(){this.api.post("/api/fileApi/getInfo",{hideLoading:!0,indexId:this.indexObj.id,serverType:"movie"}).then(e=>{let t=e.data,i="";t.exifInfo&&(t.exifInfo.FNumber&&(e=t.exifInfo.FNumber,i+="f/"+e),t.exifInfo.ExposureTime&&(e=Math.round(1/t.exifInfo.ExposureTime),i+=" 1/"+e),t.exifInfo.FocalLength&&(e=Math.round(t.exifInfo.FocalLength),Math.round(t.exifInfo.FocalLengthIn35mmFormat),i+=` ${e}mm`),t.exifInfo.ISO)&&(e=Math.round(t.exifInfo.ISO),i+=" ISO:"+e),this.exifInfo=t.exifInfo,this.exifStr=i}).catch(e=>{})},closeExif(){this.$emit("closeExif")},clearTinyImg(){this.api.post("/api/fileApi/clearTinyImg",{indexId:this.indexObj.id}).then(e=>{e.code||this.showVsNotification(this.$t("file.resetTinyImgSuccess"))}).catch(e=>{this.showVsNotification(this.$t("common.operationFail"))})}}},r=(i("6cc7"),i("2877")),s=Object(r.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"exif-root"},[e("div",{staticClass:"exif-wrapper"},[e("div",{staticClass:"title-root"},[e("Icon",{staticClass:"exif-close",attrs:{color:"white",type:"md-close",size:"25"},on:{click:t.closeExif}}),e("p",{staticClass:"title"},[t._v(t._s(t.$t("file.fileExifInfo")))])],1),e("Divider",{staticStyle:{color:"white"},attrs:{plain:""}},[t._v(t._s(t.$t("common.detail")))]),t.indexObj&&t.indexObj.original_date?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-calendar",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.original_date))]),t.dateEditing?e("div",{staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[e("DatePicker",{staticStyle:{width:"175px"},attrs:{editable:!0,type:"datetime",placeholder:t.$t("photo.selectPhotoTakeTime")},on:{"on-change":t.onDateChange}}),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-close",size:"24"},on:{click:function(e){t.dateEditing=!1,t.editDateValue=null}}}),t.editDateValue?e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-checkmark",size:"24"},on:{click:t.submitNewDate}}):t._e()],1):t._e(),t.dateEditing?t._e():e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.utils.formatTimeStamp(t.indexObj.original_time))+" "),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-create"},on:{click:t.changeExifTime}})],1)])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-document",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.path))]),e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.filename))]),e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s((t.indexObj.size/1024/1024).toFixed(2))+"MB "+t._s(t.indexObj.width)+"x"+t._s(t.indexObj.height)+" ")])])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode||t.exifStr||t.exifInfo&&t.exifInfo.LensModel?e("Icon",{attrs:{color:"white",type:"ios-aperture",size:"24"}}):t._e(),e("div",{staticClass:"exif-item-right"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode?e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.mode))]):t._e(),t.exifStr?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifStr))]):t._e(),t.exifInfo&&t.exifInfo.LensModel?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifInfo.LensModel)+" ")]):t._e()])],1):t._e(),t.geoStr&&" "!=t.geoStr?e("div",{staticClass:"geo-root"},[e("div",{staticClass:"geo-title-root"},[e("Icon",{attrs:{color:"white",type:"md-pin",size:"24"}}),e("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.geoStr))])],1)]):t._e(),t.showMap?e("div",{staticStyle:{"margin-top":"20px",width:"100%",height:"100%"},attrs:{id:"exifmap"}}):t._e()],1)])},[],!1,null,"916f0e30",null).exports,a=i("d930"),c={name:"photo-exif",props:{currentIndex:{type:Number,default:0},videoList:{type:Array,default:[]}},mounted(){this.videoList},data(){return{}},methods:{onClose(){this.$emit("onClose")},onItemClick(e){this.$emit("onItemClick",e)}}};i("a849");var c=Object(r.a)(c,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{staticClass:"root"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"title-root"},[s("p",{staticClass:"title"},[i._v(i._s(i.$t("movie.listView")))]),s("div",{staticStyle:{flex:"1"}}),s("Icon",{staticClass:"close",attrs:{color:"white",type:"md-close",size:"25"},on:{click:i.onClose}})],1),s("div",{staticStyle:{width:"100%",height:"1px","background-color":"gray","margin-top":"10px","margin-bottom":"10px"}}),s("div",{staticClass:"video-list-root"},i._l(i.videoList,function(e,t){return s("div",{staticClass:"video-item",on:{click:function(e){return i.onItemClick(t)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"video.url"}],staticClass:"img"}),s("div",{staticStyle:{"margin-left":"6px"}},[s("p",{class:{text:i.currentIndex!=t,"text-current":i.currentIndex==t}},[i._v(i._s(e.filename))]),s("p",{class:{"text-duration":i.currentIndex!=t,"text-duration-current":i.currentIndex==t}},[i._v(i._s(i.utils.formatSeconds(e.duration)))])])])}),0)])])},[],!1,null,"9e318f1c",null).exports,u=(i("14d9"),i("4dcf")),h=i("2cc5");let d={usingM3u8:!1,usingRawFile:!1},p=["dca"],m=!1;window.MediaSource&&window.MediaSource.isTypeSupported('audio/mp4; codecs="ac-3"')&&(m=!0),d.isPictureSubtitle=function(e){return!(e&&e.type&&"path"==e.type||!(e&&e.stream&&e.stream.codec_name)||"pgssub"!=e.stream.codec_name.toLowerCase()&&"vobsub"!=e.stream.codec_name.toLowerCase()&&"dvd_subtitle"!=e.stream.codec_name.toLowerCase()&&"hdmv_pgs_subtitle"!=e.stream.codec_name.toLowerCase()&&"dvdsub"!=e.stream.codec_name.toLowerCase()&&"dvb_subtitle"!=e.stream.codec_name.toLowerCase())},d.getCanPlayRawFile=function(e,t,i,s,n){try{if(i&&i.stream){var r=i.stream.codec_name.trim();if(p.includes(r))return!1;if(("ac3"==r||"eac3"==r)&&!m)return!1}if(e&&"hevc"==e.codec_name&&d.isChrome()){var a=d.getChromeVersion(),o=parseInt(a.major);if(o<107)return!1}if(d.isPictureSubtitle(s)&&!n)return!1}catch(e){}return!0},d.getChromeVersion=function(){var e=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);if(null!=e&&5==e.length)return{major:(e=e.map(e=>parseInt(e,10)))[1],minor:e[2],build:e[3],patch:e[4]}},d.setFormatState=function(e){d.usingM3u8="m3u8"==e,d.usingRawFile=0==e},d.getTranscodeFormat=function(e){return"m3u8"},d.isIos=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return/(iPhone|iOS|iPad)/i.test(navigator.userAgent)||e},d.isSafari=function(){return/(Safari)/i.test(navigator.userAgent)&&!/(Chrome)/i.test(navigator.userAgent)},d.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},d.isAndroid=function(){return/(Android)/i.test(navigator.userAgent)},d.getFileExtension=function(e){if("string"==typeof e){e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(e)return e.pop().toLowerCase()}return""};var f=d;var g=class{constructor(e){this.vue=e,this.primaryOptionPlay={size:1920,bitrate:3584,label:"1080p 3mbps"},this.optionsPlay=[{size:4096,bitrate:51200,label:"4k 30mbps"},{size:4096,bitrate:20480,label:"4k 20mbps"},{size:4096,bitrate:10240,label:"4k 10mbps"},{size:4096,bitrate:6144,label:"4k 6mbps"},{size:4096,bitrate:4096,label:"4k 4mbps"},{size:1920,bitrate:8192,label:"1080p 8mbps"},{size:1920,bitrate:6144,label:"1080p 6mbps"},{size:1920,bitrate:4096,label:"1080p 4mbps"},{size:1920,bitrate:3584,label:"1080p 3mbps"},{size:1920,bitrate:2048,label:"1080p 2mbps"},{size:1280,bitrate:3584,label:"720p 3mbps"},{size:1280,bitrate:2048,label:"720p 2mbps"},{size:1280,bitrate:1024,label:"720p 1mbps"},{size:720,bitrate:2048,label:"480p 2mbps"},{size:720,bitrate:1024,label:"480p 1mbps"},{size:1,bitrate:3584,label:this.vue.$t("video.code_raw")}],this.optionsPlaySpeed=[{value:.5,label:"0.5x"},{value:.75,label:"0.75x"},{value:1,label:"1x"},{value:1.25,label:"1.25x"},{value:1.5,label:"1.5x"},{value:2,label:"2x"},{value:3,label:"3x"}],u.a.isEnabled&&u.a.on("change",()=>{this.vue.isFullScreen=u.a.isFullscreen}),h.a.setIsShowNavBar(!1)}changeVolume(e){localStorage.setItem("video-volumn",e),this.vue.currentVolume=e,this.vue.vPlayer&&this.vue.vPlayer.volume(e),this.vue.isMuted=!(0<e)}resetVolume(){var e=localStorage.getItem("video-volumn");e&&0<=(e=parseFloat(e))&&e<=1&&(this.vue.currentVolume=e,this.vue.vPlayer.volume(e))}setMuted(e){this.vue.isMuted=e,this.vue.currentVolume=e?0:100*this.vue.vPlayer.volume()}setKeyEvent(e){e.onkeydown=e=>{if(e&&(e.keyCode,!e.isComposing)&&229!==e.keyCode)if(27==e.keyCode)this.vue.isFullScreen?this.switchFullScreen():this.vue.onClose();else if(32==e.keyCode)this.vue.switchPlay();else if(37==e.keyCode){let e=parseInt(this.vue.seekSec)-15;e<1&&(e=1),f.usingFlv?this.vue.changeSeekFromSlider(e):this.vue.vPlayer.currentTime(e)}else if(39==e.keyCode){let e=parseInt(this.vue.seekSec)+15;e>this.vue.indexObj.duration&&(e=this.vue.indexObj.duration),f.usingFlv?this.vue.changeSeekFromSlider(e):this.vue.vPlayer.currentTime(e)}else 17==e.keyCode&&this.vue.vPlayer.playbackRate(parseFloat(this.vue.moviePlaylongPressRate))},e.onkeyup=e=>{e&&17==e.keyCode&&this.vue.vPlayer.playbackRate(1)}}stopPlayId(){if(this.vue.playId){this.vue.api.post("/api/transCode/stopPlay",{playId:this.vue.playId}).then(e=>{});try{var e=sessionStorage.getItem("play-id-list");if(e){for(var t in e=JSON.parse(e))e[t]==this.vue.playId&&e.splice(t,1);sessionStorage.setItem("play-id-list",JSON.stringify(e))}}catch(e){}}}genNewPlayId(){this.stopPlayId(),this.vue.playId=(new Date).getTime()+""+parseInt(10*Math.random()),this.vue.playId;try{var e=sessionStorage.getItem("play-id-list");(e=e?JSON.parse(e):[]).push(this.vue.playId),sessionStorage.setItem("play-id-list",JSON.stringify(e)+"")}catch(e){}}download(){let e=this.vue.indexObj.rawUrl;e.startsWith("http")||(e=window.location.protocol+"//"+window.location.host+e),this.vue.downloadFile([e])}destroyFlvPlayer(){this.vue.flvPlayer&&(this.vue.flvPlayer.pause(),this.vue.flvPlayer.unload(),this.vue.flvPlayer.detachMediaElement(),this.vue.flvPlayer.destroy(),this.vue.flvPlayer=null)}disposeKeyEvent(e){e.onkeydown=null,e.onkeyup=null}onSelectServerSubtitlePath(e){e&&(this.vue.uploadSubtitleName=e,this.vue.uploadSubtitleFilePath=e,this.vue.videoSameNameSubtitleFilePath=null,this.vue.seek=this.vue.seekSec,this.vue.setSubtitleTrackUrl())}uploadSubtitleSuc(e,t,i){if(e.code)return this.uploadSubtitleErr();this.vue.uploadSubtitleName=e.file.filename,this.vue.uploadSubtitleFilePath=e.file.path,this.vue.videoSameNameSubtitleFilePath=null,this.vue.seek=this.vue.seekSec,this.vue.setSubtitleTrackUrl()}uploadSubtitleErr(){this.vue.showVsNotification(this.vue.$t("video.subtitleUploadFailed"))}setSuitSizeOptions(e){e.width&&e.height&&e.width<2e3&&e.height<2e3?this.vue.playSizeList=this.optionsPlay.slice(5):this.vue.playSizeList=this.optionsPlay}getVideoSuitResolution(e){return this.vue.currentSizeOption=this.primaryOptionPlay,this.vue.videoBitRate=this.primaryOptionPlay.bitrate,this.primaryOptionPlay.size}changePlaySpeed(e){e=this.optionsPlaySpeed[e];this.vue.playSpeed=e.value,localStorage.moviePlaySpeed=e.value,this.vue.vPlayer.playbackRate(e.value)}resetValue(){this.vue.indexObj=this.vue.photoList[this.vue.currentIndex],this.vue.transCodeTest=!1,this.vue.seek=0,this.vue.seekSec=0,this.vue.audioStreamIndex=0,this.vue.subtitleStreamIndex=0,this.vue.uploadSubtitleFilePath=null,this.vue.videoSameNameSubtitleFilePath=null,this.vue.playSpeed=1,this.vue.setBurnState()}switchFullScreen(){!/(iPhone|iOS)/i.test(navigator.userAgent)&&this.vue.isFullScreen?this.exitFullscreen():this.enterFullScreen()}enterFullScreen(){var e=document.getElementById("videoDetailWrapper");u.a.isEnabled?u.a.toggle(e):(e=document.getElementById("player_html5_api"))&&e.webkitEnterFullScreen&&(e.webkitEnterFullScreen(),this.vue.isFullScreen=!0),h.a.setScreenDirection("LANDSCAPE")}exitFullscreen(){var e=document.getElementById("videoDetailWrapper");u.a.isEnabled?u.a.toggle(e):document.webkitCancelFullScreen&&(document.webkitCancelFullScreen(),this.vue.isFullScreen=!1),h.a.setScreenDirection("PORTRAIT")}onDestroy(){h.a.setScreenDirection("AUTO"),h.a.setIsShowNavBar(!0)}parseAudioAndSubtitles(e){if(this.vue.indexObj.stream_info){this.vue.currentAudioStreamList=[],this.vue.currentSubtitleStreamList=[];let t=this.vue.indexObj.stream_info;t&&"string"==typeof t&&"undefined"!=t&&(t=JSON.parse(t));for(let e=0;e<t.length;e++){var i=t[e],s=i.index;if("audio"==i.codec_type){let e=s;i.tags&&i.tags.title?e=i.tags.title:i.tags&&i.tags.handler_name&&(e=i.tags.handler_name),this.vue.currentAudioStreamList.push({label:e,value:s,stream:i})}else if("subtitle"==i.codec_type){let e=s;i.tags&&i.tags.title&&(e=i.tags.title),this.vue.currentSubtitleStreamList.push({label:e,value:s,language:i.tags&&i.tags.language?i.tags.language:"",stream:i})}else"video"==i.codec_type&&(this.vue.currentVideoStream=i)}if(this.vue.currentSubtitleStreamList)for(var n in this.vue.currentSubtitleStreamList,this.vue.currentSubtitleStreamList){var r=this.vue.currentSubtitleStreamList[n];if(r.language&&this.vue.moviePreferLanguage&&r.language==this.vue.moviePreferLanguage){n,this.vue.subtitleStreamIndex=n;break}}1!=this.vue.movieType&&this.getSameNameSubtitles(this.vue.indexObj.id,e)}}setDefaultTranscodeResolution(e){if(e)for(var t of this.vue.playSizeList)t.label==e&&(this.primaryOptionPlay=t)}setDefaultSubtitleFontSize(e){e?this.vue.userFontSize=e+"rem":(this.vue.userFontSize="1.5rem",this.vue.userFontSize)}getSameNameSubtitles(e,t){var i;this.isGettingSameNameSubtties||(this.isGettingSameNameSubtties=!0,i={},e&&(i.id=e),t&&(i.videoPath=t),this.vue.api.post("/api/movieApi/getSameNameSubtitles",i).then(e=>{if(this.isGettingSameNameSubtties=!1,!e.code){var t=e.data;if(0<t.length){var i,s=this.vue.currentSubtitleStreamList.length;for(i in t){var n=t[i];this.vue.currentSubtitleStreamList.push({label:n.fileName,value:n.filePath,type:"path"})}s<1&&this.vue.chooseSubtitle(0)}e.userFontSize?this.setDefaultSubtitleFontSize(e.userFontSize):this.setDefaultSubtitleFontSize(1.5),this.setDefaultTranscodeResolution(e.defaultTranscodeResolution)}}).catch(e=>{this.isGettingSameNameSubtties=!1}))}},y=i("4971"),y=i.n(y);i("24df");c={props:{fromFileBrower:{default:!1,type:Boolean},propsServerType:{default:"",type:String}},name:"video-detail",components:{videoPlayList:c,VueSlider:y.a,videoExif:s},computed:{resolutionStr:function(){var e=this.$t("movie.resolution")+":";return 1==this.movieSize?e+this.$t("video.code_raw")+" ["+this.$t("video.rawPlayAlert")+"]":e+(this.currentSizeOption?this.currentSizeOption.label:"")}},data(){return{moviePlaylongPressRate:3,showPlayList:!1,moviePreferLanguage:"",burnSubtitle:!1,showChoosePlaySize:!1,isAddingHistory:!1,showChooseSubtitle:!1,canPlayRawFile:!0,vPlayer:null,audioChannel:2,openAsPage:!1,serverType:"photo",isLoading:!1,textTrackUrl:"",textTrackEl:null,showChooseResolution:!1,fromPrivateSpace:!1,playSpeed:1,videoHelper:null,playResolutionList:[],playSpeedList:[],playSizeList:[],movieSize:1,isMuted:!1,playCanUse:!1,token:this.getToken(),videoBitRate:3584,currentSizeOption:null,utils:a.a,baseUrl:l.a.baseUrl,normalUploadUrl:l.a.uploadUrl()+"&uploadSubtitle=1&overMode=over",currentIndex:0,photoList:[],showExif:!1,indexObj:!1,isPlaying:!1,isPlayingM3u8:!1,seek:0,seekSec:0,showCustomController:!0,noMoveTime:0,currentAudioStreamList:[],currentSubtitleStreamList:[],audioStreamIndex:0,subtitleStreamIndex:0,currentVolume:1,uploadSubtitleFilePath:null,videoSameNameSubtitleFilePath:null,uploadSubtitleName:"",isCloseSubtitle:!1,playId:"",isFullScreen:!1,userFontSize:"",ifContinueAlertIndexId:"",skippedEnd:!1,currentVideoStream:!1,clickObj:{firstTime:"",lastTime:"",isClick:!1,isLongPress:!1,longPressSpeedingMsg:null,longPressTimeOut:null}}},mounted(){this.videoHelper=new g(this),this.playSpeedList=this.videoHelper.optionsPlaySpeed,this.videoHelper.setKeyEvent(document),this.videoHelper.setDefaultSubtitleFontSize();var e=this.$route.params;if(e.passVideoList)this.serverType=e.serverType,this.playVideo(e.passVideoList,e.passPlayIndex),this.openAsPage=!0;else{if(!this.propsServerType)return this.$router.go(-1);this.serverType=this.propsServerType}},beforeDestroy(){this.videoHelper.disposeKeyEvent(document),this.isPlayingM3u8&&this.videoHelper.stopPlayId(),this.videoHelper.onDestroy(),this.vPlayer&&(this.vPlayer.dispose(),this.vPlayer=null),document.onkeydown=null},methods:{onShowHelp(){this.showVsAlertDialog(this.$t("common.alert"),this.$t("video.helpContent"))},switchPlayList(){this.showPlayList=!this.showPlayList,this.showPlayList},onMouseDown:function(){this.clickObj.isLongPress=!1,this.clickObj.firstTime=(new Date).getTime(),this.clickObj.longPressTimeOut=setTimeout(()=>{this.isPlaying&&(this.clickObj.longPressSpeedingMsg&&this.clickObj.longPressSpeedingMsg(),this.clickObj.isLongPress=!0,parseFloat(this.moviePlaylongPressRate),this.vPlayer.playbackRate(parseFloat(this.moviePlaylongPressRate)),this.clickObj.longPressSpeedingMsg=this.$Message.loading({content:this.$t("video.speedingPlay"),duration:0}))},300)},onMouseUp:function(){this.clickObj.lastTime=(new Date).getTime(),300<=this.clickObj.lastTime-this.clickObj.firstTime&&this.clickObj.isLongPress&&(this.videoHelper.changePlaySpeed(2),this.clickObj.longPressSpeedingMsg()),this.clickObj.longPressSpeedingMsg&&this.clickObj.longPressSpeedingMsg(),this.clickObj.longPressTimeOut&&clearTimeout(this.clickObj.longPressTimeOut)},showChooseSub(){this.showChooseSubtitle=!0},onSubtitleBeforeUpload(i){return new Promise((e,t)=>(this.normalUploadUrl=l.a.uploadUrl()+"&uploadSubtitle=1&overMode=over&filename="+i.name,e(i)))},onSelectSubtitleFile(e){e.endsWith(".ass")||e.endsWith(".srt")||e.endsWith(".vtt")?(this.showChooseSubtitle=!1,this.videoHelper.onSelectServerSubtitlePath(e)):this.showVsAlertDialog(this.$t("common.alert"),this.$t("movie.subtitleNoSupport"))},setVolume(e){this.videoHelper.changeVolume(e)},onUploadSuc(e){this.videoHelper.uploadSubtitleSuc(e)},onUploadErr(){this.videoHelper.uploadSubtitleErr()},closeSubtitle(){this.isCloseSubtitle=!0,this.uploadSubtitleFilePath=null,this.videoSameNameSubtitleFilePath=null,this.textTrackUrl="",this.burnSubtitle&&(this.burnSubtitle=!1,this.playIndex(this.indexObj,!0)),this.setSubtitleTrackUrl()},setBurnState(){var e;this.currentSubtitleStreamList.length>this.subtitleStreamIndex?(e=f.isPictureSubtitle(this.currentSubtitleStreamList[this.subtitleStreamIndex]),this.burnSubtitle=e):this.burnSubtitle=!1},chooseSubtitle(e){this.isCloseSubtitle=!1,this.uploadSubtitleFilePath=null,this.videoSameNameSubtitleFilePath=null,this.subtitleStreamIndex=e;e=this.currentSubtitleStreamList[e],"path"==e.type&&(this.uploadSubtitleName=e.label,this.videoSameNameSubtitleFilePath=e.value),e=f.isPictureSubtitle(this.currentSubtitleStreamList[this.subtitleStreamIndex]);(this.burnSubtitle||e)&&(this.burnSubtitle=e,this.burnSubtitle,this.playIndex(this.indexObj,!0)),this.setSubtitleTrackUrl()},chooseAc(){var e=this.currentAudioStreamList[this.audioStreamIndex].stream;if(!e.channels)return this.showVsNotification(this.$t("movie.noOtherChannel"));if(this.audioChannel==e.channels){if(2==this.audioChannel)return this.showVsNotification(this.$t("movie.noOtherChannel"));this.audioChannel=2}else this.audioChannel=e.channels;this.showVsNotification(this.$t("movie.alreadChangeChannelTo",{channels:this.audioChannel})),this.playIndex(this.indexObj,!0)},chooseAudio(e){this.audioStreamIndex=e,this.playIndex(this.indexObj,!0)},onMouse(e){this.noMoveTime=0},videoClick(){if(!this.clickObj.isLongPress)return this.noMoveTime=0,this.showCustomController=!this.showCustomController},onChooseMovieSize(e,t,i){if(this.showChoosePlaySize=!1,1==e){if(!this.canPlayRawFile)return this.showVsNotification(this.$t("video.videoIsNotSupportCoding"));localStorage.setItem("lastPlayIsTransCode","0"),this.isPlayingM3u8&&this.videoHelper.stopPlayId(),this.pauseVideo(),this.setMovieSize(e),this.playIndex(this.indexObj,!1,!1,!0),0<this.seekSec&&this.vPlayer.currentTime(this.seekSec),this.vPlayer.autoplay("play")}else this.currentSizeOption=this.playSizeList[i],localStorage.setItem("lastPlayIsTransCode","1"),this.pauseVideo(),this.videoBitRate=t,this.setMovieSize(e),this.playIndex(this.indexObj,!0),localStorage.setItem("lastPlayMovieSize",e)},onPlayListItemClick(e){this.currentIndex=e,this.videoHelper.resetValue(),this.vPlayer.autoplay("play"),this.movieSize=this.videoHelper.getVideoSuitResolution(this.indexObj),this.playIndex(this.indexObj,localStorage.lastPlayIsTransCode&&"1"==localStorage.lastPlayIsTransCode)},onPre(){this.canPlayRawFile=!0;let t=-1;for(let e=this.currentIndex-1;0<=e;e--)if(2==this.photoList[e].type){t=e;break}if(-1==t)return this.showVsNotification(this.$t("video.noMoreVideo"));this.currentIndex=t,this.videoHelper.resetValue(),this.vPlayer.autoplay("play"),this.movieSize=this.videoHelper.getVideoSuitResolution(this.indexObj),this.playIndex(this.indexObj,localStorage.lastPlayIsTransCode&&"1"==localStorage.lastPlayIsTransCode)},onNext(){this.canPlayRawFile=!0;let t=-1;for(let e=this.currentIndex+1;e<this.photoList.length;e++)if(2==this.photoList[e].type){t=e;break}return-1==t?(this.showVsNotification(this.$t("video.noMoreVideo")),!1):(this.currentIndex=t,this.videoHelper.resetValue(),this.vPlayer.autoplay("play"),this.movieSize=this.videoHelper.getVideoSuitResolution(this.indexObj),this.playIndex(this.indexObj,localStorage.lastPlayIsTransCode&&"1"==localStorage.lastPlayIsTransCode),!0)},errorCb(e){},playCb(){this.isPlaying=!0},canplayCb(e){if(this.playCanUse=!0,localStorage.moviePlaySpeed&&.5<=localStorage.moviePlaySpeed&&localStorage.moviePlaySpeed<=6)for(var t in this.videoHelper.optionsPlaySpeed)this.videoHelper.optionsPlaySpeed[t].value==localStorage.moviePlaySpeed&&this.videoHelper.changePlaySpeed(t)},pauseCb(){this.isPlaying=!1},endedCb(){this.onNext()},onSeekingCb(e){},onSeekedCb(e){},onLoadedMetaDataCb(e){},onLoadedDataCb(e){this.vPlayer,0<this.currentSubtitleStreamList.length&&this.setSubtitleTrackUrl()},onWaitingCb(){this.isLoading=!0,this.topLoading&&this.topLoading()},onPlayingCb(){this.isLoading=!1,this.isLoading},addHistory(e){this.isAddingHistory||e<5||this.indexObj&&this.indexObj.id&&(this.isAddingHistory=!0,this.api.post("/api/movieApi/addHistory",{hideLoading:!0,indexId:this.indexObj.id,time:e}).then(e=>{setTimeout(()=>{this.isAddingHistory=!1},1e3)}).catch(e=>{this.isAddingHistory=!1}))},onTimeUpdateCb(){if(this.isPlaying&&(this.noMoveTime+=1,60<=this.noMoveTime&&this.isPlaying&&(this.showCustomController=!1),this.seekSec=this.vPlayer.currentTime(),!this.seekSec||parseInt(this.seekSec)%15!=0||"movie"!=this.serverType||this.fromFileBrower||this.fromFileBrower||this.addHistory(this.seekSec),1==this.indexObj.skip_open_end)&&!this.skippedEnd){var e=this.indexObj.duration-this.seekSec;if(0<this.indexObj.end_duration&&this.indexObj.end_duration>e)return this.skippedEnd=!0,this.onNext()}},pauseVideo(){this.vPlayer&&this.vPlayer.pause()},resumePlayVideo(){this.vPlayer&&this.vPlayer.play()},switchPlay(){this.isPlaying?this.pauseVideo():this.resumePlayVideo()},onClose(){this.isFullScreen&&this.videoHelper.exitFullscreen(),this.openAsPage?this.$router.go(-1):this.$emit("onClose")},changeSeekFromSlider(e){this.vPlayer.currentTime(e)},setPlayerUrl(e){if(!this.vPlayer){let s=this;this.vPlayer=n()(this.$refs.player,{html5:{nativeTextTracks:!!f.isIos()},errorDisplay:!1,suppressNotSupportedError:!1},function(){this.on("play",s.playCb),this.on("pause",s.pauseCb),this.on("ended",s.endedCb),this.on("seeking",s.onSeekingCb),this.on("seeked",s.onSeekedCb),this.on("canplay",s.canplayCb),this.on("loadedmetadata",s.onLoadedMetaDataCb),this.on("loadeddata",s.onLoadedDataCb),this.on("playing",s.onPlayingCb),this.on("timeupdate",s.onTimeUpdateCb),this.on("waiting",s.onWaitingCb),this.on("error",(e,t)=>{var i=s.vPlayer.error();!i||4!=i.code&&3!=i.code||(s.canPlayRawFile=!1,1==s.movieSize?(s.playIndex(s.indexObj,!0),s.showVsNotification(s.$t("video.autoTranscodeStart"))):s.showVsConfirmDialog(s.$t("common.confirm"),s.$t("video.errorRetryPlay"),()=>{s.playIndex(s.indexObj,!0)}))}),this.on("loadstart",()=>{}),this.on("canplaythrough",()=>{s.vPlayer}),this.on("stalled",()=>{})}),this.videoHelper.resetVolume()}-1!=e.indexOf(".m3u8")?(this.isPlayingM3u8=!0,f.setFormatState("m3u8"),this.vPlayer.src({type:"application/x-mpegURL",src:e})):(this.isPlayingM3u8=!1,f.setFormatState(!1),this.vPlayer.src({type:"video/mp4",src:e})),5<this.seekSec&&this.vPlayer.currentTime(this.seekSec)},setMovieSize(e){this.movieSize=e},getTransCodeUrl(){1==this.movieSize&&this.setMovieSize(this.videoHelper.getVideoSuitResolution(this.indexObj));let e=f.getTranscodeFormat(this.indexObj),t=this.indexObj,i=l.a.baseUrl+`/api/transCode/play/stream.${e}?format=${e}&`,s=("m3u8"==e&&(i+=`playId=${this.playId}&`),`&token=${this.token}&size=${this.movieSize}&seek=${this.seek}&videobit=${this.videoBitRate}&subtitleIndex=${this.subtitleStreamIndex}&audioIndex=${this.audioStreamIndex}&ac=`+this.audioChannel),n=(this.burnSubtitle&&(s+="&burn=1"),`${i}serverType=${this.serverType}&indexId=`+t.id+s);return this.fromFileBrower&&(n=i+"filePath="+t.filePath+s),t.spaceId?(this.fromPrivateSpace=!0,n=`${i}spaceId=${t.spaceId}&spaceToken=${t.spaceToken}&spaceIndexId=${t.id}&filePath=`+t.filePath+s):this.fromPrivateSpace=!1,n},setSubtitleTrackUrl(){if(this.textTrackEl&&(this.vPlayer.removeRemoteTextTrack(this.textTrackEl),this.textTrackEl=null),this.isCloseSubtitle)return this.textTrackUrl="";let e,t=this.baseUrl+(`/api/transCode/subtitle/subtitle.vtt?token=${this.token}&subtitleIndex=`+this.subtitleStreamIndex);if(this.indexObj.spaceId&&(t+=`&spaceId=${this.indexObj.spaceId}&spaceToken=${this.indexObj.spaceToken}&spaceIndexId=`+this.indexObj.id),this.fromFileBrower||this.indexObj.spaceId?t+="&filePath="+this.indexObj.filePath:t+=`&indexId=${this.indexObj.id}&serverType=`+this.serverType,this.uploadSubtitleFilePath)this.isCloseSubtitle=!1,t+="&subtitleFile="+l.a.encodePath(this.uploadSubtitleFilePath),this.burnSubtitle&&(this.burnSubtitle=!1,this.playIndex(this.indexObj,!0));else if(this.videoSameNameSubtitleFilePath)this.isCloseSubtitle=!1,t+="&subtitleFile="+l.a.encodePath(this.videoSameNameSubtitleFilePath),this.burnSubtitle&&(this.burnSubtitle=!1,this.playIndex(this.indexObj,!0));else{if(this.currentSubtitleStreamList.length<=this.subtitleStreamIndex)return this.textTrackUrl="";if(e=this.currentSubtitleStreamList[this.subtitleStreamIndex],f.isPictureSubtitle(e))return void(this.textTrackUrl="")}this.textTrackUrl=t;let i="en",s="subtitle",n=(e&&e.stream&&e.stream.tags&&(e.stream.tags.language&&(i=e.stream.tags.language),e.stream.tags.title)&&(s=e.stream.tags.title),this.textTrackEl=this.vPlayer.addRemoteTextTrack({src:this.textTrackUrl,mode:"showing",srclang:i,kind:"subtitles",label:s,default:!0},!1),this);this.textTrackEl.addEventListener("load",()=>{n.userFontSize&&(document.getElementsByTagName("body")[0].style.setProperty("--subtitleFontSize",n.userFontSize),n.userFontSize)})},playIndex(t,i,e,s){this.skippedEnd=!1,this.seek=e||this.seekSec,this.videoHelper.setSuitSizeOptions(t),this.playCanUse=!1,this.isPlaying=!1,this.indexObj=t,this.currentAudioStreamList=[],this.currentSubtitleStreamList=[];let n=()=>{if(this.canPlayRawFile=f.getCanPlayRawFile(this.currentVideoStream,this.indexObj,this.currentAudioStreamList[this.audioStreamIndex],this.currentSubtitleStreamList[this.subtitleStreamIndex],this.uploadSubtitleFilePath),this.canPlayRawFile,i){this.videoHelper.genNewPlayId();var e=this.getTransCodeUrl();this.setPlayerUrl(e)}else{if(!s&&!this.canPlayRawFile)return this.setBurnState(),this.playIndex(t,!0);this.movieSize=1,this.setPlayerUrl(t.rawUrl)}"movie"==this.serverType&&this.ifContinueAlertIndexId!=this.indexObj.id&&(this.ifContinueAlertIndexId=this.indexObj.id,this.ifContinuPlay())};t.stream_info||this.fromFileBrower?this.fromFileBrower?(e={filePath:t.filePath},t.filename=t.name||t.filename,this.api.post("/api/transCode/getVideoInfoByPath",e).then(e=>{e.code||(e.moviePreferLanguage&&(this.moviePreferLanguage=e.moviePreferLanguage),this.indexObj.stream_info=e.streams,this.indexObj.duration=e.duration,this.videoHelper.parseAudioAndSubtitles(t.filePath),n())})):(this.videoHelper.parseAudioAndSubtitles(),n()):this.api.post("/api/photoApi/getIndexDetail",{id:t.id,serverType:this.serverType}).then(e=>{if(!e.code){if(this.indexObj={...this.indexObj,...e.data},e.moviePreferLanguage&&(this.moviePreferLanguage=e.moviePreferLanguage),e.moviePlaylongPressRate&&(this.moviePlaylongPressRate=e.moviePlaylongPressRate),this.videoHelper.parseAudioAndSubtitles(),e.defaultMoviePlay&&"rawFile"!=e.defaultMoviePlay&&(i=!0),n(),1==this.indexObj.skip_open_end&&0<this.indexObj.open_duration&&this.indexObj.open_duration<this.indexObj.duration-10)return this.indexObj.open_duration,this.changeSeekFromSlider(this.indexObj.open_duration),this.showVsNotification(this.$t("movie.skippingMovieTitle"));0==e.fileExist&&this.showVsAlertDialog(this.$t("common.alert"),this.$t("setting.folderIsNotExist")+e.indexFullPath),this.videoHelper.setDefaultTranscodeResolution(e.defaultTranscodeResolution)}})},ifContinuPlay(){"photo"!=this.serverType&&this.indexObj&&this.indexObj.id&&this.api.post("/api/movieApi/getHistory",{hideLoading:!0,indexId:this.indexObj.id}).then(t=>{if(!t.code){let e=t.data;var i;e&&(t=this.indexObj.open_duration?parseInt(this.indexObj.open_duration):30,i=this.indexObj.end_duration?parseInt(this.indexObj.end_duration):30,e.time>t)&&e.time<this.indexObj.duration-i&&this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("movie.continuePlay",{lastTime:a.a.formatSeconds(e.time)}),()=>{this.changeSeekFromSlider(e.time)},null,this.$t("movie.resumePlay"),this.$t("movie.playBegain"),null,null,null,5e3)}}).catch(e=>{})},playVideo(e,t){this.fromFileBrower,this.currentIndex=t,this.photoList=e,this.indexObj=e[t],this.playSizeList=[],this.indexObj.spaceId&&(this.fromPrivateSpace=!0),localStorage.lastPlayIsTransCode="0",this.playIndex(this.indexObj,!1)}}},i("ff73"),y=Object(r.a)(c,function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{staticClass:"video-detail-root",attrs:{id:"videoDetailWrapper",refs:"rootWrapper",catchtouchmove:!1},on:{mousemove:s.onMouse}},[n("video",{ref:"player",staticClass:"video-js vjs-fill",attrs:{"x5-video-player-type":"h5","object-fit":"fill",width:"100%",height:"100%",preload:"auto",id:"player",duration:s.indexObj.duration,controls:!1,"webkit-playsinline":"",playsinline:"",crossorigin:"anonymous",autoplay:""},domProps:{muted:s.isMuted}}),n("div",{staticStyle:{position:"fixed",width:"100%",height:"100%","z-index":"1"},on:{click:s.videoClick,touchstart:function(e){return e.stopPropagation(),s.onMouseDown(e)},touchend:function(e){return e.stopPropagation(),s.onMouseUp(e)},mousedown:function(e){return e.stopPropagation(),s.onMouseDown(e)},mouseup:function(e){return e.stopPropagation(),s.onMouseUp(e)}}}),s.showCustomController?n("div",{staticClass:"video-controller-top",on:{click:s.videoClick}},[n("div",{staticClass:"icon-root",staticStyle:{"margin-left":"20px"},on:{click:function(e){return e.stopPropagation(),s.onClose(e)}}},[n("span",{staticClass:"icon_controller_xxl nasIcons icon-back",staticStyle:{"font-size":"20px"}})]),s.isMobile?s._e():n("div",{staticClass:"icon-root",staticStyle:{"margin-left":"20px"},on:{click:function(e){return e.stopPropagation(),s.onShowHelp()}}},[n("Icon",{staticStyle:{"font-size":"20px",color:"white"},attrs:{type:"ios-help-circle-outline"}})],1),n("div",{on:{click:s.videoClick}},[n("p",{staticClass:"video-name max-line-one",staticStyle:{"word-break":"break-all"}},[s._v(s._s(s.indexObj.filename))])])]):s._e(),s.showCustomController?n("div",{staticClass:"controller-bottom"},[n("div",{on:{click:s.videoClick}},[s.movieSize&&s.videoBitRate?n("p",{staticClass:"video-resolution"},[s.playSpeed&&1!=s.playSpeed?n("span",{staticClass:"video-speed"},[s._v(" "+s._s(s.playSpeed)+"X ")]):s._e(),s._v(" "+s._s(s.resolutionStr)+" ")]):s._e()]),n("div",{staticClass:"controller-slider"},[n("vue-slider",{staticClass:"slider",attrs:{lazy:!0,disabled:s.fromPrivateSpace,height:7,min:0,interval:1,max:s.indexObj.duration?parseInt(s.indexObj.duration):0,"tooltip-formatter":s.utils.formatSeconds},on:{change:s.changeSeekFromSlider},model:{value:s.seekSec,callback:function(e){s.seekSec=e},expression:"seekSec"}}),n("div",{staticClass:"icon-root",on:{click:function(e){return s.videoHelper.switchFullScreen()}}},[n("span",{staticClass:"icon_controller_m nasIcons icon-fullscreen"})])],1),n("div",{staticClass:"controller-slider",staticStyle:{"justify-content":"space-between"}},[n("p",{staticClass:"time"},[s._v(s._s(s.utils.formatSeconds(s.seekSec)))]),n("p",{staticClass:"time"},[s._v(s._s(s.utils.formatSeconds(s.indexObj.duration)))])]),n("div",{staticClass:"nas-mobile-show"},[n("div",{staticClass:"controller-mobile"},[n("div",{staticStyle:{cursor:"pointer"}},[n("span",{staticClass:"icon_controller_xxl nasIcons icon-video-last",on:{click:function(e){return s.onPre()}}})]),n("div",{staticStyle:{"margin-left":"40px","margin-right":"40px"}},[s.isPlaying?s._e():n("span",{staticClass:"icon_controller_xxl nasIcons icon-play",on:{click:function(e){return s.switchPlay()}}}),s.isPlaying?n("span",{staticClass:"icon_controller_xxl nasIcons icon-pause",on:{click:function(e){return s.switchPlay()}}}):s._e()]),n("div",[n("span",{staticClass:"icon_controller_xxl nasIcons icon-video-next",on:{click:function(e){return s.onNext()}}})])])]),n("div",{staticClass:"controller-btns"},[n("div",[s.isLoading?n("Spin",{staticClass:"nas-mobile-show",attrs:{size:"large"}}):s._e(),n("div",{staticClass:"controller-section-l nas-mobile-none"},[n("div",{staticStyle:{cursor:"pointer"}},[n("span",{staticClass:"icon_controller_m nasIcons icon-video-last",on:{click:function(e){return s.onPre()}}})]),n("div",{staticClass:"icon-root"},[s.isPlaying?s._e():n("span",{staticClass:"icon_controller_m nasIcons icon-play",on:{click:function(e){return s.switchPlay()}}}),s.isPlaying?n("span",{staticClass:"icon_controller_m nasIcons icon-pause",on:{click:function(e){return s.switchPlay()}}}):s._e()]),n("div",{staticClass:"icon-root"},[n("span",{staticClass:"icon_controller_m nasIcons icon-video-next",on:{click:function(e){return s.onNext()}}})]),n("div",{staticClass:"icon-root"},[s.fromFileBrower?s._e():n("span",{staticClass:"icon_controller_s nasIcons icon-exif-info",staticStyle:{"margin-left":"10px"},on:{click:function(e){s.showExif=!s.showExif}}})]),n("div",{staticClass:"icon-root"},[s.videoHelper?n("span",{staticClass:"icon_controller_s nasIcons icon-download",staticStyle:{"margin-left":"10px"},on:{click:function(e){return s.videoHelper.download()}}}):s._e()])])],1),n("div",{staticClass:"controller-section-r"},[s.playCanUse?n("Poptip",{staticClass:"nas-mobile-none",attrs:{trigger:"hover",title:s.$t("video.volumn")},scopedSlots:s._u([{key:"content",fn:function(){return[n("div",{staticStyle:{"padding-left":"14px","padding-right":"14px"}},[n("Slider",{attrs:{min:0,max:1,step:.1,"show-tip":"never"},on:{"on-change":s.setVolume},model:{value:s.currentVolume,callback:function(e){s.currentVolume=e},expression:"currentVolume"}})],1)]},proxy:!0}],null,!1,2232665644)},[n("div",{staticClass:"icon-root"},[s.isMuted?n("span",{staticClass:"icon_controller_m nasIcons icon-sound-off",on:{click:function(e){return s.videoHelper.setMuted(!1)}}}):n("span",{staticClass:"icon_controller_m nasIcons icon-sound-on",on:{click:function(e){return s.videoHelper.setMuted(!0)}}})])]):s._e(),s.playCanUse?n("Poptip",{attrs:{title:s.$t("movie.audioIndex")},scopedSlots:s._u([{key:"content",fn:function(){return[n("a",{staticClass:"option-item",on:{click:s.chooseAc}},[s._v(s._s(s.$t("movie.audioChannel"))+":"+s._s(s.audioChannel))]),n("div",{staticStyle:{height:"150px","overflow-y":"scroll"}},s._l(s.currentAudioStreamList,function(e,t){return n("div",{key:e.value,staticClass:"option-item",on:{click:function(e){return s.chooseAudio(t)}}},[n("p",[s._v(s._s(e.label))]),t==s.audioStreamIndex?n("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):s._e()],1)}),0)]},proxy:!0}],null,!1,793861379)},[n("div",{staticClass:"icon-root"},[n("span",{staticClass:"icon_controller_m nasIcons icon-music"})])]):s._e(),s.playCanUse?n("Poptip",{attrs:{title:s.$t("movie.subtitle")},scopedSlots:s._u([{key:"content",fn:function(){return[0<s.currentSubtitleStreamList.length?n("div",{staticClass:"option-item",on:{click:s.closeSubtitle}},[n("p",[s._v(s._s(s.$t("video.closeSubtitle")))]),s.isCloseSubtitle?n("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):s._e()],1):s._e(),s.uploadSubtitleFilePath?n("div",{staticClass:"option-item"},[n("p",{staticClass:"subtitleTitle"},[s._v(s._s(s.uploadSubtitleName))]),n("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}})],1):s._e(),s.currentSubtitleStreamList&&0<s.currentSubtitleStreamList.length?n("div",{staticStyle:{height:"150px","overflow-y":"scroll"}},s._l(s.currentSubtitleStreamList,function(e,t){return n("div",{key:t,staticClass:"option-item",on:{click:function(e){return s.chooseSubtitle(t)}}},[n("p",{staticClass:"subtitleTitle"},[s._v(" "+s._s(15<e.label.length?"..."+e.label.substr(e.label.length-14):e.label)+" ")]),s._v(" "+s._s(e.language?"-"+e.language:"")+" "),t!=s.subtitleStreamIndex||s.uploadSubtitleFilePath||s.isCloseSubtitle?s._e():n("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}})],1)}),0):s._e(),n("Upload",{attrs:{"on-error":s.onUploadErr,"on-success":s.onUploadSuc,"show-upload-list":!1,action:s.normalUploadUrl,"before-upload":s.onSubtitleBeforeUpload,format:["ass","srt","vtt"],accept:".ass,.srt,.vtt",webkitdirectory:!1}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[s._v(s._s(s.$t("movie.selectLocalSubtitles")))])],1),n("Button",{staticStyle:{"margin-top":"10px"},attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(e){return s.showChooseSub()}}},[s._v(s._s(s.$t("movie.selectSubtitleInServer")))])]},proxy:!0}],null,!1,654500102)},[n("div",{staticClass:"icon-root"},[n("span",{staticClass:"icon_controller_l nasIcons icon-subtitles"})])]):s._e(),n("Poptip",{attrs:{title:s.$t("transcode")},scopedSlots:s._u([{key:"content",fn:function(){return[n("div",{staticClass:"size-list-root"},s._l(s.playSizeList,function(t,i){return n("div",{key:t.label,staticClass:"option-item",on:{click:function(e){return s.onChooseMovieSize(t.size,t.bitrate,i)}}},[n("p",[s._v(s._s(t.label))]),t.size==s.movieSize&&t.bitrate==s.videoBitRate?n("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):s._e()],1)}),0)]},proxy:!0}],null,!1,72327521)},[n("div",{staticClass:"icon-root"},[n("span",{staticClass:"icon_controller_l nasIcons icon-hd"})])]),s.playCanUse?n("Poptip",{attrs:{title:s.$t("movie.playRate")},scopedSlots:s._u([{key:"content",fn:function(){return s._l(s.playSpeedList,function(e,t){return n("div",{key:e.value,staticClass:"option-item",on:{click:function(e){return s.videoHelper.changePlaySpeed(t)}}},[n("p",[s._v(s._s(e.label))]),e.value==s.playSpeed?n("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):s._e()],1)})},proxy:!0}],null,!1,949452006)},[n("div",{staticClass:"icon-root"},[n("span",{staticClass:"icon_controller_m nasIcons icon-play-speed"})])]):s._e(),n("div",{staticClass:"icon-root",on:{click:s.switchPlayList}},[n("span",{staticClass:"icon_controller_s nasIcons icon-list"})])],1)])]):s._e(),n("vs-dialog",{attrs:{scroll:"","full-screen":s.isMobile},scopedSlots:s._u([{key:"header",fn:function(){return[n("h4",{staticStyle:{"font-size":"16px"}},[s._v(" "+s._s(s.$t("file.chooseFolder")+"["+s.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[n("file-select-bar",{on:{back:function(e){return s.$refs.fileSelector.goBack()},select:function(e){return s.$refs.fileSelector.onSelect()},create:function(e){return s.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:s.showChooseSubtitle,callback:function(e){s.showChooseSubtitle=e},expression:"showChooseSubtitle"}},[s.showChooseSubtitle?n("file-select",{ref:"fileSelector",attrs:{parent:"root",fileType:0,initPath:s.indexObj.path||""},on:{onSelect:s.onSelectSubtitleFile,onCancel:function(e){s.showChooseSubtitle=!1}}}):s._e()],1),s.showExif&&!s.fromFileBrower?n("video-exif",{attrs:{serverType:s.serverType,indexObj:s.indexObj},on:{closeExif:function(e){s.showExif=!1}}}):s._e(),s.showPlayList?n("videoPlayList",{attrs:{videoList:s.photoList,currentIndex:s.currentIndex},on:{onItemClick:s.onPlayListItemClick,onClose:function(e){s.showPlayList=!1}}}):s._e()],1)},[],!1,null,"12dfb180",null);t.default=y.exports},"60b7":function(e,t,i){e.exports=i.p+"img/icon_folder.3f495959.png"},6271:function(e,t,i){"use strict";i("56c8")},"637e":function(e,t,i){e.exports=i.p+"img/6.e70f1be5.jpg"},"67ac":function(e,t,i){"use strict";i("14d9");var s={data(){return{btnCanUse:!0,currentUser:!1,formValidate:{oldPassword:"",newPassword:"",newPasswordConfirm:"",client:"PC"},ruleValidate:{oldPassword:[{required:!0,message:this.$t("registerAdmin.placeholderPassword"),trigger:"blur"},{min:2,message:this.$t("registerAdmin.passwordLengthLimit"),trigger:"blur"}],newPassword:[{required:!0,message:this.$t("registerAdmin.placeholderPassword"),trigger:"blur"},{min:2,message:this.$t("registerAdmin.passwordLengthLimit"),trigger:"blur"}],newPasswordConfirm:[{required:!0,message:this.$t("registerAdmin.placeholderPassword"),trigger:"blur"},{min:2,message:this.$t("registerAdmin.passwordLengthLimit"),trigger:"blur"}]}}},mounted(){this.currentUser=this.getCurrentUser()},methods:{handleSubmit(e){if(this.formValidate.newPassword!=this.formValidate.newPasswordConfirm)return this.showVsNotification(this.$t("header.twoPasswordHaveToSame"));this.$refs[e].validate(e=>{e&&(this.btnCanUse=!1,this.api.post("/api/usersApi/changePassword",this.formValidate).then(e=>{e.code?this.btnCanUse=!0:this.showVsAlertDialog(this.$t("common.alert"),this.$t("header.changePasswordSuccess"),()=>{this.$emit("onClose"),localStorage.removeItem("token"),localStorage.removeItem("currentUser"),this.$router.push({path:"/login"})})}).catch(e=>{2==e.code&&this.showVsNotification(this.$t("header.oldPasswordIncorrect")),this.btnCanUse=!0}))})}}},n=(i("de2d"),i("2877")),s=Object(n.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"change-pwd-root"},[e("Form",{ref:"formValidate",staticStyle:{width:"100%"},attrs:{model:t.formValidate,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:t.$t("common.username"),prop:"username"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",disabled:""},model:{value:t.currentUser.username,callback:function(e){t.$set(t.currentUser,"username",e)},expression:"currentUser.username"}})],1),e("FormItem",{attrs:{label:t.$t("header.rawPassword"),prop:"oldPassword"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:t.$t("header.rawPassword")},model:{value:t.formValidate.oldPassword,callback:function(e){t.$set(t.formValidate,"oldPassword",e)},expression:"formValidate.oldPassword"}})],1),e("FormItem",{attrs:{label:t.$t("header.newPassword"),prop:"newPassword"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:t.$t("header.newPassword")},model:{value:t.formValidate.newPassword,callback:function(e){t.$set(t.formValidate,"newPassword",e)},expression:"formValidate.newPassword"}})],1),e("FormItem",{attrs:{label:t.$t("header.newPasswordConfirm"),prop:"newPasswordConfirm"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:t.$t("header.newPasswordConfirm")},model:{value:t.formValidate.newPasswordConfirm,callback:function(e){t.$set(t.formValidate,"newPasswordConfirm",e)},expression:"formValidate.newPasswordConfirm"}})],1)],1),e("vs-button",{staticStyle:{"margin-top":"10px",width:"100%","border-radius":"20px"},attrs:{disabled:!t.btnCanUse,type:"info"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v(" "+t._s(t.$t("common.commit"))+" ")])],1)},[],!1,null,"99720f42",null).exports,r={data(){return{btnCanUse:!0,currentUser:!1,formValidate:{newQuestion:"",answer:""},ruleValidate:{newQuestion:[{required:!0,message:this.$t("header.newQuestion"),trigger:"blur"}],answer:[{required:!0,message:this.$t("registerAdmin.placeholderAnswer"),trigger:"blur"}]}}},mounted(){this.currentUser=this.getCurrentUser(),this.getCurrentUserInfo()},methods:{getCurrentUserInfo(){this.api.post("/api/usersApi/getCurrentUserInfo",this.formValidate).then(e=>{e.code||(this.currentUser=e.userInfo)}).catch(e=>{})},handleSubmit(e){if(this.formValidate.newPassword!=this.formValidate.newPasswordConfirm)return this.showVsNotification(this.$t("header.twoPasswordHaveToSame"));this.$refs[e].validate(e=>{e&&(this.btnCanUse=!1,this.api.post("/api/usersApi/changeQuestion",this.formValidate).then(e=>{e.code?this.btnCanUse=!0:this.showVsAlertDialog(this.$t("common.alert"),this.$t("header.changeQuestionSuccess"),()=>{this.$emit("onClose")})}).catch(e=>{this.btnCanUse=!0}))})}}};i("fa69");s={components:{changePwd:s,changeQuestion:Object(n.a)(r,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"root"},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:t.$t("header.rawQuestion"),prop:"username"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",disabled:""},model:{value:t.currentUser.question,callback:function(e){t.$set(t.currentUser,"question",e)},expression:"currentUser.question"}})],1),e("FormItem",{attrs:{label:t.$t("header.newQuestion"),prop:"newQuestion"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",placeholder:t.$t("header.newQuestion")},model:{value:t.formValidate.newQuestion,callback:function(e){t.$set(t.formValidate,"newQuestion",e)},expression:"formValidate.newQuestion"}})],1),e("FormItem",{attrs:{label:t.$t("header.newAnswer"),prop:"newAnswer"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",placeholder:t.$t("header.newAnswer")},model:{value:t.formValidate.answer,callback:function(e){t.$set(t.formValidate,"answer",e)},expression:"formValidate.answer"}})],1)],1),e("vs-button",{staticStyle:{"margin-top":"20px",width:"100%","border-radius":"20px"},attrs:{disabled:!t.btnCanUse,type:"info"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v(" "+t._s(t.$t("common.commit"))+" ")])],1)},[],!1,null,"5fcf2bee",null).exports},data(){return{currentMenuName:"1"}},mounted(){},methods:{menuChange(e){this.currentMenuName=e}}},i("2b18"),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"user-setting-root"},[e("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":"1"},on:{"on-select":t.menuChange}},[e("MenuItem",{attrs:{name:"1"}},[e("Icon",{staticClass:"nas-mobile-none",attrs:{type:"md-help-buoy",size:"16"}}),t._v(" "+t._s(t.$t("header.changePwd"))+" ")],1),e("MenuItem",{attrs:{name:"2"}},[e("Icon",{staticClass:"nas-mobile-none",attrs:{type:"ios-help-circle-outline",size:"16"}}),t._v(" "+t._s(t.$t("header.changeQuestion"))+" ")],1)],1),"1"==t.currentMenuName?e("div",{staticStyle:{width:"100%"}},[e("change-pwd",{on:{onClose:function(e){return t.$emit("onClose")}}})],1):t._e(),"2"==t.currentMenuName?e("div",{staticStyle:{width:"100%"}},[e("change-question",{on:{onClose:function(e){return t.$emit("onClose")}}})],1):t._e()],1)},[],!1,null,"94226e48",null);t.a=r.exports},"6cc7":function(e,t,i){"use strict";i("0632")},"6d8f":function(e,t,i){"use strict";i("b144")},"6e2b":function(e,t,i){},"6e7a":function(e,t,i){"use strict";i("1e27")},"6fec":function(e,t,i){},"75b6":function(e,t,i){e.exports=i.p+"img/10.366dd43c.jpg"},"7ce8":function(e,t,i){"use strict";var s=i("be3b"),n=i("0be9"),r=i("e86f"),r={props:{showAfterAdd:{default:!0,type:Boolean}},mounted(){},components:{fileSelectBar:r.a,fileSelect:()=>Promise.resolve().then(i.bind(null,"ccdb")),filesQuickShareShowing:n.a},data(){return{showAddTempShareFolder:!1,showChooseFolder:!1,tempSharePassword:"",tempShareDays:30,tempSharePath:""}},computed:{},methods:{showAdd(e){e&&(this.tempSharePath=e),this.showAddTempShareFolder=!0},onSelectPath(e){this.tempSharePath=e,this.showChooseFolder=!1},addPathReq(){this.tempSharePath?this.api.post("/api/file/tempShare",{operationType:"add",path:s.a.encodePath(this.tempSharePath),password:this.tempSharePassword,days:this.tempShareDays}).then(e=>{e.code||(this.showVsNotification(this.$t("common.operationSuccess")),this.$emit("onAddFinish"),this.showAddTempShareFolder=!1,this.showAfterAdd&&this.$refs.qrCodeShowing.showQrCodeDialog(e.token))}).catch(e=>{}):this.showVsNotification(this.$t("pleaseSelectFolder"))}}},n=(i("cf9a"),i("2877")),n=Object(n.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vs-dialog",{attrs:{"prevent-close":"",scroll:"","full-screen":t.isMobile},scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.$t("file.addShareTemp"))+" ")])]},proxy:!0}]),model:{value:t.showAddTempShareFolder,callback:function(e){t.showAddTempShareFolder=e},expression:"showAddTempShareFolder"}},[i("div",{staticClass:"add-temp-root"},[i("p",{staticStyle:{width:"100%","text-align":"left"}},[t._v(t._s(t.$t("file.sharePath"))+":"),i("a",{staticStyle:{"margin-left":"5px"},on:{click:function(e){t.showChooseFolder=!0}}},[t._v(t._s(t.tempSharePath||t.$t("share.chooseShareFold")))])]),i("div",{staticClass:"add-item-root"},[i("p",[t._v(t._s(t.$t("file.accessPwd"))+":")]),i("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text",placeholder:t.$t("file.shareTempPwdPh")},scopedSlots:t._u([{key:"icon",fn:function(){return[i("Icon",{attrs:{color:"#99AABF",type:"ios-key"}})]},proxy:!0}]),model:{value:t.tempSharePassword,callback:function(e){t.tempSharePassword=e},expression:"tempSharePassword"}})],1),i("div",{staticClass:"add-item-root"},[i("p",[t._v(t._s(t.$t("file.validity"))+":")]),i("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"number"},scopedSlots:t._u([{key:"icon",fn:function(){return[i("Icon",{attrs:{color:"#99AABF",type:"ios-key"}})]},proxy:!0}]),model:{value:t.tempShareDays,callback:function(e){t.tempShareDays=e},expression:"tempShareDays"}})],1),i("my-btn",{staticStyle:{"margin-top":"20px"},attrs:{title:t.$t("file.addShareTemp")},on:{click:function(e){return t.addPathReq()}}})],1)]),i("vs-dialog",{attrs:{"prevent-close":"",scroll:"","full-screen":t.isMobile},scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.$t("file.chooseFolder")+"["+t.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[i("file-select-bar",{on:{back:function(e){return t.$refs.fileSelector.goBack()},select:function(e){return t.$refs.fileSelector.onSelect()},create:function(e){return t.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:t.showChooseFolder,callback:function(e){t.showChooseFolder=e},expression:"showChooseFolder"}},[t.showChooseFolder?i("file-select",{ref:"fileSelector",attrs:{parent:"root",fileType:0},on:{cancel:function(e){t.showChooseFolder=!1},onSelect:t.onSelectPath,onCancel:function(e){t.showChooseFolder=!1}}}):t._e()],1),i("files-quick-share-showing",{ref:"qrCodeShowing"})],1)},[],!1,null,"4eb2ea6d",null);t.a=n.exports},"7cfd":function(e,t,i){"use strict";i("14d9");var s=i("67ac"),n=i("c1d1"),r=i("2cc5"),a=i("be3b"),s={props:{bgColor:{default:"transparent",type:String},fixed:{default:!0,type:Boolean}},components:{userSetting:s.a,login:n.default},computed:{getLogoImageUrl(){return localStorage.customLogoImage?a.a.getCustomFileUrl(localStorage.customLogoImage):i("9743")}},data(){return{customHomeBgImage:localStorage.customHomeBgImage,showHome:!0,lockScreenIsShow:!1,currentUser:"",showUserSetting:!1}},created(){"/home"==this.$route.path?this.showHome=!1:this.showHome=!0,this.currentUser=this.getCurrentUser()},methods:{uploadClick(){this.isFromApp?this.switchUpload(!0):this.switchUpload()},switchBg(){this.$bus.$emit("onChangeBg")},lockScreen(){this.lockScreenIsShow=!0},goLogout(){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("header.okLogout"),()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("autoLogin"),localStorage.removeItem("cacheLoginUsername"),localStorage.removeItem("cacheLoginPassword"),this.showVsNotification(this.$t("header.logoutSuccess")),setTimeout(()=>{this.isFromApp&&r.a?r.a.onClickLogout():this.$router.push({path:"/login"})},500),this.api.post("/api/usersApi/logout",{token:this.$store.state.token,hideLoading:!0}).then(e=>{})})}}},n=(i("2e74"),i("2877")),n=Object(n.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"my-header-root",style:{"background-color":t.bgColor,position:t.fixed?"fixed":"relative"}},[e("div",{staticClass:"my-header-left"},[e("img",{staticClass:"logo",attrs:{src:t.getLogoImageUrl}}),t.showHome?e("vs-button",{staticClass:"iconBtn",staticStyle:{"margin-left":"10px"},attrs:{"animation-type":"vertical"},on:{click:function(e){return t.goHome()}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("common.home"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"ios-home"}})],1):t._e()],1),e("div",{staticClass:"my-header-right"},[t.showHome?e("vs-button",{staticClass:"iconBtn rightHomeBtn",attrs:{"animation-type":"vertical"},on:{click:function(e){return t.goHome()}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("common.home"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"ios-home"}})],1):t._e(),t.showHome||!t.currentUser||t.customHomeBgImage?t._e():e("vs-button",{staticClass:"iconBtn",attrs:{"animation-type":"vertical"},on:{click:t.switchBg},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("home.refreshBg"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-refresh"}})],1),!t.showHome&&t.currentUser?e("vs-button",{staticClass:"iconBtn",attrs:{id:"switchBg","animation-type":"vertical"},on:{click:t.switchBgTask},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("home.task"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-pulse"}})],1):t._e(),t.currentUser?e("vs-button",{staticClass:"iconBtn",attrs:{"animation-type":"vertical"},on:{click:t.uploadClick},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("common.upload"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-arrow-round-up"}})],1):t._e(),1==t.$store.state.currentUser.is_admin?e("Badge",{attrs:{dot:"",offset:[7,7],"overflow-count":"99",count:t.$store.state.unreadMsgCount}},[e("vs-button",{staticClass:"iconBtn",attrs:{id:"checkMsg","animation-type":"vertical"},on:{click:function(e){t.goPathNewWebView("/noticeCenter",t.$t("notice.info"))}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("notice.info"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-notifications-outline"}})],1)],1):t._e(),t.currentUser?e("vs-button",{staticClass:"iconBtn",attrs:{"animation-type":"vertical"},on:{click:function(e){t.showUserSetting=!0}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("home.mine"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-key"}})],1):t._e(),e("vs-button",{staticClass:"iconBtn",attrs:{gradient:"","animation-type":"vertical"},on:{click:t.goLogout},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("user.logout"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-exit"}})],1)],1),e("vs-dialog",{attrs:{"prevent-close":""},model:{value:t.showUserSetting,callback:function(e){t.showUserSetting=e},expression:"showUserSetting"}},[e("user-setting",{on:{onClose:function(e){t.showUserSetting=!1}}})],1)],1)},[],!1,null,"0782ce7a",null);t.a=n.exports},8051:function(e,t,i){},"858b":function(e,t,i){},8710:function(e,t,i){},8822:function(e,t,i){},"8ae4":function(e,t,i){},"8b5e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAJ1BMVEUAAADLy8vl5eXLy8vMzMzg4ODMzMzq6ur////m5ubZ2dny8vLi4uLLyCU/AAAABnRSTlMAQN+Av7+R1PH9AAACkElEQVR42u3cTW7TUBTF8VZBHTNizBIYIMZIINZBBZjY7uhO2EH1cOeRLebF8gIiiywgExYFSlQdpc/V63PP6ZfuXUB//vtdW4kq5ehgFm+L7Pl2lDeLYsacvdYZQCwLeTcP+ZGTclzMRHJSXs1FclI+zUZMdreAZKS8uANieiQj5eQuiImWCwhSxIipEaSoERMjSJEjpkWQokdMiyBFj5gWQYoeMS2CFD1iWgQpesS0CFL0iGkRpOgR0yJI0SOmRZCiR0yLIEWPmBJBCh2pYsS0CFL0iLGRIiKQwkN+J1IoyPdECgWpphAjI8U2kUJBzhIpBARHH6VQkWo7lUJCoPzdJlKAcOfUEUccccQRRxxx5AGQoeuGQYt0YTebQYeUY7iaPyqkDBgoPAQGFAnShsNZCZA6XJsLPlKFaNZ0pA/72XS/NkghIgj5uTuIYUQKE6kPDrsa9yQZaQMMmFykwpVHKAXBla+uP5kNFemjbWqRxkLG6LqXuxQ+so7fZJdMZOIv4pQICJYriuMiJc49uoM0pJ5YpVaCNBPIuRgZ2cjyJmRNReKrDmyk7P7PKtpq4gpjNE98ahcuCi3SihEcSaNFeiyXBEFIuJQiPevTSjpkLUV63C0NgpCmUCI1QnTIiBARghAp0mK1ZEiJLyc6pEeIDhkRokHweV6L9FgtHTLi1ShBcLdWWmSJY5cgOJJGiOCDoxjBbumQCkciRhodgg0+FyO1IznI0pEIyfhi94T/6+CII44kZ//EP4d3lyOOOPJInvjn84J0xBFHHHHEEUccccQRRxxx5PbICRv5fB/I+wlkcR/IMRt5mfjRK8Z8jQDBoZxOIgv63ZLfry8TAP3o3yR+VE1joOUjh/hwaPwDtXG3Yt6MeDoAAAAASUVORK5CYII="},"8c08":function(e,t,i){"use strict";i("858b")},"8d6a":function(e,t,i){"use strict";i("4871")},"8ec7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAC8yNnAzd+7ydm7ydm8ytq7ydq+zN+6yNi7ydm7ydm8ydm9ydi7ytu6ydm7ydm6ydm8ytq7yNi6yNj+GZC2AAAAE3RSTlMAZhT1335dJO3LxY9CNNS3oG5PkFF91gAAAKZJREFUOMuVkUkSwyAMBLEEBu+L/v/XBA4J8ghS6es0FMy4P6EYqROPs7yZx9bpEheFzNzLB28Zh1QcmK+iWEE4tXCC4LXgQWAtMAhJCwmESQsTCEELAXti9QSjqasWLmewfPPFmQSWAgd763osXHzbRbFvj+MsD1hdMojB0JoaJ6dkC4mggALUEbklcNQzIQGHNkYn6UC5w56Q+7x7wp0/MXSI7icvoeYkmTRQSXcAAAAASUVORK5CYII="},"902c":function(e,t,i){e.exports=i.p+"img/14.5a8141a1.jpg"},9345:function(e,t,i){e.exports=i.p+"img/11.bb920b5f.jpg"},9482:function(e,t,i){},"952d":function(e,t,i){e.exports=i.p+"img/login-left-img.8df76c52.png"},9743:function(e,t,i){e.exports=i.p+"img/naslogo.fd98624c.png"},9751:function(e,t,i){},9911:function(e,t,i){"use strict";i("2fc7")},"9ab6":function(e,t,i){e.exports=i.p+"img/13.f0334ead.jpg"},"9ac2":function(e,t,i){"use strict";i("dbca")},"9b66":function(e,t,i){e.exports=i.p+"img/icon-folder-word.fe1a71bc.png"},"9ef6":function(e,t,i){"use strict";i("b877")},a18c:function(e,t,i){"use strict";var n=i("2b0e"),s=i("8c4f"),r=(i("14d9"),i("19cb")),a=i.n(r),r={data(){return{}},mounted(){var e=this.$route.query,t=e.from;t&&"app"==t?(e.rawPlayer&&"1"==e.rawPlayer?localStorage.setItem("rawPlayer","1"):localStorage.removeItem("rawPlayer"),localStorage.setItem("from","app")):localStorage.removeItem("from"),e.username&&localStorage.setItem("username",e.username),e.password&&localStorage.setItem("password",a.a.decode(e.password)),e.answer&&localStorage.setItem("answer",e.answer),e.ios&&1==e.ios&&localStorage.setItem("ios",1),e.iosVersion&&localStorage.setItem("iosVersion",e.iosVersion),this.$store.state.token&&this.$store.state.currentUser?this.goHome():e.token?this.tokenLogin(e.token,e.target):this.hasAdmin()},methods:{tokenLogin(e,t){this.api.post("/api/usersApi/tokenLogin",{token:e}).then(e=>{e.code||(localStorage.setItem("token",this.encrypt(e.token)),localStorage.setItem("currentUser",this.encrypt(JSON.stringify(e.user))),this.$store.state.currentUser=e.user,this.$store.state.token=e.token,t?setTimeout(()=>{this.$router.push({path:"/"+t})},500):setTimeout(()=>{this.goHome()},500),jsBridge.onLoginSuc(JSON.stringify({username:this.formInline.username,password:this.base64.encode(this.formInline.password),answer:this.twoStepAnswer})),e.reqIp&&(localStorage.reqIp=e.reqIp))}).catch(e=>{this.hasAdmin()})},hasAdmin(){this.api.post("/api/usersApi/hasAdmin",{hideLoading:!0}).then(e=>{e.code||(e=e.hasAdmin,0!=parseInt(e)?this.$router.push({path:"/login"}):this.$router.push({path:"/create_admin"}))}).catch(e=>{})}}},o=(i("ae97"),i("2877")),o=Object(o.a)(r,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"content"},[t("div",{staticStyle:{"margin-top":"50px"}},[e._v(e._s(e.$t("index.title")))])])},[],!1,null,"548efda0",null).exports,l=i("4360"),r=i("d3a4");i("d930"),n.default.use(s.a);const c=[{path:"/",name:"index",component:o},{path:"/login",name:"login",meta:{level:1,title:r.a.t("security.login")},component:()=>Promise.resolve().then(i.bind(null,"c1d1"))},{path:"/forgotPwd",name:"forgotPwd",meta:{level:1},component:()=>i.e("chunk-0618d39e").then(i.bind(null,"bef6"))},{path:"/create_admin",name:"create_admin",meta:{level:1,title:r.a.t("registerAdmin.registerAdmin")},component:()=>i.e("chunk-ce7e591e").then(i.bind(null,"5b5c"))},{path:"/home",name:"home",meta:{level:2,title:r.a.t("common.home")},meta:{keepAlive:!0},component:()=>Promise.all([i.e("chunk-cf2482a2"),i.e("chunk-304e0d9a")]).then(i.bind(null,"77b8"))},{path:"/homeMobile",name:"homeMobile",meta:{level:2,title:r.a.t("common.home")},meta:{keepAlive:!0},component:()=>Promise.all([i.e("chunk-cf2482a2"),i.e("chunk-2499d876")]).then(i.bind(null,"0bbd"))},{path:"/security",name:"security",meta:{level:3,title:r.a.t("home.securityCenter")},component:()=>i.e("chunk-0bbd4df2").then(i.bind(null,"b485"))},{path:"/setting",name:"setting",meta:{level:3,title:r.a.t("home.settingCenter")},component:()=>i.e("chunk-08d0d107").then(i.bind(null,"e0df"))},{path:"/photos",name:"photos",meta:{level:3,title:r.a.t("photo.timeline")},component:()=>Promise.all([i.e("chunk-159793b0"),i.e("chunk-5c918488"),i.e("chunk-4e886eb8"),i.e("chunk-1e8b375e"),i.e("chunk-4374e844")]).then(i.bind(null,"ed29"))},{path:"/movies",name:"movies",meta:{level:3,title:r.a.t("home.movieManage")},component:()=>Promise.all([i.e("chunk-159793b0"),i.e("chunk-5c918488"),i.e("chunk-5a283fea"),i.e("chunk-21738d85")]).then(i.bind(null,"c352"))},{path:"/movieDetail",name:"movieDetail",meta:{level:4},component:()=>i.e("chunk-159793b0").then(i.bind(null,"4696"))},{path:"/spaceDetail",name:"spaceDetail",meta:{level:4},component:()=>i.e("chunk-40208be6").then(i.bind(null,"ceeb"))},{path:"/albumDetail",name:"albumDetail",meta:{level:4},component:()=>i.e("chunk-ac240062").then(i.bind(null,"8fad"))},{path:"/videoDetail",name:"videoDetail",meta:{level:4},component:()=>Promise.resolve().then(i.bind(null,"5d55"))},{path:"/filesBrower",name:"filesBrower",meta:{level:3,title:r.a.t("home.fileBrower")},component:()=>i.e("chunk-71e525cc").then(i.bind(null,"3ecc"))},{path:"/privateSpace",name:"privateSpace",meta:{level:3,title:r.a.t("photo.privateSpace")},component:()=>Promise.all([i.e("chunk-40208be6"),i.e("chunk-fe958ec6")]).then(i.bind(null,"04e6"))},{path:"/backup",name:"backup",meta:{level:3,title:r.a.t("home.backup")},component:()=>i.e("chunk-4b20a2c4").then(i.bind(null,"1a8f"))},{path:"/share",name:"share",meta:{level:3,title:r.a.t("home.sharing")},component:()=>i.e("chunk-bbd5975c").then(i.bind(null,"ecbb"))},{path:"/noticeCenter",name:"noticeCenter",meta:{level:3,title:r.a.t("home.sharing")},component:()=>i.e("chunk-6ae4ff8a").then(i.bind(null,"f43f"))},{path:"/shareTemp",name:"shareTemp",meta:{level:3,title:r.a.t("home.shareTemp")},component:()=>i.e("chunk-56916f66").then(i.bind(null,"4dd8"))},{path:"/notes",name:"notes",meta:{level:3},component:()=>i.e("chunk-777a2d7a").then(i.bind(null,"b336"))}],u=s.a.prototype.push;s.a.prototype.push=function(e,t,i){return t||i?u.call(this,e,t,i):u.call(this,e).catch(e=>e)};o=new s.a({mode:"hash",base:"",routes:c});let h=["/","/login","/create_admin","/forgotPwd","/shareTemp"];o.beforeEach((e,t,i)=>{if(!h.includes(e.path)&&!l.a.state.token){const e=n.default.prototype.getToken();var s;if(l.a.state.currentUser||(s=n.default.prototype.getCurrentUser())&&(l.a.state.currentUser=s),!e)return i({path:"/"});l.a.state.token=e}i()}),o.afterEach((e,t)=>{document.title=e.meta.title||"NasCab"}),t.a=o},a342:function(e,t,i){},a467:function(e){e.exports=JSON.parse('{"otherRegion":"其他国家或地区","setting.serverRootPath":"服务入口路径","setting.serverRootPathPlaceholder":"输入路径如：myweb","setting.serverRootPathHint":"示例:如原访问地址为http://192.168.1.5:80，入口路径设置为abc，则访问地址变为:http://192.168.1.5:80/abc，内网穿透和DDNS同步生效，增强安全性，设置后重启NasCab生效，此设置不影响WebDav和Ftp分享","setting.serverRootPathError":"路径仅支持字母数字且不超过32位","china":"中国(含港澳台) ","addMapServer":"添加瓦片服务器","coordinate":"坐标系","currentUsing":"当前使用","mapSwitchAlert":"切换地图后,页面将刷新并重新加载,是否确认切换?","maxZoom":"缩放级别","tileServerUrl":"瓦片服务器","region":"地区","switchMap":"切换地图","languageAndRegion":"语言和地区(Region&Language)","regionAlert":"不同地区版本之间NasCab会员账号和数据不通用,功能也不完全相同,请根据实际情况选择","defaultPlay":"优先播放","rawFile":"原文件","folderDownloadAlert":"您正在尝试下载文件夹,文件夹将以zip压缩包形式下载,是否确认?","notes":"便签","mix":"混合","copyLink":"复制下载链接","linkCopied":"下载链接已复制","remark":"备注","intervalScan":"间隔扫描","intervalScanAlert":"每隔一段时间扫描磁盘并添加新文件的索引","everyXHour":"每{count}小时","scanAll":"扫描全部目录","addUserRemark":"设置用户备注","userRemarkPh":"输入用户名或备注进行搜索","proxy":"代理","quickKey":"快捷键","fileKeyAlert":"[+/=]:放大 [-]:缩小 [c]:切换展示方式 [r]:刷新","photoKeyAlert":"[+/=]:放大 [-]:缩小 [c]:切换展示方式","saveAndTest":"保存并测试","tmdbProxy":"启用TMDB代理","tmdbAlert":"当您的网络环境无法访问到TMDB的服务器时,可以配置使用本机代理,如:http://127.0.0.1:10809等,实际的本机代理地址根据您的代理软件设置而定","protocol":"协议","host":"主机[含协议和端口]","afterScrapeAlert":"请求成功,任务将在后台进行,请稍后刷新页面或查看[刮削日志]确认结果","tryRescrape":"请尝试重新刮削","scrapeSeasonDetail":"请求季详情[TMDB]","scrapeDetail":"请求剧详情[TMDB]","scrapePath":"刮削路径","scrapeType":"刮削类型","result":"结果","resultPath":"保存路径","failReason":"失败原因","scrape":"刮削","scrapeLog":"刮削日志","scrapeEpisode":"刮削缺失剧集","scrapeMissingAlert":"将尝试根据本剧已有NFO文件刮削缺失的剧集信息,确定吗?","poster":"封面","scanWhenStart":"启动时扫描","scanWhenChange":"有变动时自动扫描","scanWhenChangeAlert":"部分操作系统和运行环境可能不支持此功能,如Windows下的Docker,网络磁盘等,在对来源目录进行大量修改时,建议暂时关闭此选项","proxy.smooth":"畅通","proxy.normal":"中等","proxy.busy":"拥挤","book.library":"图书管理","episodeCount":"集数","bestSize":"推荐长宽比例","whiteBg":"透明或白色背景","bestBg":"推荐使用浅色图片","loginWelMsg":"登录页欢迎语","keyword":"关键字","nameRule":"刮削命名规则","alreadyInQueue":"任务已加入执行队列","movieNameRule":"电影命名规则:霸王别姬(1999).mp4,如不知道具体年份也可以不加","tvNameRule":"电视剧命名规则:建议采用3级目录命名方式,如:权力的游戏 > [\'Season 1\' 或 \'s2\' 或 \'第三季\' 或 \'第4季\'] > [\'权力的游戏S01E01.mp4\' 或 \'权力的游戏EP02.mp4\' 或 \'权力的游戏E03.mp4\' 或 \'权力的游戏第4集.mp4\']","loginImg":"登录页图片","sourceIncludeCache":"此路径在您设置的缓存目录下,将不会被扫描,请在【配置中心-系统设置】中修改缓存目录","homeBg":"首页背景图","cantAccess":"无法访问","localNetAlert":"如果此地址无法访问,请按照以下顺序排查:1.访问设备和服务端必须处于同一个IP网段,在同一个路由器下。2.如果您使用的是Windows系统,请确保已经在防火墙把服务端放行。3.如果您的网卡属性是【公有网络】,请尝试切换到【私有网络】。","logoLeft":"左上角LOGO","successAndRestartImgViewer":"设置成功,请重新打开图片浏览器","imgPreviewSize":"大图预览尺寸","longSideMaxPx":"长边最大尺寸(像素)","imgQuality":"图片质量[建议60-90]","imgPreviewAlert":"设置自定义图片预览尺寸,浏览大图片时可以降低网络流量,提升加载速度,此功能不会改变您的图片源文件,建议设置为[自定义][长边3000-8000像素]","rawImage":"原图","episode":"集","dragSelectAlert":"按住鼠标左键拖动多选","yourInputTooLong":"您输入的内容太长,请保持在{count}个字以内","onlySupportCustomImageFormat":"只支持JPG,PNG,WEBP格式","chooseDeleteOption":"选择删除选项","watched":"看过","lastWatched":"上次看到","number":"数字","index.title":"正在初始化...","net.error":"网络连接错误...","cannotBeEmpty":"{content}不能为空","terminal.disconnect":"终端连接已断开","terminal.failConnect":"终端连接失败","terminal.connected":"终端已连接","terminal.start":"启动终端","creator":"创建者","terminal.title":"终端工具","refreshQrcode":"刷新二维码","customUrlAlertA":"您还可以在","customUrlAlertB":"中配置分享URL,用于每次自动替换服务器地址","pleaseSelectFolder":"请选择一个文件夹","itemsCount":"个项目","switch":"切换","imageSize":"图片尺寸","second":"秒","width":"宽度","height":"高度","pixel":"像素","setting":"设置","open":"打开","verify":"验证","dataFrom":"数据来源","theSeason":"第{number}季","season":"季","selectWhichSeason":"您要选择哪一季?","putInSystemTrash":"放入操作系统回收站","fileNotFound":"文件未找到,请检查","openInSystem":"在系统中打开","selectedInSystem":"在系统中选中","file.hidePath":"隐藏文件路径","file.hidePathAlert":"如果您不想让某些文件夹在文件浏览器中显示,可以在这里添加想要隐藏的路径,隐藏后的路径将不会显示在文件浏览模块中,此功能只能在服务端的程序窗口内设置,无法在浏览器或APP中设置,此功能仅支持Windows和Mac平台","file.hidePathPlaceHolder":"输入要隐藏的路径,如:D:\\\\或/Applications等","shareForSubUser":"对所有用户可见","transcodeSpeed":"转码速度","transcodeReadRate":"转码读取速率","transcodeReadRateAlert":"转码时对源文件的最大读取速率倍数,即每1秒读取最多几秒的视频源文件,降低此数值可降低cpu和gpu占用率,过低会影响转码速度,建议设置为2-10之间","transcodeSpeedAlert":"转码速度越快,画面质量越低","decoderErrorAlert":"此解码器为测试状态,如无法解码请切换到其他解码器","ultrafast":"最快","superfast":"超快","veryfast":"非常快","faster":"更快","fast":"快","medium":"中等","slow":"慢","slower":"更慢","veryslow":"非常慢","pageCount":"{count}组/页","transcode":"转码","valueMustBeNum":"值必须是数字","whatModelWillYouUse":"设置需要在首页显示的功能","whatModelWillYouUseSubuser":"为此用户显示哪些菜单?","shareDomainSetting":"分享域名设置","shareDomainAlert":"设置后,将用于自动替换分享链接中的服务器地址,如快速分享等功能,需包含地址和端口以及入口路径","map.currentZoomLevel":"当前缩放等级{zoom}","map.upgradeZoom":"升级版本,解锁12级地图","proxy.switchAlert":"由于DNS缓存时效问题,切换线路将导致最长5-30分钟的域名生效时间,是否确认切换?","proxy.downloadFrp":"下载FRP","proxy.currentRoute":"当前线路","proxy.routeList":"可选线路列表","proxy.pluginState":"插件状态","proxy.installPlugin":"安装插件","proxy.installed":"已安装","proxy.pluginPath":"插件安装路径","proxy.installMsgSent":"安装指令已发送,稍后将自动刷新","proxy.uninstalled":"未安装","proxy.cannotLoginMulti":"同时在多个服务端登录同一个NasCab账号将导致内网穿透无法使用","proxy.firewallAlert":"NasCab使用第三方开源软件FRP进行内网穿透,在Windows下有可能被防火墙误杀,请确保将frpc文件加入白名单,否则可能无法使用","proxy.frpcGithub":"FRP开源地址及相关讨论:https://github.com/fatedier/frp","language.chi":"中文","language.eng":"英文","language.ger":"德文","language.spa":"西班牙文","language.fre":"法文","language.jpn":"日文","language.kor":"韩文","common.menu":"菜单","common.pathExist":"路径已存在","common.fileExist":"文件已存在","common.cancelFavorite":"取消收藏","common.sortField":"排序方式","common.sortType":"排序类型","common.asc":"升序","common.desc":"降序","common.iKnow":"我已了解","common.yes":"是","common.addMore":"增加","common.no":"否","common.nothing":"无","common.download":"下载","common.selectAll":"全选","common.folder":"文件夹","common.file":"文件","common.name":"名称","common.onlyCanUseInApp":"只能在APP内部使用","common.eq":"等于","common.gt":"大于","common.lt":"小于","common.contain":"包含","common.filepath":"文件路径","common.textTooLong":"字符长度超出限制","common.buyVipInPc":"请在PC端购买","common.addPath":"添加路径","common.selectSubuser":"选择子用户","setting.tokenKeepTime":"登录状态保持时间[小时]","setting.tokenKeepMaxAlert":"登录状态保持时间最大值为720小时","sign.tv":"剧","sign.movie":"影","checkTime":"查看时间","file.withoutSharedFile":"未找到共享文件","file.changeToRealUrl":"可将共享链接中的 {url} 部分更换为您实际的服务器地址和端口","file.endDate":"截止日期","file.shareLink":"共享链接","file.validity":"访问有效期[天]","file.accessPwd":"访问密码","file.noNeedPwd":"无需密码","file.shareTempPwdPh":"输入访问密码,留空代表不需要","file.shareTempAlert":"快速分享文件/文件夹,他人无需登录即可访问","file.addShareTemp":"添加快速分享","file.shareFolderAlert":"添加共享文件夹,所有子用户无需授权即可查看","file.addShareFoler":"添加共享文件夹","file.sharePath":"共享路径","holiday.yuandan":"元旦","holiday.chuxi":"除夕","holiday.chuyi":"初一","holiday.yuanxiaojie":"元宵节","holiday.qingrenjie":"情人节","holiday.funvjie":"妇女节","holiday.yurenjie":"愚人节","holiday.laodongjie":"劳动节","holiday.ertongjie":"儿童节","holiday.qixi":"七夕","holiday.duanwujie":"端午节","holiday.jiaoshijie":"教师节","holiday.zhongqiujie":"中秋节","holiday.guoqingjie":"国庆节","holiday.chongyangjie":"重阳节","holiday.wanshengjie":"万圣节","holiday.pinganye":"平安夜","holiday.shengdanjie":"圣诞节","system.sysUpdate":"系统更新","system.systemResetSuc":"系统重置成功,请重新登录","system.copied":"已复制","system.hostName":"主机名","system.update":"更新","system.updateLog":"更新日志","system.updateTo":"更新至","system.currentSystemVersion":"当前系统版本","system.lastestVersion":"最新系统版本","system.updateSent":"安装包下载后将自动进行安装并重启,期间NasCab将停止服务,请耐心等待","system.info.system":"设备概况","system.info.osInfo":"系统信息","system.info.cpu":"CPU","system.info.mem":"内存","system.info.diskLayout":"硬盘","system.info.usb":"USB","system.info.audio":"音频","system.info.networkInterfaces":"网络","system.info.bios":"BIOS","system.info.baseboard":"主板","system.info.graphics":"显示/显卡","system.info.wifiNetworks":"WIFI","system.info.bluetoothDevices":"蓝牙","system.info.osInfo.platform":"平台","system.info.osInfo.distro":"发行版","system.info.osInfo.release":"Release","system.info.osInfo.kernel":"内核","system.info.osInfo.arch":"架构","system.info.osInfo.hostname":"主机名","system.info.osInfo.codepage":"构建版本","system.info.osInfo.logofile":"发行商","system.info.osInfo.serial":"序列号","system.info.osInfo.build":"构建版本号","system.info.osInfo.uefi":"UEFI启动支持","system.info.cpu.manufacturer":"制造商","system.info.cpu.brand":"品牌型号","system.info.cpu.speed":"频率Ghz","system.info.cpu.speedMin":"最小频率","system.info.cpu.speedMax":"最大频率","system.info.cpu.cores":"核心数","system.info.cpu.physicalCores":"物理核心数","system.info.cpu.processors":"处理器数量","system.info.cpu.socket":"接口","system.info.cpu.vendor":"供应商","system.info.cpu.family":"家族","system.info.cpu.model":"型号","system.info.cpu.stepping":"步进","system.info.cpu.revision":"版本号","system.info.cpu.flags":"标记","system.info.cpu.virtualization":"支持虚拟化","system.info.cpu.cache":"缓存","system.info.cpu.performanceCores":"性能核心","system.info.cpu.efficiencyCores":"能效核心","system.info.mem.total":"容量","system.info.mem.free":"可用","system.info.mem.used":"已用","system.info.mem.active":"主动使用(不包括缓冲区/缓存)","system.info.mem.buffcache":"缓冲区/缓存","system.info.bios.vendor":"供应商","system.info.bios.version":"版本","system.info.bios.releaseDate":"发行日期","system.info.bios.revision":"版本号","system.info.bios.serial":"序列号","system.info.baseboard.manufacturer":"制造商","system.info.baseboard.model":"型号","system.info.baseboard.version":"版本","system.info.baseboard.serial":"序列号","system.info.baseboard.assetTag":"资产标签","system.info.diskLayout.device":"设备路径","system.info.diskLayout.type":"类型","system.info.diskLayout.name":"名称","system.info.diskLayout.vendor":"供应商","system.info.diskLayout.size":"容量","system.info.diskLayout.firmwareRevision":"固件版本","system.info.diskLayout.serialNum":"序列号","system.info.diskLayout.interfaceType":"接口类型","system.info.diskLayout.smartStatus":"S.M.A.R.T 状态","system.info.diskLayout.bytesPerSector":"每扇区字节数","system.info.diskLayout.totalCylinders":"总柱面数","system.info.diskLayout.totalHeads":"总磁头数","system.info.diskLayout.totalSectors":"总扇区数","system.info.diskLayout.totalTracks":"总轨道数","system.info.diskLayout.tracksPerCylinder":"每柱面磁道","system.info.diskLayout.sectorsPerTrack":"每磁道扇区数","system.info.diskLayout.temperature":"S.M.A.R.T 温度","system.info.usb.bus":"USB 总线","system.info.usb.deviceId":"总线设备ID","system.info.usb.id":"内部ID","system.info.usb.name":"名称","system.info.usb.type":"类型","system.info.usb.removable":"可移除","system.info.usb.vendor":"供应商","system.info.usb.manufacturer":"制造商","system.info.usb.maxPower":"最大功率","system.info.usb.serialNumber":"序列号","system.info.audio.id":"内部ID","system.info.audio.name":"名称","system.info.audio.manufacturer":"制造商","system.info.audio.revision":"版本号","system.info.audio.driver":"驱动程序","system.info.audio.default":"是否默认","system.info.audio.channel":"通道","system.info.audio.type":"类型","system.info.audio.in":"是否为输入","system.info.audio.out":"是否为输出","system.info.audio.interfaceType":"接口类型","system.info.networkInterfaces.iface":"接口","system.info.networkInterfaces.ifaceName":"接口名称","system.info.networkInterfaces.default":"是否为默认","system.info.networkInterfaces.ip4":"IPV4地址","system.info.networkInterfaces.ip4subnet":"IPV4子网掩码","system.info.networkInterfaces.ip6":"IPV6地址","system.info.networkInterfaces.ip6subnet":"IPV6子网掩码","system.info.networkInterfaces.mac":"Mac地址","system.info.networkInterfaces.internal":"内部","system.info.networkInterfaces.virtual":"是否为虚拟","system.info.networkInterfaces.type":"类型","system.info.networkInterfaces.mtu":"最大传输单元","system.info.networkInterfaces.speed":"速度 MBit/s","system.info.networkInterfaces.dhcp":"DHCP获取的IP地址","system.info.networkInterfaces.dnsSuffix":"DNS 后缀","system.info.bluetoothDevices.device":"设备名称","system.info.bluetoothDevices.name":"名称","system.info.bluetoothDevices.macDevice":"MAC","system.info.bluetoothDevices.macHost":"MAC地址主机","system.info.bluetoothDevices.batteryPercent":"电量","system.info.bluetoothDevices.manufacturer":"制造商","system.info.bluetoothDevices.type":"类型","system.info.bluetoothDevices.connected":"是否已连接","system.info.graphics.vendor":"供应商","system.info.graphics.vendorId":"供应商编号","system.info.graphics.model":"型号","system.info.graphics.name":"名称","system.info.graphics.deviceId":"设备ID","system.info.graphics.bus":"总线","system.info.graphics.vram":"VRAM size (MB)","system.info.graphics.external":"是否外接","system.info.graphics.cores":"核心数","system.info.graphics.deviceName":"设备名称","system.info.graphics.productionYear":"生产年份","system.info.graphics.serial":"序列号","system.info.graphics.displayId":"显示 ID","system.info.graphics.main":"是否为主要","system.info.graphics.builtin":"是否为内置","system.info.graphics.connection":"连接方式","system.info.graphics.sizeX":"水平尺寸 (mm)","system.info.graphics.sizeY":"垂直尺寸 (mm)","system.info.graphics.pixelDepth":"色深 (bits)","system.info.graphics.resolutionX":"水平分辨率","system.info.graphics.resolutionY":"垂直分辨率","system.info.graphics.currentResX":"当前水平分辨率","system.info.graphics.currentResY":"当前垂直分辨率","system.info.graphics.currentRefreshRate":"当前刷新率","system.info.graphics.driverVersion":"驱动版本","system.info.graphics.memoryTotal":"总显存 (MB)","system.info.graphics.memoryUsed":"已用显存 (MB)","system.info.graphics.memoryFree":"可用显存 (MB)","system.info.graphics.temperatureGpu":"温度","system.info.graphics.powerDraw":"功率消耗 (w)","system.info.graphics.utilizationGpu":"GPU利用率 %","system.info.graphics.clockCore":"时钟核心","nascab.online":"在线","reconnect":"重连","home.scanToAccess":"可以使用浏览器/微信等扫码访问","usage":"使用率","sureToClose":"确认关闭吗?","nascab.useNasCabCert":"使用NasCab提供的https证书","nascab.useApiCert":"使用和API服务相同的证书[您在配置中心配置的或DDNS服务提供的]","nascab.useNasCabCertCloseAlert":"关闭后,将使用默认证书作为https协议的api接口证书,您也可以在通用配置中自行配置","nascab.useNasCabCertAlert":"开启后,将使用NasCab提供的https证书,程序启动时,用作https协议的api接口证书,重启应用才能生效","nascab.clearCustomProxy":"清除端口映射配置","nascab.conFromLan":"如果您和服务器处于同一局域网,可以从局域网连接:","nascab.localMachine":" [127.0.0.1代表本机] ","nascab.invalidIp":"请输入正确的IP","nascab.invalidPort":"请输入正确的端口","nascab.pleaseOpenTwoStepsLogin":"开启远程访问后,您的NasCab服务可以从公网访问,请您务必在安全中心开启\'两步登录\'以增强账户安全性","nascab.lanAccessAlert":"在同一个局域网内的任意浏览器,输入此网址可访问到NasCab服务,完全兼容PC/手机浏览器","nascab.proxyDelay":"每次重连后,域名生效可能会有5-30分钟延迟,请耐心等待","nascab.sameAccountLogin":"不能同时在多台电脑的服务端登录同一个nascab微信/手机账号并同时开启内网穿透,否则可能导致冲突","nascab.reconnectSent":"重新连接请求已发送,请稍后刷新查看连接状态","nascab.connectState":"连接状态","nascab.connectLine":"连接线路","nascab.sureEnableDDNS":"确认启用DDNS吗?DDNS用来将NasCab专属域名解析到您的动态公网IP.","nascab.sureDisableDDNS":"确认关闭DDNS吗?","nascab.ddnsIp":"解析IP","nascab.ddnsType":"解析类型","nascab.isEnable":"是否启用","nascab.sureEnableRemote":"确认启用远程访问吗?","nascab.sureDisableRemote":"确认关闭远程访问吗?如果您正在使用远程访问,连接将立即断开","nascab.remoteAccessMenu":"内网穿透","nascab.offline":"离线","nascab.remoteAccess":"远程访问地址","nascab.customServerRemoteUrl":"自定义服务公网访问域名","nascab.setDomain":"设置我的专属域名","nascab.myDomain":"我的域名","nascab.ddnsDomain":"DDNS域名","nascab.proxyDomain":"内网穿透域名","nascab.contactServe":"联系客服","nascab.validUntil":"有效期至","nascab.needUpgrade":"免费版无法使用此功能,请用管理员账号在‘配置中心->NasCab账号’中升级后再试","nascab.version":"当前版本","nascab.renewal":"续期","nascab.loginFirst":"请先登录NasCab账号","nascab.upgrade":"升级","nascab.versionFree":"个人免费版","nascab.versionPro":"专业版","nascab.versionTeam":"白金版","nascab.goToBind":"去绑定","nascab.account":"NasCab账号","nascab.notLogin":"未登录","nascab.switchAccount":"切换账号","nascab.email":"邮箱","nascab.changeToLan":"您和要连接的NasCab服务处于同一个局域网,切换到局域网访问可以大幅加快访问速度,是否切换?","nascab.phone":"手机","nascab.exitAccount":"退出NasCab账号","nascab.accountManage":"管理我的NasCab账号","slogan":"Nas Cab 做最简单易用的多媒体管理软件","common.faq":"常见问题","proxy.faqContent1":"1.内网穿透的作用：让您的NasCab在没有公网IP的情况下可以通过公网访问。开启后请在安全中心开启两步登录增强安全性。","proxy.faqContent2":"2.内网穿透和DDNS的区别：内网穿透不需要公网IP,数据需NasCab服务器中转。DDNS需要公网IP,连接方式为直连无需中转。内网穿透和DDNS可以通过设置不同子域名同时启用。","proxy.faqContent3":"3.内网穿透是否安全：传输采用HTTPS+AES双重加密,NasCab服务器只做中转,不对数据做任何过滤和审核,也无法被中间路由器获取。","proxy.faqContent4":"4.内网穿透的端口：内网穿透域名的端口固定为443(HTTPS)","proxy.faqContent5":"5.Frp在Windows下的杀软误报,相关讨论请见Frp仓库：https://github.com/fatedier/frp","ddns.faqContent1":"1.如何验证ddns是否成功:使用命令行对您的域名进行ping操作,观察解析出来的IP是否和显示的一致","ddns.faqContent2":"2.映射成功后无法访问:如果是IPV4还需要在路由器进行端口转发,把NasCab服务端口转发到NasCab所在设备,IPV6通常不需要","ddns.faqContent3":"3.是否需要加端口访问:如果是默认端口(http:80)(https:443)不需要,非默认端口需要使用 [http(s)://域名:端口] 的形式访问","ddns.faqContent4":"4.如果仍然无法访问,可以切换不同服务端口尝试,部分运营商可能会屏蔽80和443端口","ddns.faqContent5":"5.如何确认是否拥有动态公网IPV4地址:在搜索引擎搜索\'IP\'等关键字,查看自己的公网IP,然后和路由器WAN IP对比是否一致,一致则为公网IP","common.rename":"重命名","common.startTime":"开始时间","common.newVersionReady":"新版本 {version} 已准备好","common.import":"导入","common.export":"导出","common.show":"显示","common.new":"新建","common.multiSelect":"多选","common.longPressShowMenu":"长按可以弹出菜单","common.rightClickShowMenu":"右键点击弹出菜单","upload.success":"上传成功","upload.error":"上传失败","upload.uploading":"上传中...","upload.paused":"已暂停","upload.waiting":"等待中","upload.noTargetPath":"未选择目标上传文件夹","upload.folderAlert":"注意：使用文件夹上传时,无法保持子文件夹结构","common.pleaseInputSearchContent":"请输入搜索内容","common.welcomeToNasCab":"欢迎使用NasCab云可云","common.hide":"隐藏","common.close":"关闭","common.top":"顶部","common.ok":"确定","common.and":"和","common.iSee":"知道了","common.alert":"提示","common.title":"标题","common.search":"搜索","common.resetDefault":"重置为默认","common.default":"默认","common.detail":"详情","common.refresh":"刷新","common.refreshList":"刷新列表","common.confirm":"需要您确认","common.noMore":"没有更多了","common.returnLastLayer":"返回","common.noData":"无数据","common.operationSuccess":"操作成功","common.checkAfter":"操作将在后台进行,稍后刷新可以查看结果","common.operationFail":"操作失败","common.getFail":"获取失败","common.options":"选项","common.all":"全部","common.succesed":"成功","common.faild":"失败","common.uploading":"上传中","common.home":"首页","common.photo":"照片","common.save":"保存","common.video":"视频","common.cancel":"取消","common.cancelled":"已取消","common.select":"选择","common.update":"更新","common.mode":"IP模式","common.blacklistMode":"黑名单模式","common.whitelistMode":"白名单模式","common.edit":"编辑","common.cancelSelect":"取消选择","common.selected":"已选择","common.loadmore":"加载更多","common.username":"用户名","common.password":"密码","common.question":"密保问题","common.answer":"密保答案","common.commit":"提交","common.add":"新增","common.upload":"上传","common.delete":"删除","common.clear":"清除","common.action":"操作","common.deleteSuccess":"删除成功","common.deleteSuccessWithCount":"{sucCount}个文件删除成功,{errCount}个文件删除失败","common.deleteSure":"确认删除吗?","common.change":"修改","common.changeSuccess":"修改成功","common.check":"查看","common.return":"返回","common.unselect":"取消已选","common.noPermission":"无权限","common.tokenExpire":"登录状态过期","common.whatWillYouDo":"您要怎么做?","common.year":"年","common.month":"月","common.day":"日","common.continue":"继续","common.sureSaveChange":"是否保存修改?","common.monday":"星期一","common.tuesday":"星期二","common.wednesday":"星期三","common.thursday":"星期四","common.friday":"星期五","common.saturday":"星期六","common.sunday":"星期日","common.chooseUser":"选择用户","common.noAccess":"无访问权限","common.other":"其他","common.path":"路径","common.state":"状态","common.available":"可用","common.unavailable":"不可用","common.help":"帮助","useWhitePhotoGps":"参考了以下图片的GPS信息","help.howToWork":"此功能如何工作?","help.addGpsHelp":"比如：您在11点用单反相机拍摄了100张没有GPS信息的照片,又在临近时间【如当天12点】用手机拍摄了一张带有GPS信息的照片,您可以利用此功能将手机拍摄的照片的位置信息写入单反拍摄的一系列照片中,此功能仅支持JPEG格式。","security.sameIpOrigin":"IP同源检测","security.sameIpAlert":"客户端IP变更后Token立刻过期,可提升安全性,但在复杂网络条件下可能导致登录状态频繁过期,请根据实际情况决定是否开启,重启NasCab生效","security.blackDesc":"该模式下,黑名单中的IP无法访问","security.whiteDesc":"该模式下,只有白名单中的IP可以访问","security.ipFromatWrong":"IP格式不正确","security.addOne":"添加一个","security.description":"描述","security.removeFromBlackList":"从黑名单中移除","security.removeFromWhiteList":"从白名单中移除","security.blackList":"IP黑名单","security.whiteList":"IP白名单","security.login":"登录","security.changePwd":"修改密码","security.username":"用户名","type":"类型","security.time":"记录时间","security.client":"客户端","security.loginFail":"登录失败 ","security.timesIpBlock":" 次后,IP封禁 ","security.minutes":" 分钟","security.logs":"日志","security.twoStepsDesc":" 开启后,在本机以外的地方登录需要填写密保问题答案","notice.markAllAsRead":"全部标记已读","notice.deleteAll":"全部删除","notice.error":"错误","notice.info":"消息","private.fileWillDeleteForever":"文件将被永久删除","private.spaceInfo":"空间资料","private.shootTime":"拍摄时间","private.chooseExportPathFirst":"请先选择要导出的空间路径和目标路径","private.tokenExpired":"加密空间验证状态过期,请尝试重新进入","private.videoNoTransPlay":"加密空间中的视频由于格式原因无法支持实时转码,在原文件无法播放的情况下,您可以下载解密后的视频到本地进行播放","private.privateSpaceDescA":"加密空间用于加密并保存您的数据,AES加密保障数据安全","private.privateSpaceDescB":"每一个加密空间保存在独立的文件夹中,支持创建多个加密空间","private.deleteSpaceAlert":"确认删除加密空间吗?加密空间对应的文件夹不会被删除,您可以手动删除,如后续需要,可以通过\'导入加密空间\'功能对文件夹进行导入","private.addPrivateSpace":"添加加密空间","private.changeSpaceName":"修改空间名称","private.inputNewName":"输入一个新的空间名称","private.sureDeleteSpace":"确实要删除空间吗?","private.importPrivateSpace":"导入空间","private.importPrivateSpaceDes":"此功能用于导入您之前创建的加密空间","private.createPrivateSpace":"创建加密空间","private.spaceName":"空间名称","private.spaceFolder":"空间目录","private.spacePwd":"空间密码","private.newSpaceName":"导入后空间名称","private.rawSpacePwd":"原空间密码","private.rawSpaceFolderPath":"选择原加密空间所对应的文件夹","private.createDate":"创建日期","private.folderPath":"选择加密空间数据保存位置(所选文件夹必须为空)","private.inputSpacePwd":"输入空间密码","private.uploadFile":"上传文件","private.uploadFileToSpace":"上传文件到加密空间[上传期间不要关闭空间]","private.passwordInvalid":"空间密码过期,请尝试重新进入空间","private.exportSpaceData":"导出空间","private.exportFolder":"导出目标文件夹","private.exportTaskInLine":"导出任务已加入执行队列","private.exportSpaceDataDes":"此功能用于将加密空间的数据全部解密并导出到您指定的文件夹,即使配置文件损坏的空间也可以使用此功能导出数据","ws.indexState":"索引状态","ws.backupState":"备份服务状态","ws.indexing":"索引中...","ws.indexingDone":"索引完成","share.atLeastChooseOneUser":"至少选择一位用户","share.noChooseShareFolder":"您需要选择分享目录","share.WebDav":"WebDav","share.FTP":"FTP","share.shareDesc":"文件分享可以让您把本机文件夹分享给网络上的其他计算机访问,支持WebDav协议,Ftp协议","share.chooseFtpRootPath":"选择FTP根目录","share.ftpRootPath":"FTP根目录","share.urlExample":"访问url示例:","share.addShareFold":"添加共享文件夹","share.updateShareFold":"更新共享文件夹","share.pathSign":"共享路径标识符","share.fullWebDavUrl":"共享URL","share.pathSignPlaceHolder":"仅支持字母和数字","share.chooseShareFold":"选择共享文件夹","share.shareFold":"共享文件夹","share.userAlreadyInList":"用户已存在","share.choosePowerUser":"选择授权用户","share.selectedUserList":"已授权的用户列表","share.restartFileShareAlert":"此操作将重启文件共享服务,所有已有连接客户端将暂时中断,确认吗?","share.restartSuccess":"文件共享服务已重启","share.adminHasPowerDefault":"管理员账户默认拥有所有共享文件夹的访问权限","share.noShareAlert":"还没有共享文件夹,点击底部按钮创建一个","bakcup.noRecords":"无备份记录","backup.cannotUseRoot":"不能使用磁盘根目录,请选择一个文件夹","backup.backupDesc":"备份功能用于将您的本地文件夹备份到不同的磁盘或文件夹","backup.currentStat":"当前状态","backup.running":"正在执行备份...","backup.paused":"已暂停","backup.waiting":"即将执行备份任务...","backup.noRunning":"未在执行","backup.ifRunTask":"是否运行备份任务?","backup.ifStopTask":"是否停止备份任务?","backup.createTask":"创建新的备份任务","backup.orderSent":"指令已发送","backup.noTaskAlert":"还没有备份任务,点击底部按钮创建一个","backup.taskName":"任务名称","backup.backupRate":"备份频率","backup.oneTime":"一次","backup.everyDay":"每天","backup.everyWeek":"每周","backup.everyMonth":"每月","backup.backupDate":"备份日期","backup.lastBackupStat":"上次备份状态","backup.errorInfo":"错误信息","backup.lastBackupTime":"上次备份时间","backup.pleaseChooseBackupDate":"请选择备份日期","backup.pleaseChooseBackupTime":"请选择备份时间","backup.pleaseInputTaskName":"请输入任务名称","backup.backupTime":"备份时间","backup.backupPath":"备份文件夹","backup.targetPath":"目标文件夹","backup.youFileWillBeHere":"注意:备份为单向同步,每次备份任务执行时,源目录中不存在/已删除的文件,也将在备份目标文件夹中同步删除","backup.youFileWillBeHereB":"您的备份将存储在以下位置","backup.chooseWeek":"选择星期","backup.whichDayInMonth":"每月第几日备份","backup.choosePathWantBakcup":"选择要备份的文件夹","backup.addExclude":"添加排除项","backup.excludeList":"排除列表","backup.updateTask":"更新任务","backup.excludeExample":"支持通配符*,例如:xxA代表排除名字为xxA的所有文件和文件夹 *.mp4代表排除所有mp4文件 abc*代表排除所有abc开头的文件和文件夹","backup.chooseTargetPath":"选择目标文件夹","backup.backupSuccess":"备份成功","backup.backupFail":"备份失败","backup.sourceAndTargetPathCantEqual":"备份文件夹和目标文件夹不能相等或包含","backup.records":"备份记录","backup.copySize":"拷贝大小","backup.copyCount":"拷贝文件个数","backup.excludeCount":"排除文件数量","backup.failCount":"错误数量","backup.refreshStatus":"刷新任务状态","backup.copied":"已复制","backup.startTime":"备份开始时间","backup.endTime":"备份结束时间","backup.failList":"错误列表","header.changePwd":"修改密码","header.changeQuestion":"修改密保","header.twoStepsLogin":"两步验证","header.rawPassword":"旧密码","header.newPassword":"新密码","header.newPasswordConfirm":"确认新密码","header.oldPasswordIncorrect":"旧密码不正确","header.twoPasswordHaveToSame":"两次输入的新密码必须一致","header.changePasswordSuccess":"密码修改成功,需要重新登录","header.changeQuestionSuccess":"密保问题修改成功,请您牢记","header.rawQuestion":"原密保问题","header.newQuestion":"新密保问题","header.newAnswer":"新密保答案","header.okLogout":"确认退出账号吗?","header.logoutSuccess":"退出成功","question.petName":"我的宠物叫什么名字?","question.bornStreet":"我出生的街道叫什么?","question.houseNumber":"我家门牌号码是多少?","question.phoneNumber":"我的手机号码是多少?","question.schoolName":"我的小学名字是什么?","question.carType":"我的汽车是什么型号?","registerAdmin.firstUseAlertText":"您需要创建管理员账号用于管理您的NasCab,账号密码加密后保存在您的计算机上","registerAdmin.placeholderUsername":"请输入用户名","registerAdmin.placeholderPassword":"请输入密码","registerAdmin.placeholderQuestion":"输入密保问题,如:宠物名字/门牌号码?","registerAdmin.questionAndAnswerCantSame":"密保问题和答案不能一样","registerAdmin.uesrnameAndPwdCantSame":"用户名和密码不能相同","registerAdmin.placeholderAnswer":"请输入密保答案并牢记,用于找回密码","registerAdmin.btRegisterAdmin":"保存并继续","registerAdmin.labelUsername":"登录名称","registerAdmin.labelPassword":"登录密码","registerAdmin.labelEmail":"电子邮件","registerAdmin.usernameLengthLimit":"用户名长度至少需要2位","registerAdmin.passwordLengthLimit":"密码长度至少需要2位","registerAdmin.checkEmail":"请输入正确的电子邮件格式","registerAdmin.success":"管理员创建成功","registerAdmin.registerAdmin":"创建管理员账号","login.agree":"同意","login.chooseOtherServer":"选择其他服务器","login.privacy":"《隐私政策》","login.agreement":"《用户协议》","login.success":"登录成功","login.btLogin":"登录并继续","login.goLogin":"去登录","login.forgotPwd":"忘记密码?","login.getPwdBack":"找回密码","login.getPwdOnlyForAdmin":"此功能仅用于找回管理员密码,修改普通用户密码请登录管理员帐号后,在【用户管理】中修改","resetPwd.placeholderPassword":"请输入新密码","resetPwd.placeholderAnswer":"请输入密保问题答案","resetPwd.question":"密保问题:","resetPwd.answerIsWrong":"密保答案不正确","home.message":"消息","home.apps":"应用","home.status":"状态","home.quickAccess":"快捷功能","home.others":"其他应用","home.albumBackup":"相册备份","home.refreshBg":"背景","home.bgTask":"后台任务","home.haveNoRunningTasks":"没有正在执行的后台任务","home.sureDeleteBgTask":"确定要删除后台任务吗?","home.task":"任务","home.terminal":"终端工具","home.mine":"我的","home.cloudSyncActiveInfo":"联网同步激活信息","home.currentVersion":"当前版本","home.proCode":"激活码","home.endTime":"截止日期","home.renew":"延期","home.freeVersion":"免费版","home.proVersion":"专业版","home.backup":"文件备份","home.sharing":"文件分享","home.indexCount":"索引数量","home.indexing":"索引中","home.indexingComplete":"索引完成","home.mediaCount":"媒体数量","home.photoManage":"照片管理","home.movieManage":"影视管理","home.musicManage":"音乐管理","home.backupAndShare":"备份和共享","home.backupManage":"备份任务","home.shareManage":"共享管理","home.shareTemp":"快速分享","home.settingCenter":"配置中心","home.mobileSync":"手机同步","home.securityCenter":"安全中心","home.thumbnail":"缩略图","home.hardwareMonitor":"硬件监控","home.disk":"磁盘","home.RAM":"内存","home.upgradeToPro":"升级到专业版","home.fileBrower":"文件浏览","home.activeSuc":"激活成功","home.pleaseEnterCode":"请填写激活码","home.indexAlert":"只有生成缩略图后的文件,才会在照片和影视服务中显示","setting.howToBackup":"重装系统前如何备份数据?","setting.howToBackupContent":"将此目录({path})下的数据拷贝出来,重装系统并安装NasCab后,再将数据拷贝回原位置。","setting.noSetShowAllMenu":"不勾选代表显示所有菜单","setting.ddnsExplain":"DDNS用于将您的NasCab专属域名解析到您的动态公网IPV6/IPV4","setting.sourceFolderDeleteInBg":"索引删除将在后台进行,请您稍后刷新查看结果,在索引清除结束前,请不要添加新的来源文件夹","setting.defaultCert":"不填写时使用默认证书","setting.httpsCert":"HTTPS证书内容","setting.httpsKey":"HTTPS私钥内容","setting.autoLaunch":"开机启动","setting.autoLoginClient":"自动登录客户端","setting.autoShowWindow":"启动客户端时显示窗口","setting.account":"账户","setting.changeCachePath":"更换缓存目录","setting.reLaunchNasCab":"重启NasCab","setting.reLaunchNasCabAlert":"NasCab服务端即将重启,所有连接将暂时断开,是否确认重启?","setting.reLaunchNasCabConfirm":"重启指令已发送,请稍后再访问","setting.resetSystem":"系统重置","setting.downloadPackage":"下载安装包","setting.installationSoon":"即将开始安装...","setting.transcodeTmpPath":"转码临时目录","setting.userDataFolder":"默认数据目录","setting.resetSystemAlert":"所有数据库和缓存图片将被清除,所有用户也将被删除,下次使用您需要重新创建管理员账号,如确认重置,请您输入当前登录账号的密码","setting.crf":"H264编码CRF","setting.crfDesc":"CRF x264 编码器的默认质量设置。您可以设置介于1和51之间的值, 值越低视频质量越好, 但会导致文件体积增大和传输速度变慢。一般介于18-28之间。默认值为 23。","setting.cacheInfo":"缓存信息","setting.cacheCount":"缓存数量","setting.clearCacheAlert":"清除缓存会导致下次访问时重新生成,影响加载速度,如非必须释放磁盘空间,请勿清除","setting.databasePath":"数据库目录","setting.cachePath":"缓存目录","setting.cacheSize":"缓存大小","setting.clearCache":"清除缓存","setting.proSetting":"高级设置","setting.threadCount":"API线程数量","setting.threadCountHint":"提升并发速度,也会增加内存用量","setting.source.directoryMoved":"目录已经移动到其他位置?","setting.source.reChoose":"重新定位,原位置:","setting.security.ipBan":"IP封禁","setting.security.loginNeedAnswer":"两步登录","setting.securitySetting":"安全设置","setting.commonSetting":"通用设置","setting.chooseLanguage":"选择您的语言","setting.language":"语言","setting.photoSourceSetting":"照片来源","setting.photoSourceSettingAlert":"请选择您保存照片的目录,作为\'照片管理\'中内容的来源","setting.movieSourceSetting":"来源目录","setting.movieSourceSettingAlert":"请选择您保存影片的目录,作为“影视管理”中的内容的来源","setting.yourCurrentSources":"您当前设置的照片来源","setting.btAddSource":"新增来源文件夹","setting.ifDeletePath":"是否删除此目录?","setting.noSourceFolderSelected":"您当前还没有添加任何来源文件夹","setting.folderIsNotExist":"文件/文件夹已不存在","setting.userManage":"用户管理","setting.basePort":"基础服务端口[HTTP]","setting.basePortHttps":"基础服务端口[HTTPS]","setting.webDavPort":"WebDav服务端口","setting.FTPPort":"FTP服务端口","setting.transFlvPort":"推流转码服务端口","setting.saveSuccessRestartValid":"保存成功,部分功能需重启客户端生效","setting.saveSuccess":"保存成功","setting.saveSuccessRestart":"保存成功,重启客户端生效","setting.portSetting":"端口设置","setting.videoCodecSetting":"视频转码设置","setting.photoFuncsSetting":"照片管理功能设置","setting.videoSubtitleFontSize":"字幕放大倍率","setting.videoCoder":"视频编解码器","setting.ifPortInUserWillAdd":"如果设定的端口被其他程序占用,会自动向后顺延","setting.changeCachePathAlert":"缓存目录修改后,需要重启客户端才能生效,原缓存数据需要您手动删除,下次访问图片视频等将重新实时生成缩略图缓存,速度较慢,非必要情况不建议您修改","user.updateUserInfo":"更新用户信息","user.addNewUser":"添加新用户","user.noUserToChoose":"无可选用户","user.subCountNum":"最大子用户数量","user.admin":"管理员","user.commonUser":"普通用户","user.logout":"登出","user.powerPhoto":"照片权限","user.powerMovie":"影视权限","user.powerMusic":"音乐权限","user.powerBooks":"图书权限","user.powerFolder":"目录权限","user.addFolderPowerPath":"添加文件浏览目录权限","user.selectImpowerPath":"选择要授权给用户路径","user.powerSet":"权限","user.goToSetSourcePath":"没有任何来源目录","user.haveAllPower":"拥有全部权限","user.sureDeleteUser":"确定删除用户吗?此操作不可恢复!","user.hadSameUsername":"已有同名用户存在","user.addPhotoPowerPath":"添加照片来源授权目录","user.addMoviePowerPath":"添加影视来源授权目录","user.addMusicPowerPath":"添加音乐来源授权目录","user.addBookPowerPath":"添加图书来源授权目录","user.cancelPathPower":"取消目录授权","user.sureCancelPathPower":"确定取消用户对此目录的所有权限吗?","photo.camera":"相机型号","photo.help":"空格键:播放视频/Livephoto 左右键:切换上一张/下一张 Del键:放入回收站","photo.cover":"裁切","photo.contain":"缩放","photo.addSourceAlert":"将在后台对来源目录进行扫描以及生成缩略图,稍后可在首页查看进度,请耐心等待。","photo.aiFaceMinPhotoCount":"照片数量低于多少时隐藏人物","photo.changePeople":"人物变更","photo.changePeopleAlert":"这些照片属于谁?","photo.library":"照片合集","photo.solar":"公历","photo.lunar":"农历","photo.leftSimilarGroupCount":"还有{count}组重复照片等待处理","photo.createAlbumByFolder":"以文件夹创建相册","photo.sourcePathUnusable":"来源目录已不可用,请检查{path}","photo.setFacePoster":"设置为相册封面","photo.waitDealCount":"待处理数量:{count}","photo.waitCompareFaceCount":"正在进行人脸比对,剩余数量:{count}","photo.indexingNoAi":"照片索引中,暂停处理AI识别,将在索引结束后继续","photo.removeFromFace":"从人脸相册移出","photo.photoCount":"{photoCount}张照片","photo.andriodPrimaryPlayer":"安卓首选播放器设置","photo.onlySupportPhoto":"只支持修改JPG格式照片","photo.mergePerson":"合并人物","photo.mergePersonAlert":"确认合并这些人物吗?","photo.atleastTwoPersonMerge":"至少选择两个面部信息进行合并","photo.changeName":"修改名字","photo.personNameTooLong":"人物名字过长[小于50个字符]","photo.inputPersonName":"输入人物的名字","photo.deletePerson":"删除这个人物","photo.noPersonPlaceHolder":"将在空闲时自动为您扫描照片中的人物","photo.sameNameMerged":"具有相同名字的人物将被合并","photo.unnamed":"未命名","photo.sureDeletePerson":"确定从【人物】中删除吗?","photo.changeUserName":"将人物的名字改为【{name}】,确定吗?","photo.classes":"在空闲时自动为您的照片分类","photo.tag":"标签","photo.enableClass":"启用照片智能分类","photo.enableSimilarPhoto":"启用重复照片扫描","photo.enableAiFace":"启用人脸识别","photo.aiClasses":"物体","photo.aiFace":"人物","photo.aiSimilarPhoto":"照片去重","photo.noSimilarPhoto":"将在空闲时为您扫描重复照片","photo.checkKeepPhoto":"勾选要保留的照片","photo.keepAll":"保留全部照片","photo.moveSimilarToTrash":"移动重复照片到回收站","photo.deleteAlbum":"删除相册","photo.gpsAddSuccess":"位置添加成功","photo.gpsAdd":"GPS补充","photo.noPendingPhotos":"没有待处理的照片","photo.sureSkipAddGps":"确认不为这些照片添加位置吗?","photo.sureAddGps":"确认将当前选择的位置添加到这些照片吗?","photo.searchPlace":"搜索地点","photo.restorePosition":"恢复到推荐位置","photo.skipAddGps":"跳过这批照片","photo.wirteGps":"将位置写入勾选照片","photo.confirmPhotoLocation":"确认照片拍摄位置(点击地图可以修改)","photo.dealListForAddGps":"勾选要补充位置信息的照片","photo.noCanAddGpsPhoto":"未找到可以补充位置的照片","photo.addPhotoGpsInfo":"补充照片位置","photo.recentCheck":"最近","photo.searchPlaceHolder":"根据文件名和设备搜索","photo.whichAlbumWanToAdd":"要添加到哪个相册?","photo.addToAlbum":"添加到相册","photo.youHaveNoAlbum":"您还没有相册,快去创建一个吧","photo.addAlbumSuc":"已经成功加入相册","photo.removeFromAlbum":"从相册移出","photo.removeFromAlbumSuc":"已从相册移出","photo.changePosition":"是否修改照片位置信息,此操作将对照片exif进行修改,是否确认?","photo.all":"全部","photo.tools":"工具箱","photo.confirmPutInTrash":"放入回收站吗?","photo.putInTrash":"放入回收站","photo.photo":"照片","photo.video":"视频","photo.album":"相册","photo.image":"图片","photo.ordinaryAlbum":"普通相册","photo.smartAlbum":"智能相册","photo.myAlbum":"我的相册","photo.holidays":"节日相册","photo.folder":"文件视图","photo.map":"地图","photo.selectPhotoTakeTime":"选择拍摄时间","photo.confirmChangePhotoTime":"确认修改拍摄时间?","photo.footprint":"我的足迹","photo.fileCount":"个项目","photo.5km":"5km","photo.10km":"10km","photo.80km":"80km","photo.300km":"300km","photo.near":"附近","photo.timeOrder":"时间轴方向","photo.timeline":"时间轴","photo.privateSpace":"加密空间","photo.stillIndexTryLater":"正在为您扫描文件,请稍后再试","photo.sureChangeNewPhoto":"改动将保存为新的文件,保存吗?","photo.saveSucReturnToCheck":"保存成功,请返回到列表查看","photo.setSourceFolder":"设置来源目录","photo.noSourceSetAlert":"您没有设置来源目录,如需使用照片服务,请先设置来源目录","movie.creator":"制作人","movie.crew":"演职人员","movie.myMedia":"我的媒体","movie.newTv":"最新电视剧","movie.newMovie":"最新电影","movie.defaultRaion":"首选转码分辨率","movie.tvDeleteSure":"您正在删除电视剧,电视剧所在的文件夹将被整体删除,是否确认?","movie.tmdbLinkError":"TMDB连接失败","movie.tmdbLinkSuc":"TMDB连接成功","movie.tmdbKeyAlert":"在https://www.themoviedb.org申请,如不填写将使用默认Token","movie.tmdbUrlAlert":"请求TMDB数据的API地址,通常是https://api.tmdb.org或https://api.themoviedb.org,如果您不知道这是什么意思,请不要修改","movie.infoDatabase":"首选刮削数据库","movie.transcodeSetting":"转码设置","movie.subtitleSetting":"字幕设置","movie.playSetting":"播放设置","movie.longPressSpeed":"长按播放速率","movie.videoInfoSetting":"影音信息设置","movie.score":"评分","movie.primaryLanguage":"首选字幕语言","movie.sureDeletePath":"要删除路径吗?","movie.library":"我的合集","movie.atleastOnePath":"至少选择一个路径","movie.libraryAuthUser":"能看到此合集的子用户","movie.libraryUserAlert":"需在用户管理中同步授权相应的来源路径,子用户才可以看到相应内容","movie.libraryIncludePath":"合集包含的来源路径","movie.favorite":"收藏","movie.lastTime":"上次看到","movie.posterSize":"海报尺寸","movie.useInfo":"使用此信息","movie.addCover":"添加封面","movie.deleteCover":"删除封面","movie.noSourceSetAlert":"您没有设置来源目录,如需使用影片服务,请先设置来源目录","movie.selectSubtitleInServer":"服务器上的字幕","movie.subtitleNoSupport":"只支持.ass和.srt字幕","movie.coverFileNoSupport":"只支持jpeg和png","movie.pleaseInputCollectionName":"请输入名称","movie.pleaseCompleteFilterInfo":"请完善筛选条件","movie.yearLimit":"年份必须在1800-2200之间","movie.deleteNfoFirst":"如修改匹配信息,请先删除nfo文件","setting.addExcludePathPlaceholder":"输入排除关键字,如:/excludeDir","setting.addExcludePath":"添加排除路径","setting.scan":"扫描变动","setting.other":"其他设置","setting.excludePath":"路径排除","setting.excludeFilename":"文件名排除","setting.excludePathAlert":"路径中含有这些关键字的将会被隐藏","setting.excludeFilenameAlert":"文件名中含有这些关键字的将会被隐藏","photo.filterAlubm":"条件相册","photo.filterInfo":"筛选条件","photo.atleastOnefilterInfo":"至少添加一个筛选条件","photo.goToSet":"去设置","photo.genningTinyImage":"生成缩略图...","photo.doingAiFaces":"正在进行人物识别...","photo.doingAiClasses":"正在进行AI分类...","photo.doingPhash":"正在扫描重复照片...","movie.scrap":"重新刮削","movie.scrapAlert":"将对此媒体进行重新刮削nfo和封面等信息,原有nfo文件和封面等将被清除,确定吗?","movie.scrapFailAlert":"刮削失败,未找到媒体信息,请尝试手动搜索","movie.clearNfo":"清理nfo文件和封面","movie.clearNfoAlert":"将删除文件夹下所有nfo文件和封面图片,并重新从网络刮削,是否确认?","movie.conditionFilter":"条件筛选","movie.year":"上映年份","movie.filterValue":"条件值","movie.smartCollectionExample":"例如:您希望筛选文件名中包含\'abc\'的文件,您可以在下方选择 [\'文件名\'] [\'包含\'] [\'abc\'] ","movie.smartCollectionExampleB":"例如:您希望筛选年份大于2000年的的文件,您可以在下方选择 [\'年份\'] [\'大于\'] [\'2000\'] ","movie.smartCollectionExampleC":"根据电影信息筛选需要在来源文件夹配置处打开【电影信息匹配开关】","WhereToMove":"移动到哪?","movie.history":"观看历史","movie.addToCollection":"添加到影集","movie.noCollection":"还没有影集,去创建一个吧","movie.addToCollectionFolderAlert":"将文件夹下所有视频移入影集?","movie.removeFromCollection":"从影集移出","movie.addCollection":"添加影集","movie.addSmartCollection":"添加智能影集","movie.editCollection":"修改影集","movie.addCollectionPlaceholder":"输入影集名称","movie.collectionIsNeedPwd":"访问需要密码","movie.collectionPwdPlaceholder":"输入影集访问密码","movie.addCollectionAlert":"添加影集,然后将影视库中或文件视图中的电影移入影集【右键菜单触发】,影集中的文件将不再显示于影视库中","movie.addLibraryAlert":"将多个不同来源文件夹【或来源文件夹的子文件夹】中的内容集中显示","movie.addLibrary":"添加合集","movie.addLibraryPlaceholder":"输入合集名称","movie.addSmartCollectionAlert":"根据条件筛选电影,电影将自动归纳到智能影集中,智能影集中的电影将仍然显示在影视库","movie.clearHistory":"清空观看历史","movie.collection":"普通影集","movie.smartCollection":"智能影集","movie.mediaType":"媒体类型","movie.parsingSubtitle":"正在解析字幕...","movie.movieSet":"影视设置","movie.relatedPictures":"文件夹内图片","movie.indexDeleted":"索引已删除","movie.movieFilter":"筛选电影","movie.showMatchName":"影视库显示自动匹配的电影名","movie.subtitlePreGen":"字幕预提取","movie.subtitlePreGenAlert":"将视频中的字幕轨预先提取到缓存文件夹,播放的时候可以极大提升字幕加载速度","movie.subtitlePrenGenClose":"可在影视管理->设置中关闭","movie.useSameFolderPoster":"使用同文件夹下的图片作为海报","movie.selectSourceFolder":"筛选来源文件夹","movie.selectLanguage":"电影语言","movie.selectRegion":"发行地区","movie.selectGenres":"电影类型","successAndRefresh":"操作成功,请稍后刷新页面查看结果","movie.privateVideoCannotSeek":"加密空间的视频以流的形式实时解密,暂不支持调节进度","movie.confirmMovieInfo":"使用[{movieName}]的信息吗?","album.youHaveNoAlbumYet":"您还没有相册,点击上方按钮可以添加","movie.confirClearMovieInfo":"电影或电视剧相关的nfo文件,封面文件将被删除,是否确认?","movie.matchMovieInfo":"刮削搜索","movie.channelLayout":"声道布局","movie.channels":"声道","movie.movie":"电影","movie.tvdrama":"电视剧","movie.streamVideo":"视频","movie.otherTv":"集","movie.setAsTv":"标记为电视剧","movie.setAsMovie":"标记为电影","movie.setAsTvAlert":"标记为电视剧后,同文件夹下的视频将合并显示","movie.streamAudio":"音频","movie.mediaInfo":"视频信息","movie.recentPlay":"最近播放","movie.movieName":"名称","movie.actors":"演员","movie.director":"导演","movie.alias":"又名","movie.genres":"风格","movie.resources":"资源类型","movie.enableInfoMatch":"自动从网络刮削媒体信息和封面(.nfo文件)","movie.language":"语言","movie.storyline":"简介","movie.releaseDate":"上映日期","movie.regions":"地区","movie.playRate":"播放速率","movie.continuePlay":"上次播放到{lastTime},是否继续播放?","movie.play":"播放","movie.audioChannel":"声道数","movie.noOtherChannel":"没有其他声道可以选择","movie.alreadChangeChannelTo":"已将声道数量切换为:{channels}","movie.nascabPlayer":"NasCab播放器播放","movie.browserPlayer":"浏览器播放器播放","movie.whatsDifferent":"有什么区别?","movie.differentExplain":"在某些安卓浏览器上播放源文件时,浏览器会强行接管视频,导致您无法选择音轨和字幕,选择NasCab播放器为转码播放,使用浏览器播放器会尝试播放源文件,推荐使用Chrome手机版或微信内置浏览器来避免可能出现的兼容性问题","movie.noMovieInfoFound":"未找到电影信息","movie.upgradeAutoMatch":"升级版本,自动匹配电影海报和简介","movie.playBegain":"从头播放","movie.resumePlay":"继续播放","movie.movieHome":"影视库","movie.viewFolder":"文件视图","movie.createTime":"创建时间","movie.filename":"文件名","movie.matchName":"匹配名","movie.listView":"列表","movie.listViewView":"列表视图","movie.gridView":"网格","movie.bitrate":"码率","movie.resolution":"分辨率","movie.displayRatio":"视频比例","movie.codecName":"格式","movie.frameRate":"帧率","movie.pixFmt":"像素格式","movie.subtitle":"字幕","movie.chooseSubtitle":"选择字幕","movie.chooseAudio":"选择音轨","movie.audioIndex":"音轨","movie.continueWatch":"上次看到","movie.openDuration":"片头长度（秒）","movie.endDuration":"片尾长度（秒）","movie.sikpOpenEnd":"自动跳过片头片尾","movie.skippingMovieTitle":"正在跳过片头...","movie.skippingMovieEnd":"正在跳过片尾...","movie.searchPlaceHolder":"输入文件名进行搜索","movie.selectLocalSubtitles":"选择本地的字幕","album.setPhotoAsCover":"是否将图片设置为封面?","album.changeAlbumName":"修改相册名字","album.noAlubmDesc":"智能相册可以根据指定地图区域,智能日期,设备型号等为您筛选照片","album.noOrdinaryAlubmDesc":"普通相册中的照片由您自己管理,您可以将时间轴中的照片添加到相册中","album.addAAlbum":"添加相册","album.addASmartAlbum":"添加智能相册","album.addAOrdinaryAlbum":"添加普通相册","album.geoAlbum":"地理围栏","album.geoAlbumDetail":"选定区域内拍摄的照片","album.aiDateAlbum":"智能日期","album.fixDate":"固定日期","album.sectionDate":"区间日期","album.aiDate":"智能日期","album.dateType":"日期类型","album.memoryDate":"纪念日","album.holidays":"节假日","album.modeAlbum":"设备型号","album.everyYear":"每年","album.everyMonth":"每月","album.January":"1月","album.February":"2月","album.March":"3月","album.April":"4月","album.May":"5月","album.June":"6月","album.July":"7月","album.August":"8月","album.September":"9月","album.October":"10月","album.November":"11月","album.December":"12月","album.chooseDate":"请选择一个日期","album.chooseDateSection":"请选择日期区间","album.albumName":"相册名字","album.pleaseInputAlbumName":"请输入相册名字","album.aiDateExample":"例如：您的生日是1月1日,您可以选择\'每年1月1日\',这样,每年1月1日拍摄的照片将位于此相册中","album.fixDateExample":"例如：您可以设置显示某个固定日期,或某个固定日期之前或之后的照片","album.sectionDateExample":"例如：您可以设置某个日期区间,在此区间拍摄的照片都会显示在此相册","album.geoAlbumExample":"在地图上圈选一块区域,在此区域内拍摄的照片将会出现在相册中,将地图拖动到您需要的区域,然后点击\'开始圈选\'进行区域选择,点击地图并拖动鼠标进行圈选","album.modeAlbumExample":"输入一个设备型号,此设备拍摄的照片都会出现在相册中","album.mode":"设备型号","album.pleaseInputMode":"请输入设备型号","album.selectArea":"开始圈选","album.clearSelectArea":"清除已选","album.takePhotoDate":"拍摄日期","album.pleaseSelectArea":"请选择一个区域","album.eq":"当日","album.gt":"之后","album.lt":"之前","album.createAlbum":"创建相册","file.multiDownloadAlert":"是否下载多个文件？使用浏览器时,请允许弹出窗口,否则下载可能失败,文件夹将以zip格式进行下载","file.cannotCreateHere":"无法在当前位置创建","file.sureClearLog":"要清除所有日志吗?","file.inputPath":"输入路径","file.deletePath":"删除路径","file.addLocalPath":"新增自定义路径或盘符","file.addLocalPathAlert":"例如: G:\\\\ 或  /A/B/C 等","file.zip":"压缩","file.ziped":"已压缩","file.unzip":"解压缩","file.zipAlert":"文件/文件夹将被压缩为zip格式,是否确认?","file.showType":"展示方式","file.switchShowType":"切换展示方式","file.fileCount":"{count}个文件","file.cancelMutipleSelect":"取消多选","file.recordSearchPlaceholder":"路径/文件名/用户名","file.operator":"操作用户","file.maxShowCountAlert":"最多显示6000个文件","file.paste":"黏贴","file.openInNewWindow":"在新窗口打开","file.failReason":"失败原因","file.stateStarted":"已开始","file.stateStoped":"已终止","file.sourcePath":"源路径","file.targetPath":"目标路径","file.operationType":"操作类型","file.attr":"属性","file.inputNewFileName":"输入新的名称","file.rootPath":"根目录","file.size":"大小","file.copy":"复制","file.copied":"{count}个文件已复制","file.cutted":"{count}个文件已剪切","file.cut":"剪切","file.cuttedSize":"已剪切","file.cutToHere":"剪切 \'{path}\' 到这里吗? ","file.copyToHere":"复制 \'{path}\' 到这里吗? ","file.canNotCopyToHere":"您不能复制文件到当前目录","file.sourceAndTargetSame":"当前位置已存在相同名称的文件/文件夹","file.fileDeleteSure":"文件将被彻底删除,无法恢复,是否确认?","file.location":"路径位置","file.modifyTime":"修改时间","file.accessTime":"访问时间","file.cannotCreate":"无法在这个位置创建文件夹","file.putInTrashSuc":"已放入回收站","file.putOutTrashSuc":"已移出回收站","file.deleteSuc":"文件已删除","file.fileDeleteSuc":"个文件已被成功删除","file.trashBin":"回收站","file.delete":"删除","file.deleteFail":"删除失败,文件可能正在被使用","file.deleteAll":"全部删除","file.restore":"恢复","file.restoreAll":"全部恢复","file.doAllRestore":"所有文件全部恢复吗?","file.doAllDelete":"所有源文件将被删除,删除后不可恢复,确认吗?","file.confirmDelete":"文件删除后不可恢复,确认吗?","file.selectIt":"选中","file.goDetail":"查看详情","file.deleteForever":"彻底删除","file.fileExifInfo":"文件元信息","file.resetTinyImg":"重置缩略图","file.chooseFolder":"选择文件夹","file.clickChooseFolder":"点击选择文件夹","file.returnLastPath":"返回上一级","file.currentPath":"当前目录","file.doubleClickFolderEnter":"双击文件夹可进入下一级","file.resetTinyImgSuccess":"缩略图重置成功,下次刷新将使用最新生成的缩略图","file.noSelectAnything":"您没有选择任何路径","file.sureSelectPath":"是否确认选择路径","file.sourcePathRoo":"来源文件夹根目录","file.fileList":"文件列表","file.collect":"收藏","file.recent":"最近","file.logs":"日志","file.deleteAllCollect":"清空收藏夹吗?","file.deleteAllRecent":"清空最近访问吗?","file.cancelCollect":"取消收藏","file.deleteRecent":"删除此条记录","file.newFolder":"新建文件夹","file.check":"查看","file.collectSuccess":"收藏成功","file.deleteFromRecent":"从‘最近’中移除","file.clearCollect":"清除收藏夹","file.clearRecents":"清除最近浏览","file.sureClearCollect":"确认清空收藏夹吗?","file.sureClearRecents":"确认清空最近浏览记录吗?","file.inputNewFolderName":"输入新文件夹名称","file.noFolderSelected":"您还没有选中任何文件夹","file.noAccessPower":"缺少文件夹写入/读取权限","video.helpContent":"空格键:切换暂停播放\\nCtrl:按住加速播放\\n方向键[左右]:快进快退","video.speedingPlay":"加速播放中...","video.rawPlayAlert":"如遇播放异常,请切换分辨率转码播放","video.closeSubtitle":"关闭字幕","video.originalBitrate":"原码率","video.volumn":"音量","video.duration":"时长","video.errorRetryPlay":"播放似乎出现问题,是否需要重新加载?","video.netErrorRetryPlay":"网络连接出现错误,是否重试?","video.subtitleUploadFailed":"字幕上传失败","video.code_raw":"原片","video.noMoreVideo":"没有更多视频","video.autoPlayOn":"自动播放已打开","video.autoPlayOff":"自动播放已关闭","video.videoIsNotSupportCoding":"当前浏览器不支持的[视频/音频/字幕]编码","video.autoTranscodeStart":"原文件编码不支持,已为您自动转码播放","video.playError":"播放出错","video.whatIsBitate":"码率即比特率,即每秒钟传输的数据量,码率越高越清晰,消耗的网络流量越大,转码服务器的运算量也越大,请根据视频实际情况进行选择","video.transcodingIsNotOnline":"转码服务没有启动,请检查客户端状态","state.systemState":"系统状态","state.natAlert":"在没有公网IP的情况下,您可以通过设置内网穿透,从外网访问您的NasCab","state.ddnsAlert":"如果您有公网IP,可以通过设置DDNS和端口映射从外网访问您的NasCab","state.systemInfo":"系统信息","state.appRootPath":"NasCab安装目录","state.run":"运行中","state.netStateNoFound":"未找到网络信息","state.checkIfThePortInUse":"请检查端口是否被其他服务占用","state.runPort":"运行端口","state.apiServer":"基础服务","state.fileShare":"文件共享","state.lanUrl":"局域网访问地址","state.ipv6url":"IPV6访问地址","state.ipv6alert":"在您的网络和路由器都支持并开启ipv6的情况下,ipv6访问地址将在这里显示","state.serverState":"服务状态","state.rtmpServer":"实时推流服务","state.flvServer":"实时转码服务","state.error":"未运行","state.port":"端口","state.lanIp":"局域网访问地址","state.mem":"内存","state.os":"系统","Crop":"裁剪","ZoomIn":"放大","ZoomOut":"缩小","Hand":"拖拽","History":"历史记录","DeleteAll":"全部删除","Delete":"删除","Undo":"撤销","Redo":"反撤销","Reset":"重置","Flip":"镜像","Rotate":"旋转","Draw":"画","Shape":"形状标注","Icon":"图标标注","Text":"文字标注","Mask":"遮罩","Filter":"滤镜","Bold":"加粗","Italic":"斜体","Underline":"下划线","Left":"左对齐","Center":"居中","Right":"右对齐","Color":"颜色","Text size":"字体大小","Custom":"自定义","Square":"正方形","Apply":"应用","Cancel":"取消","Flip X":"X 轴","Flip Y":"Y 轴","Range":"区间","Stroke":"描边","Fill":"填充","Circle":"圆","Triangle":"三角","Rectangle":"矩形","Free":"曲线","Straight":"直线","Arrow":"箭头","Arrow-2":"箭头2","Arrow-3":"箭头3","Star-1":"星星1","Star-2":"星星2","Polygon":"多边形","Location":"定位","Heart":"心形","Bubble":"气泡","Custom icon":"自定义图标","Load Mask Image":"加载蒙层图片","Grayscale":"灰度","Blur":"模糊","Sharpen":"锐化","Emboss":"浮雕","Remove White":"除去白色","Distance":"距离","Brightness":"亮度","Noise":"噪音","Color Filter":"彩色滤镜","Sepia":"棕色","Sepia2":"棕色2","Invert":"负片","Pixelate":"像素化","Threshold":"阈值","Tint":"色调","Multiply":"正片叠底","Blend":"混合色","setting.custom":"个性化","setting.vacuumDb":"碎片清理","setting.vacuumDbAlert":"清理数据库碎片可以压缩数据库中未使用空间,减少数据库文件大小,是否立刻清理?","setting.aiFaceResetAlert":"重置人脸识别后,将重新触发人脸扫描,现有扫描结果将清空,是否确认?","setting.similarPhotoResetAlert":"重置将触发重新扫描重复照片,是否确认?","setting.systemSetting":"系统设置","setting.resetIndex":"重置索引","setting.resetIndexAlert":"此功能将删除所有已经扫描的索引数据,并清除来源文件夹记录,非必要情况下无需使用此功能,确认重置吗?","setting.resetTinyImage":"重置缩略图","setting.resetTinyImageAlert":"此功能将删除所有已经生成的缩略图,并重新生成,非必要情况下无需使用此功能,确认重置缩略图吗?","login.unlockScreen":"解锁屏幕","login.checkConChannel":"选择连接通道","login.saveUsernamePwd":"下次自动登录","login.forgetAnswer":"我忘记了密保答案和用户名","login.forgetAnswerAlert":"如果您忘记了密保答案和用户名,可以通过删除NasCab本地数据库来重置,数据库目录位于用户数据目录下的database文件夹,默认位置是:{dbPath}","upload.clearRecord":"清空上传记录","upload.onFileNameConflict":"当文件名冲突","upload.skip":"跳过","upload.over":"覆盖","upload.uploadType":"上传类型","upload.files":"文件","upload.folder":"文件夹","upload.rename":"重命名","upload.filenameTooLong":"文件名字长度超过限制","upload.dropFilesUpload":"点击或拖动文件上传","upload.selectFile":"选择文件","upload.selectFolder":"选择","upload.selectTargetFolder":"选择上传目标文件夹","upload.targetFolder":"上传目标文件夹","upload.noSelected":"未选择","upload.upload":"上传","upload.quickUpload":"快速上传","upload.uploadFail":"上传失败","upload.recentUseFolder":"最近使用","upload.useRecentFolder":"使用{recentFolder}作为上传文件夹吗?","coco.person":"人们","coco.bicycle":"自行车","coco.car":"车辆","coco.motorcycle":"摩托车","coco.airplane":"飞机/飞行物","coco.bus":"巴士","coco.train":"火车","coco.truck":"卡车/越野车","coco.boat":"船","coco.traffic light":"交通灯","coco.fire hydrant":"消防栓","coco.stop sign":"停车标志","coco.parking meter":"记时器","coco.bench":"长椅","coco.bird":"鸟/飞行物","coco.cat":"猫科动物","coco.dog":"犬科动物","coco.horse":"马/骆驼","coco.sheep":"羊","coco.cow":"牛","coco.elephant":"大象","coco.bear":"野生动物","coco.zebra":"斑马","coco.giraffe":"长颈鹿","coco.backpack":"背包","coco.umbrella":"伞","coco.handbag":"手提包","coco.tie":"领带","coco.suitcase":"箱子/盒子","coco.frisbee":"飞盘","coco.skis":"滑雪","coco.snowboard":"滑雪板","coco.sports ball":"球类","coco.kite":"风筝","coco.baseball bat":"棒球棒/棒球","coco.baseball glove":"棒球手套","coco.skateboard":"滑板","coco.surfboard":"冲浪/板","coco.tennis racket":"网球拍","coco.bottle":"瓶子","coco.wine glass":"酒杯","coco.cup":"杯","coco.fork":"叉","coco.knife":"刀","coco.spoon":"勺","coco.bowl":"碗碟/菜肴","coco.banana":"香蕉/月牙形","coco.apple":"苹果","coco.sandwich":"夹心面包/三明治","coco.orange":"橙","coco.broccoli":"西兰花/花椰菜","coco.carrot":"胡萝卜","coco.hot dog":"热狗/面包","coco.pizza":"披萨/馅饼","coco.donut":"面包圈/甜甜圈","coco.cake":"蛋糕/甜点","coco.chair":"椅子/凳子","coco.couch":"沙发/长凳/台","coco.potted plant":"盆栽/植物","coco.bed":"床/岩层","coco.dining table":"聚餐","coco.toilet":"马桶/坛","coco.tv":"电视/画框","coco.laptop":"笔记本/显示器","coco.mouse":"鼠标","coco.remote":"遥控","coco.keyboard":"键盘","coco.cell phone":"手机","coco.oven":"烤炉","coco.toaster":"面包炉","coco.sink":"水槽","coco.refrigerator":"冰箱","coco.book":"书/纸","coco.clock":"钟表","coco.vase":"花瓶","coco.scissors":"剪刀","coco.teddy bear":"玩偶","coco.hair drier":"吹风机","coco.toothbrush":"牙刷"}')},a481:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvBAMAAAB5vJNGAAAAMFBMVEUAAAB6eIl5eIqmpbWbmqujobF4eIerq7utq7uXlqeWlqZ5eImtrLygn6+TkqOGhZYj/bzXAAAAC3RSTlMAgL/fwKBAQIDfcJ6L+X8AAAFtSURBVGje7dktbsMwGMZxdyCkZCUlYaUlOUKOkDOMluQIu9IKJk1WW2BHqaZ30g6wI2w3GJhKZhBXsuX3kfrx/GHAT4+sGNmEqqe1Te3NZLSx6e0+092ZzYE/0uE6C5YmGbZ5sNM9iQBLmwjPc2Gv+k8EOHlynQ17FCwtCvYoWFoU7FGwtCjYo2DpUPCAgqVDwQMKlg4Fv6Ng6VHwiIKlR8EjCpYeBY8oWHoUPKJgh4KlQcEOBUuDgh0KlgYFOxQsDQp2OvBeJrUoeEDB0mnAhwg8aMBWInUa8Fdssgb8G52sAO9i8FEBPkis53LYfkcnK8D7hMkBLpaPBXCQfxImB7iwR8I3D2/N+R4IE757ePHf0pyqwoda6Uq/TGYSJkyYMGHChAkTJkyYMGHChAkTJkyYMOErgu3q1PrSn4QIEyZMmDBhwoQJEyZ87/DmwmEzaY6CKxX31UyrdY84NFNwtyZWrTw4tChkV0sT+gONvY6BCGaYFAAAAABJRU5ErkJggg=="},a4fd:function(e,t,i){},a5cd:function(e,t,i){e.exports=i.p+"img/16.4bbdcd2d.jpg"},a849:function(e,t,i){"use strict";i("5010")},aa62:function(e,t,i){i("14d9"),E.stringToBytes=(E.stringToBytesFuncs={default:function(e){for(var t=[],i=0;i<e.length;i+=1){var s=e.charCodeAt(i);t.push(255&s)}return t}}).default,E.createStringToBytes=function(l,c){var n=function(){function e(){var e=t.read();if(-1==e)throw"eof";return e}for(var t=x(l),i=0,s={};;){var n=t.read();if(-1==n)break;var r=e(),a=e(),o=e();s[String.fromCharCode(n<<8|r)]=a<<8|o,i+=1}if(i!=c)throw i+" != "+c;return s}(),r="?".charCodeAt(0);return function(e){for(var t=[],i=0;i<e.length;i+=1){var s=e.charCodeAt(i);s<128?t.push(s):"number"==typeof(s=n[e.charAt(i)])?(255&s)==s?t.push(s):(t.push(s>>>8),t.push(255&s)):t.push(r)}return t}},o=8,y={L:a=1,M:0,Q:3,H:r=2},l=0,c=1,u=2,h=3,d=n=4,p=5,f=7,s=[[],[m=6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],(i={}).getBCHTypeInfo=function(e){for(var t=e<<10;0<=D(t)-D(1335);)t^=1335<<D(t)-D(1335);return 21522^(e<<10|t)},i.getBCHTypeNumber=function(e){for(var t=e<<12;0<=D(t)-D(7973);)t^=7973<<D(t)-D(7973);return e<<12|t},i.getPatternPosition=function(e){return s[e-1]},i.getMaskFunction=function(e){switch(e){case l:return function(e,t){return(e+t)%2==0};case c:return function(e,t){return e%2==0};case u:return function(e,t){return t%3==0};case h:return function(e,t){return(e+t)%3==0};case d:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case p:return function(e,t){return e*t%2+e*t%3==0};case m:return function(e,t){return(e*t%2+e*t%3)%2==0};case f:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){for(var t=O([1],0),i=0;i<e;i+=1)t=t.multiply(O([1,g.gexp(i)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case a:return 10;case r:return 9;case n:case o:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case a:return 12;case r:return 11;case n:return 16;case o:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case a:return 14;case r:return 13;case n:return 16;case o:return 12;default:throw"mode:"+e}}},i.getLostPoint=function(e){for(var t=e.getModuleCount(),i=0,s=0;s<t;s+=1)for(var n=0;n<t;n+=1){for(var r=0,a=e.isDark(s,n),o=-1;o<=1;o+=1)if(!(s+o<0||t<=s+o))for(var l=-1;l<=1;l+=1)n+l<0||t<=n+l||0==o&&0==l||a==e.isDark(s+o,n+l)&&(r+=1);5<r&&(i+=3+r-5)}for(s=0;s<t-1;s+=1)for(n=0;n<t-1;n+=1){var c=0;e.isDark(s,n)&&(c+=1),e.isDark(s+1,n)&&(c+=1),e.isDark(s,n+1)&&(c+=1),e.isDark(s+1,n+1)&&(c+=1),0!=c&&4!=c||(i+=3)}for(s=0;s<t;s+=1)for(n=0;n<t-6;n+=1)e.isDark(s,n)&&!e.isDark(s,n+1)&&e.isDark(s,n+2)&&e.isDark(s,n+3)&&e.isDark(s,n+4)&&!e.isDark(s,n+5)&&e.isDark(s,n+6)&&(i+=40);for(n=0;n<t;n+=1)for(s=0;s<t-6;s+=1)e.isDark(s,n)&&!e.isDark(s+1,n)&&e.isDark(s+2,n)&&e.isDark(s+3,n)&&e.isDark(s+4,n)&&!e.isDark(s+5,n)&&e.isDark(s+6,n)&&(i+=40);for(var u=0,n=0;n<t;n+=1)for(s=0;s<t;s+=1)e.isDark(s,n)&&(u+=1);return i+=10*(Math.abs(100*u/t/t-50)/5)},k=i,g=function(){for(var t=new Array(256),i=new Array(256),e=0;e<8;e+=1)t[e]=1<<e;for(e=8;e<256;e+=1)t[e]=t[e-4]^t[e-5]^t[e-6]^t[e-8];for(e=0;e<255;e+=1)i[t[e]]=e;return{glog:function(e){if(e<1)throw"glog("+e+")";return i[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return t[e]}}}(),v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(i={}).getRSBlocks=function(e,t){var i=function(e,t){switch(t){case y.L:return v[4*(e-1)+0];case y.M:return v[4*(e-1)+1];case y.Q:return v[4*(e-1)+2];case y.H:return v[4*(e-1)+3];default:return}}(e,t);if(void 0===i)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var s,n,r=i.length/3,a=[],o=0;o<r;o+=1)for(var l=i[3*o+0],c=i[3*o+1],u=i[3*o+2],h=0;h<l;h+=1)a.push((s=u,void 0,(n={}).totalCount=c,n.dataCount=s,n));return a},T=i,I=function(){var i=[],s=0,n={getBuffer:function(){return i},getAt:function(e){var t=Math.floor(e/8);return 1==(i[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i+=1)n.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return s},putBit:function(e){var t=Math.floor(s/8);i.length<=t&&i.push(0),e&&(i[t]|=128>>>s%8),s+=1}};return n},b=function(e){var t=a,s=e,n=function(e){for(var t=0,i=0;i<e.length;i+=1)t=10*t+r(e.charAt(i));return t},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return{getMode:function(){return t},getLength:function(e){return s.length},write:function(e){for(var t=s,i=0;i+2<t.length;)e.put(n(t.substring(i,i+3)),10),i+=3;i<t.length&&(t.length-i==1?e.put(n(t.substring(i,i+1)),4):t.length-i==2&&e.put(n(t.substring(i,i+2)),7))}}},w=function(e){var t=r,s=e,n=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return{getMode:function(){return t},getLength:function(e){return s.length},write:function(e){for(var t=s,i=0;i+1<t.length;)e.put(45*n(t.charAt(i))+n(t.charAt(i+1)),11),i+=2;i<t.length&&e.put(n(t.charAt(i)),6)}}},S=function(e){var t=n,i=E.stringToBytes(e);return{getMode:function(){return t},getLength:function(e){return i.length},write:function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)}}},_=function(e){var t=o,i=E.stringToBytesFuncs.SJIS;if(!i)throw"sjis not supported.";var s=i("友");if(2!=s.length||38726!=(s[0]<<8|s[1]))throw"sjis not supported.";var n=i(e);return{getMode:function(){return t},getLength:function(e){return~~(n.length/2)},write:function(e){for(var t=n,i=0;i+1<t.length;){var s=(255&t[i])<<8|255&t[i+1];if(33088<=s&&s<=40956)s-=33088;else{if(!(57408<=s&&s<=60351))throw"illegal char at "+(i+1)+"/"+s;s-=49472}e.put(s=192*(s>>>8&255)+(255&s),13),i+=2}if(i<t.length)throw"illegal char at "+(i+1)}}},C=function(){var i=[],n={writeByte:function(e){i.push(255&e)},writeShort:function(e){n.writeByte(e),n.writeByte(e>>>8)},writeBytes:function(e,t,i){t=t||0,i=i||e.length;for(var s=0;s<i;s+=1)n.writeByte(e[s+t])},writeString:function(e){for(var t=0;t<e.length;t+=1)n.writeByte(e.charCodeAt(t))},toByteArray:function(){return i},toString:function(){var e="";e+="[";for(var t=0;t<i.length;t+=1)0<t&&(e+=","),e+=i[t];return e+="]"}};return n},x=function(e){var i=e,s=0,n=0,r=0,a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return{read:function(){for(;r<8;){if(s>=i.length){if(0==r)return-1;throw"unexpected end of file./"+r}var e=i.charAt(s);if(s+=1,"="==e)return r=0,-1;e.match(/^\s$/)||(n=n<<6|a(e.charCodeAt(0)),r+=6)}var t=n>>>r-8&255;return r-=8,t}}},P=function(e,t,i){for(var s=N(e,t),n=0;n<t;n+=1)for(var r=0;r<e;r+=1)s.setPixel(r,n,i(r,n));var a=C();s.write(a);for(var o=L(),l=a.toByteArray(),c=0;c<l.length;c+=1)o.writeByte(l[c]);return o.flush(),"data:image/gif;base64,"+o};var s,a,r,n,o,y,l,c,u,h,d,p,m,f,k,g,v,T,I,b,w,S,_,C,x,P,A=E;function E(e,t){function a(e,t){h=function(e){for(var t=new Array(e),i=0;i<e;i+=1){t[i]=new Array(e);for(var s=0;s<e;s+=1)t[i][s]=null}return t}(d=4*o+17),i(0,0),i(d-7,0),i(0,d-7),r(),n(),p(e,t),7<=o&&u(e),null==s&&(s=f(o,l,c)),m(s,t)}var o=e,l=y[t],h=null,d=0,s=null,c=[],x={},i=function(e,t){for(var i=-1;i<=7;i+=1)if(!(e+i<=-1||d<=e+i))for(var s=-1;s<=7;s+=1)t+s<=-1||d<=t+s||(h[e+i][t+s]=0<=i&&i<=6&&(0==s||6==s)||0<=s&&s<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=s&&s<=4)},n=function(){for(var e=8;e<d-8;e+=1)null==h[e][6]&&(h[e][6]=e%2==0);for(var t=8;t<d-8;t+=1)null==h[6][t]&&(h[6][t]=t%2==0)},r=function(){for(var e=k.getPatternPosition(o),t=0;t<e.length;t+=1)for(var i=0;i<e.length;i+=1){var s=e[t],n=e[i];if(null==h[s][n])for(var r=-2;r<=2;r+=1)for(var a=-2;a<=2;a+=1)h[s+r][n+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},u=function(e){for(var t=k.getBCHTypeNumber(o),i=0;i<18;i+=1){var s=!e&&1==(t>>i&1);h[Math.floor(i/3)][i%3+d-8-3]=s}for(i=0;i<18;i+=1)s=!e&&1==(t>>i&1),h[i%3+d-8-3][Math.floor(i/3)]=s},p=function(e,t){for(var t=l<<3|t,i=k.getBCHTypeInfo(t),s=0;s<15;s+=1){var n=!e&&1==(i>>s&1);s<6?h[s][8]=n:s<8?h[s+1][8]=n:h[d-15+s][8]=n}for(s=0;s<15;s+=1)n=!e&&1==(i>>s&1),s<8?h[8][d-s-1]=n:s<9?h[8][15-s-1+1]=n:h[8][15-s-1]=n;h[d-8][8]=!e},m=function(e,t){for(var i=-1,s=d-1,n=7,r=0,a=k.getMaskFunction(t),o=d-1;0<o;o-=2)for(6==o&&--o;;){for(var l,c,u=0;u<2;u+=1)null==h[s][o-u]&&(l=!1,r<e.length&&(l=1==(e[r]>>>n&1)),c=a(s,o-u),h[s][o-u]=l=c?!l:l,-1==--n)&&(r+=1,n=7);if((s+=i)<0||d<=s){s-=i,i=-i;break}}},f=function(e,t,i){for(var s=T.getRSBlocks(e,t),n=I(),r=0;r<i.length;r+=1){var a=i[r];n.put(a.getMode(),4),n.put(a.getLength(),k.getLengthInBits(a.getMode(),e)),a.write(n)}for(var o=0,r=0;r<s.length;r+=1)o+=s[r].dataCount;if(n.getLengthInBits()>8*o)throw"code length overflow. ("+n.getLengthInBits()+">"+8*o+")";for(n.getLengthInBits()+4<=8*o&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;;){if(n.getLengthInBits()>=8*o)break;if(n.put(236,8),n.getLengthInBits()>=8*o)break;n.put(17,8)}for(var l=n,c=s,u=0,h=0,d=0,p=new Array(c.length),m=new Array(c.length),f=0;f<c.length;f+=1){var g=c[f].dataCount,y=c[f].totalCount-g,h=Math.max(h,g),d=Math.max(d,y);p[f]=new Array(g);for(var v=0;v<p[f].length;v+=1)p[f][v]=255&l.getBuffer()[v+u];u+=g;var g=k.getErrorCorrectPolynomial(y),b=O(p[f],g.getLength()-1).mod(g);for(m[f]=new Array(g.getLength()-1),v=0;v<m[f].length;v+=1){var w=v+b.getLength()-m[f].length;m[f][v]=0<=w?b.getAt(w):0}}for(var S=0,v=0;v<c.length;v+=1)S+=c[v].totalCount;var _=new Array(S),C=0;for(v=0;v<h;v+=1)for(f=0;f<c.length;f+=1)v<p[f].length&&(_[C]=p[f][v],C+=1);for(v=0;v<d;v+=1)for(f=0;f<c.length;f+=1)v<m[f].length&&(_[C]=m[f][v],C+=1);return _},g=(x.addData=function(e,t){var i=null;switch(t=t||"Byte"){case"Numeric":i=b(e);break;case"Alphanumeric":i=w(e);break;case"Byte":i=S(e);break;case"Kanji":i=_(e);break;default:throw"mode:"+t}c.push(i),s=null},x.isDark=function(e,t){if(e<0||d<=e||t<0||d<=t)throw e+","+t;return h[e][t]},x.getModuleCount=function(){return d},x.make=function(){if(o<1){for(var e=1;e<40;e++){for(var t=T.getRSBlocks(e,l),i=I(),s=0;s<c.length;s++){var n=c[s];i.put(n.getMode(),4),i.put(n.getLength(),k.getLengthInBits(n.getMode(),e)),n.write(i)}for(var r=0,s=0;s<t.length;s++)r+=t[s].dataCount;if(i.getLengthInBits()<=8*r)break}o=e}a(!1,function(){for(var e=0,t=0,i=0;i<8;i+=1){a(!0,i);var s=k.getLostPoint(x);(0==i||s<e)&&(e=s,t=i)}return t}())},x.createTableTag=function(e,t){e=e||2;for(var i=(i=(i=(i="")+'<table style="'+" border-width: 0px; border-style: none;")+" border-collapse: collapse;"+(" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;"))+'">'+"<tbody>",s=0;s<x.getModuleCount();s+=1){i+="<tr>";for(var n=0;n<x.getModuleCount();n+=1)i=(i=(i=(i=(i=(i+='<td style="')+" border-width: 0px; border-style: none;"+" border-collapse: collapse;")+" padding: 0px; margin: 0px;"+(" width: "+e+"px;"))+(" height: "+e+"px;")+" background-color: ")+(x.isDark(s,n)?"#000000":"#ffffff"))+";"+'"/>';i+="</tr>"}return i=i+"</tbody>"+"</table>"},x.createSvgTag=function(e,t,i,s){var n={};"object"==typeof arguments[0]&&(e=(n=arguments[0]).cellSize,t=n.margin,i=n.alt,s=n.title),e=e||2,t=void 0===t?4*e:t,(i="string"==typeof i?{text:i}:i||{}).text=i.text||null,i.id=i.text?i.id||"qrcode-description":null,(s="string"==typeof s?{text:s}:s||{}).text=s.text||null,s.id=s.text?s.id||"qrcode-title":null;for(var r,a,o=x.getModuleCount()*e+2*t,l="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",c=(c=(c=(c=(c=(c=(c="")+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg"'+(n.scalable?"":' width="'+o+'px" height="'+o+'px"'))+(' viewBox="0 0 '+o+" "+o+'" ')+' preserveAspectRatio="xMinYMin meet"')+(s.text||i.text?' role="img" aria-labelledby="'+g([s.id,i.id].join(" ").trim())+'"':"")+">")+(s.text?'<title id="'+g(s.id)+'">'+g(s.text)+"</title>":""))+(i.text?'<description id="'+g(i.id)+'">'+g(i.text)+"</description>":""))+'<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>'+'<path d="',u=0;u<x.getModuleCount();u+=1)for(a=u*e+t,r=0;r<x.getModuleCount();r+=1)x.isDark(u,r)&&(c+="M"+(r*e+t)+","+a+l);return c=c+'" stroke="transparent" fill="black"/>'+"</svg>"},x.createDataURL=function(i,e){i=i||2,e=void 0===e?4*i:e;var t=x.getModuleCount()*i+2*e,s=e,n=t-e;return P(t,t,function(e,t){return s<=e&&e<n&&s<=t&&t<n&&(e=Math.floor((e-s)/i),t=Math.floor((t-s)/i),x.isDark(t,e))?0:1})},x.createImgTag=function(e,t,i){e=e||2,t=void 0===t?4*e:t;var s=x.getModuleCount()*e+2*t,n=(n=(n=(n=(n=(n="")+"<img"+' src="')+x.createDataURL(e,t)+'"')+' width="'+s)+'"'+' height="')+s+'"';return i&&(n=(n+=' alt="')+g(i)+'"'),n+="/>"},function(e){for(var t="",i=0;i<e.length;i+=1){var s=e.charAt(i);switch(s){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=s}}return t});return x.createASCII=function(e,t){if((e=e||1)<2){var i=t;i=void 0===i?2:i;for(var s,n,r,a,o=+x.getModuleCount()+2*i,l=i,c=o-i,u={"██":"█","█ ":"▀"," █":"▄","  ":" "},h={"██":"▀","█ ":"▀"," █":" ","  ":" "},d="",p=0;p<o;p+=2){for(n=Math.floor(p-l),r=Math.floor(p+1-l),s=0;s<o;s+=1)a="█",l<=s&&s<c&&l<=p&&p<c&&x.isDark(n,Math.floor(s-l))&&(a=" "),l<=s&&s<c&&l<=p+1&&p+1<c&&x.isDark(r,Math.floor(s-l))?a+=" ":a+="█",d+=(i<1&&c<=p+1?h:u)[a];d+="\n"}return o%2&&0<i?d.substring(0,d.length-o-1)+Array(1+o).join("▀"):d.substring(0,d.length-1)}--e,t=void 0===t?2*e:t;for(var m,f,g,y=x.getModuleCount()*e+2*t,v=t,b=y-t,w=Array(e+1).join("██"),S=Array(e+1).join("  "),_="",C="",k=0;k<y;k+=1){for(f=Math.floor((k-v)/e),C="",m=0;m<y;m+=1)g=1,C+=(g=v<=m&&m<b&&v<=k&&k<b&&x.isDark(f,Math.floor((m-v)/e))?0:g)?w:S;for(f=0;f<e;f+=1)_+=C+"\n"}return _.substring(0,_.length-1)},x.renderTo2dContext=function(e,t){t=t||2;for(var i=x.getModuleCount(),s=0;s<i;s++)for(var n=0;n<i;n++)e.fillStyle=x.isDark(s,n)?"black":"white",e.fillRect(s*t,n*t,t,t)},x}function D(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t}function O(s,n){if(void 0===s.length)throw s.length+"/"+n;var t=function(){for(var e=0;e<s.length&&0==s[e];)e+=1;for(var t=new Array(s.length-e+n),i=0;i<s.length-e;i+=1)t[i]=s[i+e];return t}(),r={getAt:function(e){return t[e]},getLength:function(){return t.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),i=0;i<r.getLength();i+=1)for(var s=0;s<e.getLength();s+=1)t[i+s]^=g.gexp(g.glog(r.getAt(i))+g.glog(e.getAt(s)));return O(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=g.glog(r.getAt(0))-g.glog(e.getAt(0)),i=new Array(r.getLength()),s=0;s<r.getLength();s+=1)i[s]=r.getAt(s);for(s=0;s<e.getLength();s+=1)i[s]^=g.gexp(g.glog(e.getAt(s))+t);return O(i,0).mod(e)}};return r}function L(){function i(e){a+=String.fromCharCode(function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e}(63&e))}var s=0,n=0,r=0,a="",e={writeByte:function(e){for(s=s<<8|255&e,n+=8,r+=1;6<=n;)i(s>>>n-6),n-=6},flush:function(){if(0<n&&(i(s<<6-n),n=s=0),r%3!=0)for(var e=3-r%3,t=0;t<e;t+=1)a+="="},toString:function(){return a}};return e}function N(e,t){var s=e,n=t,p=new Array(e*t),r=function(e){for(var t=1<<e,i=1+(1<<e),s=e+1,n=m(),r=0;r<t;r+=1)n.add(String.fromCharCode(r));n.add(String.fromCharCode(t)),n.add(String.fromCharCode(i));var a,o,l,e=C(),c=(a=e,l=o=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;8<=o+t;)a.writeByte(255&(e<<o|l)),t-=8-o,e>>>=8-o,o=l=0;l|=e<<o,o+=t},flush:function(){0<o&&a.writeByte(l)}}),u=(c.write(t,s),0),h=String.fromCharCode(p[u]);for(u+=1;u<p.length;){var d=String.fromCharCode(p[u]);u+=1,n.contains(h+d)?h+=d:(c.write(n.indexOf(h),s),n.size()<4095&&(n.size()==1<<s&&(s+=1),n.add(h+d)),h=d)}return c.write(n.indexOf(h),s),c.write(i,s),c.flush(),e.toByteArray()},m=function(){var t={},i=0,s={add:function(e){if(s.contains(e))throw"dup key:"+e;t[e]=i,i+=1},size:function(){return i},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return s};return{setPixel:function(e,t,i){p[t*s+e]=i},write:function(e){e.writeString("GIF87a"),e.writeShort(s),e.writeShort(n),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(s),e.writeShort(n),e.writeByte(0);for(var t=r(2),i=(e.writeByte(2),0);255<t.length-i;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}}}A.stringToBytesFuncs["UTF-8"]=function(e){for(var t=e,i=[],s=0;s<t.length;s++){var n=t.charCodeAt(s);n<128?i.push(n):n<2048?i.push(192|n>>6,128|63&n):n<55296||57344<=n?i.push(224|n>>12,128|n>>6&63,128|63&n):(s++,n=65536+((1023&n)<<10|1023&t.charCodeAt(s)),i.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return i},void 0!==(t="function"==typeof(i=function(){return A})?i.apply(t,[]):i)&&(e.exports=t)},ab60:function(e,t,i){e.exports=i.p+"img/icon_custom_add.a907c2c1.png"},acfe:function(e,t,i){},ae97:function(e,t,i){"use strict";i("4bad")},aea6:function(e,t,i){"use strict";var i=i("c89a"),s={i:{locale:"zh-CN",select:{placeholder:"请选择",noMatch:"无匹配数据",loading:"加载中"},table:{noDataText:"暂无数据",noFilteredDataText:"暂无筛选结果",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},datepicker:{selectDate:"选择日期",selectTime:"选择时间",startTime:"开始时间",endTime:"结束时间",clear:"清空",ok:"确定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"源列表",target:"目的列表"},filterPlaceholder:"请输入搜索内容",notFoundText:"列表为空"},modal:{okText:"确定",cancelText:"取消"},poptip:{okText:"确定",cancelText:"取消"},page:{prev:"上一页",next:"下一页",total:"共",item:"条",items:"条",prev5:"向前 5 页",next5:"向后 5 页",page:"条/页",goto:"跳至",p:"页"},rate:{star:"星",stars:"星"},time:{before:"前",after:"后",just:"刚刚",seconds:"秒",minutes:"分钟",hours:"小时",days:"天"},tree:{emptyText:"暂无数据"}}};Object(i.a)(s),t.a=s},af5d:function(e,t,i){e.exports=i.p+"img/12.935ef98e.jpg"},af7e:function(e,t,i){!function(Bu,Fu){i("3c65"),i("14d9"),i("d9e2"),i("13d5"),i("907a"),i("986a"),i("1d02"),i("3c5d"),i("1b3b"),i("3d71"),i("c6e3"),i("f4dd"),i("f8c9"),i("b7ef"),i("5377"),e.exports=function(){"use strict";for(var B,F="7.20.3",R={},$=function(e,t){return R[e]=R[e]||[],t&&(R[e]=R[e].concat(t)),R[e]},U=function(e,t){return t=$(e).indexOf(t),!(t<=-1)&&(R[e]=R[e].slice(),R[e].splice(t,1),!0)},j={prefixed:!0},V=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],z=V[0],W=0;W<V.length;W++)if(V[W][1]in document){B=V[W];break}if(B){for(var H=0;H<B.length;H++)j[z[H]]=B[H];j.prefixed=B[0]!==z[0]}var q=[],G=function(r,a){return function(e,t,i){var s,n=a.levels[t];t=new RegExp("^("+n+")$");"log"!==e&&i.unshift(e.toUpperCase()+":"),i.unshift(r+":"),q&&(q.push([].concat(i)),s=q.length-1e3,q.splice(0,0<s?s:0)),!window.console||(s=(s=window.console[e])||"debug"!==e?s:window.console.info||window.console.log)&&n&&t.test(e)&&s[Array.isArray(i)?"apply":"call"](window.console,i)}},h=function t(i){function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r("log",n,t)}var n="info",r=G(i,s);return s.createLogger=function(e){return t(i+": "+e)},s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=function(e){if("string"==typeof e){if(!s.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');n=e}return n},(s.history=function(){return q?[].concat(q):[]}).filter=function(t){return(q||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},s.history.clear=function(){q&&(q.length=0)},s.history.disable=function(){null!==q&&(q.length=0,q=null)},s.history.enable=function(){null===q&&(q=[])},s.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",n,t)},s.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",n,t)},s.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",n,t)},s}("VIDEOJS"),Y=h.createLogger,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof Bu?Bu:"undefined"!=typeof self?self:{};function Q(e,t){return e(t={exports:{}},t.exports),t.exports}var K=Q(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,s=arguments[t];for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},t.apply(this,arguments)}e.exports=t}),X=Object.prototype.toString,Z=function(e){return ee(e)?Object.keys(e):[]};function J(t,i){Z(t).forEach(function(e){return i(t[e],e)})}function d(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];return Object.assign?K.apply(void 0,[i].concat(t)):(t.forEach(function(e){e&&J(e,function(e,t){i[t]=e})}),i)}function ee(e){return!!e&&"object"==typeof e}function te(e){return ee(e)&&"[object Object]"===X.call(e)&&e.constructor===Object}function ie(e,t){if(!e||!t)return"";if("function"!=typeof window.getComputedStyle)return"";var i;try{i=window.getComputedStyle(e)}catch(e){return""}return i?i.getPropertyValue(t)||i[t]:""}var s=window.navigator&&window.navigator.userAgent||"",t=/AppleWebKit\/([\d.]+)/i.exec(s),se=t?parseFloat(t.pop()):null,ne=/iPod/i.test(s),i=(a=s.match(/OS (\d+)_/i))&&a[1]?a[1]:null,re=/Android/i.test(s),ae=function(){var e=s.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),oe=re&&ae<5&&se<537,le=/Firefox/i.test(s),ce=/Edg/i.test(s),ue=!ce&&(/Chrome/i.test(s)||/CriOS/i.test(s)),he=(li=s.match(/(Chrome|CriOS)\/(\d+)/))&&li[2]?parseFloat(li[2]):null,de=o=!(o=(o=/MSIE\s(\d+)\.\d/.exec(s))&&parseFloat(o[1]))&&/Trident\/7.0/i.test(s)&&/rv:11.0/.test(s)?11:o,pe=/Safari/i.test(s)&&!ue&&!re&&!ce,me=/Windows/i.test(s),fe=Boolean(we()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),n=/iPad/i.test(s)||pe&&fe&&!/iPhone/i.test(s),ge=/iPhone/i.test(s)&&!n,p=ge||n||ne,ye=(pe||p)&&!ue,r=Object.freeze({__proto__:null,IS_IPOD:ne,IOS_VERSION:i,IS_ANDROID:re,ANDROID_VERSION:ae,IS_NATIVE_ANDROID:oe,IS_FIREFOX:le,IS_EDGE:ce,IS_CHROME:ue,CHROME_VERSION:he,IE_VERSION:de,IS_SAFARI:pe,IS_WINDOWS:me,TOUCH_ENABLED:fe,IS_IPAD:n,IS_IPHONE:ge,IS_IOS:p,IS_ANY_SAFARI:ye});function ve(e){return"string"==typeof e&&Boolean(e.trim())}function be(e){if(0<=e.indexOf(" "))throw new Error("class has illegal whitespace characters")}function we(){return document===window.document}function Se(e){return ee(e)&&1===e.nodeType}function _e(){try{return window.parent!==window.self}catch(e){return!0}}function Ce(i){return function(e,t){return ve(e)?(t=Se(t=ve(t)?document.querySelector(t):t)?t:document,t[i]&&t[i](e)):document[i](null)}}function u(e,i,t,s){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===t&&(t={});var n=document.createElement(e);return Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(h.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),n.setAttribute(e,t)):"textContent"===e?ke(n,t):n[e]===t&&"tabIndex"!==e||(n[e]=t)}),Object.getOwnPropertyNames(t).forEach(function(e){n.setAttribute(e,t[e])}),s&&ze(n,s),n}function ke(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function xe(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Te(e,t){return be(t),e.classList?e.classList.contains(t):new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}function Ie(e,t){return e.classList?e.classList.add(t):Te(e,t)||(e.className=(e.className+" "+t).trim()),e}function Pe(e,t){return e?(e.classList?e.classList.remove(t):(be(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e):(h.warn("removeClass was called with an element that doesn't exist"),null)}function Ae(e,t,i){var s=Te(e,t);if((i="boolean"!=typeof(i="function"==typeof i?i(e,t):i)?!s:i)!==s)return(i?Ie:Pe)(e,t),e}function Ee(i,s){Object.getOwnPropertyNames(s).forEach(function(e){var t=s[e];null===t||"undefined"==typeof t||!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})}function De(e){var t={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var s=e.attributes,n=s.length-1;0<=n;n--){var r=s[n].name,a=s[n].value;"boolean"!=typeof e[r]&&-1===i.indexOf(","+r+",")||(a=null!==a),t[r]=a}return t}function Oe(e,t){return e.getAttribute(t)}function Le(e,t,i){e.setAttribute(t,i)}function Ne(e,t){e.removeAttribute(t)}function Me(){document.body.focus(),document.onselectstart=function(){return!1}}function Be(){document.onselectstart=function(){return!0}}function Fe(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(ie(e,"height"))),i.width||(i.width=parseFloat(ie(e,"width"))),i}}function Re(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,i=e.offsetHeight,s=0,n=0;e.offsetParent&&e!==document[j.fullscreenElement];)s+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:s,top:n,width:t,height:i}}function $e(e,t){var i={x:0,y:0};if(p)for(var s=e;s&&"html"!==s.nodeName.toLowerCase();){var n,r=ie(s,"transform");/^matrix/.test(r)?(n=r.slice(7,-1).split(/,\s/).map(Number),i.x+=n[4],i.y+=n[5]):/^matrix3d/.test(r)&&(r=r.slice(9,-1).split(/,\s/).map(Number),i.x+=r[12],i.y+=r[13]),s=s.parentNode}var a={},o=Re(t.target),l=Re(e),c=l.width,u=l.height;e=t.offsetY-(l.top-o.top),o=t.offsetX-(l.left-o.left);return t.changedTouches&&(o=t.changedTouches[0].pageX-l.left,e=t.changedTouches[0].pageY+l.top,p&&(o-=i.x,e-=i.y)),a.y=1-Math.max(0,Math.min(1,e/u)),a.x=Math.max(0,Math.min(1,o/c)),a}function Ue(e){return ee(e)&&3===e.nodeType}function je(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Ve(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return Se(e="function"==typeof e?e():e)||Ue(e)?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0}).filter(function(e){return e})}function ze(t,e){return Ve(e).forEach(function(e){return t.appendChild(e)}),t}function We(e,t){return ze(je(e),t)}function He(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var qe,Ge=Ce("querySelector"),Ye=Ce("querySelectorAll"),Qe=Object.freeze({__proto__:null,isReal:we,isEl:Se,isInFrame:_e,createEl:u,textContent:ke,prependTo:xe,hasClass:Te,addClass:Ie,removeClass:Pe,toggleClass:Ae,setAttributes:Ee,getAttributes:De,getAttribute:Oe,setAttribute:Le,removeAttribute:Ne,blockTextSelection:Me,unblockTextSelection:Be,getBoundingClientRect:Fe,findPosition:Re,getPointerPosition:$e,isTextNode:Ue,emptyEl:je,normalizeContent:Ve,appendContent:ze,insertContent:We,isSingleLeftClick:He,$:Ge,$$:Ye}),Ke=!1,Xe=function(){if(!1!==qe.options.autoSetup){var e=Array.prototype.slice.call(document.getElementsByTagName("video")),t=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),s=e.concat(t,i);if(s&&0<s.length)for(var n=0,r=s.length;n<r;n++){var a=s[n];if(!a||!a.getAttribute){Ze(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&qe(a)}else Ke||Ze(1)}};function Ze(e,t){we()&&(t&&(qe=t),window.setTimeout(Xe,e))}function Je(){Ke=!0,window.removeEventListener("load",Je)}function et(e){var t=document.createElement("style");return t.className=e,t}function tt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}we()&&("complete"===document.readyState?Je():window.addEventListener("load",Je));var it=3;window.WeakMap||(Ti=function(){function e(){this.vdata="vdata"+Math.floor(window.performance&&window.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var i=e[this.vdata]||it++;return e[this.vdata]||(e[this.vdata]=i),this.data[i]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];h("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var st,l=new(window.WeakMap?WeakMap:Ti);function nt(e,t){var i;l.has(e)&&(0===(i=l.get(e)).handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&l.delete(e))}function rt(t,i,e,s){e.forEach(function(e){t(i,e,s)})}function at(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var s,n,r,a=e||window.event;for(s in e={},a)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&"path"!==s&&("returnValue"===s&&a.preventDefault||(e[s]=a[s]));e.target||(e.target=e.srcElement||document),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){a.preventDefault&&a.preventDefault(),e.returnValue=!1,a.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),e.cancelBubble=!0,a.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX&&(n=document.documentElement,r=document.body,e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var ot=function(){if("boolean"!=typeof st){st=!1;try{var e=Object.defineProperty({},"passive",{get:function(){st=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}return st},lt=["touchstart","touchmove"];function ct(a,e,t){if(Array.isArray(e))return rt(ct,a,e,t);l.has(a)||l.set(a,{});var o=l.get(a);o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),t.guid||(t.guid=it++),o.handlers[e].push(t),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e,t){if(!o.disabled){e=at(e);var i=o.handlers[e.type];if(i)for(var s=i.slice(0),n=0,r=s.length;n<r&&!e.isImmediatePropagationStopped();n++)try{s[n].call(a,e,t)}catch(e){h.error(e)}}}),1===o.handlers[e].length&&(a.addEventListener?(t=!1,ot()&&-1<lt.indexOf(e)&&(t={passive:!0}),a.addEventListener(e,o.dispatcher,t)):a.attachEvent&&a.attachEvent("on"+e,o.dispatcher))}function c(e,t,i){if(l.has(e)){var s=l.get(e);if(s.handlers){if(Array.isArray(t))return rt(c,e,t,i);var n=function(e,t){s.handlers[t]=[],nt(e,t)};if(void 0!==t){var r=s.handlers[t];if(r)if(i){if(i.guid)for(var a=0;a<r.length;a++)r[a].guid===i.guid&&r.splice(a--,1);nt(e,t)}else n(e,t)}else for(var o in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},o)&&n(e,o)}}}function ut(e,t,i){var s=l.has(e)?l.get(e):{},n=e.parentNode||e.ownerDocument;return"string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=at(t),s.dispatcher&&s.dispatcher.call(e,t,i),n&&!t.isPropagationStopped()&&!0===t.bubbles?ut.call(null,n,t,i):!n&&!t.defaultPrevented&&t.target&&t.target[t.type]&&(l.has(t.target)||l.set(t.target,{}),n=l.get(t.target),t.target[t.type]&&(n.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),n.disabled=!1)),!t.defaultPrevented}function ht(e,t,i){if(Array.isArray(t))return rt(ht,e,t,i);function s(){c(e,t,s),i.apply(this,arguments)}s.guid=i.guid=i.guid||it++,ct(e,t,s)}function dt(e,t,i){function s(){c(e,t,s),i.apply(this,arguments)}s.guid=i.guid=i.guid||it++,ct(e,t,s)}function m(e,t,i){return t.guid||(t.guid=it++),(e=t.bind(e)).guid=i?i+"_"+t.guid:t.guid,e}function pt(t,i){var s=window.performance.now();return function(){var e=window.performance.now();i<=e-s&&(t.apply(void 0,arguments),s=e)}}function mt(s,n,r,a){var o;function e(){var e=this,t=arguments,i=function(){i=o=null,r||s.apply(e,t)};!o&&r&&s.apply(e,t),a.clearTimeout(o),o=a.setTimeout(i,n)}return void 0===a&&(a=window),e.cancel=function(){a.clearTimeout(o),o=null},e}function ft(){}var gt,yt=Object.freeze({__proto__:null,fixEvent:at,on:ct,off:c,trigger:ut,one:ht,any:dt});function vt(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_||(e.constructor&&e.constructor.name?e.constructor.name:typeof e)}function bt(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length}function wt(e,t,i){if(!e||!e.nodeName&&!xt(e))throw new Error("Invalid target for "+vt(t)+"#"+i+"; must be a DOM node or evented object.")}function St(e,t,i){if(!bt(e))throw new Error("Invalid event type for "+vt(t)+"#"+i+"; must be a non-empty string or array.")}function _t(e,t,i){if("function"!=typeof e)throw new Error("Invalid listener for "+vt(t)+"#"+i+"; must be a function.")}function Ct(e,t,i){var s,n,r=t.length<3||t[0]===e||t[0]===e.eventBusEl_;t=r?(s=e.eventBusEl_,3<=t.length&&t.shift(),n=t[0],t[1]):(s=t[0],n=t[1],t[2]);return wt(s,e,i),St(n,e,i),_t(t,e,i),{isTargetingSelf:r,target:s,type:n,listener:t=m(e,t)}}function kt(e,t,i,s){wt(e,e,t),e.nodeName?yt[t](e,i,s):e[t](i,s)}ft.prototype.allowedEvents_={},ft.prototype.addEventListener=ft.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},ct(this,e,t),this.addEventListener=i},ft.prototype.removeEventListener=ft.prototype.off=function(e,t){c(this,e,t)},ft.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},ht(this,e,t),this.addEventListener=i},ft.prototype.any=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},dt(this,e,t),this.addEventListener=i},ft.prototype.dispatchEvent=ft.prototype.trigger=function(e){var t=e.type||e;e=at(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),ut(this,e)},ft.prototype.queueTrigger=function(e){var t=this;gt=gt||new Map;var i=e.type||e,s=gt.get(this);s||(s=new Map,gt.set(this,s));var n=s.get(i);s.delete(i),window.clearTimeout(n),n=window.setTimeout(function(){0===s.size&&(s=null,gt.delete(t)),t.trigger(e)},0),s.set(i,n)};var xt=function(t){return t instanceof ft||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},Tt={on:function(){for(var e=this,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var n,r=Ct(this,i,"on"),a=r.isTargetingSelf,o=r.target,l=r.type,c=r.listener;kt(o,"on",l,c),a||((n=function(){return e.off(o,l,c)}).guid=c.guid,(a=function(){return e.off("dispose",n)}).guid=c.guid,kt(this,"on","dispose",n),kt(o,"on","dispose",a))},one:function(){for(var n=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=Ct(this,t,"one"),r=s.isTargetingSelf,a=s.target,o=s.type,l=s.listener;r?kt(a,"one",o,l):((r=function e(){n.off(a,o,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];l.apply(null,i)}).guid=l.guid,kt(a,"one",o,r))},any:function(){for(var n=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=Ct(this,t,"any"),r=s.isTargetingSelf,a=s.target,o=s.type,l=s.listener;r?kt(a,"any",o,l):((r=function e(){n.off(a,o,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];l.apply(null,i)}).guid=l.guid,kt(a,"any",o,r))},off:function(e,t,i){!e||bt(e)?c(this.eventBusEl_,e,t):(t=t,wt(e=e,this,"off"),St(t,this,"off"),_t(i,this,"off"),i=m(this,i),this.off("dispose",i),e.nodeName?(c(e,t,i),c(e,"dispose",i)):xt(e)&&(e.off(t,i),e.off("dispose",i)))},trigger:function(e,t){wt(this.eventBusEl_,this,"trigger");var i=e&&"string"!=typeof e?e.type:e;if(!bt(i)){if(i="Invalid event type for "+vt(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.",!e)throw new Error(i);(this.log||h).error(i)}return ut(this.eventBusEl_,e,t)}};function It(e,t){if(t=(t=void 0===t?{}:t).eventBusKey,t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=u("span",{className:"vjs-event-bus"});return d(e,Tt),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&l.has(e)&&l.delete(e)}),window.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Pt={state:{},setState:function(e){var i,s=this;return J(e="function"==typeof e?e():e,function(e,t){s.state[t]!==e&&((i=i||{})[t]={from:s.state[t],to:e}),s.state[t]=e}),i&&xt(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function At(e,t){return d(e,Pt),e.state=d({},e.state,t),"function"==typeof e.handleStateChanged&&xt(e)&&e.on("statechanged",e.handleStateChanged),e}function Et(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})}function f(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function g(){for(var i={},e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.forEach(function(e){e&&J(e,function(e,t){te(e)?(te(i[t])||(i[t]={}),i[t]=g(i[t],e)):i[t]=e})}),i}var Dt=window.Map||function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var i in this.map_)e.call(t,this.map_[i],i,this)},e}(),Ot=window.Set||function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var i in this.set_)e.call(t,i,i,this)},e}(),y=Q(function(e,t){function i(e){if(!e||"object"!=typeof e||(t=e.which||e.keyCode||e.charCode)&&(e=t),"number"==typeof e)return o[e];var t=String(e);e=s[t.toLowerCase()];return e||((e=n[t.toLowerCase()])?e:1===t.length?t.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if("string"==typeof t){if(e=s[t.toLowerCase()],e)return e===i;if(e=n[t.toLowerCase()])return e===i}else if("number"==typeof t)return t===i;return!1}};for(var s=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},r=97;r<123;r++)s[String.fromCharCode(r)]=r-32;for(r=48;r<58;r++)s[r-48]=r;for(r=1;r<13;r++)s["f"+r]=r+111;for(r=0;r<10;r++)s["numpad "+r]=r+96;var a,o=t.names=t.title={};for(r in s)o[s[r]]=r;for(a in n)s[a]=n[a]}),v=(y.code,y.codes,y.aliases,y.names,y.title,function(){function a(e,t,i){var s=this;!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=g({},this.options_),t=this.options_=g(this.options_,t),this.id_=t.id||t.el&&t.el.id,this.id_||(e=e&&e.id&&e.id()||"no_player",this.id_=e+"_component_"+it++),this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(function(e){return s.addClass(e)}),!1!==t.evented&&(It(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),At(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ot,this.setIntervalIds_=new Ot,this.rafIds_=new Ot,this.namedRafs_=new Dt,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var e=a.prototype;return e.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(e){return e&&(this.options_=g(this.options_,e)),this.options_},e.el=function(){return this.el_},e.createEl=function(e,t,i){return u(e,t,i)},e.localize=function(e,i,t){void 0===t&&(t=e);var s=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),r=n&&n[s];s=s&&s.split("-")[0],s=n&&n[s],t=t;return r&&r[e]?t=r[e]:s&&s[e]&&(t=s[e]),i?t.replace(/\{(\d+)\}/g,function(e,t){return t=i[t-1],"undefined"==typeof t?e:t}):t},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(e){return this.childIndex_[e]},e.getChild=function(e){if(e)return this.childNameIndex_[e]},e.getDescendant=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t=t.reduce(function(e,t){return e.concat(t)},[]);for(var s=this,n=0;n<t.length;n++)if(!(s=s.getChild(t[n]))||!s.getChild)return;return s},e.addChild=function(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i=this.children_.length),"string"==typeof e){var s=f(e),n=t.componentClass||s;t.name=s;var r=a.getComponent(n);if(!r)throw new Error("Component "+n+" does not exist");if("function"!=typeof r)return null;r=new r(this.player_||this,t)}else r=e;return r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(s=s||r.name&&f(r.name()))&&(this.childNameIndex_[s]=r,this.childNameIndex_[Et(s)]=r),"function"==typeof r.el&&r.el()&&(s=null,this.children_[i+1]&&(this.children_[i+1].el_?s=this.children_[i+1].el_:Se(this.children_[i+1])&&(s=this.children_[i+1])),this.contentEl().insertBefore(r.el(),s)),r},e.removeChild=function(e){if((e="string"==typeof e?this.getChild(e):e)&&this.children_){for(var t,i=!1,s=this.children_.length-1;0<=s;s--)if(this.children_[s]===e){i=!0,this.children_.splice(s,1);break}i&&(e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[f(e.name())]=null,this.childNameIndex_[Et(e.name())]=null,(t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el()))}},e.initChildren=function(){var i,t,e,s=this,n=this.options_.children;n&&(i=this.options_,t=a.getComponent("Tech"),(e=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t;e="string"==typeof e?n[t=e]||s.options_[t]||{}:(t=e.name,e);return{name:t,opts:e}}).filter(function(e){return e=a.getComponent(e.opts.componentClass||f(e.name)),e&&!t.isTech(e)}).forEach(function(e){var t=e.name;e=e.opts;!1!==(e=void 0!==i[t]?i[t]:e)&&((e=!0===e?{}:e).playerOptions=s.options_.playerOptions,(e=s.addChild(t,e))&&(s[t]=e))}))},e.buildCSSClass=function(){return""},e.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.$=function(e,t){return Ge(e,t||this.contentEl())},e.$$=function(e,t){return Ye(e,t||this.contentEl())},e.hasClass=function(e){return Te(this.el_,e)},e.addClass=function(e){Ie(this.el_,e)},e.removeClass=function(e){Pe(this.el_,e)},e.toggleClass=function(e,t){Ae(this.el_,e,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(e){return Oe(this.el_,e)},e.setAttribute=function(e,t){Le(this.el_,e,t)},e.removeAttribute=function(e){Ne(this.el_,e)},e.width=function(e,t){return this.dimension("width",e,t)},e.height=function(e,t){return this.dimension("height",e,t)},e.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.dimension=function(e,t,i){return void 0!==t?(-1!==(""+(t=null===t||t!=t?0:t)).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"))):this.el_?(t=this.el_.style[e],i=t.indexOf("px"),-1!==i?parseInt(t.slice(0,i),10):parseInt(this.el_["offset"+f(e)],10)):0},e.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");return t=ie(this.el_,e),0!==(t=parseFloat(t))&&!isNaN(t)||(e="offset"+f(e),t=this.el_[e]),t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(e){this.player_&&(y.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},e.handleKeyPress=function(e){this.handleKeyDown(e)},e.emitTapEvents=function(){var i,t=0,s=null;function e(){i=!1}this.on("touchstart",function(e){1===e.touches.length&&(s={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=window.performance.now(),i=!0)}),this.on("touchmove",function(e){var t;1<e.touches.length?i=!1:s&&(t=e.touches[0].pageX-s.pageX,e=e.touches[0].pageY-s.pageY,10<Math.sqrt(t*t+e*e)&&(i=!1))}),this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(s=null)===i&&window.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap"))})},e.enableTouchActivity=function(){var t,i,e;this.player()&&this.player().reportUserActivity&&(t=m(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),this.clearInterval(i),i=this.setInterval(t,250)}),e=function(e){t(),this.clearInterval(i)},this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e))},e.setTimeout=function(e,t){var i,s=this;return e=m(this,e),this.clearTimersOnDispose_(),i=window.setTimeout(function(){s.setTimeoutIds_.has(i)&&s.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),window.clearTimeout(e)),e},e.setInterval=function(e,t){return e=m(this,e),this.clearTimersOnDispose_(),t=window.setInterval(e,t),this.setIntervalIds_.add(t),t},e.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),window.clearInterval(e)),e},e.requestAnimationFrame=function(e){var t,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=m(this,e),t=window.requestAnimationFrame(function(){i.rafIds_.has(t)&&i.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},e.requestNamedAnimationFrame=function(e,t){var i=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=m(this,t);var s=this.requestAnimationFrame(function(){t(),i.namedRafs_.has(e)&&i.namedRafs_.delete(e)});return this.namedRafs_.set(e,s),e}},e.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},e.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),window.cancelAnimationFrame(e)),e):this.clearTimeout(e)},e.clearTimersOnDispose_=function(){var s=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],i=e[1];s[t].forEach(function(e,t){return s[i](t)})}),s.clearingTimersOnDispose_=!1}))},a.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=a.getComponent("Tech"),s=i&&i.isTech(t);i=a===t||a.prototype.isPrototypeOf(t.prototype);if(s||!i){var n=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+e+'"; '+n+".")}if(e=f(e),a.components_||(a.components_={}),n=a.getComponent("Player"),"Player"===e&&n&&n.players){var r=n.players;n=Object.keys(r);if(r&&0<n.length&&n.map(function(e){return r[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return a.components_[e]=t,a.components_[Et(e)]=t},a.getComponent=function(e){if(e&&a.components_)return a.components_[e]},a}()),b=(v.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,v.registerComponent("Component",v),function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}),w=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t};function Lt(e,t,i,s){return function(e,t,i){if("number"!=typeof t||t<0||i<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}(e,s,i.length-1),i[s][t]}function Nt(e){var t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Lt.bind(null,"start",0,e),end:Lt.bind(null,"end",1,e)};return window.Symbol&&window.Symbol.iterator&&(t[window.Symbol.iterator]=function(){return(e||[]).values()}),t}function Mt(e,t){return Array.isArray(e)?Nt(e):void 0===e||void 0===t?Nt():Nt([[e,t]])}function Bt(e,t){var i,s,n=0;if(!t)return 0;e&&e.length||(e=Mt(0,0));for(var r=0;r<e.length;r++)i=e.start(r),n+=(s=t<(s=e.end(r))?t:s)-i;return n/t}function Ft(e){if(e instanceof Ft)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:ee(e)&&("number"==typeof e.code&&(this.code=e.code),d(this,e)),this.message||(this.message=Ft.defaultMessages[this.code]||"")}Ft.prototype.code=0,Ft.prototype.message="",Ft.prototype.status=null,Ft.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ft.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Rt=0;Rt<Ft.errorTypes.length;Rt++)Ft[Ft.errorTypes[Rt]]=Rt,Ft.prototype[Ft.errorTypes[Rt]]=Rt;var $t=function(e,t){var i,s=null;try{i=JSON.parse(e,t)}catch(e){s=e}return[s,i]};function Ut(e){return null!=e&&"function"==typeof e.then}function jt(e){Ut(e)&&e.then(null,function(e){})}function Vt(s){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,i){return s[t]&&(e[t]=s[t]),e},{cues:s.cues&&Array.prototype.map.call(s.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var zt=function(e){var t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Vt(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(Vt))},Wt=function(e,i){return e.forEach(function(e){var t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),i.textTracks()},Ht="vjs-modal-dialog",qt=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.close_=function(e){return i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=u("div",{className:Ht+"-content"},{role:"document"}),i.descEl_=u("p",{className:Ht+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),ke(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}w(e,s);var t=e.prototype;return t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,s.prototype.dispose.call(this)},t.buildCSSClass=function(){return Ht+" vjs-hidden "+s.prototype.buildCSSClass.call(this)},t.label=function(){return this.localize(this.options_.label||"Modal Window")},t.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.open=function(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},t.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.close=function(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},t.closeable=function(e){var t,i;return"boolean"==typeof e&&(t=this.closeable_=!!e,i=this.getChild("closeButton"),t&&!i&&(e=this.contentEl_,this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(i,"close",this.close_)),!t&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())),this.closeable_},t.fill=function(){this.fillWith(this.content())},t.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,s=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),We(t,e),this.trigger("modalfill"),s?i.insertBefore(t,s):i.appendChild(t),t=this.getChild("closeButton"),t&&i.appendChild(t.el_)},t.empty=function(){this.trigger("beforemodalempty"),je(this.contentEl()),this.trigger("modalempty")},t.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t.conditionalFocus_=function(){var e=document.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus())},t.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},t.handleKeyDown=function(e){if(e.stopPropagation(),y.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(y.isEventKey(e,"Tab")){for(var t,i=this.focusableEls_(),s=this.el_.querySelector(":focus"),n=0;n<i.length;n++)if(s===i[n]){t=n;break}document.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}},t.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof window.HTMLAnchorElement||e instanceof window.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof window.HTMLInputElement||e instanceof window.HTMLSelectElement||e instanceof window.HTMLTextAreaElement||e instanceof window.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof window.HTMLIFrameElement||e instanceof window.HTMLObjectElement||e instanceof window.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},e}(v);qt.prototype.options_={pauseOnOpen:!0,temporary:!0},v.registerComponent("ModalDialog",qt);var Gt,Yt=function(s){function e(e){var t;void 0===e&&(e=[]),(t=s.call(this)||this).tracks_=[],Object.defineProperty(b(t),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)t.addTrack(e[i]);return t}w(e,s);var t=e.prototype;return t.addTrack=function(e){var t=this,i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.tracks_[i]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},xt(e)&&e.addEventListener("labelchange",e.labelchange_)},t.removeTrack=function(e){for(var t,i=0,s=this.length;i<s;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},t.getTrackById=function(e){for(var t=null,i=0,s=this.length;i<s;i++){var n=this[i];if(n.id===e){t=n;break}}return t},e}(ft);for(Gt in Yt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Yt.prototype.allowedEvents_)Yt.prototype["on"+Gt]=null;function Qt(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)}function Kt(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)}function Xt(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a");i.href=e;for(var s={},n=0;n<t.length;n++)s[t[n]]=i[t[n]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=window.location.protocol),s.host||(s.host=window.location.host),s}function Zt(e){var t;return e.match(/^https?:\/\//)||((t=document.createElement("a")).href=e,e=t.href),e}function Jt(e){return"string"==typeof e&&(e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e),e)?e.pop().toLowerCase():""}function ei(e,t){return void 0===t&&(t=window.location),(":"===(e=Xt(e)).protocol?t:e).protocol+e.host!==t.protocol+t.host}var ti=function(s){function e(e){for(var t,i=(e=void 0===e?[]:e).length-1;0<=i;i--)if(e[i].enabled){Qt(e,e[i]);break}return(t=s.call(this,e)||this).changing_=!1,t}w(e,s);var t=e.prototype;return t.addTrack=function(e){var t=this;e.enabled&&Qt(this,e),s.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,Qt(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},t.removeTrack=function(e){s.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Yt),ii=function(s){function e(e){for(var t,i=(e=void 0===e?[]:e).length-1;0<=i;i--)if(e[i].selected){Kt(e,e[i]);break}return(t=s.call(this,e)||this).changing_=!1,Object.defineProperty(b(t),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),t}w(e,s);var t=e.prototype;return t.addTrack=function(e){var t=this;e.selected&&Kt(this,e),s.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,Kt(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},t.removeTrack=function(e){s.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Yt),a=(t=function(i){function e(){return i.apply(this,arguments)||this}w(e,i);var t=e.prototype;return t.addTrack=function(e){var t=this;i.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},t.removeTrack=function(e){i.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Yt),function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,i=0,s=this.trackElements_.length;i<s;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},t.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}()),si=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(e){var t=this.length||0,i=0,s=e.length;function n(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}if(this.cues_=e,this.length_=e.length,t<s)for(i=t;i<s;i++)n.call(this,i)},e.getCueById=function(e){for(var t=null,i=0,s=this.length;i<s;i++){var n=this[i];if(n.id===e){t=n;break}}return t},t}(),ni={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ri={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ai={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},oi={disabled:"disabled",hidden:"hidden",showing:"showing"},li=(se=function(r){function e(e){void 0===e&&(e={});var t,i=r.call(this)||this,s={id:e.id||"vjs_track_"+it++,kind:e.kind||"",language:e.language||""},n=e.label||"";for(t in s)!function(e){Object.defineProperty(b(i),e,{get:function(){return s[e]},set:function(){}})}(t);return Object.defineProperty(b(i),"label",{get:function(){return n},set:function(e){e!==n&&(n=e,this.trigger("labelchange"))}}),i}return w(e,r),e}(ft),Object.freeze({__proto__:null,parseUrl:Xt,getAbsoluteURL:Zt,getFileExtension:Jt,isCrossOrigin:ei})),o="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},ci=o,ui=function(e){if(!e)return!1;var t=hi.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},hi=Object.prototype.toString,di=(fi.httpHandler=function(s,n){return void 0===n&&(n=!1),function(e,t,i){if(e)s(e);else if(400<=t.statusCode&&t.statusCode<=599){if(e=i,n)if(ci.TextDecoder){t=function(e){return void 0===e&&(e=""),e.toLowerCase().split(";").reduce(function(e,t){var i=t.split("=");t=i[0],i=i[1];return"charset"===t.trim()?i.trim():e},"utf-8")}(t.headers&&t.headers["content-type"]);try{e=new TextDecoder(t).decode(i)}catch(e){}}else e=String.fromCharCode.apply(null,new Uint8Array(i));s({cause:e})}else s(null,i)}},function(e){var s={};return e&&e.trim().split("\n").forEach(function(e){var t=e.indexOf(":"),i=e.slice(0,t).trim().toLowerCase();t=e.slice(t+1).trim();"undefined"==typeof s[i]?s[i]=t:Array.isArray(s[i])?s[i].push(t):s[i]=[s[i],t]}),s}),pi=fi;function mi(e,t,i){var s=e;return ui(t)?(i=t,"string"==typeof e&&(s={uri:e})):s=K({},t,{uri:e}),s.callback=i,s}function fi(e,t,i){return gi(t=mi(e,t,i))}function gi(s){if("undefined"==typeof s.callback)throw new Error("callback argument missing");var n=!1,r=function(e,t,i){n||(n=!0,s.callback(e,t,i))};function a(){var e=void 0;e=c.response||c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c);if(f)try{e=JSON.parse(e)}catch(e){}return e}function t(e){return clearTimeout(l),(e=e instanceof Error?e:new Error(""+(e||"Unknown XMLHttpRequest Error"))).statusCode=0,r(e,g)}function e(){if(!o){clearTimeout(l);var e=s.useXDR&&void 0===c.status?200:1223===c.status?204:c.status,t=g,i=null;return 0!==e?(t={body:a(),statusCode:e,method:h,headers:{},url:u,rawRequest:c},c.getAllResponseHeaders&&(t.headers=di(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),r(i,t,t.body)}}var i,o,l,c=s.xhr||null,u=(c=c||new(s.cors||s.useXDR?fi.XDomainRequest:fi.XMLHttpRequest)).url=s.uri||s.url,h=c.method=s.method||"GET",d=s.body||s.data,p=c.headers=s.headers||{},m=!!s.sync,f=!1,g={body:void 0,headers:{},statusCode:0,method:h,url:u,rawRequest:c};if("json"in s&&!1!==s.json&&(f=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(!0===s.json?d:s.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(e,0)},c.onload=e,c.onerror=t,c.onprogress=function(){},c.onabort=function(){o=!0},c.ontimeout=t,c.open(h,u,!m,s.username,s.password),m||(c.withCredentials=!!s.withCredentials),!m&&0<s.timeout&&(l=setTimeout(function(){var e;o||(o=!0,c.abort("timeout"),(e=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",t(e))},s.timeout)),c.setRequestHeader)for(i in p)p.hasOwnProperty(i)&&c.setRequestHeader(i,p[i]);else if(s.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(s.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in s&&(c.responseType=s.responseType),"beforeSend"in s&&"function"==typeof s.beforeSend&&s.beforeSend(c),c.send(d||null),c}function yi(e,t){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),s=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){s.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),0<s.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+t.src),s.forEach(function(e){return h.error(e)}),window.console&&window.console.groupEnd&&window.console.groupEnd()),i.flush()}function vi(e,s){var t={uri:e};(e=ei(e))&&(t.cors=e),(e="use-credentials"===s.tech_.crossOrigin())&&(t.withCredentials=e),pi(t,m(this,function(e,t,i){return e?h.error(e,t):(s.loaded_=!0,void("function"!=typeof window.WebVTT?s.tech_&&s.tech_.any(["vttjsloaded","vttjserror"],function(e){return"vttjserror"!==e.type?yi(i,s):void h.error("vttjs failed to load, stopping trying to process "+s.src)}):yi(i,s)))}))}(ne=fi).XMLHttpRequest=ci.XMLHttpRequest||function(){},fi.XDomainRequest="withCredentials"in new fi.XMLHttpRequest?fi.XMLHttpRequest:ci.XDomainRequest;for(var bi=["get","put","post","patch","head","delete"],wi=function(s){fi["delete"===s?"del":s]=function(e,t,i){return(t=mi(e,t,i)).method=s.toUpperCase(),gi(t)}},Si=0;Si<bi.length;Si++)wi(bi[Si]);pi.default=ne;var _i=function(r){function e(e){var t;if(!(e=void 0===e?{}:e).tech)throw new Error("A tech was not provided.");e=g(e,{kind:ai[e.kind]||"subtitles",language:e.language||e.srclang||""});var i=oi[e.mode]||"disabled",s=e.default;"metadata"!==e.kind&&"chapters"!==e.kind||(i="hidden"),(t=r.call(this,e)||this).tech_=e.tech,t.cues_=[],t.activeCues_=[],t.preload_=!1!==t.tech_.preloadTextTracks;var n=new si(t.cues_),a=new si(t.activeCues_),o=!1;return t.timeupdateHandler=m(b(t),function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1)),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),t.tech_.one("dispose",function(){t.stopTracking()}),"disabled"!==i&&t.startTracking(),Object.defineProperties(b(t),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return i},set:function(e){oi[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||vi(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?n:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],i=0,s=this.cues.length;i<s;i++){var n=this.cues[i];(n.startTime<=e&&n.endTime>=e||n.startTime===n.endTime&&n.startTime<=e&&n.startTime+.5>=e)&&t.push(n)}if(o=!1,t.length!==this.activeCues_.length)o=!0;else for(var r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(o=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),e.src?(t.src=e.src,t.preload_||(t.loaded_=!0),(t.preload_||"subtitles"!==e.kind&&"captions"!==e.kind)&&vi(t.src,b(t))):t.loaded_=!0,t}w(e,r);var t=e.prototype;return t.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},t.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},t.addCue=function(e){var t=e;if(window.vttjs&&!(e instanceof window.vttjs.VTTCue)){for(var i in t=new window.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var s=this.tech_.textTracks(),n=0;n<s.length;n++)s[n]!==this&&s[n].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},e}(se),Ci=(_i.prototype.allowedEvents_={cuechange:"cuechange"},i=function(s){function e(e){var t=g(e=void 0===e?{}:e,{kind:ri[e.kind]||""}),i=(e=s.call(this,t)||this,!1);return Object.defineProperty(b(e),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(e.enabled=t.enabled),e.loaded_=!0,e}return w(e,s),e}(se),pe=function(s){function e(e){var t=g(e=void 0===e?{}:e,{kind:ni[e.kind]||""}),i=(e=s.call(this,t)||this,!1);return Object.defineProperty(b(e),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),t.selected&&(e.selected=t.selected),e}return w(e,s),e}(se),(n=function(n){function e(e){var t;void 0===e&&(e={});var i=n.call(this)||this,s=new _i(e);return i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i.default=s.default,Object.defineProperties(b(i),{readyState:{get:function(){return t}},track:{get:function(){return s}}}),t=0,s.addEventListener("loadeddata",function(){t=2,i.trigger({type:"load",target:b(i)})}),i}return w(e,n),e}(ft)).prototype.allowedEvents_={load:"load"},n.NONE=0,n.LOADING=1,n.LOADED=2,n.ERROR=3,{audio:{ListClass:ti,TrackClass:i,capitalName:"Audio"},video:{ListClass:ii,TrackClass:pe,capitalName:"Video"},text:{ListClass:t,TrackClass:_i,capitalName:"Text"}}),ki=(Object.keys(Ci).forEach(function(e){Ci[e].getterName=e+"Tracks",Ci[e].privateName=e+"Tracks_"}),{remoteText:{ListClass:t,TrackClass:_i,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:a,TrackClass:n,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),xi=K({},Ci,ki),Ti=(ki.names=Object.keys(ki),Ci.names=Object.keys(Ci),xi.names=[].concat(ki.names).concat(Ci.names),"undefined"!=typeof e?e:"undefined"!=typeof window?window:{}),S="undefined"!=typeof document?document:(S=Ti["__GLOBAL_DOCUMENT_CACHE@4"])||(Ti["__GLOBAL_DOCUMENT_CACHE@4"]={}),Ii=(o=S,Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Pi.prototype=e,new Pi});function Pi(){}function Ai(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Ei(e){function t(e,t,i,s){return 3600*(0|e)+60*(0|t)+(0|i)+(0|s)/1e3}return e=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/),e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function Di(){this.values=Ii(null)}function Oi(e,t,i,s){var n,r,a=s?e.split(s):[e];for(n in a)"string"==typeof a[n]&&2===(r=a[n].split(i)).length&&t(r[0].trim(),r[1].trim())}function Li(t,e,a){var i=t;function s(){var e=Ei(t);if(null===e)throw new Ai(Ai.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function n(){t=t.replace(/^\s+/,"")}if(n(),e.startTime=s(),n(),"--\x3e"!==t.substr(0,3))throw new Ai(Ai.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),n(),e.endTime=s(),n(),function(e,t){var r=new Di;Oi(e,function(e,t){switch(e){case"region":for(var i=a.length-1;0<=i;i--)if(a[i].id===t){r.set(e,a[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var s=t.split(","),n=s[0];r.integer(e,n),r.percent(e,n)&&r.set("snapToLines",!1),r.alt(e,n,["auto"]),2===s.length&&r.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=t.split(","),r.percent(e,s[0]),2===s.length&&r.alt("positionAlign",s[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(e){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(t,e)}((Ai.prototype=Ii(Error.prototype)).constructor=Ai).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Di.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var s=0;s<i.length;++s)if(t===i[s]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var Ni=o.createElement&&o.createElement("textarea"),Mi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Bi={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Fi={v:"title",lang:"lang"},Ri={rt:"ruby"};function $i(e,t){for(var i,s,n,r,a,o,l,c,u,h,d=e.document.createElement("div"),p=d,m=[];null!==(i=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]*>?)?/);return e=e[1]||e[2],t=t.substr(e.length),e}());)"<"!==i[0]?p.appendChild(e.document.createTextNode((a=i,Ni.innerHTML=a,a=Ni.textContent,Ni.textContent="",a))):"/"!==i[1]?(r=Ei(i.substr(1,i.length-2)))?(s=e.document.createProcessingInstruction("timestamp",r),p.appendChild(s)):(n=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(c=n[1],u=n[3],h=void 0,h=Mi[c],(s=h?(h=e.document.createElement(h),(c=Fi[c])&&u&&(h[c]=u.trim()),h):null)&&(o=p,Ri[(l=s).localName]&&Ri[l.localName]!==o.localName||(n[2]&&((r=n[2].split(".")).forEach(function(e){var t=/^bg_/.test(e);e=t?e.slice(3):e;Bi.hasOwnProperty(e)&&(e=Bi[e],s.style[t?"background-color":"color"]=e)}),s.className=r.join(" ")),m.push(n[1]),p.appendChild(s),p=s))):m.length&&m[m.length-1]===i.substr(2).replace(">","")&&(m.pop(),p=p.parentNode);return d}var Ui=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ji(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var i=t.childNodes.length-1;0<=i;i--)e.push(t.childNodes[i])}for(r(t,e);i=function e(t){if(!t||!t.length)return null;var i=t.pop(),s=i.textContent||i.innerText;if(s){var n=s.match(/^.*(\n|\r)/);return n?n[t.length=0]:s}return"ruby"===i.tagName?e(t):i.childNodes?(r(t,i),e(t)):void 0}(t);)for(var s=0;s<i.length;s++)if(function(e){for(var t=0;t<Ui.length;t++){var i=Ui[t];if(e>=i[0]&&e<=i[1])return 1}}(i.charCodeAt(s)))return"rtl";return"ltr"}function Vi(){}function zi(e,t,i){Vi.call(this),this.cue=t,this.cueDiv=$i(e,t.text);var s={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={direction:ji(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(s),this.div.appendChild(this.cueDiv);var n=0;switch(t.positionAlign){case"start":n=t.position;break;case"center":n=t.position-t.size/2;break;case"end":n=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Wi(e){var t,i,s,n;e.div&&(t=e.div.offsetHeight,i=e.div.offsetWidth,s=e.div.offsetTop,n=(n=e.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects(),e=e.div.getBoundingClientRect(),n=n?Math.max(n[0]&&n[0].height||0,e.height/n.length):0),this.left=e.left,this.right=e.right,this.top=e.top||s,this.height=e.height||t,this.bottom=e.bottom||s+(e.height||t),this.width=e.width||i,this.lineHeight=void 0!==n?n:e.lineHeight}function Hi(e,t,o,l){var i,s=new Wi(t),n=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,s=0,n=0;n<i.length&&i[n]!==t;n++)"showing"===i[n].mode&&s++;return-1*++s}(n),a=[];if(n.snapToLines){switch(n.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}var c=s.lineHeight,u=c*Math.round(r),h=o[i]+c,d=a[0];Math.abs(u)>h&&(u=u<0?-1:1,u*=Math.ceil(h/c)*c),r<0&&(u+=""===n.vertical?o.height:o.width,a=a.reverse()),s.move(d,u)}else{var p=s.lineHeight/o.height*100;switch(n.lineAlign){case"center":r-=p/2;break;case"end":r-=p}switch(n.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}a=["+y","-x","+x","-y"],s=new Wi(t)}s=function(e,t){for(var i,s=new Wi(e),n=1,r=0;r<t.length;r++){for(;e.overlapsOppositeAxis(o,t[r])||e.within(o)&&e.overlapsAny(l);)e.move(t[r]);if(e.within(o))return e;var a=e.intersectPercentage(o);a<n&&(i=new Wi(e),n=a),e=new Wi(s)}return i||s}(s,a),t.move(s.toCSSCompatValues(o))}function qi(){}Vi.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},Vi.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(zi.prototype=Ii(Vi.prototype)).constructor=zi,Wi.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Wi.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Wi.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Wi.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Wi.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Wi.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Wi.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Wi.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,s=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||s,height:e.height||t,bottom:e.bottom||s+(e.height||t),width:e.width||i}},qi.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},qi.convertCueToDOMTree=function(e,t){return e&&t?$i(e,t):null},qi.processCues=function(s,n,e){if(!s||!n||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var r=s.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",e.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(n)){var a=[],o=Wi.getSimpleBoxPosition(r),l={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var e,t,i=0;i<n.length;i++)t=n[i],e=new zi(s,t,l),r.appendChild(e.div),Hi(0,e,o,a),t.displayState=e.div,a.push(Wi.getSimpleBoxPosition(e))}()}else for(var t=0;t<n.length;t++)r.appendChild(n[t].displayState)},(qi.Parser=function(e,t,i){i||(i=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof Ai))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var s=this;function t(){for(var e=s.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,s.buffer=e.substr(t),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?Oi(e,function(e,t){var i;"X-TIMESTAMP-MAP"===e&&(t=t,i=new Di,Oi(t,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",Ei(t))}},/[^\d]:/,/,/),s.ontimestampmap&&s.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")}))},/=/):Oi(e,function(e,t){var n;"Region"===e&&(t=t,n=new Di,Oi(t,function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var s=new Di;if(s.percent("x",i[0]),s.percent("y",i[1]),!s.has("x")||!s.has("y"))break;n.set(e+"X",s.get("x")),n.set(e+"Y",s.get("y"));break;case"scroll":n.alt(e,t,["up"])}},/=/,/\s/),n.has("id")&&((t=new(s.vttjs.VTTRegion||s.window.VTTRegion)).width=n.get("width",100),t.lines=n.get("lines",3),t.regionAnchorX=n.get("regionanchorX",0),t.regionAnchorY=n.get("regionanchorY",100),t.viewportAnchorX=n.get("viewportanchorX",0),t.viewportAnchorY=n.get("viewportanchorY",100),t.scroll=n.get("scroll",""),s.onregion&&s.onregion(t),s.regionList.push({id:n.get("id"),region:t})))},/:/)}e&&(s.buffer+=s.decoder.decode(e,{stream:!0}));try{if("INITIAL"===s.state){if(!/\r\n|\n/.test(s.buffer))return this;var n,r=(n=t()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Ai(Ai.Errors.BadSignature);s.state="HEADER"}for(var a=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(a?a=!1:n=t(),s.state){case"HEADER":/:/.test(n)?i(n):n||(s.state="ID");continue;case"NOTE":n||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){s.state="NOTE";break}if(!n)continue;s.cue=new(s.vttjs.VTTCue||s.window.VTTCue)(0,0,"");try{s.cue.align="center"}catch(e){s.cue.align="middle"}if(s.state="CUE",-1===n.indexOf("--\x3e")){s.cue.id=n;continue}case"CUE":try{Li(n,s.cue,s.regionList)}catch(e){s.reportOrThrowError(e),s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){s.oncue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}s.cue.text&&(s.cue.text+="\n"),s.cue.text+=n.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":n||(s.state="ID");continue}}}catch(e){s.reportOrThrowError(e),"CUETEXT"===s.state&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state="INITIAL"===s.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Ai(Ai.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Gi=qi,Yi={"":1,lr:1,rl:1},Qi={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Ki(e){return"string"==typeof e&&!!Qi[e.toLowerCase()]&&e.toLowerCase()}function Xi(e,t,i){this.hasBeenReset=!1;var s="",n=!1,r=e,a=t,o=i,l=null,c="",u=!0,h="auto",d="start",p="auto",m="auto",f=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(e){s=""+e}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(e){n=!!e}},startTime:{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");r=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){if(e="string"==typeof(e=e)&&!!Yi[e.toLowerCase()]&&e.toLowerCase(),!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(e){u=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(e){e=Ki(e),e&&(d=e,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){e=Ki(e),e&&(m=e,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");f=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){if(e=Ki(e),!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Xi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Zi=Xi,Ji={"":!0,up:!0};function es(e){return"number"==typeof e&&0<=e&&e<=100}function ts(){var t=100,i=3,s=0,n=100,r=0,a=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!es(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(e){if(!es(e))throw new Error("RegionAnchorX must be between 0 and 100.");n=e}},regionAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!es(e))throw new Error("RegionAnchorY must be between 0 and 100.");s=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!es(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!es(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return o},set:function(e){e="string"==typeof(e=e)&&!!Ji[e.toLowerCase()]&&e.toLowerCase(),!1===e||(o=e)}}})}var is=Q(function(e){e=e.exports={WebVTT:Gi,VTTCue:Zi,VTTRegion:ts},ci.vttjs=e,ci.WebVTT=e.WebVTT;var t=e.VTTCue,i=e.VTTRegion,s=ci.VTTCue,n=ci.VTTRegion;e.shim=function(){ci.VTTCue=t,ci.VTTRegion=i},e.restore=function(){ci.VTTCue=s,ci.VTTRegion=n},ci.VTTCue||e.shim()}),_=(is.WebVTT,is.VTTCue,is.VTTRegion,function(s){function i(t,e){var i;return void 0===e&&(e=function(){}),(t=void 0===t?{}:t).reportTouchActivity=!1,(i=s.call(this,null,t,e)||this).onDurationChange_=function(e){return i.onDurationChange(e)},i.trackProgress_=function(e){return i.trackProgress(e)},i.trackCurrentTime_=function(e){return i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=function(e){return i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=function(e){return i.disposeSourceHandler(e)},i.queuedHanders_=new Set,i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),xi.names.forEach(function(e){e=xi[e],t&&t[e.getterName]&&(i[e.privateName]=t[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new xi.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}w(i,s);var e=i.prototype;return e.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},e.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(m(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(e){this.duration_=this.duration()},e.buffered=function(){return Mt(0,0)},e.bufferedPercent=function(){return Bt(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(Ci.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),s.prototype.dispose.call(this)},e.clearTracks=function(e){var n=this;(e=[].concat(e)).forEach(function(e){for(var t=n[e+"Tracks"]()||[],i=t.length;i--;){var s=t[i];"text"===e&&n.removeRemoteTextTrack(s),t.removeTrack(s)}})},e.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},e.reset=function(){},e.crossOrigin=function(){},e.setCrossOrigin=function(){},e.error=function(e){return void 0!==e&&(this.error_=new Ft(e),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?Mt(0,0):Mt()},e.play=function(){},e.setScrubbing=function(){},e.scrubbing=function(){},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var n=this;Ci.names.forEach(function(e){function t(){n.trigger(e+"trackchange")}var i=Ci[e],s=n[i.getterName]();s.addEventListener("removetrack",t),s.addEventListener("addtrack",t),n.on("dispose",function(){s.removeEventListener("removetrack",t),s.removeEventListener("addtrack",t)})})},e.addWebVttScript_=function(){var e,t=this;window.WebVTT||(document.body.contains(this.el())?!this.options_["vtt.js"]&&te(is)&&0<Object.keys(is).length?this.trigger("vttjsloaded"):((e=document.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(e)):this.ready(this.addWebVttScript_))},e.emulateTextTracks=function(){function t(e){return s.addTrack(e.track)}function i(e){return s.removeTrack(e.track)}var e=this,s=this.textTracks(),n=this.remoteTextTracks();function r(){return e.trigger("texttrackchange")}function a(){r();for(var e=0;e<s.length;e++){var t=s[e];t.removeEventListener("cuechange",r),"showing"===t.mode&&t.addEventListener("cuechange",r)}}n.on("addtrack",t),n.on("removetrack",i),this.addWebVttScript_(),a(),s.addEventListener("change",a),s.addEventListener("addtrack",a),s.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",t),n.off("removetrack",i),s.removeEventListener("change",a),s.removeEventListener("addtrack",a),s.removeEventListener("removetrack",a);for(var e=0;e<s.length;e++)s[e].removeEventListener("cuechange",r)})},e.addTextTrack=function(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,s,n){void 0===n&&(n={});var r=e.textTracks();return n.kind=t,i&&(n.label=i),s&&(n.language=s),n.tech=e,n=new xi.text.TrackClass(n),r.addTrack(n),n}(this,e,t,i)},e.createRemoteTextTrack=function(e){return e=g(e,{tech:this}),new ki.remoteTextEl.TrackClass(e)},e.addRemoteTextTrack=function(e,t){var i=this,s=this.createRemoteTextTrack(e=void 0===e?{}:e);return!0!==t&&!1!==t&&(h.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),!0!==t&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(s.track)}),s},e.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var e=this.options_.Promise||window.Promise;if(e)return e.reject()},e.disablePictureInPicture=function(){return!0},e.setDisablePictureInPicture=function(){},e.requestVideoFrameCallback=function(e){var t=this,i=it++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",function(){t.queuedHanders_.has(i)&&(t.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i},e.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(e,t){return i.canPlayType(e.type)},i.isTech=function(e){return e.prototype instanceof i||e instanceof i||e===i},i.registerTech=function(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=f(e),i.techs_[e]=t,i.techs_[Et(e)]=t,"Tech"!==e&&i.defaultTechOrder_.push(e),t},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=f(e),window&&window.videojs&&window.videojs[e]?(h.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window.videojs[e]):void 0)},i}(v)),ss=(xi.names.forEach(function(e){var t=xi[e];_.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),_.prototype.featuresVolumeControl=!0,_.prototype.featuresMuteControl=!0,_.prototype.featuresFullscreenResize=!1,_.prototype.featuresPlaybackRate=!1,_.prototype.featuresProgressEvents=!1,_.prototype.featuresSourceset=!1,_.prototype.featuresTimeupdateEvents=!1,_.prototype.featuresNativeTextTracks=!1,_.prototype.featuresVideoFrameCallback=!1,_.withSourceHandlers=function(n){n.registerSourceHandler=function(e,t){var i=(i=n.sourceHandlers)||(n.sourceHandlers=[]);void 0===t&&(t=i.length),i.splice(t,0,e)},n.canPlayType=function(e){for(var t,i=n.sourceHandlers||[],s=0;s<i.length;s++)if(t=i[s].canPlayType(e))return t;return""},n.selectSourceHandler=function(e,t){for(var i=n.sourceHandlers||[],s=0;s<i.length;s++)if(i[s].canHandleSource(e,t))return i[s];return null},n.canPlaySource=function(e,t){var i=n.selectSourceHandler(e,t);return i?i.canHandleSource(e,t):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(e){var t=n.selectSourceHandler(e,this.options_);t||(n.nativeSourceHandler?t=n.nativeSourceHandler:h.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),t!==n.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},v.registerComponent("Tech",_),_.registerTech("Tech",_),_.defaultTechOrder_=[],{}),ns={},rs={};function as(e,t,i){e.setTimeout(function(){return function i(s,e,n,r,a,o){void 0===s&&(s={}),void 0===e&&(e=[]),void 0===a&&(a=[]),void 0===o&&(o=!1);var t=e,l=(e=t[0],t.slice(1));if("string"==typeof e)i(s,ss[e],n,r,a,o);else if(e){var c=ds(r,e);if(!c.setSource)return a.push(c),i(s,l,n,r,a,o);c.setSource(d({},s),function(e,t){return e?i(s,l,n,r,a,o):(a.push(c),void i(t,s.type===t.type?l:ss[t.type],n,r,a,o))})}else l.length?i(s,l,n,r,a,o):o?n(s,a):i(s,ss["*"],n,r,a,!0)}(t,ss[t.type],i,e)},1)}function os(e,t,i,s){void 0===s&&(s=null);var n="call"+f(i);n=e.reduce(hs(n),s),s=n===rs,n=s?null:t[i](n);return function(e,t,i,s){for(var n=e.length-1;0<=n;n--){var r=e[n];r[t]&&r[t](s,i)}}(e,i,n,s),n}var ls={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},cs={setCurrentTime:1,setMuted:1,setVolume:1},us={play:1,pause:1};function hs(i){return function(e,t){return e===rs?rs:t[i]?t[i](e):e}}function ds(e,t){var i=ns[e.id()],s=null;if(null==i)return s=t(e),ns[e.id()]=[[t,s]],s;for(var n=0;n<i.length;n++){var r=i[n],a=r[0];r=r[1];a===t&&(s=r)}return null===s&&(s=t(e),i.push([t,s])),s}function ps(e){return e=Jt(e=void 0===e?"":e),fs[e.toLowerCase()]||""}function ms(e){var t;return Array.isArray(e)?(t=[],e.forEach(function(e){e=ms(e),Array.isArray(e)?t=t.concat(e):ee(e)&&t.push(e)}),t):"string"==typeof e&&e.trim()?[gs({src:e})]:ee(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[gs(e)]:[]}var fs={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};function gs(e){var t;return e.type||(t=ps(e.src))&&(e.type=t),e}ne=function(l){function e(e,t,i){var s=g({createEl:!1},t);i=l.call(this,e,s,i)||this;if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var n=0,r=t.playerOptions.techOrder;n<r.length;n++){var a=f(r[n]),o=_.getTech(a);if((o=a?o:v.getComponent(a))&&o.isSupported()){e.loadTech_(a);break}}return i}return w(e,l),e}(v),v.registerComponent("MediaLoader",ne),se=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(e){return i.handleMouseOver(e)},i.handleMouseOut_=function(e){return i.handleMouseOut(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}w(e,s);var t=e.prototype;return t.createEl=function(e,t,i){return void 0===e&&(e="div"),void 0===t&&(t={}),void 0===i&&(i={}),t=d({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&h.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=d({role:"button"},i),this.tabIndex_=t.tabIndex,i=u(e,t,i),i.appendChild(u("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},t.dispose=function(){this.controlTextEl_=null,s.prototype.dispose.call(this)},t.createControlTextEl=function(e){return this.controlTextEl_=u("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,ke(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",i)},t.buildCSSClass=function(){return"vjs-control vjs-button "+s.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},t.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},t.handleLanguagechange=function(){this.controlText(this.controlText_)},t.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},t.handleKeyDown=function(e){y.isEventKey(e,"Space")||y.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):s.prototype.handleKeyDown.call(this,e)},e}(v),v.registerComponent("ClickableComponent",se),v.registerComponent("PosterImage",function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.update(),i.update_=function(e){return i.update(e)},e.on("posterchange",i.update_),i}w(e,s);var t=e.prototype;return t.dispose=function(){this.player().off("posterchange",this.update_),s.prototype.dispose.call(this)},t.createEl=function(){return u("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.setSrc=function(e){this.el_.style.backgroundImage=e?'url("'+e+'")':""},t.handleClick=function(e){var t;this.player_.controls()&&(t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||(de||ce)&&t||this.player_.tech(!0).focus(),this.player_.paused()?jt(this.player_.play()):this.player_.pause())},e}(se));var ys="#222",vs={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function bs(e,t){var i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function ws(e,t,i){try{e.style[t]=i}catch(e){return}}v.registerComponent("TextTrackDisplay",function(r){function e(i,e,t){function s(e){return n.updateDisplay(e)}var n=r.call(this,i,e,t)||this;return i.on("loadstart",function(e){return n.toggleDisplay(e)}),i.on("texttrackchange",s),i.on("loadedmetadata",function(e){return n.preselectTrack(e)}),i.ready(m(b(n),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",s),i.on("playerresize",s),window.addEventListener("orientationchange",s),i.on("dispose",function(){return window.removeEventListener("orientationchange",s)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),n}w(e,r);var t=e.prototype;return t.preselectTrack=function(){for(var e,t,i,s={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,a=0;a<n.length;a++){var o=n[a];r&&r.enabled&&r.language&&r.language===o.language&&o.kind in s?i=o.kind!==r.kind&&i||o:r&&!r.enabled?t=e=i=null:o.default&&("descriptions"!==o.kind||e?o.kind in s&&!t&&(t=o):e=o)}i?i.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},t.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},t.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)},t.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],s=0;s<e.length;++s){var n=e[s];"showing"===n.mode&&i.push(n)}this.updateForTrack(i)}else{for(var r=null,a=null,o=e.length;o--;){var l=e[o];"showing"===l.mode&&("descriptions"===l.kind?r=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):r&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r))}},t.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),i=e.activeCues,s=i.length;s--;){var n,r=i[s];r&&(n=r.displayState,t.color&&(n.firstChild.style.color=t.color),t.textOpacity&&ws(n.firstChild,"color",bs(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(n.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ws(n.firstChild,"backgroundColor",bs(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ws(n,"backgroundColor",bs(t.windowColor,t.windowOpacity)):n.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?n.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+ys:"raised"===t.edgeStyle?n.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+ys:"depressed"===t.edgeStyle?n.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+ys:"uniform"===t.edgeStyle&&(n.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+ys)),t.fontPercent&&1!==t.fontPercent&&(r=window.parseFloat(n.style.fontSize),n.style.fontSize=r*t.fontPercent+"px",n.style.height="auto",n.style.top="auto"),t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?n.firstChild.style.fontVariant="small-caps":n.firstChild.style.fontFamily=vs[t.fontFamily]))}},t.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof window.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],i=0;i<e.length;++i)for(var s=e[i],n=0;n<s.activeCues.length;++n)t.push(s.activeCues[n]);window.WebVTT.processCues(window,t,this.el_);for(var r=0;r<e.length;++r){for(var a=e[r],o=0;o<a.activeCues.length;++o){var l=a.activeCues[o].displayState;Ie(l,"vjs-text-track-cue"),Ie(l,"vjs-text-track-cue-"+(a.language||r)),a.language&&Le(l,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},e}(v)),v.registerComponent("LoadingSpinner",function(i){function e(){return i.apply(this,arguments)||this}return w(e,i),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player");e=u("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),t=i.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(e),t},e}(v));var Ss=function(t){function e(){return t.apply(this,arguments)||this}w(e,t);var i=e.prototype;return i.createEl=function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),i=u("button",t=d({className:this.buildCSSClass()},t),i=d({type:"button"},i)),i.appendChild(u("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},i.addChild=function(e,t){void 0===t&&(t={});var i=this.constructor.name;return h.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),v.prototype.addChild.call(this,e,t)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){y.isEventKey(e,"Space")||y.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(se);function _s(e,t){e=e<0?0:e;var i=Math.floor(e%60),s=Math.floor(e/60%60),n=Math.floor(e/3600),r=Math.floor(t/60%60);t=Math.floor(t/3600);return(n=0<(n=isNaN(e)||e===1/0?s=i="-":n)||0<t?n+":":"")+(s=((n||10<=r)&&s<10?"0"+s:s)+":")+(i<10?"0"+i:i)}v.registerComponent("Button",Ss),(ti=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.mouseused_=!1,i.on("mousedown",function(e){return i.handleMouseDown(e)}),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return jt(t),void(!this.player_.tech(!0)||(de||ce)&&i||this.player_.tech(!0).focus())}i=this.player_.getChild("controlBar");var s=i&&i.getChild("playToggle");s?(i=function(){return s.focus()},Ut(t)?t.then(i,function(){}):this.setTimeout(i,1)):this.player_.tech(!0).focus()},t.handleKeyDown=function(e){this.mouseused_=!1,s.prototype.handleKeyDown.call(this,e)},t.handleMouseDown=function(e){this.mouseused_=!0},e}(Ss)).prototype.controlText_="Play Video",v.registerComponent("BigPlayButton",ti),v.registerComponent("CloseButton",function(i){function e(e,t){return e=i.call(this,e,t)||this,e.controlText(t&&t.controlText||e.localize("Close")),e}w(e,i);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t.handleKeyDown=function(e){y.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):i.prototype.handleKeyDown.call(this,e)},e}(Ss)),(ii=function(s){function e(e,t){var i=s.call(this,e,t=void 0===t?{}:t)||this;return t.replay=void 0===t.replay||t.replay,i.on(e,"play",function(e){return i.handlePlay(e)}),i.on(e,"pause",function(e){return i.handlePause(e)}),t.replay&&i.on(e,"ended",function(e){return i.handleEnded(e)}),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+s.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.player_.paused()?jt(this.player_.play()):this.player_.pause()},t.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(e){return t.handleSeeked(e)})},e}(Ss)).prototype.controlText_="Play",v.registerComponent("PlayToggle",ii);var Cs=_s;function ks(e,t){return Cs(e,t=void 0===t?e:t)}function xs(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}function Ts(e,t){return xs(e/t*100,0,100).toFixed(2)+"%"}(t=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.on(e,["timeupdate","ended"],function(e){return i.updateContent(e)}),i.updateTextNode_(),i}w(e,s);var t=e.prototype;return t.createEl=function(){var e=this.buildCSSClass(),t=s.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),i=u("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return t.appendChild(i),this.contentEl_=u("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},t.dispose=function(){this.contentEl_=null,this.textNode_=null,s.prototype.dispose.call(this)},t.updateTextNode_=function(e){var t=this;e=ks(e=void 0===e?0:e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){var e;t.contentEl_&&((e=t.textNode_)&&t.contentEl_.firstChild!==e&&(e=null,h.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=document.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_)))}))},t.updateContent=function(e){},e}(v)).prototype.labelText_="Time",t.prototype.controlText_="Time",v.registerComponent("TimeDisplay",t),(a=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(e){var t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(t)},t}(t)).prototype.labelText_="Current Time",a.prototype.controlText_="Current Time",v.registerComponent("CurrentTimeDisplay",a),(n=function(s){function e(e,t){var i=s.call(this,e,t)||this;t=function(e){return i.updateContent(e)};return i.on(e,"durationchange",t),i.on(e,"loadstart",t),i.on(e,"loadedmetadata",t),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-duration"},t.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},e}(t)).prototype.labelText_="Duration",n.prototype.controlText_="Duration",v.registerComponent("DurationDisplay",n),v.registerComponent("TimeDivider",function(s){function e(){return s.apply(this,arguments)||this}return w(e,s),e.prototype.createEl=function(){var e=s.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=s.prototype.createEl.call(this,"div"),i=s.prototype.createEl.call(this,"span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e},e}(v)),(e=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.on(e,"durationchange",function(e){return i.updateContent(e)}),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.createEl=function(){var e=s.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(u("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},t.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},e}(t)).prototype.labelText_="Remaining Time",e.prototype.controlText_="Remaining Time",v.registerComponent("RemainingTimeDisplay",e),v.registerComponent("LiveDisplay",function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.updateShowing(),i.on(i.player(),"durationchange",function(e){return i.updateShowing(e)}),i}w(e,s);var t=e.prototype;return t.createEl=function(){var e=s.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=u("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(u("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},t.dispose=function(){this.contentEl_=null,s.prototype.dispose.call(this)},t.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},e}(v)),(Ti=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(e){return i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}w(e,s);var t=e.prototype;return t.createEl=function(){var e=s.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=u("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},t.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,s.prototype.dispose.call(this)},e}(Ss)).prototype.controlText_="Seek to live, currently playing live",v.registerComponent("SeekToLive",Ti),S=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}w(e,s);var t=e.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},t.createEl=function(e,t,i){return void 0===i&&(i={}),(t=void 0===t?{}:t).className=t.className+" vjs-slider",t=d({tabIndex:0},t),i=d({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),s.prototype.createEl.call(this,e,t,i)},t.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ue||e.preventDefault(),Me(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},t.handleMouseMove=function(e){},t.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Be(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},t.update=function(){var t=this;if(this.el_&&this.bar){var i=this.getProgress();return i===this.progress_||(this.progress_=i,this.requestNamedAnimationFrame("Slider#update",function(){var e=t.vertical()?"height":"width";t.bar.el().style[e]=(100*i).toFixed(2)+"%"})),i}},t.getProgress=function(){return Number(xs(this.getPercent(),0,1).toFixed(4))},t.calculateDistance=function(e){return e=$e(this.el_,e),this.vertical()?e.y:e.x},t.handleKeyDown=function(e){y.isEventKey(e,"Left")||y.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):y.isEventKey(e,"Right")||y.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):s.prototype.handleKeyDown.call(this,e)},t.handleClick=function(e){e.stopPropagation(),e.preventDefault()},t.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(v),v.registerComponent("Slider",S),v.registerComponent("LoadProgressBar",function(n){function e(e,t){var i=n.call(this,e,t)||this;return i.partEls_=[],i.on(e,"progress",function(e){return i.update(e)}),i}w(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=u("span",{className:"vjs-control-text"}),i=u("span",{textContent:this.localize("Loaded")}),s=document.createTextNode(": ");return this.percentageEl_=u("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(s),t.appendChild(this.percentageEl_),e},t.dispose=function(){this.partEls_=null,this.percentageEl_=null,n.prototype.dispose.call(this)},t.update=function(e){var c=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var e=c.player_.liveTracker,t=c.player_.buffered(),i=(e=e&&e.isLive()?e.seekableEnd():c.player_.duration(),c.player_.bufferedEnd()),s=c.partEls_;e=Ts(i,e);c.percent_!==e&&(c.el_.style.width=e,ke(c.percentageEl_,e),c.percent_=e);for(var n=0;n<t.length;n++){var r=t.start(n),a=t.end(n),o=s[n];o||(o=c.el_.appendChild(u()),s[n]=o),o.dataset.start===r&&o.dataset.end===a||(o.dataset.start=r,o.dataset.end=a,o.style.left=Ts(r,i),o.style.width=Ts(a-r,i))}for(var l=s.length;l>t.length;l--)c.el_.removeChild(s[l-1]);s.length=t.length})},e}(v)),v.registerComponent("TimeTooltip",function(i){function e(e,t){return t=i.call(this,e,t)||this,t.update=pt(m(b(t),t.update),30),t}w(e,i);var t=e.prototype;return t.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(e,t,i){var s=Re(this.el_),n=Fe(this.player_.el()),r=e.width*t;n&&s&&(t=e.left-n.left+r,n=e.width-r+(n.right-e.right),t<(e=s.width/2)?e+=e-t:n<e&&(e=n),e<0?e=0:e>s.width&&(e=s.width),e=Math.round(e),this.el_.style.right="-"+e+"px",this.write(i))},t.write=function(e){ke(this.el_,e)},t.updateTime=function(s,n,r,a){var o=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var e,t,i=o.player_.duration();i=o.player_.liveTracker&&o.player_.liveTracker.isLive()?((t=(e=o.player_.liveTracker.liveWindow())-n*e)<1?"":"-")+ks(t,e):ks(r,i),o.update(s,n,i),a&&a()})},e}(v)),(o=function(i){function e(e,t){return t=i.call(this,e,t)||this,t.update=pt(m(b(t),t.update),30),t}w(e,i);var t=e.prototype;return t.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},t.update=function(e,t){var i,s=this.getChild("timeTooltip");s&&(i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),s.updateTime(e,t,i))},e}(v)).prototype.options_={children:[]},p||re||o.prototype.options_.children.push("timeTooltip"),v.registerComponent("PlayProgressBar",o),(ne=function(i){function e(e,t){return t=i.call(this,e,t)||this,t.update=pt(m(b(t),t.update),30),t}w(e,i);var t=e.prototype;return t.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,t){var i=this,s=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,s,function(){i.el_.style.left=e.width*t+"px"})},e}(v)).prototype.options_={children:["timeTooltip"]},v.registerComponent("MouseTimeDisplay",ne),(ti=function(r){function e(e,t){return t=r.call(this,e,t)||this,t.setEventHandlers_(),t}w(e,r);var t=e.prototype;return t.setEventHandlers_=function(){var t=this;this.update_=m(this,this.update),this.update=pt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(e){return t.enableInterval_(e)},this.disableIntervalHandler_=function(e){return t.disableInterval_(e)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)},t.toggleVisibility_=function(e){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},t.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},t.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update=function(e){var s=this;if("hidden"!==document.visibilityState){var n=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var e=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),t=s.player_.liveTracker,i=s.player_.duration();t&&t.isLive()&&(i=s.player_.liveTracker.liveCurrentTime()),s.percent_!==n&&(s.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),s.percent_=n),s.currentTime_===e&&s.duration_===i||(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[ks(e,i),ks(i,i)],"{1} of {2}")),s.currentTime_=e,s.duration_=i),s.bar&&s.bar.update(Fe(s.el()),s.getProgress())}),n}},t.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.getPercent=function(){var e,t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},t.handleMouseDown=function(e){He(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,e))},t.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),He(e)){t||this.player_.scrubbing()||this.player_.scrubbing(!0);var i=this.calculateDistance(e),s=this.player_.liveTracker;if(s&&s.isLive()){if(.99<=i)return void s.seekToLiveEdge();var n;t=s.seekableStart(),e=s.liveCurrentTime();if((n=(n=e<=(n=t+i*s.liveWindow())?e:n)<=t?t+.1:n)===1/0)return}else(n=i*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},t.enable=function(){r.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},t.disable=function(){r.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},t.handleMouseUp=function(e){r.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?jt(this.player_.play()):this.update_()},t.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},t.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},t.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyDown=function(e){var t,i=this.player_.liveTracker;y.isEventKey(e,"Space")||y.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.handleAction(e)):y.isEventKey(e,"Home")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(0)):y.isEventKey(e,"End")?(e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(y(e))?(e.preventDefault(),e.stopPropagation(),t=10*(y.codes[y(e)]-y.codes[0])/100,i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*t):this.userSeek_(this.player_.duration()*t)):y.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):y.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):r.prototype.handleKeyDown.call(this,e)},t.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},e}(S)).prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},p||re||ti.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),v.registerComponent("SeekBar",ti),(ii=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.handleMouseMove=pt(m(b(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=pt(m(b(i),i.handleMouseSeek),30),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.handleMouseDownHandler_=function(e){return i.handleMouseDown(e)},i.enable(),i}w(e,s);var t=e.prototype;return t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(e){var t,i,s,n,r=this.getChild("seekBar");r&&(t=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay"),(t||i)&&(n=Re(s=r.el()),e=$e(s,e).x,e=xs(e,0,1),i&&i.update(n,e),t&&t.update(n,r.getProgress())))},t.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.enabled=function(){return this.enabled_},t.disable=function(){var e;this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing()&&(e=this.getChild("seekBar"),this.player_.scrubbing(!1),e.videoWasPlaying&&jt(this.player_.play())))},t.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},t.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},t.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},e}(v)).prototype.options_={children:["seekBar"]},v.registerComponent("ProgressControl",ii),(a=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.on(e,["enterpictureinpicture","leavepictureinpicture"],function(e){return i.handlePictureInPictureChange(e)}),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],function(e){return i.handlePictureInPictureEnabledChange(e)}),i.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),i.hide()):i.show()}),i.disable(),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-picture-in-picture-control "+s.prototype.buildCSSClass.call(this)},t.handlePictureInPictureEnabledChange=function(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},t.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},t.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Ss)).prototype.controlText_="Picture-in-Picture",v.registerComponent("PictureInPictureToggle",a),(n=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.on(e,"fullscreenchange",function(e){return i.handleFullscreenChange(e)}),!1===document[e.fsApi_.fullscreenEnabled]&&i.disable(),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-fullscreen-control "+s.prototype.buildCSSClass.call(this)},t.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Ss)).prototype.controlText_="Fullscreen",v.registerComponent("FullscreenToggle",n),v.registerComponent("VolumeLevel",function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},e}(v)),v.registerComponent("VolumeLevelTooltip",function(i){function e(e,t){return t=i.call(this,e,t)||this,t.update=pt(m(b(t),t.update),30),t}w(e,i);var t=e.prototype;return t.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},t.update=function(e,t,i,s){if(!i){var n=Fe(this.el_),r=Fe(this.player_.el());i=e.width*t;if(!r||!n)return;t=e.left-r.left+i,r=e.width-i+(r.right-e.right),e=n.width/2,t<e?e+=e-t:r<e&&(e=r),e<0?e=0:e>n.width&&(e=n.width),this.el_.style.right="-"+e+"px"}this.write(s+"%")},t.write=function(e){ke(this.el_,e)},t.updateVolume=function(e,t,i,s,n){var r=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){r.update(e,t,i,s.toFixed(0)),n&&n()})},e}(v)),(t=function(i){function e(e,t){return t=i.call(this,e,t)||this,t.update=pt(m(b(t),t.update),30),t}w(e,i);var t=e.prototype;return t.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,t,i){var s=this,n=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,n,function(){i?s.el_.style.bottom=e.height*t+"px":s.el_.style.left=e.width*t+"px"})},e}(v)).prototype.options_={children:["volumeLevelTooltip"]},v.registerComponent("MouseVolumeLevelDisplay",t),(e=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.on("slideractive",function(e){return i.updateLastVolume_(e)}),i.on(e,"volumechange",function(e){return i.updateARIAAttributes(e)}),e.ready(function(){return i.updateARIAAttributes()}),i}w(e,s);var t=e.prototype;return t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(e){He(e)&&s.prototype.handleMouseDown.call(this,e)},t.handleMouseMove=function(e){var t,i,s,n=this.getChild("mouseVolumeLevelDisplay");n&&(t=Fe(s=this.el()),i=this.vertical(),s=$e(s,e),s=i?s.y:s.x,s=xs(s,0,1),n.update(t,s,i)),He(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},e}(S)).prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p||re||e.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),e.prototype.playerEvent="volumechange",v.registerComponent("VolumeBar",e),(Ti=function(r){function e(e,t){var i,s,n;return(t=void 0===t?{}:t).vertical=t.vertical||!1,"undefined"!=typeof t.volumeBar&&!te(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),i=r.call(this,e,t)||this,s=b(i),(n=e).tech_&&!n.tech_.featuresVolumeControl&&s.addClass("vjs-hidden"),s.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?s.removeClass("vjs-hidden"):s.addClass("vjs-hidden")}),i.throttledHandleMouseMove=pt(m(b(i),i.handleMouseMove),30),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.on("mousedown",function(e){return i.handleMouseDown(e)}),i.on("touchstart",function(e){return i.handleMouseDown(e)}),i.on("mousemove",function(e){return i.handleMouseMove(e)}),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}w(e,r);var t=e.prototype;return t.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},t.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},t.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},e}(v)).prototype.options_={children:["volumeBar"]},v.registerComponent("VolumeControl",Ti),(o=function(r){function e(e,t){var i,s,n=r.call(this,e,t)||this;return i=b(n),(s=e).tech_&&!s.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(s,"loadstart",function(){s.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),n.on(e,["loadstart","volumechange"],function(e){return n.update(e)}),n}w(e,r);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},t.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();0===t?(this.player_.volume(i<.1?.1:i),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},t.update=function(e){this.updateIcon_(),this.updateControlText_()},t.updateIcon_=function(){var e=this.player_.volume(),t=3;p&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)Pe(this.el_,"vjs-vol-"+i);Ie(this.el_,"vjs-vol-"+t)},t.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(Ss)).prototype.controlText_="Mute",v.registerComponent("MuteToggle",o),(ne=function(s){function e(e,t){var i;return"undefined"!=typeof(t=void 0===t?{}:t).inline?t.inline=t.inline:t.inline=!0,"undefined"!=typeof t.volumeControl&&!te(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(i=s.call(this,e,t)||this).handleKeyPressHandler_=function(e){return i.handleKeyPress(e)},i.on(e,["loadstart"],function(e){return i.volumePanelState_(e)}),i.on(i.muteToggle,"keyup",function(e){return i.handleKeyPress(e)}),i.on(i.volumeControl,"keyup",function(e){return i.handleVolumeControlKeyUp(e)}),i.on("keydown",function(e){return i.handleKeyPress(e)}),i.on("mouseover",function(e){return i.handleMouseOver(e)}),i.on("mouseout",function(e){return i.handleMouseOut(e)}),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}w(e,s);var t=e.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),s.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},t.dispose=function(){this.handleMouseOut(),s.prototype.dispose.call(this)},t.handleVolumeControlKeyUp=function(e){y.isEventKey(e,"Esc")&&this.muteToggle.focus()},t.handleMouseOver=function(e){this.addClass("vjs-hover"),ct(document,"keyup",this.handleKeyPressHandler_)},t.handleMouseOut=function(e){this.removeClass("vjs-hover"),c(document,"keyup",this.handleKeyPressHandler_)},t.handleKeyPress=function(e){y.isEventKey(e,"Esc")&&this.handleMouseOut()},e}(v)).prototype.options_={children:["muteToggle","volumeControl"]},v.registerComponent("VolumePanel",ne);var Is=function(s){function e(e,t){var i=s.call(this,e,t)||this;return t&&(i.menuButton_=t.menuButton),i.focusedChild_=-1,i.on("keydown",function(e){return i.handleKeyDown(e)}),i.boundHandleBlur_=function(e){return i.handleBlur(e)},i.boundHandleTapClick_=function(e){return i.handleTapClick(e)},i}w(e,s);var t=e.prototype;return t.addEventListenerForItem=function(e){e instanceof v&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},t.removeEventListenerForItem=function(e){e instanceof v&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},t.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),s.prototype.removeChild.call(this,e)},t.addItem=function(e){e=this.addChild(e),e&&this.addEventListenerForItem(e)},t.createEl=function(){var e=this.options_.contentElType||"ul";return this.contentEl_=u(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),e=s.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),e.appendChild(this.contentEl_),ct(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},t.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,s.prototype.dispose.call(this)},t.handleBlur=function(e){var t=e.relatedTarget||document.activeElement;this.children().some(function(e){return e.el()===t})||(e=this.menuButton_)&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()},t.handleTapClick=function(t){var e;this.menuButton_&&(this.menuButton_.unpressButton(),e=this.children(),!Array.isArray(e)||(e=e.filter(function(e){return e.el()===t.target})[0])&&"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())},t.handleKeyDown=function(e){y.isEventKey(e,"Left")||y.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(y.isEventKey(e,"Right")||y.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},t.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},e}(v),Ps=(v.registerComponent("Menu",Is),ti=function(s){function e(e,t){var i;return(i=s.call(this,e,t=void 0===t?{}:t)||this).menuButton_=new Ss(e,t),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true"),t=Ss.prototype.buildCSSClass(),i.menuButton_.el_.className=i.buildCSSClass()+" "+t,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,t=function(e){return i.handleClick(e)},i.handleMenuKeyUp_=function(e){return i.handleMenuKeyUp(e)},i.on(i.menuButton_,"tap",t),i.on(i.menuButton_,"click",t),i.on(i.menuButton_,"keydown",function(e){return i.handleKeyDown(e)}),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),ct(document,"keyup",i.handleMenuKeyUp_)}),i.on("mouseleave",function(e){return i.handleMouseLeave(e)}),i.on("keydown",function(e){return i.handleSubmenuKeyDown(e)}),i}w(e,s);var t=e.prototype;return t.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},t.createMenu=function(){var e,t=new Is(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=u("li",{className:"vjs-menu-title",textContent:f(this.options_.title),tabIndex:-1}),e=new v(this.player_,{el:e}),t.addItem(e)),this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},t.createItems=function(){},t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+Ss.prototype.buildCSSClass()+" "+s.prototype.buildCSSClass.call(this)},t.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+s.prototype.buildCSSClass.call(this)},t.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},t.dispose=function(){this.handleMouseLeave(),s.prototype.dispose.call(this)},t.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},t.handleMouseLeave=function(e){this.removeClass("vjs-hover"),c(document,"keyup",this.handleMenuKeyUp_)},t.focus=function(){this.menuButton_.focus()},t.blur=function(){this.menuButton_.blur()},t.handleKeyDown=function(e){y.isEventKey(e,"Esc")||y.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),y.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(y.isEventKey(e,"Up")||y.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},t.handleMenuKeyUp=function(e){(y.isEventKey(e,"Esc")||y.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},t.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=function(e){(y.isEventKey(e,"Esc")||y.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),y.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},t.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),p&&_e()||this.menu.focus())},t.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(v),v.registerComponent("MenuButton",ti),ii=function(n){function e(e,t){var i=t.tracks;t=n.call(this,e,t)||this;if(t.items.length<=1&&t.hide(),!i)return b(t);var s=m(b(t),t.update);return i.addEventListener("removetrack",s),i.addEventListener("addtrack",s),i.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){i.removeEventListener("removetrack",s),i.removeEventListener("addtrack",s),i.removeEventListener("labelchange",s)}),t}return w(e,n),e}(ti),v.registerComponent("TrackButton",ii),["Tab","Esc","Up","Down","Right","Left"]),a=function(s){function e(e,t){return e=s.call(this,e,t)||this,e.selectable=t.selectable,e.isSelected_=t.selected||!1,e.multiSelectable=t.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute("role","menuitemcheckbox"):e.el_.setAttribute("role","menuitemradio"):e.el_.setAttribute("role","menuitem"),e}w(e,s);var t=e.prototype;return t.createEl=function(e,t,i){return this.nonIconControl=!0,i=s.prototype.createEl.call(this,"li",d({className:"vjs-menu-item",tabIndex:-1},t),i),i.replaceChild(u("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},t.handleKeyDown=function(t){Ps.some(function(e){return y.isEventKey(t,e)})||s.prototype.handleKeyDown.call(this,t)},t.handleClick=function(e){this.selected(!0)},t.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(se),As=(v.registerComponent("MenuItem",a),function(l){function e(e,t){var s,i,n=t.track,r=e.textTracks();function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.handleTracksChange.apply(b(s),t)}function o(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.handleSelectedLanguageChange.apply(b(s),t)}return t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,(s=l.call(this,e,t)||this).track=n,s.kinds=(t.kinds||[t.kind||s.track.kind]).filter(Boolean),e.on(["loadstart","texttrackchange"],a),r.addEventListener("change",a),r.addEventListener("selectedlanguagechange",o),s.on("dispose",function(){e.off(["loadstart","texttrackchange"],a),r.removeEventListener("change",a),r.removeEventListener("selectedlanguagechange",o)}),void 0===r.onchange&&s.on(["tap","click"],function(){if("object"!=typeof window.Event)try{i=new window.Event("change")}catch(e){}i||(i=document.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(i)}),s.handleTracksChange(),s}w(e,l);var t=e.prototype;return t.handleClick=function(e){var t=this.track,i=this.player_.textTracks();if(l.prototype.handleClick.call(this,e),i)for(var s=0;s<i.length;s++){var n=i[s];-1!==this.kinds.indexOf(n.kind)&&(n===t?"showing"!==n.mode&&(n.mode="showing"):"disabled"!==n.mode&&(n.mode="disabled"))}},t.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.handleSelectedLanguageChange=function(e){var t;"showing"===this.track.mode&&((t=this.player_.cache_.selectedLanguage)&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},t.dispose=function(){this.track=null,l.prototype.dispose.call(this)},e}(a)),Es=(v.registerComponent("TextTrackMenuItem",As),function(i){function e(e,t){return t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,i.call(this,e,t)||this}w(e,i);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,s=0,n=t.length;s<n;s++){var r=t[s];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},t.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,s=0,n=t.length;s<n;s++){var r=t[s];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(As)),Ds=(v.registerComponent("OffTextTrackMenuItem",Es),n=function(i){function e(e,t){return(t=void 0===t?{}:t).tracks=e.textTracks(),i.call(this,e,t)||this}return w(e,i),e.prototype.createItems=function(e,t){var i;void 0===t&&(t=As),this.label_&&(i=this.label_+" off"),(e=void 0===e?[]:e).push(new Es(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var n=0;n<s.length;n++){var r,a=s[n];-1<this.kinds_.indexOf(a.kind)&&((r=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-"+a.kind+"-menu-item"),e.push(r))}return e},e}(ii),v.registerComponent("TextTrackButton",n),function(r){function e(e,t){var i=t.track,s=t.cue,n=e.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=s.text,t.selected=s.startTime<=n&&n<s.endTime,(t=r.call(this,e,t)||this).track=i,t.cue=s,t}return w(e,r),e.prototype.handleClick=function(e){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(a)),Os=(v.registerComponent("ChaptersTrackMenuItem",Ds),(t=function(n){function e(e,t,i){var s=n.call(this,e,t,i)||this;return s.selectCurrentItem_=function(){s.items.forEach(function(e){e.selected(s.track_.activeCues[0]===e.cue)})},s}w(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.update=function(e){e&&e.track&&"chapters"!==e.track.kind||((e=this.findChaptersTrack())!==this.track_?(this.setTrack(e),n.prototype.update.call(this)):(!this.items||e&&e.cues&&e.cues.length!==this.items.length)&&n.prototype.update.call(this))},t.setTrack=function(e){var t;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=e,this.track_&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)))},t.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var i=e[t];if(i.kind===this.kind_)return i}},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(f(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,s=t.length;i<s;i++){var n=t[i];n=new Ds(this.player_,{track:this.track_,cue:n});e.push(n)}return e},e}(n)).prototype.kind_="chapters",t.prototype.controlText_="Chapters",v.registerComponent("ChaptersButton",t),(S=function(r){function e(e,t,i){i=r.call(this,e,t,i)||this;var s=e.textTracks(),n=m(b(i),i.handleTracksChange);return s.addEventListener("change",n),i.on("dispose",function(){s.removeEventListener("change",n)}),i}w(e,r);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,s=0,n=t.length;s<n;s++){var r=t[s];if(r.kind!==this.kind_&&"showing"===r.mode){i=!0;break}}i?this.disable():this.enable()},t.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(n)).prototype.kind_="descriptions",S.prototype.controlText_="Descriptions",v.registerComponent("DescriptionsButton",S),(e=function(s){function e(e,t,i){return s.call(this,e,t,i)||this}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subtitles-button "+s.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+s.prototype.buildWrapperCSSClass.call(this)},e}(n)).prototype.kind_="subtitles",e.prototype.controlText_="Subtitles",v.registerComponent("SubtitlesButton",e),function(i){function e(e,t){return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(e=i.call(this,e,t)||this).addClass("vjs-texttrack-settings"),e.controlText(", opens "+t.kind+" settings dialog"),e}return w(e,i),e.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},e}(As)),Ls=(v.registerComponent("CaptionSettingsMenuItem",Os),(Ti=function(s){function e(e,t,i){return s.call(this,e,t,i)||this}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-captions-button "+s.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-captions-button "+s.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Os(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),s.prototype.createItems.call(this,e)},e}(n)).prototype.kind_="captions",Ti.prototype.controlText_="Captions",v.registerComponent("CaptionsButton",Ti),function(s){function e(){return s.apply(this,arguments)||this}return w(e,s),e.prototype.createEl=function(e,t,i){return t=s.prototype.createEl.call(this,e,t,i),i=t.querySelector(".vjs-menu-item-text"),"captions"===this.options_.track.kind&&(i.appendChild(u("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(u("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),t},e}(As)),Ns=(v.registerComponent("SubsCapsMenuItem",Ls),(o=function(i){function e(e,t){return(t=i.call(this,e,t=void 0===t?{}:t)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(t.player_.language_)&&(t.label_="captions"),t.menuButton_.controlText(f(t.label_)),t}w(e,i);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Os(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e,Ls)},e}(n)).prototype.kinds_=["captions","subtitles"],o.prototype.controlText_="Subtitles",v.registerComponent("SubsCapsButton",o),function(a){function e(e,t){var s,i=t.track,n=e.audioTracks();function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.handleTracksChange.apply(b(s),t)}return t.label=i.label||i.language||"Unknown",t.selected=i.enabled,(s=a.call(this,e,t)||this).track=i,s.addClass("vjs-"+i.kind+"-menu-item"),n.addEventListener("change",r),s.on("dispose",function(){n.removeEventListener("change",r)}),s}w(e,a);var t=e.prototype;return t.createEl=function(e,t,i){return t=a.prototype.createEl.call(this,e,t,i),i=t.querySelector(".vjs-menu-item-text"),"main-desc"===this.options_.track.kind&&(i.appendChild(u("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(u("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),t},t.handleClick=function(e){if(a.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var s=t[i];s!==this.track&&(s.enabled=s===this.track)}},t.handleTracksChange=function(e){this.selected(this.track.enabled)},e}(a)),Ms=(v.registerComponent("AudioTrackMenuItem",Ns),(ne=function(i){function e(e,t){return(t=void 0===t?{}:t).tracks=e.audioTracks(),i.call(this,e,t)||this}w(e,i);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-audio-button "+i.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var s=t[i];e.push(new Ns(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e},e}(ii)).prototype.controlText_="Audio Track",v.registerComponent("AudioTrackButton",ne),function(r){function e(e,t){var i,s=t.rate,n=parseFloat(s,10);return t.label=s,t.selected=n===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,(i=r.call(this,e,t)||this).label=s,i.rate=n,i.on(e,"ratechange",function(e){return i.update(e)}),i}w(e,r);var t=e.prototype;return t.handleClick=function(e){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.update=function(e){this.selected(this.player().playbackRate()===this.rate)},e}(a)),Bs=(Ms.prototype.contentElType="button",v.registerComponent("PlaybackRateMenuItem",Ms),(se=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(e,"loadstart",function(e){return i.updateVisibility(e)}),i.on(e,"ratechange",function(e){return i.updateLabel(e)}),i.on(e,"playbackrateschange",function(e){return i.handlePlaybackRateschange(e)}),i}w(e,s);var t=e.prototype;return t.createEl=function(){var e=s.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=u("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},t.dispose=function(){this.labelEl_=null,s.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+s.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+s.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){for(var e=this.playbackRates(),t=[],i=e.length-1;0<=i;i--)t.push(new Ms(this.player(),{rate:e[i]+"x"}));return t},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(e){var t=this.player().playbackRate(),i=this.playbackRates();t=(i.indexOf(t)+1)%i.length;this.player().playbackRate(i[t])},t.handlePlaybackRateschange=function(e){this.update()},t.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},t.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(ti)).prototype.controlText_="Playback Rate",v.registerComponent("PlaybackRateMenuButton",se),t=function(s){function e(){return s.apply(this,arguments)||this}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-spacer "+s.prototype.buildCSSClass.call(this)},t.createEl=function(e,t,i){return void 0===e&&(e="div"),void 0===i&&(i={}),(t=void 0===t?{}:t).className||(t.className=this.buildCSSClass()),s.prototype.createEl.call(this,e,t,i)},e}(v),v.registerComponent("Spacer",t),v.registerComponent("CustomControlSpacer",function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},t}(t)),(S=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(v)).prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&S.prototype.options_.children.splice(S.prototype.options_.children.length-1,0,"pictureInPictureToggle"),v.registerComponent("ControlBar",S),(e=function(s){function e(e,t){var i=s.call(this,e,t)||this;return i.on(e,"error",function(e){return i.open(e)}),i}w(e,s);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-error-display "+s.prototype.buildCSSClass.call(this)},t.content=function(){var e=this.player().error();return e?this.localize(e.message):""},e}(qt)).prototype.options_=K({},qt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),v.registerComponent("ErrorDisplay",e),"vjs-text-track-settings"),Fs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ti=["#000","Black"],ti=["#FFF","White"],a=["#F00","Red"],ii=["#0F0","Green"],n=["#00F","Blue"],se=["#FF0","Yellow"],ne=["#F0F","Magenta"],o=["#0FF","Cyan"]]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[t=["1","Opaque"],S=["0.5","Semi-Transparent"],e=["0","Transparent"]]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ti,Ti,a,ii,n,se,ne,o]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[t,S]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[e,S,t]}};function Rs(e,t){if((e=t?t(e):e)&&"none"!==e)return e}Fs.windowColor.options=Fs.backgroundColor.options,v.registerComponent("TextTrackSettings",function(s){function e(e,t){var i;return t.temporary=!1,(i=s.call(this,e,t)||this).updateDisplay=i.updateDisplay.bind(b(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=u("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===t.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),J(Fs,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}w(e,s);var t=e.prototype;return t.dispose=function(){this.endDialog=null,s.prototype.dispose.call(this)},t.createElSelect_=function(e,t,i){var s=this;void 0===t&&(t=""),void 0===i&&(i="label");e=Fs[e];var n=e.id.replace("%s",this.id_),r=[t,n].join(" ").trim();return["<"+i+' id="'+n+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(e.label),"</"+i+">",'<select aria-labelledby="'+r+'">'].concat(e.options.map(function(e){var t=n+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+r+" "+t+'">',s.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.createElColors_=function(){return u("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.createElFont_=function(){return u("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.createElControls_=function(){var e=this.localize("restore all settings to the default values");return u("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.label=function(){return this.localize("Caption Settings Dialog")},t.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.buildCSSClass=function(){return s.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.getValues=function(){var i,s,e,n=this;return s=function(e,t,i){var s;s=n.$(t.selector),t=t.parser,t=Rs(s.options[s.options.selectedIndex].value,t);return void 0!==t&&(e[i]=t),e},void 0===(e={})&&(e=0),Z(i=Fs).reduce(function(e,t){return s(e,i[t],t)},e)},t.setValues=function(i){var s=this;J(Fs,function(e,t){!function(e,t,i){if(t)for(var s=0;s<e.options.length;s++)if(Rs(e.options[s].value,i)===t){e.selectedIndex=s;break}}(s.$(e.selector),i[t],e.parser)})},t.setDefaults=function(){var i=this;J(Fs,function(e){var t=e.hasOwnProperty("default")?e.default:0;i.$(e.selector).selectedIndex=t})},t.restoreSettings=function(){var e;try{e=JSON.parse(window.localStorage.getItem(Bs))}catch(e){h.warn(e)}e&&this.setValues(e)},t.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?window.localStorage.setItem(Bs,JSON.stringify(e)):window.localStorage.removeItem(Bs)}catch(e){h.warn(e)}}},t.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton;e=e&&e.captionsButton;t?t.focus():e&&e.focus()},e}(qt)),v.registerComponent("ResizeManager",function(r){function e(e,t){var i,s=t.ResizeObserver||window.ResizeObserver,n=g({createEl:!(s=null!==t.ResizeObserver&&s),reportTouchActivity:!1},t);return(i=r.call(this,e,n)||this).ResizeObserver=t.ResizeObserver||window.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=mt(function(){i.resizeHandler()},100,!1,b(i)),s?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){var e,t;i.el_&&i.el_.contentWindow&&(e=i.debouncedHandler_,t=i.unloadListener_=function(){c(this,"resize",e),c(this,"unload",t),t=null},ct(i.el_.contentWindow,"unload",t),ct(i.el_.contentWindow,"resize",e))},i.one("load",i.loadListener_)),i}w(e,r);var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},t.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},t.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},e}(v));var $s={trackingThreshold:20,liveTolerance:15};function Us(e){if((s=e.el()).hasAttribute("src"))return e.triggerSourceset(s.src),1;var t=e.$$("source"),i=[],s="";if(t.length){for(var n=0;n<t.length;n++){var r=t[n].src;r&&-1===i.indexOf(r)&&i.push(r)}return!!i.length&&(1===i.length&&(s=i[0]),e.triggerSourceset(s),!0)}}function js(e,t){for(var i={},s=0;s<e.length&&!((i=Object.getOwnPropertyDescriptor(e[s],t))&&i.set&&i.get);s++);return i.enumerable=!0,i.configurable=!0,i}function Vs(r){var t,e,i,a=r.el();a.resetSourceWatch_||(t={},e=js([r.el(),window.HTMLMediaElement.prototype,window.Element.prototype,qs],"innerHTML"),i=function(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=n.apply(a,t);return Us(r),s}},["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=i(t[e]))}),Object.defineProperty(a,"innerHTML",g(e,{set:i(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},r.one("sourceset",a.resetSourceWatch_))}function zs(i){var s,t,n,r;i.featuresSourceset&&((s=i.el()).resetSourceset_||(t=js([i.el(),window.HTMLMediaElement.prototype,Gs],"src"),n=s.setAttribute,r=s.load,Object.defineProperty(s,"src",g(t,{set:function(e){return e=t.set.call(s,e),i.triggerSourceset(s.src),e}})),s.setAttribute=function(e,t){return t=n.call(s,e,t),/src/i.test(e)&&i.triggerSourceset(s.src),t},s.load=function(){var e=r.call(s);return Us(i)||(i.triggerSourceset(""),Vs(i)),e},s.currentSrc?i.triggerSourceset(s.currentSrc):Us(i)||Vs(i),s.resetSourceset_=function(){s.resetSourceset_=null,s.load=r,s.setAttribute=n,Object.defineProperty(s,"src",t),s.resetSourceWatch_&&s.resetSourceWatch_()}))}function Ws(t,i,s,e){function n(e){return Object.defineProperty(t,i,{value:e,enumerable:!0,writable:!0})}var r={configurable:!0,enumerable:!0,get:function(){var e=s();return n(e),e}};return(e=void 0===e||e)&&(r.set=n),Object.defineProperty(t,i,r)}v.registerComponent("LiveTracker",function(s){function e(e,t){t=g($s,t,{createEl:!1});var i=s.call(this,e,t)||this;return i.handleVisibilityChange_=function(e){return i.handleVisibilityChange(e)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(e){return i.handlePlay(e)},i.handleFirstTimeupdate_=function(e){return i.handleFirstTimeupdate(e)},i.handleSeeked_=function(e){return i.handleSeeked(e)},i.seekToLiveEdge_=function(e){return i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,"durationchange",function(e){return i.handleDurationchange(e)}),i.on(i.player_,"canplay",function(){return i.toggleTracking()}),de&&"hidden"in document&&"visibilityState"in document&&i.on(document,"visibilitychange",i.handleVisibilityChange_),i}w(e,s);var t=e.prototype;return t.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document.hidden?this.stopTracking():this.startTracking())},t.trackLive_=function(){var e,t=this.player_.seekable();t&&t.length&&(e=Number(window.performance.now().toFixed(4)),t=-1===this.lastTime_?0:(e-this.lastTime_)/1e3,this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+t,e=this.liveCurrentTime(),t=this.player_.currentTime(),t=this.player_.paused()||this.seekedBehindLive_||Math.abs(e-t)>this.options_.liveTolerance,(t=!(!this.timeupdateSeen_||e===1/0)&&t)!==this.behindLiveEdge_&&(this.behindLiveEdge_=t,this.trigger("liveedgechange")))},t.handleDurationchange=function(){this.toggleTracking()},t.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},t.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},t.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},t.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<e,this.nextSeekedFromUser_=!1,this.trackLive_()},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},t.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},t.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},t.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},t.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0},t.seekableStart=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0},t.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return"number"==typeof this.trackingInterval_},t.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},t.dispose=function(){this.off(document,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),s.prototype.dispose.call(this)},e}(v));var Hs,qs=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=document.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=document.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Gs=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Zt(window.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return window.Element.prototype.setAttribute.call(this,"src",e),e}}),C=function(c){function a(e,t){var i=c.call(this,e,t)||this,s=(t=e.source,!1);if(i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&&"VIDEO"===i.el_.tagName,t&&(i.el_.currentSrc!==t.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(t):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var n=i.el_.childNodes,r=n.length,a=[];r--;){var o=n[r];"track"===o.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(o),i.remoteTextTracks().addTrack(o.track),i.textTracks().addTrack(o.track),s||i.el_.hasAttribute("crossorigin")||!ei(o.src)||(s=!0)):a.push(o))}for(var l=0;l<a.length;l++)i.el_.removeChild(a[l])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&s&&h.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(fe||ge||oe)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}w(a,c);var e=a.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),a.disposeMediaElement(this.el_),this.options_=null,c.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){zs(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){i=[];for(var e=0;e<s.length;e++){var t=s[e];"metadata"===t.kind&&i.push({track:t,storedMode:t.mode})}}var i,s=this.textTracks();function n(){for(var e=0;e<i.length;e++){var t=i[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}s.removeEventListener("change",n)}e(),s.addEventListener("change",e),this.on("dispose",function(){return s.removeEventListener("change",e)}),this.on("webkitbeginfullscreen",function(){s.removeEventListener("change",e),s.removeEventListener("change",n),s.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){s.removeEventListener("change",e),s.addEventListener("change",e),s.removeEventListener("change",n)})},e.overrideNative_=function(e,t){var i,s=this;t===this["featuresNative"+e+"Tracks"]&&(this[(i=e.toLowerCase())+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(e){s.el()[i+"Tracks"].removeEventListener(e,s[i+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i))},e.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},e.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},e.proxyNativeTracksForType_=function(i){var e,t,s=this,n=Ci[i],r=this.el()[n.getterName],a=this[n.getterName]();this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener&&(t=function(){for(var e=[],t=0;t<a.length;t++){for(var i=!1,s=0;s<r.length;s++)if(r[s]===a[t]){i=!0;break}i||e.push(a[t])}for(;e.length;)a.removeTrack(e.shift())},this[n.getterName+"Listeners_"]=e={change:function(e){var t={type:"change",target:a,currentTarget:a,srcElement:a};a.trigger(t),"text"===i&&s[ki.remoteText.getterName]().trigger(t)},addtrack:function(e){a.addTrack(e.track)},removetrack:function(e){a.removeTrack(e.track)}},Object.keys(e).forEach(function(t){var i=e[t];r.addEventListener(t,i),s.on("dispose",function(e){return r.removeEventListener(t,i)})}),this.on("loadstart",t),this.on("dispose",function(e){return s.off("loadstart",t)}))},e.proxyNativeTracks_=function(){var t=this;Ci.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},e.createEl=function(){var e,t=this.options_.tag;t&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(t?(e=t.cloneNode(!0),t.parentNode&&t.parentNode.insertBefore(e,t),a.disposeMediaElement(t),t=e):(t=document.createElement("video"),e=g({},this.options_.tag&&De(this.options_.tag)),fe&&!0===this.options_.nativeControlsForTouch||delete e.controls,Ee(t,d(e,{id:this.options_.techId,class:"vjs-tech"}))),t.playerId=this.options_.playerId),"undefined"!=typeof this.options_.preload&&Le(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],s=0;s<i.length;s++){var n=i[s],r=this.options_[n];"undefined"!=typeof r&&(r?Le(t,n,n):Ne(t,n),t[n]=r)}return t},e.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on("loadstart",i);var s=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",s),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),t||this.trigger("loadstart")})}var n=["loadstart"];n.push("loadedmetadata"),2<=e.readyState&&n.push("loadeddata"),3<=e.readyState&&n.push("canplay"),4<=e.readyState&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(e){this.trigger(e)},this)})}},e.setScrubbing=function(e){this.isScrubbing_=e},e.scrubbing=function(){return this.isScrubbing_},e.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&ye?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){h(e,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;return this.el_.duration===1/0&&re&&ue&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var e,t,i=this;"webkitDisplayingFullscreen"in this.el_&&(e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))},this.on("webkitbeginfullscreen",t),this.on("dispose",function(){i.off("webkitbeginfullscreen",t),i.off("webkitendfullscreen",e)}))},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},e.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)jt(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},e.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.requestVideoFrameCallback=function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):c.prototype.requestVideoFrameCallback.call(this,e)},e.cancelVideoFrameCallback=function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):c.prototype.cancelVideoFrameCallback.call(this,e)},e.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},e.reset=function(){a.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(e){this.el_.controls=!!e},e.addTextTrack=function(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):c.prototype.addTextTrack.call(this,e,t,i)},e.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,e);var t=document.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},e.addRemoteTextTrack=function(e,t){return t=c.prototype.addRemoteTextTrack.call(this,e,t),this.featuresNativeTextTracks&&this.el().appendChild(t),t},e.removeRemoteTextTrack=function(e){if(c.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),i=t.length;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&"function"==typeof window.performance.now?e.creationTime=window.performance.now():window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&(e.creationTime=window.Date.now()-window.performance.timing.navigationStart),e},a}(_),Ys=(Ws(C,"TEST_VID",function(){if(we()){var e=document.createElement("video"),t=document.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}}),C.isSupported=function(){try{C.TEST_VID.volume=.5}catch(e){return!1}return!(!C.TEST_VID||!C.TEST_VID.canPlayType)},C.canPlayType=function(e){return C.TEST_VID.canPlayType(e)},C.canPlaySource=function(e,t){return C.canPlayType(e.type)},C.canControlVolume=function(){try{var e=C.TEST_VID.volume;C.TEST_VID.volume=e/2+.1;var t=e!==C.TEST_VID.volume;return t&&p?(window.setTimeout(function(){C&&C.prototype&&(C.prototype.featuresVolumeControl=e!==C.TEST_VID.volume)}),!1):t}catch(e){return!1}},C.canMuteVolume=function(){try{var e=C.TEST_VID.muted;return C.TEST_VID.muted=!e,C.TEST_VID.muted?Le(C.TEST_VID,"muted","muted"):Ne(C.TEST_VID,"muted"),e!==C.TEST_VID.muted}catch(e){return!1}},C.canControlPlaybackRate=function(){if(re&&ue&&he<58)return!1;try{var e=C.TEST_VID.playbackRate;return C.TEST_VID.playbackRate=e/2+.1,e!==C.TEST_VID.playbackRate}catch(e){return!1}},C.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(document.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},C.supportsNativeTextTracks=function(){return ye||p&&ue},C.supportsNativeVideoTracks=function(){return!(!C.TEST_VID||!C.TEST_VID.videoTracks)},C.supportsNativeAudioTracks=function(){return!(!C.TEST_VID||!C.TEST_VID.audioTracks)},C.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],i=e[1];Ws(C.prototype,t,function(){return C[i]()},!0)}),C.prototype.featuresVolumeControl=C.canControlVolume(),C.prototype.movingMediaElementInDOM=!p,C.prototype.featuresFullscreenResize=!0,C.prototype.featuresProgressEvents=!0,C.prototype.featuresTimeupdateEvents=!0,C.prototype.featuresVideoFrameCallback=!(!C.TEST_VID||!C.TEST_VID.requestVideoFrameCallback),C.patchCanPlayType=function(){4<=ae&&!le&&!ue&&(Hs=C.TEST_VID&&C.TEST_VID.constructor.prototype.canPlayType,C.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Hs.call(this,e)})},C.unpatchCanPlayType=function(){var e=C.TEST_VID.constructor.prototype.canPlayType;return Hs&&(C.TEST_VID.constructor.prototype.canPlayType=Hs),e},C.patchCanPlayType(),C.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},C.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){C.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){C.prototype["set"+f(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){C.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){C.prototype["set"+f(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){C.prototype[e]=function(){return this.el_[e]()}}),_.withSourceHandlers(C),C.nativeSourceHandler={},C.nativeSourceHandler.canPlayType=function(e){try{return C.TEST_VID.canPlayType(e)}catch(e){return""}},C.nativeSourceHandler.canHandleSource=function(e,t){return e.type?C.nativeSourceHandler.canPlayType(e.type):e.src?(e=Jt(e.src),C.nativeSourceHandler.canPlayType("video/"+e)):""},C.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},C.nativeSourceHandler.dispose=function(){},C.registerSourceHandler(C.nativeSourceHandler),_.registerTech("Html5",C),["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"]),Qs={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ks=["tiny","xsmall","small","medium","large","xlarge","huge"],Xs={},Zs=(Ks.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Xs[e]="vjs-layout-"+t}),{tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0}),k=function(u){function o(e,t,i){var s,n;if(e.id=e.id||t.id||"vjs_video_"+it++,(t=d(o.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var r=e.closest("[lang]");r&&r.getAttribute&&(t.language=r.getAttribute("lang"))}else for(var a=e;a&&1===a.nodeType;){if(De(a).hasOwnProperty("lang")){t.language=a.getAttribute("lang");break}a=a.parentNode}if((s=u.call(this,null,t,i)||this).boundDocumentFullscreenChange_=function(e){return s.documentFullscreenChange_(e)},s.boundFullWindowOnEscKey_=function(e){return s.fullWindowOnEscKey(e)},s.boundUpdateStyleEl_=function(e){return s.updateStyleEl_(e)},s.boundApplyInitTime_=function(e){return s.applyInitTime_(e)},s.boundUpdateCurrentBreakpoint_=function(e){return s.updateCurrentBreakpoint_(e)},s.boundHandleTechClick_=function(e){return s.handleTechClick_(e)},s.boundHandleTechDoubleClick_=function(e){return s.handleTechDoubleClick_(e)},s.boundHandleTechTouchStart_=function(e){return s.handleTechTouchStart_(e)},s.boundHandleTechTouchMove_=function(e){return s.handleTechTouchMove_(e)},s.boundHandleTechTouchEnd_=function(e){return s.handleTechTouchEnd_(e)},s.boundHandleTechTap_=function(e){return s.handleTechTap_(e)},s.isFullscreen_=!1,s.log=Y(s.id_),s.fsApi_=j,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return s.tag=e,s.tagAttributes=e&&De(e),s.language(s.options_.language),t.languages?(n={},Object.getOwnPropertyNames(t.languages).forEach(function(e){n[e.toLowerCase()]=t.languages[e]}),s.languages_=n):s.languages_=o.prototype.options_.languages,s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],e.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(e){if("function"!=typeof s[e])throw new Error('plugin "'+e+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),It(b(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(ct(document,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_),i=g(s.options_),t.plugins&&Object.keys(t.plugins).forEach(function(e){s[e](t.plugins[e])}),t.debug&&s.debug(!0),s.options_.playerOptions=i,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio("audio"===e.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),fe&&s.addClass("vjs-touch-enabled"),p||s.addClass("vjs-workinghover"),o.players[s.id_]=b(s),e=F.split(".")[0],s.addClass("vjs-v"+e),s.userActive(!0),s.reportUserActivity(),s.one("play",function(e){return s.listenForUserActivity_(e)}),s.on("stageclick",function(e){return s.handleStageClick_(e)}),s.on("keydown",function(e){return s.handleKeyDown(e)}),s.on("languagechange",function(e){return s.handleLanguagechange(e)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}w(o,u);var e=o.prototype;return e.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),c(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),c(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),o.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),ns[this.id()]=null,xi.names.forEach(function(e){e=xi[e],e=t[e.getterName](),e&&e.off&&e.off()}),u.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},e.createEl=function(){var t,i=this.tag,e=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();e?t=this.el_=i.parentNode:s||(t=this.el_=u.prototype.createEl.call(this,"div"));var n,r,a=De(i);if(s){for(t=this.el_=i,i=this.tag=document.createElement("video");t.children.length;)i.appendChild(t.firstChild);Te(t,"video-js")||Ie(t,"video-js"),t.appendChild(i),e=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{i[e]=t[e]}catch(e){}})}i.setAttribute("tabindex","-1"),a.tabindex="-1",(de||ue&&me)&&(i.setAttribute("role","application"),a.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(e){s&&"class"===e||t.setAttribute(e,a[e]),s&&i.setAttribute(e,a[e])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",(i.player=t.player=this).addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=et("vjs-styles-dimensions"),n=Ge(".vjs-styles-defaults"),(r=Ge("head")).insertBefore(this.styleEl_,n?n.nextSibling:r.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var o=i.getElementsByTagName("a"),l=0;l<o.length;l++){var c=o.item(l);Ie(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!e&&i.parentNode.insertBefore(t,i),xe(i,t),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t},e.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):h.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},e.width=function(e){return this.dimension("width",e)},e.height=function(e){return this.dimension("height",e)},e.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();var s=parseFloat(t);isNaN(s)?h.error('Improper value "'+t+'" supplied for for '+e):(this[i]=s,this.updateStyleEl_())},e.fluid=function(e){var t,i=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,xt(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),t=function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)},xt(e=this)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){var e,t,i,s;!0!==window.VIDEOJS_NO_DYNAMIC_STYLE?(s=(i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/i[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*s,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),tt(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*s+"%;\n      }\n    ")):(t="number"==typeof this.width_?this.width_:this.options_.width,i="number"==typeof this.height_?this.height_:this.options_.height,(s=this.tech_&&this.tech_.el())&&(0<=t&&(s.width=t),0<=i&&(s.height=i)))},e.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var s=f(e),n=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==s&&this.tag&&(_.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;var r=this.autoplay(),a={source:t,autoplay:r=!("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};if(xi.names.forEach(function(e){e=xi[e],a[e.getterName]=i[e.privateName]}),d(a,this.options_[s]),d(a,this.options_[n]),d(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime),e=_.getTech(e),!e)throw new Error("No Tech named '"+s+"' exists! '"+s+"' should be registered using videojs.registerTech()'");this.tech_=new e(a),this.tech_.ready(m(this,this.handleTechReady_),!0),Wt(this.textTracksJson_||[],this.tech_),Ys.forEach(function(t){i.on(i.tech_,t,function(e){return i["handleTech"+f(t)+"_"](e)})}),Object.keys(Qs).forEach(function(t){i.on(i.tech_,t,function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Qs[t]+"_"].bind(i),event:e}):i["handleTech"+Qs[t]+"_"](e)})}),this.on(this.tech_,"loadstart",function(e){return i.handleTechLoadStart_(e)}),this.on(this.tech_,"sourceset",function(e){return i.handleTechSourceset_(e)}),this.on(this.tech_,"waiting",function(e){return i.handleTechWaiting_(e)}),this.on(this.tech_,"ended",function(e){return i.handleTechEnded_(e)}),this.on(this.tech_,"seeking",function(e){return i.handleTechSeeking_(e)}),this.on(this.tech_,"play",function(e){return i.handleTechPlay_(e)}),this.on(this.tech_,"firstplay",function(e){return i.handleTechFirstPlay_(e)}),this.on(this.tech_,"pause",function(e){return i.handleTechPause_(e)}),this.on(this.tech_,"durationchange",function(e){return i.handleTechDurationChange_(e)}),this.on(this.tech_,"fullscreenchange",function(e,t){return i.handleTechFullscreenChange_(e,t)}),this.on(this.tech_,"fullscreenerror",function(e,t){return i.handleTechFullscreenError_(e,t)}),this.on(this.tech_,"enterpictureinpicture",function(e){return i.handleTechEnterPictureInPicture_(e)}),this.on(this.tech_,"leavepictureinpicture",function(e){return i.handleTechLeavePictureInPicture_(e)}),this.on(this.tech_,"error",function(e){return i.handleTechError_(e)}),this.on(this.tech_,"posterchange",function(e){return i.handleTechPosterChange_(e)}),this.on(this.tech_,"textdata",function(e){return i.handleTechTextData_(e)}),this.on(this.tech_,"ratechange",function(e){return i.handleTechRateChange_(e)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===s&&this.tag||xe(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var t=this;xi.names.forEach(function(e){e=xi[e],t[e.privateName]=t[e.getterName]()}),this.textTracksJson_=zt(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(e){return void 0===e&&h.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},e.manualAutoplay_=function(e){var s=this;if(this.tech_&&"string"==typeof e){var t,i=function(){var e=s.muted();function t(){s.muted(e)}s.muted(!0),s.playTerminatedQueue_.push(t);var i=s.play();if(Ut(i))return i.catch(function(e){throw t(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))})};if("any"!==e||this.muted()?t="muted"!==e||this.muted()?this.play():i():Ut(t=this.play())&&(t=t.catch(i)),Ut(t))return t.then(function(){s.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:e})})}},e.updateSourceCaches_=function(e){var t=e=void 0===e?"":e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var s=e.$$("source"),n=0;n<s.length;n++){var r=s[n];if(r.type&&r.src&&r.src===t)return r.type}return ps(t)}(this,t)),this.cache_.source=g({},e,{src:t,type:i});i=this.cache_.sources.filter(function(e){return e.src&&e.src===t});for(var s=[],n=this.$$("source"),r=[],a=0;a<n.length;a++){var o=De(n[a]);s.push(o),o.src&&o.src===t&&r.push(o.src)}r.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},e.handleTechSourceset_=function(e){var t,i,s,n=this;this.changingSrc_||(t=function(e){return n.updateSourceCaches_(e)},i=this.currentSource().src,s=e.src,i&&!/^blob:/.test(i)&&/^blob:/.test(s)&&(this.lastSource_&&(this.lastSource_.tech===s||this.lastSource_.player===i)||(t=function(){})),t(s),e.src||this.tech_.any(["sourceset","loadstart"],function(e){"sourceset"!==e.type&&(e=n.techGet("currentSrc"),n.lastSource_.tech=e,n.updateSourceCaches_(e))})),this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},e.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var i=this.currentTime();this.on("timeupdate",function e(){i!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",e))})},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(h.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?jt(this.play()):this.pause()))},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(e){var t=e.target.player;t&&t!==this||(e=this.el(),!(t=document[this.fsApi_.fullscreenElement]===e)&&e.matches?t=e.matches(":"+this.fsApi_.fullscreen):!t&&e.msMatchesSelector&&(t=e.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(t))},e.handleTechFullscreenChange_=function(e,t){var i=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){i.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))},e.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var e=this.tech_.error();this.error(e)},e.handleTechTextData_=function(){this.trigger("textdata",1<arguments.length?arguments[1]:null)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},e.techCall_=function(s,n){this.ready(function(){if(s in cs)return e=this.middleware_,t=this.tech_,i=n,t[t=s](e.reduce(hs(t),i));if(s in us)return os(this.middleware_,this.tech_,s,n);var e,t,i;try{this.tech_&&this.tech_[s](n)}catch(e){throw h(e),e}},!0)},e.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in ls)return t=this.middleware_,i=this.tech_,s=e,t.reduceRight(hs(s),i[s]());if(e in us)return os(this.middleware_,this.tech_,e);var t,i,s;try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw h("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw h("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw h(t),t}}},e.play=function(){var t=this,e=this.options_.Promise||window.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.play_=function(e){var t=this;if(this.playCallbacks_.push(e=void 0===e?jt:e),e=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!e)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(e||!ye&&!p||this.load());e=this.techGet_("play"),null===e?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(e)},e.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},e.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return!1!==this.techGet_("paused")},e.played=function(){return this.techGet_("played")||Mt(0,0)},e.scrubbing=function(e){if("undefined"==typeof e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(e){return"undefined"!=typeof e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},e.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var e;return(e=this.techGet_("buffered"))&&e.length?e:Mt(0,0)},e.bufferedPercent=function(){return Bt(this.buffered(),this.duration())},e.bufferedEnd=function(){var e=this.buffered(),t=this.duration();e=e.end(e.length-1);return t<e?t:e},e.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},e.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},e.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(e){if(void 0===e)return this.isFullscreen_;var t=this.isFullscreen_;this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()},e.requestFullscreen=function(a){var e=this.options_.Promise||window.Promise;if(e){var o=this;return new e(function(e,i){function s(){o.off("fullscreenerror",n),o.off("fullscreenchange",t)}function t(){s(),e()}function n(e,t){s(),i(t)}o.one("fullscreenchange",t),o.one("fullscreenerror",n);var r=o.requestFullscreenHelper_(a);r&&(r.then(s,s),r.then(e,i))})}return this.requestFullscreenHelper_()},e.requestFullscreenHelper_=function(e){var t=this;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(i=e)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](i);return i&&i.then(function(){return t.isFullscreen(!0)},function(){return t.isFullscreen(!1)}),i}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function(){var e=this.options_.Promise||window.Promise;if(e){var a=this;return new e(function(e,i){function s(){a.off("fullscreenerror",n),a.off("fullscreenchange",t)}function t(){s(),e()}function n(e,t){s(),i(t)}a.one("fullscreenchange",t),a.one("fullscreenerror",n);var r=a.exitFullscreenHelper_();r&&(r.then(s,s),r.then(e,i))})}return this.exitFullscreenHelper_()},e.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=document[this.fsApi_.exitFullscreen]();return t&&jt(t.then(function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,ct(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",Ie(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(e){y.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},e.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,c(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,Pe(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},e.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document)return document.exitPictureInPicture()},e.handleKeyDown=function(e){var t=this.options_.userActions;t&&t.hotkeys&&(function(e){var t=e.tagName.toLowerCase();return!!e.isContentEditable||("input"===t?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(t))}(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))},e.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},i=t.fullscreenKey,s=t.muteKey;s=void 0===s?function(e){return y.isEventKey(e,"m")}:s,t=t.playPauseKey,t=void 0===t?function(e){return y.isEventKey(e,"k")||y.isEventKey(e,"Space")}:t;(void 0===i?function(e){return y.isEventKey(e,"f")}:i).call(this,e)?(e.preventDefault(),e.stopPropagation(),i=v.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&i.prototype.handleClick.call(this,e)):s.call(this,e)?(e.preventDefault(),e.stopPropagation(),v.getComponent("MuteToggle").prototype.handleClick.call(this,e)):t.call(this,e)&&(e.preventDefault(),e.stopPropagation(),v.getComponent("PlayToggle").prototype.handleClick.call(this,e))},e.canPlayType=function(e){for(var t,i=0,s=this.options_.techOrder;i<s.length;i++){var n=s[i],r=_.getTech(n);if(r=r||v.getComponent(n)){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else h.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(e){function t(e,i,s){var n;return e.some(function(t){return i.some(function(e){if(n=s(t,e))return!0})}),n}var i,s=this,n=this.options_.techOrder.map(function(e){return[e,_.getTech(e)]}).filter(function(e){var t=e[0];e=e[1];return e?e.isSupported():(h.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t){var i=e[0];if(e[1].canPlaySource(t,s.options_[i.toLowerCase()]))return{source:t,tech:i}};r=this.options_.sourceOrder?t(e,n,(i=r,function(e,t){return i(t,e)})):t(n,e,r);return r||!1},e.handleSrc_=function(e,s){var n=this;if("undefined"==typeof e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var t,i,r=ms(e);r.length?(this.changingSrc_=!0,s||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),as(this,r[0],function(e,t){var i;return n.middleware_=t,s||(n.cache_.sources=r),n.updateSourceCaches_(e),n.src_(e)?1<r.length?n.handleSrc_(r.slice(1)):(n.changingSrc_=!1,n.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void n.triggerReady()):(t=t,i=n.tech_,void t.forEach(function(e){return e.setTech&&e.setTech(i)}))}),this.options_.retryOnError&&1<r.length&&(i=function(){n.off("error",t)},this.one("error",t=function(){n.error(null),n.handleSrc_(r.slice(1),!0)}),this.one("playing",i),this.resetRetryOnError_=function(){n.off("error",t),n.off("playing",i)})):this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)},e.src=function(e){return this.handleSrc_(e,!1)},e.src_=function(e){var t,i,s=this,n=this.selectSource([e]);return!n||(t=n.tech,i=this.techName_,f(t)!==f(i)?(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){s.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},e.load=function(){this.techCall_("load")},e.reset=function(){var e=this,t=this.options_.Promise||window.Promise;this.paused()||!t?this.doReset_():jt(this.play().then(function(){return e.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),xt(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay;e=e.remainingTimeDisplay;t&&t.updateContent(),e&&e.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},e.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t="undefined"==typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},e.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},e.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},e.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){var e;this.poster_&&!this.options_.techCanOverridePoster||!this.tech_||!this.tech_.poster||(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))},e.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(t){var i=this;if(void 0===t)return this.error_||null;if($("beforeerror").forEach(function(e){e=e(i,t),ee(e)&&!Array.isArray(e)||"string"==typeof e||"number"==typeof e||null===e?t=e:i.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",function(){this.off(["click","touchstart"],e)})}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Ft(t),this.addClass("vjs-error"),h.error("(CODE:"+this.error_.code+" "+Ft.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),$("error").forEach(function(e){return e(i,i.error_)})},e.reportUserActivity=function(e){this.userActivity_=!0},e.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var t,i,s,n=m(this,this.reportUserActivity),e=function(e){n(),this.clearInterval(t)};this.on("mousedown",function(){n(),this.clearInterval(t),t=this.setInterval(n,250)}),this.on("mousemove",function(e){e.screenX===i&&e.screenY===s||(i=e.screenX,s=e.screenY,n())}),this.on("mouseup",e),this.on("mouseleave",e);var r;e=this.getChild("controlBar");!e||p||re||(e.on("mouseenter",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),e.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n),this.setInterval(function(){var e;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r),(e=this.options_.inactivityTimeout)<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)))},250)},e.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},e.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},e.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var e=this.children(),i=this.getChild("ControlBar"),s=i&&i.currentHeight();e.forEach(function(e){e!==i&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),t.audioOnlyCache_.hiddenChildren.push(e))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(s),this.trigger("audioonlymodechange")},e.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(e){return e.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},e.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var i=this.options_.Promise||window.Promise;if(i){if(e){var s=[];return this.isInPictureInPicture()&&s.push(this.exitPictureInPicture()),this.isFullscreen()&&s.push(this.exitFullscreen()),this.audioPosterMode()&&s.push(this.audioPosterMode(!1)),i.all(s).then(function(){return t.enableAudioOnlyUI_()})}return i.resolve().then(function(){return t.disableAudioOnlyUI_()})}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},e.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},e.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},e.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var i=this.options_.Promise||window.Promise;return i?e?(this.audioOnlyMode()?this.audioOnlyMode(!1):i.resolve()).then(function(){t.enablePosterModeUI_()}):i.resolve().then(function(){t.disablePosterModeUI_()}):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},e.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},e.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=function(e){var t=(t=(e=void 0===e?{}:e).track)||e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),xt(this)&&this.trigger("languagechange"))},e.languages=function(){return g(o.prototype.options_.languages,this.languages_)},e.toJSON=function(){var e=g(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var s=t[i];(s=g(s)).player=void 0,e.tracks[i]=s}return e},e.createModal=function(e,t){var i=this;(t=t||{}).content=e||"";var s=new qt(this,t);return this.addChild(s),s.on("dispose",function(){i.removeChild(s)}),s.open(),s},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),i=0;i<Ks.length;i++){var s=Ks[i];if(t<=this.breakpoints_[s]){if(e===s)return;e&&this.removeClass(Xs[e]),this.addClass(Xs[s]),this.breakpoint_=s;break}}},e.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},e.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=d({},Zs,e),this.updateCurrentBreakpoint_()),d(this.breakpoints_)},e.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Xs[this.breakpoint_]||""},e.loadMedia=function(e,t){var i,s,n,r=this;e&&"object"==typeof e&&(this.reset(),this.cache_.media=g(e),i=(n=this.cache_.media).artwork,s=n.poster,e=n.src,n=n.textTracks,!i&&s&&(this.cache_.media.artwork=[{src:s,type:ps(s)}]),e&&this.src(e),s&&this.poster(s),Array.isArray(n)&&n.forEach(function(e){return r.addRemoteTextTrack(e,!1)}),this.ready(t))},e.getMedia=function(){if(this.cache_.media)return g(this.cache_.media);var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:ps(t.poster)}]),t},o.getTagSettings=function(e){var t,i={sources:[],tracks:[]},s=De(e),n=s["data-setup"];if(Te(e,"vjs-fill")&&(s.fill=!0),Te(e,"vjs-fluid")&&(s.fluid=!0),null!==n&&(n=(t=$t(n||"{}"))[0],t=t[1],n&&h.error(n),d(s,t)),d(i,s),e.hasChildNodes())for(var r=e.childNodes,a=0,o=r.length;a<o;a++){var l=r[a],c=l.nodeName.toLowerCase();"source"===c?i.sources.push(De(l)):"track"===c&&i.tracks.push(De(l))}return i},e.flexNotSupported_=function(){var e=document.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},e.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},e.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(function(e){return"number"==typeof e})&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},o}(v),Js=(xi.names.forEach(function(e){var t=xi[e];k.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),k.prototype.crossorigin=k.prototype.crossOrigin,k.players={},t=window.navigator,k.prototype.options_={techOrder:_.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:t&&(t.languages&&t.languages[0]||t.userLanguage||t.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){k.prototype[e]=function(){return this.techGet_(e)}}),Ys.forEach(function(e){k.prototype["handleTech"+f(e)+"_"]=function(){return this.trigger(e)}}),v.registerComponent("Player",k),Q(function(i){function s(e,t){return i.exports=s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}i.exports=s}));function en(e){return un.hasOwnProperty(e)}function tn(e){return en(e)?un[e]:void 0}function sn(e,t,i){i=(i?"before":"")+"pluginsetup",e.trigger(i,t),e.trigger(i+":"+t.name,t)}function nn(t,i){function s(){sn(this,{name:t,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return hn(this,t),sn(this,{name:t,plugin:i,instance:e}),e}return Object.keys(i).forEach(function(e){s[e]=i[e]}),s}function rn(n,r){return r.prototype.name=n,function(){sn(this,{name:n,plugin:r,instance:null},!0);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=on(r,[this].concat(t));return this[n]=function(){return s},sn(this,s.getEventHash()),s}}var an=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}},on=Q(function(s){function n(e,t,i){return an()?s.exports=n=Reflect.construct:s.exports=n=function(e,t,i){var s=[null];return s.push.apply(s,t),s=new(Function.bind.apply(e,s)),i&&Js(s,i.prototype),s},n.apply(null,arguments)}s.exports=n}),ln="plugin",cn="activePlugins_",un={},hn=function(e,t){e[cn]=e[cn]||{},e[cn][t]=!0},dn=function(){function i(e){if(this.constructor===i)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),It(this),delete this.trigger,At(this,this.constructor.defaultState),hn(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}var e=i.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(e){return(e=void 0===e?{}:e).name=this.name,e.plugin=this.constructor,e.instance=this,e},e.trigger=function(e,t){return ut(this.eventBusEl_,e,this.getEventHash(t=void 0===t?{}:t))},e.handleStateChanged=function(e){},e.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[cn][e]=!1,this.player=this.state=null,t[e]=rn(e,un[e])},i.isBasic=function(e){return e="string"==typeof e?tn(e):e,"function"==typeof e&&!i.prototype.isPrototypeOf(e.prototype)},i.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(en(e))h.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(k.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return un[e]=t,e!==ln&&(i.isBasic(t)?k.prototype[e]=nn(e,t):k.prototype[e]=rn(e,t)),t},i.deregisterPlugin=function(e){if(e===ln)throw new Error("Cannot de-register base plugin.");en(e)&&(delete un[e],delete k.prototype[e])},i.getPlugins=function(e){var i;return(e=void 0===e?Object.keys(un):e).forEach(function(e){var t=tn(e);t&&((i=i||{})[e]=t)}),i},i.getPluginVersion=function(e){return e=tn(e),e&&e.VERSION||""},i}(),pn=(dn.getPlugin=tn,dn.BASE_PLUGIN_NAME=ln,dn.registerPlugin(ln,dn),k.prototype.usingPlugin=function(e){return!!this[cn]&&!0===this[cn][e]},k.prototype.hasPlugin=function(e){return!!en(e)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Js(e,t)}),mn=function(e){return 0===e.indexOf("#")?e.slice(1):e};function x(e,t,i){if(n=x.getPlayer(e))return t&&h.warn('Player "'+e+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var s="string"==typeof e?Ge("#"+mn(e)):e;if(!Se(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");s.ownerDocument.defaultView&&s.ownerDocument.body.contains(s)||h.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(s.parentNode&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),$("beforesetup").forEach(function(e){e=e(s,g(t)),ee(e)&&!Array.isArray(e)?t=g(t,e):h.error("please return an object in beforesetup hooks")});var n=new(v.getComponent("Player"))(s,t,i);return $("setup").forEach(function(e){return e(n)}),n}x.hooks_=R,x.hooks=$,x.hook=function(e,t){$(e,t)},x.hookOnce=function(i,e){$(i,[].concat(e).map(function(t){return function e(){return U(i,e),t.apply(void 0,arguments)}}))},x.removeHook=U,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&we()&&((yn=Ge(".vjs-styles-defaults"))||(yn=et("vjs-styles-defaults"),(t=Ge("head"))&&t.insertBefore(yn,t.firstChild),tt(yn,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),Ze(1,x),x.VERSION=F,x.options=k.prototype.options_,x.getPlayers=function(){return k.players},x.getPlayer=function(e){var t=k.players;if("string"==typeof e){var i=mn(e),s=t[i];if(s)return s;i=Ge("#"+i)}else i=e;if(Se(i)&&(e=i.player,i=i.playerId,e||t[i]))return e||t[i]},x.getAllPlayers=function(){return Object.keys(k.players).map(function(e){return k.players[e]}).filter(Boolean)},x.players=k.players,x.getComponent=v.getComponent,x.registerComponent=function(e,t){_.isTech(t)&&h.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),v.registerComponent.call(v,e,t)},x.getTech=_.getTech,x.registerTech=_.registerTech,x.use=function(e,t){ss[e]=ss[e]||[],ss[e].push(t)},Object.defineProperty(x,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(x.middleware,"TERMINATOR",{value:rs,writeable:!1,enumerable:!0}),x.browser=r,x.TOUCH_ENABLED=fe,x.extend=function(e,t){var i,s=function(){e.apply(this,arguments)},n={};for(i in"object"==typeof(t=void 0===t?{}:t)?(t.constructor!==Object.prototype.constructor&&(s=t.constructor),n=t):"function"==typeof t&&(s=t),pn(s,e),e&&(s.super_=e),n)n.hasOwnProperty(i)&&(s.prototype[i]=n[i]);return s},x.mergeOptions=g,x.bind=m,x.registerPlugin=dn.registerPlugin,x.deregisterPlugin=dn.deregisterPlugin,x.plugin=function(e,t){return h.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),dn.registerPlugin(e,t)},x.getPlugins=dn.getPlugins,x.getPlugin=dn.getPlugin,x.getPluginVersion=dn.getPluginVersion,x.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),x.options.languages=g(x.options.languages,((i={})[e]=t,i)),x.options.languages[e]},x.log=h,x.createLogger=Y,x.createTimeRange=x.createTimeRanges=Mt,x.formatTime=ks,x.setFormatTime=function(e){Cs=e},x.resetFormatTime=function(){Cs=_s},x.parseUrl=Xt,x.isCrossOrigin=ei,x.EventTarget=ft,x.on=ct,x.one=ht,x.off=c,x.trigger=ut,x.xhr=pi,x.TextTrack=_i,x.AudioTrack=i,x.VideoTrack=pe,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){x[e]=function(){return h.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Qe[e].apply(null,arguments)}}),x.computedStyle=ie,x.dom=Qe,x.url=li,x.defineLazyProperty=Ws,x.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var fn=Q(function(e,t){var i,r,s,n,a;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return s.path=a.normalizePath(s.path),a.buildURLFromParts(s)}if(s=a.parseURL(t),!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=a.normalizePath(s.path),a.buildURLFromParts(s)):t;if(t=a.parseURL(e),!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(n=r.exec(t.path),t.netLoc=n[1],t.path=n[2]),t.netLoc&&!t.path&&(t.path="/");var n;e={scheme:t.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};return s.netLoc||(e.netLoc=t.netLoc,"/"!==s.path[0]&&(s.path?(n=(n=t.path).substring(0,n.lastIndexOf("/")+1)+s.path,e.path=a.normalizePath(n)):(e.path=t.path,s.params||(e.params=t.params,s.query||(e.query=t.query))))),null===e.path&&(e.path=i.alwaysNormalize?a.normalizePath(s.path):s.path),a.buildURLFromParts(e)},parseURL:function(e){return e=i.exec(e),e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(s,"");e.length!==(e=e.replace(n,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a}),gn="http://example.com",yn=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,s=0;s<i;++s)t[s].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),r=t.length,a=0;a<r;++a)t[a].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),vn=function(e){return window.atob?window.atob(e):Fu.from(e,"base64").toString("binary")};function bn(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||"");e={};return t[1]&&(e.length=parseInt(t[1],10)),t[2]&&(e.offset=parseInt(t[2],10)),e}function wn(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),s={},n=i.length;n--;)""!==i[n]&&((t=/([^=]*)=(.*)/.exec(i[n]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),s[t[0]]=t[1]);return s}function Sn(t){var i={};return Object.keys(t).forEach(function(e){i[e.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})]=t[e]}),i}function _n(e){var t,i,s,n,r=e.serverControl,a=e.targetDuration,o=e.partTargetDuration;r&&(t="#EXT-X-SERVER-CONTROL",i="holdBack",s="partHoldBack",n=a&&3*a,e=o&&2*o,a&&!r.hasOwnProperty(i)&&(r[i]=n,this.trigger("info",{message:t+" defaulting HOLD-BACK to targetDuration * 3 ("+n+")."})),n&&r[i]<n&&(this.trigger("warn",{message:t+" clamping HOLD-BACK ("+r[i]+") to targetDuration * 3 ("+n+")"}),r[i]=n),o&&!r.hasOwnProperty(s)&&(r[s]=3*o,this.trigger("info",{message:t+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[s]+")."})),o&&r[s]<e&&(this.trigger("warn",{message:t+" clamping PART-HOLD-BACK ("+r[s]+") to partTargetDuration * 2 ("+e+")."}),r[s]=e))}function Cn(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})}function kn(e){e=(e=void 0===e?"":e).split(",");var r=[];return e.forEach(function(s){var n;s=s.trim(),$n.forEach(function(e){var t,i=Rn[e].exec(s.toLowerCase());!i||i.length<=1||(n=e,t=s.substring(0,i[1].length),i=s.replace(t,""),r.push({type:t,details:i,mediaType:e}))}),n||r.push({type:s,details:"",mediaType:"unknown"})}),r}function xn(e){return Rn.audio.test((e=void 0===e?"":e).trim().toLowerCase())}function Tn(e){if(e&&"string"==typeof e){var t=e.toLowerCase().split(",").map(function(e){return Cn(e.trim())}),i="video";1===t.length&&xn(t[0])?i="audio":1===t.length&&(s=t[0],Rn.text.test((s=void 0===s?"":s).trim().toLowerCase()))&&(i="application");var s="mp4";return t.every(function(e){return Rn.mp4.test(e)})?s="mp4":t.every(function(e){return Rn.webm.test(e)})?s="webm":t.every(function(e){return Rn.ogg.test(e)})&&(s="ogg"),i+"/"+s+';codecs="'+e+'"'}}function In(e){return void 0===e&&(e=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(Tn(e))||!1}function Pn(e){return(e=void 0===e?"":e).toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<Un.length;t++)if(Rn["muxer"+Un[t]].test(e))return!0;return!1})}function An(e){return Vn.test(e)?"hls":zn.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}function En(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer}function T(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Wn(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))}function Dn(e,t){var i=void 0!==(t=(void 0===t?{}:t).le)&&t;e=P(e="bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e?0:e);for(var s=(t=e,Math.ceil(t.toString(2).length/8)),n=new Uint8Array(new ArrayBuffer(s)),r=0;r<s;r++){var a=i?r:Math.abs(r+1-n.length);n[a]=Number(e/Hn[r]&P(255)),e<0&&(n[a]=Math.abs(~n[a]),n[a]-=0===r?1:2)}return n}function On(e,t){if("string"!=typeof(e="string"!=typeof e&&e&&"function"==typeof e.toString?e.toString():e))return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}function I(i,e,t){var s=void 0===t?{}:t,n=void 0===(t=s.offset)?0:t,r=void 0===(s=s.mask)?[]:s;return i=T(i),s=(e=T(e)).every||Array.prototype.every,e.length&&i.length-n>=e.length&&s.call(e,function(e,t){return e===(r[t]?r[t]&i[n+t]:i[n+t])})}function Ln(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,s=/^\/\//.test(e),n=!window.location&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||qn):/\/\//i.test(e)||(e=fn.buildAbsoluteURL(window.location&&window.location.href||"",e)),i?(i=new URL(t,e),n?i.href.slice(qn.length):s?i.href.slice(i.protocol.length):i.href):fn.buildAbsoluteURL(e,t)}var Nn=function(t){function e(){var e=t.call(this)||this;return e.buffer="",e}return w(e,t),e.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},e}(yn),Mn=String.fromCharCode(9),Bn=function(t){function e(){var e=t.call(this)||this;return e.customParsers=[],e.tagMappers=[],e}w(e,t);var i=e.prototype;return i.push=function(i){var n,r,a=this;0!==(i=i.trim()).length&&("#"===i[0]?this.tagMappers.reduce(function(e,t){return t=t(i),t===i?e:e.concat([t])},[i]).forEach(function(e){for(var t,i,s=0;s<a.customParsers.length;s++)if(a.customParsers[s].call(a,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),n=/^#EXTM3U/.exec(e))a.trigger("data",{type:"tag",tagType:"m3u"});else{if(n=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),void a.trigger("data",r);if(n=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),void a.trigger("data",r);if(n=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),void a.trigger("data",r);if(n=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),void a.trigger("data",r);if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),void a.trigger("data",r);if(n=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),void a.trigger("data",r);if(n=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return r=K(bn(n[1]),{type:"tag",tagType:"byterange"}),void a.trigger("data",r);if(n=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),void a.trigger("data",r);if(n=/^#EXT-X-MAP:?(.*)$/.exec(e))return r={type:"tag",tagType:"map"},n[1]&&((t=wn(n[1])).URI&&(r.uri=t.URI),t.BYTERANGE&&(r.byterange=bn(t.BYTERANGE))),void a.trigger("data",r);if(n=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=wn(n[1]),r.attributes.RESOLUTION&&(i={},(t=r.attributes.RESOLUTION.split("x"))[0]&&(i.width=parseInt(t[0],10)),t[1]&&(i.height=parseInt(t[1],10)),r.attributes.RESOLUTION=i),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),void a.trigger("data",r);if(n=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return r={type:"tag",tagType:"media"},n[1]&&(r.attributes=wn(n[1])),void a.trigger("data",r);if(n=/^#EXT-X-ENDLIST/.exec(e))a.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(n=/^#EXT-X-DISCONTINUITY/.exec(e)))return(n=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),void a.trigger("data",r)):(n=/^#EXT-X-KEY:?(.*)$/.exec(e))?(r={type:"tag",tagType:"key"},n[1]&&(r.attributes=wn(n[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void a.trigger("data",r)):(n=/^#EXT-X-START:?(.*)$/.exec(e))?(r={type:"tag",tagType:"start"},n[1]&&(r.attributes=wn(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void a.trigger("data",r)):(n=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",void a.trigger("data",r)):(n=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",void a.trigger("data",r)):(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",void a.trigger("data",r)):(n=/^#EXT-X-SKIP:(.*)$/.exec(e))&&n[1]?((r={type:"tag",tagType:"skip"}).attributes=wn(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(Mn)),void a.trigger("data",r)):(n=/^#EXT-X-PART:(.*)$/.exec(e))&&n[1]?((r={type:"tag",tagType:"part"}).attributes=wn(n[1]),["DURATION"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=/YES/.test(r.attributes[e]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=bn(r.attributes.BYTERANGE)),void a.trigger("data",r)):(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&n[1]?((r={type:"tag",tagType:"server-control"}).attributes=wn(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=/YES/.test(r.attributes[e]))}),void a.trigger("data",r)):(n=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&n[1]?((r={type:"tag",tagType:"part-inf"}).attributes=wn(n[1]),["PART-TARGET"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))}),void a.trigger("data",r)):(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&n[1]?((r={type:"tag",tagType:"preload-hint"}).attributes=wn(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(e){var t;r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseInt(r.attributes[e],10),t="BYTERANGE-LENGTH"===e?"length":"offset",r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[t]=r.attributes[e],delete r.attributes[e])}),void a.trigger("data",r)):(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&n[1]?((r={type:"tag",tagType:"rendition-report"}).attributes=wn(n[1]),["LAST-MSN","LAST-PART"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseInt(r.attributes[e],10))}),void a.trigger("data",r)):void a.trigger("data",{type:"tag",data:e.slice(4)});a.trigger("data",{type:"tag",tagType:"discontinuity"})}}else a.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:i}))},i.addParser=function(e){var t=this,i=e.expression,s=e.customType,n=e.dataParser,r=e.segment;"function"!=typeof n&&(n=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:n(e),customType:s,segment:r}),!0})},i.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},e}(yn),Fn=function(t){function e(){var e=t.call(this)||this;e.lineStream=new Nn,e.parseStream=new Bn,e.lineStream.pipe(e.parseStream);var s,n,r=b(e),o=[],l={},c=!1,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0,p=0;return e.on("end",function(){l.uri||!l.parts&&!l.preloadHints||(!l.map&&s&&(l.map=s),!l.key&&n&&(l.key=n),l.timeline||"number"!=typeof h||(l.timeline=h),e.manifest.preloadSegment=l)}),e.parseStream.on("data",function(a){var t,i;({tag:function(){({version:function(){a.version&&(this.manifest.version=a.version)},"allow-cache":function(){this.manifest.allowCache=a.allowed,"allowed"in a||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in a&&((l.byterange=e).length=a.length,"offset"in a||(a.offset=d)),"offset"in a&&((l.byterange=e).offset=a.offset),d=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<a.duration&&(l.duration=a.duration),0===a.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(a.attributes)if("NONE"!==a.attributes.METHOD)if(a.attributes.URI){if("com.apple.streamingkeydelivery"===a.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:a.attributes});if("com.microsoft.playready"===a.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:a.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===a.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(a.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===a.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==a.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):a.attributes.KEYID&&"0x"===a.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:a.attributes.KEYFORMAT,keyId:a.attributes.KEYID.substring(2)},pssh:function(e){for(var t=vn(e),i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(a.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));a.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:a.attributes.METHOD||"AES-128",uri:a.attributes.URI},"undefined"!=typeof a.attributes.IV&&(n.iv=a.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(a.number)?this.manifest.mediaSequence=a.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+a.number})},"discontinuity-sequence":function(){isFinite(a.number)?(this.manifest.discontinuitySequence=a.number,h=a.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+a.number})},"playlist-type":function(){/VOD|EVENT/.test(a.playlistType)?this.manifest.playlistType=a.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+a.playlist})},map:function(){s={},a.uri&&(s.uri=a.uri),a.byterange&&(s.byterange=a.byterange),n&&(s.key=n)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||u,a.attributes?(l.attributes||(l.attributes={}),K(l.attributes,a.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var e;this.manifest.mediaGroups=this.manifest.mediaGroups||u,a.attributes&&a.attributes.TYPE&&a.attributes["GROUP-ID"]&&a.attributes.NAME?((e=this.manifest.mediaGroups[a.attributes.TYPE])[a.attributes["GROUP-ID"]]=e[a.attributes["GROUP-ID"]]||{},t=e[a.attributes["GROUP-ID"]],(i={default:/yes/i.test(a.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(a.attributes.AUTOSELECT),a.attributes.LANGUAGE&&(i.language=a.attributes.LANGUAGE),a.attributes.URI&&(i.uri=a.attributes.URI),a.attributes["INSTREAM-ID"]&&(i.instreamId=a.attributes["INSTREAM-ID"]),a.attributes.CHARACTERISTICS&&(i.characteristics=a.attributes.CHARACTERISTICS),a.attributes.FORCED&&(i.forced=/yes/i.test(a.attributes.FORCED)),t[a.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=a.dateTimeString,this.manifest.dateTimeObject=a.dateTimeObject),l.dateTimeString=a.dateTimeString,l.dateTimeObject=a.dateTimeObject},targetduration:function(){!isFinite(a.duration)||a.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+a.duration}):(this.manifest.targetDuration=a.duration,_n.call(this,this.manifest))},start:function(){a.attributes&&!isNaN(a.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:a.attributes["TIME-OFFSET"],precise:a.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){l.cueOut=a.data},"cue-out-cont":function(){l.cueOutCont=a.data},"cue-in":function(){l.cueIn=a.data},skip:function(){this.manifest.skip=Sn(a.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",a.attributes,["SKIPPED-SEGMENTS"])},part:function(){var i=this;c=!0;var e=this.manifest.segments.length,t=Sn(a.attributes);l.parts=l.parts||[],l.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=p),p=t.byterange.offset+t.byterange.length);var s=l.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+s+" for segment #"+e,a.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(e,t){e.hasOwnProperty("lastPart")||i.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+t+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var e=this.manifest.serverControl=Sn(a.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),_n.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var e=this.manifest.segments.length,t=Sn(a.attributes),i=t.type&&"PART"===t.type;l.preloadHints=l.preloadHints||[],l.preloadHints.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=i?p:0,i&&(p=t.byterange.offset+t.byterange.length)));var s=l.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+s+" for segment #"+e,a.attributes,["TYPE","URI"]),t.type)for(var n=0;n<l.preloadHints.length-1;n++){var r=l.preloadHints[n];r.type&&r.type===t.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+s+" for segment #"+e+" has the same TYPE "+t.type+" as preload hint #"+n})}},"rendition-report":function(){var e=Sn(a.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);var t=this.manifest.renditionReports.length-1;e=["LAST-MSN","URI"];c&&e.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+t,a.attributes,e)},"part-inf":function(){this.manifest.partInf=Sn(a.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",a.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),_n.call(this,this.manifest)}}[a.tagType]||function(){}).call(r)},uri:function(){l.uri=a.uri,o.push(l),!this.manifest.targetDuration||"duration"in l||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),n&&(l.key=n),l.timeline=h,s&&(l.map=s),p=0,l={}},comment:function(){},custom:function(){a.segment?(l.custom=l.custom||{},l.custom[a.customType]=a.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[a.customType]=a.data)}})[a.type].call(r)}),e}w(e,t);var i=e.prototype;return i.warnOnMissingAttributes_=function(e,t,i){var s=[];i.forEach(function(e){t.hasOwnProperty(e)||s.push(e)}),s.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+s.join(", ")})},i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push("\n"),this.trigger("end")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},e}(yn),Rn={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},$n=["video","audio","text"],Un=["Video","Audio","Text"],jn="mp4a.40.2",Vn=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,zn=/^application\/dash\+xml/i,Wn=En,P=window.BigInt||Number,Hn=[P("0x1"),P("0x100"),P("0x10000"),P("0x1000000"),P("0x100000000"),P("0x10000000000"),P("0x1000000000000"),P("0x100000000000000"),P("0x10000000000000000")],qn="http://example.com";function Gn(e){for(var t=(e=e,window.atob?window.atob(e):Fu.from(e,"base64").toString("binary")),i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}function Yn(e,t){return(t=void 0===t?Object:t)&&"function"==typeof t.freeze?t.freeze(e):e}var Qn=Yn({HTML:"text/html",isHTML:function(e){return e===Qn.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Kn=Yn({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===Kn.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),Xn={freeze:Yn,MIME_TYPE:Qn,NAMESPACE:Kn},Zn=Xn.NAMESPACE;function Jn(e){return""!==e}function er(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function tr(e){return e?(e=(e=e)?e.split(/[\t\n\f\r ]+/).filter(Jn):[],Object.keys(e.reduce(er,{}))):[]}function ir(e,t){for(var i in e)t[i]=e[i]}function sr(e,t){var i,s=e.prototype;s instanceof t||((i=function(){}).prototype=t.prototype,ir(s,i=new i),e.prototype=s=i),s.constructor!=e&&(s.constructor=e)}var r,nr,rr=(r={}).ELEMENT_NODE=1,ar=r.ATTRIBUTE_NODE=2,or=r.TEXT_NODE=3,lr=r.CDATA_SECTION_NODE=4,cr=r.ENTITY_REFERENCE_NODE=5,ur=(r.ENTITY_NODE=6,r.PROCESSING_INSTRUCTION_NODE=7),hr=r.COMMENT_NODE=8,dr=r.DOCUMENT_NODE=9,pr=r.DOCUMENT_TYPE_NODE=10,mr=r.DOCUMENT_FRAGMENT_NODE=11,A=(r.NOTATION_NODE=12,{});function fr(e,t){var i;return t instanceof Error?i=t:(i=this,Error.call(this,A[e]),this.message=A[e],Error.captureStackTrace&&Error.captureStackTrace(this,fr)),i.code=e,t&&(this.message=this.message+": "+t),i}function gr(){}function yr(e,t){this._node=e,this._refresh=t,vr(this)}function vr(e){var t,i=e._node._inc||e._node.ownerDocument._inc;e._inc!=i&&(t=e._refresh(e._node),Yr(e,"length",t.length),ir(t,e),e._inc=i)}function br(){}function wr(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function Sr(e,t,i,s){s?t[wr(t,s)]=i:t[t.length++]=i,!e||(t=(i.ownerElement=e).ownerDocument)&&(s&&Ir(t,e,s),e=e,i=i,(t=t)&&t._inc++,i.namespaceURI===Zn.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value))}function _r(e,t,i){var s=wr(t,i);if(!(0<=s))throw fr(8,new Error(e.tagName+"@"+i));for(var n,r=t.length-1;s<r;)t[s]=t[++s];t.length=r,!e||(n=e.ownerDocument)&&(Ir(n,e,i),i.ownerElement=null)}function Cr(){}function E(){}function kr(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function xr(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(xr(e,t))return 1}while(e=e.nextSibling)}function Tr(){}function Ir(e,t,i){e&&e._inc++,i.namespaceURI===Zn.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function Pr(e,t,i){if(e&&e._inc){e._inc++;var s=t.childNodes;if(i)s[s.length++]=i;else{for(var n=t.firstChild,r=0;n;)n=(s[r++]=n).nextSibling;s.length=r}}}function Ar(e,t){var i=t.previousSibling,s=t.nextSibling;return i?i.nextSibling=s:e.firstChild=s,s?s.previousSibling=i:e.lastChild=i,Pr(e.ownerDocument,e),t}function Er(e,t,i){var s=t.parentNode;if(s&&s.removeChild(t),t.nodeType===mr){var n=t.firstChild;if(null==n)return t;var r=t.lastChild}else n=r=t;for(s=i?i.previousSibling:e.lastChild,n.previousSibling=s,r.nextSibling=i,s?s.nextSibling=n:e.firstChild=n,null==i?e.lastChild=r:i.previousSibling=r;n.parentNode=e,n!==r&&(n=n.nextSibling););return Pr(e.ownerDocument||e,e),t.nodeType==mr&&(t.firstChild=t.lastChild=null),t}function Dr(){this._nsMap={}}function Or(){}function Lr(){}function Nr(){}function Mr(){}function Br(){}function Fr(){}function Rr(){}function $r(){}function Ur(){}function jr(){}function Vr(){}function zr(){}function Wr(e,t){var i,s=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,a=n.namespaceURI;return Gr(this,s,e,t,i=a&&null==r&&null==(r=n.lookupPrefix(a))?[{namespace:a,prefix:null}]:i),s.join("")}function Hr(e,t,i){var s=e.prefix||"",n=e.namespaceURI;if(n&&("xml"!==s||n!==Zn.XML)&&n!==Zn.XMLNS){for(var r=i.length;r--;){var a=i[r];if(a.prefix===s)return a.namespace!==n}return 1}}function qr(e,t,i){e.push(" ",t,'="',i.replace(/[<&"]/g,kr),'"')}function Gr(e,t,i,s,n){if(n=n||[],s){if(!(e=s(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case rr:var r=e.attributes,a=r.length,o=e.firstChild,l=e.tagName,c=l;if(!(i=Zn.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var u,h=0;h<r.length;h++)if("xmlns"===r.item(h).name){u=r.item(h).value;break}if(!u)for(var d=n.length-1;0<=d;d--)if(""===(p=n[d]).prefix&&p.namespace===e.namespaceURI){u=p.namespace;break}if(u!==e.namespaceURI){var p;for(d=n.length-1;0<=d;d--)if((p=n[d]).namespace===e.namespaceURI){p.prefix&&(c=p.prefix+":"+l);break}}}t.push("<",c);for(var m=0;m<a;m++)"xmlns"==(f=r.item(m)).prefix?n.push({prefix:f.localName,namespace:f.value}):"xmlns"==f.nodeName&&n.push({prefix:"",namespace:f.value});var f,g,y;for(m=0;m<a;m++)Hr(f=r.item(m),0,n)&&(qr(t,(g=f.prefix||"")?"xmlns:"+g:"xmlns",y=f.namespaceURI),n.push({prefix:g,namespace:y})),Gr(f,t,i,s,n);if(l===c&&Hr(e,0,n)&&(qr(t,(g=e.prefix||"")?"xmlns:"+g:"xmlns",y=e.namespaceURI),n.push({prefix:g,namespace:y})),o||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;o;)o.data?t.push(o.data):Gr(o,t,i,s,n.slice()),o=o.nextSibling;else for(;o;)Gr(o,t,i,s,n.slice()),o=o.nextSibling;t.push("</",c,">")}else t.push("/>");return;case dr:case mr:for(o=e.firstChild;o;)Gr(o,t,i,s,n.slice()),o=o.nextSibling;return;case ar:return qr(t,e.name,e.value),0;case or:return t.push(e.data.replace(/[<&]/g,kr).replace(/]]>/g,"]]&gt;"));case lr:return t.push("<![CDATA[",e.data,"]]>");case hr:return t.push("\x3c!--",e.data,"--\x3e");case pr:var v=e.publicId,b=e.systemId;return t.push("<!DOCTYPE ",e.name),void(v?(t.push(" PUBLIC ",v),b&&"."!=b&&t.push(" ",b),t.push(">")):b&&"."!=b?t.push(" SYSTEM ",b,">"):((b=e.internalSubset)&&t.push(" [",b,"]"),t.push(">")));case ur:return t.push("<?",e.target," ",e.data,"?>");case cr:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Yr(e,t,i){e[t]=i}(i={}).INDEX_SIZE_ERR=(A[1]="Index size error",1),i.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2),i.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3),i.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),i.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),i.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),i.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7),i.NOT_FOUND_ERR=(A[8]="Not found",8),i.NOT_SUPPORTED_ERR=(A[9]="Not supported",9),i.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10),i.INVALID_STATE_ERR=(A[11]="Invalid state",11),i.SYNTAX_ERR=(A[12]="Syntax error",12),i.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),i.NAMESPACE_ERR=(A[14]="Invalid namespace",14),i.INVALID_ACCESS_ERR=(A[15]="Invalid access",15),fr.prototype=Error.prototype,ir(i,fr),gr.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],s=0;s<this.length;s++)Gr(this[s],i,e,t);return i.join("")}},yr.prototype.item=function(e){return vr(this),this[e]},sr(yr,gr),br.prototype={length:0,item:gr.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new fr(10);return t=this.getNamedItem(e.nodeName),Sr(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new fr(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Sr(this._ownerElement,this,e,t),t},removeNamedItem:function(e){return e=this.getNamedItem(e),_r(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){return t=this.getNamedItemNS(e,t),_r(this._ownerElement,this,t),t},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var s=this[i];if(s.localName==t&&s.namespaceURI==e)return s}return null}},Cr.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var s=new Tr;return s.implementation=this,s.childNodes=new gr,s.doctype=i||null,i&&s.appendChild(i),t&&(t=s.createElementNS(e,t),s.appendChild(t)),s},createDocumentType:function(e,t,i){var s=new Fr;return s.name=e,s.nodeName=e,s.publicId=t||"",s.systemId=i||"",s}},E.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Er(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return Ar(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,i,s){var n=new i.constructor;for(var r in i){var a=i[r];"object"!=typeof a&&a!=n[r]&&(n[r]=a)}switch(i.childNodes&&(n.childNodes=new gr),n.ownerDocument=t,n.nodeType){case rr:var o=i.attributes,l=n.attributes=new br,c=o.length;l._ownerElement=n;for(var u=0;u<c;u++)n.setAttributeNode(e(t,o.item(u),!0));break;case ar:s=!0}if(s)for(var h=i.firstChild;h;)n.appendChild(e(t,h,s)),h=h.nextSibling;return n}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==or&&e.nodeType==or?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var s in i)if(i[s]==e)return s;t=t.nodeType==ar?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&e in i)return i[e];t=t.nodeType==ar?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},ir(r,E),ir(r,E.prototype),Tr.prototype={nodeName:"#document",nodeType:dr,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType!=mr)return null==this.documentElement&&e.nodeType==rr&&(this.documentElement=e),Er(this,e,t),e.ownerDocument=this,e;for(var i=e.firstChild;i;){var s=i.nextSibling;this.insertBefore(i,t),i=s}return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),Ar(this,e)},importNode:function(e,t){return function e(t,i,s){var n;switch(i.nodeType){case rr:(n=i.cloneNode(!1)).ownerDocument=t;case mr:break;case ar:s=!0}if(n=n||i.cloneNode(!1),n.ownerDocument=t,n.parentNode=null,s)for(var r=i.firstChild;r;)n.appendChild(e(t,r,s)),r=r.nextSibling;return n}(this,e,t)},getElementById:function(t){var i=null;return xr(this.documentElement,function(e){if(e.nodeType==rr&&e.getAttribute("id")==t)return i=e,!0}),i},getElementsByClassName:function(a){var o=tr(a);return new yr(this,function(n){var r=[];return 0<o.length&&xr(n.documentElement,function(e){var t,i,s;e===n||e.nodeType!==rr||(t=e.getAttribute("class"))&&((i=a===t)||(t=tr(t),i=o.every((s=t,function(e){return s&&-1!==s.indexOf(e)}))),i&&r.push(e))}),r})},createElement:function(e){var t=new Dr;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new gr,(t.attributes=new br)._ownerElement=t},createDocumentFragment:function(){var e=new jr;return e.ownerDocument=this,e.childNodes=new gr,e},createTextNode:function(e){var t=new Nr;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Mr;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Br;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new Vr;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new Or;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Ur;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new Dr,s=t.split(":"),n=i.attributes=new br;return i.childNodes=new gr,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==s.length?(i.prefix=s[0],i.localName=s[1]):i.localName=t,n._ownerElement=i},createAttributeNS:function(e,t){var i=new Or,s=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==s.length?(i.prefix=s[0],i.localName=s[1]):i.localName=t,i}},sr(Tr,E),Tr.prototype.getElementsByTagName=(Dr.prototype={nodeType:rr,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){return e=this.getAttributeNode(e),e&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){e=this.ownerDocument.createAttribute(e),e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e),e&&this.removeAttributeNode(e)},appendChild:function(e){return e.nodeType===mr?this.insertBefore(e,null):function(e,t){var i=t.parentNode;i&&(s=e.lastChild,i.removeChild(t),s=e.lastChild);var s=e.lastChild;return t.parentNode=e,t.previousSibling=s,t.nextSibling=null,s?s.nextSibling=t:e.firstChild=t,e.lastChild=t,Pr(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t),t&&this.removeAttributeNode(t)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){return t=this.getAttributeNodeNS(e,t),t&&t.value||""},setAttributeNS:function(e,t,i){t=this.ownerDocument.createAttributeNS(e,t),t.value=t.nodeValue=""+i,this.setAttributeNode(t)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(s){return new yr(this,function(t){var i=[];return xr(t,function(e){e===t||e.nodeType!=rr||"*"!==s&&e.tagName!=s||i.push(e)}),i})},getElementsByTagNameNS:function(s,n){return new yr(this,function(t){var i=[];return xr(t,function(e){e===t||e.nodeType!==rr||"*"!==s&&e.namespaceURI!==s||"*"!==n&&e.localName!=n||i.push(e)}),i})}}).getElementsByTagName,Tr.prototype.getElementsByTagNameNS=Dr.prototype.getElementsByTagNameNS,sr(Dr,E),Or.prototype.nodeType=ar,sr(Or,E),Lr.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(A[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){var s=this.data.substring(0,e);t=this.data.substring(e+t);this.nodeValue=this.data=i=s+i+t,this.length=i.length}},sr(Lr,E),Nr.prototype={nodeName:"#text",nodeType:or,splitText:function(e){var t=(i=this.data).substring(e),i=i.substring(0,e);return this.data=this.nodeValue=i,this.length=i.length,t=this.ownerDocument.createTextNode(t),this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}},sr(Nr,Lr),Mr.prototype={nodeName:"#comment",nodeType:hr},sr(Mr,Lr),Br.prototype={nodeName:"#cdata-section",nodeType:lr},sr(Br,Lr),Fr.prototype.nodeType=pr,sr(Fr,E),Rr.prototype.nodeType=12,sr(Rr,E),$r.prototype.nodeType=6,sr($r,E),Ur.prototype.nodeType=cr,sr(Ur,E),jr.prototype.nodeName="#document-fragment",jr.prototype.nodeType=mr,sr(jr,E),Vr.prototype.nodeType=ur,sr(Vr,E),zr.prototype.serializeToString=function(e,t,i){return Wr.call(e,t,i)},E.prototype.toString=Wr;try{Object.defineProperty&&(nr=function e(t){switch(t.nodeType){case rr:case mr:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(e(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}},Object.defineProperty(yr.prototype,"length",{get:function(){return vr(this),this.$$length}}),Object.defineProperty(E.prototype,"textContent",{get:function(){return nr(this)},set:function(e){switch(this.nodeType){case rr:case mr:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Yr=function(e,t,i){e["$$"+t]=i})}catch(B){}var pe={DocumentType:Fr,DOMException:fr,DOMImplementation:Cr,Element:Dr,Node:E,NodeList:gr,XMLSerializer:zr},Qr=Q(function(e,t){var i=Xn.freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES}),Kr=(Qr.XML_ENTITIES,Qr.HTML_ENTITIES,Qr.entityMap,Xn.NAMESPACE),Xr=(li=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,yn=new RegExp("[\\-\\.0-9"+li.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),new RegExp("^"+li.source+yn.source+"*(?::"+li.source+yn.source+"*)?$")),Zr=0,Jr=1,ea=2,ta=3,ia=4,sa=5,na=6,ra=7;function aa(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,aa)}function oa(){}function la(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function ca(e,t,i){for(var s=e.tagName,n=null,r=e.length;r--;){var a=e[r],o=a.qName,l=a.value;o=0<(u=o.indexOf(":"))?(c=a.prefix=o.slice(0,u),h=o.slice(u+1),"xmlns"===c&&h):(c=null,"xmlns"===(h=o)&&"");a.localName=h,!1!==o&&(null==n&&(n={},ua(i,i={})),i[o]=n[o]=l,a.uri=Kr.XMLNS,t.startPrefixMapping(o,l))}var c;for(r=e.length;r--;)(c=(a=e[r]).prefix)&&("xml"===c&&(a.uri=Kr.XML),"xmlns"!==c&&(a.uri=i[c||""]));var u,h=0<(u=s.indexOf(":"))?(c=e.prefix=s.slice(0,u),e.localName=s.slice(u+1)):(c=null,e.localName=s),d=e.uri=i[c||""];if(t.startElement(d,h,s,e),!e.closed)return e.currentNSMap=i,e.localNSMap=n,1;if(t.endElement(d,h,s),n)for(c in n)t.endPrefixMapping(c)}function ua(e,t){for(var i in e)t[i]=e[i]}function ha(){this.attributeNames={}}(aa.prototype=new Error).name=aa.name,oa.prototype={parse:function(e,t,i){var s=this.domBuilder;s.startDocument(),ua(t,t={}),function(i,e,s,n,r){function a(e){var t=e.slice(1,-1);return t in s?s[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(r.error("entity not found:"+e),e)}function t(e){var t;m<e&&(t=i.substring(m,e).replace(/&#?\w+;/g,a),h&&o(m),n.characters(t,0,e-m),m=e)}function o(e,t){for(;c<=e&&(t=u.exec(i));)l=t.index,c=l+t[0].length,h.lineNumber++;h.columnNumber=e-l+1}for(var l=0,c=0,u=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,d=[{currentNSMap:e}],p={},m=0;;){try{var f,g,y=i.indexOf("<",m);if(y<0)return i.substr(m).match(/^\s*$/)||(f=n.doc,g=f.createTextNode(i.substr(m)),f.appendChild(g),n.currentElement=g);switch(m<y&&t(y),i.charAt(y+1)){case"/":var v=i.indexOf(">",y+3),b=i.substring(y+2,v).replace(/[ \t\n\r]+$/g,""),w=d.pop();v<0?(b=i.substring(y+2).replace(/[\s<].*/,""),r.error("end tag name: "+b+" is not complete:"+w.tagName),v=y+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),r.error("end tag name: "+b+" maybe not complete"),v=y+1+b.length);var S=w.localNSMap,_=w.tagName==b;if(_||w.tagName&&w.tagName.toLowerCase()==b.toLowerCase()){if(n.endElement(w.uri,w.localName,b),S)for(var C in S)n.endPrefixMapping(C);_||r.fatalError("end tag name: "+b+" is not match the current start tagName:"+w.tagName)}else d.push(w);v++;break;case"?":h&&o(y),v=function(e,t,i){var s=e.indexOf("?>",t);return s?(t=e.substring(t,s).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/),t?(t[0].length,i.processingInstruction(t[1],t[2]),s+2):-1):-1}(i,y,n);break;case"!":h&&o(y),v=function(e,t,i,s){if("-"===e.charAt(t+2)){if("-"!==e.charAt(t+3))return-1;var n=e.indexOf("--\x3e",t+4);return t<n?(i.comment(e,t+4,n-t-4),n+3):(s.error("Unclosed comment"),-1)}if("CDATA["==e.substr(t+3,6))return n=e.indexOf("]]>",t+9),i.startCDATA(),i.characters(e,t+9,n-t-9),i.endCDATA(),n+3;var r=function(e,t){var i,s=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);i=n.exec(e);)if(s.push(i),i[1])return s}(e,t);s=r.length;return 1<s&&/!doctype/i.test(r[0][0])?(n=r[1][0],e=!1,t=!1,3<s&&(/^public$/i.test(r[2][0])?(e=r[3][0],t=4<s&&r[4][0]):/^system$/i.test(r[2][0])&&(t=r[3][0])),s=r[s-1],i.startDTD(n,e,t),i.endDTD(),s.index+s[0].length):-1}(i,y,n,r);break;default:h&&o(y);var k=new ha,x=d[d.length-1].currentNSMap,T=(v=function(e,t,s,i,n,r){function a(e,t,i){s.attributeNames.hasOwnProperty(e)&&r.fatalError("Attribute "+e+" redefined"),s.addValue(e,t,i)}for(var o,l=++t,c=Zr;;){var u=e.charAt(l);switch(u){case"=":if(c===Jr)o=e.slice(t,l),c=ta;else{if(c!==ea)throw new Error("attribute equal must after attrName");c=ta}break;case"'":case'"':if(c===ta||c===Jr){if(c===Jr&&(r.warning('attribute value must after "="'),o=e.slice(t,l)),t=l+1,!(0<(l=e.indexOf(u,t))))throw new Error("attribute value no end '"+u+"' match");h=e.slice(t,l).replace(/&#?\w+;/g,n),a(o,h,t-1),c=sa}else{if(c!=ia)throw new Error('attribute value must after "="');h=e.slice(t,l).replace(/&#?\w+;/g,n),a(o,h,t),r.warning('attribute "'+o+'" missed start quot('+u+")!!"),t=l+1,c=sa}break;case"/":switch(c){case Zr:s.setTagName(e.slice(t,l));case sa:case na:case ra:c=ra,s.closed=!0;case ia:case Jr:case ea:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),c==Zr&&s.setTagName(e.slice(t,l)),l;case">":switch(c){case Zr:s.setTagName(e.slice(t,l));case sa:case na:case ra:break;case ia:case Jr:"/"===(h=e.slice(t,l)).slice(-1)&&(s.closed=!0,h=h.slice(0,-1));case ea:c===ea&&(h=o),c==ia?(r.warning('attribute "'+h+'" missed quot(")!'),a(o,h.replace(/&#?\w+;/g,n),t)):(Kr.isHTML(i[""])&&h.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),a(h,h,t));break;case ta:throw new Error("attribute value missed!!")}return l;case"":u=" ";default:if(u<=" ")switch(c){case Zr:s.setTagName(e.slice(t,l)),c=na;break;case Jr:o=e.slice(t,l),c=ea;break;case ia:var h=e.slice(t,l).replace(/&#?\w+;/g,n);r.warning('attribute "'+h+'" missed quot(")!!'),a(o,h,t);case sa:c=na}else switch(c){case ea:s.tagName,Kr.isHTML(i[""])&&o.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,t),t=l,c=Jr;break;case sa:r.warning('attribute space is required"'+o+'"!!');case na:c=Jr,t=l;break;case ta:c=ia,t=l;break;case ra:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}(i,y,k,x,a,r),k.length);if(!k.closed&&function(e,t,i,s){var n=s[i];return null==n&&((n=e.lastIndexOf("</"+i+">"))<t&&(n=e.lastIndexOf("</"+i)),s[i]=n),n<t}(i,v,k.tagName,p)&&(k.closed=!0,s.nbsp||r.warning("unclosed xml attribute")),h&&T){for(var I=la(h,{}),P=0;P<T;P++){var A=k[P];o(A.offset),A.locator=la(h,{})}n.locator=I,ca(k,n,x)&&d.push(k),n.locator=h}else ca(k,n,x)&&d.push(k);Kr.isHTML(k.uri)&&!k.closed?v=function(e,t,i,s,n){if(/^(?:script|textarea)$/i.test(i)){var r=e.indexOf("</"+i+">",t);e=e.substring(t+1,r);if(/[&<]/.test(e))return/^script$/i.test(i)||(e=e.replace(/&#?\w+;/g,s)),n.characters(e,0,e.length),r}return t+1}(i,v,k.tagName,a,n):v++}}catch(e){if(e instanceof aa)throw e;r.error("element parse error: "+e),v=-1}m<v?m=v:t(Math.max(y,m)+1)}}(e,t,i,s,this.errorHandler),s.endDocument()}},ha.prototype={setTagName:function(e){if(!Xr.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!Xr.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var i={XMLReader:oa,ParseError:aa},da=pe.DOMImplementation,pa=Xn.NAMESPACE,ma=i.ParseError,fa=i.XMLReader;function ga(e){this.options=e||{locator:{}}}function ya(){this.cdata=!1}function va(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function ba(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function wa(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function Sa(e,t){(e.currentElement||e.doc).appendChild(t)}function _a(e){return!!e&&"object"==typeof e}function D(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(t,i){return"object"!=typeof i||Object.keys(i).forEach(function(e){Array.isArray(t[e])&&Array.isArray(i[e])?t[e]=t[e].concat(i[e]):_a(t[e])&&_a(i[e])?t[e]=D(t[e],i[e]):t[e]=i[e]}),t},{})}function Ca(t){return Object.keys(t).map(function(e){return t[e]})}function ka(e){return e.reduce(function(e,t){return e.concat(t)},[])}function xa(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}function Ta(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i;return-1}function Ia(e){var t=e.baseUrl,i=void 0===(s=e.source)?"":s,s=void 0===(s=e.range)?"":s;e=void 0===(e=e.indexRange)?"":e,i={uri:i,resolvedUri:Ln((void 0===t?"":t)||"",i)};return(s||e)&&(s=(s||e).split("-"),e=window.BigInt?window.BigInt(s[0]):parseInt(s[0],10),s=window.BigInt?window.BigInt(s[1]):parseInt(s[1],10),e<Number.MAX_SAFE_INTEGER&&"bigint"==typeof e&&(e=Number(e)),"bigint"==typeof(s="bigint"==typeof(s=s<Number.MAX_SAFE_INTEGER&&"bigint"==typeof s?Number(s):s)||"bigint"==typeof e?window.BigInt(s)-window.BigInt(e)+window.BigInt(1):s-e+1)&&s<Number.MAX_SAFE_INTEGER&&(s=Number(s)),i.byterange={length:s,offset:e}),i}function Pa(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e}function Aa(e){var r,t=e.type,i=e.duration,s=e.timescale,n=void 0===s?1:s,a=e.periodDuration,o=e.sourceDuration;e=function(e,t){for(var i=[],s=e;s<t;s++)i.push(s);return i}((s=_o[t](e)).start,s.end).map((r=e,function(e){var t=r.duration,i=r.timescale,s=r.periodStart,n=r.startNumber;return{number:(void 0===n?1:n)+e,duration:t/(void 0===i?1:i),timeline:s,time:e*t}}));return"static"===t&&(e[t=e.length-1].duration=("number"==typeof a?a:o)-i/n*t),e}function Ea(e){var t=e.baseUrl,i=void 0===(l=e.initialization)?{}:l,s=e.sourceDuration,n=void 0===(o=e.indexRange)?"":o,r=e.periodStart,a=e.presentationTime,o=void 0===(l=e.number)?0:l,l=e.duration;if(!t)throw new Error(bo);return i=Ia({baseUrl:t,source:i.sourceURL,range:i.range}),(n=Ia({baseUrl:t,source:t,indexRange:n})).map=i,l?(e=Aa(e)).length&&(n.duration=e[0].duration,n.timeline=e[0].timeline):s&&(n.duration=s,n.timeline=r),n.presentationTime=a||r,n.number=o,[n]}function Da(e,t,i){for(var s=e.sidx.map||null,n=e.sidx.duration,r=e.timeline||0,a=(a=e.sidx.byterange).offset+a.length,o=t.timescale,l=t.references.filter(function(e){return 1!==e.referenceType}),c=[],u=e.endList?"static":"dynamic",h=e.sidx.timeline,d=h,p=e.mediaSequence||0,m="bigint"==typeof t.firstOffset?window.BigInt(a)+t.firstOffset:a+t.firstOffset,f=0;f<l.length;f++){var g=t.references[f],y=g.referencedSize,v=g.subsegmentDuration;g=void 0,g="bigint"==typeof m?m+window.BigInt(y)-window.BigInt(1):m+y-1,g=Ea({baseUrl:i,timescale:o,timeline:r,periodStart:h,presentationTime:d,number:p,duration:v,sourceDuration:n,indexRange:m+"-"+g,type:u})[0];s&&(g.map=s),c.push(g),m+="bigint"==typeof m?window.BigInt(y):y,d+=v/o,p++}return e.segments=c,e}function Oa(e){return i=function(e){return e.timeline},Ca(e.reduce(function(t,e){return e.forEach(function(e){t[i(e)]=e}),t},{})).sort(function(e,t){return e.timeline>t.timeline?1:-1});var i}function La(e){var n,r,a=[];return n=e,r=function(e,t,i,s){a=a.concat(e.playlists||[])},Co.forEach(function(e){for(var t in n.mediaGroups[e])for(var i in n.mediaGroups[e][t]){var s=n.mediaGroups[e][t][i];r(s,e,t,i)}}),a}function Na(e){var i=e.playlist;e=e.mediaSequence;i.mediaSequence=e,i.segments.forEach(function(e,t){e.number=i.mediaSequence+t})}function Ma(e){var n,r,t=e.oldManifest,i=e.newManifest,s=t.playlists.concat(La(t));e=i.playlists.concat(La(i));return i.timelineStarts=Oa([t.timelineStarts,i.timelineStarts]),s={oldPlaylists:s,newPlaylists:e,timelineStarts:i.timelineStarts},n=s.oldPlaylists,e=s.newPlaylists,r=s.timelineStarts,e.forEach(function(t){t.discontinuitySequence=Ta(r,function(e){return e.timeline===t.timeline});var e=function(e,t){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===t)return e[i];return null}(n,t.attributes.NAME);if(e&&!t.sidx){var i=t.segments[0],s=Ta(e.segments,function(e){return Math.abs(e.presentationTime-i.presentationTime)<1/60});if(-1===s)return Na({playlist:t,mediaSequence:e.mediaSequence+e.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!e.segments.length&&t.timeline>e.timeline||e.segments.length&&t.timeline>e.segments[e.segments.length-1].timeline)&&t.discontinuitySequence--);e.segments[s].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),Na({playlist:t,mediaSequence:e.segments[s].number})}}),i}function Ba(e){return e&&e.uri+"-"+(t=e.byterange,e="bigint"==typeof t.offset||"bigint"==typeof t.length?window.BigInt(t.offset)+window.BigInt(t.length)-window.BigInt(1):t.offset+t.length-1,t.offset+"-"+e);var t}function Fa(e){return Ca(e.reduce(function(e,t){var i,s=t.attributes.id+(t.attributes.lang||"");return e[s]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[s].segments).push.apply(i,t.segments)),t.attributes.contentProtection&&(e[s].attributes.contentProtection=t.attributes.contentProtection)):(e[s]=t,e[s].attributes.timelineStarts=[]),e[s].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{})).map(function(e){var t,s;return e.discontinuityStarts=(t=e.segments||[],s="discontinuity",t.reduce(function(e,t,i){return t[s]&&e.push(i),e},[])),e})}function Ra(e,t){var i=Ba(e.sidx);return(i=i&&t[i]&&t[i].sidx)&&Da(e,i,e.sidx.resolvedUri),e}function $a(e,d,p){var m;return void 0===d&&(d={}),void 0===p&&(p=!1),e=e.reduce(function(e,t){var i=t.attributes.role&&t.attributes.role.value||"",s=t.attributes.lang||"",n=t.attributes.label||"main";e[n=s&&!t.attributes.label?t.attributes.lang+(i?" ("+i+")":""):n]||(e[n]={language:s,autoselect:!0,default:"main"===i,playlists:[],uri:""});var r,a,o,l,c,u,h=Ra((a=p,o=(r=t).attributes,h=r.segments,l=r.sidx,c=r.mediaSequence,u=r.discontinuitySequence,s=r.discontinuityStarts,h={attributes:((r={NAME:o.id,BANDWIDTH:o.bandwidth,CODECS:o.codecs})["PROGRAM-ID"]=1,r),uri:"",endList:"static"===o.type,timeline:o.periodStart,resolvedUri:"",targetDuration:o.duration,discontinuitySequence:u,discontinuityStarts:s,timelineStarts:o.timelineStarts,mediaSequence:c,segments:h},o.contentProtection&&(h.contentProtection=o.contentProtection),l&&(h.sidx=l),a&&(h.attributes.AUDIO="audio",h.attributes.SUBTITLES="subs"),h),d);return e[n].playlists.push(h),"undefined"==typeof m&&"main"===i&&((m=t).default=!0),e},{}),m||(e[Object.keys(e)[0]].default=!0),e}function Ua(e){var t=e.attributes,i=e.segments,s=e.sidx,n=e.discontinuityStarts;i={attributes:((e={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:i};return t.contentProtection&&(i.contentProtection=t.contentProtection),s&&(i.sidx=s),i}function ja(e){return"video/mp4"===(e=e.attributes).mimeType||"video/webm"===e.mimeType||"video"===e.contentType}function Va(e){return"audio/mp4"===(e=e.attributes).mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType}function za(e){return"text/vtt"===(e=e.attributes).mimeType||"text"===e.contentType}function Wa(i){return i?Object.keys(i).reduce(function(e,t){return t=i[t],e.concat(t.playlists)},[]):[]}function Ha(e){var t=e.dashPlaylists,i=e.locations,s=void 0===(u=e.sidxMapping)?{}:u,n=e.previousManifest;if(!t.length)return{};var r=(h=t[0].attributes).sourceDuration,a=h.type,o=h.suggestedPresentationDelay,l=h.minimumUpdatePeriod,c=Fa(t.filter(ja)).map(Ua),u=Fa(t.filter(Va)),h=(e=Fa(t.filter(za)),t.map(function(e){return e.attributes.captionServices}).filter(Boolean));r={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((t={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:r,playlists:function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var i in e)e[i]=Ra(e[i],t);return e}(c,s)};0<=l&&(r.minimumUpdatePeriod=1e3*l),i&&(r.locations=i),"dynamic"===a&&(r.suggestedPresentationDelay=o);var d,p;o=0===r.playlists.length,o=u.length?$a(u,s,o):null,s=e.length?(void 0===(d=s)&&(d={}),e.reduce(function(e,t){var i=t.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(Ra(function(e){var t=e.attributes,i=e.segments,s=e.mediaSequence,n=e.discontinuityStarts,r=e.discontinuitySequence;return"undefined"==typeof i&&(i=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),(e={NAME:t.id,BANDWIDTH:t.bandwidth})["PROGRAM-ID"]=1,t.codecs&&(e.CODECS=t.codecs),{attributes:e,uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:r,mediaSequence:s,segments:i}}(t),d)),e},{})):null,c=(e=c.concat(Wa(o),Wa(s))).map(function(e){return e.timelineStarts});return r.timelineStarts=Oa(c),e=e,p=r.timelineStarts,e.forEach(function(t){t.mediaSequence=0,t.discontinuitySequence=Ta(p,function(e){return e.timeline===t.timeline}),t.segments&&t.segments.forEach(function(e,t){e.number=t})}),o&&(r.mediaGroups.AUDIO.audio=o),s&&(r.mediaGroups.SUBTITLES.subs=s),h.length&&(r.mediaGroups["CLOSED-CAPTIONS"].cc=h.reduce(function(s,e){return e&&e.forEach(function(e){var t=e.channel,i=e.language;s[i]={autoselect:!1,default:!1,instreamId:t,language:i},e.hasOwnProperty("aspectRatio")&&(s[i].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(s[i].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(s[i]["3D"]=e["3D"])}),s},{})),n?Ma({oldManifest:n,newManifest:r}):r}function qa(e,t){for(var i,s,n,r,a,o,l=e.type,c=e.minimumUpdatePeriod,u=void 0===c?0:c,h=void 0===(c=e.media)?"":c,d=e.sourceDuration,p=void 0===(c=e.timescale)?1:c,m=void 0===(c=e.startNumber)?1:c,f=e.periodStart,g=[],y=-1,v=0;v<t.length;v++){var b=t[v],w=b.d,S=b.r||0,_=b.t||0;y<0&&(y=_),_&&y<_&&(y=_);var C,k=void 0;k=S<0?(C=v+1)===t.length?"dynamic"===l&&0<u&&0<h.indexOf("$Number$")?(i=y,s=w,b=o=a=r=n=void 0,n=(_=e).NOW,r=_.clientOffset,a=_.availabilityStartTime,o=_.timescale,b=_.periodStart,_=_.minimumUpdatePeriod,Math.ceil((((n+r)/1e3+(void 0===_?0:_)-(a+(void 0===b?0:b)))*(void 0===o?1:o)-i)/s)):(d*p-y)/w:(t[C].t-y)/w:S+1;for(var x=m+g.length+k,T=m+g.length;T<x;)g.push({number:T,duration:w/p,time:y,timeline:f}),y+=w,T++}return g}function Ga(e,t){return e.replace(ko,(n=t,function(e,t,i,s){return"$$"===e?"$":"undefined"==typeof n[t]?e:(e=""+n[t],"RepresentationID"===t||(s=i?parseInt(s,10):1)<=e.length?e:new Array(s-e.length+1).join("0")+e)}));var n}function Ya(n,e){var r={RepresentationID:n.id,Bandwidth:n.bandwidth||0},t=void 0===(t=n.initialization)?{sourceURL:"",range:""}:t,a=Ia({baseUrl:n.baseUrl,source:Ga(t.sourceURL,r),range:t.range});return(t=e,(e=n).duration||t?e.duration?Aa(e):qa(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]).map(function(e){r.Number=e.number,r.Time=e.time;var t=Ga(n.media||"",r),i=n.timescale||1,s=n.presentationTimeOffset||0;i=n.periodStart+(e.time-s)/i;return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:Ln(n.baseUrl||"",t),map:a,number:e.number,presentationTime:i}})}function Qa(n,e){var t=n.duration,i=void 0===(i=n.segmentUrls)?[]:i,r=n.periodStart;if(!t&&!e||t&&e)throw new Error(wo);var s,a=i.map(function(e){return i=e,e=(t=n).baseUrl,t=t.initialization,t=Ia({baseUrl:e,source:(t=void 0===t?{}:t).sourceURL,range:t.range}),(i=Ia({baseUrl:e,source:i.media,range:i.mediaRange})).map=t,i;var t,i});return t&&(s=Aa(n)),(s=e?qa(n,e):s).map(function(e,t){if(a[t]){var i=a[t],s=n.timescale||1;t=n.presentationTimeOffset||0;return i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i.presentationTime=r+(e.time-t)/s,i}}).filter(function(e){return e})}function Ka(e){var t,i=e.attributes,s=e.segmentInfo;s.template?(r=Ya,t=D(i,s.template)):s.base?(r=Ea,t=D(i,s.base)):s.list&&(r=Qa,t=D(i,s.list));var n={attributes:i};if(!r)return n;var r;e=r(t,s.segmentTimeline);return t.duration?(i=t.duration,r=t.timescale,t.duration=i/(void 0===r?1:r)):e.length?t.duration=e.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0,n.attributes=t,n.segments=e,s.base&&t.indexRange&&(n.sidx=e[0],n.segments=[]),n}function O(e,t){return xa(e.childNodes).filter(function(e){return e.tagName===t})}function Xa(e){return e.textContent.trim()}function Za(e){if(!(n=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e)))return 0;var t=(r=n.slice(1))[0],i=r[1],s=r[2],n=(e=r[3],r[4]),r=r[5];return 31536e3*parseFloat(t||0)+2592e3*parseFloat(i||0)+86400*parseFloat(s||0)+3600*parseFloat(e||0)+60*parseFloat(n||0)+parseFloat(r||0)}function L(e){return e&&e.attributes?xa(e.attributes).reduce(function(e,t){var i=xo[t.name]||xo.DEFAULT;return e[t.name]=i(t.value),e},{}):{}}function Ja(e,i){return i.length?ka(e.map(function(t){return i.map(function(e){return Ln(t,Xa(e))})})):e}function eo(e){var t=O(e,"SegmentTemplate")[0],i=O(e,"SegmentList")[0],s=i&&O(i,"SegmentURL").map(function(e){return D({tag:"SegmentURL"},L(e))}),n=O(e,"SegmentBase")[0],r=(e=(r=i||t)&&O(r,"SegmentTimeline")[0],(r=i||n||t)&&O(r,"Initialization")[0]);(t=t&&L(t))&&r?t.initialization=r&&L(r):t&&t.initialization&&(t.initialization={sourceURL:t.initialization});var a={template:t,segmentTimeline:e&&O(e,"S").map(L),list:i&&D(L(i),{segmentUrls:s,initialization:L(r)}),base:n&&D(L(n),{initialization:L(r)})};return Object.keys(a).forEach(function(e){a[e]||delete a[e]}),a}function to(l,c,u){return function(e){var t=L(e),i=Ja(c,O(e,"BaseURL")),s=O(e,"Role")[0];s={role:L(s)},t=D(l,t,s),s=O(e,"Accessibility")[0],s="urn:scte:dash:cc:cea-608:2015"===(s=L(s)).schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(function(e){var t,i,s;return/^CC\d=/.test(s=e)?(i=(t=e.split("="))[0],s=t[1]):/^CC\d$/.test(e)&&(i=e),{channel:i,language:s}}):"urn:scte:dash:cc:cea-708:2015"===s.schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(function(e){var t,i,s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(e)?(t=(i=e.split("="))[0],i=void 0===(i=i[1])?"":i,s.channel=t,s.language=e,i.split(",").forEach(function(e){var t=e.split(":");e=t[0],t=t[1];"lang"===e?s.language=t:"er"===e?s.easyReader=Number(t):"war"===e?s.aspectRatio=Number(t):"3D"===e&&(s["3D"]=Number(t))})):s.language=e,s.channel&&(s.channel="SERVICE"+s.channel),s}):void 0;s&&(t=D(t,{captionServices:s})),s=O(e,"Label")[0],s&&s.childNodes.length&&(n=s.childNodes[0].nodeValue.trim(),t=D(t,{label:n}));var n=O(e,"ContentProtection").reduce(function(e,t){var i=L(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());var s=To[i.schemeIdUri];return s&&(e[s]={attributes:i},(t=O(t,"cenc:pssh")[0])&&(t=Xa(t),e[s].pssh=t&&Gn(t))),e},{});Object.keys(n).length&&(t=D(t,{contentProtection:n}));var r,a,o;n=eo(e),e=O(e,"Representation"),n=D(u,n);return ka(e.map((r=t,a=i,o=n,function(e){var t=O(e,"BaseURL"),i=(t=Ja(a,t),D(r,L(e))),s=eo(e);return t.map(function(e){return{segmentInfo:D(o,s),attributes:D(i,{baseUrl:e})}})})))}}function io(e,t){var i=t=void 0===t?{}:t,s=void 0===(r=i.manifestUri)?"":r,n=(t=void 0===(n=i.NOW)?Date.now():n,void 0===(r=i.clientOffset)?0:r);if(!(i=O(e,"Period")).length)throw new Error(go);var r=O(e,"Location"),a=L(e);e=Ja([s],O(e,"BaseURL"));a.type=a.type||"static",a.sourceDuration=a.mediaPresentationDuration||0,a.NOW=t,a.clientOffset=n,r.length&&(a.locations=r.map(Xa));var o,l,c=[];return i.forEach(function(e,t){var i,s=L(e),n=c[t-1];s.start=(i={attributes:s,priorPeriodAttributes:n?n.attributes:null,mpdType:a.type},t=i.attributes,n=i.priorPeriodAttributes,i=i.mpdType,"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==i?null:0),c.push({node:e,attributes:s})}),{locations:a.locations,representationInfo:ka(c.map((o=a,l=e,function(e,t){var i=Ja(l,O(e.node,"BaseURL")),s=D(o,{periodStart:e.attributes.start});"number"==typeof e.attributes.duration&&(s.periodDuration=e.attributes.duration);var n=O(e.node,"AdaptationSet");e=eo(e.node);return ka(n.map(to(s,i,e)))})))}}function so(e){if(""===e)throw new Error(yo);var t,i,s=new fo;try{i=(t=s.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!i||i&&0<i.getElementsByTagName("parsererror").length)throw new Error(vo);return i}function no(e,t){void 0===t&&(t={});var i=io(so(e),t);e=i.representationInfo.map(Ka);return Ha({dashPlaylists:e,locations:i.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})}function ro(e){return function(e){if(e=O(e,"UTCTiming")[0],!e)return null;var t=L(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(So)}return t}(so(e))}function ao(e,t){return void 0===t&&(t=0),(e=T(e)).length-t<10||!I(e,Eo,{offset:t})?t:ao(e,t+=function(e,t){void 0===t&&(t=0);var i=(e=T(e))[t+5];t=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&i)>>4?20+t:10+t}(e,t))}function oo(e){return"string"==typeof e?On(e):e}function lo(e,t,i){var s;void 0===i&&(i=!1),s=t,t=Array.isArray(s)?s.map(oo):[oo(s)],e=T(e);var n=[];if(!t.length)return n;for(var r=0;r<e.length;){var a=(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0,o=e.subarray(r+4,r+8);if(0==a)break;var l=r+a;if(l>e.length){if(i)break;l=e.length}a=e.subarray(r+8,l),I(o,t[0])&&(1===t.length?n.push(a):n.push.apply(n,lo(a,t.slice(1),i))),r=l}return n}function co(e,t,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1);var n=function(e){for(var t=1,i=0;i<Oo.length&&!(e&Oo[i]);i++)t++;return t}(e[t]),r=e.subarray(t,t+n);return i&&((r=Array.prototype.slice.call(e,t,t+n))[0]^=Oo[n-1]),{length:n,value:function(s,e){var t=void 0===e?{}:e,n=(e=t.signed,e=void 0!==e&&e,t=t.le,void 0!==t&&t);return s=T(s),t=n?"reduce":"reduceRight",t=(s[t]||Array.prototype[t]).call(s,function(e,t,i){return i=n?i:Math.abs(i+1-s.length),e+P(t)*Hn[i]},P(0)),!e||(e=Hn[s.length]/P(2)-P(1))<(t=P(t))&&(t-=e,t-=e,t-=P(2)),Number(t)}(r,{signed:s}),bytes:r}}function uo(e){return"string"==typeof e?e.match(/.{1,2}/g).map(uo):"number"==typeof e?Dn(e):e}function ho(e,t,i){if(i>=t.length)return t.length;var s=co(t,i,!1);if(I(e.bytes,s.bytes))return i;var n=co(t,i+s.length);return ho(e,t,i+n.length+n.value+s.length)}function po(e,t){var i;i=t,t=Array.isArray(i)?i.map(uo):[uo(i)],e=T(e);var s=[];if(!t.length)return s;for(var n=0;n<e.length;){var r=co(e,n,!1),a=co(e,n+r.length),o=n+r.length+a.length;127===a.value&&(a.value=ho(r,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value;l=e.subarray(o,l);I(t[0],r.bytes)&&(1===t.length?s.push(l):s=s.concat(po(l,t.slice(1)))),n+=r.length+a.length+l.length}return s}function mo(e,t,i,s){void 0===s&&(s=1/0),e=T(e),i=[].concat(i);for(var n,r=0,a=0;r<e.length&&(a<s||n);){var o=void 0;if(I(e.subarray(r),Lo)?o=4:I(e.subarray(r),No)&&(o=3),o){if(a++,n)return function(e){for(var t=[],i=1;i<e.length-2;)I(e.subarray(i,i+3),Mo)&&(t.push(i+2),i++),i++;if(0===t.length)return e;var s=e.length-t.length,n=new Uint8Array(s),r=0;for(i=0;i<s;r++,i++)r===t[0]&&(r++,t.shift()),n[i]=e[r];return n}(e.subarray(n,r));var l=void 0;"h264"===t?l=31&e[r+o]:"h265"===t&&(l=e[r+o]>>1&63),-1!==i.indexOf(l)&&(n=r+o),r+=o+("h264"===t?1:2)}else r++}return e.subarray(0,0)}ga.prototype.parseFromString=function(e,t){var i=this.options,s=new fa,n=i.domBuilder||new ya,r=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(t);t=l?Qr.HTML_ENTITIES:Qr.XML_ENTITIES;return a&&n.setDocumentLocator(a),s.errorHandler=function(s,e,n){if(!s){if(e instanceof ya)return e;s=e}var r={},a=s instanceof Function;function t(t){var i=s[t];!i&&a&&(i=2==s.length?function(e){s(t,e)}:s),r[t]=i?function(e){i("[xmldom "+t+"]\t"+e+ba(n))}:function(){}}return n=n||{},t("warning"),t("error"),t("fatalError"),r}(r,n,a),s.domBuilder=i.domBuilder||n,l&&(o[""]=pa.HTML),o.xml=o.xml||pa.XML,e&&"string"==typeof e?s.parse(e,o,t):s.errorHandler.error("invalid doc source"),n.doc},ya.prototype={startDocument:function(){this.doc=(new da).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,s){var n=this.doc,r=n.createElementNS(e,i||t),a=s.length;Sa(this,r),this.currentElement=r,this.locator&&va(this.locator,r);for(var o=0;o<a;o++){e=s.getURI(o);var l=s.getValue(o),c=(i=s.getQName(o),n.createAttributeNS(e,i));this.locator&&va(s.getLocator(o),c),c.value=c.nodeValue=l,r.setAttributeNode(c)}},endElement:function(e,t,i){var s=this.currentElement;s.tagName,this.currentElement=s.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){t=this.doc.createProcessingInstruction(e,t),this.locator&&va(this.locator,t),Sa(this,t)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){var s;(e=wa.apply(this,arguments))&&(s=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(s):/^\s*$/.test(e)&&this.doc.appendChild(s),this.locator&&va(this.locator,s))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=wa.apply(this,arguments),e=this.doc.createComment(e),this.locator&&va(this.locator,e),Sa(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var s=this.doc.implementation;s&&s.createDocumentType&&(i=s.createDocumentType(e,t,i),this.locator&&va(this.locator,i),Sa(this,i),this.doc.doctype=i)},warning:function(e){},error:function(e){},fatalError:function(e){throw new ma(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){ya.prototype[e]=function(){return null}});var fo={__DOMHandler:ya,DOMParser:ga,DOMImplementation:pe.DOMImplementation,XMLSerializer:pe.XMLSerializer}.DOMParser,go="INVALID_NUMBER_OF_PERIOD",yo="DASH_EMPTY_MANIFEST",vo="DASH_INVALID_XML",bo="NO_BASE_URL",wo="SEGMENT_TIME_UNSPECIFIED",So="UNSUPPORTED_UTC_TIMING_SCHEME",_o={static:function(e){var t=e.duration,i=e.timescale,s=void 0===i?1:i,n=e.sourceDuration;i=e.periodDuration,e=Pa(e.endNumber),s=t/s;return"number"==typeof e?{start:0,end:e}:"number"==typeof i?{start:0,end:i/s}:{start:0,end:n/s}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,s=e.availabilityStartTime,n=e.timescale,r=void 0===n?1:n,a=e.duration,o=e.periodStart,l=void 0===o?0:o;n=e.minimumUpdatePeriod,o=void 0===n?0:n,n=e.timeShiftBufferDepth,n=void 0===n?1/0:n,e=Pa(e.endNumber),i=(t+i)/1e3,l=s+l,o=Math.ceil((i+o-l)*r/a),n=Math.floor((i-l-n)*r/a),a=Math.floor((i-l)*r/a);return{start:Math.max(0,n),end:"number"==typeof e?e:Math.min(o,a)}}},Co=["AUDIO","SUBTITLES"],ko=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,xo={mediaPresentationDuration:Za,availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=e)&&(e+="Z"),Date.parse(e)/1e3},minimumUpdatePeriod:Za,suggestedPresentationDelay:Za,type:function(e){return e},timeShiftBufferDepth:Za,start:Za,width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Za(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},To={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Io=Math.pow(2,32),Po=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.getBigUint64?(e=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:t.getUint32(0)*Io+t.getUint32(4)},Ao=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},s=12;0===i.version?(i.earliestPresentationTime=t.getUint32(s),i.firstOffset=t.getUint32(s+4),s+=8):(i.earliestPresentationTime=Po(e.subarray(s)),i.firstOffset=Po(e.subarray(s+8)),s+=16);var n=t.getUint16(s+=2);for(s+=2;0<n;s+=12,n--)i.references.push({referenceType:(128&e[s])>>>7,referencedSize:2147483647&t.getUint32(s),subsegmentDuration:t.getUint32(s+4),startsWithSap:!!(128&e[s+8]),sapType:(112&e[s+8])>>>4,sapDeltaTime:268435455&t.getUint32(s+8)});return i},Eo=T([73,68,51]),Do={EBML:T([26,69,223,163]),DocType:T([66,130]),Segment:T([24,83,128,103]),SegmentInfo:T([21,73,169,102]),Tracks:T([22,84,174,107]),Track:T([174]),TrackNumber:T([215]),DefaultDuration:T([35,227,131]),TrackEntry:T([174]),TrackType:T([131]),FlagDefault:T([136]),CodecID:T([134]),CodecPrivate:T([99,162]),VideoTrack:T([224]),AudioTrack:T([225]),Cluster:T([31,67,182,117]),Timestamp:T([231]),TimestampScale:T([42,215,177]),BlockGroup:T([160]),BlockDuration:T([155]),Block:T([161]),SimpleBlock:T([163])},Oo=[128,64,32,16,8,4,2,1],Lo=T([0,0,0,1]),No=T([0,0,1]),Mo=T([0,0,3]),Bo={webm:T([119,101,98,109]),matroska:T([109,97,116,114,111,115,107,97]),flac:T([102,76,97,67]),ogg:T([79,103,103,83]),ac3:T([11,119]),riff:T([82,73,70,70]),avi:T([65,86,73]),wav:T([87,65,86,69]),"3gp":T([102,116,121,112,51,103]),mp4:T([102,116,121,112]),fmp4:T([115,116,121,112]),mov:T([102,116,121,112,113,116]),moov:T([109,111,111,118]),moof:T([109,111,111,102])},Fo={aac:function(e){var t=ao(e);return I(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=ao(e);return I(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){return e=po(e,[Do.EBML,Do.DocType])[0],I(e,Bo.webm)},mkv:function(e){return e=po(e,[Do.EBML,Do.DocType])[0],I(e,Bo.matroska)},mp4:function(e){return!Fo["3gp"](e)&&!Fo.mov(e)&&(!(!I(e,Bo.mp4,{offset:4})&&!I(e,Bo.fmp4,{offset:4}))||!(!I(e,Bo.moof,{offset:4})&&!I(e,Bo.moov,{offset:4}))||void 0)},mov:function(e){return I(e,Bo.mov,{offset:4})},"3gp":function(e){return I(e,Bo["3gp"],{offset:4})},ac3:function(e){var t=ao(e);return I(e,Bo.ac3,{offset:t})},ts:function(e){if(e.length<189&&1<=e.length)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=ao(e);return I(e,Bo.flac,{offset:t})},ogg:function(e){return I(e,Bo.ogg)},avi:function(e){return I(e,Bo.riff)&&I(e,Bo.avi,{offset:8})},wav:function(e){return I(e,Bo.riff)&&I(e,Bo.wav,{offset:8})},h264:function(e){return mo(e,"h264",7,3).length},h265:function(e){return mo(e,"h265",[32,33],3).length}},Ro=Object.keys(Fo).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]);function $o(e){e=T(e);for(var t=0;t<Ro.length;t++){var i=Ro[t];if(yc[i](e))return i}return""}function Uo(e,t,i){return e&&i&&i.responseURL&&t!==i.responseURL?i.responseURL:t}function jo(e){return x.log.debug?x.log.debug.bind(x,"VHS:",e+" >"):function(){}}function Vo(e,t){var i,s=[];if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&s.push([e.start(i),e.end(i)]);return x.createTimeRanges(s)}function zo(e,i){return Vo(e,function(e,t){return e-.1<=i&&i<=t+.1})}function Wo(e,t){return Vo(e,function(e){return t<=e-wc})}function Ho(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")}function qo(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}function Go(e){if(e&&e.length&&e.end)return e.end(e.length-1)}function Yo(e,t){var i=0;if(!e||!e.length)return i;for(var s=0;s<e.length;s++){var n=e.start(s),r=e.end(s);r<t||(i+=n<t&&t<=r?r-t:r-n)}return i}function Qo(t,e){if(!e.preload)return e.duration;var i=0;return(e.parts||[]).forEach(function(e){i+=e.duration}),(e.preloadHints||[]).forEach(function(e){"PART"===e.type&&(i+=t.partTargetDuration)}),i}function Ko(e){return(e.segments||[]).reduce(function(i,s,n){return s.parts?s.parts.forEach(function(e,t){i.push({duration:e.duration,segmentIndex:n,partIndex:t,part:e,segment:s})}):i.push({duration:s.duration,segmentIndex:n,partIndex:null,segment:s,part:null}),i},[])}function Xo(e){return(e=e.segments&&e.segments.length&&e.segments[e.segments.length-1])&&e.parts||[]}function Zo(e){var t=e.preloadSegment;if(t)return e=t.parts,t=(t.preloadHints||[]).reduce(function(e,t){return e+("PART"===t.type?1:0)},0),t+(e&&e.length?e.length:0)}function Jo(e,t){return t.endList?0:e&&e.suggestedPresentationDelay?e.suggestedPresentationDelay:(e=0<Xo(t).length)&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:e&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0}function el(e,t,i){if((t="undefined"==typeof t?e.mediaSequence+e.segments.length:t)<e.mediaSequence)return 0;var s=function(e,t){var i=0,s=t-e.mediaSequence,n=e.segments[s];if(n){if("undefined"!=typeof n.start)return{result:n.start,precise:!0};if("undefined"!=typeof n.end)return{result:n.end-n.duration,precise:!0}}for(;s--;){if("undefined"!=typeof(n=e.segments[s]).end)return{result:i+n.end,precise:!0};if(i+=Qo(e,n),"undefined"!=typeof n.start)return{result:i+n.start,precise:!0}}return{result:i,precise:!1}}(e,t);return s.precise?s.result:(t=function(e,t){for(var i,s=0,n=t-e.mediaSequence;n<e.segments.length;n++){if("undefined"!=typeof(i=e.segments[n]).start)return{result:i.start-s,precise:!0};if(s+=Qo(e,i),"undefined"!=typeof i.end)return{result:i.end-s,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?t.result:s.result+i}function tl(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return window.Infinity}return el(e,t,i)}function il(e){var t=e.defaultDuration,i=e.durationList,s=e.startIndex,n=e.endIndex,r=0;if(n<s&&(s=(e=[n,s])[0],n=e[1]),s<0){for(var a=s;a<Math.min(0,n);a++)r+=t;s=0}for(var o=s;o<n;o++)r+=i[o].duration;return r}function sl(e,t,i,s){return e&&e.segments?e.endList?tl(e):null===t?null:(t=el(e,e.mediaSequence+e.segments.length,t=t||0),i&&(t-=s="number"==typeof s?s:Jo(null,e)),Math.max(0,t)):null}function nl(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function rl(e){return e.excludeUntil&&e.excludeUntil===1/0}function al(e){var t=nl(e);return!e.disabled&&!t}function ol(e,t){return t.attributes&&t.attributes[e]}function ll(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!al(e)&&(e.attributes.BANDWIDTH||0)<i}).length}function cl(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||!(!e.id||!t.id||e.id!==t.id)||!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))}function ul(e,t){var i,s=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(i in s){for(var r in s[i])if(n=t(s[i][r]))break;if(n)break}return!!n}function hl(i){if(!i||!i.playlists||!i.playlists.length)return ul(i,function(e){return e.playlists&&e.playlists.length||e.uri});for(var e=0;e<i.playlists.length;e++){var t=function(e){var t=i.playlists[e];e=t.attributes&&t.attributes.CODECS;return e&&e.split(",").every(xn)||ul(i,function(e){return cl(t,e)})?"continue":{v:!1}}(e);if("continue"!==t&&"object"==typeof t)return t.v}return!0}function dl(e,t){return e+"-"+t}function pl(n,r){n.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(e){if(n.mediaGroups[e])for(var t in n.mediaGroups[e])for(var i in n.mediaGroups[e][t]){var s=n.mediaGroups[e][t][i];r(s,e,t,i)}})}function ml(e){var t=e.playlist,i=e.uri;e=e.id;t.id=e,t.playlistErrors_=0,i&&(t.uri=i),t.attributes=t.attributes||{}}function fl(o,e){o.uri=e;for(var t=0;t<o.playlists.length;t++)o.playlists[t].uri||(o.playlists[t].uri="placeholder-uri-"+t);var i,l=hl(o);pl(o,function(e,t,i,s){var n="placeholder-uri-"+t+"-"+i+"-"+s;if(!e.playlists||!e.playlists.length){if(l&&"AUDIO"===t&&!e.uri)for(var r=0;r<o.playlists.length;r++){var a=o.playlists[r];if(a.attributes&&a.attributes.AUDIO&&a.attributes.AUDIO===i)return}e.playlists=[K({},e)]}e.playlists.forEach(function(e,t){var i=dl(t,n);e.uri?e.resolvedUri=e.resolvedUri||bc(o.uri,e.uri):(e.uri=0===t?n:i,e.resolvedUri=e.uri),e.id=e.id||i,e.attributes=e.attributes||{},o.playlists[e.id]=e,o.playlists[e.uri]=e})}),function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];ml({playlist:i,id:dl(t,i.uri)}),i.resolvedUri=bc(e.uri,i.uri),e.playlists[i.id]=i,(e.playlists[i.uri]=i).attributes.BANDWIDTH||Cc.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(o),pl(i=o,function(e){e.uri&&(e.resolvedUri=bc(i.uri,e.uri))})}function gl(e,t,i){var s=e.slice(),n=t.slice();i=i||0;for(var r,a=[],o=0;o<n.length;o++){var l=s[o+i],c=n[o];l?(r=l.map||r,a.push(function(e,t){if(!e)return t;var i=kc(e,t);if(e.preloadHints&&!t.preloadHints&&delete i.preloadHints,e.parts&&!t.parts)delete i.parts;else if(e.parts&&t.parts)for(var s=0;s<t.parts.length;s++)e.parts&&e.parts[s]&&(i.parts[s]=kc(e.parts[s],t.parts[s]));return!e.skipped&&t.skipped&&(i.skipped=!1),e.preload&&!t.preload&&(i.preload=!1),i}(l,c))):(r&&!c.map&&(c.map=r),a.push(c))}return a}function yl(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=bc(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=bc(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=bc(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=bc(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(e){e.resolvedUri||(e.resolvedUri=bc(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(e){e.resolvedUri||(e.resolvedUri=bc(t,e.uri))})}function vl(e){var t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var s=0;s<i.preloadHints.length;s++)if("MAP"===i.preloadHints[s].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t}function bl(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment}function wl(e,r,t){void 0===t&&(t=bl);var i=kc(e,{}),s=i.playlists[r.id];if(!s)return null;if(t(s,r))return null;r.segments=vl(r);var a=kc(s,r);if(a.preloadSegment&&!r.preloadSegment&&delete a.preloadSegment,s.segments){if(r.skip){r.segments=r.segments||[];for(var n=0;n<r.skip.skippedSegments;n++)r.segments.unshift({skipped:!0})}a.segments=gl(s.segments,r.segments,r.mediaSequence-s.mediaSequence)}a.segments.forEach(function(e){yl(e,a.resolvedUri)});for(var o=0;o<i.playlists.length;o++)i.playlists[o].id===r.id&&(i.playlists[o]=a);return i.playlists[r.id]=a,i.playlists[r.uri]=a,pl(e,function(e,t,i,s){if(e.playlists)for(var n=0;n<e.playlists.length;n++)r.id===e.playlists[n].id&&(e.playlists[n]=a)}),i}function Sl(e,t){var i=e.segments||[],s=i[i.length-1];s=(i=s&&s.parts&&s.parts[s.parts.length-1])&&i.duration||s&&s.duration;return t&&s?1e3*s:500*(e.partTargetDuration||e.targetDuration||10)}function _l(e,t,i,s){var n="arraybuffer"===e.responseType?e.response:e.responseText;!t&&n&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=n.byteLength||n.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),s(t=t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode?t:new Error("XHR Failed with a response of: "+(e&&(n||e.responseText))),e)}function Cl(){function r(e,i){e=Ic({timeout:45e3},e);var t=r.beforeRequest||x.Vhs.xhr.beforeRequest;!t||"function"!=typeof t||(t=t(e))&&(e=t);var s=(!0===x.Vhs.xhr.original?Tc:x.Vhs.xhr)(e,function(e,t){return _l(s,e,t,i)}),n=s.abort;return s.abort=function(){return s.aborted=!0,n.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s}return r.original=!0,r}function kl(e){var t,i={};return e.byterange&&(i.Range=(t=e.byterange,e=t.offset,t="bigint"==typeof t.offset||"bigint"==typeof t.length?window.BigInt(t.offset)+window.BigInt(t.length)-window.BigInt(1):t.offset+t.length-1,"bytes="+e+"-"+t)),i}function xl(e,t){return e=e.toString(16),"00".substring(0,2-e.length)+e+(t%2?" ":"")}function Tl(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function Il(i){var s={};return Object.keys(i).forEach(function(e){var t=i[e];En(t)?s[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:s[e]=t}),s}function Pl(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function Al(e){return e.resolvedUri}function El(e){for(var t=Array.prototype.slice.call(e),i="",s=0;s<t.length/16;s++)i+=t.slice(16*s,16*s+16).map(xl).join("")+" "+t.slice(16*s,16*s+16).map(Tl).join("")+"\n";return i}function Dl(e){var t=e.playlist,i=e.time,s=void 0===i?void 0:i;if(!(i=e.callback))throw new Error("getProgramTime: callback must be provided");return t&&void 0!==s?(e=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var i,s=0,n=0;n<t.segments.length&&!(e<=(s=(i=t.segments[n]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:s+i.duration));n++);var r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(s<e){if(e>s+.25*r.duration)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:s-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(s,t))?"estimate"===e.type?i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:e.estimatedStart}):(t={mediaSeconds:s},(e=function(e,t){if(!t.dateTimeObject)return null;var i=t.videoTimingInfo.transmuxerPrependedSeconds;i=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*i)}(s,e.segment))&&(t.programDateTime=e.toISOString()),i(null,t)):i({message:"valid programTime was not found"}):i({message:"getProgramTime: playlist and time must be provided"})}function Ol(e){var t=e.programTime,i=e.playlist,s=e.retryCount,n=void 0===s?2:s,r=e.seekTo,a=e.pauseAfterSeek,o=void 0===a||a,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");return"undefined"!=typeof t&&i&&r?i.endList||l.hasStarted_?function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(i)?(s=function(e,t){var i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;if(i<(n=t.segments[0]).dateTimeObject)return null;for(var s=0;s<t.segments.length-1;s++){var n=t.segments[s];if(i<t.segments[s+1].dateTimeObject)break}var r=t.segments[t.segments.length-1],a=(e=r.dateTimeObject,r.videoTimingInfo?(a=r.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:r.duration+.25*r.duration);return new Date(e.getTime()+1e3*a)<i?null:{segment:n=e<i?r:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:_c.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"}}(t,i))?(a=s.segment,e=function(e,t){var i;try{s=new Date(e),i=new Date(t)}catch(e){}var s=s.getTime();return(i.getTime()-s)/1e3}(a.dateTimeObject,t),"estimate"===s.type?0===n?c({message:t+" is not buffered yet. Try again"}):(r(s.estimatedStart+e),void l.one("seeked",function(){Ol({programTime:t,playlist:i,retryCount:n-1,seekTo:r,pauseAfterSeek:o,tech:l,callback:c})})):(e=a.start+e,l.one("seeked",function(){return c(null,l.currentTime())}),o&&l.pause(),void r(e))):c({message:t+" was not found in the stream"}):c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri}):c({message:"player must be playing a live stream to start buffering"}):c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}function Ll(e,t){if(4===e.readyState)return t()}function Nl(e,t,n){function s(e,t,i,s){return t.abort(),o=!0,n(e,t,i,s)}function i(e,t){if(!o){if(e)return s(e,t,"",a);var i=t.responseText.substring(a&&a.byteLength||0,t.responseText.length);return a=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if((t=t.filter(function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})).length<=1)return T(t[0]);var s=t.reduce(function(e,t,i){return e+(t.byteLength||t.length)},0),n=new Uint8Array(s),r=0;return t.forEach(function(e){e=T(e),n.set(e,r),r+=e.byteLength}),n}(a,On(i,!0)),r=r||ao(a),a.length<10||r&&a.length<r+2?Ll(t,function(){return s(e,t,"",a)}):(i=$o(a),"ts"===i&&a.length<188||!i&&a.length<376?Ll(t,function(){return s(e,t,"",a)}):s(null,t,i,a))}}var r,a=[],o=!1,l=t({uri:e,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",function(e){return e.total,e.loaded,_l(t,null,{statusCode:t.status},i)})}},function(e,t){return _l(l,e,t,i)});return l}function Ml(e,t){if(!bl(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var i=0;i<e.segments.length;i++){var s=e.segments[i],n=t.segments[i];if(s.uri!==n.uri)return!1;if(s.byterange||n.byterange){if(s=s.byterange,n=n.byterange,s&&!n||!s&&n)return!1;if(s.offset!==n.offset||s.length!==n.length)return!1}}return!0}function Bl(e,t){var i,s={};for(i in e){var n=e[i].sidx;if(n){var r=Ba(n);if(!t[r])break;var a=t[r].sidxInfo;a=a,n=n,(Boolean(!a.map&&!n.map)||Boolean(a.map&&n.map&&a.map.byterange.offset===n.map.byterange.offset&&a.map.byterange.length===n.map.byterange.length))&&a.uri===n.uri&&a.byterange.offset===n.byterange.offset&&a.byterange.length===n.byterange.length&&(s[r]=t[r])}}return s}function Fl(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e}function Rl(i){var s=i.transmuxer,e=i.bytes,t=i.audioAppendStart,n=i.gopsToAlignWith,r=i.remux,a=i.onData,o=i.onTrackInfo,l=i.onAudioTimingInfo,c=i.onVideoTimingInfo,u=i.onVideoSegmentTimingInfo,h=i.onAudioSegmentTimingInfo,d=i.onId3,p=i.onCaptions,m=i.onDone,f=i.onEndedTimeline,g=i.onTransmuxerLog,y=i.isEndOfTimeline,v={buffer:[]},b=y;s.onmessage=function(e){var t;s.currentTransmux===i&&("data"===e.data.action&&function(e,t,i){var s=e.data.segment,n=s.type,r=s.initSegment,a=s.captions,o=s.captionStreams,l=s.metadata,c=s.videoFrameDtsTime;s=s.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:o,metadata:l}),e=e.data.segment.boxes||{data:e.data.segment.data},r={type:n,data:new Uint8Array(e.data,e.data.byteOffset,e.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)},"undefined"!=typeof c&&(r.videoFrameDtsTime=c),"undefined"!=typeof s&&(r.videoFramePtsTime=s),i(r)}(e,v,a),"trackinfo"===e.data.action&&o(e.data.trackInfo),"gopInfo"===e.data.action&&(v.gopInfo=e.data.gopInfo),"audioTimingInfo"===e.data.action&&l(e.data.audioTimingInfo),"videoTimingInfo"===e.data.action&&c(e.data.videoTimingInfo),"videoSegmentTimingInfo"===e.data.action&&u(e.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===e.data.action&&h(e.data.audioSegmentTimingInfo),"id3Frame"===e.data.action&&d([e.data.id3Frame],e.data.id3Frame.dispatchType),"caption"===e.data.action&&p(e.data.caption),"endedtimeline"===e.data.action&&(b=!1,f()),"log"===e.data.action&&g(e.data.log),"transmuxed"===e.data.type&&(b||(s.onmessage=null,e=(t={transmuxedData:v,callback:m}).transmuxedData,t=t.callback,e.buffer=[],t(e),Dc(s))))},t&&s.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(n)&&s.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),"undefined"!=typeof r&&s.postMessage({action:"setRemux",remux:r}),e.byteLength&&(n=e instanceof ArrayBuffer?e:e.buffer,r=e instanceof ArrayBuffer?0:e.byteOffset,s.postMessage({action:"push",data:n,byteOffset:r,byteLength:e.byteLength},[n])),y&&s.postMessage({action:"endTimeline"}),s.postMessage({action:"flush"})}function $l(e,t){e.postMessage({action:t}),Dc(e)}function Ul(e,t){if(!t.currentTransmux)return t.currentTransmux=e,$l(t,e),0;t.transmuxQueue.push($l.bind(null,t,e))}function jl(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void Rl(e);e.transmuxer.transmuxQueue.push(e)}function Vl(i){var s=i.transmuxer,n=i.endAction||i.action,r=i.callback,e=K({},i,{endAction:null,transmuxer:null,callback:null}),t=function e(t){t.data.action===n&&(s.removeEventListener("message",e),t.data.data&&(t.data.data=new Uint8Array(t.data.data,i.byteOffset||0,i.byteLength||t.data.data.byteLength),i.data&&(i.data=t.data.data)),r(t.data))};s.addEventListener("message",t),i.data?(t=i.data instanceof ArrayBuffer,e.byteOffset=t?0:i.data.byteOffset,e.byteLength=i.data.byteLength,t=[t?i.data:i.data.buffer],s.postMessage(e,t)):s.postMessage(e)}function zl(e){e.forEach(function(e){e.abort()})}function Wl(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Mc,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Bc,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Nc,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:Nc,xhr:t}:null}function Hl(r,a,o){return function(e,t){var i=t.response;e=Wl(e,t);if(e)return o(e,r);if(16!==i.byteLength)return o({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Nc,xhr:t},r);i=new DataView(i);for(var s=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]),n=0;n<a.length;n++)a[n].bytes=s;return o(null,r)}}function ql(i,s){var e=$o(i.map.bytes);if("mp4"!==e){var t=i.map.resolvedUri||i.map.uri;return s({internal:!0,message:"Found unsupported "+(e||"unknown")+" container for initialization segment at URL: "+t,code:Nc})}Vl({action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:function(e){var t=e.tracks;e=e.data;return i.map.bytes=e,t.forEach(function(e){i.map.tracks=i.map.tracks||{},i.map.tracks[e.type]||"number"==typeof(i.map.tracks[e.type]=e).id&&e.timescale&&(i.map.timescales=i.map.timescales||{},i.map.timescales[e.id]=e.timescale)}),s(null)}})}function Gl(e){var i=e.segment,s=e.finishProcessingFn,n=e.responseType;return function(e,t){return e=Wl(e,t),e?s(e,i):(e="arraybuffer"!==n&&t.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer}(t.responseText.substring(i.lastReachedChar||0)):t.response,i.stats={bandwidth:(t=t).bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0},i.key?i.encryptedBytes=new Uint8Array(e):i.bytes=new Uint8Array(e),s(null,i))}}function Yl(e){var i=e.segment,t=e.bytes,s=e.trackInfoFn,n=e.timingInfoFn,r=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,p=e.onTransmuxerLog,m=(e=i.map&&i.map.tracks||{},Boolean(e.audio&&e.video)),f=n.bind(null,i,"audio","start"),g=n.bind(null,i,"audio","end"),y=n.bind(null,i,"video","start"),v=n.bind(null,i,"video","end");Vl({action:"probeTs",transmuxer:i.transmuxer,data:t,baseStartTime:i.baseStartTime,callback:function(e){i.bytes=t=e.data,e=e.result,e&&(s(i,{hasAudio:e.hasAudio,hasVideo:e.hasVideo,isMuxed:m}),s=null,e.hasAudio&&!m&&f(e.audioStart),e.hasVideo&&y(e.videoStart),y=f=null),jl({bytes:t,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:m,onData:function(e){e.type="combined"===e.type?"video":e.type,h(i,e)},onTrackInfo:function(e){s&&(m&&(e.isMuxed=!0),s(i,e))},onAudioTimingInfo:function(e){f&&"undefined"!=typeof e.start&&(f(e.start),f=null),g&&"undefined"!=typeof e.end&&g(e.end)},onVideoTimingInfo:function(e){y&&"undefined"!=typeof e.start&&(y(e.start),y=null),v&&"undefined"!=typeof e.end&&v(e.end)},onVideoSegmentTimingInfo:function(e){r(e)},onAudioSegmentTimingInfo:function(e){a(e)},onId3:function(e,t){o(i,e,t)},onCaptions:function(e){l(i,[e])},isEndOfTimeline:c,onEndedTimeline:function(){u()},onTransmuxerLog:p,onDone:function(e){d&&(e.type="combined"===e.type?"video":e.type,d(null,i,e))}})}})}function Ql(e){var i=e.segment,s=e.bytes,t=e.trackInfoFn,n=e.timingInfoFn,r=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,p=e.onTransmuxerLog,m=new Uint8Array(s);if(0<lo(m,["moof"]).length){i.isFmp4=!0;var f=i.map.tracks,g={isFmp4:!0,hasVideo:!!f.video,hasAudio:!!f.audio};f.audio&&f.audio.codec&&"enca"!==f.audio.codec&&(g.audioCodec=f.audio.codec),f.video&&f.video.codec&&"encv"!==f.video.codec&&(g.videoCodec=f.video.codec),f.video&&f.audio&&(g.isMuxed=!0),t(i,g);var y=function(e){h(i,{data:m,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(i,e),d(null,i,{})};Vl({action:"probeMp4StartTime",timescales:i.map.timescales,data:m,transmuxer:i.transmuxer,callback:function(e){var t=e.data;e=e.startTime;s=t.buffer,i.bytes=m=t,g.hasAudio&&!g.isMuxed&&n(i,"audio","start",e),g.hasVideo&&n(i,"video","start",e),f.video&&t.byteLength&&i.transmuxer?Vl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:m,timescales:i.map.timescales,trackIds:[f.video.id],callback:function(e){s=e.data.buffer,i.bytes=m=e.data,e.logs.forEach(function(e){p(x.mergeOptions(e,{stream:"mp4CaptionParser"}))}),y(e.captions)}}):y()}})}else if(i.transmuxer){if("undefined"==typeof i.container&&(i.container=$o(m)),"ts"!==i.container&&"aac"!==i.container)return t(i,{hasAudio:!1,hasVideo:!1}),d(null,i,{}),0;Yl({segment:i,bytes:s,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p})}else d(null,i,{})}function Kl(e,i){var s=e.id,t=e.key,n=e.encryptedBytes,r=e.decryptionWorker;e=function e(t){t.data.source===s&&(r.removeEventListener("message",e),t=t.data.decrypted,i(new Uint8Array(t.bytes,t.byteOffset,t.byteLength)))};r.addEventListener("message",e),e=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),r.postMessage(Il({source:s,encrypted:n,key:e,iv:t.iv}),[n.buffer,e.buffer])}function Xl(e){var i=e.activeXhrs,f=e.decryptionWorker,g=e.trackInfoFn,y=e.timingInfoFn,v=e.videoSegmentTimingInfoFn,b=e.audioSegmentTimingInfoFn,w=e.id3Fn,S=e.captionsFn,_=e.isEndOfTimeline,C=e.endedTimelineFn,k=e.dataFn,x=e.doneFn,T=e.onTransmuxerLog,s=0,n=!1;return function(e,m){if(!n){if(e)return n=!0,zl(i),x(e,m);if((s+=1)===i.length){var t=function(){if(m.encryptedBytes)return t=(e={decryptionWorker:f,segment:m,trackInfoFn:g,timingInfoFn:y,videoSegmentTimingInfoFn:v,audioSegmentTimingInfoFn:b,id3Fn:w,captionsFn:S,isEndOfTimeline:_,endedTimelineFn:C,dataFn:k,doneFn:x,onTransmuxerLog:T}).decryptionWorker,i=e.segment,s=e.trackInfoFn,n=e.timingInfoFn,r=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,h=e.dataFn,d=e.doneFn,p=e.onTransmuxerLog,void Kl({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:t},function(e){i.bytes=e,Ql({segment:i,bytes:i.bytes,trackInfoFn:s,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p})});var e,t,i,s,n,r,a,o,l,c,u,h,d,p;Ql({segment:m,bytes:m.bytes,trackInfoFn:g,timingInfoFn:y,videoSegmentTimingInfoFn:v,audioSegmentTimingInfoFn:b,id3Fn:w,captionsFn:S,isEndOfTimeline:_,endedTimelineFn:C,dataFn:k,doneFn:x,onTransmuxerLog:T})};if(m.endOfAllRequests=Date.now(),m.map&&m.map.encryptedBytes&&!m.map.bytes)return Kl({decryptionWorker:f,id:m.requestId+"-init",encryptedBytes:m.map.encryptedBytes,key:m.map.key},function(e){m.map.bytes=e,ql(m,function(e){return e?(zl(i),x(e,m)):void t()})});t()}}}}function Zl(e){var s=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){var t,i=e.target;if(!i.aborted)return s.stats=x.mergeOptions(s.stats,(i=(t=e).target,(i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-i.requestTime||0}).bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i)),!s.stats.firstBytesReceivedAt&&s.stats.bytesReceived&&(s.stats.firstBytesReceivedAt=Date.now()),n(e,s)}}function Jl(e){var t,i,s,n=e.xhr,r=e.xhrOptions,a=e.decryptionWorker,o=e.segment,l=e.abortFn,c=e.progressFn,u=e.trackInfoFn,h=e.timingInfoFn,d=e.videoSegmentTimingInfoFn,p=e.audioSegmentTimingInfoFn,m=e.id3Fn,f=e.captionsFn,g=e.isEndOfTimeline,y=e.endedTimelineFn,v=e.dataFn,b=e.doneFn,w=(e=e.onTransmuxerLog,[]);b=Xl({activeXhrs:w,decryptionWorker:a,trackInfoFn:u,timingInfoFn:h,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:p,id3Fn:m,captionsFn:f,isEndOfTimeline:g,endedTimelineFn:y,dataFn:v,doneFn:b,onTransmuxerLog:e});o.key&&!o.key.bytes&&(e=[o.key],o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&e.push(o.map.key),e=n(x.mergeOptions(r,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),Hl(o,e,b)),w.push(e)),o.map&&!o.map.bytes&&(!o.map.key||o.key&&o.key.resolvedUri===o.map.key.resolvedUri||(t=n(x.mergeOptions(r,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),Hl(o,[o.map.key],b)),w.push(t)),t=n(x.mergeOptions(r,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:kl(o.map)}),(i=(t={segment:o,finishProcessingFn:b}).segment,s=t.finishProcessingFn,function(e,t){return e=Wl(e,t),e?s(e,i):(e=new Uint8Array(t.response),i.map.key?(i.map.encryptedBytes=e,s(null,i)):(i.map.bytes=e,void ql(i,function(e){return e?(e.xhr=t,e.status=t.status,s(e,i)):void s(null,i)})))})),w.push(t)),r=x.mergeOptions(r,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:kl(o)}),(r=n(r,Gl({segment:o,finishProcessingFn:b,responseType:r.responseType}))).addEventListener("progress",Zl({segment:o,progressFn:c,trackInfoFn:u,timingInfoFn:h,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:p,id3Fn:m,captionsFn:f,isEndOfTimeline:g,endedTimelineFn:y,dataFn:v})),w.push(r);var S={};return w.forEach(function(e){var t,i;e.addEventListener("loadend",(t=(e={loadendState:S,abortFn:l}).loadendState,i=e.abortFn,function(e){e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}))}),function(){return zl(w)}}function ec(e,t){return t=t.attributes||{},e&&e.mediaGroups&&e.mediaGroups.AUDIO&&t.AUDIO&&e.mediaGroups.AUDIO[t.AUDIO]}function tc(e){var s={};return e.forEach(function(e){var t=e.mediaType,i=e.type;e=e.details;s[t]=s[t]||[],s[t].push(Cn(""+i+e))}),Object.keys(s).forEach(function(e){return 1<s[e].length?(Fc("multiple "+e+" codecs found as attributes: "+s[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(s[e]=null)):void(s[e]=s[e][0])}),s}function ic(e){var t=0;return e.audio&&t++,e.video&&t++,t}function sc(e,t){var i,s=t.attributes||{},n=tc(function(e){if(e=e.attributes||{},e.CODECS)return kn(e.CODECS)}(t)||[]);return ec(e,t)&&!n.audio&&!function(e,t){if(!ec(e,t))return!0;t=t.attributes||{};var i,s=e.mediaGroups.AUDIO[t.AUDIO];for(i in s)if(!s[i].uri&&!s[i].playlists)return!0;return!1}(e,t)&&(i=tc(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i,s=e.mediaGroups.AUDIO[t];if(!s)return null;for(i in s){var n=s[i];if(n.default&&n.playlists)return kn(n.playlists[0].attributes.CODECS)}return null}(e,s.AUDIO)||[])).audio&&(n.audio=i.audio),n}function nc(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}}function rc(e,t){return(e=e&&window.getComputedStyle(e))?e[t]:""}function ac(e,s){var n=e.slice();e.sort(function(e,t){var i=s(e,t);return 0===i?n.indexOf(e)-n.indexOf(t):i})}function oc(e,t){var i,s;return(i=(i=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:i)||window.Number.MAX_VALUE)-((s=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:s)||window.Number.MAX_VALUE)}function lc(e,t,i,s,n,r){if(e){var a={bandwidth:t,width:i,height:s,limitRenditionByPlayerDimensions:n},o=e.playlists;_c.isAudioOnly(e)&&(o=r.getAudioTrackPlaylists_(),a.audioOnly=!0);var l=o.map(function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,s=e.attributes&&e.attributes.BANDWIDTH;return{bandwidth:s||window.Number.MAX_VALUE,width:t,height:i,playlist:e}});ac(l,function(e,t){return e.bandwidth-t.bandwidth});var c=(l=l.filter(function(e){return!_c.isIncompatible(e.playlist)})).filter(function(e){return _c.isEnabled(e.playlist)}),u=(e=(c=c.length?c:l.filter(function(e){return!_c.isDisabled(e.playlist)})).filter(function(e){return e.bandwidth*N.BANDWIDTH_VARIANCE<t}),e[e.length-1]);o=e.filter(function(e){return e.bandwidth===u.bandwidth})[0];if(!1===n){var h=o||c[0]||l[0];return h&&h.playlist?(n=o?"bandwidthBestRep":"sortedPlaylistReps",c[0]&&(n="enabledPlaylistReps"),Rc("choosing "+nc(h)+" using "+n+" with options",a),h.playlist):(Rc("could not choose a playlist with options",a),null)}h=e.filter(function(e){return e.width&&e.height}),ac(h,function(e,t){return e.width-t.width});var d,p,m;e=h.filter(function(e){return e.width===i&&e.height===s}),u=e[e.length-1],e=e.filter(function(e){return e.bandwidth===u.bandwidth})[0];e||(p=(d=h.filter(function(e){return e.width>i||e.height>s})).filter(function(e){return e.width===d[0].width&&e.height===d[0].height}),u=p[p.length-1],p=p.filter(function(e){return e.bandwidth===u.bandwidth})[0]),r.experimentalLeastPixelDiffSelector&&(f=h.map(function(e){return e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-s),e}),ac(f,function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff}),m=f[0]);var f=m||p||e||o||c[0]||l[0];return f&&f.playlist?(l="sortedPlaylistReps",m?l="leastPixelDiffRep":p?l="resolutionPlusOneRep":e?l="resolutionBestRep":o?l="bandwidthBestRep":c[0]&&(l="enabledPlaylistReps"),Rc("choosing "+nc(f)+" using "+l+" with options",a),f.playlist):(Rc("could not choose a playlist with options",a),null)}}function cc(e){var t=e.inbandTextTracks,i=e.metadataArray,n=e.timestampOffset,s=e.videoDuration;if(i){var r=window.WebKitDataCue||window.VTTCue,a=t.metadataTrack_;if(a&&(i.forEach(function(e){var s=e.cueTime+n;!("number"!=typeof s||window.isNaN(s)||s<0)&&s<1/0&&e.frames.forEach(function(e){var t,i=new r(s,s,e.value||e.url||e.data||"");i.frame=e,i.value=e,t=i,Object.defineProperties(t.frame,{id:{get:function(){return x.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return x.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return x.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),a.addCue(i)})}),a.cues&&a.cues.length)){for(var o=a.cues,l=[],c=0;c<o.length;c++)o[c]&&l.push(o[c]);var u=l.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),h=Object.keys(u).sort(function(e,t){return Number(e)-Number(t)});h.forEach(function(e,t){e=u[e];var i=Number(h[t+1])||s;e.forEach(function(e){e.endTime=i})})}}}function uc(e,t,i){var s,n;if(i&&i.cues)for(s=i.cues.length;s--;)(n=i.cues[s]).startTime>=e&&n.endTime<=t&&i.removeCue(n)}function hc(e){return"number"==typeof e&&isFinite(e)}function dc(e){var t=e.startOfSegment,i=e.duration,s=e.segment,n=e.part,r=e.playlist,a=r.mediaSequence,o=r.id,l=r.segments,c=e.mediaIndex,u=e.partIndex,h=e.timeline,d=(void 0===l?[]:l).length-1,p="mediaIndex/partIndex increment";return e.getMediaInfoForTime?p="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent "+e.independent),r="number"==typeof u,l=e.segment.uri?"segment":"pre-segment",e=r?Zo({preloadSegment:s})-1:0,l+" ["+(a+c)+"/"+(a+d)+"]"+(r?" part ["+u+"/"+e+"]":"")+" segment start/end ["+s.start+" => "+s.end+"]"+(r?" part start/end ["+n.start+" => "+n.end+"]":"")+" startOfSegment ["+t+"] duration ["+i+"] timeline ["+h+"] selected by ["+p+"] playlist ["+o+"]"}function pc(e){return e+"TimingInfo"}function mc(e){var t=e.timelineChangeController,i=e.currentTimeline,s=e.segmentTimeline,n=e.loaderType;e=e.audioDisabled;if(i!==s){if("audio"===n)return i=t.lastTimelineChange({type:"main"}),!i||i.to!==s;if("main"===n&&e)return t=t.pendingTimelineChange({type:"audio"}),!t||t.to!==s}}function fc(e){var t=e.segmentDuration;e=e.maxDuration;return!!t&&Math.round(t)>e+wc}function gc(e,t){if("hls"!==t)return null;var s,n,i=(s={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},n=0,["video","audio"].forEach(function(e){var t,i=s[e+"TimingInfo"];i&&(e=i.start,i=i.end,"bigint"==typeof e||"bigint"==typeof i?t=window.BigInt(i)-window.BigInt(e):"number"==typeof e&&"number"==typeof i&&(t=i-e),"undefined"!=typeof t&&n<t&&(n=t))}),n="bigint"==typeof n&&n<Number.MAX_SAFE_INTEGER?Number(n):n);if(!i)return null;var r=e.playlist.targetDuration,a=fc({segmentDuration:i,maxDuration:2*r});t=fc({segmentDuration:i,maxDuration:r}),r="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+i+" when the reported duration is "+e.duration+" and the target duration is "+r+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||t?{severity:a?"warn":"info",message:r}:null}Ro.forEach(function(e){var t=Fo[e];Fo[e]=function(e){return t(T(e))}});var yc=Fo,vc=9e4,bc=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,s=/^\/\//.test(e),n=!window.location&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||gn):/\/\//i.test(e)||(e=fn.buildAbsoluteURL(window.location&&window.location.href||"",e)),i?(i=new URL(t,e),n?i.href.slice(gn.length):s?i.href.slice(i.protocol.length):i.href):fn.buildAbsoluteURL(e,t)},wc=1/30,Sc=x.createTimeRange,_c={liveEdgeDelay:Jo,duration:tl,seekable:function(e,t,i){var s=t||0;i=sl(e,t,!0,i);return null===i?Sc():Sc(s,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,i=e.currentTime,s=e.startingSegmentIndex,n=e.startingPartIndex,r=e.startTime,a=e.experimentalExactManifestTimings,o=i-r,l=Ko(t),c=0,u=0;u<l.length;u++){var h=l[u];if(s===h.segmentIndex&&("number"!=typeof n||"number"!=typeof h.partIndex||n===h.partIndex)){c=u;break}}if(o<0){if(0<c)for(var d=c-1;0<=d;d--){var p=l[d];if(o+=p.duration,a){if(o<0)continue}else if(o+wc<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:r-il({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:d})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var m=c;m<0;m++)if((o-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var f=c;f<l.length;f++){var g=l[f];if(o-=g.duration,a){if(0<o)continue}else if(0<=o-wc)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:r+il({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:f})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},isEnabled:al,isDisabled:function(e){return e.disabled},isBlacklisted:nl,isIncompatible:rl,playlistEnd:sl,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:ol,estimateSegmentRequestTime:function(e,t,i,s){return ol("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*(s=void 0===s?0:s))/t:NaN},isLowestEnabledRendition:ll,isAudioOnly:hl,playlistMatch:cl,segmentDurationWithParts:Qo},Cc=x.log,kc=x.mergeOptions,xc=function(r){function e(e,t,i){var s;if(void 0===i&&(i={}),s=r.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");s.logger_=jo("PlaylistLoader");var n=i.withCredentials;n=void 0!==n&&n,i=i.handleManifestRedirects,i=void 0!==i&&i;return s.src=e,s.vhs_=t,s.withCredentials=n,s.handleManifestRedirects=i,t=t.options_,s.customTagParsers=t&&t.customTagParsers||[],s.customTagMappers=t&&t.customTagMappers||[],s.experimentalLLHLS=t&&t.experimentalLLHLS||!1,x.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(b(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}w(e,r);var t=e.prototype;return t.handleMediaupdatetimeout_=function(){var e,t,i=this;"HAVE_METADATA"===this.state&&(e=this.media(),t=bc(this.master.uri,e.uri),this.experimentalLLHLS&&(t=function(e,t){if(t.endList||!t.serverControl)return e;var i,s,n,r,a={};return t.serverControl.canBlockReload&&(n=t.preloadSegment,i=t.mediaSequence+t.segments.length,n&&(s=n.parts||[],-1<(n=Zo(t)-1)&&n!=s.length-1&&(a._HLS_part=n),(-1<n||s.length)&&i--),a._HLS_msn=i),t.serverControl&&t.serverControl.canSkipUntil&&(a._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(a).length&&(r=new window.URL(e),["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(e){a.hasOwnProperty(e)&&r.searchParams.set(e,a[e])}),e=r.toString()),e}(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials},function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media(),"HAVE_METADATA"):void i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})}))},t.playlistRequestError=function(e,t,i){var s=t.uri;t=t.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+s+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")},t.parseManifest_=function(e){var t=this,i=e.url;return function(e){var t=e.onwarn,i=e.oninfo,s=e.manifestString,n=e.customTagParsers,r=void 0===n?[]:n,a=(n=e.customTagMappers,n=void 0===n?[]:n,e=e.experimentalLLHLS,new Fn);t&&a.on("warn",t),i&&a.on("info",i),r.forEach(function(e){return a.addParser(e)}),n.forEach(function(e){return a.addTagMapper(e)}),a.push(s),a.end();var o=a.manifest;e||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){o.hasOwnProperty(e)&&delete o[e]}),o.segments&&o.segments.forEach(function(t){["parts","preloadHints"].forEach(function(e){t.hasOwnProperty(e)&&delete t[e]})})),o.targetDuration||(l=10,o.segments&&o.segments.length&&(l=o.segments.reduce(function(e,t){return Math.max(e,t.duration)},0)),t&&t("manifest has no targetDuration defaulting to "+l),o.targetDuration=l);var l=Xo(o);return l.length&&!o.partTargetDuration&&(l=l.reduce(function(e,t){return Math.max(e,t.duration)},0),t&&(t("manifest has no partTargetDuration defaulting to "+l),Cc.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=l),o}({onwarn:function(e){return e=e.message,t.logger_("m3u8-parser warn for "+i+": "+e)},oninfo:function(e){return e=e.message,t.logger_("m3u8-parser info for "+i+": "+e)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},t.haveMetadata=function(e){var t=e.playlistString,i=e.playlistObject,s=e.url;e=e.id;this.request=null,this.state="HAVE_METADATA",t=i||this.parseManifest_({url:s,manifestString:t}),t.lastRequest=Date.now(),ml({playlist:t,uri:s,id:e}),s=wl(this.master,t),this.targetDuration=t.partTargetDuration||t.targetDuration,this.pendingMedia_=null,s?(this.master=s,this.media_=this.master.playlists[e]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Sl(this.media(),!!s)),this.trigger("loadedplaylist")},t.dispose=function(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()},t.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},t.media=function(i,e){var s=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(window.clearTimeout(this.finalRenditionTimeout),e){var t=(i.partTargetDuration||i.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,i,!1),t)}else{var n=this.state;e=!this.media_||i.id!==this.media_.id,t=this.master.playlists[i.id];if(t&&t.endList||i.endList&&i.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,void(e&&(this.trigger("mediachanging"),"HAVE_MASTER"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Sl(i,!0)),e){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=i,this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(e,t){if(s.request){if(i.lastRequest=Date.now(),i.resolvedUri=Uo(s.handleManifestRedirects,i.resolvedUri,t),e)return s.playlistRequestError(s.request,i,n);s.haveMetadata({playlistString:t.responseText,url:i.uri,id:i.id}),"HAVE_MASTER"===n?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}}},t.pause=function(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},t.load=function(e){var t=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var i=this.media();e?(e=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){t.mediaUpdateTimeout=null,t.load()},e)):this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},t.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)},e))},t.start=function(){var i=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){i.setupInitialPlaylist(i.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(e,t){if(i.request){if(i.request=null,e)return i.error={status:t.status,message:"HLS playlist request error at URL: "+i.src+".",responseText:t.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");i.src=Uo(i.handleManifestRedirects,i.src,t),t=i.parseManifest_({manifestString:t.responseText,url:i.src}),i.setupInitialPlaylist(t)}})},t.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},t.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,fl(this.master,this.srcUri()),e.playlists.forEach(function(t){t.segments=vl(t),t.segments.forEach(function(e){yl(e,t.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t,i,s,n=this.srcUri()||window.location.href;this.master=(i=dl(0,t=n),(s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]}).playlists[i]=s.playlists[0],s.playlists[t]=s.playlists[0],s),this.haveMetadata({playlistObject:e,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(r=x.EventTarget),Tc=x.xhr,Ic=x.mergeOptions,Pc=(li=Object.freeze({__proto__:null,createTransferableMessage:Il,initSegmentId:Pl,segmentKeyId:Al,hexDump:El,tagDump:function(e){return e=e.bytes,El(e)},textRanges:function(e){for(var t,i,s="",n=0;n<e.length;n++)s+=(i=n,(t=e).start(i)+"-"+t.end(i)+" ");return s}}),x.mergeOptions),Ac=function(r){function e(e,t,i,s){var n;if(void 0===i&&(i={}),(n=r.call(this)||this).masterPlaylistLoader_=s||b(n),s||(n.isMaster_=!0),s=i.withCredentials,s=void 0!==s&&s,i=i.handleManifestRedirects,i=void 0!==i&&i,n.vhs_=t,n.withCredentials=s,n.handleManifestRedirects=i,!e)throw new Error("A non-empty playlist URL or object is required");return n.on("minimumUpdatePeriod",function(){n.refreshXml_()}),n.on("mediaupdatetimeout",function(){n.refreshMedia_(n.media().id)}),n.state="HAVE_NOTHING",n.loadedPlaylists_={},n.logger_=jo("DashPlaylistLoader"),n.isMaster_?(n.masterPlaylistLoader_.srcUrl=e,n.masterPlaylistLoader_.sidxMapping_={}):n.childPlaylist_=e,n}w(e,r);var t=e.prototype;return t.requestErrored_=function(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)},t.addSidxSegments_=function(r,s,n){var a,o,l=this,c=r.sidx&&Ba(r.sidx);r.sidx&&c&&!this.masterPlaylistLoader_.sidxMapping_[c]?(a=Uo(this.handleManifestRedirects,r.sidx.resolvedUri),o=function(e,t){if(!l.requestErrored_(e,t,s)){var i;e=l.masterPlaylistLoader_.sidxMapping_;try{i=Ao(T(t.response).subarray(8))}catch(e){return void l.requestErrored_(e,t,s)}return e[c]={sidxInfo:r.sidx,sidx:i},Da(r,i,r.sidx.resolvedUri),n(!0)}},this.request=Nl(a,this.vhs_.xhr,function(e,t,i,s){if(e)return o(e,t);if(!i||"mp4"!==i)return o({status:t.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},t);var n=r.sidx.byterange;i=n.offset,n=n.length;if(s.length>=n+i)return o(e,{response:s.subarray(i,i+n),status:t.status,uri:t.uri});l.request=l.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:kl({byterange:r.sidx.byterange})},o)})):this.mediaRequest_=window.setTimeout(function(){return n(!1)},0)},t.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},t.hasPendingRequest=function(){return this.request||this.mediaRequest_},t.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},t.media=function(t){var i=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if("string"==typeof t){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var e=!this.media_||t.id!==this.media_.id;if(e&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));e&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(e){i.haveMetadata({startingState:s,playlist:t})}))},t.haveMetadata=function(e){var t=e.startingState;e=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[e.id]=e,this.mediaRequest_=null,this.refreshMedia_(e.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},t.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},t.load=function(e){var t=this;window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var i=this.media();e?(e=i?i.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){return t.load()},e)):this.started?i&&!i.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},t.start=function(){var i=this;this.started=!0,this.isMaster_?this.requestMaster_(function(e,t){i.haveMaster_(),i.hasPendingRequest()||i.media_||i.media(i.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=window.setTimeout(function(){return i.haveMaster_()},0)},t.requestMaster_=function(s){var n=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(e,t){if(!n.requestErrored_(e,t)){var i=t.responseText!==n.masterPlaylistLoader_.masterXml_;return n.masterPlaylistLoader_.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?n.masterLoaded_=Date.parse(t.responseHeaders.date):n.masterLoaded_=Date.now(),n.masterPlaylistLoader_.srcUrl=Uo(n.handleManifestRedirects,n.masterPlaylistLoader_.srcUrl,t),i?(n.handleMaster_(),void n.syncClientServerClock_(function(){return s(t,i)})):s(t,i)}"HAVE_NOTHING"===n.state&&(n.started=!1)})},t.syncClientServerClock_=function(i){var s=this,n=ro(this.masterPlaylistLoader_.masterXml_);return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),i()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),i()):void(this.request=this.vhs_.xhr({uri:bc(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(e,t){if(s.request){if(e)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),i();t="HEAD"===n.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):s.masterLoaded_:Date.parse(t.responseText),s.masterPlaylistLoader_.clientOffset_=t-Date.now(),i()}}))},t.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},t.handleMaster_=function(){this.mediaRequest_=null;var e,t,i,s=this.masterPlaylistLoader_.master,n=(r={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:s},e=r.masterXml,n=r.srcUrl,t=r.clientOffset,i=r.sidxMapping,r=r.previousManifest,r=no(e,{manifestUri:n,clientOffset:t,sidxMapping:i,previousManifest:r}),fl(r,n),r);s&&(n=function(e,t,i){for(var r=!0,a=Pc(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),s=0;s<t.playlists.length;s++){var n,o=t.playlists[s];o.sidx&&(n=Ba(o.sidx),i&&i[n]&&i[n].sidx&&Da(o,i[n].sidx,o.sidx.resolvedUri)),o=wl(a,o,Ml),o&&(a=o,r=!1)}return pl(t,function(e,t,i,s){var n;e.playlists&&e.playlists.length&&(n=e.playlists[0].id,(e=wl(a,e.playlists[0],Ml))&&((a=e).mediaGroups[t][i][s].playlists[0]=a.playlists[n],r=!1))}),(r=t.minimumUpdatePeriod===e.minimumUpdatePeriod&&r)?null:a}(s,n,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=n||s;var r=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return r&&r!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=r),(!s||n&&n.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(n)},t.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},t.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=window.setTimeout(function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)},t.refreshXml_=function(){var i=this;this.requestMaster_(function(e,t){var n,r;t&&(i.media_&&(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=(t=i.masterPlaylistLoader_.master,n=i.masterPlaylistLoader_.sidxMapping_,r=Bl(t.playlists,n),pl(t,function(e,t,i,s){e.playlists&&e.playlists.length&&(e=e.playlists,r=Pc(r,Bl(e,n)))}),r),i.addSidxSegments_(i.media(),i.state,function(e){i.refreshMedia_(i.media().id)}))})},t.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var i=this.masterPlaylistLoader_.master.playlists,s=!this.media_||this.media_!==i[e];s?this.media_=i[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function e(){t.media().endList||(t.mediaUpdateTimeout=window.setTimeout(function(){t.trigger("mediaupdatetimeout"),e()},Sl(t.media(),Boolean(s))))}(),this.trigger("loadedplaylist")},e}(yn=x.EventTarget),N={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Ec=(i=function(s){return function(){var e=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){var i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}}(s),t=Fl(new Worker(e));t.objURL=e;var i=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},t}})((pe=function(e){return"var browserWorkerPolyFill = "+Fl.toString()+";\nbrowserWorkerPolyFill(self);\n"+e})((r=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)})(function(){var e=function(){this.init=function(){var r={};this.on=function(e,t){r[e]||(r[e]=[]),r[e]=r[e].concat(t)},this.off=function(e,t){return!!r[e]&&(t=r[e].indexOf(t),r[e]=r[e].slice(),r[e].splice(t,1),-1<t)},this.trigger=function(e){var t,i,s,n=r[e];if(n)if(2===arguments.length)for(i=n.length,t=0;t<i;++t)n[t].call(this,arguments[1]);else{for(s=[],t=arguments.length,t=1;t<arguments.length;++t)s.push(arguments[t]);for(i=n.length,t=0;t<i;++t)n[t].apply(this,s)}},this.dispose=function(){r={}}}};e.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var l,B,F,R,$,U,j,V,z,W,H,q,G,Y,Q,K,X,Z,J,ee,c,te,ie,se,ne,re,ae,oe,le,ce,t,ue,he,de,pe,me,fe,ge,ye,i=e,ve=Math.pow(2,32),s={getUint64:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.getBigUint64?(e=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:t.getUint32(0)*ve+t.getUint32(4)},MAX_UINT32:ve},be=s.MAX_UINT32;function we(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i}function n(e){for(var t=[];e--;)t.push(0);return t}function Se(){var e,i;return _e||(e={96e3:[r,[227,64],n(154),[56]],88200:[r,[231],n(170),[56]],64e3:[r,[248,192],n(240),[56]],48e3:[r,[255,192],n(268),[55,148,128],n(54),[112]],44100:[r,[255,192],n(268),[55,163,128],n(84),[112]],32e3:[r,[255,192],n(268),[55,234],n(226),[112]],24e3:[r,[255,192],n(268),[55,255,128],n(268),[111,112],n(126),[224]],16e3:[r,[255,192],n(268),[55,255,128],n(268),[111,255],n(269),[223,108],n(195),[1,192]],12e3:[De,n(268),[3,127,248],n(268),[6,255,240],n(268),[13,255,224],n(268),[27,253,128],n(259),[56]],11025:[De,n(268),[3,127,248],n(268),[6,255,240],n(268),[13,255,224],n(268),[27,255,192],n(268),[55,175,128],n(108),[112]],8e3:[De,n(268),[3,121,16],n(47),[7]]},i=e,_e=Object.keys(i).reduce(function(e,t){return e[t]=new Uint8Array(i[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),_e}!function(){if(c={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var e in c)c.hasOwnProperty(e)&&(c[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);te=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),se=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ie=new Uint8Array([0,0,0,1]),ne=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),re=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ae={video:ne,audio:re},ce=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),le=new Uint8Array([0,0,0,0,0,0,0,0]),t=new Uint8Array([0,0,0,0,0,0,0,0]),ue=t,he=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),de=t,oe=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),l=function(e){for(var t,i=[],s=0,n=1;n<arguments.length;n++)i.push(arguments[n]);for(n=i.length;n--;)s+=i[n].byteLength;for(t=new Uint8Array(s+8),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0,t.byteLength),t.set(e,4),n=0,s=8;n<i.length;n++)t.set(i[n],s),s+=i[n].byteLength;return t},B=function(){return l(c.dinf,l(c.dref,ce))},F=function(e){return l(c.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},Y=function(e){return l(c.hdlr,ae[e])},G=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),l(c.mdhd,t)},q=function(e){return l(c.mdia,G(e),Y(e.type),U(e))},$=function(e){return l(c.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},U=function(e){return l(c.minf,"video"===e.type?l(c.vmhd,oe):l(c.smhd,le),B(),K(e))},C=function(e,t){for(var i=[],s=t.length;s--;)i[s]=Z(t[s]);return l.apply(null,[c.moof,$(e)].concat(i))},j=function(e){for(var t=e.length,i=[];t--;)i[t]=W(e[t]);return l.apply(null,[c.moov,z(4294967295)].concat(i).concat(V(e)))},V=function(e){for(var t=e.length,i=[];t--;)i[t]=J(e[t]);return l.apply(null,[c.mvex].concat(i))},z=function(e){return e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]),l(c.mvhd,e)},Q=function(e){for(var t,i=e.samples||[],s=new Uint8Array(4+i.length),n=0;n<i.length;n++)t=i[n].flags,s[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return l(c.sdtp,s)},K=function(e){return l(c.stbl,X(e),l(c.stts,de),l(c.stsc,ue),l(c.stsz,he),l(c.stco,t))},X=function(e){return l(c.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===e.type?pe:me)(e))},pe=function(e){for(var t,i,s=e.sps||[],n=e.pps||[],r=[],a=[],o=0;o<s.length;o++)r.push((65280&s[o].byteLength)>>>8),r.push(255&s[o].byteLength),r=r.concat(Array.prototype.slice.call(s[o]));for(o=0;o<n.length;o++)a.push((65280&n[o].byteLength)>>>8),a.push(255&n[o].byteLength),a=a.concat(Array.prototype.slice.call(n[o]));return t=[c.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(c.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([s.length],r,[n.length],a))),l(c.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio&&(i=e.sarRatio[0],e=e.sarRatio[1],t.push(l(c.pasp,new Uint8Array([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])))),l.apply(null,t)},me=function(e){return l(c.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),F(e))},H=function(e){return e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]),l(c.tkhd,e)},Z=function(e){var t,i=l(c.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/be),n=Math.floor(e.baseMediaDecodeTime%be);s=l(c.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,n>>>24&255,n>>>16&255,n>>>8&255,255&n]));return"audio"===e.type?(t=ee(e,92),l(c.traf,i,s,t)):(n=Q(e),t=ee(e,n.length+92),l(c.traf,i,s,t,n))},W=function(e){return e.duration=e.duration||4294967295,l(c.trak,H(e),q(e))},J=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),l(c.trex,t)},fe=function(e,t){var i=0,s=0,n=0,r=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(s=2),void 0!==e[0].flags&&(n=4),void 0!==e[0].compositionTimeOffset&&(r=8)),[0,0,i|s|n|r,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},ge=function(e,t){var i,s,n,r,a=e.samples||[];for(t+=20+16*a.length,t=fe(a,t),(s=new Uint8Array(t.length+16*a.length)).set(t),i=t.length,r=0;r<a.length;r++)n=a[r],s[i++]=(4278190080&n.duration)>>>24,s[i++]=(16711680&n.duration)>>>16,s[i++]=(65280&n.duration)>>>8,s[i++]=255&n.duration,s[i++]=(4278190080&n.size)>>>24,s[i++]=(16711680&n.size)>>>16,s[i++]=(65280&n.size)>>>8,s[i++]=255&n.size,s[i++]=n.flags.isLeading<<2|n.flags.dependsOn,s[i++]=n.flags.isDependedOn<<6|n.flags.hasRedundancy<<4|n.flags.paddingValue<<1|n.flags.isNonSyncSample,s[i++]=61440&n.flags.degradationPriority,s[i++]=15&n.flags.degradationPriority,s[i++]=(4278190080&n.compositionTimeOffset)>>>24,s[i++]=(16711680&n.compositionTimeOffset)>>>16,s[i++]=(65280&n.compositionTimeOffset)>>>8,s[i++]=255&n.compositionTimeOffset;return l(c.trun,s)},ye=function(e,t){var i,s,n,r,a=e.samples||[];for(t+=20+8*a.length,t=fe(a,t),(i=new Uint8Array(t.length+8*a.length)).set(t),s=t.length,r=0;r<a.length;r++)n=a[r],i[s++]=(4278190080&n.duration)>>>24,i[s++]=(16711680&n.duration)>>>16,i[s++]=(65280&n.duration)>>>8,i[s++]=255&n.duration,i[s++]=(4278190080&n.size)>>>24,i[s++]=(16711680&n.size)>>>16,i[s++]=(65280&n.size)>>>8,i[s++]=255&n.size;return l(c.trun,i)},ee=function(e,t){return("audio"===e.type?ye:ge)(e,t)},R=function(){return l(c.ftyp,te,ie,te,se)};var _e,Ce=function(e){return l(c.mdat,e)},ke=C,xe=function(e){var t=R(),i=j(e);e=new Uint8Array(t.byteLength+i.byteLength);return e.set(t),e.set(i,t.byteLength),e},Te=function(e){var t,i,s=[],n=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,t=s.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(s.length&&(s.duration=i.dts-s.dts,n.byteLength+=s.byteLength,n.nalCount+=s.length,n.duration+=s.duration,n.push(s)),(s=[i]).byteLength=i.data.byteLength,s.pts=i.pts,s.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(s.keyFrame=!0),s.duration=i.dts-s.dts,s.byteLength+=i.data.byteLength,s.push(i));return n.length&&(!s.duration||s.duration<=0)&&(s.duration=n[n.length-1].duration),n.byteLength+=s.byteLength,n.nalCount+=s.length,n.duration+=s.duration,n.push(s),n},Ie=function(e){var t,i,s=[],n=[];for(s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=e[0].pts,s.dts=e[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(s.length&&(n.push(s),n.byteLength+=s.byteLength,n.nalCount+=s.nalCount,n.duration+=s.duration),(s=[i]).nalCount=i.length,s.byteLength=i.byteLength,s.pts=i.pts,s.dts=i.dts,s.duration=i.duration):(s.duration+=i.duration,s.nalCount+=i.length,s.byteLength+=i.byteLength,s.push(i));return n.length&&s.duration<=0&&(s.duration=n[n.length-1].duration),n.byteLength+=s.byteLength,n.nalCount+=s.nalCount,n.duration+=s.duration,n.push(s),n},Pe=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},Ae=function(e,t){for(var i,s,n,r=t||0,a=[],o=0;o<e.length;o++)for(s=e[o],i=0;i<s.length;i++)n=s[i],r+=(n=we(n,r)).size,a.push(n);return a},Ee=function(e){for(var t,i,s,n,r,a=0,o=e.byteLength,l=e.nalCount,c=new Uint8Array(o+4*l),u=new DataView(c.buffer),h=0;h<e.length;h++)for(s=e[h],t=0;t<s.length;t++)for(n=s[t],i=0;i<n.length;i++)r=n[i],u.setUint32(a,r.data.byteLength),c.set(r.data,a+=4),a+=r.data.byteLength;return c},r=[33,16,5,32,164,27],De=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Oe=function(e){return 9e4*e},Le=function(e,t){return e*t},Ne=function(e){return e/9e4},Me=function(e,t){return e/t},d=9e4,Be=Oe,a=Ne,Fe=function(e,t){return Oe(Me(e,t))},Re=function(e,t){return Le(Ne(e),t)},$e=function(e,t,i){return Ne(i?e:e-t)},Ue=function(e,t,i,s){var n,r,a,o,l,c,u=0,h=0;if(t.length&&(n=Fe(e.baseMediaDecodeTime,e.samplerate),r=Math.ceil(d/(e.samplerate/1024)),i&&s&&(a=n-Math.max(i,s),h=(u=Math.floor(a/r))*r),!(u<1||d/2<h))){for(o=(o=Se()[e.samplerate])||t[0].data,l=0;l<u;l++)c=t[0],t.splice(0,0,{data:o,dts:c.dts-r,pts:c.pts-r});return e.baseMediaDecodeTime-=Math.floor(Re(h,e.samplerate)),h}},je=function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},Ve=function(e){for(var t,i=[],s=0;s<e.length;s++)t=e[s],i.push({size:t.data.byteLength,duration:1024});return i},ze=function(e){for(var t,i=0,s=new Uint8Array(function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].data.byteLength;return t}(e)),n=0;n<e.length;n++)t=e[n],s.set(t.data,i),i+=t.data.byteLength;return s},We=d,p=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},He=function(e,t){var i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/We,t=Math.floor(t)),t},qe=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Ge=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},s=0,n=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)s+=255,t++;for(s+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!i.payload&&4===s){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=s,i.payloadSize=n,i.payload=e.subarray(t,t+n);break}i.payload=void 0}t+=n,n=s=0}return i},Ye=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Qe=function(e,t){var i,s,n,r,a=[];if(!(64&t[0]))return a;for(s=31&t[0],i=0;i<s;i++)r={type:3&t[2+(n=3*i)],pts:e},4&t[2+n]&&(r.ccData=t[3+n]<<8|t[4+n],a.push(r));return a},Ke=function(e){for(var t=e.byteLength,i=[],s=1;s<t-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(i.push(s+2),s+=2):s++;if(0===i.length)return e;var n=t-i.length,r=new Uint8Array(n),a=0;for(s=0;s<n;a++,s++)a===i[0]&&(a++,i.shift()),r[s]=e[a];return r},Xe=4,o=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new v(0,0),new v(0,1),new v(1,0),new v(1,1)],this.parse708captions_&&(this.cc708Stream_=new f({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};function u(e){return 32<=e&&e<=127||160<=e&&e<=255}function h(e){this.windowNum=e,this.reset()}(o.prototype=new i).push=function(e){var t,i;if("sei_rbsp"===e.nalUnitType&&(t=Ge(e.escapedRBSP)).payload&&t.payloadType===Xe&&(i=Ye(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=Qe(e.pts,i),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},o.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},o.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},o.prototype.flush=function(){return this.flushStream("flush")},o.prototype.partialFlush=function(){return this.flushStream("partialFlush")},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},o.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},o.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},o.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},o.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},o.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Ze={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};function m(e,t,i){this.serviceNum=e,this.text="",this.currentWindow=new h(-1),this.windows=[],this.stream=i,"string"==typeof t&&this.createTextDecoder(t)}h.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},h.prototype.getText=function(){return this.rows.join("\n")},h.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},h.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},h.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},h.prototype.addText=function(e){this.rows[this.rowIdx]+=e},h.prototype.backspace=function(){var e;this.isEmpty()||(e=this.rows[this.rowIdx],this.rows[this.rowIdx]=e.substr(0,e.length-1))},m.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new h(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},m.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},m.prototype.createTextDecoder=function(t){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(t)}catch(e){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+t+" encoding. "+e})}};var f=function e(t){t=t||{},e.prototype.init.call(this);var i,s=this,n=t.captionServices||{},r={};Object.keys(n).forEach(function(e){i=n[e],/^SERVICE/.test(e)&&(r[e]=i.encoding)}),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){(3===e.type||null===s.current708Packet)&&s.new708Packet(),s.add708Bytes(e)}};function g(e){return null===e?"":(e=Je[e]||e,String.fromCharCode(e))}function y(){for(var e=[],t=15;t--;)e.push("");return e}f.prototype=new i,f.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},f.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8;t&=255;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(t)},f.prototype.push708Packet=function(){var e,t=this.current708Packet,i=t.data,s=null,n=0,r=i[n++];for(t.seq=r>>6,t.sizeCode=63&r;n<i.length;n++)e=31&(r=i[n++]),7===(s=r>>5)&&0<e&&(s=i[n++]),this.pushServiceBlock(s,n,e),0<e&&(n+=e-1)},f.prototype.pushServiceBlock=function(e,t,i){for(var s,n=t,r=this.current708Packet.data,a=(a=this.services[e])||this.initService(e,n);n<t+i&&n<r.length;n++)s=r[n],u(s)?n=this.handleText(n,a):24===s?n=this.multiByteCharacter(n,a):16===s?n=this.extendedCommands(n,a):128<=s&&s<=135?n=this.setCurrentWindow(n,a):152<=s&&s<=159?n=this.defineWindow(n,a):136===s?n=this.clearWindows(n,a):140===s?n=this.deleteWindows(n,a):137===s?n=this.displayWindows(n,a):138===s?n=this.hideWindows(n,a):139===s?n=this.toggleWindows(n,a):151===s?n=this.setWindowAttributes(n,a):144===s?n=this.setPenAttributes(n,a):145===s?n=this.setPenColor(n,a):146===s?n=this.setPenLocation(n,a):143===s?a=this.reset(n,a):8===s?a.currentWindow.backspace():12===s?a.currentWindow.clearText():13===s?a.currentWindow.pendingNewLine=!0:14===s?a.currentWindow.clearText():141===s&&n++},f.prototype.extendedCommands=function(e,t){var i=this.current708Packet.data[++e];return u(i)?this.handleText(e,t,{isExtended:!0}):e},f.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},f.prototype.initService=function(t,e){var i,s="SERVICE"+t,n=this;return s in this.serviceEncodings&&(i=this.serviceEncodings[s]),this.services[t]=new m(t,i,n),this.services[t].init(this.getPts(e),function(e){n.flushDisplayed(e,n.services[t])}),this.services[t]},f.prototype.handleText=function(e,t,i){var s,n=i&&i.isExtended,r=i&&i.isMultiByte,a=this.current708Packet.data,o=n?4096:0,l=a[e],c=(i=a[e+1],a=t.currentWindow,t.textDecoder_&&!n?(r?(s=[l,i],e++):s=[l],t.textDecoder_.decode(new Uint8Array(s))):(c=Ze[l|=o]||l,4096&l&&l===c?"":String.fromCharCode(c)));return a.pendingNewLine&&!a.isEmpty()&&a.newLine(this.getPts(e)),a.pendingNewLine=!1,a.addText(c),e},f.prototype.multiByteCharacter=function(e,t){var i=this.current708Packet.data,s=i[e+1];i=i[e+2];return u(s)&&u(i)?this.handleText(++e,t,{isMultiByte:!0}):e},f.prototype.setCurrentWindow=function(e,t){var i=this.current708Packet.data[e];return t.setCurrentWindow(7&i),e},f.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,s=i[e];return t.setCurrentWindow(7&s),t=t.currentWindow,s=i[++e],t.visible=(32&s)>>5,t.rowLock=(16&s)>>4,t.columnLock=(8&s)>>3,t.priority=7&s,s=i[++e],t.relativePositioning=(128&s)>>7,t.anchorVertical=127&s,s=i[++e],t.anchorHorizontal=s,s=i[++e],t.anchorPoint=(240&s)>>4,t.rowCount=15&s,s=i[++e],t.columnCount=63&s,s=i[++e],t.windowStyle=(56&s)>>3,t.penStyle=7&s,t.virtualRowCount=t.rowCount+1,e},f.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,s=i[e];t=t.currentWindow.winAttr,s=i[++e];return t.fillOpacity=(192&s)>>6,t.fillRed=(48&s)>>4,t.fillGreen=(12&s)>>2,t.fillBlue=3&s,s=i[++e],t.borderType=(192&s)>>6,t.borderRed=(48&s)>>4,t.borderGreen=(12&s)>>2,t.borderBlue=3&s,s=i[++e],t.borderType+=(128&s)>>5,t.wordWrap=(64&s)>>6,t.printDirection=(48&s)>>4,t.scrollDirection=(12&s)>>2,t.justify=3&s,s=i[++e],t.effectSpeed=(240&s)>>4,t.effectDirection=(12&s)>>2,t.displayEffect=3&s,e},f.prototype.flushDisplayed=function(e,t){for(var i=[],s=0;s<8;s++)t.windows[s].visible&&!t.windows[s].isEmpty()&&i.push(t.windows[s].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},f.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},f.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible=1);return e},f.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible=0);return e},f.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible^=1);return e},f.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var n=0;n<8;n++)i&1<<n&&t.windows[n].clearText();return e},f.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var n=0;n<8;n++)i&1<<n&&t.windows[n].reset();return e},f.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,s=i[e];t=t.currentWindow.penAttr,s=i[++e];return t.textTag=(240&s)>>4,t.offset=(12&s)>>2,t.penSize=3&s,s=i[++e],t.italics=(128&s)>>7,t.underline=(64&s)>>6,t.edgeType=(56&s)>>3,t.fontStyle=7&s,e},f.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,s=i[e];t=t.currentWindow.penColor,s=i[++e];return t.fgOpacity=(192&s)>>6,t.fgRed=(48&s)>>4,t.fgGreen=(12&s)>>2,t.fgBlue=3&s,s=i[++e],t.bgOpacity=(192&s)>>6,t.bgRed=(48&s)>>4,t.bgGreen=(12&s)>>2,t.bgBlue=3&s,s=i[++e],t.edgeRed=(48&s)>>4,t.edgeGreen=(12&s)>>2,t.edgeBlue=3&s,e},f.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,s=i[e],n=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,s=i[++e],n.row=15&s,s=i[++e],n.column=63&s,e},f.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var Je={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},et=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],v=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,s,n,r=32639&e.ccData;r!==this.lastControlCode_?(4096==(61440&r)?this.lastControlCode_=r:r!==this.PADDING_&&(this.lastControlCode_=null),t=r>>>8,i=255&r,r===this.PADDING_||(r===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":r===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts):r===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(e.pts)):r===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(e.pts)):r===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(e.pts)):r===this.CARRIAGE_RETURN_?(this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts):r===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):r===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(e.pts),this.displayed_=y()):r===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=y():r===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=y()),this.mode_="paintOn",this.startPts_=e.pts):this.isSpecialCharacter(t,i)?(s=g((t=(3&t)<<8)|i),this[this.mode_](e.pts,s),this.column_++):this.isExtCharacter(t,i)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=g((t=(3&t)<<8)|i),this[this.mode_](e.pts,s),this.column_++):this.isMidRowCode(t,i)?(this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"])):this.isOffsetControlCode(t,i)?this.column_+=3&i:this.isPAC(t,i)?(n=et.indexOf(7968&r),"rollUp"===this.mode_&&(n-this.rollUpRows_+1<0&&(n=this.rollUpRows_-1),this.setRollUp(e.pts,n)),n!==this.row_&&(this.clearFormatting(e.pts),this.row_=n),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&r)&&(this.column_=4*((14&r)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])):this.isNormalChar(t)&&(0===i&&(i=null),s=g(t),s+=g(i),this[this.mode_](e.pts,s),this.column_+=s.length))):this.lastControlCode_=null}};function tt(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e}v.prototype=new i,v.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},v.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=y(),this.nonDisplayed_=y(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},v.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},v.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},v.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},v.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},v.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},v.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},v.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},v.prototype.isNormalChar=function(e){return 32<=e&&e<=127},v.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=y(),this.displayed_=y()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},v.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t),t=t.reduce(function(e,t){return e+"<"+t+">"},""),this[this.mode_](e,t)},v.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},""),this.formatting_=[],this[this.mode_](e,t))},v.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=i+=t},v.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=t},v.prototype.shiftRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},v.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=t};var b={CaptionStream:o,Cea608Stream:v,Cea708Stream:f},w={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};e=function e(t){var i,s;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===s&&(s=e.dts),e.dts=tt(e.dts,s),e.pts=tt(e.pts,s),i=e.dts,this.trigger("data",e))},this.flush=function(){s=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=s=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};function it(e,t,i){for(var s="",n=t;n<i;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s}function S(e,t,i){return decodeURIComponent(it(e,t,i))}function _(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}e.prototype=new i;var C=e,st=(o=tt,{TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=S(e.data,1,t),e.value=S(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=S(e.data,1,t),e.url=S(e.data,t+1,e.data.length);break}},PRIV:function(e){for(var t,i=0;i<e.data.length;i++)if(0===e.data[i]){e.owner=(t=e.data,unescape(it(t,0,i)));break}e.privateData=e.data.subarray(i+1),e.data=e.privateData}}),nt=function(e){var t,i={descriptor:e&&e.descriptor},l=0,c=[],u=0;if(nt.prototype.init.call(this),this.dispatchType=w.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,s,n,r,a,o;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(u=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(c.push(e),u+=e.data.byteLength,1===c.length&&(l=_(e.data.subarray(6,10)),l+=10),!(u<l)){for(t={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},n=0;n<l;)t.data.set(c[0].data.subarray(0,l-n),n),n+=c[0].data.byteLength,u-=c[0].data.byteLength,c.shift();i=10,64&t.data[5]&&(i+=4,i+=_(t.data.subarray(10,14)),l-=_(t.data.subarray(16,20)));do{if((s=_(t.data.subarray(i+4,i+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."})}while((o={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+s+10)}).key=o.id,st[o.id]&&(st[o.id](o),"com.apple.streaming.transportStreamTimestamp"===o.owner&&(a=(1&(r=o.data)[3])<<30|r[4]<<22|r[5]<<14|r[6]<<6|r[7]>>>2,a*=4,a+=3&r[7],o.timeStamp=a,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o))),t.frames.push(o),i+=10,(i+=s)<l);this.trigger("data",t)}}};nt.prototype=new i;e=nt,C=C;var k,rt,at=function(){var n=new Uint8Array(188),r=0;at.prototype.init.call(this),this.push=function(e){var t,i=0,s=188;for(r?((t=new Uint8Array(e.byteLength+r)).set(n.subarray(0,r)),t.set(e,r),r=0):t=e;s<t.byteLength;)71!==t[i]||71!==t[s]?(i++,s++):(this.trigger("data",t.subarray(i,s)),i+=188,s+=188);i<t.byteLength&&(n.set(t.subarray(i),0),r=t.byteLength-i)},this.flush=function(){188===r&&71===n[0]&&(this.trigger("data",n),r=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){r=0,this.trigger("reset")}};at.prototype=new i,(k=function(){var s,n,r,a;k.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,s=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),("pat"===t.type?n:r)(e.subarray(i),t)},n=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},r=function(e,t){var i,s;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,s=12+((15&e[10])<<8|e[11]);s<i;){var n=e[s],r=(31&e[s+1])<<8|e[s+2];n===w.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=r:n===w.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=r:n===w.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][r]=n),s+=5+((15&e[s+3])<<8|e[s+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},i=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(i+=e[i]+1),0===t.pid)t.type="pat",s(e.subarray(i),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",s(e.subarray(i),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,t]):this.processPes_(e,i,t)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=w.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=w.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new i,k.STREAM_TYPES={h264:27,adts:15},(rt=function(){function s(e,t,i){var s,n,r,a,o=new Uint8Array(e.size),l={type:t},c=0,u=0;if(e.data.length&&!(e.size<9)){for(l.trackId=e.data[0].pid,c=0;c<e.data.length;c++)s=e.data[c],o.set(s.data,u),u+=s.data.byteLength;r=l,a=(n=o)[0]<<16|n[1]<<8|n[2],r.data=new Uint8Array,1==a&&(r.packetLength=6+(n[4]<<8|n[5]),r.dataAlignmentIndicator=0!=(4&n[6]),192&(a=n[7])&&(r.pts=(14&n[9])<<27|(255&n[10])<<20|(254&n[11])<<12|(255&n[12])<<5|(254&n[13])>>>3,r.pts*=4,r.pts+=(6&n[13])>>>1,r.dts=r.pts,64&a&&(r.dts=(14&n[14])<<27|(255&n[15])<<20|(254&n[16])<<12|(255&n[17])<<5|(254&n[18])>>>3,r.dts*=4,r.dts+=(6&n[18])>>>1)),r.data=n.subarray(9+n[8])),t="video"===t||l.packetLength<=e.size,(i||t)&&(e.size=0,e.data.length=0),t&&h.trigger("data",l)}}var t,h=this,n=!1,r={data:[],size:0},a={data:[],size:0},o={data:[],size:0};rt.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case w.H264_STREAM_TYPE:e=r,t="video";break;case w.ADTS_STREAM_TYPE:e=a,t="audio";break;case w.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]};null!==(t=i.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),n=!0,h.trigger("data",e)}})[i.type]()},this.reset=function(){r.size=0,r.data.length=0,a.size=0,a.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(r,"video"),s(a,"audio"),s(o,"timed-metadata")},this.flush=function(){var e;!n&&t&&(e={type:"metadata",tracks:[]},null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),h.trigger("data",e)),n=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new i;var x,ot={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:at,TransportParseStream:k,ElementaryStream:rt,TimestampRolloverStream:C,CaptionStream:b.CaptionStream,Cea608Stream:b.Cea608Stream,Cea708Stream:b.Cea708Stream,MetadataStream:e};for(x in w)w.hasOwnProperty(x)&&(ot[x]=w[x]);var T=ot,lt=d,ct=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ut=function(l){var c,u=0;ut.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+u+" outside syncword"})},this.push=function(e){var t,i,s,n,r,a,o=0;if(l||(u=0),"audio"===e.type){for(c&&c.length?(s=c,(c=new Uint8Array(s.byteLength+e.data.byteLength)).set(s),c.set(e.data,s.byteLength)):c=e.data;o+7<c.length;)if(255===c[o]&&240==(246&c[o+1])){if("number"==typeof a&&(this.skipWarn_(a,o),a=null),i=2*(1&~c[o+1]),t=(3&c[o+3])<<11|c[o+4]<<3|(224&c[o+5])>>5,r=(n=1024*(1+(3&c[o+6])))*lt/ct[(60&c[o+2])>>>2],c.byteLength-o<t)break;this.trigger("data",{pts:e.pts+u*r,dts:e.dts+u*r,sampleCount:n,audioobjecttype:1+(c[o+2]>>>6&3),channelcount:(1&c[o+2])<<2|(192&c[o+3])>>>6,samplerate:ct[(60&c[o+2])>>>2],samplingfrequencyindex:(60&c[o+2])>>>2,samplesize:16,data:c.subarray(o+7+i,o+t)}),u++,o+=t}else"number"!=typeof a&&(a=o),o++;"number"==typeof a&&(this.skipWarn_(a,o),a=null),c=c.subarray(o)}},this.flush=function(){u=0,this.trigger("done")},this.reset=function(){c=void 0,this.trigger("reset")},this.endTimeline=function(){c=void 0,this.trigger("endedtimeline")}};ut.prototype=new i;var ht,dt,pt=ut,mt=function(s){var n=s.byteLength,r=0,a=0;this.length=function(){return 8*n},this.bitsAvailable=function(){return 8*n+a},this.loadWord=function(){var e=s.byteLength-n,t=new Uint8Array(4),i=Math.min(4,n);if(0===i)throw new Error("no bytes available");t.set(s.subarray(e,e+i)),r=new DataView(t.buffer).getUint32(0),a=8*i,n-=i},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),n-=t,this.loadWord()),r<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),i=r>>>32-t;return 0<(a-=t)?r<<=t:0<n&&this.loadWord(),0<(t=e-t)?i<<t|this.readBits(t):i},this.skipLeadingZeros=function(){for(var e=0;e<a;++e)if(0!=(r&2147483648>>>e))return r<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},I=function(){var s,n,r=0;I.prototype.init.call(this),this.push=function(e){for(var t,i=(n=n?((t=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),t.set(e.data,n.byteLength),t):e.data).byteLength;r<i-3;r++)if(1===n[r+2]){s=r+5;break}for(;s<i;)switch(n[s]){case 0:if(0!==n[s-1]){s+=2;break}if(0!==n[s-2]){s++;break}for(r+3!==s-2&&this.trigger("data",n.subarray(r+3,s-2));1!==n[++s]&&s<i;);r=s-2,s+=3;break;case 1:if(0!==n[s-1]||0!==n[s-2]){s+=3;break}this.trigger("data",n.subarray(r+3,s-2)),r=s-2,s+=3;break;default:s+=3}n=n.subarray(r),s-=r,r=0},this.reset=function(){n=null,r=0,this.trigger("reset")},this.flush=function(){n&&3<n.byteLength&&this.trigger("data",n.subarray(r+3)),n=null,r=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};function ft(e,t){var i=0<=(i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9])?i:0;return(16&e[t+5])>>4?i+20:i+10}function gt(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:gt(e,t+=ft(e,t))}function yt(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}I.prototype=new i,dt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ht=function(){var i,s,n,r,a,o,f,t=new I;ht.prototype.init.call(this),(i=this).push=function(e){"video"===e.type&&(s=e.trackId,n=e.pts,r=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:s,pts:n,dts:r,data:e,nalUnitTypeCode:31&e[0]};switch(t.nalUnitTypeCode){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",t)}),t.on("done",function(){i.trigger("done")}),t.on("partialdone",function(){i.trigger("partialdone")}),t.on("reset",function(){i.trigger("reset")}),t.on("endedtimeline",function(){i.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},f=function(e,t){for(var i=8,s=8,n=0;n<e;n++)i=0===(s=0!==s?(i+t.readExpGolomb()+256)%256:s)?i:s},a=function(e){for(var t=e.byteLength,i=[],s=1;s<t-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(i.push(s+2),s+=2):s++;if(0===i.length)return e;var n=t-i.length,r=new Uint8Array(n),a=0;for(s=0;s<n;a++,s++)a===i[0]&&(a++,i.shift()),r[s]=e[a];return r},o=function(e){var t,i,s,n,r,a=0,o=0,l=0,c=0,u=[1,1],h=new mt(e),d=h.readUnsignedByte(),p=h.readUnsignedByte(),m=h.readUnsignedByte();if(h.skipUnsignedExpGolomb(),dt[d]&&(3===(i=h.readUnsignedExpGolomb())&&h.skipBits(1),h.skipUnsignedExpGolomb(),h.skipUnsignedExpGolomb(),h.skipBits(1),h.readBoolean()))for(n=3!==i?8:12,r=0;r<n;r++)h.readBoolean()&&f(r<6?16:64,h);if(h.skipUnsignedExpGolomb(),0===(s=h.readUnsignedExpGolomb()))h.readUnsignedExpGolomb();else if(1===s)for(h.skipBits(1),h.skipExpGolomb(),h.skipExpGolomb(),t=h.readUnsignedExpGolomb(),r=0;r<t;r++)h.skipExpGolomb();if(h.skipUnsignedExpGolomb(),h.skipBits(1),e=h.readUnsignedExpGolomb(),i=h.readUnsignedExpGolomb(),0===(s=h.readBits(1))&&h.skipBits(1),h.skipBits(1),h.readBoolean()&&(a=h.readUnsignedExpGolomb(),o=h.readUnsignedExpGolomb(),l=h.readUnsignedExpGolomb(),c=h.readUnsignedExpGolomb()),h.readBoolean()&&h.readBoolean()){switch(h.readUnsignedByte()){case 1:u=[1,1];break;case 2:u=[12,11];break;case 3:u=[10,11];break;case 4:u=[16,11];break;case 5:u=[40,33];break;case 6:u=[24,11];break;case 7:u=[20,11];break;case 8:u=[32,11];break;case 9:u=[80,33];break;case 10:u=[18,11];break;case 11:u=[15,11];break;case 12:u=[64,33];break;case 13:u=[160,99];break;case 14:u=[4,3];break;case 15:u=[3,2];break;case 16:u=[2,1];break;case 255:u=[h.readUnsignedByte()<<8|h.readUnsignedByte(),h.readUnsignedByte()<<8|h.readUnsignedByte()]}u&&(u[0],u[1])}return{profileIdc:d,levelIdc:m,profileCompatibility:p,width:16*(e+1)-2*a-2*o,height:(2-s)*(i+1)*16-2*l-2*c,sarRatio:u}}}).prototype=new i;e={H264Stream:ht,NalByteStream:I};var vt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],bt={isLikelyAacData:function(e){var t=gt(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:ft,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,s=e[t+4]<<3;return 6144&e[t+3]|s|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return vt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i=10;64&e[5]&&(i+=4,i+=yt(e.subarray(10,14)));do{if((t=yt(e.subarray(i+4,i+8)))<1)return null;if("PRIV"===String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]))for(var s=e.subarray(i+10,i+t+10),n=0;n<s.byteLength;n++)if(0===s[n]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,i){for(var s="",n=t;n<i;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s}(s,0,n)))break;var r=s.subarray(n+1),a=(1&r[3])<<30|r[4]<<22|r[5]<<14|r[6]<<6|r[7]>>>2;return a*=4,a+(3&r[7])}}while(i+=10,(i+=t)<e.byteLength);return null}},wt=function(){var r=new Uint8Array,a=0;wt.prototype.init.call(this),this.setTimestamp=function(e){a=e},this.push=function(e){var t,i,s=0,n=0;for(r.length?(i=r.length,(r=new Uint8Array(e.byteLength+i)).set(r.subarray(0,i)),r.set(e,i)):r=e;3<=r.length-n;)if(r[n]!=="I".charCodeAt(0)||r[n+1]!=="D".charCodeAt(0)||r[n+2]!=="3".charCodeAt(0))if(255!=(255&r[n])||240!=(240&r[n+1]))n++;else{if(r.length-n<7)break;if(n+(s=bt.parseAdtsSize(r,n))>r.length)break;t={type:"audio",data:r.subarray(n,n+s),pts:a,dts:a},this.trigger("data",t),n+=s}else{if(r.length-n<10)break;if(n+(s=bt.parseId3TagSize(r,n))>r.length)break;t={type:"timed-metadata",data:r.subarray(n,n+s)},this.trigger("data",t),n+=s}e=r.length-n,r=0<e?r.subarray(n):new Uint8Array},this.reset=function(){r=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){r=new Uint8Array,this.trigger("endedtimeline")}};function St(e,t){t.stream=e,this.trigger("log",t)}function _t(e,t){for(var i=Object.keys(t),s=0;s<i.length;s++){var n=i[s];"headOfPipeline"!==n&&t[n].on&&t[n].on("log",St.bind(e,n))}}function Ct(e,t){var i;if(e.length===t.length){for(i=0;i<e.length;i++)if(e[i]!==t[i])return;return 1}}function kt(e,t,i,s,n,r){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(s-t),pts:e+(n-i)},prependedContentDuration:r,baseMediaDecodeTime:e}}wt.prototype=new i;var xt,Tt,P,It=wt,Pt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],At=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Et=e.H264Stream,Dt=bt.isLikelyAacData,Ot=d,A=function(r,a){var o=[],l=0,c=0,u=1/0,h=(a=a||{}).firstSequenceNumber||0;A.prototype.init.call(this),this.push=function(t){qe(r,t),r&&Pt.forEach(function(e){r[e]=t[e]}),o.push(t)},this.setEarliestDts=function(e){l=e},this.setVideoBaseMediaDecodeTime=function(e){u=e},this.setAudioAppendStart=function(e){c=e},this.flush=function(){var e,t,i,s,n;0!==o.length&&(e=je(o,r,l),r.baseMediaDecodeTime=He(r,a.keepOriginalTimestamps),n=Ue(r,e,c,u),r.samples=Ve(e),t=Ce(ze(e)),o=[],s=ke(h,[r]),i=new Uint8Array(s.byteLength+t.byteLength),h++,i.set(s),i.set(t,s.byteLength),p(r),s=Math.ceil(1024*Ot/r.samplerate),e.length&&(s=e.length*s,this.trigger("segmentTimingInfo",kt(Fe(r.baseMediaDecodeTime,r.samplerate),e[0].dts,e[0].pts,e[0].dts+s,e[0].pts+s,n||0)),this.trigger("timingInfo",{start:e[0].pts,end:e[0].pts+s})),this.trigger("data",{track:r,boxes:i})),this.trigger("done","AudioSegmentStream")},this.reset=function(){p(r),o=[],this.trigger("reset")}};function Lt(e,u){var i=D(e,["moof","traf"]),h=(e=D(e,["mdat"]),{}),s=[];return e.forEach(function(e,t){t=i[t],s.push({mdat:e,traf:t})}),s.forEach(function(e){var t,i,s,n,r,a=e.mdat,o=e.traf,l=D(o,["tfhd"]),c=Ht(l[0]);e=c.trackId,l=D(o,["tfdt"]),l=0<l.length?Vt(l[0]).baseMediaDecodeTime:0,o=D(o,["trun"]);u===e&&0<o.length&&(o=o,t=l,i=(c=c).defaultSampleDuration||0,s=c.defaultSampleSize||0,n=c.trackId,r=[],o.forEach(function(e){e=Wt(e).samples,e.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=s),e.trackId=n,e.dts=t,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof t?(e.pts=t+qt.BigInt(e.compositionTimeOffset),t+=qt.BigInt(e.duration)):(e.pts=t+e.compositionTimeOffset,t+=e.duration)}),r=r.concat(e)}),a=function(e,t,i){for(var s,n,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a={logs:[],seiNals:[]},o=0;o+4<e.length;o+=s)if(s=r.getUint32(o),o+=4,!(s<=0))switch(31&e[o]){case 6:var l=e.subarray(o+1,o+1+s),c=function(e,t){for(var i=e,s=0;s<t.length;s++){var n=t[s];if(i<n.size)return n;i-=n.size}return null}(o,t);l={nalUnitType:"sei_rbsp",size:s,data:l,escapedRBSP:Gt(l),trackId:i};if(c)l.pts=c.pts,l.dts=c.dts,n=c;else{if(!n){a.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+o+" for trackId "+i+". See mux.js#223."});break}l.pts=n.pts,l.dts=n.dts}a.seiNals.push(l)}return a}(a,r,e),h[e]||(h[e]={seiNals:[],logs:[]}),h[e].seiNals=h[e].seiNals.concat(a.seiNals),h[e].logs=h[e].logs.concat(a.logs))}),h}function Nt(e){var t=31&e[1];return t<<=8,t|e[2]}function Mt(e){return!!(64&e[1])}function Bt(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function Ft(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}A.prototype=new i,(xt=function(a,r){var t,i,o=[],c=[],l=(r=r||{}).firstSequenceNumber||0;xt.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(e){qe(a,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,a.sps=[e.data],At.forEach(function(e){a[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,a.pps=[e.data]),o.push(e)},this.flush=function(){for(var e,t,i,s=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=Te(o),(t=Ie(e))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],a))?(s=i.duration,t.unshift(i),t.byteLength+=i.byteLength,t.nalCount+=i.nalCount,t.pts=i.pts,t.dts=i.dts,t.duration+=i.duration):t=Pe(t)),c.length){var n=r.alignGopsAtEnd?this.alignGopsAtEnd_(t):this.alignGopsAtStart_(t);if(!n)return this.gopCache_.unshift({gop:t.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");p(a),t=n}qe(a,t),a.samples=Ae(t),e=Ce(Ee(t)),a.baseMediaDecodeTime=He(a,r.keepOriginalTimestamps),this.trigger("processedGopsInfo",t.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),i=t[0],n=t[t.length-1],this.trigger("segmentTimingInfo",kt(a.baseMediaDecodeTime,i.dts,i.pts,n.dts+n.duration,n.pts+n.duration,s)),this.trigger("timingInfo",{start:t[0].pts,end:t[t.length-1].pts+t[t.length-1].duration}),this.gopCache_.unshift({gop:t.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime),this.trigger("timelineStartInfo",a.timelineStartInfo),s=ke(l,[a]),t=new Uint8Array(s.byteLength+e.byteLength),l++,t.set(s),t.set(e,s.byteLength),this.trigger("data",{track:a,boxes:t}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,c.length=0,this.trigger("reset")},this.resetStream_=function(){p(a),i=t=void 0},this.getGopForFusion_=function(e){for(var t,i,s,n=1/0,r=0;r<this.gopCache_.length;r++)i=(s=this.gopCache_[r]).gop,a.pps&&Ct(a.pps[0],s.pps[0])&&a.sps&&Ct(a.sps[0],s.sps[0])&&(i.dts<a.timelineStartInfo.dts||-1e4<=(i=e.dts-i.dts-i.duration)&&i<=45e3&&(!t||i<n)&&(t=s,n=i));return t?t.gop:null},this.alignGopsAtStart_=function(e){for(var t,i,s,n,r=e.byteLength,a=e.nalCount,o=e.duration,l=t=0;l<c.length&&t<e.length&&(i=c[l],s=e[t],i.pts!==s.pts);)s.pts>i.pts?l++:(t++,r-=s.byteLength,a-=s.nalCount,o-=s.duration);return 0===t?e:t===e.length?null:((n=e.slice(t)).byteLength=r,n.duration=o,n.nalCount=a,n.pts=n[0].pts,n.dts=n[0].dts,n)},this.alignGopsAtEnd_=function(e){for(var t,i,s=c.length-1,n=e.length-1,r=null,a=!1;0<=s&&0<=n;){if(t=c[s],i=e[n],t.pts===i.pts){a=!0;break}t.pts>i.pts?s--:(s===c.length-1&&(r=n),n--)}if(!a&&null===r)return null;if(0===(l=a?n:r))return e;var o=e.slice(l),l=o.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return o.byteLength=l.byteLength,o.duration=l.duration,o.nalCount=l.nalCount,o.pts=o[0].pts,o.dts=o[0].dts,o},this.alignGopsWith=function(e){c=e}}).prototype=new i,(P=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,P.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new i,P.prototype.flush=function(e){var t,i,s,n=0,r={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,At.forEach(function(e){r.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Pt.forEach(function(e){r.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?r.type=this.pendingTracks[0].type:r.type="combined",this.emittedTracks+=this.pendingTracks.length,e=xe(this.pendingTracks),r.initSegment=new Uint8Array(e.byteLength),r.initSegment.set(e),r.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)r.data.set(this.pendingBoxes[s],n),n+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(t=this.pendingCaptions[s]).startTime=$e(t.startPts,a,this.keepOriginalTimestamps),t.endTime=$e(t.endPts,a,this.keepOriginalTimestamps),r.captionStreams[t.stream]=!0,r.captions.push(t);for(s=0;s<this.pendingMetadata.length;s++)(i=this.pendingMetadata[s]).cueTime=$e(i.pts,a,this.keepOriginalTimestamps),r.metadata.push(i);for(r.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",r),s=0;s<r.captions.length;s++)t=r.captions[s],this.trigger("caption",t);for(s=0;s<r.metadata.length;s++)i=r.metadata[s],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},P.prototype.setRemux=function(e){this.remuxTracks=e},(Tt=function(s){var n,r,a=this,i=!0;Tt.prototype.init.call(this),this.baseMediaDecodeTime=(s=s||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new T.MetadataStream,t.aacStream=new It,t.audioTimestampRolloverStream=new T.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new T.TimestampRolloverStream("timed-metadata"),t.adtsStream=new pt,t.coalesceStream=new P(s,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type&&"audio"!==e.type||t.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new A(r,s),t.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),a.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!n}))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done")),_t(this,t)},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new T.MetadataStream,i.packetStream=new T.TransportPacketStream,i.parseStream=new T.TransportParseStream,i.elementaryStream=new T.ElementaryStream,i.timestampRolloverStream=new T.TimestampRolloverStream,i.adtsStream=new pt,i.h264Stream=new Et,i.captionStream=new T.CaptionStream(s),i.coalesceStream=new P(s,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)n||"video"!==e.tracks[t].type?r||"audio"!==e.tracks[t].type||((r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(n=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;n&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new xt(n,s),i.videoSegmentStream.on("log",a.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",function(e){r&&!s.keepOriginalTimestamps&&(r.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts-a.baseMediaDecodeTime))}),i.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){r&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),r&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new A(r,s),i.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!n})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(e){e.dispatchType=i.metadataStream.dispatchType,a.trigger("id3Frame",e)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),_t(this,i)},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;s.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,p(r),t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),n&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,p(n),t.captionStream.reset()),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;s.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){n&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(t){var i=this;return function(e){e.stream=t,i.trigger("log",e)}},this.push=function(e){var t;i&&((t=Dt(e))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1),this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new i;var Rt={Transmuxer:Tt,VideoSegmentStream:xt,AudioSegmentStream:A,AUDIO_PROPERTIES:Pt,VIDEO_PROPERTIES:At,generateSegmentTimingInfo:kt},E=(e=function(e){return e>>>0},function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+String.fromCharCode(e[3])}),$t=e,D=function e(t,i){var s,n,r,a=[];if(!i.length)return null;for(s=0;s<t.byteLength;)n=$t(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]),r=E(t.subarray(s+4,s+8)),n=1<n?s+n:t.byteLength,r===i[0]&&(1===i.length?a.push(t.subarray(s+8,n)):(r=e(t.subarray(s+8,n),i.slice(1))).length&&(a=a.concat(r))),s=n;return a},Ut=e,jt=s.getUint64,Vt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=jt(e.subarray(4)):t.baseMediaDecodeTime=Ut(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},zt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Wt=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},s=new DataView(e.buffer,e.byteOffset,e.byteLength),n=1&i.flags[2],r=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],c=8&i.flags[1],u=s.getUint32(4),h=8;for(n&&(i.dataOffset=s.getInt32(h),h+=4),r&&u&&(t={flags:zt(e.subarray(h,h+4))},h+=4,a&&(t.duration=s.getUint32(h),h+=4),o&&(t.size=s.getUint32(h),h+=4),c&&(1===i.version?t.compositionTimeOffset=s.getInt32(h):t.compositionTimeOffset=s.getUint32(h),h+=4),i.samples.push(t),u--);u--;)t={},a&&(t.duration=s.getUint32(h),h+=4),o&&(t.size=s.getUint32(h),h+=4),l&&(t.flags=zt(e.subarray(h,h+4)),h+=4),c&&(1===i.version?t.compositionTimeOffset=s.getInt32(h):t.compositionTimeOffset=s.getUint32(h),h+=4),i.samples.push(t);return i},Ht=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},s=1&i.flags[2],n=2&i.flags[2],r=8&i.flags[2],a=16&i.flags[2],o=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];e=8;return s&&(e+=4,i.baseDataOffset=t.getUint32(12),e+=4),n&&(i.sampleDescriptionIndex=t.getUint32(e),e+=4),r&&(i.defaultSampleDuration=t.getUint32(e),e+=4),a&&(i.defaultSampleSize=t.getUint32(e),e+=4),o&&(i.defaultSampleFlags=t.getUint32(e)),l&&(i.durationIsEmpty=!0),!s&&c&&(i.baseDataOffsetIsMoof=!0),i},qt=(i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof Bu?Bu:"undefined"!=typeof self?self:{},i="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:{},i),Gt=Ke,Yt=b.CaptionStream,Qt=function(){var t,n,r,a,o,i,s=!1;this.isInitialized=function(){return s},this.init=function(e){t=new Yt,s=!0,i=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/a,e.endTime=e.endPts/a,o.captions.push(e),o.captionStreams[e.stream]=!0}),t.on("log",function(e){o.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(r!==e[0]||a!==t[r])},this.parse=function(e,t,i){if(!this.isInitialized())return null;if(!t||!i)return null;if(this.isNewInit(t,i))r=t[0],a=i[r];else if(null===r||!a)return n.push(e),null;for(;0<n.length;){var s=n.shift();this.parse(s,t,i)}return(e=function(e,t,i){return null===t?null:(t=Lt(e,t)[t]||{},{seiNals:t.seiNals,logs:t.logs,timescale:i})}(e,r,a))&&e.logs&&(o.logs=o.logs.concat(e.logs)),null!==e&&e.seiNals?(this.pushNals(e.seiNals),this.flushStream(),o):o.logs.length?{logs:o.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;i?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={},o.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){n=[],a=r=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Kt=e,O=function(e){return("00"+e.toString(16)).slice(-2)},Xt=s.getUint64,Zt=(i=function(e){return D(e,["moov","trak"]).reduce(function(e,t){var i,s,n=D(t,["tkhd"])[0];return n?(i=n[0],n=Kt(n[s=0===i?12:20]<<24|n[1+s]<<16|n[2+s]<<8|n[3+s]),(t=D(t,["mdia","mdhd"])[0])?(i=t[0],e[n]=Kt(t[s=0===i?12:20]<<24|t[1+s]<<16|t[2+s]<<8|t[3+s]),e):null):null},{})},Ke=function(r,e){return e=D(e,["moof","traf"]).reduce(function(e,t){var i,s=D(t,["tfhd"])[0],n=Kt(s[4]<<24|s[5]<<16|s[6]<<8|s[7]);s=r[n]||9e4,n=D(t,["tfdt"])[0],t=new DataView(n.buffer,n.byteOffset,n.byteLength),t=1===n[0]?Xt(n.subarray(4,12)):t.getUint32(4);return"bigint"==typeof t?i=t/qt.BigInt(s):"number"!=typeof t||isNaN(t)||(i=t/s),(i=i<Number.MAX_SAFE_INTEGER?Number(i):i)<e?i:e},1/0),"bigint"==typeof e||isFinite(e)?e:0},e=function(e){e=D(e,["moov","trak"]);var s=[];return e.forEach(function(e){var t=D(e,["mdia","hdlr"]),i=D(e,["tkhd"]);t.forEach(function(e,t){e=E(e.subarray(8,12)),t=i[t],"vide"===e&&(t=0===(t=new DataView(t.buffer,t.byteOffset,t.byteLength)).getUint8(0)?t.getUint32(12):t.getUint32(20),s.push(t))})}),s},function(e){var t=0===e[0]?12:20;return Kt(e[t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])}),Jt=(s=function(e){e=D(e,["moov","trak"]);var a=[];return e.forEach(function(e){var t={},i=D(e,["tkhd"])[0];i&&(i=(s=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0),t.id=0===i?s.getUint32(12):s.getUint32(20));var s=D(e,["mdia","hdlr"])[0];s&&(r=E(s.subarray(8,12)),t.type="vide"===r?"video":"soun"===r?"audio":r);var n,r=D(e,["mdia","minf","stbl","stsd"])[0];r&&(r=r.subarray(8),t.codec=E(r.subarray(4,8)),(r=D(r,[t.codec])[0])&&(/^[asm]vc[1-9]$/i.test(t.codec)?(n=r.subarray(78),"avcC"===E(n.subarray(4,8))&&11<n.length?(t.codec+=".",t.codec+=O(n[9]),t.codec+=O(n[10]),t.codec+=O(n[11])):t.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(t.codec)?(n=r.subarray(28),"esds"===E(n.subarray(4,8))&&20<n.length&&0!==n[19]?(t.codec+="."+O(n[19]),t.codec+="."+O(n[20]>>>2&63).replace(/^0/,"")):t.codec="mp4a.40.2"):t.codec=t.codec.toLowerCase())),e=D(e,["mdia","mdhd"])[0],e&&(t.timescale=Zt(e)),a.push(t)}),a},Ke),ei=s,L=o,N={};function ti(e,t,i){for(var s,n,r,a,o=0,l=188,c=!1;l<=e.byteLength;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o++,l++;else{if(s=e.subarray(o,l),"pes"===N.ts.parseType(s,t.pid)&&(n=N.ts.parsePesType(s,t.table),r=N.ts.parsePayloadUnitStartIndicator(s),"audio"===n&&r&&(a=N.ts.parsePesTime(s))&&(a.type="audio",i.audio.push(a),c=!0)),c)break;o+=188,l+=188}for(o=(l=e.byteLength)-188,c=!1;0<=o;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o--,l--;else{if(s=e.subarray(o,l),"pes"===N.ts.parseType(s,t.pid)&&(n=N.ts.parsePesType(s,t.table),r=N.ts.parsePayloadUnitStartIndicator(s),"audio"===n&&r&&(a=N.ts.parsePesTime(s))&&(a.type="audio",i.audio.push(a),c=!0)),c)break;o-=188,l-=188}}function ii(e){var t,i={pid:null,table:null},s={};for(t in function(e,t){for(var i,s=0,n=188;n<e.byteLength;)if(71!==e[s]||71!==e[n])s++,n++;else{switch(i=e.subarray(s,n),N.ts.parseType(i,t.pid)){case"pat":t.pid=N.ts.parsePat(i);break;case"pmt":var r=N.ts.parsePmt(i);t.table=t.table||{},Object.keys(r).forEach(function(e){t.table[e]=r[e]})}s+=188,n+=188}}(e,i),i.table)if(i.table.hasOwnProperty(t))switch(i.table[t]){case w.H264_STREAM_TYPE:s.video=[],function(e,t,i){for(var s,n,r,a,o,l,c,u,h=0,d=188,p=!1,m={data:[],size:0};d<e.byteLength;)if(71!==e[h]||71!==e[d])h++,d++;else{if(s=e.subarray(h,d),"pes"===N.ts.parseType(s,t.pid)&&(n=N.ts.parsePesType(s,t.table),r=N.ts.parsePayloadUnitStartIndicator(s),"video"===n&&(r&&!p&&(a=N.ts.parsePesTime(s))&&(a.type="video",i.video.push(a),p=!0),!i.firstKeyFrame))){if(r&&0!==m.size){for(o=new Uint8Array(m.size),l=0;m.data.length;)c=m.data.shift(),o.set(c,l),l+=c.byteLength;!N.ts.videoPacketContainsKeyFrame(o)||(u=N.ts.parsePesTime(o))&&(i.firstKeyFrame=u,i.firstKeyFrame.type="video"),m.size=0}m.data.push(s),m.size+=s.byteLength}if(p&&i.firstKeyFrame)break;h+=188,d+=188}for(h=(d=e.byteLength)-188,p=!1;0<=h;)if(71!==e[h]||71!==e[d])h--,d--;else{if(s=e.subarray(h,d),"pes"===N.ts.parseType(s,t.pid)&&(n=N.ts.parsePesType(s,t.table),r=N.ts.parsePayloadUnitStartIndicator(s),"video"===n&&r&&(a=N.ts.parsePesTime(s))&&(a.type="video",i.video.push(a),p=!0)),p)break;h-=188,d-=188}}(e,i,s),0===s.video.length&&delete s.video;break;case w.ADTS_STREAM_TYPE:s.audio=[],ti(e,i,s),0===s.audio.length&&delete s.audio}return s}N.ts={parseType:function(e,t){return e=Nt(e),0===e?"pat":e===t?"pmt":t?"pes":null},parsePat:function(e){var t=Mt(e),i=4+Bt(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=Mt(e),s=4+Bt(e);if(i&&(s+=e[s]+1),1&e[s+5]){for(var n=3+((15&e[s+1])<<8|e[s+2])-4,r=12+((15&e[s+10])<<8|e[s+11]);r<n;){var a=s+r;t[(31&e[a+1])<<8|e[a+2]]=e[a],r+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:Mt,parsePesType:function(e,t){switch(t[Nt(e)]){case w.H264_STREAM_TYPE:return"video";case w.ADTS_STREAM_TYPE:return"audio";case w.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Mt(e))return null;var t=4+Bt(e);if(t>=e.byteLength)return null;var i=null,s=e[t+7];return 192&s&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&s&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+Bt(e),i=e.subarray(t),s=0,n=0,r=!1;n<i.byteLength-3;n++)if(1===i[n+2]){s=n+5;break}for(;s<i.byteLength;)switch(i[s]){case 0:if(0!==i[s-1]){s+=2;break}if(0!==i[s-2]){s++;break}for(n+3!==s-2&&"slice_layer_without_partitioning_rbsp_idr"===Ft(31&i[n+3])&&(r=!0);1!==i[++s]&&s<i.length;);n=s-2,s+=3;break;case 1:if(0!==i[s-1]||0!==i[s-2]){s+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Ft(31&i[n+3])&&(r=!0),n=s-2,s+=3;break;default:s+=3}return i=i.subarray(n),s-=n,n=0,!!(i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===Ft(31&i[n+3]))||r}},N.aac=bt;var M=d,si=function(e,t){var i,s,n=(N.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,s=0,n=null,r=null,a=0,o=0;3<=e.length-o;){switch(N.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){i=!0;break}if((a=N.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+a),r=N.aac.parseAacTimestamp(t)),o+=a;break;case"audio":if(e.length-o<7){i=!0;break}if((a=N.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===n&&(t=e.subarray(o,o+a),n=N.aac.parseSampleRate(t)),s++,o+=a;break;default:o++}if(i)return null}if(null===n||null===r)return null;var l=M/n;return{audio:[{type:"audio",dts:r,pts:r},{type:"audio",dts:r+1024*s*l,pts:r+1024*s*l}]}}:ii)(e);return n&&(n.audio||n.video)?(e=t,(t=n).audio&&t.audio.length&&("undefined"!=typeof(i=e)&&!isNaN(i)||(i=t.audio[0].dts),t.audio.forEach(function(e){e.dts=L(e.dts,i),e.pts=L(e.pts,i),e.dtsTime=e.dts/M,e.ptsTime=e.pts/M})),t.video&&t.video.length&&("undefined"!=typeof(s=e)&&!isNaN(s)||(s=t.video[0].dts),t.video.forEach(function(e){e.dts=L(e.dts,s),e.pts=L(e.pts,s),e.dtsTime=e.dts/M,e.ptsTime=e.pts/M}),t.firstKeyFrame&&((t=t.firstKeyFrame).dts=L(t.dts,s),t.pts=L(t.pts,s),t.dtsTime=t.dts/M,t.ptsTime=t.pts/M)),n):null},ni=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){var i,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Rt.Transmuxer(this.options),i=this.self,(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},t=e.data,e.data=t.buffer,i.postMessage({action:"data",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.on("done",function(e){i.postMessage({action:"done"})}),e.on("gopInfo",function(e){i.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){var t={start:{decode:a(e.start.dts),presentation:a(e.start.pts)},end:{decode:a(e.end.dts),presentation:a(e.end.pts)},baseMediaDecodeTime:a(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=a(e.prependedContentDuration)),i.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}),e.on("audioSegmentTimingInfo",function(e){var t={start:{decode:a(e.start.dts),presentation:a(e.start.pts)},end:{decode:a(e.end.dts),presentation:a(e.end.pts)},baseMediaDecodeTime:a(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=a(e.prependedContentDuration)),i.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:t})}),e.on("id3Frame",function(e){i.postMessage({action:"id3Frame",id3Frame:e})}),e.on("caption",function(e){i.postMessage({action:"caption",caption:e})}),e.on("trackinfo",function(e){i.postMessage({action:"trackinfo",trackInfo:e})}),e.on("audioTimingInfo",function(e){i.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:a(e.start),end:a(e.end)}})}),e.on("videoTimingInfo",function(e){i.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:a(e.start),end:a(e.end)}})}),e.on("log",function(e){i.postMessage({action:"log",log:e})})},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new Qt,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);e=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:e&&e.captions||[],logs:e&&e.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales;e=e.data,t=Jt(t,e);this.self.postMessage({action:"probeMp4StartTime",startTime:t,data:e},[e.buffer])},t.probeMp4Tracks=function(e){var t=e.data;e=ei(t);this.self.postMessage({action:"probeMp4Tracks",tracks:e,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,i=e.baseStartTime;e="number"!=typeof i||isNaN(i)?void 0:i*d,i=si(t,e),e=null;i&&((e={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(e.videoStart=i.video[0].ptsTime),e.hasAudio&&(e.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:e,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){e=new Uint8Array(e.data,e.byteOffset,e.byteLength),this.transmuxer.push(e)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){e=e.timestampOffset||0,this.transmuxer.setBaseMediaDecodeTime(Math.round(Be(e)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(Be(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new ni(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new ni(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),Dc=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():Rl(e.currentTransmux))},Oc=function(e){Ul("reset",e)},Lc=function(e){var t=new Ec;t.currentTransmux=null,t.transmuxQueue=[];var i=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)},t.postMessage({action:"init",options:e}),t},Nc=2,Mc=-101,Bc=-102,Fc=jo("CodecUtils"),Rc=jo("PlaylistSelector"),$c=(yn=function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return lc(this.playlists.master,this.systemBandwidth,parseInt(rc(this.tech_.el(),"width"),10)*e,parseInt(rc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},function(s){function e(e,t){var i=s.call(this)||this;if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=e.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=e.hasPlayed,i.currentTime_=e.currentTime,i.seekable_=e.seekable,i.seeking_=e.seeking,i.duration_=e.duration,i.mediaSource_=e.mediaSource,i.vhs_=e.vhs,i.loaderType_=e.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=e.segmentMetadataTrack,i.goalBufferLength_=e.goalBufferLength,i.sourceType_=e.sourceType,i.sourceUpdater_=e.sourceUpdater,i.inbandTextTracks_=e.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=e.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=e.parse708captions,i.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,i.captionServices_=e.captionServices,i.experimentalExactManifestTimings=e.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=11<=x.browser.IE_VERSION,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=e.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=e.decrypter,i.syncController_=e.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",function(){i.isEndOfStream_()||(i.ended_=!1)}),i.fetchAtBuffer_=!1,i.logger_=jo("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(b(i),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),i}w(e,s);var t=e.prototype;return t.createTransmuxer_=function(){return Lc({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},t.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},t.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},t.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},t.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},t.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},t.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},t.error=function(e){return"undefined"!=typeof e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},t.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Oc(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},t.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return x.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,i=e.hasVideo;e=e.isMuxed;if(i&&t&&!this.audioDisabled_&&!e)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},t.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Pl(e),s=this.initSegments_[i];return t&&!s&&e.bytes&&(this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e},t.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Al(e),s=this.keyCache_[i];return this.cacheEncryptionKeys_&&t&&!s&&e.bytes&&(this.keyCache_[i]=s={resolvedUri:e.resolvedUri,bytes:e.bytes}),e={resolvedUri:(s||e).resolvedUri},s&&(e.bytes=s.bytes),e},t.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},t.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},t.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},t.playlist=function(e,t){if(void 0===t&&(t={}),e){var i=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var n=null;if(i&&(i.id?n=i.id:i.uri&&(n=i.uri)),this.logger_("playlist update ["+n+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");t=e.mediaSequence-i.mediaSequence,this.logger_("live window shift ["+t+"]"),null!==this.mediaIndex&&(this.mediaIndex-=t,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(n=this.playlist_.segments[this.mediaIndex],!this.partIndex||n.parts&&n.parts.length&&n.parts[this.partIndex]||(n=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=n))),s&&(s.mediaIndex-=t,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(0<=s.mediaIndex&&(s.segment=e.segments[s.mediaIndex]),0<=s.partIndex&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}},t.pause=function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},t.paused=function(){return null===this.checkBufferTimeout_},t.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},t.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},t.resyncLoader=function(){this.transmuxer_&&Oc(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},t.remove=function(e,t,i,s){if(void 0===i&&(i=function(){}),void 0===s&&(s=!1),(t=t===1/0?this.duration_():t)<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var n,r=1,a=function(){0===--r&&i()};for(n in!s&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,a)),!s&&"main"!==this.loaderType_||(this.gopBuffer_=function(e,t,i,s){for(var n=Math.ceil((t-s)*vc),r=Math.ceil((i-s)*vc),a=(s=e.slice(),e.length);a--&&!(e[a].pts<=r););if(-1===a)return s;for(var o=a+1;o--&&!(e[o].pts<=n););return o=Math.max(o,0),s.splice(o,a-o+1),s}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)uc(e,t,this.inbandTextTracks_[n]);uc(e,t,this.segmentMetadataTrack_),a()}else this.logger_("skipping remove because no source updater or starting media info")},t.monitorBuffer_=function(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)},t.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)},t.fillBuffer_=function(){var e;this.sourceUpdater_.updating()||(e=this.chooseNextRequest_())&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))},t.isEndOfStream_=function(e,t,i){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===i&&(i=this.partIndex),!t||!this.mediaSource_)return!1;var s="number"==typeof e&&t.segments[e];e=e+1===t.segments.length,s=!s||!s.parts||i+1===s.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&e&&s},t.chooseNextRequest_=function(){var e=this.buffered_(),t=Go(e)||0,i=Yo(e,this.currentTime_()),s=!this.hasPlayed_()&&1<=i,n=i>=this.goalBufferLength_();e=this.playlist_.segments;if(!e.length||s||n)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var r;s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};s.isSyncRequest?s.mediaIndex=function(e,t,i){t=t||[];for(var s=[],n=0,r=0;r<t.length;r++){var a=t[r];if(e===a.timeline&&(s.push(r),i<(n+=a.duration)))return r}return 0===s.length?0:s[s.length-1]}(this.currentTimeline_,e,t):null!==this.mediaIndex?(n=e[this.mediaIndex],r="number"==typeof this.partIndex?this.partIndex:-1,s.startOfSegment=n.end||t,n.parts&&n.parts[r+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=r+1):s.mediaIndex=this.mediaIndex+1):(r=(o=_c.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,a=o.startTime,o=o.partIndex,s.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),s.mediaIndex=r,s.startOfSegment=a,s.partIndex=o);var a=e[s.mediaIndex],o=a&&"number"==typeof s.partIndex&&a.parts&&a.parts[s.partIndex];return!a||"number"==typeof s.partIndex&&!o?null:("number"!=typeof s.partIndex&&a.parts&&(s.partIndex=0,o=a.parts[0]),i||!o||o.independent||(0===s.partIndex?(o=(i=e[s.mediaIndex-1]).parts&&i.parts.length&&i.parts[i.parts.length-1])&&o.independent&&(--s.mediaIndex,s.partIndex=i.parts.length-1,s.independent="previous segment"):a.parts[s.partIndex-1].independent&&(--s.partIndex,s.independent="previous part")),a=this.mediaSource_&&"ended"===this.mediaSource_.readyState,s.mediaIndex>=e.length-1&&a&&!this.seeking_()?null:this.generateSegmentInfo_(s))},t.generateSegmentInfo_=function(e){var t=e.independent,i=e.playlist,s=e.mediaIndex,n=e.startOfSegment,r=e.isSyncRequest,a=e.partIndex,o=e.forceTimestampOffset,l=e.getMediaInfoForTime,c=i.segments[s];e="number"==typeof a&&c.parts[a],t={requestId:"segment-loader-"+Math.random(),uri:e&&e.resolvedUri||c.resolvedUri,mediaIndex:s,partIndex:e?a:null,isSyncRequest:r,startOfSegment:n,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:e&&e.duration||c.duration,segment:c,part:e,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},o="undefined"!=typeof o?o:this.isPendingTimestampOffset_;return t.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:n,buffered:this.buffered_(),overrideCheck:o}),o=Go(this.sourceUpdater_.audioBuffered()),"number"==typeof o&&(t.audioAppendStart=o-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(t.gopsToAlignWith=function(e,t,i){if("undefined"==typeof t||null===t||!e.length)return[];for(var s=Math.ceil((t-i+3)*vc),n=0;n<e.length&&!(e[n].pts>s);n++);return e.slice(n)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),t},t.timestampOffsetForSegment_=function(e){return i=(t=e).segmentTimeline,s=t.currentTimeline,n=t.startOfSegment,e=t.buffered,t.overrideCheck||i!==s?i<s||!e.length?n:e.end(e.length-1):null;var t,i,s,n},t.earlyAbortWhenNeeded_=function(e){var t,i,s,n,r,a,o,l,c,u,h,d,p;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3||(t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,p=_c.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),i=this.buffered_(),s=t,void 0===(e=this.vhs_.tech_.playbackRate())&&(e=1),p<=(e=((i.length?i.end(i.length-1):0)-s)/e-1)||(n={master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:e,currentTimeline:this.currentTimeline_,syncController:this.syncController_},r=n.master,a=n.currentTime,o=n.bandwidth,l=n.duration,c=n.segmentDuration,u=n.timeUntilRebuffer,h=n.currentTimeline,d=n.syncController,r=(n=(r=(r=(n=r.playlists.filter(function(e){return!_c.isIncompatible(e)})).filter(_c.isEnabled)).length?r:n.filter(function(e){return!_c.isDisabled(e)})).filter(_c.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=d.getSyncPoint(e,l,h,a)?1:2;return{playlist:e,rebufferingImpact:_c.estimateSegmentRequestTime(c,o,e)*t-u}})).filter(function(e){return e.rebufferingImpact<=0}),ac(r,function(e,t){return oc(t.playlist,e.playlist)}),(n=r.length?r[0]:(ac(n,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),n[0]||null))&&(p=p-e-n.rebufferingImpact,!n.playlist||n.playlist.uri===this.playlist_.uri||p<(e<=wc?1:.5)||(this.bandwidth=n.playlist.attributes.BANDWIDTH*N.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))))))},t.handleAbort_=function(e){this.logger_("Aborting "+dc(e)),this.mediaRequestsAborted+=1},t.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},t.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var i=Object.keys(e).sort(),s=Object.keys(t).sort();if(i.length!==s.length)return!1;for(var n=0;n<i.length;n++){var r=i[n];if(r!==s[n])return!1;if(e[r]!==t[r])return!1}return!0}(this.currentMediaInfo_,t=t||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},t.handleTimingInfo_=function(e,t,i,s){var n;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((n=this.pendingSegment_)[e=pc(t)]=n[e]||{},n[e][i]=s,this.logger_("timinginfo: "+t+" - "+i+" - "+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},t.handleCaptions_=function(e,t){var g,y,v=this;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(0!==t.length?this.pendingSegment_.hasAppendedData_?(g=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),y={},t.forEach(function(e){y[e.stream]=y[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=y[e.stream];t.startTime=Math.min(t.startTime,e.startTime+g),t.endTime=Math.max(t.endTime,e.endTime+g),t.captions.push(e)}),Object.keys(y).forEach(function(e){var t,i,s,n,r,a,o,l,c,u,h=y[e],d=h.startTime,p=h.endTime,m=h.captions,f=v.inbandTextTracks_;v.logger_("adding cues from "+d+" -> "+p+" for "+e),t=f,i=v.vhs_.tech_,t[s=e]||(i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(n=s)&&(n="SERVICE"+s.split("_")[1]),(o=i.textTracks().getTrackById(n))?t[s]=o:(a=r=s,h=!1,(o=(i.options_.vhs&&i.options_.vhs.captionServices||{})[n])&&(r=o.label,a=o.language,h=o.default),t[s]=i.addRemoteTextTrack({kind:"captions",id:n,default:h,label:r,language:a},!1).track)),uc(d,p,f[e]),c=(m={captionArray:m,inbandTextTracks:f,timestampOffset:g}).inbandTextTracks,f=m.captionArray,u=m.timestampOffset,f&&(l=window.WebKitDataCue||window.VTTCue,f.forEach(function(e){var t=e.stream;c[t].addCue(new l(e.startTime+u,e.endTime+u,e.text))}))}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t)):this.logger_("SegmentLoader received no captions from a caption event"))},t.handleId3_=function(e,t,i){var s,n,r,a;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?(s=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n=this.inbandTextTracks_,r=i,a=this.vhs_.tech_,n.metadataTrack_||(n.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,n.metadataTrack_.inBandMetadataTrackDispatchType=r),cc({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:s,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i)))},t.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},t.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(e){return e()})},t.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(e){return e()})},t.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!mc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},t.getCurrentMediaInfo_=function(e){return(e=void 0===e?this.pendingSegment_:e)&&e.trackInfo||this.currentMediaInfo_},t.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},t.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var i=t.hasAudio,s=t.hasVideo;t=t.isMuxed;return!(s&&!e.videoTimingInfo)&&!(i&&!this.audioDisabled_&&!t&&!e.audioTimingInfo)&&!mc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},t.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i,s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4?(this.trigger("fmp4"),s.timingInfo.start=s[pc(t.type)].start):(i=this.getCurrentMediaInfo_(),(i="main"===this.loaderType_&&i&&i.hasVideo)&&(n=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:n,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})),this.updateAppendInitSegmentStatus(s,t.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:"main"===this.loaderType_});var n=this.chooseNextRequest_();if(n.mediaIndex!==s.mediaIndex||n.partIndex!==s.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},t.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},t.getInitSegmentAndUpdateState_=function(e){var t=e.type,i=e.initSegment,s=e.map,n=e.playlist;if(s){if(e=Pl(s),this.activeInitSegmentId_===e)return null;i=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=e}return i&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=n,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,i):null},t.handleQuotaExceededError_=function(e,t){var i=this,s=e.segmentInfo,n=e.type,r=e.bytes,a=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();1<a.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+qo(a).join(", ")),1<o.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+qo(o).join(", "));var l=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0,u=o.length?o.start(0):0;e=o.length?o.end(o.length-1):0;if(c-l<=1&&e-u<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+r.byteLength+", audio buffer: "+qo(a).join(", ")+", video buffer: "+qo(o).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:s,type:n,bytes:r})),r=this.currentTime_()-1,this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+r),this.remove(0,r,function(){i.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=window.setTimeout(function(){i.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),i.quotaExceededErrorRetryTimeout_=null,i.processCallQueue_()},1e3)},!0)},t.handleAppendError_=function(e,t){var i=e.segmentInfo,s=e.type;e=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(s+" append of "+e.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:i,type:s,bytes:e}))},t.appendToSourceBuffer_=function(e){var t,i,s=e.segmentInfo,n=e.type,r=e.initSegment,a=e.data,o=e.bytes;o||(e=[a],a=a.byteLength,r&&(e.unshift(r),a+=r.byteLength),i=0,(e={bytes:a,segments:e}).bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach(function(e){t.set(e,i),i+=e.byteLength})),o=t),this.sourceUpdater_.appendBuffer({segmentInfo:s,type:n,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:s,type:n,bytes:o}))},t.handleSegmentTimingInfo_=function(e,t,i){this.pendingSegment_&&t===this.pendingSegment_.requestId&&((t=this.pendingSegment_.segment)[e+="TimingInfo"]||(t[e]={}),t[e].transmuxerPrependedSeconds=i.prependedContentDuration||0,t[e].transmuxedPresentationStart=i.start.presentation,t[e].transmuxedDecodeStart=i.start.decode,t[e].transmuxedPresentationEnd=i.end.presentation,t[e].transmuxedDecodeEnd=i.end.decode,t[e].baseMediaDecodeTime=i.baseMediaDecodeTime)},t.appendData_=function(e,t){var i=t.type,s=t.data;s&&s.byteLength&&("audio"===i&&this.audioDisabled_||(t=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:t,data:s})))},t.loadSegment_=function(t){var i=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(function(){var e=K({},t,{forceTimestampOffset:!0});K(t,i.generateSegmentInfo_(e)),i.isPendingTimestampOffset_=!1,i.updateTransmuxerAndRequestSegment_(t)})},t.updateTransmuxerAndRequestSegment_=function(s){var n=this;this.shouldUpdateTransmuxerTimestampOffset_(s.timestampOffset)&&(this.gopBuffer_.length=0,s.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:s.timestampOffset}));var e=this.createSimplifiedSegmentObj_(s),t=this.isEndOfStream_(s.mediaIndex,s.playlist,s.partIndex),i=null!==this.mediaIndex,r=s.timeline!==this.currentTimeline_&&0<s.timeline;r=t||i&&r;this.logger_("Requesting "+dc(s)),e.map&&!e.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),s.abortRequests=Jl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,abortFn:this.handleAbort_.bind(this,s),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",s.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",s.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:r,endedTimelineFn:function(){n.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(e){var t=e.message,i=e.level;e=e.stream;n.logger_(dc(s)+" logged from transmuxer stream "+e+" as a "+i+": "+t)}})},t.trimBackBuffer_=function(e){var t,i,s,n=(t=this.seekable_(),i=this.currentTime_(),s=this.playlist_.targetDuration||10,n=i-N.BACK_BUFFER_LENGTH,t.length&&(n=Math.max(n,t.start(0))),Math.min(i-s,n));0<n&&this.remove(0,n)},t.createSimplifiedSegmentObj_=function(e){var t=e.segment,i=e.part,s={resolvedUri:(i||t).resolvedUri,byterange:(i||t).byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part};i=e.playlist.segments[e.mediaIndex-1];return i&&i.timeline===t.timeline&&(i.videoTimingInfo?s.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(s.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key&&(e=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),s.key=this.segmentKey(t.key),s.key.iv=e),t.map&&(s.map=this.initSegmentForMap(t.map)),s},t.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},t.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},t.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},t.segmentRequestFinished_=function(e,t,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Bc?void 0:(this.pause(),e.code===Mc?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));e=this.pendingSegment_,this.saveBandwidthRelatedStats_(e.duration,t.stats),e.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var s=t[0].pts,n=0;n<e.length&&!(e[n].pts>=s);n++);return e.slice(0,n).concat(t)}(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(e)}},t.setTimeMapping_=function(e){e=this.syncController_.mappingForTimeline(e),null!==e&&(this.timeMapping_=e)},t.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},t.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},t.trueSegmentStart_=function(e){var t=e.currentStart,i=e.playlist,s=e.mediaIndex,n=e.firstVideoFrameTimeForData,r=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,o=e.videoTimingInfo;e=e.audioTimingInfo;return"undefined"!=typeof t?t:a?(i=i.segments[s-1],0!==s&&i&&"undefined"!=typeof i.start&&i.end===n+r?o.start:n):e.start},t.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var i=t.hasAudio,s=t.hasVideo;t=t.isMuxed,s="main"===this.loaderType_&&s,t=!this.audioDisabled_&&i&&!t;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);s&&e.waitingOnAppends++,t&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),t&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},t.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},t.checkForIllegalMediaSwitch=function(e){var t,i;t=this.loaderType_,i=this.getCurrentMediaInfo_(),e=e,e="main"===t&&i&&e?e.hasAudio||e.hasVideo?i.hasVideo&&!e.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&e.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null;return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},t.updateSourceBufferTimestampOffset_=function(e){var t;null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_||(t=!1,e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset"))},t.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,i=e.audioTimingInfo;e=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i&&"number"==typeof i.transmuxedDecodeStart?i.transmuxedDecodeStart:e.start:e.start},t.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_();t="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)},t.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=gc(e,this.sourceType_);if(t&&("warn"===t.severity?x.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+dc(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var i=e.segment;t=e.part,i=i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration,t=t&&t.end&&this.currentTime_()-t.end>3*e.playlist.partTargetDuration;if(i||t)return this.logger_("bad "+(i?"segment":"part")+" "+dc(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+dc(e))},t.recordThroughput_=function(e){var t,i;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60):(t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/i*8*1e3),this.throughput.rate+=(i-t)/++this.throughput.count)},t.addSegmentMetadataCue_=function(e){var t,i,s,n;this.segmentMetadataTrack_&&(i=(t=e.segment).start,n=t.end,hc(i)&&hc(n)&&(uc(i,n,this.segmentMetadataTrack_),s=window.WebKitDataCue||window.VTTCue,e={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},(n=new s(i,n,JSON.stringify(e))).value=e,this.segmentMetadataTrack_.addCue(n)))},e}(x.EventTarget));function Uc(){}function jc(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function Vc(e,t){var i=t[e+"Buffer"];return i&&i.updating||t.queuePending[e]}function zc(e,t){if(0!==t.queue.length){var i=0,s=t.queue[i];if("mediaSource"!==s.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!Vc(e,t)){if(s.type!==e){if(null===(i=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];if("mediaSource"===s.type)return null;if(s.type===e)return i}return null}(e,t.queue)))return;s=t.queue[i]}t.queue.splice(i,1),(t.queuePending[e]=s).action(e,t),s.doneFn||(t.queuePending[e]=null,zc(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),s.action(t),s.doneFn&&s.doneFn(),zc("audio",t),zc("video",t))}}function Wc(e,t){var i=t[e+"Buffer"],s=jc(e);i&&(i.removeEventListener("updateend",t["on"+s+"UpdateEnd_"]),i.removeEventListener("error",t["on"+s+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)}function Hc(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)}function qc(e){var t=e.type,i=e.sourceUpdater,s=e.action,n=e.doneFn;e=e.name;i.queue.push({type:t,action:s,doneFn:n,name:e}),zc(t,i)}function Gc(i,s){return function(e){var t;s.queuePending[i]&&(t=s.queuePending[i].doneFn,s.queuePending[i]=null,t&&t(s[i+"Error_"])),zc(i,s)}}function Yc(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}function Qc(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)}function Kc(e,t){(t.activePlaylistLoader=e).load()}function Xc(e,t){for(var i=0;i<e.length;i++){if(cl(t,e[i]))return!0;if(e[i].playlists&&Xc(e[i].playlists,t))return!0}return!1}function Zc(r){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){_u[e](e,r)});var e,a=r.mediaTypes,t=r.masterPlaylistLoader,i=r.tech,s=r.vhs,n=r.segmentLoaders,o=n.AUDIO,l=n.main;function c(){a.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})}for(e in["AUDIO","SUBTITLES"].forEach(function(e){var l,c,o,u,t,i,h,d,s,n;a[e].activeGroup=(l=e,c=r,function(t){var e=c.masterPlaylistLoader,i=c.mediaTypes[l].groups,s=e.media();if(!s)return null;var n=null;s.attributes[l]&&(n=i[s.attributes[l]]);var r=Object.keys(i);if(!n)if("AUDIO"===l&&1<r.length&&hl(c.master))for(var a=0;a<r.length;a++){var o=i[r[a]];if(Xc(o,s)){n=o;break}}else i.main?n=i.main:1===r.length&&(n=i[r[0]]);return"undefined"==typeof t?n:null!==t&&n&&n.filter(function(e){return e.id===t.id})[0]||null}),a[e].activeTrack=Cu[e](e,r),a[e].onGroupChanged=(o=e,u=r,function(){var e=u.segmentLoaders,t=e[o],i=e.main,s=u.mediaTypes[o],n=s.activeTrack(),r=s.getActiveGroup(),a=s.activePlaylistLoader;e=s.lastGroup_;r&&e&&r.id===e.id||(s.lastGroup_=r,s.lastTrack_=n,Qc(t,s),r&&!r.isMasterPlaylist&&(r.playlistLoader?(t.resyncLoader(),Kc(r.playlistLoader,s)):a&&i.resetEverything()))}),a[e].onGroupChanging=(t=e,i=r,function(){var e=i.segmentLoaders[t];i.mediaTypes[t].lastGroup_=null,e.abort(),e.pause()}),a[e].onTrackChanged=(h=e,d=r,function(){var e=d.masterPlaylistLoader,t=d.segmentLoaders,i=t[h],s=t.main,n=d.mediaTypes[h],r=n.activeTrack(),a=n.getActiveGroup(),o=n.activePlaylistLoader,l=n.lastTrack_;if((!l||!r||l.id!==r.id)&&(n.lastGroup_=a,n.lastTrack_=r,Qc(i,n),a)){if(a.isMasterPlaylist){if(!r||!l||r.id===l.id)return;var c=d.vhs.masterPlaylistController_;t=c.selectPlaylist();return c.media()===t?void 0:(n.logger_("track change. Switching master audio from "+l.id+" to "+r.id),e.pause(),s.resetEverything(),void c.fastQualityChange_(t))}if("AUDIO"===h){if(!a.playlistLoader)return s.setAudio(!0),void s.resetEverything();i.setAudio(!0),s.setAudio(!1)}o!==a.playlistLoader&&(i.track&&i.track(r),i.resetEverything()),Kc(a.playlistLoader,n)}}),a[e].getActiveGroup=(s=e,n=r.mediaTypes,function(){var e=n[s].activeTrack();return e?n[s].activeGroup(e):null})}),(n=a.AUDIO.activeGroup())&&(n=(n.filter(function(e){return e.default})[0]||n[0]).id,a.AUDIO.tracks[n].enabled=!0,a.AUDIO.onGroupChanged(),a.AUDIO.onTrackChanged(),a.AUDIO.getActiveGroup().playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)),t.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return a[e].onGroupChanged()})}),t.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(e){return a[e].onGroupChanging()})}),i.audioTracks().addEventListener("change",c),i.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),s.on("dispose",function(){i.audioTracks().removeEventListener("change",c),i.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),a.AUDIO.tracks)i.audioTracks().addTrack(a.AUDIO.tracks[e])}function Jc(e,t,i){var s,n,r,a,o=e.masterPlaylistController_,l=o[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(o);t.attributes&&(s=t.attributes.RESOLUTION,this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=t.attributes.BANDWIDTH),this.codecs=sc(o.master(),t),this.playlist=t,this.id=i,this.enabled=(n=e.playlists,r=t.id,a=l,function(e){var t=n.master.playlists[r],i=rl(t),s=al(t);return"undefined"==typeof e?s:(e?delete t.disabled:t.disabled=!0,e===s||i||(a(),e?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),e)})}function eu(t,e){var i=0,s=0,n=x.mergeOptions(Pu,e);function r(){s&&t.currentTime(s)}function a(e){null!=e&&(s=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",r),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())}function o(){return Date.now()-i<1e3*n.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):n.getSource&&"function"==typeof n.getSource?(i=Date.now(),n.getSource.call(t,a)):void x.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}function l(){t.off("loadedmetadata",r),t.off("error",o),t.off("dispose",l)}t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}),t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=function(e){l(),eu(t,e)}}var tu,iu=["video","audio"],su=function(s,n,r){return function(e,t){var i=t[e+"Buffer"];if(Hc(t.mediaSource,i)){t.logger_("Appending segment "+n.mediaIndex+"'s "+s.length+" bytes to "+e+"Buffer");try{i.appendBuffer(s)}catch(i){t.logger_("Error with code "+i.code+" "+(22===i.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+n.mediaIndex+" to "+e+"Buffer"),t.queuePending[e]=null,r(i)}}}},nu=function(s,n){return function(e,t){var i=t[e+"Buffer"];if(Hc(t.mediaSource,i)){t.logger_("Removing "+s+" to "+n+" from "+e+"Buffer");try{i.remove(s,n)}catch(i){t.logger_("Remove "+s+" to "+n+" from "+e+"Buffer failed")}}}},ru=function(s){return function(e,t){var i=t[e+"Buffer"];Hc(t.mediaSource,i)&&(t.logger_("Setting "+e+"timestampOffset to "+s),i.timestampOffset=s)}},au=function(i){return function(e,t){i()}},ou=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(e){x.log.warn("Failed to call media source endOfStream",e)}}}},lu=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(e){x.log.warn("Failed to set media source duration",e)}}},cu=function(){return function(e,t){if("open"===t.mediaSource.readyState){var i=t[e+"Buffer"];if(Hc(t.mediaSource,i)){t.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){x.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},uu=function(s,n){return function(e){var t=jc(s),i=Tn(n);e.logger_("Adding "+s+"Buffer with codec "+n+" to mediaSource"),i=e.mediaSource.addSourceBuffer(i),i.addEventListener("updateend",e["on"+t+"UpdateEnd_"]),i.addEventListener("error",e["on"+t+"Error_"]),e.codecs[s]=n,e[s+"Buffer"]=i}},hu=function(i){return function(e){var t=e[i+"Buffer"];if(Wc(i,e),Hc(e.mediaSource,t)){e.logger_("Removing "+i+"Buffer with codec "+e.codecs[i]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(t)}catch(e){x.log.warn("Failed to removeSourceBuffer "+i+"Buffer",e)}}}},du=function(n){return function(e,t){var i=t[e+"Buffer"],s=Tn(n);Hc(t.mediaSource,i)&&t.codecs[e]!==n&&(t.logger_("changing "+e+"Buffer codec from "+t.codecs[e]+" to "+n),i.changeType(s),t.codecs[e]=n)}},pu=function(i){function e(e){var t=i.call(this)||this;return t.mediaSource=e,t.sourceopenListener_=function(){return zc("mediaSource",b(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=jo("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Gc("video",b(t)),t.onAudioUpdateEnd_=Gc("audio",b(t)),t.onVideoError_=function(e){t.videoError_=e},t.onAudioError_=function(e){t.audioError_=e},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}w(e,i);var t=e.prototype;return t.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},t.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},t.hasInitializedAnyEme=function(){return this.initializedEme_},t.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},t.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},t.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},t.addSourceBuffer=function(e,t){qc({type:"mediaSource",sourceUpdater:this,action:uu(e,t),name:"addSourceBuffer"})},t.abort=function(e){qc({type:e,sourceUpdater:this,action:cu(e),name:"abort"})},t.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?qc({type:"mediaSource",sourceUpdater:this,action:hu(e),name:"removeSourceBuffer"}):x.log.error("removeSourceBuffer is not supported!")},t.canRemoveSourceBuffer=function(){return!x.browser.IE_VERSION&&!x.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer},e.canChangeType=function(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType},t.canChangeType=function(){return this.constructor.canChangeType()},t.changeType=function(e,t){this.canChangeType()?qc({type:e,sourceUpdater:this,action:du(t),name:"changeType"}):x.log.error("changeType is not supported!")},t.addOrChangeSourceBuffers=function(i){var s=this;if(!i||"object"!=typeof i||0===Object.keys(i).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(function(e){var t=i[e];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(e,t);s.canChangeType()&&s.changeType(e,t)})},t.appendBuffer=function(e,t){var i=this,s=e.segmentInfo,n=e.type,r=e.bytes;if(this.processedAppend_=!0,"audio"===n&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+r.length+" until video append");qc({type:n,sourceUpdater:this,action:su(r,s||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===n&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(n=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+n.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,n.forEach(function(e){i.appendBuffer.apply(i,e)})))},t.audioBuffered=function(){return Hc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||x.createTimeRange()},t.videoBuffered=function(){return Hc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||x.createTimeRange()},t.buffered=function(){var e=Hc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Hc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var i=null,s=null,n=0,r=[],a=[];if(!(e&&e.length&&t&&t.length))return x.createTimeRange();for(var o=e.length;o--;)r.push({time:e.start(o),type:"start"}),r.push({time:e.end(o),type:"end"});for(o=t.length;o--;)r.push({time:t.start(o),type:"start"}),r.push({time:t.end(o),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),o=0;o<r.length;o++)"start"===r[o].type?2===++n&&(i=r[o].time):"end"===r[o].type&&1===--n&&(s=r[o].time),null!==i&&null!==s&&(a.push([i,s]),s=i=null);return x.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},t.setDuration=function(e,t){void 0===t&&(t=Uc),qc({type:"mediaSource",sourceUpdater:this,action:lu(e),name:"duration",doneFn:t})},t.endOfStream=function(e,t){void 0===t&&(t=Uc),qc({type:"mediaSource",sourceUpdater:this,action:ou(e="string"!=typeof(e=void 0===e?null:e)?void 0:e),name:"endOfStream",doneFn:t})},t.removeAudio=function(e,t,i){void 0===i&&(i=Uc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?qc({type:"audio",sourceUpdater:this,action:nu(e,t),doneFn:i,name:"remove"}):i()},t.removeVideo=function(e,t,i){void 0===i&&(i=Uc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?qc({type:"video",sourceUpdater:this,action:nu(e,t),doneFn:i,name:"remove"}):i()},t.updating=function(){return!(!Vc("audio",this)&&!Vc("video",this))},t.audioTimestampOffset=function(e){return"undefined"!=typeof e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(qc({type:"audio",sourceUpdater:this,action:ru(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},t.videoTimestampOffset=function(e){return"undefined"!=typeof e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(qc({type:"video",sourceUpdater:this,action:ru(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},t.audioQueueCallback=function(e){this.audioBuffer&&qc({type:"audio",sourceUpdater:this,action:au(e),name:"callback"})},t.videoQueueCallback=function(e){this.videoBuffer&&qc({type:"video",sourceUpdater:this,action:au(e),name:"callback"})},t.dispose=function(){var t=this;this.trigger("dispose"),iu.forEach(function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"](function(){return Wc(e,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(x.EventTarget),mu=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),fu=function(i){function e(e,t){return(t=i.call(this,e,t=void 0===t?{}:t)||this).mediaSource_=null,t.subtitlesTrack_=null,t.loaderType_="subtitle",t.featuresNativeTextTracks_=e.featuresNativeTextTracks,t.shouldSaveSegmentTimingInfo_=!1,t}w(e,i);var t=e.prototype;return t.createTransmuxer_=function(){return null},t.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return x.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime;e=e[e.length-1].startTime;return x.createTimeRanges([[t,e]])},t.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Pl(e),s=this.initSegments_[i];return t&&!s&&e.bytes&&(t=mu.byteLength+e.bytes.byteLength,(t=new Uint8Array(t)).set(e.bytes),t.set(mu,e.bytes.byteLength),this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:t}),s||e},t.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},t.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},t.track=function(e){return"undefined"==typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},t.remove=function(e,t){uc(e,t,this.subtitlesTrack_)},t.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}},t.timestampOffsetForSegment_=function(){return null},t.chooseNextRequest_=function(){return this.skipEmptySegments_(i.prototype.chooseNextRequest_.call(this))},t.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},t.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},t.segmentRequestFinished_=function(e,t,i){var s=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Mc&&this.handleTimeout_(),e.code===Bc?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");var r=n.segment;if(r.map&&(r.map.bytes=t.map.bytes),n.bytes=t.bytes,"function"!=typeof window.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a=function(){s.subtitlesTrack_.tech_.off("vttjsloaded",o),s.stopForError({message:"Error loading vtt.js"})},o=function(){s.subtitlesTrack_.tech_.off("vttjserror",a),s.segmentRequestFinished_(e,t,i)};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",o),void this.subtitlesTrack_.tech_.one("vttjserror",a)}r.requested=!0;try{this.parseVTTCues_(n)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,n.cues.forEach(function(e){s.subtitlesTrack_.addCue(s.featuresNativeTextTracks_?new window.VTTCue(e.startTime,e.endTime,e.text):e)}),function(t){var e=t.cues;if(e)for(var i=0;i<e.length;i++){for(var s=[],n=0,r=0;r<e.length;r++)e[i].startTime===e[r].startTime&&e[i].endTime===e[r].endTime&&e[i].text===e[r].text&&1<++n&&s.push(e[r]);s.length&&s.forEach(function(e){return t.removeCue(e)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},t.handleData_=function(){},t.updateTimingInfoEnd_=function(){},t.parseVTTCues_=function(t){var e=!1;"function"==typeof window.TextDecoder?i=new window.TextDecoder("utf8"):(i=window.WebVTT.StringDecoder(),e=!0);var i=new window.WebVTT.Parser(window,window.vttjs,i);t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){t.timestampmap=e},i.onparsingerror=function(e){x.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map&&(s=t.segment.map.bytes,e&&(s=Yc(s)),i.parse(s));var s=t.bytes;e&&(s=Yc(s)),i.parse(s),i.flush()},t.updateTimeMapping_=function(e,t,i){var s,n,r=e.segment;t&&(e.cues.length?(n=e.timestampmap,s=n.MPEGTS/vc-n.LOCAL+t.mapping,e.cues.forEach(function(e){e.startTime+=s,e.endTime+=s}),i.syncInfo||(n=e.cues[0].startTime,t=e.cues[e.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(n,t-r.duration)})):r.empty=!0)},e}($c),gu=[{name:"VOD",run:function(e,t,i,s,n){return i===1/0?null:{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(e,t,i,s,n){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var r=null,a=null,o=Ko(t);n=n||0;for(var l=0;l<o.length;l++){var c=o[t.endList||0===n?l:o.length-(l+1)],u=c.segment,h=e.timelineToDatetimeMappings[u.timeline];if(h&&u.dateTimeObject){var d=u.dateTimeObject.getTime()/1e3+h;if(u.parts&&"number"==typeof c.partIndex)for(var p=0;p<c.partIndex;p++)d+=u.parts[p].duration;if(h=Math.abs(n-d),null!==a&&(0===h||a<h))break;a=h,r={time:d,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return r}},{name:"Segment",run:function(e,t,i,s,n){var r=null,a=null;n=n||0;for(var o=Ko(t),l=0;l<o.length;l++){var c=o[t.endList||0===n?l:o.length-(l+1)],u=c.segment,h=c.part&&c.part.start||u&&u.start;if(u.timeline===s&&"undefined"!=typeof h){if(u=Math.abs(n-h),null!==a&&a<u)break;(!r||null===a||u<=a)&&(a=u,r={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return r}},{name:"Discontinuity",run:function(e,t,i,s,n){var r=null;if(n=n||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],c=t.discontinuitySequence+o+1,u=e.discontinuities[c];if(u){if(c=Math.abs(n-u.time),null!==a&&a<c)break;(!r||null===a||c<=a)&&(a=c,r={time:u.time,segmentIndex:l,partIndex:null})}}return r}},{name:"Playlist",run:function(e,t,i,s,n){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],yu=function(i){function e(e){var t=i.call(this)||this;return t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=jo("SyncController"),t}w(e,i);var t=e.prototype;return t.getSyncPoint=function(e,t,i,s){return i=this.runStrategies_(e,t,i,s),i.length?this.selectSyncPoint_(i,{key:"time",value:s}):null},t.getExpiredTime=function(e,t){return e&&e.segments?(t=this.runStrategies_(e,t,e.discontinuitySequence,0),t.length?(t=this.selectSyncPoint_(t,{key:"segmentIndex",value:0}),0<t.segmentIndex&&(t.time*=-1),Math.abs(t.time+il({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.segmentIndex,endIndex:0}))):null):null},t.runStrategies_=function(e,t,i,s){for(var n=[],r=0;r<gu.length;r++){var a=gu[r],o=a.run(this,e,t,i,s);o&&(o.strategy=a.name,n.push({strategy:a.name,syncPoint:o}))}return n},t.selectSyncPoint_=function(e,t){for(var i=e[0].syncPoint,s=Math.abs(e[0].syncPoint[t.key]-t.value),n=e[0].strategy,r=1;r<e.length;r++){var a=Math.abs(e[r].syncPoint[t.key]-t.value);a<s&&(s=a,i=e[r].syncPoint,n=e[r].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+n+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+("number"==typeof i.partIndex?",partIndex:"+i.partIndex:"")+"]"),i},t.saveExpiredSegmentInfo=function(e,t){var i=t.mediaSequence-e.mediaSequence;if(86400<i)x.log.warn("Not saving expired segment info. Media sequence gap "+i+" is too large.");else for(var s=i-1;0<=s;s--){var n=e.segments[s];if(n&&"undefined"!=typeof n.start){t.syncInfo={mediaSequence:e.mediaSequence+s,time:n.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},t.setDateTimeMappingForStart=function(e){var t;this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(e=(t=e.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[t.timeline]=-e)},t.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,i=e.shouldSaveTimelineMapping,s=this.calculateSegmentTimeMapping_(t,t.timingInfo,i);e=t.segment;s&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:e.start})),t=e.dateTimeObject,e.discontinuity&&i&&t&&(this.timelineToDatetimeMappings[e.timeline]=-t.getTime()/1e3)},t.timestampOffsetForTimeline=function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time},t.mappingForTimeline=function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping},t.calculateSegmentTimeMapping_=function(e,t,i){var s,n,r=e.segment,a=e.part,o=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+o.time+"] [mapping: "+o.mapping+"]")),s=e.startOfSegment,n=t.end+o.mapping;else{if(!o)return!1;s=t.start+o.mapping,n=t.end+o.mapping}return a&&(a.start=s,a.end=n),(!r.start||s<r.start)&&(r.start=s),r.end=n,!0},t.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=0;s<t.discontinuityStarts.length;s++){var n,r=t.discontinuityStarts[s],a=t.discontinuitySequence+s+1,o=r-e.mediaIndex,l=Math.abs(o);(!this.discontinuities[a]||this.discontinuities[a].accuracy>l)&&(n=void 0,n=o<0?i.start-il({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):i.end+il({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[a]={time:n,accuracy:l})}},t.dispose=function(){this.trigger("dispose"),this.off()},e}(x.EventTarget),vu=function(t){function e(){var e=t.call(this)||this;return e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}w(e,t);var i=e.prototype;return i.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(e){var t=e.type,i=e.from;e=e.to;return"number"==typeof i&&"number"==typeof e&&(this.pendingTimelineChanges_[t]={type:t,from:i,to:e},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},i.lastTimelineChange=function(e){var t=e.type,i=e.from;e=e.to;return"number"==typeof i&&"number"==typeof e&&(this.lastTimelineChanges_[t]={type:t,from:i,to:e},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(x.EventTarget),bu=i(pe(r(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof Bu?Bu:"undefined"!=typeof self?self:{};function t(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&i.path)}},i.exports),i.exports}var i=t(function(e){function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}e.exports=function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0}),s=t(function(i){function s(e,t){return i.exports=s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i.exports.default=i.exports,i.exports.__esModule=!0,s(e,t)}i.exports=s,i.exports.default=i.exports,i.exports.__esModule=!0}),n=t(function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}),r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,s=0;s<i;++s)t[s].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),r=t.length,a=0;a<r;++a)t[a].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),u=null,f=function(){function e(e){var t,i,s;u=u||function(){for(var e,t,i,s,n,r,a,o=[[[],[],[],[],[]],[[],[],[],[],[]]],l=o[0],c=o[1],u=l[4],h=c[4],d=[],p=[],m=0;m<256;m++)p[(d[m]=m<<1^283*(m>>7))^m]=m;for(e=t=0;!u[e];e^=i||1,t=p[t]||1)for(a=16843009*d[s=d[i=d[h[u[e]=n=(n=t^t<<1^t<<2^t<<3^t<<4)>>8^255&n^99]=e]]]^65537*s^257*i^16843008*e,r=257*d[n]^16843008*n,m=0;m<4;m++)l[m][e]=r=r<<24^r>>>8,c[m][n]=a=a<<24^a>>>8;for(m=0;m<5;m++)l[m]=l[m].slice(0),c[m]=c[m].slice(0);return o}(),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var n=this._tables[0][4],r=this._tables[1],a=e.length,o=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var l=e.slice(0),c=[];for(this._key=[l,c],t=a;t<4*a+28;t++)s=l[t-1],(t%a==0||8===a&&t%a==4)&&(s=n[s>>>24]<<24^n[s>>16&255]<<16^n[s>>8&255]<<8^n[255&s],t%a==0&&(s=s<<8^s>>>24^o<<24,o=o<<1^283*(o>>7))),l[t]=l[t-a]^s;for(i=0;t;i++,t--)s=l[3&i?t:t-4],c[i]=t<=4||i<4?s:r[0][n[s>>>24]]^r[1][n[s>>16&255]]^r[2][n[s>>8&255]]^r[3][n[255&s]]}return e.prototype.decrypt=function(e,t,i,s,n,r){for(var a,o,l,c=this._key[1],u=e^c[0],h=s^c[1],d=i^c[2],p=t^c[3],m=c.length/4-2,f=4,g=(t=this._tables[1],t[0]),y=t[1],v=t[2],b=t[3],w=t[4],S=0;S<m;S++)a=g[u>>>24]^y[h>>16&255]^v[d>>8&255]^b[255&p]^c[f],o=g[h>>>24]^y[d>>16&255]^v[p>>8&255]^b[255&u]^c[f+1],l=g[d>>>24]^y[p>>16&255]^v[u>>8&255]^b[255&h]^c[f+2],p=g[p>>>24]^y[u>>16&255]^v[h>>8&255]^b[255&d]^c[f+3],f+=4,u=a,h=o,d=l;for(S=0;S<4;S++)n[(3&-S)+r]=w[u>>>24]<<24^w[h>>16&255]<<16^w[d>>8&255]<<8^w[255&p]^c[f++],a=u,u=h,h=d,d=p,p=a},e}(),c=function(t){function e(){var e=t.call(this,r)||this;return e.jobs=[],e.delay=1,e.timeout_=null,e}n(e,t);var i=e.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(r),g=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},a=function(){function l(e,t,i,s){var n=l.STEP,r=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(r.subarray(o,o+n),t,i,a)),o=n;o<r.length;o+=n)i=new Uint32Array([g(r[o-4]),g(r[o-3]),g(r[o-2]),g(r[o-1])]),this.asyncStream_.push(this.decryptChunk_(r.subarray(o,o+n),t,i,a));this.asyncStream_.push(function(){var e;s(null,(e=a).subarray(0,e.byteLength-e[e.byteLength-1]))})}return l.prototype.decryptChunk_=function(t,i,s,n){return function(){var e=function(e,t,i){for(var s,n,r,a,o=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new f(Array.prototype.slice.call(t)),c=(e=new Uint8Array(e.byteLength),new Int32Array(e.buffer)),u=i[0],h=i[1],d=i[2],p=i[3],m=0;m<o.length;m+=4)s=g(o[m]),n=g(o[m+1]),r=g(o[m+2]),a=g(o[m+3]),l.decrypt(s,n,r,a,c,m),c[m]=g(c[m]^u),c[m+1]=g(c[m+1]^h),c[m+2]=g(c[m+2]^d),c[m+3]=g(c[m+3]^p),u=s,h=n,d=r,p=a;return e}(t,i,s);n.set(e,t.byteOffset)}},i(l,null,[{key:"STEP",get:function(){return 32e3}}]),l}();e="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},e=e.BigInt||Number;function o(s){var n={};return Object.keys(s).forEach(function(e){var t,i=s[e];t=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer)?n[e]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:n[e]=i}),n}e("0x1"),e("0x100"),e("0x10000"),e("0x1000000"),e("0x100000000"),e("0x10000000000"),e("0x1000000000000"),e("0x100000000000000"),e("0x10000000000000000"),self.onmessage=function(e){var i=e.data,t=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),s=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4);e=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new a(t,s,e,function(e,t){self.postMessage(o({source:i.source,decrypted:t}),[t.buffer])})}}))),wu={AUDIO:function(a,o){return function(){var e=o.segmentLoaders[a],t=o.mediaTypes[a],i=o.blacklistCurrentPlaylist;Qc(e,t);var s=t.activeTrack(),n=(e=t.activeGroup(),e=(e.filter(function(e){return e.default})[0]||e[0]).id,t.tracks[e]);if(s!==n){for(var r in x.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[r].enabled=t.tracks[r]===n;t.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(i,s){return function(){var e=s.segmentLoaders[i],t=s.mediaTypes[i];x.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Qc(e,t),e=t.activeTrack(),e&&(e.mode="disabled"),t.onTrackChanged()}}},Su={AUDIO:function(e,t,i){var s,n,r;t&&(s=i.tech,n=i.requestOptions,r=i.segmentLoaders[e],t.on("loadedmetadata",function(){var e=t.media();r.playlist(e,n),(!s.paused()||e.endList&&"none"!==s.preload())&&r.load()}),t.on("loadedplaylist",function(){r.playlist(t.media(),n),s.paused()||r.load()}),t.on("error",wu[e](e,i)))},SUBTITLES:function(e,t,i){var s=i.tech,n=i.requestOptions,r=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();r.playlist(e,n),r.track(a.activeTrack()),(!s.paused()||e.endList&&"none"!==s.preload())&&r.load()}),t.on("loadedplaylist",function(){r.playlist(t.media(),n),s.paused()||r.load()}),t.on("error",wu[e](e,i))}},_u={AUDIO:function(e,t){var i,s,n=t.vhs,r=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,h=c.tracks,d=c.logger_,p=t.masterPlaylistLoader,m=hl(p.master);for(i in l[e]&&0!==Object.keys(l[e]).length||(l[e]={main:{default:{default:!0}}},m&&(l[e].main.default.playlists=p.master.playlists)),l[e])for(var f in u[i]||(u[i]=[]),l[e][i]){var g=l[e][i][f],y=void 0;y=m?(d("AUDIO group '"+i+"' label '"+f+"' is a master playlist"),g.isMasterPlaylist=!0,null):"vhs-json"===r&&g.playlists?new xc(g.playlists[0],n,o):g.resolvedUri?new xc(g.resolvedUri,n,o):g.playlists&&"dash"===r?new Ac(g.playlists[0],n,o,p):null,g=x.mergeOptions({id:f,playlistLoader:y},g);Su[e](e,g.playlistLoader,t),u[i].push(g),"undefined"==typeof h[f]&&(g=new x.AudioTrack({id:f,kind:(s=void 0,s=(y=g).default?"main":"alternative",s=y.characteristics&&0<=y.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":s),enabled:!1,language:g.language,default:g.default,label:f}),h[f]=g)}a.on("error",wu[e](e,t))},SUBTITLES:function(e,t){var i,s=t.tech,n=t.vhs,r=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,h=c.tracks,d=t.masterPlaylistLoader;for(i in l[e])for(var p in u[i]||(u[i]=[]),l[e][i])if(!l[e][i][p].forced){var m=l[e][i][p],f=void 0;if("hls"===r)f=new xc(m.resolvedUri,n,o);else if("dash"===r){if(!m.playlists.filter(function(e){return e.excludeUntil!==1/0}).length)return;f=new Ac(m.playlists[0],n,o,d)}else"vhs-json"===r&&(f=new xc(m.playlists?m.playlists[0]:m.resolvedUri,n,o));m=x.mergeOptions({id:p,playlistLoader:f},m),Su[e](e,m.playlistLoader,t),u[i].push(m),"undefined"==typeof h[p]&&(m=s.addRemoteTextTrack({id:p,kind:"subtitles",default:m.default&&m.autoselect,language:m.language,label:p},!1).track,h[p]=m)}a.on("error",wu[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i,s=t.tech,n=t.master.mediaGroups,r=(t=t.mediaTypes[e],t.groups),a=t.tracks;for(i in n[e])for(var o in r[i]||(r[i]=[]),n[e][i]){var l,c,u=n[e][i][o];/^(?:CC|SERVICE)/.test(u.instreamId)&&(void 0===(c=(l=s.options_.vhs&&s.options_.vhs.captionServices||{})[(c={label:o,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect}).instreamId]?x.mergeOptions(c,l[c.instreamId]):c).default&&delete c.default,r[i].push(x.mergeOptions({id:o},u)),"undefined"==typeof a[o]&&(c=s.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track,a[o]=c))}}},Cu={AUDIO:function(i,s){return function(){var e,t=s.mediaTypes[i].tracks;for(e in t)if(t[e].enabled)return t[e];return null}},SUBTITLES:function(i,s){return function(){var e,t=s.mediaTypes[i].tracks;for(e in t)if("showing"===t[e].mode||"hidden"===t[e].mode)return t[e];return null}}},ku=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],xu=function(v){function e(e){var t=v.call(this)||this,i=e.src,s=e.handleManifestRedirects,n=e.withCredentials,r=e.tech,a=e.bandwidth,o=e.externVhs,l=e.useCueTags,c=e.blacklistDuration,u=e.enableLowInitialPlaylist,h=e.sourceType,d=e.cacheEncryptionKeys,p=e.experimentalBufferBasedABR,m=e.experimentalLeastPixelDiffSelector,f=e.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var g,y=e.maxPlaylistRetries;return null!==y&&"undefined"!=typeof y||(y=1/0),tu=o,t.experimentalBufferBasedABR=Boolean(p),t.experimentalLeastPixelDiffSelector=Boolean(m),t.withCredentials=n,t.tech_=r,t.vhs_=r.vhs,t.sourceType_=h,t.useCueTags_=l,t.blacklistDuration=c,t.maxPlaylistRetries=y,t.enableLowInitialPlaylist=u,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:n,handleManifestRedirects:s,maxPlaylistRetries:y,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=(g={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){g[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Uc,activeTrack:Uc,getActiveGroup:Uc,onGroupChanged:Uc,onTrackChanged:Uc,lastTrack_:null,logger_:jo("MediaGroups["+e+"]")}}),g),t.mediaSource=new window.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(b(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(b(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(b(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=x.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new yu(e),t.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new bu,t.sourceUpdater_=new pu(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new vu,d={vhs:t.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:f,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:a,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:e.experimentalExactManifestTimings},t.masterPlaylistLoader_=new("dash"===t.sourceType_?Ac:xc)(i,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new $c(x.mergeOptions(d,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new $c(x.mergeOptions(d,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new fu(x.mergeOptions(d,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks}),e),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),ku.forEach(function(e){t[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(b(t),e)}),t.logger_=jo("MPC"),t.triggeredFmp4Usage=!1,"none"===t.tech_.preload()?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1,e="none"===t.tech_.preload()?"play":"loadstart",t.tech_.one(e,function(){var e=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-e,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}w(e,v);var t=e.prototype;return t.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},t.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},t.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},t.timeToLoadedData_=function(){return this.timeToLoadedData__},t.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},t.switchMedia_=function(e,t,i){var s=this.media(),n=s&&(s.id||s.uri);s=e.id||e.uri;n&&n!==s&&(this.logger_("switch media "+n+" -> "+s+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,i)},t.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=window.setInterval(function(){return e.checkABR_()},250)},t.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)},t.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var i,s=e.mediaGroups.AUDIO,n=Object.keys(s);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)i=this.mediaTypes_.AUDIO.activeTrack();else{var r,a=s.main||n.length&&s[n[0]];for(r in a)if(a[r].default){i={label:r};break}}if(!i)return t;var o,l=[];for(o in s)if(s[o][i.label]){var c=s[o][i.label];if(c.playlists&&c.playlists.length)l.push.apply(l,c.playlists);else if(c.uri)l.push(c);else if(e.playlists.length)for(var u=0;u<e.playlists.length;u++){var h=e.playlists[u];h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===o&&l.push(h)}}return l.length?l:t},t.setupMasterPlaylistLoaderListeners_=function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;ll(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,e.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load()),Zc({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,vhs:i.vhs_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),e),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger("selectedinitialmedia"):i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){i.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){i.loadOnPlay_&&i.tech_.off("play",i.loadOnPlay_);var e,t=i.masterPlaylistLoader_.media();if(!t){if(i.excludeUnsupportedVariants_(),!(e=(e=i.enableLowInitialPlaylist?i.selectInitialPlaylist():e)||i.selectPlaylist())||!i.shouldSwitchToMedia_(e))return;if(i.initialMedia_=e,i.switchMedia_(i.initialMedia_,"initial"),"vhs-json"!==i.sourceType_||!i.initialMedia_.segments)return;t=i.initialMedia_}i.handleUpdatedMediaPlaylist(t)}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;ll(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=i.masterPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&i.stuckAtPlaylistEnd_(e)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},t.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},t.triggerPresenceUsage_=function(e,t){var i,s=e.mediaGroups||{},n=!0;e=Object.keys(s.AUDIO);for(i in s.AUDIO)for(var r in s.AUDIO[i])s.AUDIO[i][r].uri||(n=!1);n&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),tu.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),e.length&&1<Object.keys(s.AUDIO[e[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},t.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),s=this.bufferLowWaterLine(),n=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,i=e.buffered,s=e.currentTime,n=e.nextPlaylist,r=e.bufferLowWaterLine,a=e.bufferHighWaterLine,o=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!n)return x.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(t&&t.id||"null")+" -> "+n.id;return t?n.id!==t.id&&(e=Boolean(zo(i,s).length),t.endList?(i=Yo(i,s),s=l?N.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:N.MAX_BUFFER_LOW_WATER_LINE,o<s?(c(u+" as duration < max low water line ("+o+" < "+s+")"),!0):(s=n.attributes.BANDWIDTH,n=t.attributes.BANDWIDTH,s<n&&(!l||i<a)?(t=u+" as next bandwidth < current bandwidth ("+s+" < "+n+")",l&&(t+=" and forwardBuffer < bufferHighWaterLine ("+i+" < "+a+")"),c(t),!0):(!l||n<s)&&r<=i?(r=u+" as forwardBuffer >= bufferLowWaterLine ("+i+" >= "+r+")",l&&(r+=" and next bandwidth > current bandwidth ("+s+" > "+n+")"),c(r),!0):(c("not "+u+" as no switching criteria met"),!1))):e||"number"!=typeof t.partTargetDuration?(c(u+" as current playlist is live"),!0):(c("not "+u+" as current playlist is live llhls, but currentTime isn't in buffered."),!1)):(c(u+" as current playlist is not set"),!0)}({buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:n,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},t.setupSegmentLoaderListeners_=function(){var t=this;function e(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)}this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist();t.shouldSwitchToMedia_(e)&&t.switchMedia_(e,"bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(e){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}),this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},t.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},t.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},t.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},t.fastQualityChange_=function(e){var t=this;(e=void 0===e?this.selectPlaylist():e)!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){x.browser.IE_VERSION||x.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},t.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},t.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(x.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(i.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},t.handleSourceOpen_=function(){var e;this.tryToCreateSourceBuffers_(),!this.tech_.autoplay()||"undefined"!=typeof(e=this.tech_.play())&&"function"==typeof e.then&&e.then(null,function(e){}),this.trigger("sourceopen")},t.handleSourceEnded_=function(){var e,t;!this.inbandTextTracks_.metadataTrack_||(e=this.inbandTextTracks_.metadataTrack_.cues)&&e.length&&(t=this.duration(),e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t)},t.handleDurationChange_=function(){this.tech_.trigger("durationchange")},t.onEndOfStream=function(){var e,t=this.mainSegmentLoader_.ended_;(t=this.mediaTypes_.AUDIO.activePlaylistLoader?((e=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!e.hasVideo||t)&&this.audioSegmentLoader_.ended_:t)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},t.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var i=tu.Playlist.playlistEnd(e,t);e=this.tech_.currentTime(),t=this.tech_.buffered();return t.length?(t=t.end(t.length-1),t-e<=.1&&i-t<=.1):i-e<=.1},t.blacklistCurrentPlaylist=function(e,t){var i=(e=void 0===e?{}:e).playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!i)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));i.playlistErrors_++;var s,n=this.masterPlaylistLoader_.master.playlists,r=n.filter(al),a=1===r.length&&r[0]===i;return 1===n.length&&t!==1/0?(x.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a)):(a&&(s=!1,n.forEach(function(e){var t;e===i||"undefined"!=typeof(t=e.excludeUntil)&&t!==1/0&&(s=!0,delete e.excludeUntil)}),s&&(x.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),r=i.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,i.excludeUntil=r,e.reason&&(i.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),n?(t=e.internal?this.logger_:x.log.warn,r=e.message?" "+e.message:"",t((e.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+r+" Switching to playlist "+n.id+"."),n.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),n.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),r=n.targetDuration/2*1e3||5e3,r="number"==typeof n.lastRequest&&Date.now()-n.lastRequest<=r,this.switchMedia_(n,"exclude",a||r)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error")))},t.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},t.delegateLoaders_=function(i,e){var s=this,n=[],t="all"===i;!t&&"main"!==i||n.push(this.masterPlaylistLoader_);var r=[];!t&&"audio"!==i||r.push("AUDIO"),!t&&"subtitle"!==i||(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(function(e){e=s.mediaTypes_[e]&&s.mediaTypes_[e].activePlaylistLoader,e&&n.push(e)}),["main","audio","subtitle"].forEach(function(e){var t=s[e+"SegmentLoader_"];!t||i!==e&&"all"!==i||n.push(t)}),n.forEach(function(t){return e.forEach(function(e){"function"==typeof t[e]&&t[e]()})})},t.setCurrentTime=function(e){var t=zo(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},t.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:tu.Playlist.duration(e):1/0:0},t.seekable=function(){return this.seekable_},t.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var i=this.syncController_.getExpiredTime(t,this.duration());if(null!==i){var s,n,r=this.masterPlaylistLoader_.master,a=tu.Playlist.seekable(t,i,tu.Playlist.liveEdgeDelay(r,t));if(0!==a.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=tu.Playlist.seekable(t,i,tu.Playlist.liveEdgeDelay(r,t))).length)return}this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),n=this.seekable_.start(0)),!e||e.start(0)>a.end(0)||a.start(0)>e.end(0)?this.seekable_=a:this.seekable_=x.createTimeRanges([[(e.start(0)>a.start(0)?e:a).start(0),(e.end(0)<a.end(0)?e:a).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===n||(this.logger_("seekable updated ["+Ho(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},t.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();return t.length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))):void 0}e=this.tech_.buffered(),t=tu.Playlist.duration(this.masterPlaylistLoader_.media()),0<e.length&&(t=Math.max(t,e.end(e.length-1))),this.mediaSource.duration!==t&&this.sourceUpdater_.setDuration(t)},t.dispose=function(){var s=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(e){var t,i=s.mediaTypes_[e].groups;for(t in i)i[t].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},t.master=function(){return this.masterPlaylistLoader_.master},t.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},t.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_();e=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return t&&e},t.getCodecsOrExclude_=function(){var s=this,n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};n.video=n.main;var e=sc(this.master(),this.media()),r={},t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(r.video=e.video||n.main.videoCodec||"avc1.4d400d"),n.main.isMuxed&&(r.video+=","+(e.audio||n.main.audioCodec||jn)),(n.main.hasAudio&&!n.main.isMuxed||n.audio.hasAudio||t)&&(r.audio=e.audio||n.main.audioCodec||n.audio.audioCodec||jn,n.audio.isFmp4=(n.main.hasAudio&&!n.main.isMuxed?n.main:n.audio).isFmp4),r.audio||r.video){var a,i,o={};if(["video","audio"].forEach(function(e){var t,i;r.hasOwnProperty(e)&&(t=n[e].isFmp4,i=r[e],!(t?In:Pn)(i))&&(i=n[e].isFmp4?"browser":"muxer",o[i]=o[i]||[],o[i].push(r[e]),"audio"===e&&(a=i))}),t&&a&&this.media().attributes.AUDIO&&(i=this.media().attributes.AUDIO,this.master().playlists.forEach(function(e){(e.attributes&&e.attributes.AUDIO)===i&&e!==s.media()&&(e.excludeUntil=1/0)}),this.logger_("excluding audio group "+i+" as "+a+' does not support codec(s): "'+r.audio+'"')),!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach(function(e){var t=(kn(s.sourceUpdater_.codecs[e]||"")[0]||{}).type,i=(kn(r[e]||"")[0]||{}).type;t&&i&&t.toLowerCase()!==i.toLowerCase()&&l.push('"'+s.sourceUpdater_.codecs[e]+'" -> "'+r[e]+'"')}),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}t=Object.keys(o).reduce(function(e,t){return e&&(e+=", "),e+(t+' does not support codec(s): "')+o[t].join(",")+'"'},"")+".",this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:t,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},t.tryToCreateSourceBuffers_=function(){var e;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_()||(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))},t.excludeUnsupportedVariants_=function(){var s=this,n=this.master().playlists,r=[];Object.keys(n).forEach(function(e){var t,i=n[e];-1===r.indexOf(i.id)&&(r.push(i.id),t=[],!(e=sc(s.master,i)).audio||Pn(e.audio)||In(e.audio)||t.push("audio codec "+e.audio),!e.video||Pn(e.video)||In(e.video)||t.push("video codec "+e.video),e.text&&"stpp.ttml.im1t"===e.text&&t.push("text codec "+e.text),t.length&&(i.excludeUntil=1/0,s.logger_("excluding "+i.id+" for unsupported: "+t.join(", "))))})},t.excludeIncompatibleVariants_=function(e){var n=this,r=[],a=this.master().playlists,o=(e=tc(kn(e)),ic(e)),l=e.video&&kn(e.video)[0]||null,c=e.audio&&kn(e.audio)[0]||null;Object.keys(a).forEach(function(e){var t,i,s=a[e];-1===r.indexOf(s.id)&&s.excludeUntil!==1/0&&(r.push(s.id),t=[],i=sc(n.masterPlaylistLoader_.master,s),e=ic(i),(i.audio||i.video)&&(e!==o&&t.push('codec count "'+e+'" !== "'+o+'"'),n.sourceUpdater_.canChangeType()||(e=i.video&&kn(i.video)[0]||null,i=i.audio&&kn(i.audio)[0]||null,e&&l&&e.type.toLowerCase()!==l.type.toLowerCase()&&t.push('video codec "'+e.type+'" !== "'+l.type+'"'),i&&c&&i.type.toLowerCase()!==c.type.toLowerCase()&&t.push('audio codec "'+i.type+'" !== "'+c.type+'"')),t.length&&(s.excludeUntil=1/0,n.logger_("blacklisting "+s.id+": "+t.join(" && ")))))})},t.updateAdCues_=function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i){if(void 0===i&&(i=0),e.segments)for(var s=i,n=0;n<e.segments.length;n++){var r,a,o,l=e.segments[n];if(o=o||function(e,t){for(var i=e.cues,s=0;s<i.length;s++){var n=i[s];if(t>=n.adStartTime&&t<=n.adEndTime)return n}return null}(t,s+l.duration/2)){if("cueIn"in l){o.endTime=s,o.adEndTime=s,s+=l.duration,o=null;continue}if(s<o.endTime){s+=l.duration;continue}o.endTime+=l.duration}else"cueOut"in l&&((o=new window.VTTCue(s,s+l.duration,l.cueOut)).adStartTime=s,o.adEndTime=s+parseFloat(l.cueOut),t.addCue(o)),"cueOutCont"in l&&(r=(a=l.cueOutCont.split("/").map(parseFloat))[0],a=a[1],(o=new window.VTTCue(s,s+l.duration,"")).adStartTime=s-r,o.adEndTime=o.adStartTime+a,t.addCue(o));s+=l.duration}}(e,this.cueTagsTrack_,t)},t.goalBufferLength=function(){var e=this.tech_.currentTime(),t=N.GOAL_BUFFER_LENGTH,i=N.GOAL_BUFFER_LENGTH_RATE,s=Math.max(t,N.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,s)},t.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=N.BUFFER_LOW_WATER_LINE,i=N.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(t,N.MAX_BUFFER_LOW_WATER_LINE),n=Math.max(t,N.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.experimentalBufferBasedABR?n:s)},t.bufferHighWaterLine=function(){return N.BUFFER_HIGH_WATER_LINE},e}(x.EventTarget),Tu=["seeking","seeked","pause","playing","error"],Iu=function(){function e(e){var i=this;function t(){return i.monitorCurrentTime_()}function s(){return i.monitorCurrentTime_()}function n(){return i.techWaiting_()}function r(){return i.cancelTimer_()}this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=jo("PlaybackWatcher"),this.logger_("initialize");var a=this.masterPlaylistController_,o=["main","subtitle","audio"],l={};function c(t){["main","audio"].forEach(function(e){a[e+"SegmentLoader_"][t]("appended",i.seekingAppendCheck_)})}o.forEach(function(e){l[e]={reset:function(){return i.resetSegmentDownloads_(e)},updateend:function(){return i.checkSegmentDownloads_(e)}},a[e+"SegmentLoader_"].on("appendsdone",l[e].updateend),a[e+"SegmentLoader_"].on("playlistupdate",l[e].reset),i.tech_.on(["seeked","seeking"],l[e].reset)}),this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(Tu,r),this.tech_.on("canplay",s),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",n),i.tech_.off(Tu,r),i.tech_.off("canplay",s),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),o.forEach(function(e){a[e+"SegmentLoader_"].off("appendsdone",l[e].updateend),a[e+"SegmentLoader_"].off("playlistupdate",l[e].reset),i.tech_.off(["seeked","seeking"],l[e].reset)}),i.checkCurrentTimeTimeout_&&window.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];0<this[e+"StalledDownloads_"]&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,i=t[e+"SegmentLoader_"],s=i.buffered_(),n=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0;return!1}(this[e+"Buffered_"],s);this[e+"Buffered_"]=s,n?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:qo(s)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),"undefined"!=typeof(e=this.beforeSeekableWindow_(t,i)?(r=t.start(0))+(r===t.end(0)?0:.1):e))return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+Ho(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var s=this.masterPlaylistController_.sourceUpdater_,n=this.tech_.buffered(),r=s.audioBuffer?s.audioBuffered():null,a=(t=s.videoBuffer?s.videoBuffered():null,s=this.media(),s.partTargetDuration||2*(s.targetDuration-wc)),o=[r,t],l=0;l<o.length;l++)if(o[l]&&Yo(o[l],i)<a)return!1;return n=Wo(n,i),0!==n.length&&(e=n.start(0)+.1,this.logger_("Buffered region starts ("+n.start(0)+")  just beyond seek point ("+i+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){var e,t;this.techWaiting_()||(e=this.tech_.currentTime(),t=this.tech_.buffered(),(t=zo(t,e)).length&&e+3<=t.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}return e=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:e.audioBuffered(),videoBuffered:e.videoBuffered(),currentTime:t})?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):(e=Wo(i,t),0<e.length&&(i=e.start(0)-t,this.logger_("Stopped at "+t+", setting timer for "+i+", seeking to "+e.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,t),!0))},t.afterSeekableWindow_=function(e,t,i,s){if(void 0===s&&(s=!1),!e.length)return!1;var n=e.end(e.length-1)+.1;return(n=!i.endList&&s?e.end(e.length-1)+3*i.targetDuration:n)<t},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t,i,s=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(s)return s.length&&n.length?(i=zo(s,r-3),e=zo(s,r),(n=zo(n,r)).length&&!e.length&&i.length&&(t={start:i.end(0),end:n.end(0)})):Wo(s,r).length||(t=this.gapFromVideoUnderflow_(s,r)),!!t&&(this.logger_("Encountered a gap in video from "+t.start+" to "+t.end+". Seeking to current time "+r),!0)},t.skipTheGap_=function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime();t=Wo(t,i);this.cancelTimer_(),0!==t.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",t.start(0)),this.tech_.setCurrentTime(t.start(0)+wc),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var i=function(e){if(e.length<2)return x.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var s=e.end(i-1),n=e.start(i);t.push([s,n])}return x.createTimeRanges(t)}(e),s=0;s<i.length;s++){var n=i.start(s),r=i.end(s);if(t-n<4&&2<t-n)return{start:n,end:r}}return null},e}(),Pu={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},M={PlaylistLoader:xc,Playlist:_c,utils:li,STANDARD_PLAYLIST_SELECTOR:yn,INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(_c.isEnabled);return ac(e,oc),e.filter(function(e){return!!sc(t.playlists.master,e).video})[0]||null},lastBandwidthSelector:yn,movingAverageBandwidthSelector:function(t){var i=-1,s=-1;if(t<0||1<t)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,s=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==s&&(i=t*this.systemBandwidth+(1-t)*i,s=this.systemBandwidth),lc(this.playlists.master,i,parseInt(rc(this.tech_.el(),"width"),10)*e,parseInt(rc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:oc,comparePlaylistResolution:function(e,t){var i,s;return(i=(i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:i)||window.Number.MAX_VALUE)===(s=(s=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:s)||window.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-s},xhr:Cl()};function Au(e,t){for(var i=t.media(),s=-1,n=0;n<e.length;n++)if(e[n].id===i.id){s=n;break}e.selectedIndex_=s,e.trigger({selectedIndex:s,type:"change"})}Object.keys(N).forEach(function(t){Object.defineProperty(M,t,{get:function(){return x.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),N[t]},set:function(e){x.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?x.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):N[t]=e}})});var Eu="videojs-vhs";function Du(e){var s=e.player,t=e.sourceKeySystems,i=e.audioMedia;e=e.mainPlaylists;if(!s.eme.initializeMediaKeys)return Promise.resolve();e=e=i?e.concat([i]):e,n=Object.keys(t),e=e.reduce(function(e,s){if(!s.contentProtection)return e;var t=n.reduce(function(e,t){var i=s.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e},{});return Object.keys(t).length&&e.push(t),e},[]);var n,r=[],a=[];return e.forEach(function(e){a.push(new Promise(function(e,t){s.tech_.one("keysessioncreated",e)})),r.push(new Promise(function(t,i){s.eme.initializeMediaKeys({keySystems:e},function(e){e?i(e):t()})}))}),Promise.race([Promise.all(r),Promise.race(a)])}function Ou(e){var t=e.player;return!!(e=function(e,t,i){if(!e)return e;var s={};t&&t.attributes&&t.attributes.CODECS&&(s=tc(kn(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(s.audio=i.attributes.CODECS);var n,r=Tn(s.video),a=Tn(s.audio),o={};for(n in e)o[n]={},a&&(o[n].audioContentType=a),r&&(o[n].videoContentType=r),t.contentProtection&&t.contentProtection[n]&&t.contentProtection[n].pssh&&(o[n].pssh=t.contentProtection[n].pssh),"string"==typeof e[n]&&(o[n].url=e[n]);return x.mergeOptions(e,o)}(e.sourceKeySystems,e.media,e.audioMedia))&&(!((t.currentSource().keySystems=e)&&!t.eme)||(x.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))}function Lu(){if(!window.localStorage)return null;var e=window.localStorage.getItem(Eu);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}M.canPlaySource=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},M.supportsNativeHls=function(){if(!document||!document.createElement)return!1;var t=document.createElement("video");return!!x.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),M.supportsNativeDash=!!(document&&document.createElement&&x.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),M.supportsTypeNatively=function(e){return"hls"===e?M.supportsNativeHls:"dash"===e&&M.supportsNativeDash},M.isSupported=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Nu=function(n){function e(e,t,i){var s=n.call(this,t,x.mergeOptions(i.hls,i.vhs))||this;if(i.hls&&Object.keys(i.hls).length&&x.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof i.initialBandwidth&&(s.options_.bandwidth=i.initialBandwidth),s.logger_=jo("VhsHandler"),t.options_&&t.options_.playerId&&((i=x(t.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return x.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),b(s)},configurable:!0}),i.hasOwnProperty("vhs")||Object.defineProperty(i,"vhs",{get:function(){return x.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),b(s)},configurable:!0}),i.hasOwnProperty("dash")||Object.defineProperty(i,"dash",{get:function(){return x.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),b(s)},configurable:!0}),s.player_=i),s.tech_=t,s.source_=e,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}w(e,n);var t=e.prototype;return t.setOptions_=function(){var e,t=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=Lu())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=N.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===N.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},t.src=function(e,t){var s=this;e&&(this.setOptions_(),this.options_.src=0===(e=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e,this.options_.tech=this.tech_,this.options_.externVhs=M,this.options_.sourceType=An(t),this.options_.seekTo=function(e){s.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&x.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new xu(this.options_),t=x.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new Iu(t),this.masterPlaylistController_.on("error",function(){var e=x.players[s.tech_.options_.playerId],t=s.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}),t=this.options_.experimentalBufferBasedABR?M.movingAverageBandwidthSelector(.55):M.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||t).bind(this),this.masterPlaylistController_.selectInitialPlaylist=M.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return this.options_.useNetworkInformationApi&&t?1e7<=(t=1e3*t.downlink*1e3)&&1e7<=e?Math.max(e,t):t:e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=0<this.throughput?1/this.throughput:0;return Math.floor(1/(e+t))},set:function(){x.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return qo(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return qo(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&function(e){if(window.localStorage){var t=(t=Lu())?x.mergeOptions(t,e):e;try{window.localStorage.setItem(Eu,JSON.stringify(t))}catch(e){return}}}({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var i;(i=s).representations=function(){var e=i.masterPlaylistController_.master();e=hl(e)?i.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;return e?e.filter(function(e){return!rl(e)}).map(function(e,t){return new Jc(i,e,e.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},t.createKeySessions_=function(){var t=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Du({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(e){t.logger_("error while creating EME key session",e),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},t.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},t.setupEme_=function(){var i=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;e=Ou({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",function(e){var t;"output-restricted"!==e.status||(e=i.masterPlaylistController_.master())&&e.playlists&&(t=[],e.playlists.forEach(function(e){e&&e.attributes&&e.attributes.RESOLUTION&&720<=e.attributes.RESOLUTION.height&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,t.push(e))}),t.length&&((e=x.log).warn.apply(e,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(t)),i.masterPlaylistController_.fastQualityChange_()))}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==x.browser.IE_VERSION&&e?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},t.setupQualityLevels_=function(){var i=this,e=x.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;t=i.qualityLevels_,(e=i).representations().forEach(function(e){t.addQualityLevel(e)}),Au(t,e.playlists)}),this.playlists.on("mediachange",function(){Au(i.qualityLevels_,i.playlists)}))},e.version=function(){return{"@videojs/http-streaming":"2.14.3","mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},t.version=function(){return this.constructor.version()},t.canChangeType=function(){return pu.canChangeType()},t.play=function(){this.masterPlaylistController_.play()},t.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},t.duration=function(){return this.masterPlaylistController_.duration()},t.seekable=function(){return this.masterPlaylistController_.seekable()},t.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),n.prototype.dispose.call(this)},t.convertToProgramTime=function(e,t){return Dl({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},t.seekToProgramTime=function(e,t,i,s){return void 0===i&&(i=!0),void 0===s&&(s=2),Ol({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},e}(x.getComponent("Component")),Mu={name:"videojs-http-streaming",VERSION:"2.14.3",canHandleSource:function(e,t){return t=x.mergeOptions(x.options,t=void 0===t?{}:t),Mu.canPlayType(e.type,t)},handleSource:function(e,t,i){return i=x.mergeOptions(x.options,i=void 0===i?{}:i),t.vhs=new Nu(e,t,i),x.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return x.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Cl(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){var i=x.mergeOptions(x.options,t=void 0===t?{}:t);t=i.vhs,t=(t=void 0===t?{}:t).overrideNative,t=void 0===t?!x.browser.IS_ANY_SAFARI:t,i=i.hls,i=(i=void 0===i?{}:i).overrideNative,i=void 0!==i&&i,e=An(e);return e&&(!M.supportsTypeNatively(e)||i||t)?"maybe":""}};return In("avc1.4d400d,mp4a.40.2")&&x.getTech("Html5").registerSourceHandler(Mu,0),x.VhsHandler=Nu,Object.defineProperty(x,"HlsHandler",{get:function(){return x.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Nu},configurable:!0}),x.VhsSourceHandler=Mu,Object.defineProperty(x,"HlsSourceHandler",{get:function(){return x.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Mu},configurable:!0}),x.Vhs=M,Object.defineProperty(x,"Hls",{get:function(){return x.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),M},configurable:!0}),x.use||(x.registerComponent("Hls",M),x.registerComponent("Vhs",M)),x.options.vhs=x.options.vhs||{},x.options.hls=x.options.hls||{},x.getPlugin&&x.getPlugin("reloadSourceOnError")||(x.registerPlugin||x.plugin)("reloadSourceOnError",function(e){eu(this,e)}),x}()}.call(this,i("c8ba"),i("b639").Buffer)},b144:function(e,t,i){},b30c:function(e,t,i){"use strict";i("4c8b")},b482:function(e,t,i){"use strict";i("4174")},b856:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAAA9lBMVEVHcEzcs4nBgjrDejXBeC/AeS/dt4+/djC/ejDfuZPBeC/aroLbsofXqnngu5bBeC/dtY3AeC/BeC/Adi/ZsITPn2var4LBeC/BeDDBeDDYq3vWpnvaq3vBeDDBeC/YrH3WqnrBdy/RZkLBeC/BeTC/eTDBeC/bs4vQq33ZqnzZrH/ZrYLWqHjbsIXZrYHZrX3dtYvbsYbduJHBeC/CdzDBeTDdt43BeDDfsXrXrYHdtY/BeDD////hvZnbWkrv3cvNajzbs4nbfGLRm2TfvZfVYkLHcjbbr4XYblHXp3fYmG3TfFTXjWTaY03TnmrXhmDThFbdt49EOJtMAAAAO3RSTlMAxQdtkCHlXjDyyY+6NPp52D67K6cPn+rg01InXfKxdUhOZEOGFKfOHWWGmECufGzSsutXOJ3d+RaD33vV9LkAAAx5SURBVHgB7NXrTltHFMXxGmFT1xcIGNJgB7siirljjEop/YS6lKrv/0K90EsSMD5nZu9ZZ0vr/wh7/TTzTX7fbn04+u77X9RTNwYnDdre9u5P7PM3rMcRexRO7e137NM3sEecs4ch9OYj++7N7BHosbcp3fER++pN7U8NuGLPU7S23oWV/aUB1+yFCrbNvniT+1sDJuyNStXeZR+80T1pGM7YM5Xp9j373s3uSQO6A/ZQJdIvsaZ/NKAzZk/l3yb72I3vXw2422eP5d2P7Fs3v/80YMFeSxjo/a8BLfZerumbqNBnGtBnL+bYNvvQIfpcAy7Zm7l1y75zjL7QgAP2ak6137PvHKMvNaDH3s2nXfaZg/SVBpyxh/Nom33lKH2tAVP2dPa12UcO0zMNOGWPZ95H9pHD9FzD8JC9nnHH7BvH6bkGdC/Y+9m2y75xnF7QgOWAPaBlehqq95IG3J2wJzTsiH3iQL2oATsb7A3N2mNfOFIva8CcPaJZH9gXjtQKDWixV7TqLfvCkVqlAX32jDYdsw8cqpUaMGIPadIm+8ChWq0BB+wlLXrHPnCoXtGAHnvK/Nrs+8bqNQ24Yo+Z3Rb7vrF6VQOu2Wvmtsm+b6xe14AJe87Mdtn3jdUaDcMZe8+83rLvG6s1GtAdsAfNaZ993mCt04DOmD1pRnvs8wZrrQY83LM3Te8N+7zBWq8BC/am6f3APm+wKmhAiz1qcrfs8warigb02aumtsU+b7AqacANe1ZpKFI1DRixd5WGElXUgHP2sNJQoKoacMZeVhr8q6wBU/a00uBedQ04ZW8rDd7V0DA8ZI8rDc7V0IDujL2uNPhWRwOWA/a80uBaLQ3onLD3lQbP6mnAzj57YGlwrKYGzNkDS4NjdTWgxV5YGvyqrQF99sTS4FZ9DbhkbywNXiVowAF7ZGlwKkUDeuyVpcGnJA34mT2zNLiUpgFT9s7S4FGiBkzYQ0uDQ6kahofspaXBvlQN6F6wp5YG85I1YDlmby0N1qVrwMM9e2xpMC5DAxYb7LWlwbYcDZiz15YG27I0oM+eWxpMy9OAG/be0mBZpgaM2INLg2G5GnDOXlwa7MrWgB57cmkwK18DrtibS4NVBhpwzR5dGoyy0IAJe3VpsMlEw3DGnl0aTDLRgO6Avbs0WGSjAZ0xe3hpMMhIA+722ctLQ35WGrBgLy8N+ZlpQIs9vTRkZ6cBffb20pCboQZcsseXhswsNeCAvb405GWqAT32/NKQla0GnLH3l4acjDVgygYgDRlZa8ApW4A0pGeuYXjIJiANyZlrQPeCbUAaUrPXgOWAjUAaEnPQgLsTtgJpSMtDA3Y22AykISkXDZizGUhDUj4a0GI7kIaUnDSgz4YgDQl5acCILUEa6uemAQdsCtJQOz8N6LEtSEPdHDXgio1BGmrmqQHX0hArVw2YSEOofDUMZ9IQKV8N6A6kIVDOGtAZS0OcvDXg4V4awuSuAQtpCJO/BrSkIUoFNKAvDUEqoQE30hCjIhowkoYQldGAc2mIUCENOJOGAJXSgKk0NL9iGnAqDY2vnIbhoTQ0vXIa0J1JQ8MrqAHLgTQ0u5Ia0DmRhkZXVAN29qWhyf1WVAPm0tDkCmtASxqa26ffC2tAXxoa26dfS2vApTSQ+4O9elmJs4miMIz+8BNplQxMD1QwZGIOJjEOJAfYVCdV1Uft9v5vJp+JZEEg02+vwfuwL+Flr39e2YxeQ51Sg6m+G7+GOqEGT/1bQg31CzVY6iWjhnpBDZbaMiWHc2pw1H6k1HB8Sg2G2i6lhnpwRQ1+yiKnhnpzRg12epsl5fD1MzXYiVVSDfV6nxrctKypqPWSGty09pCWwyE1mOl5U1HrJ2owkzgVtZ5Qg5cey8Qc3lGDlR67xBrqhBqstJhn5vCBGpz02GbWUD9Sg5Pk51DPqcFIj11qDccvqcFI9nM4OKIGHz0WqTXU/8+owUeLVW4Oty+owUaP5K2o19Tgo8c6t4a6Rw0+SmySczikBh8tVsk5vKcGGz1imZzDlBpslGiz5Bwm1GCjxF12Dm+pwUaJxTw5hwtqsGGQwxtqsFGiLXNrOD6lBhslYpObw8EVNdgYcljn5nBzRA02hhzafWoOt6+pwUaP4T3MM3N4vk8NPob3EJuHxBwuqcHIYw6xneXlsEcNRh7XYtiL+7QcDqnBya/3EG27TMrhhBqclN89DEGsUiZjSg1WnnIY3K23q9GfxIQavKiHpyoWi+/j+Y8azPzdw5heUYOdvB6owVFWD9TgqTRqgPSEB0ENxsrYQVCDt3GDoAZ/ZTTPqAF/UAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAGNTwk106RrUUiKIoOrAvVKDzH1N3tn8gwnstWtWszY1vcpabJhpUNKhoUNGgokFFg4oGFQ0qGlQ0qGhQ0aCiQUWDigYVDSoaVDSoaFDRoJpKwz62DxqXv7bbOo63R3qsmTQcn630lIa/Ht5e6alm0rDNqmHb357poSbScMyrYbw900NNpGHQ8HYTabh3ols1bG/P9FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FALa9jGVftVg4bTVtbw/X40nEcDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDbWyhnHVfhUN5y2sYdz6jYYfGmj4HQ00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA001MIa/mG/QcNpNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQK2s4vu5eW/9PC2sYt36j4YcGGn5HAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1Fw7Ia/rBXx6htRFEYhYXBENKEkMYuYjDYK0g6F1NY+19TytNYIqAbvbHyfcwGfu5h3j/41KCGqEEN+cw1vJ+znaOGj33iGi6436aGD6lBDVGDGqIGNUQNaoga1BA1qCFqUEPUoIaoQQ1RgxqiBjVEDWqIGtQQNaghalBD1KCGqEENUYMaogY1RA1qyM3WsJ0z29btuNkaZq0+05WoQQ1RgxqiBjVEDWqIGtQQNaghalBD1KCGqEENUYMaogY1RA1qiBrUEDWoIWpQQ9SghqhBDVGDGqIGNUQNaoga1BA1qCFqUEPUoIaoQQ1RgxqiBjVEDWqIGtQQNaghalBD1KCGqEENUYMaogY1RA1qyI5q2Faf/LRt9ZmuRA1/47j6TFeyoxreV9/8tNVXupYd1fB2XH30U/6XX8Ouang77rKH7X31ka5mVzWwmBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBrIQA2/Vm9gyo/La3hevYEp95fX8Hv1BqbcXV7D/eoNDPl5eQyHu9UjGPI4UMPhYfUKZjxN1PC0egUzXiZqeFm9ghnPEzU8r17BjNeJGl5Xr2DE40QMh8PX1TuY8DJTw7fVO5jwfaaGL6t3MOBhJobdPxV/2qu71AaBKIrjh4ySMi9hlKI+KISoK0jI/ndWQ95KP4xzZ06l54cbOPJnrr41jA4F4NhLJF5tVcP7nT1FYg1WMQAFe4vEutjVULK3SCTDp0GPw+4Fyxqmnj1HYtwsYwAce49E6EvbGlCxF8l2zjgGXNmLZLPZOgbdiv1qJ/saMLNXyTYhQQyAZ8+SLY5JYkDZsIfJ605pYgDelMPuJItBOexPwhiAumPPk1e4lDEAU8UeKKv157QxLAr2RlmpqpPHABx79kxZY8zQwqKc2UPlVz7kiWFx7thj5UeNy9bCg2vZg+Vb99MhawyLo2ePli91LnsLD9eiYS+XT5rbhZHCUxj1QvwdfiSm8HQIrhh8y/4T/1rrh8KF+APxAfrrIkbKnrrBAAAAAElFTkSuQmCC"},b877:function(e,t,i){},bb8d:function(e,t,i){},be3b:function(e,t,i){"use strict";i("14d9");var s=i("bc3a"),n=i.n(s),r=i("2b0e"),a=i("4360"),s=i("d930"),o=i("dc95"),l=i("a18c"),c=i("d3a4"),u=i("19cb"),h=i.n(u),u=i("24f8"),d=i.n(u),u=i("3452"),p=i.n(u);let m=P();i=(window.location.protocol.startsWith("https")?"wss":"ws")+"://"+window.location.host;let f;function g(e,t){var i=new d.a.Agent({rejectUnauthorized:!1});f=n.a.create({httpsAgent:i,baseURL:e,timeout:t})}g(m,3e4);u=e=>(e.response&&e.response.data,o.a.Spin.hide(),Promise.reject(e));function y(){var e;if(r.default&&r.default.prototype)return e=r.default.prototype.getToken(),a.a.state.token=e}var v="@)x#$#1Sx(*".replace("@","a").replace(")","1").replace("*",")"),b="x2@s)S(lkd#$90s".replace("@","-").replace(")","-").replace("(","-"),w="AX@!%(1sx".replace("@","k").replace("!","s").replace("(","^");let S=s.a.generateRandomString(13),_=(new Date).getTime()+"",C=s.a.interleaveStrings(S,_),k=(C=p.a.AES.encrypt(C,v).toString(),s.a.extractNumbers(S)),x=s.a.mergeTimestamp(k,_),T=b+x+w;function I(e){var t,i;return!e||e.length<1?"":(t=/[`#!@#$%^&*()+=[\]{};':"\\|,<>/?~]/,i=e.substr(e.lastIndexOf(".")+1),t.test(e)&&(e=h.a.encode(e),i)&&!t.test(i)&&(e+="."+i),e)}function P(){var[e]=window.location.pathname.split("/").filter(Boolean);return window.location.protocol+"//"+window.location.host+(e?"/"+e:"")}function A(e){return P()+"/web/viewer.html?file="+encodeURIComponent(e)}f.interceptors.request.use(e=>{var t=y();return e.data&&e.data.hideLoading||o.a.Spin.show(),t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer "+t),e&&e.data&&(t=JSON.stringify(e.data),e.data={enc:p.a.AES.encrypt(t,T).toString(),iv:C}),e.data&&e.data.hideLoading&&delete e.data.hideLoading,e},u),f.interceptors.response.use(e=>{(t=e)&&t.config&&t.config.url&&(-1!=t.config.url.indexOf("commonApi/getBgTask")||-1!=t.config.url.indexOf("commonApi/getServerState")||-1!=t.config.url.indexOf("commonApi/getSystemState"))||o.a.Spin.hide();var t=e.data;return 0!==t.code&&200!==t.code?(1===t.code?t.message&&("dialog"==t.alertType?r.default.prototype.showVsAlertDialog(null,t.message):r.default.prototype.showVsNotification(t.message)):101===t.code?-1==e.config.url.indexOf("commonApi/getBgTask")&&-1==e.config.url.indexOf("commonApi/getServerState")&&-1==e.config.url.indexOf("commonApi/getSystemState")&&(r.default.prototype.runInElectron?(localStorage.removeItem("token"),localStorage.removeItem("currentUser"),r.default.prototype.api.post("/api/commonApi/refreshHomePage",()=>{})):r.default.prototype.showVsAlertDialog(null,c.a.t("common.tokenExpire"),()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),a.a.state.token="",l.a.push({path:"/login"})})):102==t.code?r.default.prototype.showVsNotification(c.a.t("common.noPermission")):103==t.code?r.default.prototype.showVsNotification(c.a.t("photo.stillIndexTryLater")):104==t.code?y()&&r.default.prototype.showVsAlertDialog(null,c.a.t("private.tokenExpired")):188==t.code&&r.default.prototype.showVsAlertDialog(null,c.a.t("nascab.needUpgrade")),Promise.reject(t)):t},u),t.a={getBaseByLocation:P,getTmdbImgUrlByUrl:function(e,t=!1){e=encodeURIComponent(e);(i={}).url=e,i.token=y(),t&&(i.noCache=1);var e=JSON.stringify(i),t=encodeURIComponent(p.a.AES.encrypt(e,T).toString()),i=encodeURIComponent(C);return m+`/api/movieInfoApi/getImdbImg?enc=${t}&iv=`+i},getBookReadComicUrl:function(e){var t,i,s,n,r=y();return t="token",r=r,n="",(i=1)&&((s=new Date).setTime(s.getTime()+24*i*60*60*1e3),n="; expires="+s.toUTCString()),document.cookie=t+"="+(r||"")+n+"; path=/",P()+"/book/reader/readerComic.html?zPath="+encodeURIComponent(e)},getBookReadUrl:function(e){var t=y();return localStorage.tokenPlain=t,P()+"/book/reader/reader.html?url="+encodeURIComponent(e)},getRawFileZipUrl:function(e,t){e=encodeURIComponent(e),e=h.a.encode(e),t?t.endsWith(".zip")||(t+=".zip"):t="temp.zip";(i={}).token=y();var i=JSON.stringify(i),i=encodeURIComponent(p.a.AES.encrypt(i,T).toString()),s=encodeURIComponent(C);return m+`/api/file/zipFile/${t}?path=${e}&enc=${i}&iv=`+s},createRequestInstance:g,getPrivateSpaceFileUrl:function(e,t,i,s,n){i=I(i);var r={},n=(r.indexId=n,r.spaceId=e,r.spaceToken=t,r.type=s,r.token=y(),JSON.stringify(r)),e=encodeURIComponent(p.a.AES.encrypt(n,T).toString()),t=encodeURIComponent(C);return m+`/api/privateSpaceApi/getDecodeFile/${i}?enc=${e}&iv=`+t},getImgFullPath:function(e,t,i,s){s=s||"photo",i=I(i);(n={}).indexId=e,n.token=y(),n.serverType=s;var e=JSON.stringify(n),s=encodeURIComponent(p.a.AES.encrypt(e,T).toString()),n=encodeURIComponent(C);return t?i?m+`/api/fileApi/tinyImg/${i}?enc=${s}&iv=`+n:m+`/api/fileApi/tinyImg?enc=${s}&iv=`+n:i?m+`/api/fileApi/rawFile/${i}?enc=${s}&iv=`+n:m+`/api/fileApi/rawFile?enc=${s}&iv=`+n},baseUrl:m,requests:f,mapUrl:function(){return m+"/api/mapApi/tile?zoom={z}&x={x}&y={y}&token="+a.a.state.token},uploadUrl:function(){return m+"/api/uploadApi/regularUpload?token="+a.a.state.token},privateSpaceUploadUrl:function(){return m+"/api/privateSpaceApi/regularUpload?token="+a.a.state.token},getRawFileUrl:function(e,t,i,s){i=i||"photo";var n=e.endsWith(".txt"),r=(e=encodeURIComponent(e),e=h.a.encode(e),{}),i=(r.serverType=i,s||(r.token=y()),n&&(r.code="utf8"),JSON.stringify(r)),s=encodeURIComponent(p.a.AES.encrypt(i,T).toString()),n=encodeURIComponent(C);return t=t&&I(t),m+`/api/file/rawFile/${t}?path=${e}&enc=${s}&iv=`+n},getCustomFileUrl:function(e){return e=encodeURIComponent(e),e=h.a.encode(e),m+"/api/file/customImageFile?path="+e},encodePath:function(e){return e=encodeURIComponent(e),e=h.a.encode(e)},getFaceImageUrl:function(e){(t={}).faceId=e,t.token=y();var t=JSON.stringify(t),e=`/api/photoApi/getFaceImg/${e}.jpg?enc=${encodeURIComponent(p.a.AES.encrypt(t,T).toString())}&iv=`+encodeURIComponent(C);return m+e},getTinyUrlByFilePath:function(e,t,i){i=i?I(i):"tiny.webp",e=encodeURIComponent(e),e=h.a.encode(e);(s={}).fullPath=e,t||(s.token=y());var e=JSON.stringify(s),t=encodeURIComponent(p.a.AES.encrypt(e,T).toString()),s=encodeURIComponent(C);return m+`/api/fileApi/tinyImgByPath/${i}?enc=${t}&iv=`+s},webSocketUrl:i,getViewerUrl:function(e,t){return"pdf"==e?A(t):(t=encodeURIComponent(t),P()+`/viewer/${e}.html?fileUrl=`+t)},getPdfUrl:A}},be62:function(m,f,g){var y;g("14d9"),g("d9e2"),function(){"use strict";function e(){}var o={},l=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t=/\d\d?/,i=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;function s(e,t){for(var i=[],s=0,n=e.length;s<n;s++)i.push(e[s].substr(0,t));return i}function n(s){return function(e,t,i){i=i[s].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());~i&&(e.month=i)}}function r(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=s(c,3),h=s(a,3),d=(o.i18n={dayNamesShort:h,dayNames:a,monthNamesShort:u,monthNames:c,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][3<e%10?0:(e-e%10!=10)*e%10]}},{D:function(e){return e.getDay()},DD:function(e){return r(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return r(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return r(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return String(e.getFullYear()).substr(2)},yyyy:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return r(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return r(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return r(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return r(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return r(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return r(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return(e.getHours()<12?t.amPm[0]:t.amPm[1]).toUpperCase()},ZZ:function(e){e=e.getTimezoneOffset();return(0<e?"-":"+")+r(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}}),p={d:[t,function(e,t){e.day=t}],M:[t,function(e,t){e.month=t-1}],yy:[t,function(e,t){var i=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(68<t?i-1:i)+t}],h:[t,function(e,t){e.hour=t}],m:[t,function(e,t){e.minute=t}],s:[t,function(e,t){e.second=t}],yyyy:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],D:[t,e],ddd:[i,e],MMM:[i,n("monthNamesShort")],MMMM:[i,n("monthNames")],a:[i,function(e,t,i){t=t.toLowerCase();t===i.amPm[0]?e.isPm=!1:t===i.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var i,t=(t+"").match(/([\+\-]|\d\d)/gi);t&&(i=60*t[1]+parseInt(t[2],10),e.timezoneOffset="+"===t[0]?i:-i)}]};p.DD,p.dddd=p.ddd,p.Do=p.dd=p.d,p.mm=p.m,p.hh=p.H=p.HH=p.h,p.MM=p.M,p.ss=p.s,p.A=p.a,o.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(t,e,i){var s=i||o.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");return(e=o.masks[e]||e||o.masks.default).replace(l,function(e){return e in d?d[e](t,s):e.slice(1,e.length-1)})},o.parse=function(s,e,t){var n,r,a=t||o.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");return e=o.masks[e]||e,!(1e3<s.length||(n=!0,r={},e.replace(l,function(e){var t,i;return p[e]&&(t=p[e],~(i=s.search(t[0]))?s.replace(t[0],function(e){return t[1](r,e,a),s=s.substr(i+e.length),e}):n=!1),p[e]?"":e.slice(1,e.length-1)}),!n))&&(t=new Date,!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,new Date(Date.UTC(r.year||t.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):new Date(r.year||t.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))},m.exports?m.exports=o:void 0!==(y=function(){return o}.call(f,g,f,m))&&(m.exports=y)}()},bf44:function(e,t,i){e.exports=i.p+"img/1.04453334.jpg"},c0ed:function(e,t,i){e.exports=i.p+"img/icon-folder-excel.139f931e.png"},c1d1:function(e,t,s){"use strict";s.r(t);s("14d9");var i=s("be3b"),n=s("2cc5"),r={components:{},props:{lockMode:{default:!1,type:Boolean}},data(){return{pagePrivacyUrl:"",pageAgreementUrl:"",gotInitInfo:!1,currentProtocol:"",saveUsernamePwd:!1,agreeValue:!0,showTwoStep:!1,twoStepAnswer:"",question:"",btnCanUse:!0,hostName:"",formInline:{username:"",password:""},waitCheckIpList:[],isNasCabDomain:!1,detectFinishCount:0}},computed:{getLoginTitle(){return localStorage.customLoginTitle||this.$t("common.welcomeToNasCab")},getLoginImageUrl(){return localStorage.customLoginImage?(localStorage.customLoginImage,i.a.getCustomFileUrl(localStorage.customLoginImage)):s("952d")},getLogoImageUrl(){return localStorage.customLogoImage?i.a.getCustomFileUrl(localStorage.customLogoImage):s("9743")}},mounted(){this.currentProtocol=window.location.protocol,this.init()},methods:{goUrl(e,t){e.url,window.location.origin==e.url?this.showUrlDetectDialog=!1:window.location.href=t?e.urlHttps:e.url},addDetectCountAndCheckIsFinish(){this.detectFinishCount+=1,this.detectFinishCount>=this.waitCheckIpList.length&&this.detectFinishCount},init(){this.lockMode&&this.$store.state.currentUser&&(this.formInline.username=this.$store.state.currentUser.username),this.hasAdmin();var e=localStorage.getItem("username"),t=(e&&(this.formInline.username=decodeURIComponent(e),localStorage.removeItem("username")),localStorage.getItem("password")),i=(t&&(this.formInline.password=decodeURIComponent(t),localStorage.removeItem("password")),localStorage.getItem("answer"));i&&(this.twoStepAnswer=i,localStorage.removeItem("answer")),e||t||(i=localStorage.getItem("autoLogin"))&&1==i&&(this.saveUsernamePwd=!0,e=localStorage.getItem("cacheLoginUsername"),t=localStorage.getItem("cacheLoginPassword"),i=localStorage.getItem("cacheLoginAnswer"),e&&(this.formInline.username=e),t&&(this.formInline.password=this.base64.decode(t)),i)&&(this.formInline.answer=this.base64.decode(i)),this.formInline.username&&this.formInline.password&&this.handleSubmit(),(new Image).src=s("cf1c")},onChooseOtherServer(){n.a&&n.a.onChooseOtherServer()},getFirstKey(e){for(var t in e)if(-1==t.indexOf("vEthernet"))return e[t]},hasAdmin(){this.api.post("/api/usersApi/hasAdmin",{}).then(e=>{if(!e.code){var t=e.hasAdmin;if(0==parseInt(t)&&this.$router.push({path:"/create_admin"}),e.hostName&&(this.hostName=e.hostName),localStorage.removeItem("customHomeBgImage"),localStorage.removeItem("customLoginImage"),localStorage.removeItem("customLoginTitle"),localStorage.removeItem("customLogoImage"),e.customConfig&&0<e.customConfig.length)for(var i of e.customConfig)"customHomeBgImage"==i.title&&"-"!=i.value?localStorage.customHomeBgImage=i.value:"customLoginImage"==i.title&&"-"!=i.value?localStorage.customLoginImage=i.value:"customLoginTitle"==i.title&&"-"!=i.value?localStorage.customLoginTitle=i.value:"customLogoImage"==i.title&&"-"!=i.value&&(localStorage.customLogoImage=i.value);this.gotInitInfo=!0,e.pagePrivacyUrl&&(this.pagePrivacyUrl=e.pagePrivacyUrl),e.pageAgreementUrl&&(this.pageAgreementUrl=e.pageAgreementUrl)}}).catch(e=>{this.showVsAlertDialog(this.$t("common.alert"),this.$t("net.error"),()=>{this.hasAdmin()})})},onAnswerInput(e){this.twoStepAnswer=e,this.handleSubmit()},goForgotPwd(){this.$router.push({path:"/forgotPwd"})},handleSubmit(){return this.formInline.username.length<2?this.showVsNotification(this.$t("registerAdmin.usernameLengthLimit")):this.formInline.password.length<2?this.showVsNotification(this.$t("registerAdmin.passwordLengthLimit")):(this.saveUsernamePwd?(localStorage.setItem("cacheLoginUsername",this.formInline.username),localStorage.setItem("cacheLoginPassword",this.base64.encode(this.formInline.password)),this.formInline.answer&&localStorage.setItem("cacheLoginAnswer",this.base64.encode(this.formInline.answer)),localStorage.setItem("autoLogin",1)):(localStorage.removeItem("cacheLoginUsername"),localStorage.removeItem("cacheLoginPassword"),localStorage.removeItem("cacheLoginAnswer"),localStorage.removeItem("autoLogin")),this.btnCanUse=!1,void this.api.post("/api/usersApi/login",{username:this.formInline.username,password:this.base64.encode(this.formInline.password),client:"PC",answer:this.twoStepAnswer}).then(t=>{if(t.code)this.btnCanUse=!0;else{if(this.lockMode)this.$emit("onLogin");else{localStorage.setItem("token",this.encrypt(t.token)),localStorage.setItem("currentUser",this.encrypt(JSON.stringify(t.user))),this.$store.state.currentUser=t.user,this.$store.state.token=t.token,this.showVsNotification(this.$t("login.success"));let e="";try{e=JSON.stringify({username:this.formInline.username,password:this.base64.encode(this.formInline.password),answer:this.twoStepAnswer})}catch(e){}n.a.onLoginSuc(e),this.goHome()}t.reqIp,localStorage.reqIp=t.reqIp}this.twoStepAnswer=""}).catch(e=>{2==e.code&&(this.question=e.question,this.showTwoStep=!0,this.$refs.twoStepDialog.setShow(!0)),this.twoStepAnswer="",this.btnCanUse=!0}))}}},a=(s("d45b"),s("2877")),a=Object(a.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-root"},[t.gotInitInfo&&!t.isMobile?i("img",{staticStyle:{position:"fixed",left:"60px",top:"40px",height:"32px","object-fit":"contain"},attrs:{src:t.getLogoImageUrl,mode:"widthFix"}}):t._e(),i("div",{staticStyle:{display:"flex",height:"100%",width:"100%","align-items":"center","justify-content":"center"}},[t.gotInitInfo?i("img",{staticClass:"left-img",attrs:{src:t.getLoginImageUrl}}):t._e(),i("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[i("div",{staticStyle:{"margin-bottom":"50px",width:"100%","padding-left":"10px","padding-right":"10px"}},[t.gotInitInfo?i("div",{staticStyle:{"font-size":"28px"}},[t._v(t._s(t.getLoginTitle))]):t._e()]),i("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text",color:"#F6FAFF",placeholder:t.$t("registerAdmin.placeholderUsername")},scopedSlots:t._u([{key:"icon",fn:function(){return[i("img",{staticClass:"input-icon",attrs:{src:s("8ec7")}})]},proxy:!0}]),model:{value:t.formInline.username,callback:function(e){t.$set(t.formInline,"username",e)},expression:"formInline.username"}}),i("vs-input",{staticStyle:{"margin-top":"30px"},attrs:{autocapitalize:"off",autocorrect:"off",type:"password",color:"#F6FAFF",placeholder:t.$t("registerAdmin.placeholderPassword")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit()}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("img",{staticClass:"input-icon",attrs:{src:s("4287")}})]},proxy:!0}]),model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}}),t.pagePrivacyUrl&&t.pageAgreementUrl?i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start",width:"100%","margin-top":"20px","padding-left":"10px"}},[i("Checkbox",{model:{value:t.agreeValue,callback:function(e){t.agreeValue=e},expression:"agreeValue"}}),i("span",[t._v(t._s(t.$t("login.agree")))]),i("a",{attrs:{href:t.pagePrivacyUrl,target:"_blank"}},[t._v(t._s(t.$t("login.privacy")))]),i("span",[t._v(t._s(t.$t("common.and")))]),i("a",{attrs:{href:t.pageAgreementUrl,target:"_blank"}},[t._v(t._s(t.$t("login.agreement")))])],1):t._e(),t.$store.state.runInElectron?t._e():i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start",width:"100%","margin-top":"10px","padding-left":"10px"}},[i("Checkbox",{model:{value:t.saveUsernamePwd,callback:function(e){t.saveUsernamePwd=e},expression:"saveUsernamePwd"}}),i("span",[t._v(t._s(t.$t("login.saveUsernamePwd")))])],1),i("vs-button",{staticStyle:{height:"46px","border-radius":"23px","font-size":"20px","margin-top":"30px",width:"260px"},on:{click:function(e){return t.handleSubmit()}}},[t._v(" "+t._s(t.lockMode?t.$t("login.unlockScreen"):t.$t("login.btLogin"))+" ")]),t.lockMode?t._e():i("vs-button",{staticStyle:{"margin-top":"20px"},attrs:{border:""},on:{click:function(e){return t.$refs.goForgetConfirm.setShow(!0)}}},[t._v(t._s(t.$t("login.forgotPwd"))+" ")]),t.isFromApp?i("a",{staticStyle:{"margin-top":"20px"},on:{click:t.onChooseOtherServer}},[t._v(t._s(t.$t("login.chooseOtherServer")))]):t._e()],1)]),i("my-dialog-confirm",{ref:"goForgetConfirm",attrs:{content:t.$t("login.getPwdOnlyForAdmin")},on:{onOkClick:t.goForgotPwd}}),i("my-dialog-input",{ref:"twoStepDialog",attrs:{placeholder:t.$t("resetPwd.placeholderAnswer"),showCloseBtn:!0,content:t.$t("resetPwd.question")+t.question,title:t.$t("setting.security.loginNeedAnswer")},on:{onOkClick:t.onAnswerInput}})],1)},[],!1,null,"029527dc",null);t.default=a.exports},c1f4:function(e,t,i){e.exports=i.p+"img/8.128189fd.jpg"},c220:function(e,t,i){"use strict";var s={props:{},components:{},data(){return{cursorMinHeight:80,visiable:!1,cursorHeight:50,cursorWidth:10,cursorDefaultWidth:10,cursorFocusWidth:10,cursorTop:0,cursorInFocus:!1,timer:null,scrollTarget:null,cursorTopWhenDown:0,cursorClientYWhenDown:0,lastOnMoveTime:0}},mounted(){document.onmousemove=this.onMouseMove,document.onmouseup=this.onMouseUp},beforeDestroy(){this.timer&&clearTimeout(this.timer),this.scrollTarget=null,document.onmousemove=null,document.onmouseup=null},methods:{onMouseMove(e){this.cursorInFocus&&this.$refs.cursorRoot&&this.setScrollBarPosition(e.clientY)},onMouseUp(e){this.cursorInFocus=!1},onMouseDown(e){this.cursorWidth=this.cursorFocusWidth,this.cursorTopWhenDown=this.cursorTop,this.cursorClientYWhenDown=e.clientY,this.cursorInFocus=!0},onTouchStart(e){this.cursorTopWhenDown=this.cursorTop,this.cursorClientYWhenDown=e.targetTouches[0].pageY,this.cursorInFocus=!0},onTouchEnd(e){this.cursorInFocus=!1,this.setVisiableTimer()},onTouchMove(e){this.cursorInFocus&&this.$refs.cursorRoot&&e&&e.targetTouches&&(e=e.targetTouches[0].pageY,this.setScrollBarPosition(e))},setScrollBarPosition(e){let t=this.cursorTopWhenDown+(e-this.cursorClientYWhenDown),i=this.$refs.cursorRoot.clientHeight,s=((t=t<0?0:t)+this.cursorHeight>i&&(t=i-this.cursorHeight),(this.cursorTop=t)/i);.98<s&&(s=1),this.scrollTarget&&(this.scrollTarget.scrollTop=this.scrollTarget.scrollHeight*s)},setVisiableTimer(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cursorInFocus||(this.visiable=!1)},5e3)},onScroll(e){var t,i,s;e&&e.target&&this.$refs.cursorRoot&&(this.scrollTarget=e.target,t=e.target.scrollTop,i=e.target.scrollHeight,e=e.target.clientHeight,(s=this.$refs.cursorRoot.clientHeight)<1||(this.cursorHeight=e/i*s,this.cursorHeight<this.cursorMinHeight&&(this.cursorHeight=this.cursorMinHeight),this.cursorInFocus||(this.cursorTop=t/i*s),0<this.cursorHeight&&this.cursorHeight>=.8*s?this.visiable=!1:(this.visiable=!0,this.setVisiableTimer())))}}},i=(i("e95e"),i("2877")),i=Object(i.a)(s,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{ref:"cursorRoot",staticClass:"my-scroll-root"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visiable,expression:"visiable"}],staticClass:"cursor",style:{width:e.cursorWidth+"px",top:e.cursorTop+"px",height:e.cursorHeight+"px","min-height":e.cursorMinHeight+"px"},on:{mousedown:e.onMouseDown,touchend:e.onTouchEnd,touchstart:e.onTouchStart,touchmove:e.onTouchMove}})])},[],!1,null,"0a108cd2",null);t.a=i.exports},c5a7:function(e,t,i){},c659:function(e,t,i){"use strict";i("6e2b")},c6d6:function(e,t){},c6fd:function(e,t,i){e.exports=i.p+"img/3.e329ba08.jpg"},c7f3:function(e,t,i){"use strict";var s=i("4fe7");const n="ivu-divider";var r={name:"Divider",props:{type:{type:String,default:"horizontal",validator(e){return Object(s.m)(e,["horizontal","vertical"])}},orientation:{type:String,default:"center",validator(e){return Object(s.m)(e,["left","right","center"])}},dashed:{type:Boolean,default:!1},size:{validator(e){return Object(s.m)(e,["small","default"])},default:"default"},plain:{type:Boolean,default:!1}},computed:{hasSlot(){return!!this.$slots.default},classes(){return[n,n+"-"+this.type,n+"-"+this.size,{"ivu-divider-with-text":this.hasSlot&&"center"===this.orientation,[n+"-with-text-"+this.orientation]:this.hasSlot,"ivu-divider-dashed":!!this.dashed,"ivu-divider-plain":this.plain}]},slotClasses(){return[n+"-inner-text"]}}},i=i("2877"),i=Object(i.a)(r,function(){var e=this.$createElement,e=this._self._c||e;return e("div",{class:this.classes},[this.hasSlot?e("span",{class:this.slotClasses},[this._t("default")],2):this._e()])},[],!1,null,null,null);t.a=i.exports},c89a:function(e,t,i){"use strict";const s=i("2b0e").default.prototype.$isServer;t.a=function(e){s||void 0!==window.iview&&("langs"in iview||(iview.langs={}),iview.langs[e.i.locale]=e)}},c991:function(e,t,i){"use strict";i("6fec")},cae4:function(e,t,i){e.exports=i.p+"img/9.418f664c.jpg"},cb7c:function(e,t,i){},ccdb:function(e,t,i){"use strict";i.r(t);var s=i("0714"),n=i("1ee4"),r=i("e86f"),r={name:"file-select",props:{initPath:{default:"",type:String},fileType:{default:2,type:Number}},components:{fileSelectBar:r.a,folderBrower:s.a,folderBrowerOperationBar:n.a},data(){return{disableBack:!1}},methods:{goBack(){this.$refs.fileBrower.goBack()},onSelect(e){this.$emit("onSelect",e)},onSelect(){var e=this.$refs.fileBrower.getCurrentSelectedPath();e&&this.$emit("onSelect",e)},onParentChange(e,t){this.disableBack=t},createNewFolder(e){this.$refs.fileBrower.createNewFolder(e)}}},s=(i("1c3e"),i("2877")),n=Object(s.a)(r,function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"select-root"},[e("div",{staticStyle:{"padding-bottom":"80px"}},[e("folder-brower",{ref:"fileBrower",attrs:{fileType:this.fileType,initPath:this.initPath,selectMode:!0},on:{onSelect:this.onSelect,onParentChange:this.onParentChange}})],1)])},[],!1,null,"cb2f8926",null);t.default=n.exports},cce3:function(e,t,i){"use strict";i("9482")},cd39:function(e,t,i){"use strict";i("30d1")},cf1c:function(e,t,i){e.exports=i.p+"img/loading.d71d8ccb.gif"},cf9a:function(e,t,i){"use strict";i("acfe")},d3a4:function(e,t,i){"use strict";var s=i("2b0e"),n=i("a925"),r=i("c89a"),a={i:{locale:"en-US",select:{placeholder:"Select",noMatch:"No matching data",loading:"Loading"},table:{noDataText:"No Data",noFilteredDataText:"No filter data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},datepicker:{selectDate:"Select date",selectTime:"Select time",startTime:"Start Time",endTime:"End Time",clear:"Clear",ok:"OK",datePanelLabel:"[mmmm] [yyyy]",month:"Month",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",year:"Year",weekStartDay:"0",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{m1:"Jan",m2:"Feb",m3:"Mar",m4:"Apr",m5:"May",m6:"Jun",m7:"Jul",m8:"Aug",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Dec"}},transfer:{titles:{source:"Source",target:"Target"},filterPlaceholder:"Search here",notFoundText:"Not Found"},modal:{okText:"OK",cancelText:"Cancel"},poptip:{okText:"OK",cancelText:"Cancel"},page:{prev:"Previous Page",next:"Next Page",total:"Total",item:"item",items:"items",prev5:"Previous 5 Pages",next5:"Next 5 Pages",page:"/page",goto:"Goto",p:""},rate:{star:"Star",stars:"Stars"},time:{before:" ago",after:" after",just:"just now",seconds:" seconds",minutes:" minutes",hours:" hours",days:" days"},tree:{emptyText:"No Data"}}},o=(Object(r.a)(a),i("aea6")),l={i:{locale:"zh-TW",select:{placeholder:"請選擇",noMatch:"無匹配資料",loading:"加載中"},table:{noDataText:"暫無資料",noFilteredDataText:"暫無篩選結果",confirmFilter:"篩選",resetFilter:"重置",clearFilter:"全部",sumText:"合計"},datepicker:{selectDate:"選擇日期",selectTime:"選擇時間",startTime:"開始時間",endTime:"結束時間",clear:"清空",ok:"確定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"來源列表",target:"目標列表"},filterPlaceholder:"請輸入搜尋內容",notFoundText:"列表爲空"},modal:{okText:"確定",cancelText:"取消"},poptip:{okText:"確定",cancelText:"取消"},page:{prev:"上一頁",next:"下一頁",total:"共",item:"條",items:"條",prev5:"向前 5 頁",next5:"向後 5 頁",page:"條/頁",goto:"跳至",p:"頁"},rate:{star:"星",stars:"星"},tree:{emptyText:"暫無資料"}}},r=(Object(r.a)(l),l),l=i("2252"),c=i("a467"),i=i("4a03"),s=(s.default.use(n.a),{"zh-CN":Object.assign(c,o.a),"en-US":Object.assign(i,a),"zh-TW":Object.assign(l,r)}),c=new n.a({locale:localStorage.getItem("lang")?localStorage.getItem("lang"):"zh-CN",messages:s});t.a=c},d3ac:function(B,e,t){"use strict";t.r(e);t("14d9"),t("3c65"),t("8822");var i=function(){return(i=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};var F="lgAfterAppendSlide",R="lgInit",$="lgHasVideo",U="lgContainerResize",n="lgUpdateSlides",j="lgAfterAppendSubHtml",V="lgBeforeOpen",z="lgAfterOpen",W="lgSlideItemLoad",H="lgBeforeSlide",q="lgAfterSlide",o="lgPosterClick",G="lgDragStart",Y="lgDragMove",Q="lgDragEnd",s="lgBeforeNextSlide",r="lgBeforePrevSlide",K="lgBeforeClose",X="lgAfterClose",Z={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"A8FG-E0E1-E412-561S",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"404 not found"}};function J(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}l.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},l.prototype._getSelector=function(e,t){return void 0===t&&(t=document),"string"!=typeof e?e:(t=t||document,"#"===e.substring(0,1)?t.querySelector(e):t.querySelectorAll(e))},l.prototype._each=function(e){return this.selector&&(void 0!==this.selector.length?[].forEach.call(this.selector,e):e(this.selector,0)),this},l.prototype._setCssVendorPrefix=function(e,t,i){t=t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()});-1!==this.cssVenderPrefixes.indexOf(t)?(e.style[t.charAt(0).toLowerCase()+t.slice(1)]=i,e.style["webkit"+t]=i,e.style["moz"+t]=i,e.style["ms"+t]=i,e.style["o"+t]=i):e.style[t]=i},l.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},l.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter(function(e){return e}).every(function(e){return-1!==i.indexOf(e)})},l.prototype.attr=function(t,i){return void 0===i?this.firstElement?this.firstElement.getAttribute(t):"":(this._each(function(e){e.setAttribute(t,i)}),this)},l.prototype.find=function(e){return w(this._getSelector(e,this.selector))},l.prototype.first=function(){return this.selector&&void 0!==this.selector.length?w(this.selector[0]):w(this.selector)},l.prototype.eq=function(e){return w(this.selector[e])},l.prototype.parent=function(){return w(this.selector.parentElement)},l.prototype.get=function(){return this._getFirstEl()},l.prototype.removeAttr=function(e){var i=e.split(" ");return this._each(function(t){i.forEach(function(e){return t.removeAttribute(e)})}),this},l.prototype.wrap=function(e){var t;return this.firstElement&&((t=document.createElement("div")).className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement)),this},l.prototype.addClass=function(e){return void 0===e&&(e=""),this._each(function(t){e.split(" ").forEach(function(e){e&&t.classList.add(e)})}),this},l.prototype.removeClass=function(e){return this._each(function(t){e.split(" ").forEach(function(e){e&&t.classList.remove(e)})}),this},l.prototype.hasClass=function(e){return!!this.firstElement&&this.firstElement.classList.contains(e)},l.prototype.hasAttribute=function(e){return!!this.firstElement&&this.firstElement.hasAttribute(e)},l.prototype.toggleClass=function(e){return this.firstElement&&(this.hasClass(e)?this.removeClass(e):this.addClass(e)),this},l.prototype.css=function(t,i){var s=this;return this._each(function(e){s._setCssVendorPrefix(e,t,i)}),this},l.prototype.on=function(e,t){var i=this;return this.selector&&e.split(" ").forEach(function(e){Array.isArray(l.eventListeners[e])||(l.eventListeners[e]=[]),l.eventListeners[e].push(t),i.selector.addEventListener(e.split(".")[0],t)}),this},l.prototype.once=function(e,t){var i=this;return this.on(e,function(){i.off(e),t(e)}),this},l.prototype.off=function(e){var i=this;return this.selector&&Object.keys(l.eventListeners).forEach(function(t){i.isEventMatched(e,t)&&(l.eventListeners[t].forEach(function(e){i.selector.removeEventListener(t.split(".")[0],e)}),l.eventListeners[t]=[])}),this},l.prototype.trigger=function(e,t){return this.firstElement&&(e=new CustomEvent(e.split(".")[0],{detail:t||null}),this.firstElement.dispatchEvent(e)),this},l.prototype.load=function(e){var t=this;return fetch(e).then(function(e){return e.text()}).then(function(e){t.selector.innerHTML=e}),this},l.prototype.html=function(t){return void 0===t?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(e){e.innerHTML=t}),this)},l.prototype.append=function(t){return this._each(function(e){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):e.appendChild(t)}),this},l.prototype.prepend=function(t){return this._each(function(e){e.insertAdjacentHTML("afterbegin",t)}),this},l.prototype.remove=function(){return this._each(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}),this},l.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},l.prototype.scrollTop=function(e){return void 0!==e?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},l.prototype.scrollLeft=function(e){return void 0!==e?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},l.prototype.offset=function(){var e,t;return this.firstElement?(e=this.firstElement.getBoundingClientRect(),t=w("body").style().marginLeft,{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}):{left:0,top:0}},l.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},l.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},l.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},l.eventListeners={};var a=l;function l(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}function w(e){return J(),new a(e)}var ee=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];var S=function(e,t,i,s){void 0===i&&(i=0);var n=w(e).attr("data-lg-size")||s;if(n){var r=n.split(",");if(r[1])for(var a=window.innerWidth,o=0;o<r.length;o++){var l=r[o];if(a<parseInt(l.split("-")[2],10)){n=l;break}o===r.length-1&&(n=l)}var e=n.split("-"),s=parseInt(e[0],10),e=parseInt(e[1],10),c=t.width(),t=t.height()-i,i=Math.min(c,s),c=Math.min(t,e),t=Math.min(i/s,c/e);return{width:s*t,height:e*t}}},te=function(e,t,i,s,n){if(n){var r,a,o,l,e=w(e).find("img").first();if(e.get())return o=(l=t.get().getBoundingClientRect()).width,t=t.height()-(i+s),s=e.width(),r=e.height(),a=e.style(),o=(o-s)/2-e.offset().left+(parseFloat(a.paddingLeft)||0)+(parseFloat(a.borderLeft)||0)+w(window).scrollLeft()+l.left,l=(t-r)/2-e.offset().top+(parseFloat(a.paddingTop)||0)+(parseFloat(a.borderTop)||0)+w(window).scrollTop()+i,"translate3d("+(o*=-1)+"px, "+(l*=-1)+"px, 0) scale3d("+s/n.width+", "+r/n.height+", 1)"}},ie=function(e,t,i,s,n,r){return'<div class="lg-video-cont lg-has-iframe" style="width:'+e+"; max-width:"+i+"; height: "+t+"; max-height:"+s+'">\n                    <iframe class="lg-object" frameborder="0" '+(r?'title="'+r+'"':"")+' src="'+n+'"  allowfullscreen="true"></iframe>\n                </div>'},se=function(e,t,i,s,n,r){i="<img "+i+" "+(s?'srcset="'+s+'"':"")+"  "+(n?'sizes="'+n+'"':"")+' class="lg-object lg-image" data-index="'+e+'" src="'+t+'" />',s="";return(s=r?("string"==typeof r?JSON.parse(r):r).map(function(t){var i="";return Object.keys(t).forEach(function(e){i+=" "+e+'="'+t[e]+'"'}),"<source "+i+"></source>"}):s)+i},ne=function(e){for(var t=[],i=[],s="",n=0;n<e.length;n++){var r=e[n].split(" ");""===r[0]&&r.splice(0,1),i.push(r[0]),t.push(r[1])}for(var a=window.innerWidth,o=0;o<t.length;o++)if(parseInt(t[o],10)>a){s=i[o];break}return s},re=function(e){return!!e&&!!e.complete&&0!==e.naturalWidth},ae=function(e,t,i,s,n){return'<div class="lg-video-cont '+(n&&n.youtube?"lg-has-youtube":n&&n.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+s+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+s+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(t||"")+'\n            <img class="lg-object lg-video-poster" src="'+e+'" />\n        </div>'},oe=function(e){e=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return[].filter.call(e,function(e){e=window.getComputedStyle(e);return"none"!==e.display&&"hidden"!==e.visibility})},le=function(e,t,c,u){var h=[],d=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var s=Array(e),n=0,t=0;t<i;t++)for(var r=arguments[t],a=0,o=r.length;a<o;a++,n++)s[n]=r[a];return s}(ee,t);return[].forEach.call(e,function(e){for(var t={},i=0;i<e.attributes.length;i++){var s,n,r=e.attributes[i];r.specified&&(s="href"===(s=r.name)?"src":s=(s=(s=s.replace("data-","")).charAt(0).toLowerCase()+s.slice(1)).replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),n="",n=-1<d.indexOf(s)?s:n)&&(t[n]=r.value)}var a=w(e),o=a.find("img").first().attr("alt"),l=a.attr("title"),a=u?a.attr(u):a.find("img").first().attr("src");t.thumb=a,c&&!t.subHtml&&(t.subHtml=l||o||""),t.alt=o||l||"",h.push(t)}),h},ce=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},ue=function(e,t,i){var s,n;return e?(s=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),n=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),e=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/),s?{youtube:s}:n?{vimeo:n}:e?{wistia:e}:void 0):t?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/")},he=0,de=(c.prototype.generateSettings=function(e){this.settings=i(i({},Z),e),(this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():ce())&&(e=i(i({},this.settings.mobileSettings),this.settings.mobileSettings),this.settings=i(i({},this.settings),e))},c.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},c.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(R,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},c.prototype.openGalleryOnItemClick=function(){for(var n=this,r=this,e=0;e<this.items.length;e++)!function(t){var i=r.items[t],e=w(i),s=a.generateUUID();e.attr("data-lg-id",s).on("click.lgcustom-item-"+s,function(e){e.preventDefault();e=n.settings.index||t;n.openGallery(e,i)})}(e)},c.prototype.buildModules=function(){var t=this;this.settings.plugins.forEach(function(e){t.plugins.push(new e(t,w))})},c.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},c.prototype.getSlideItem=function(e){return w(this.getSlideItemId(e))},c.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},c.prototype.getIdName=function(e){return e+"-"+this.lgId},c.prototype.getElementById=function(e){return w("#"+this.getIdName(e))},c.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},c.prototype.buildStructure=function(){var e,t,i,s,n,r,a,o,l=this;this.$container&&this.$container.get()||(t=e="",this.settings.controls&&(e='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(t='<div class="lg-sub-html" role="status" aria-live="polite"></div>'),i="",this.settings.allowMediaOverlap&&(i+="lg-media-overlap "),o=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",s=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",a="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),n=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",r=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",a='\n        <div class="'+a+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+o+" "+s+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+i+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+e+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+r+"\n                    "+n+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?t:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?t:"")+"\n                </div>\n            </div>\n        </div>\n        ",w(this.settings.container).append(a),document.body!==this.settings.container&&w(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms"),o=this.settings.mode+" ",this.manageSingleSlideClassName(),this.settings.enableDrag&&(o+="lg-grab "),this.outer.addClass(o),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),w(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){l.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules())},c.prototype.refreshOnResize=function(){var e,t,i;this.lgOpened&&(e=this.galleryItems[this.index].__slideVideoInfo,this.mediaContainerPosition=this.getMediaContainerPosition(),i=(t=this.mediaContainerPosition).top,t=t.bottom,this.currentImageSize=S(this.items[this.index],this.outer,i+t,e&&this.settings.videoMaxSize),e&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved&&(i=this.getDummyImgStyles(this.currentImageSize),this.outer.find(".lg-current .lg-dummy-img").first().attr("style",i)),this.LGel.trigger(U))},c.prototype.resizeVideoSlide=function(e,t){t=this.getVideoContStyle(t);this.getSlideItem(e).find(".lg-video-cont").attr("style",t)},c.prototype.updateSlides=function(e,t){var i,s;this.index>e.length-1&&(this.index=e.length-1),1===e.length&&(this.index=0),e.length?(i=this.galleryItems[t].src,this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[],s=0,this.galleryItems.some(function(e,t){return e.src===i&&(s=t,!0)}),this.currentItemsInDom=this.organizeSlideItems(s,-1),this.loadContent(s,!0),this.getSlideItem(s).addClass("lg-current"),this.index=s,this.updateCurrentCounter(s),this.LGel.trigger(n)):this.closeGallery()},c.prototype.getItems=function(){var e;return this.items=[],this.settings.dynamic?this.settings.dynamicEl||[]:("this"===this.settings.selector?this.items.push(this.el):this.settings.selector?"string"==typeof this.settings.selector?this.settings.selectWithin?(e=w(this.settings.selectWithin),this.items=e.find(this.settings.selector).get()):this.items=this.el.querySelectorAll(this.settings.selector):this.items=this.settings.selector:this.items=this.el.children,le(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage))},c.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},c.prototype.hideScrollbar=function(){var e;this.shouldHideScrollbar()&&(this.bodyPaddingRight=parseFloat(w("body").style().paddingRight),e=document.documentElement.getBoundingClientRect(),e=window.innerWidth-e.width,w(document.body).css("padding-right",e+this.bodyPaddingRight+"px"),w(document.body).addClass("lg-overlay-open"))},c.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(w(document.body).css("padding-right",this.bodyPaddingRight+"px"),w(document.body).removeClass("lg-overlay-open"))},c.prototype.openGallery=function(t,e){var i,s,n,r,a,o=this;void 0===t&&(t=this.settings.index),this.lgOpened||(this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show"),r=this.getItemsToBeInsertedToDom(t,t),this.currentItemsInDom=r,i="",r.forEach(function(e){i=i+'<div id="'+e+'" class="lg-item"></div>'}),this.$inner.append(i),this.addHtml(t),s="",this.mediaContainerPosition=this.getMediaContainerPosition(),n=(r=this.mediaContainerPosition).top,r=r.bottom,this.settings.allowMediaOverlap||this.setMediaContainerPosition(n,r),a=this.galleryItems[t].__slideVideoInfo,this.zoomFromOrigin&&e&&(this.currentImageSize=S(e,this.outer,n+r,a&&this.settings.videoMaxSize),s=te(e,this.outer,n,r,this.currentImageSize)),this.zoomFromOrigin&&s||(this.outer.addClass(this.settings.startClass),this.getSlideItem(t).removeClass("lg-complete")),a=this.settings.zoomFromOrigin?100:this.settings.backdropDuration,setTimeout(function(){o.outer.addClass("lg-components-open")},a),this.index=t,this.LGel.trigger(V),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=w(window).scrollTop(),setTimeout(function(){var e;o.zoomFromOrigin&&s&&((e=o.getSlideItem(t)).css("transform",s),setTimeout(function(){e.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",o.settings.startAnimationDuration+"ms"),o.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){e.css("transform","translate3d(0, 0, 0)")},100)),setTimeout(function(){o.$backdrop.addClass("in"),o.$container.addClass("lg-show-in")},10),setTimeout(function(){o.settings.trapFocus&&document.body===o.settings.container&&o.trapFocus()},o.settings.backdropDuration+50),o.zoomFromOrigin&&s||setTimeout(function(){o.outer.addClass("lg-visible")},o.settings.backdropDuration),o.slide(t,!1,!1,!1),o.LGel.trigger(z)}),document.body===this.settings.container&&w("html").addClass("lg-on"))},c.prototype.getMediaContainerPosition=function(){var e,t;return this.settings.allowMediaOverlap?{top:0,bottom:0}:(t=this.$toolbar.get().clientHeight||0,e=this.outer.find(".lg-components .lg-sub-html").get(),e=this.settings.defaultCaptionHeight||e&&e.clientHeight||0,{top:t,bottom:((t=this.outer.find(".lg-thumb-outer").get())?t.clientHeight:0)+e})},c.prototype.setMediaContainerPosition=function(e,t){void 0===t&&(t=0),this.$content.css("top",(e=void 0===e?0:e)+"px").css("bottom",t+"px")},c.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),0<e.settings.hideBarsDelay&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},c.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch(e){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},c.prototype.counter=function(){var e;this.settings.counter&&(e='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>",this.outer.find(this.settings.appendCounterTo).append(e))},c.prototype.addHtml=function(e){var t,i,s;this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,i||(t?"."!==(s=t.substring(0,1))&&"#"!==s||(t=(this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?w(this.items).eq(e).find(t):w(t)).first().html()):t=""),".lg-item"!==this.settings.appendSubHtmlTo?i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(t):(s=w(this.getSlideItemId(e)),i?s.load(i):s.append('<div class="lg-sub-html">'+t+"</div>")),null!=t&&(""===t?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(j,{index:e})},c.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},c.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+"px;\n                margin-left: -"+e.width/2+"px;\n                margin-top: -"+e.height/2+"px;\n                height:"+e.height+"px":""},c.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+"px;\n                height:"+e.height+"px":""},c.prototype.getDummyImageContent=function(e,t,i){var s;return(s=this.settings.dynamic?s:w(this.items).eq(t))&&(t=void 0,t=this.settings.exThumbImage?s.attr(this.settings.exThumbImage):s.find("img").first().attr("src"))?(s="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+t+'" />',e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),s):""},c.prototype.setImgMarkup=function(e,t,i){var s=this.galleryItems[i],n=s.alt,r=s.srcset,a=s.sizes,s=s.sources,n=n?'alt="'+n+'"':"",i='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(t,i,n):se(i,e,n,r,a,s))+"</picture>";t.prepend(i)},c.prototype.onSlideObjectLoad=function(e,t,i,s){e=e.find(".lg-object").first();re(e.get())||t?i():(e.on("load.lg error.lg",function(){i&&i()}),e.on("error.lg",function(){s&&s()}))},c.prototype.onLgObjectLoad=function(e,t,i,s,n,r){var a=this;this.onSlideObjectLoad(e,r,function(){a.triggerSlideItemLoad(e,t,i,s,n)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+a.settings.strings.mediaLoadingFailed+"</span>")})},c.prototype.triggerSlideItemLoad=function(e,t,i,s,n){var r=this,a=this.galleryItems[t],a=n&&"video"===this.getSlideType(a)&&!a.poster?s:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),r.LGel.trigger(W,{index:t,delay:i||0,isFirstSlide:n})},a)},c.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},c.prototype.addSlideVideoInfo=function(e){var i=this;e.forEach(function(e,t){e.__slideVideoInfo=ue(e.src,!!e.video,t),e.__slideVideoInfo&&i.settings.loadYouTubePoster&&!e.poster&&e.__slideVideoInfo.youtube&&(e.poster="//img.youtube.com/vi/"+e.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},c.prototype.loadContent=function(t,e){var i,s,n,r=this,a=this.galleryItems[t],o=w(this.getSlideItemId(t)),l=a.poster,c=a.srcset,u=a.sizes,h=a.sources,d=a.src,p=a.video,p=p&&"string"==typeof p?JSON.parse(p):p,m=(a.responsive&&(f=a.responsive.split(","),d=ne(f)||d),a.__slideVideoInfo),f="",g=!!a.iframe,y=!this.lGalleryOn,v=0,b=(y&&(v=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),o.hasClass("lg-loaded")||(m&&(n=(s=this.mediaContainerPosition).top,s=s.bottom,n=S(this.items[t],this.outer,n+s,m&&this.settings.videoMaxSize),f=this.getVideoContStyle(n)),g?(i=ie(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,d,a.iframeTitle),o.prepend(i)):l?(s="",y&&this.zoomFromOrigin&&this.currentImageSize&&(s=this.getDummyImageContent(o,t,"")),i=ae(l,s||"",f,this.settings.strings.playVideo,m),o.prepend(i)):m?o.prepend(i='<div class="lg-video-cont " style="'+f+'"></div>'):(this.setImgMarkup(d,o,t),(c||h)&&(n=o.find(".lg-object"),this.initPictureFill(n))),(l||m)&&this.LGel.trigger($,{index:t,src:d,html5Video:p,hasPoster:!!l}),this.LGel.trigger(F,{index:t}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(t)),0);v&&!w(document.body).hasClass("lg-from-hash")&&(b=v),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){o.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),o.hasClass("lg-loaded")||setTimeout(function(){var e;"image"===r.getSlideType(a)&&(e=(e=a.alt)?'alt="'+e+'"':"",o.find(".lg-img-wrap").append(se(t,d,e,c,u,a.sources)),c||h)&&(e=o.find(".lg-object"),r.initPictureFill(e)),("image"===r.getSlideType(a)||"video"===r.getSlideType(a)&&l)&&(r.onLgObjectLoad(o,t,v,b,!0,!1),r.onSlideObjectLoad(o,!(!m||!m.html5||l),function(){r.loadContentOnFirstSlideLoad(t,o,b)},function(){r.loadContentOnFirstSlideLoad(t,o,b)}))},this.settings.startAnimationDuration+100)),o.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(a)||l)||this.onLgObjectLoad(o,t,v,b,y,!(!m||!m.html5||l)),this.zoomFromOrigin&&this.currentImageSize||!o.hasClass("lg-complete_")||this.lGalleryOn||setTimeout(function(){o.addClass("lg-complete")},this.settings.backdropDuration),(this.lGalleryOn=!0)===e&&(o.hasClass("lg-complete_")?this.preload(t):o.find(".lg-object").first().on("load.lg error.lg",function(){r.preload(t)}))},c.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var s=this;setTimeout(function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),s.outer.removeClass("lg-first-slide-loading"),s.isDummyImageRemoved=!0,s.preload(e)},i+300)},c.prototype.getItemsToBeInsertedToDom=function(e,t,i){var s=this,n=(void 0===i&&(i=0),[]),r=Math.max(i,3),r=Math.min(r,this.galleryItems.length),i="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)this.galleryItems.forEach(function(e,t){n.push("lg-item-"+s.lgId+"-"+t)});else{if(e<(this.galleryItems.length-1)/2){for(var a=e;e-r/2<a&&0<=a;a--)n.push("lg-item-"+this.lgId+"-"+a);for(var o=n.length,a=0;a<r-o;a++)n.push("lg-item-"+this.lgId+"-"+(e+a+1))}else{for(a=e;a<=this.galleryItems.length-1&&a<e+r/2;a++)n.push("lg-item-"+this.lgId+"-"+a);for(o=n.length,a=0;a<r-o;a++)n.push("lg-item-"+this.lgId+"-"+(e-a-1))}this.settings.loop&&(e===this.galleryItems.length-1?n.push("lg-item-"+this.lgId+"-0"):0===e&&n.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===n.indexOf(i)&&n.push("lg-item-"+this.lgId+"-"+t)}return n},c.prototype.organizeSlideItems=function(e,t){var i=this,s=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return s.forEach(function(e){-1===i.currentItemsInDom.indexOf(e)&&i.$inner.append('<div id="'+e+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(e){-1===s.indexOf(e)&&w("#"+e).remove()}),s},c.prototype.getPreviousSlideIndex=function(){var t=0;try{var e=this.outer.find(".lg-current").first().attr("id"),t=parseInt(e.split("-")[3])||0}catch(e){t=0}return t},c.prototype.setDownloadValue=function(e){var t;this.settings.download&&(!1===(e=this.galleryItems[e]).downloadUrl||"false"===e.downloadUrl?this.outer.addClass("lg-hide-download"):(t=this.getElementById("lg-download"),this.outer.removeClass("lg-hide-download"),t.attr("href",e.downloadUrl||e.src),e.download&&t.attr("download",e.download)))},c.prototype.makeSlideAnimation=function(e,t,i){var s=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout(function(){s.outer.addClass("lg-no-trans"),s.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout(function(){s.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),s.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},c.prototype.slide=function(e,t,i,s){var n,r,a,o,l,c,u=this,h=this.getPreviousSlideIndex();this.currentItemsInDom=this.organizeSlideItems(e,h),this.lGalleryOn&&h===e||(n=this.galleryItems.length,this.lgBusy||(this.settings.counter&&this.updateCurrentCounter(e),r=this.getSlideItem(e),a=this.getSlideItem(h),c=(l=this.galleryItems[e]).__slideVideoInfo,this.outer.attr("data-lg-slide-type",this.getSlideType(l)),this.setDownloadValue(e),c&&(o=(l=this.mediaContainerPosition).top,l=l.bottom,o=S(this.items[e],this.outer,o+l,c&&this.settings.videoMaxSize),this.resizeVideoSlide(e,o)),this.LGel.trigger(H,{prevIndex:h,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),s||(e<h?s="prev":h<e&&(s="next")),t?(this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide"),c=l=void 0,2<n?(l=e-1,c=e+1,(0===e&&h===n-1||e===n-1&&0===h)&&(c=0,l=n-1)):(l=0,c=1),"prev"===s?this.getSlideItem(c).addClass("lg-next-slide"):this.getSlideItem(l).addClass("lg-prev-slide"),r.addClass("lg-current")):this.makeSlideAnimation(s,r,a),this.lGalleryOn?setTimeout(function(){u.loadContent(e,!0),".lg-item"!==u.settings.appendSubHtmlTo&&u.addHtml(e)},this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){u.lgBusy=!1,a.removeClass("lg-slide-progress"),u.LGel.trigger(q,{prevIndex:h,index:e,fromTouch:t,fromThumb:i})},(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))),this.index=e)},c.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},c.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},c.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},c.prototype.touchMove=function(e,t,i){var s,n,r=t.pageX-e.pageX,t=t.pageY-e.pageY,e=!1;this.swipeDirection?e=!0:15<Math.abs(r)?(this.swipeDirection="horizontal",e=!0):15<Math.abs(t)&&(this.swipeDirection="vertical",e=!0),e&&(e=this.getSlideItem(this.index),"horizontal"===this.swipeDirection?(null!=i&&i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(e,r,0),s=15*(n=e.get().offsetWidth)/100-Math.abs(10*r/100),this.setTranslate(this.outer.find(".lg-prev-slide").first(),r-n-s,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),n+r+s,0)):"vertical"===this.swipeDirection&&this.settings.swipeToClose&&(null!=i&&i.preventDefault(),this.$container.addClass("lg-dragging-vertical"),n=1-Math.abs(t)/window.innerHeight,this.$backdrop.css("opacity",n),r=1-Math.abs(t)/(2*window.innerWidth),this.setTranslate(e,0,t,r,r),100<Math.abs(t))&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open"))},c.prototype.touchEnd=function(i,s,n){var r,a=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout(function(){a.$container.removeClass("lg-dragging-vertical"),a.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var e=!0;if("horizontal"===a.swipeDirection){r=i.pageX-s.pageX;var t=Math.abs(i.pageX-s.pageX);r<0&&t>a.settings.swipeThreshold?(a.goToNextSlide(!0),e=!1):0<r&&t>a.settings.swipeThreshold&&(a.goToPrevSlide(!0),e=!1)}else if("vertical"===a.swipeDirection){if(r=Math.abs(i.pageY-s.pageY),a.settings.closable&&a.settings.swipeToClose&&100<r)return void a.closeGallery();a.$backdrop.css("opacity",1)}a.outer.find(".lg-item").removeAttr("style"),e&&Math.abs(i.pageX-s.pageX)<5&&(t=w(n.target),a.isPosterElement(t))&&a.LGel.trigger(o),a.swipeDirection=void 0}),setTimeout(function(){a.outer.hasClass("lg-dragging")||"lg-slide"===a.settings.mode||a.outer.removeClass("lg-slide")},this.settings.speed+100)},c.prototype.enableSwipe=function(){var i=this,s={},t={},n=!1,r=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(e){i.dragOrSwipeEnabled=!0;var t=i.getSlideItem(i.index);!w(e.target).hasClass("lg-item")&&!t.get().contains(e.target)||i.outer.hasClass("lg-zoomed")||i.lgBusy||1!==e.touches.length||(r=!0,i.touchAction="swipe",i.manageSwipeClass(),s={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(e){r&&"swipe"===i.touchAction&&1===e.touches.length&&(t={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},i.touchMove(s,t,e),n=!0)}),this.$inner.on("touchend.lg",function(e){"swipe"===i.touchAction&&(n?(n=!1,i.touchEnd(t,s,e)):r&&(e=w(e.target),i.isPosterElement(e))&&i.LGel.trigger(o),i.touchAction=void 0,r=!1)}))},c.prototype.enableDrag=function(){var i=this,s={},n={},r=!1,a=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(e){i.dragOrSwipeEnabled=!0;var t=i.getSlideItem(i.index);!w(e.target).hasClass("lg-item")&&!t.get().contains(e.target)||i.outer.hasClass("lg-zoomed")||i.lgBusy||(e.preventDefault(),i.lgBusy)||(i.manageSwipeClass(),s={pageX:e.pageX,pageY:e.pageY},r=!0,i.outer.get().scrollLeft+=1,--i.outer.get().scrollLeft,i.outer.removeClass("lg-grab").addClass("lg-grabbing"),i.LGel.trigger(G))}),w(window).on("mousemove.lg.global"+this.lgId,function(e){r&&i.lgOpened&&(a=!0,n={pageX:e.pageX,pageY:e.pageY},i.touchMove(s,n),i.LGel.trigger(Y))}),w(window).on("mouseup.lg.global"+this.lgId,function(e){var t;i.lgOpened&&(t=w(e.target),a?(a=!1,i.touchEnd(n,s,e),i.LGel.trigger(Q)):i.isPosterElement(t)&&i.LGel.trigger(o),r)&&(r=!1,i.outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},c.prototype.triggerPosterClick=function(){var t=this;this.$inner.on("click.lg",function(e){!t.dragOrSwipeEnabled&&t.isPosterElement(w(e.target))&&t.LGel.trigger(o)})},c.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&2<this.galleryItems.length&&(0===this.index?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),-1<t&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},c.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(s,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(s,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){t.outer.removeClass("lg-right-end")},400)))},c.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(0<this.index?(this.index--,this.LGel.trigger(r,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(r,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){t.outer.removeClass("lg-left-end")},400)))},c.prototype.keyPress=function(){var t=this;w(window).on("keydown.lg.global"+this.lgId,function(e){t.lgOpened&&!0===t.settings.escKey&&27===e.keyCode&&(e.preventDefault(),t.settings.allowMediaOverlap&&t.outer.hasClass("lg-can-toggle")&&t.outer.hasClass("lg-components-open")?t.outer.removeClass("lg-components-open"):t.closeGallery()),t.lgOpened&&1<t.galleryItems.length&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode)&&(e.preventDefault(),t.goToNextSlide())})},c.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},c.prototype.arrowDisable=function(e){var t,i;!this.settings.loop&&this.settings.hideControlOnEnd&&(t=this.getElementById("lg-prev"),i=this.getElementById("lg-next"),e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===e?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled"))},c.prototype.setTranslate=function(e,t,i,s,n){e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+(s=void 0===s?1:s)+", "+(n=void 0===n?1:n)+", 1)")},c.prototype.mousewheel=function(){var i=this,s=0;this.outer.on("wheel.lg",function(e){var t;!e.deltaY||i.galleryItems.length<2||(e.preventDefault(),(t=(new Date).getTime())-s<1e3)||(s=t,0<e.deltaY?i.goToNextSlide():e.deltaY<0&&i.goToPrevSlide())})},c.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")},c.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},c.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},c.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=w(this.items[e]);t.off("click.lgcustom-item-"+t.attr("data-lg-id"))}},c.prototype.trapFocus=function(){var s=this;this.$container.get().focus({preventScroll:!0}),w(window).on("keydown.lg.global"+this.lgId,function(e){var t,i;!s.lgOpened||"Tab"!==e.key&&9!==e.keyCode||(t=(i=oe(s.$container.get()))[0],i=i[i.length-1],e.shiftKey?document.activeElement===t&&(i.focus(),e.preventDefault()):document.activeElement===i&&(t.focus(),e.preventDefault()))})},c.prototype.manageCloseGallery=function(){var t,i=this;this.settings.closable&&(t=!1,this.getElementById("lg-close").on("click.lg",function(){i.closeGallery()}),this.settings.closeOnTap)&&(this.outer.on("mousedown.lg",function(e){e=w(e.target);t=!!i.isSlideElement(e)}),this.outer.on("mousemove.lg",function(){t=!1}),this.outer.on("mouseup.lg",function(e){e=w(e.target);i.isSlideElement(e)&&t&&(i.outer.hasClass("lg-dragging")||i.closeGallery())}))},c.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(K),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&w(window).scrollTop(this.prevScrollTop);var i,s,n,r,e=this.items[this.index],a=(this.zoomFromOrigin&&e&&(i=(s=this.mediaContainerPosition).top,s=s.bottom,n=(a=this.galleryItems[this.index]).__slideVideoInfo,a=a.poster,n=S(e,this.outer,i+s,n&&a&&this.settings.videoMaxSize),r=te(e,this.outer,i,s,n)),this.zoomFromOrigin&&r?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",r)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,w("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0),this.zoomFromOrigin&&r?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration);return this.$container.removeClass("lg-show-in"),setTimeout(function(){t.zoomFromOrigin&&r&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(X,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1},a+100),a+100},c.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},c.prototype.destroyModules=function(t){this.plugins.forEach(function(e){try{t?e.destroy():e.closeGallery&&e.closeGallery()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},c.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),this.galleryItems=e||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(n)},c.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},c.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),w(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},c.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},c);function c(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},e){if(he++,this.lgId=he,this.el=e,this.LGel=w(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense()}return this}var pe=function(e,t){return new de(e,t)},u=function(){return(u=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},me={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},fe="lgContainerResize",ge="lgBeforeOpen",ye="lgAfterOpen",ve="lgSlideItemLoad",be="lgAfterSlide",we="lgRotateLeft",Se="lgRotateRight",_e="lgFlipHorizontal",Ce="lgFlipVertical";P.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},P.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index)&&t.setZoomEssentials()},i+30)},P.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(ve+".zoom",this.enableZoom.bind(this))},P.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},P.prototype.getSwipeCords=function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},P.prototype.getDragAllowedAxises=function(e,t){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),s=0,n=0;if(i){var r=i.getBoundingClientRect();if(r)return n=e?(s=i.offsetHeight*e,i.offsetWidth*e):t?(s=r.height+t*r.height,r.width+t*r.width):(s=r.height,r.width),i=s>this.containerRect.height,{allowX:n>this.containerRect.width,allowY:i}}},P.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},P.prototype.zoomImage=function(e,t,i,s){var n,r,a,o,l,c,u,h;Math.abs(t)<=0||(c=this.containerRect.width/2+this.containerRect.left,h=this.containerRect.height/2+this.containerRect.top+this.scrollTop,1===e&&(this.positionChanged=!1),(r=this.getDragAllowedAxises(0,t))&&(n=r.allowY,r=r.allowX,this.positionChanged&&(a=this.left/(this.scale-t),l=this.top/(this.scale-t),this.pageX=c-a,this.pageY=h-l,this.positionChanged=!1),a=this.getPossibleSwipeDragCords(t),l=c-this.pageX,c=h-this.pageY,h=1<e-t?(o=(e-t)/Math.abs(t),u=(l=(t<0?-l:l)+this.left*(o+(t<0?-1:1)))/o,(c=(t<0?-c:c)+this.top*(o+(t<0?-1:1)))/o):(u=l*(o=(e-t)*t),c*o),i&&(r?this.isBeyondPossibleLeft(u,a.minX)?u=a.minX:this.isBeyondPossibleRight(u,a.maxX)&&(u=a.maxX):1<e&&(u<a.minX?u=a.minX:u>a.maxX&&(u=a.maxX)),n?this.isBeyondPossibleTop(h,a.minY)?h=a.minY:this.isBeyondPossibleBottom(h,a.maxY)&&(h=a.maxY):1<e&&(h<a.minY?h=a.minY:h>a.maxY&&(h=a.maxY))),this.setZoomStyles({x:u,y:h,scale:e}),this.left=u,this.top=h,s)&&this.setZoomImageSize())},P.prototype.resetImageTranslate=function(e){var t;this.isImageSlide(e)&&(t=this.core.getSlideItem(e).find(".lg-image").first(),this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10))},P.prototype.setZoomImageSize=function(){var t=this,i=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var e=t.getCurrentImageActualSizeScale();t.scale>=e&&(i.addClass("no-transition"),t.imageReset=!0)},500),setTimeout(function(){var e=t.getCurrentImageActualSizeScale();t.scale>=e&&(e=t.getDragAllowedAxises(t.scale),i.css("width",i.get().naturalWidth+"px").css("height",i.get().naturalHeight+"px"),t.core.outer.addClass("lg-actual-size"),e.allowX&&e.allowY?i.addClass("reset-transition"):e.allowX&&!e.allowY?i.addClass("reset-transition-x"):!e.allowX&&e.allowY&&i.addClass("reset-transition-y"))},550)},P.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),s=this.core.outer.find(".lg-current .lg-dummy-img").first(),i=(this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),s.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),"translate3d("+e.x+"px, "+e.y+"px, 0)");t.css("transform",i)},P.prototype.setActualSize=function(e,i){var s,n=this;this.zoomInProgress||(this.zoomInProgress=!0,s=this.core.galleryItems[this.core.index],this.resetImageTranslate(e),setTimeout(function(){var e,t;s.src&&!n.core.outer.hasClass("lg-first-slide-loading")&&(e=n.getCurrentImageActualSizeScale(),t=n.scale,n.core.outer.hasClass("lg-zoomed")?n.scale=1:n.scale=n.getScale(e),n.setPageCords(i),n.beginZoom(n.scale),n.zoomImage(n.scale,n.scale-t,!0,!0))},50),setTimeout(function(){n.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){n.zoomInProgress=!1},610))},P.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),e=this.core.galleryItems[e].width;return e?parseFloat(e):t.get().naturalWidth},P.prototype.getActualSizeScale=function(e,t){e=t<=e?e/t||2:1;return e},P.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,t=this.getNaturalWidth(this.core.index)||e;return this.getActualSizeScale(t,e)},P.prototype.getPageCords=function(e){var t={};return e?(t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY):(e=this.core.$content.get().getBoundingClientRect(),t.x=e.width/2+e.left,t.y=e.height/2+this.scrollTop+e.top),t},P.prototype.setPageCords=function(e){e=this.getPageCords(e);this.pageX=e.x,this.pageY=e.y},P.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},P.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),1<e?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),1<e},P.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:t<e&&(e=t),e},P.prototype.init=function(){var i,s=this;this.settings.zoom&&(this.buildTemplates(),this.enableZoomOnSlideItemLoad(),i=null,this.core.outer.on("dblclick.lg",function(e){s.$LG(e.target).hasClass("lg-image")&&s.setActualSize(s.core.index,e)}),this.core.outer.on("touchstart.lg",function(e){var t=s.$LG(e.target);1===e.touches.length&&t.hasClass("lg-image")&&(i?(clearTimeout(i),i=null,e.preventDefault(),s.setActualSize(s.core.index,e)):i=setTimeout(function(){i=null},300))}),this.core.LGel.on(fe+".zoom "+Se+".zoom "+we+".zoom "+_e+".zoom "+Ce+".zoom",function(){var e;s.core.lgOpened&&s.isImageSlide(s.core.index)&&!s.core.touchAction&&(e=s.core.getSlideItem(s.core.index).find(".lg-img-wrap").first(),s.top=0,s.left=0,s.setZoomEssentials(),s.setZoomSwipeStyles(e,{x:0,y:0}),s.positionChanged=!0)}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){s.core.lgOpened&&(s.scrollTop=s.$LG(window).scrollTop())}),P.prototype.dealWheelEvent=function(e){var t=e.target;t&&t.className&&t.className.indexOf&&-1!=t.className.indexOf("lg-image")&&(t=s.scale,s.scale-=.002*(0<e.deltaY?100:-100),s.scale!=t)&&(s.beginZoom(s.scale),s.zoomImage(s.scale,s.scale-t,!1,!1))},window.addEventListener("wheel",this.dealWheelEvent),this.core.getElementById("lg-zoom-out").on("click.lg",function(){var e;s.isImageSlide(s.core.index)&&(e=0,s.imageReset&&(s.resetImageTranslate(s.core.index),e=50),setTimeout(function(){var e=s.scale-s.settings.scale;s.beginZoom(e=e<1?1:e),s.zoomImage(e,-s.settings.scale,!0,!s.settings.infiniteZoom)},e))}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){s.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){s.setActualSize(s.core.index)}),this.core.LGel.on(ge+".zoom",function(){s.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(ye+".zoom",function(){s.scrollTop=s.$LG(window).scrollTop(),s.pageX=s.core.outer.width()/2,s.pageY=s.core.outer.height()/2+s.scrollTop,s.scale=1}),this.core.LGel.on(be+".zoom",function(e){e=e.detail.prevIndex;s.scale=1,s.positionChanged=!1,s.zoomInProgress=!1,s.resetZoom(e),s.resetImageTranslate(e),s.isImageSlide(s.core.index)&&s.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1)},P.prototype.zoomIn=function(){var e;this.isImageSlide(this.core.index)&&(e=this.scale+this.settings.scale,this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom))},P.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),e=this.core.getSlideItem(void 0!==e?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),e.find(".lg-img-wrap").first().removeAttr("style"),e.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},P.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},P.prototype.pinchZoom=function(){var t,i=this,s=0,n=!1,r=1,a=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(e){a=i.core.getSlideItem(i.core.index),i.isImageSlide(i.core.index)&&2===e.touches.length&&(e.preventDefault(),i.core.outer.hasClass("lg-first-slide-loading")||(r=i.scale||1,i.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),i.setPageCords(e),i.resetImageTranslate(i.core.index),i.core.touchAction="pinch",s=i.getTouchDistance(e)))}),this.core.$inner.on("touchmove.lg",function(e){2===e.touches.length&&"pinch"===i.core.touchAction&&(i.$LG(e.target).hasClass("lg-item")||a.get().contains(e.target))&&(e.preventDefault(),e=i.getTouchDistance(e),e=s-e,n=!n&&5<Math.abs(e)||n)&&(t=i.scale,e=Math.max(1,r+.02*-e),i.scale=Math.round(100*(e+Number.EPSILON))/100,e=i.scale-t,i.zoomImage(i.scale,Math.round(100*(e+Number.EPSILON))/100,!1,!1))}),this.core.$inner.on("touchend.lg",function(e){var t;"pinch"===i.core.touchAction&&(i.$LG(e.target).hasClass("lg-item")||a.get().contains(e.target))&&(n=!1,s=0,i.scale<=1?i.resetZoom():(e=i.getCurrentImageActualSizeScale(),i.scale>=e&&(t=e-i.scale,i.zoomImage(e,t=0===t?.01:t,!1,!0)),i.manageActualPixelClassNames(),i.core.outer.addClass("lg-zoomed")),i.core.touchAction=void 0)})},P.prototype.touchendZoom=function(e,t,i,s,n){var r=t.x-e.x,t=t.y-e.y,e=Math.abs(r)/n+1,n=Math.abs(t)/n+1,e=(2<e&&(e+=1),2<n&&(n+=1),r*=e,t*=n,this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first()),n={},a=(n.x=this.left+r,n.y=this.top+t,this.getPossibleSwipeDragCords());(15<Math.abs(r)||15<Math.abs(t))&&(s&&(this.isBeyondPossibleTop(n.y,a.minY)?n.y=a.minY:this.isBeyondPossibleBottom(n.y,a.maxY)&&(n.y=a.maxY)),i&&(this.isBeyondPossibleLeft(n.x,a.minX)?n.x=a.minX:this.isBeyondPossibleRight(n.x,a.maxX)&&(n.x=a.maxX)),s?this.top=n.y:n.y=this.top,i?this.left=n.x:n.x=this.left,this.setZoomSwipeStyles(e,n),this.positionChanged=!0)},P.prototype.getZoomSwipeCords=function(e,t,i,s,n){var r={};return s?(r.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(r.y,n.minY)?(s=n.minY-r.y,r.y=n.minY-s/6):this.isBeyondPossibleBottom(r.y,n.maxY)&&(s=r.y-n.maxY,r.y=n.maxY+s/6)):r.y=this.top,i?(r.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(r.x,n.minX)?(s=n.minX-r.x,r.x=n.minX-s/6):this.isBeyondPossibleRight(r.x,n.maxX)&&(i=r.x-n.maxX,r.x=n.maxX+i/6)):r.x=this.left,r},P.prototype.isBeyondPossibleLeft=function(e,t){return t<=e},P.prototype.isBeyondPossibleRight=function(e,t){return e<=t},P.prototype.isBeyondPossibleTop=function(e,t){return t<=e},P.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},P.prototype.isImageSlide=function(e){e=this.core.galleryItems[e];return"image"===this.core.getSlideType(e)},P.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,t=t.get().getBoundingClientRect(),s=t.height,t=t.width;return e&&(s+=e*s,t+=e*t),{minY:(s-this.containerRect.height)/2,maxY:(this.containerRect.height-s)/2+i,minX:(t-this.containerRect.width)/2,maxX:(this.containerRect.width-t)/2}},P.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},P.prototype.zoomSwipe=function(){var i,s,n=this,r={},t={},a=!1,o=!1,l=!1,c=new Date,u=(new Date,this.core.getSlideItem(this.core.index));this.core.$inner.on("touchstart.lg",function(e){var t;n.isImageSlide(n.core.index)&&(u=n.core.getSlideItem(n.core.index),n.$LG(e.target).hasClass("lg-item")||u.get().contains(e.target))&&1===e.touches.length&&n.core.outer.hasClass("lg-zoomed")&&(e.preventDefault(),c=new Date,n.core.touchAction="zoomSwipe",s=n.core.getSlideItem(n.core.index).find(".lg-img-wrap").first(),t=n.getDragAllowedAxises(0),l=t.allowY,((o=t.allowX)||l)&&(r=n.getSwipeCords(e)),i=n.getPossibleSwipeDragCords(),n.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition"))}),this.core.$inner.on("touchmove.lg",function(e){1===e.touches.length&&"zoomSwipe"===n.core.touchAction&&(n.$LG(e.target).hasClass("lg-item")||u.get().contains(e.target))&&(e.preventDefault(),n.core.touchAction="zoomSwipe",t=n.getSwipeCords(e),e=n.getZoomSwipeCords(r,t,o,l,i),15<Math.abs(t.x-r.x)||15<Math.abs(t.y-r.y))&&(a=!0,n.setZoomSwipeStyles(s,e))}),this.core.$inner.on("touchend.lg",function(e){"zoomSwipe"===n.core.touchAction&&(n.$LG(e.target).hasClass("lg-item")||u.get().contains(e.target))&&(e.preventDefault(),n.core.touchAction=void 0,n.core.outer.removeClass("lg-zoom-dragging"),a)&&(a=!1,e=(new Date).valueOf()-c.valueOf(),n.touchendZoom(r,t,o,l,e))})},P.prototype.zoomDrag=function(){var i,t,s,n,r=this,a={},o={},l=!1,c=!1,u=!1,h=!1;this.core.outer.on("mousedown.lg.zoom",function(e){var t;r.isImageSlide(r.core.index)&&(t=r.core.getSlideItem(r.core.index),r.$LG(e.target).hasClass("lg-item")||t.get().contains(e.target))&&(i=new Date,n=r.core.getSlideItem(r.core.index).find(".lg-img-wrap").first(),t=r.getDragAllowedAxises(0))&&(h=t.allowY,u=t.allowX,r.core.outer.hasClass("lg-zoomed"))&&r.$LG(e.target).hasClass("lg-object")&&(u||h)&&(e.preventDefault(),a=r.getDragCords(e),s=r.getPossibleSwipeDragCords(),l=!0,r.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(e){l&&(c=!0,o=r.getDragCords(e),e=r.getZoomSwipeCords(a,o,u,h,s),r.setZoomSwipeStyles(n,e))}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(e){l&&(t=new Date,l=!1,r.core.outer.removeClass("lg-zoom-dragging"),!c||a.x===o.x&&a.y===o.y||(o=r.getDragCords(e),e=t.valueOf()-i.valueOf(),r.touchendZoom(a,o,u,h,e)),c=!1),r.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},P.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},P.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),window.removeEventListener("wheel",this.dealWheelEvent),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1};var ke=P,h=function(){return(h=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},xe="lgSlideItemLoad",Te="lgBeforeSlide",Ie="lgRotateLeft",Pe="lgRotateRight",Ae="lgFlipHorizontal",Ee="lgFlipVertical",De={rotate:!0,rotateSpeed:400,rotateLeft:!0,rotateRight:!0,flipHorizontal:!0,flipVertical:!0,rotatePluginStrings:{flipVertical:"Flip vertical",flipHorizontal:"Flip horizontal",rotateLeft:"Rotate left",rotateRight:"Rotate right"}};I.prototype.buildTemplates=function(){var e="";this.settings.flipVertical&&(e+='<button type="button" id="lg-flip-ver" aria-label="'+this.settings.rotatePluginStrings.flipVertical+'" class="lg-flip-ver lg-icon"></button>'),this.settings.flipHorizontal&&(e+='<button type="button" id="lg-flip-hor" aria-label="'+this.settings.rotatePluginStrings.flipHorizontal+'" class="lg-flip-hor lg-icon"></button>'),this.settings.rotateLeft&&(e+='<button type="button" id="lg-rotate-left" aria-label="'+this.settings.rotatePluginStrings.rotateLeft+'" class="lg-rotate-left lg-icon"></button>'),this.settings.rotateRight&&(e+='<button type="button" id="lg-rotate-right" aria-label="'+this.settings.rotatePluginStrings.rotateRight+'" class="lg-rotate-right lg-icon"></button>'),this.core.$toolbar.append(e)},I.prototype.init=function(){var t=this;this.settings.rotate&&(this.buildTemplates(),this.rotateValuesList={},this.core.LGel.on(xe+".rotate",function(e){e=e.detail.index;t.core.getSlideItem(e).find(".lg-img-rotate").get()||(t.core.getSlideItem(e).find(".lg-object").first().wrap("lg-img-rotate"),t.core.getSlideItem(t.core.index).find(".lg-img-rotate").css("transition-duration",t.settings.rotateSpeed+"ms"))}),this.core.outer.find("#lg-rotate-left").first().on("click.lg",this.rotateLeft.bind(this)),this.core.outer.find("#lg-rotate-right").first().on("click.lg",this.rotateRight.bind(this)),this.core.outer.find("#lg-flip-hor").first().on("click.lg",this.flipHorizontal.bind(this)),this.core.outer.find("#lg-flip-ver").first().on("click.lg",this.flipVertical.bind(this)),this.core.LGel.on(Te+".rotate",function(e){t.rotateValuesList[e.detail.index]||(t.rotateValuesList[e.detail.index]={rotate:0,flipHorizontal:1,flipVertical:1})}))},I.prototype.applyStyles=function(){this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().css("transform","rotate("+this.rotateValuesList[this.core.index].rotate+"deg) scale3d("+this.rotateValuesList[this.core.index].flipHorizontal+", "+this.rotateValuesList[this.core.index].flipVertical+", 1)")},I.prototype.rotateLeft=function(){this.rotateValuesList[this.core.index].rotate-=90,this.applyStyles(),this.triggerEvents(Ie,{rotate:this.rotateValuesList[this.core.index].rotate})},I.prototype.rotateRight=function(){this.rotateValuesList[this.core.index].rotate+=90,this.applyStyles(),this.triggerEvents(Pe,{rotate:this.rotateValuesList[this.core.index].rotate})},I.prototype.getCurrentRotation=function(e){if(e){e=this.$LG(e).style(),e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform")||"none";if("none"!==e){var e=e.split("(")[1].split(")")[0].split(",");if(e)return(e=Math.round(Math.atan2(e[1],e[0])*(180/Math.PI)))<0?e+360:e}}return 0},I.prototype.flipHorizontal=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),e=this.getCurrentRotation(e),e=90!==e&&270!==e?"flipHorizontal":"flipVertical";this.rotateValuesList[this.core.index][e]*=-1,this.applyStyles(),this.triggerEvents(Ae,{flipHorizontal:this.rotateValuesList[this.core.index][e]})},I.prototype.flipVertical=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),e=this.getCurrentRotation(e),e=90!==e&&270!==e?"flipVertical":"flipHorizontal";this.rotateValuesList[this.core.index][e]*=-1,this.applyStyles(),this.triggerEvents(Ee,{flipVertical:this.rotateValuesList[this.core.index][e]})},I.prototype.triggerEvents=function(e,t){var i=this;setTimeout(function(){i.core.LGel.trigger(e,t)},this.settings.rotateSpeed+10)},I.prototype.isImageOrientationChanged=function(){var e,t,i=this.rotateValuesList[this.core.index];if(i)return e=Math.abs(i.rotate)%360!=0,t=i.flipHorizontal<0,i=i.flipVertical<0,e||t||i},I.prototype.closeGallery=function(){this.isImageOrientationChanged()&&this.core.getSlideItem(this.core.index).css("opacity",0),this.rotateValuesList={}},I.prototype.destroy=function(){this.core.LGel.off(".lg.rotate"),this.core.LGel.off(".rotate")};var Oe=I,d=function(){return(d=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Le={fullScreen:!0,fullscreenPluginStrings:{toggleFullscreen:"Toggle Fullscreen"}};T.prototype.init=function(){var e;this.settings.fullScreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(e='<button type="button" aria-label="'+this.settings.fullscreenPluginStrings.toggleFullscreen+'" class="lg-fullscreen lg-icon"></button>',this.core.$toolbar.append(e),this.fullScreen())},T.prototype.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},T.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},T.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},T.prototype.fullScreen=function(){var e=this;this.$LG(document).on("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-fullscreen-on")}),this.core.outer.find(".lg-fullscreen").first().on("click.lg",function(){e.isFullScreen()?e.exitFullscreen():e.requestFullscreen()})},T.prototype.closeGallery=function(){this.isFullScreen()&&this.exitFullscreen()},T.prototype.destroy=function(){this.$LG(document).off("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Ne=T,p=function(){return(p=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Me={nasDownload:!0,nasdownloadPluginStrings:{download:"Download"}};x.prototype.init=function(){var e;this.settings.nasDownload&&(e='<button type="button" aria-label="'+this.settings.nasdownloadPluginStrings.download+'" class="lg-nasdownload lg-icon"></button>',this.core.$toolbar.append(e),this.nasDownload())},x.prototype.nasDownload=function(){var e=this;this.$LG(document).on("nasdownloadchange.lg.global"+this.core.lgId+" \n            webkitnasdownloadchange.lg.global"+this.core.lgId+" \n            moznasdownloadchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nasdownload-on")}),this.core.outer.find(".lg-nasdownload").first().on("click.lg",function(){e.core.LGel.trigger("onDownloadClick")})},x.prototype.closeGallery=function(){},x.prototype.destroy=function(){this.$LG(document).off("nasdownloadchange.lg.global"+this.core.lgId+" \n            webkitnasdownloadchange.lg.global"+this.core.lgId+" \n            moznasdownloadchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Be=x,m=function(){return(m=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Fe={nasHelp:!0,nashelpPluginStrings:{help:"Help"}};k.prototype.init=function(){var e;this.settings.nasHelp&&(e='<button type="button" aria-label="'+this.settings.nashelpPluginStrings.help+'" class="lg-nashelp lg-icon"></button>',this.core.$toolbar.append(e),this.nasHelp())},k.prototype.nasHelp=function(){var e=this;this.$LG(document).on("nashelpchange.lg.global"+this.core.lgId+" \n            webkitnashelpchange.lg.global"+this.core.lgId+" \n            moznashelpchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nashelp-on")}),this.core.outer.find(".lg-nashelp").first().on("click.lg",function(){e.core.LGel.trigger("onHelpClick")})},k.prototype.closeGallery=function(){},k.prototype.destroy=function(){this.$LG(document).off("nashelpchange.lg.global"+this.core.lgId+" \n            webkitnashelpchange.lg.global"+this.core.lgId+" \n            moznashelpchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Re=k,f=function(){return(f=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},$e={nasExif:!0,nasexifPluginStrings:{exif:"Exif"}};C.prototype.init=function(){var e;this.settings.nasExif&&(e='<button type="button" aria-label="'+this.settings.nasexifPluginStrings.exif+'" class="lg-nasexif lg-icon"></button>',this.core.$toolbar.append(e),this.nasExif())},C.prototype.nasExif=function(){var e=this;this.$LG(document).on("nasexifchange.lg.global"+this.core.lgId+" \n            webkitnasexifchange.lg.global"+this.core.lgId+" \n            moznasexifchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nasexif-on")}),this.core.outer.find(".lg-nasexif").first().on("click.lg",function(){e.core.LGel.trigger("onExifClick")})},C.prototype.closeGallery=function(){},C.prototype.destroy=function(){this.$LG(document).off("nasexifchange.lg.global"+this.core.lgId+" \n            webkitnasexifchange.lg.global"+this.core.lgId+" \n            moznasexifchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Ue=C,g=function(){return(g=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},je={nasRemove:!0,nasremovePluginStrings:{remove:"Remove"}};_.prototype.init=function(){var e;this.settings.nasRemove&&(e='<button type="button" aria-label="'+this.settings.nasremovePluginStrings.remove+'" class="lg-nasremove lg-icon"></button>',this.core.$toolbar.append(e),this.nasRemove())},_.prototype.nasRemove=function(){var e=this;this.$LG(document).on("nasremovechange.lg.global"+this.core.lgId+" \n            webkitnasremovechange.lg.global"+this.core.lgId+" \n            moznasremovechange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nasremove-on")}),this.core.outer.find(".lg-nasremove").first().on("click.lg",function(){e.core.LGel.trigger("onRemoveClick")})},_.prototype.closeGallery=function(){},_.prototype.destroy=function(){this.$LG(document).off("nasremovechange.lg.global"+this.core.lgId+" \n            webkitnasremovechange.lg.global"+this.core.lgId+" \n            moznasremovechange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Ve=_,y=function(){return(y=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},ze="lgSlideItemLoad",We="lgBeforeSlide",He="lgAfterSlide",qe="lgDragStart",Ge="lgDragEnd",Ye="lgAutoplay",Qe="lgAutoplayStart",Ke="lgAutoplayStop",Xe={autoplay:!0,slideShowAutoplay:!1,slideShowInterval:5e3,progressBar:!0,forceSlideShowAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar",autoplayPluginStrings:{toggleAutoplay:"Toggle Autoplay"}};b.prototype.init=function(){var e=this;this.settings.autoplay&&(this.interval=!1,this.fromAuto=!0,this.pausedOnTouchDrag=!1,this.pausedOnSlideChange=!1,this.settings.autoplayControls&&this.controls(),this.settings.progressBar&&this.core.outer.append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),this.settings.slideShowAutoplay&&this.core.LGel.once(ze+".autoplay",function(){e.startAutoPlay()}),this.core.LGel.on(qe+".autoplay touchstart.lg.autoplay",function(){e.interval&&(e.stopAutoPlay(),e.pausedOnTouchDrag=!0)}),this.core.LGel.on(Ge+".autoplay touchend.lg.autoplay",function(){!e.interval&&e.pausedOnTouchDrag&&(e.startAutoPlay(),e.pausedOnTouchDrag=!1)}),this.core.LGel.on(We+".autoplay",function(){e.showProgressBar(),!e.fromAuto&&e.interval?(e.stopAutoPlay(),e.pausedOnSlideChange=!0):e.pausedOnSlideChange=!1,e.fromAuto=!1}),this.core.LGel.on(He+".autoplay",function(){e.pausedOnSlideChange&&!e.interval&&e.settings.forceSlideShowAutoplay&&(e.startAutoPlay(),e.pausedOnSlideChange=!1)}),this.showProgressBar())},b.prototype.showProgressBar=function(){var e,t,i=this;this.settings.progressBar&&this.fromAuto&&(e=this.core.outer.find(".lg-progress-bar"),t=this.core.outer.find(".lg-progress"),this.interval)&&(t.removeAttr("style"),e.removeClass("lg-start"),setTimeout(function(){t.css("transition","width "+(i.core.settings.speed+i.settings.slideShowInterval)+"ms ease 0s"),e.addClass("lg-start")},20))},b.prototype.controls=function(){var e=this,t='<button aria-label="'+this.settings.autoplayPluginStrings.toggleAutoplay+'" type="button" class="lg-autoplay-button lg-icon"></button>';this.core.outer.find(this.settings.appendAutoplayControlsTo).append(t),this.core.outer.find(".lg-autoplay-button").first().on("click.lg.autoplay",function(){e.core.outer.hasClass("lg-show-autoplay")?e.stopAutoPlay():e.interval||e.startAutoPlay()})},b.prototype.startAutoPlay=function(){var e=this;this.core.outer.find(".lg-progress").css("transition","width "+(this.core.settings.speed+this.settings.slideShowInterval)+"ms ease 0s"),this.core.outer.addClass("lg-show-autoplay"),this.core.outer.find(".lg-progress-bar").addClass("lg-start"),this.core.LGel.trigger(Qe,{index:this.core.index}),this.interval=setInterval(function(){e.core.index+1<e.core.galleryItems.length?e.core.index++:e.core.index=0,e.core.LGel.trigger(Ye,{index:e.core.index}),e.fromAuto=!0,e.core.slide(e.core.index,!1,!1,"next")},this.core.settings.speed+this.settings.slideShowInterval)},b.prototype.stopAutoPlay=function(){this.interval&&(this.core.LGel.trigger(Ke,{index:this.core.index}),this.core.outer.find(".lg-progress").removeAttr("style"),this.core.outer.removeClass("lg-show-autoplay"),this.core.outer.find(".lg-progress-bar").removeClass("lg-start")),clearInterval(this.interval),this.interval=!1},b.prototype.closeGallery=function(){this.stopAutoPlay()},b.prototype.destroy=function(){this.settings.autoplay&&this.core.outer.find(".lg-progress-bar").remove(),this.core.LGel.off(".lg.autoplay"),this.core.LGel.off(".autoplay")};var Ze=b,v=function(){return(v=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},Je={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},et="lgPosterClick";function b(e){return this.core=e,this.settings=y(y({},Xe),this.core.settings),this}function _(e,t){return this.core=e,this.$LG=t,this.settings=g(g({},je),this.core.settings),this}function C(e,t){return this.core=e,this.$LG=t,this.settings=f(f({},$e),this.core.settings),this}function k(e,t){return this.core=e,this.$LG=t,this.settings=m(m({},Fe),this.core.settings),this}function x(e,t){return this.core=e,this.$LG=t,this.settings=p(p({},Me),this.core.settings),this}function T(e,t){return this.core=e,this.$LG=t,this.settings=d(d({},Le),this.core.settings),this}function I(e,t){return this.core=e,this.$LG=t,this.settings=h(h({},De),this.core.settings),this}function P(e,t){return this.core=e,this.$LG=t,this.settings=u(u({},me),this.core.settings),this}let A=!1;M.prototype.init=function(){var t=this;this.core.LGel.on(et+".video",function(e){A||(A=!0,setTimeout(()=>{A=!1},500),e.target,t.core.getSlideItem(t.core.index),t.core.LGel.trigger("onVideoPlayBtnClick",{index:t.core.index}))}),M.prototype.destroy=function(){}};var tt=M,E=t("e11e"),D=t.n(E),it=(t("6cc5"),t("be3b")),E={name:"photo-exif",props:{indexObj:"",serverType:{default:"photo",type:String}},mounted(){this.$nextTick(()=>{this.initExif()})},data(){return{currentTilesServer:"",showMap:!1,dateEditing:!1,editDateValue:null,exifInfo:"",exifStr:"",geoStr:null,map:null,imgMaker:null}},watch:{indexObj(e,t){this.$nextTick(()=>{this.initExif()})}},methods:{initExif(){this.indexObj&&(this.showMap=!1,this.getExifInfo(),this.getPositionStr(),this.dateEditing=!1,this.editDateValue=null,this.indexObj&&1==this.indexObj.type&&(this.showMap=!0),this.indexObj&&2==this.indexObj.type&&this.indexObj.latitude&&"undefined"!=this.indexObj.latitude&&(this.showMap=!0),"photo"!=this.serverType&&(this.showMap=!1),this.$nextTick(()=>{this.map&&(this.map.remove(),this.map=null),this.getZoomInfo()}))},getZoomInfo(){this.api.post("/api/mapApi/getZoom",{hideLoading:!0}).then(e=>{e.code||(e.tileServer&&(this.currentTilesServer=e.tileServer),this.initMap(parseInt(e.zoomInfo.minZoom),parseInt(e.zoomInfo.maxZoom)))}).catch(e=>{})},onDateChange(e){this.editDateValue=e},submitNewDate(){this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("photo.confirmChangePhotoTime"),()=>{this.editExifByIndexId(null,null,this.editDateValue)})},addMarker(){var e=D.a.icon({iconUrl:"icon_position.png",iconSize:[38,38]}),t=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude);this.imgMaker=D.a.marker([t[1],t[0]],{icon:e}),this.map&&this.imgMaker&&this.imgMaker.addTo(this.map)},initMap(s,n){if(this.showMap){let e=!0;this.indexObj.latitude&&this.indexObj.longitude&&"undefined"!=this.indexObj.longitude&&"undefined"!=this.indexObj.longitude||(e=!1);var r=it.a.mapUrl();let t=null,i=n;t=e?(a=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude),new D.a.LatLng(a[1],a[0])):(i=3,new D.a.LatLng(36,106));var a=new D.a.TileLayer(r,{minZoom:s,maxZoom:n,attribution:"NORMAL"}),r=D.a.latLng(-90,-360),s=D.a.latLng(90,360),n={maxBounds:D.a.latLngBounds(r,s),zoom:i,center:t,layers:[a],attributionControl:!1};this.map=new D.a.Map("exifmap",n),this.map,this.map.on("click",t=>{if(1!=this.indexObj.type)return this.showVsNotification(this.$t("photo.onlySupportPhoto"));new Date,this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("photo.changePosition"),()=>{var e=this.utils.transCoordinateForSet(this.currentTilesServer,t.latlng.lng,t.latlng.lat);this.editExifByIndexId(e[1],e[0])})}),e&&this.addMarker()}},changeExifTime(){this.dateEditing=!0},editExifByIndexId(e,t,i){if(1!=this.indexObj.type||!this.indexObj.filename.toLowerCase().endsWith(".jpeg")&&!this.indexObj.filename.toLowerCase().endsWith(".jpg"))return this.showVsNotification(this.$t("photo.onlySupportPhoto"));this.api.post("/api/photoApi/editExifByIndexId",{latitude:e,longitude:t,newDate:i,id:this.indexObj.id}).then(e=>{e.code||(this.$emit("onIndexUpdate",e.newIndex),this.$bus.$emit("onIndexUpdate",e.newIndex),this.initExif())}).catch(e=>{})},getPositionStr(){this.indexObj.geohash&&(this.indexObj.id,this.api.post("/api/mapApi/getLocationStr",{hideLoading:!0,indexId:this.indexObj.id}).then(e=>{e.code||(this.geoStr=e.geo.name+" "+e.geo.cn_name)}).catch(e=>{}))},getExifInfo(){this.api.post("/api/fileApi/getInfo",{hideLoading:!0,indexId:this.indexObj.id}).then(e=>{let t=e.data,i="";t.exifInfo&&(t.exifInfo.FNumber&&(e=t.exifInfo.FNumber,i+="f/"+e),t.exifInfo.ExposureTime&&(e=Math.round(1/t.exifInfo.ExposureTime),i+=" 1/"+e),t.exifInfo.FocalLength&&(e=Math.round(t.exifInfo.FocalLength),Math.round(t.exifInfo.FocalLengthIn35mmFormat),i+=` ${e}mm`),t.exifInfo.ISO)&&(e=Math.round(t.exifInfo.ISO),i+=" ISO:"+e),this.exifInfo=t.exifInfo,this.exifStr=i}).catch(e=>{})},closeExif(){this.$emit("closeExif")},clearTinyImg(){this.api.post("/api/fileApi/clearTinyImg",{indexId:this.indexObj.id}).then(e=>{e.code||this.showVsNotification(this.$t("file.resetTinyImgSuccess"))}).catch(e=>{this.showVsNotification(this.$t("common.operationFail"))})}}},O=(t("096d"),t("2877")),E=Object(O.a)(E,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"exif-root"},[e("div",{staticClass:"exif-wrapper"},[t.indexObj&&t.indexObj.original_date?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-calendar",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.original_date))]),t.dateEditing?e("div",{staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[e("DatePicker",{staticStyle:{width:"175px"},attrs:{editable:!0,type:"datetime",placeholder:t.$t("photo.selectPhotoTakeTime")},on:{"on-change":t.onDateChange}}),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-close",size:"24"},on:{click:function(e){e.stopPropagation(),t.dateEditing=!1,t.editDateValue=null}}}),t.editDateValue?e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-checkmark",size:"24"},on:{click:function(e){return e.stopPropagation(),t.submitNewDate(e)}}}):t._e()],1):t._e(),t.dateEditing?t._e():e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.utils.formatTimeStamp(t.indexObj.original_time))+" "),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-create"},on:{click:function(e){return e.stopPropagation(),t.changeExifTime(e)}}})],1)])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-document",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.path)+" "),e("Tooltip",{attrs:{disabled:t.isMobile,content:t.$t("openInSystem")}},[t.showOpenInSystem?e("a",{staticStyle:{"margin-left":"5px"},on:{click:function(e){return t.openInSystem(t.indexObj.path,t.indexObj.filename,null,"showItemInFolder")}}},[t._v(t._s(t.$t("open")))]):t._e()])],1),e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.filename)+" "),e("Tooltip",{attrs:{disabled:t.isMobile,content:t.$t("openInSystem")}},[t.showOpenInSystem?e("a",{staticStyle:{"margin-left":"5px"},on:{click:function(e){return t.openInSystem(t.indexObj.path,t.indexObj.filename,null)}}},[t._v(t._s(t.$t("open")))]):t._e()])],1),e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s((t.indexObj.size/1024/1024).toFixed(2))+"MB "),t.indexObj.height&&"undefined"!=t.indexObj.height?e("span",[t._v(t._s(t.indexObj.width)+"x"+t._s(t.indexObj.height))]):t._e()])])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode||t.exifStr||t.exifInfo&&t.exifInfo.LensModel?e("Icon",{attrs:{color:"white",type:"ios-aperture",size:"24"}}):t._e(),e("div",{staticClass:"exif-item-right"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode?e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.mode))]):t._e(),t.exifStr?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifStr))]):t._e(),t.exifInfo&&t.exifInfo.LensModel?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifInfo.LensModel)+" ")]):t._e()])],1):t._e(),t.geoStr&&" "!=t.geoStr?e("div",{staticClass:"geo-root"},[e("div",{staticClass:"geo-title-root"},[e("Icon",{attrs:{color:"white",type:"md-pin",size:"24"}}),e("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.geoStr))])],1)]):t._e(),t.showMap?e("div",{staticStyle:{"margin-top":"20px",width:"100%",height:"300px"},attrs:{id:"exifmap"}}):t._e()])])},[],!1,null,"37a546fb",null).exports,st=t("2cc5"),L=t("5d55"),N=t("af7e"),nt=t.n(N);t("cb7c");N={data(){return{isPlayingRaw:!0,duration:0,vPlayer:null}},mounted(){},beforeDestroy(){this.vPlayer&&(this.vPlayer.dispose(),this.vPlayer=null)},methods:{getTransCodeUrl(e){var t=it.a.baseUrl+"/api/transCode/play/stream.mp4?format=mp4&",i="&token="+this.getToken(),t=t+"serverType=photo&indexId="+e.id+i;return t},videoClick(){this.$emit("onClose")},initVideoPlayer(s){let n=this;this.vPlayer=nt()(this.$refs.player,{errorDisplay:!1,suppressNotSupportedError:!1},function(){this.on("error",(e,t)=>{var i;n.isPlayingRaw&&(i=n.vPlayer.error())&&(4==i.code||3==i.code)&&n.playVideo(s,!0)})})},playVideo(t,i=!1){if(t){this.vPlayer||this.initVideoPlayer(t);let e=t.rawUrl;i&&(this.isPlayingRaw=!1,e=this.getTransCodeUrl(t)),this.duration=t.duration,this.vPlayer.src({type:"video/mp4",src:e}),this.vPlayer.loop(!0),this.vPlayer.play()}}}};function M(e){return this.core=e,this.settings=v(v({},Je),this.core.settings),this}t("cce3");N={name:"photo-detail",components:{livephotoPlay:Object(O.a)(N,function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"root-livephoto-player"},[e("video",{ref:"player",staticClass:"video-js vjs-fill",attrs:{duration:this.duration,"x5-video-player-type":"h5","object-fit":"fill",width:"100%",height:"100%",preload:"auto",id:"player","webkit-playsinline":"",playsinline:"",crossorigin:"anonymous",autoplay:""}}),e("div",{staticStyle:{position:"fixed",width:"100%",height:"100%","z-index":"1"},on:{click:this.videoClick}})])},[],!1,null,"3845ddce",null).exports,videoDetail:L.default,photoExif:E,photoRawDetal:()=>Promise.resolve().then(t.bind(null,"d3ac"))},props:{galleryId:{default:"dynamicGallery",type:String},fromSpace:{default:!1,type:Boolean},fromFolderBrower:{default:!1,type:Boolean},serverType:{default:"photo",type:String},fromFileBrower:{default:!1,type:Boolean},enableExif:{default:!0,type:Boolean},enableRemove:{default:!1,type:Boolean}},data(){return{imagePreviewType:"RAW",imagePreviewSize:3e3,imagePreviewQuality:77,deleteRawType:"ALL",showDeleteRaw:!1,showLivePhotoVideoDetail:!1,showVideoDetail:!1,imgIndex:0,showExif:!1,indexObj:null,showList:[],galleryEl:null,galleryInstance:null,galleryElList:null}},created(){localStorage.imagePreviewType&&["RAW","CUSTOM"].includes(localStorage.imagePreviewType)&&(this.imagePreviewType=localStorage.imagePreviewType),localStorage.imagePreviewSize&&1e3<=localStorage.imagePreviewSize&&localStorage.imagePreviewSize<=1e4&&(this.imagePreviewSize=parseInt(localStorage.imagePreviewSize)),localStorage.imagePreviewQuality&&30<=localStorage.imagePreviewQuality&&localStorage.imagePreviewQuality<=100&&(this.imagePreviewQuality=parseInt(localStorage.imagePreviewQuality))},mounted(){window.addEventListener("keydown",this.dealEsc)},beforeDestroy(){this.galleryInstance&&this.galleryInstance.destroyGallery(),window.removeEventListener("keydown",this.dealEsc)},methods:{dealEsc(e){"Escape"===e.key?this.showLivePhotoVideoDetail?(this.showLivePhotoVideoDetail=!1,e.stopPropagation()):this.showVideoDetail&&(this.showVideoDetail=!1,e.stopPropagation()):"Delete"===e.key?this.deleteIndex():"Space"===e.code?this.showVideoDetail?this.showVideoDetail=!1:this.showLivePhotoVideoDetail?this.showLivePhotoVideoDetail=!1:2==this.indexObj.type&&1!=this.indexObj.is_livephoto?this.onPlayBtnClick():1==this.indexObj.is_livephoto&&this.playLivephoto():"Enter"===e.key&&this.onExifClick(),e.key,e.code},onIndexUpdate(e){for(var t in this.showList)this.showList[t].id==e.id&&(this.showList[t]=e,this.indexObj=e)},onClose(){this.$emit("onClose")},closeGallery(){this.galleryInstance&&this.galleryInstance.closeGallery()},closeExif(){this.showExif=!1,localStorage.setItem("showExif","0")},dealEvent(e){e&&(e.addEventListener("onExifClick",e=>{this.onExifClick()},!1),e.addEventListener("lgAfterClose",e=>{this.onClose()},!1),e.addEventListener("onHelpClick",e=>{this.showVsAlertDialog(this.$t("common.alert"),this.$t("photo.help"))}),e.addEventListener("lgAfterSlide",e=>{this.showDeleteRaw&&(this.showDeleteRaw=!1),e.target,this.indexObj=this.showList[e.detail.index],this.imgIndex=e.detail.index,this.imgIndex,this.imgIndex==this.showList.length-1&&this.$emit("galleryLoadMoreNext"),0==this.imgIndex&&this.$emit("galleryLoadMorePre");e=document.getElementById("livephotoBtn");e&&(e.onclick=()=>{this.playLivephoto()})},!1),e.addEventListener("onVideoPlayBtnClick",e=>{this.onPlayBtnClick()},!1),e.addEventListener("onRemoveClick",e=>{this.deleteIndex()},!1),e.addEventListener("onDownloadClick",e=>{var t=this.indexObj;1==t.is_livephoto&&t.livephotoIndex&&t.livephotoIndex.videoIndex&&t.livephotoIndex.photoIndex?(this.downloadFile([t.livephotoIndex.videoIndex.rawUrl]),this.downloadFile([t.livephotoIndex.photoIndex.rawUrl])):t.raw_filename&&t.rawImageIndex?(this.downloadFile([t.rawUrl]),this.downloadFile([t.rawImageIndex.rawUrl])):this.downloadImg()},!1))},onExifClick(){this.enableExif&&(this.showExif=!this.showExif,this.$refs.exif)&&this.showExif&&this.$nextTick(()=>{this.$refs.exif.getExifInfo(),this.$refs.exif.getPositionStr()})},playLivephoto(){this.showLivePhotoVideoDetail=!0,setTimeout(()=>{this.indexObj,this.$refs.livephotoPlayer.playVideo(this.indexObj.livephotoIndex.videoIndex,!this.isFromApp)},300)},onPlayBtnClick(){let e=this.imgIndex,t=[];for(var i in this.showList){var s=this.showList[i];i==e&&(e=t.length),2==s.type&&t.push(s)}"1"==localStorage.getItem("rawPlayer")||this.isIosSupportRawPlayer()?st.a.playVideo({playIndex:e,playList:t,token:this.$store.state.token,fromFileBrower:this.fromFileBrower}):(this.showVideoDetail=!0,this.$nextTick(()=>{this.$refs.galleryVideoPlayer.playVideo(t,e)}))},downloadImg(){let e=this.indexObj.url;e=e.replace("tinyImg","rawFile"),this.downloadFile([e])},putInTrash(e){this.api.post("/api/fileApi/inOutTrash",{ids:e,trash:1}).then(e=>{if(!e.code&&(this.showDeleteRaw=!1,this.$bus.$emit("removeIndexById",this.showList[this.imgIndex].id),this.showVsNotification(this.$t("file.putInTrashSuc")),this.showList)&&this.galleryInstance)if(this.showList.splice(this.imgIndex,1),this.genElList(this.showList),this.elList.length<1)this.galleryInstance.closeGallery();else{let e=this.galleryInstance.index;e>this.elList.length-1&&(e=0),this.galleryInstance.refresh(this.elList),this.galleryInstance.updateSlides(this.elList,e);try{this.galleryInstance.$lgComponents.firstElement.children[0].innerHTML=this.elList[e].subHtml}catch(e){}}}).catch(e=>{})},deleteRaw(){var e=[],t=this.showList[this.imgIndex];"ALL"==this.deleteRawType?(e.push(t.id),e.push(t.rawImageIndex.id)):"JPG"==this.deleteRawType?e.push(t.id):"RAW"==this.deleteRawType&&e.push(t.rawImageIndex.id),this.putInTrash(e)},deleteIndex(){this.fromSpace?this.$emit("onClickDelete",this.showList[this.imgIndex].id):this.fromFileBrower?this.$emit("onClickDelete",this.showList[this.imgIndex].fileFullPath):this.showList[this.imgIndex].rawImageIndex?this.showDeleteRaw=!0:this.putInTrash([this.showList[this.imgIndex].id])},getGalleryElItemFromIndex(e){if(!e.url)return null;let t=e.url,i="",s="",n="",r=null;var a;return t?(i=t.replace("tinyImg","rawFile"),"CUSTOM"==this.imagePreviewType&&(this.imagePreviewQuality&&30<=this.imagePreviewQuality&&this.imagePreviewQuality<=100&&(i+="&quality="+this.imagePreviewQuality),this.imagePreviewSize)&&1e3<=this.imagePreviewSize&&this.imagePreviewSize<=1e4&&(i+="&size="+this.imagePreviewSize),n=this.fromFolderBrower||this.fromSpace?(s=e.title,""):(s=e.filename,e.original_date),2==e.type&&(r=t),a={photo:e,src:i,poster:r,subHtml:`<h4>${s}</h4><p>${n}</p>`},e.livephotoIndex&&e.livephotoIndex.photoIndex&&e.livephotoIndex.videoIndex&&(s="["+e.livephotoIndex.photoIndex.filename+"] ["+e.livephotoIndex.videoIndex.filename+"]",a.subHtml=`

          <div style="margin-bottom:5px;display:flex;flex-direction:row;align-items: center;justify-content: center;">
            <div id="livephotoBtn" style="display:flex;flex-direction:row;align-items: center;background-color:rgba(255,255,255,0.7);border-radius:3px;padding-left:10px;padding-right:10px;cursor:pointer;margin-right:10px">
              <span style="font-size: 14px;color: #333333;" class="nasIcons icon-play"></span>
              <span style="font-size: 12px;color:#333333">LIVE PHOTO</span>
            </div>
          </div>
          <h4>${n} - ${s}</h4>

      `),0==e.is_raw&&e.rawImageIndex&&""!=e.raw_filename&&null!=e.raw_filename&&(this.$t("common.download"),s="["+e.filename+"] ["+e.raw_filename+"]",a.subHtml=`
          <div style="margin-bottom:5px;display:flex;flex-direction:row;align-items: center;justify-content: center;">
            <div id="rawBtn" style="display:flex;flex-direction:row;align-items: center;background-color:rgba(255,255,255,0.7);border-radius:3px;padding-left:10px;padding-right:10px;cursor:pointer;margin-right:10px">
              <span style="font-size: 12px;color:#333333">${e.ext?e.ext.replace(".",""):""} + RAW</span>
            </div>
          </div>
          <h4>${n} - ${s}</h4>
      `),a):void 0},genElList(e){this.elList=[];for(var t of e){t=this.getGalleryElItemFromIndex(t);t&&this.elList.push(t)}},updateImageList(e,t){t=JSON.parse(JSON.stringify(t));if(e){t.reverse();for(var i of t){var s=this.getGalleryElItemFromIndex(i);s&&(this.showList.unshift(i),this.elList.unshift(s))}this.galleryInstance.refresh(this.elList),this.galleryInstance.updateSlides(this.elList,this.galleryInstance.index+t.length)}else{for(var n of t){var r=this.getGalleryElItemFromIndex(n);r&&(this.showList.push(n),this.elList.push(r))}this.galleryInstance.refresh(this.elList)}},showImg(e,t,i=0){this.elList=[],this.showList=JSON.parse(JSON.stringify(e));let s=parseInt(t);this.showList,this.genElList(this.showList),this.galleryEl=this.$refs[this.galleryId],this.dealEvent(this.galleryEl),this.elList,this.$nextTick(()=>{let e=[Re,ke,Ne,Oe,Ze,tt,Be];this.isMobile&&(e=[ke,Ne,Oe,Ze,tt,Be]),this.enableExif&&e.push(Ue),this.enableRemove&&e.push(Ve);var t={speed:300,mode:"lg-fade",loop:!1,preload:1,counter:!0,plugins:e,index:s,dynamic:!0,dynamicEl:this.elList,hideBarsDelay:3e3,thumbnail:!1,actualSize:!1,showZoomInOutIcons:!0,download:!1,mobileSettings:{controls:!0}};this.galleryInstance&&this.galleryInstance.destroy(),this.galleryInstance=pe(this.galleryEl,t),this.galleryInstance.openGallery(s)})}}},t("9ac2"),t("1996"),L=Object(O.a)(N,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gallery_root"},[i("div",{ref:t.galleryId,staticStyle:{"background-color":"black"},attrs:{id:t.galleryId}}),i("vs-dialog",{attrs:{"not-padding":""},model:{value:t.showExif,callback:function(e){t.showExif=e},expression:"showExif"}},[i("div",{staticClass:"con-form"},[i("photo-exif",{ref:"exif",attrs:{serverType:t.serverType,indexObj:t.indexObj},on:{onIndexUpdate:t.onIndexUpdate,closeExif:t.closeExif}})],1)]),i("Modal",{attrs:{fullscreen:"","footer-hide":"",closable:!1,"z-index":61e3},model:{value:t.showVideoDetail,callback:function(e){t.showVideoDetail=e},expression:"showVideoDetail"}},[t.showVideoDetail?i("video-detail",{ref:"galleryVideoPlayer",attrs:{propsServerType:t.serverType,serverType:t.serverType,fromFileBrower:t.fromFileBrower},on:{onClose:function(e){t.showVideoDetail=!1}}}):t._e()],1),i("Modal",{attrs:{"footer-hide":"",closable:!1,"z-index":61e3,fullscreen:""},model:{value:t.showLivePhotoVideoDetail,callback:function(e){t.showLivePhotoVideoDetail=e},expression:"showLivePhotoVideoDetail"}},[t.showLivePhotoVideoDetail?i("livephotoPlay",{ref:"livephotoPlayer",on:{onClose:function(e){t.showLivePhotoVideoDetail=!1}}}):t._e()],1),i("Modal",{attrs:{closable:!0,"z-index":61e3,width:250},scopedSlots:t._u([{key:"header",fn:function(){return[i("p",[i("span",[t._v(t._s(t.$t("chooseDeleteOption")))])])]},proxy:!0},{key:"footer",fn:function(){return[i("Button",{on:{click:function(e){t.showDeleteRaw=!1}}},[t._v(t._s(t.$t("common.cancel")))]),i("Button",{attrs:{type:"error"},on:{click:t.deleteRaw}},[t._v(t._s(t.$t("common.delete")))])]},proxy:!0}]),model:{value:t.showDeleteRaw,callback:function(e){t.showDeleteRaw=e},expression:"showDeleteRaw"}},[t.indexObj?i("RadioGroup",{model:{value:t.deleteRawType,callback:function(e){t.deleteRawType=e},expression:"deleteRawType"}},[i("div",[i("Radio",{attrs:{label:"ALL"}},[t._v(t._s(t.$t("common.delete"))+" "+t._s(t.indexObj.ext?t.indexObj.ext.replace(".",""):"")+"+RAW")])],1),i("div",[i("Radio",{attrs:{label:"JPG"}},[t._v(t._s(t.$t("common.delete"))+" "+t._s(t.indexObj.ext?t.indexObj.ext.replace(".",""):""))])],1),i("div",[i("Radio",{attrs:{label:"RAW"}},[t._v(t._s(t.$t("common.delete"))+" RAW")])],1)]):t._e()],1)],1)},[],!1,null,"dc059f22",null);e.default=L.exports},d45b:function(e,t,i){"use strict";i("48ab")},d69a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAAA7VBMVEVHcEy4t8Gzs72wr7mysbt5eIl4d4p2dol6dIuCgo22tb54d4mqqLR4eIl4eIm6ucO8u8N4eIl3d4p4eImzsrx4eImurbewr7qrqrV4d4p4eIqsrLesrLarq7SmprG3t7+qqrNCUmatrbeioq2trLW5ucG1tb12d4mvrrh5eYp4eIl4eIp4d4p4eImoqLR4d4l2domtrbisqrV4d4l4eIh5eIqpqbN5eIp4eIm9vcUiPlJOWm6zs7taanpkanw2TGCnp7JmcYJBVWivr7lueImcnKmysbtzfY6Jj5yQk6BOYXO2tr8qRFh5gpGTl6OedVnFAAAAOHRSTlMA6MujtyE+XjAH2+k0x5H2+9JJucLzmqxnfIiFG10n4khkexBy79NzjBSxVWeoQN8pklNsNJxQoYvwJ9sAAAsPSURBVHgB7NXpTltXFMXx4iEUx8UEjG3CYOQJFBQ3oBZ1fYkqVeX9H6kDHZKA7XvP2fusu6X1f4S9fjrnu/x+2n//4Ycff1HPdQxOGrTvb05O2edvWE9t9iicumfv2KdvYE8YsYch9OYj++7N7Am4ZW9T3MIJ++pN7U8NmLHnKVpX78LG/tKACXuhgt2wL97k/taAS/ZGperqk9jWs4bBNXumMt2dsu/d7J41YNlnD1WiM/a1m94/GjC9Yk/l3yH72I3vXw3ozdljefcz+9bN7z8NWLHXEgZ6/2vAkL2Xa/omKvSFBnTYizl2xj50iL7UgDF7M7fu2HeO0Vca0Gav5lT3lH3nGH2tAffs3Xw6YZ85SN9owDl7OI9u2FeO0rcasGBPZ1+XfeQwvdCACXs88z6yjxymlxqOHtjrGXfMvnGcXmrAYM3ez7YT9o3j9IoG7PXZA1qmp6F6r2nA9II9oWEf2CcO1Ksa0Dtgb2jWJ/aFI/W6BrTYI5r1nn3hSG3QgCF7Ravesi8cqU0a0GHPaNMx+8Ch2qgBY/aQJh2yDxyqzRowYi9p0Tv2gUO1RQNu2VPm12XfN1bbNGDGHjO7ffZ9Y7VVAxbsNXM7ZN83Vts14JI9Z2Yn7PvGaoeGwSN7z7zesu8bqx0asFyzB83pgH3eYO3SgL0r9qQZfWKfN1g7NaA3Z2+a3hv2eYO1WwNW7E3TO2afN1gVNKDFHjW5O/Z5g1VFA4bsVVPbZ583WJU0YMyeVRqKVE0D2uxdpaFEFTVgxB5WGgpUVQPO2ctKg3+VNWDGnlYa3KuuARP2ttLgXQ0NRw/scaXBuRoaMLhmrysNvtXRgGWfPa80uFZLA6YX7H2lwbN6GtCbsweWBsdqakCLPbA0OFZXA4bshaXBr9oa0GFPLA1u1deAMXtjafAqQQNG7JGlwakUDbhnrywNPiVpwDl7ZmlwKU0DFuydpcGjRA24ZA8tDQ6lajh6ZC8tDfalasByzZ5aGsxL1oC9K/bW0mBdugZML9hjS4NxGRqwOmCvLQ225WhAi722NNiWpQFD9tzSYFqeBnTYe0uDZZka0GYPLg2G5WrAiL24NNiVrQG37Mmlwax8DZixN5cGqww0YMIeXRqMstCAS/bq0mCTiYbBNXt2aTDJRAOWffbu0mCRjQZMr9jDS4NBRhrQm7OXl4b8rDRgxV5eGvIz04Ahe3ppyM5OAzrs7aUhN0MNGLPHl4bMLDWgzV5fGvIy1YB79vzSkJWtBpyz95eGnIw1YMEGIA0ZWWvAhC1AGtIz13D0wCYgDcmZa8BgzTYgDanZa8Ben41AGhJz0IDpBVuBNKTloQG9AzYDaUjKRQNabAbSkJSPBgzZDqQhJScN6LAhSENCXhowZkuQhvq5acCITUEaauenAbdsC9JQN0cNmLExSEPNPDVgIQ2xctWAS2kIla+GwaM0RMpXA5ZraQiUswbsXUlDnLw1oDeXhjC5a8BKGsLkrwEtaYhSAQ0YSkOQSmjAWBpiVEQD2tIQojIaMJKGCBXSgHNpCFApDZhJQ/MrpgETaWh85TQcPUhD0yunAYNraWh4BTVg2ZeGZldSA6YX0tDoimpAby4NTe63ohrQkoYmV1gDhtLQ3D7/WlgDOtLQ2D7/XloDxtJA7g/26mUlri2KwjBeGkcRtCEqeDtJ1NgSTCOw5jJr7fJSZZUx7/842SaSAYF09xyN/2M+ws+Y/7y6nLyGckANptpi+hrKLTV4arOEGsoxNVhqNaOGckENlvqQksMpNTjqTyk17H2lBkP9NaWGcnlDDX7qfU4NZe2MGuy0Pk/K4fyEGuzEMqmGcrVFDW76KquGsk4Nbnp/ScthnxrMtHhOq6FsUoOZfp9XQ9mgBi8thsQcDqjBSovHxBrKNTVY6THPzOEjNThJHodyRA1OksehnFKDkRaz1Bp2/6cGIz2G1Bwud6jBR4uaWkM5P6MGHz2ec3PY/kQNNlrEQ24OV9Tgo8Ust4ayTw0+aiySc9ikBh89lsk5HFKDjRYxJOewQQ02avS75BxuqcFGjft5cg7H1GBjzOEhOYcLarBhkMMRNdio0YfcGva+UIONGvGam8PuDTXYGHOY5eawtkMNNsYc+lNqDucn1GCjxTgPD5k5bG9Rg49xHmLxkpjDOjUYecshFvO8HPapwcjbtxj/xY+0HDapwcmveYj+OCTlcEgNTurvHsYgnu8ycjigBivvOYy+zxbLp6lzuKYGL+rhvYq6Wn2bzGdqMPN3D1P6QA128nqgBkdZPVCDp9qpAdISBoIajNWpg6AGb9MGQQ3+6mT+owb8QQ0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBYlDDT3bpoAYAAAZCmH/Xe2Jhl7RBAnrDDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDbOOvTo2cSsAoij6EwkrcCCDA6kDWRi5/+oc3gL+LLPBOUwDDy7MF5waiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGshADe/tDUz5d76GX9sbmHI5X8N1ewNTbudruGxvYMjv8zEct+0RDLkP1HB8tlcw4+9EDX+2VzDjMVHDc3sFM94TNby3VzDjNVHDa3sFI+4TMRzHz+0dTHjO1PDY3sGE60wNP7Z3MOAzE8O3fxX/26u7FFeBKIjj9WJ7RVrwBh/iBoLGoKBD9r+zMeRtmA9jn+4amfrhBkr+9NG3hdGhAGb2Egk3WdVQNOwpEqq3igGo2FsklLOrIWNvkUAnuxj0OBye4dMAdA17joS4W8YAXNh7JECT2dYAz14k+w3GMWBhL5LdbtYx6FYc19jZ14A7e5Xs4yLEAHj2LNkjjxIDspI9TF53iRMD8E85HM45VgzAohwOJmIMwFSz58kr5pgxAN2JPVA2a65xY1hV7I2ykZ+ixwDkDXumbNEmaGGV3dhD5UfepYlhda3ZY+Vb5ZyshYdhZA+Wr52LpDGscs/eLJ+q5+QtPCxVyV4uH5RvjpHCk2v1Qvwevv3PS+GpcEPV+5H9J/600ffV7MIPxDumgOQFO91H4AAAAABJRU5ErkJggg=="},d930:function(e,t,i){"use strict";var a=i("9b3e");function s(e){return new Date(e).getDay()}let n=e=>{var e=parseInt(e),t=0,i=0,e=(60<=e&&(t=parseInt(e/60),e=parseInt(e%60),60<=t)&&(i=parseInt(t/60),t=parseInt(t%60)),""+(parseInt(e)<10?"0"+parseInt(e):parseInt(e))),e=(parseInt(t)<10?"0"+parseInt(t):parseInt(t))+":"+e;return e=5==(e=0<parseInt(i)?(parseInt(i)<10?"0"+parseInt(i):parseInt(i))+":"+e:e).length?"00:"+e:e};t.a={transCoordinateForSet:function(e,t,i){let s=t,n=i;var r;return e&&e.coordinate&&("GCJ-02"==e.coordinate?(r=Object(a.transformGCJ02ToWGS84)(t,i),s=r[0],n=r[1]):"BD-09"==e.coordinate&&(r=Object(a.transformBD09ToWGS84)(t,i),s=r[0],n=r[1])),[s,n]},transCoordinateForShow:function(e,t,i){let s=t,n=i;var r;return e&&e.coordinate&&("GCJ-02"==e.coordinate?(r=Object(a.transformWGS84ToGCJ02)(t,i),s=r[0],n=r[1]):"BD-09"==e.coordinate&&(r=Object(a.transformWGS84ToBD09)(t,i),s=r[0],n=r[1])),[s,n]},mergeTimestamp:function(t,i){let s="";for(var n in t=t||[],i+=""){let e=parseInt(i[n]);t.length>n&&(e=t[n]+e),s+=e}return s},generateRandomString:function(t=10){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";var n=i.length;for(let e=0;e<t;e++)s+=i.charAt(Math.floor(Math.random()*n));return s},interleaveStrings:function(t,e){let i="",s=e.split("").reverse().join("");for(let e=0;e<t.length;e++)i+=t[e]+s[e];return i},extractNumbers:function(e){e=e.match(/\d+/g);return e?e.map(Number):[]},calItemWidth:function(t,i,s){if(t){let e=parseFloat(t.width/i).toFixed();e<1&&(e=1);i=(parseInt(10*t.width)/10-s*e*2)/e;return parseInt(10*i)/10}},formatSeconds:n,formatSecondsB:e=>{var e=n(e),[t,i,s]=e.split(":").map(Number);return 0===t&&0===i?s+"s":e},getSizeStr:function(e){let t=parseInt(e/1024*100)/100,i=t+"KB";return 1024<t&&(e=parseInt(t/1024*100)/100,i=e+"MB",1024<e)&&(e=parseInt(e/1024*100)/100,i=e+"GB"),i},checkDouban:function(e,t){t?window.open("https://movie.douban.com/subject/"+(t+"").trim(),"_blank"):(e=0<(t=(e=e.substr(0,e.lastIndexOf("."))).replace(/[^\u4E00-\u9FA5]/g,"")).length?t:this.filterMovieName(e),window.open("https://search.douban.com/movie/subject_search?search_text="+e,"_blank"))},checkImdb:function(e,t){t?window.open("https://www.imdb.com/title/"+t.trim(),"_blank"):(e=0<(t=(e=e.substr(0,e.lastIndexOf("."))).replace(/[^\u4E00-\u9FA5]/g,"")).length?t:this.filterMovieName(e),window.open("https://www.imdb.com/find?q="+e,"_blank"))},formatTimeStamp:e=>{return e?(e=new Date(e)).getFullYear()+`-${e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1}-${e.getDate()<10?"0"+e.getDate():e.getDate()} ${e.getHours()<10?"0"+e.getHours():e.getHours()}:${e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}:`+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()):""},getWeekdayNumber:s,getWeekdayString:function(e,t){return[e.$t("common.sunday"),e.$t("common.monday"),e.$t("common.tuesday"),e.$t("common.wednesday"),e.$t("common.thursday"),e.$t("common.friday"),e.$t("common.saturday")][s(t)]}}},dbca:function(e,t,i){},dc02:function(e,t,i){},dc95:function(B,F,e){"use strict";var r=e("2b0e");const R=r.default.prototype.$isServer,i=!R&&document.addEventListener?function(e,t,i,s=!1){e&&t&&i&&e.addEventListener(t,i,s)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)},t=!R&&document.removeEventListener?function(e,t,i,s=!1){e&&t&&e.removeEventListener(t,i,s)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)};function $(e,t){let i=e[t?"pageYOffset":"pageXOffset"];return i="number"!=typeof i?window.document.documentElement[t?"scrollTop":"scrollLeft"]:i}var U={name:"Affix",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},useCapture:{type:Boolean,default:!1}},data(){return{affix:!1,styles:{},slot:!1,slotStyle:{}}},computed:{offsetType(){let e="top";return e=0<=this.offsetBottom?"bottom":e},classes(){return[{"ivu-affix":this.affix}]}},mounted(){i(window,"scroll",this.handleScroll,this.useCapture),i(window,"resize",this.handleScroll,this.useCapture),this.$nextTick(()=>{this.handleScroll()})},beforeDestroy(){t(window,"scroll",this.handleScroll,this.useCapture),t(window,"resize",this.handleScroll,this.useCapture)},methods:{handleScroll(){var e,t,i=this.affix,s=$(window,!0),n=(a=(a=this.$el).getBoundingClientRect(),n=$(window,!0),e=$(window),r=(t=window.document.body).clientTop||0,t=t.clientLeft||0,{top:a.top+n-r,left:a.left+e-t}),r=window.innerHeight,a=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.offsetTop<s&&"top"==this.offsetType&&!i?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:this.offsetTop+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("on-change",!0)):n.top-this.offsetTop>s&&"top"==this.offsetType&&i&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),n.top+this.offsetBottom+a>s+r&&"bottom"==this.offsetType&&!i?(this.affix=!0,this.styles={bottom:this.offsetBottom+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("on-change",!0)):n.top+this.offsetBottom+a<s+r&&"bottom"==this.offsetType&&i&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}},s=e("2877"),U=Object(s.a)(U,function(){var e=this.$createElement,e=this._self._c||e;return e("div",[e("div",{ref:"point",class:this.classes,style:this.styles},[this._t("default")],2),e("div",{directives:[{name:"show",rawName:"v-show",value:this.slot,expression:"slot"}],style:this.slotStyle})])},[],!1,null,null,null).exports;var n={name:"Icon",props:{type:{type:String,default:""},size:[Number,String],color:String,custom:{type:String,default:""}},computed:{classes(){return["ivu-icon",{["ivu-icon-"+this.type]:""!==this.type,[""+this.custom]:""!==this.custom}]},styles(){var e={};return this.size&&(e["font-size"]=this.size+"px"),this.color&&(e.color=this.color),e}},methods:{handleClick(e){this.$emit("click",e)}}},n=Object(s.a)(n,function(){var e=this.$createElement;return(this._self._c||e)("i",{class:this.classes,style:this.styles,on:{click:this.handleClick}})},[],!1,null,null,null).exports,a=n,h=e("4fe7");const j="ivu-alert";var V={name:"Alert",components:{Icon:a},props:{type:{validator(e){return Object(h.m)(e,["success","info","warning","error"])},default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},banner:{type:Boolean,default:!1},fade:{type:Boolean,default:!0}},data(){return{closed:!1,desc:!1}},computed:{wrapClasses(){return[j,j+"-"+this.type,{"ivu-alert-with-icon":this.showIcon,"ivu-alert-with-desc":this.desc,"ivu-alert-with-banner":this.banner}]},messageClasses(){return j+"-message"},descClasses(){return j+"-desc"},closeClasses(){return j+"-close"},iconClasses(){return j+"-icon"},iconType(){let e="";switch(this.type){case"success":e="ios-checkmark-circle";break;case"info":e="ios-information-circle";break;case"warning":e="ios-alert";break;case"error":e="ios-close-circle"}return this.desc&&(e+="-outline"),e}},methods:{close(e){this.closed=!0,this.$emit("on-close",e)}},mounted(){this.desc=void 0!==this.$slots.desc}},V=Object(s.a)(V,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("transition",{attrs:{name:e.fade?"fade":""}},[e.closed?e._e():t("div",{class:e.wrapClasses},[e.showIcon?t("span",{class:e.iconClasses},[e._t("icon",[t("Icon",{attrs:{type:e.iconType}})])],2):e._e(),t("span",{class:e.messageClasses},[e._t("default")],2),t("span",{class:e.descClasses},[e._t("desc")],2),e.closable?t("a",{class:e.closeClasses,on:{click:e.close}},[e._t("close",[t("Icon",{attrs:{type:"ios-close"}})])],2):e._e()])])},[],!1,null,null,null).exports;e("14d9");var z={name:"Anchor",provide(){return{anchorCom:this}},data(){return{prefix:"ivu-anchor",isAffixed:!1,inkTop:0,animating:!1,currentLink:"",currentId:"",scrollContainer:null,scrollElement:null,titlesOffsetArr:[],wrapperTop:0,upperFirstTitle:!0}},props:{affix:{type:Boolean,default:!0},offsetTop:{type:Number,default:0},offsetBottom:Number,bounds:{type:Number,default:5},container:null,showInk:{type:Boolean,default:!1},scrollOffset:{type:Number,default:0}},computed:{wrapperComponent(){return this.affix?"Affix":"div"},wrapperStyle(){return{maxHeight:this.offsetTop?`calc(100vh - ${this.offsetTop}px)`:"100vh"}},containerIsWindow(){return this.scrollContainer===window}},methods:{handleAffixStateChange(e){this.isAffixed=this.affix&&e},handleScroll(e){this.upperFirstTitle=e.target.scrollTop<this.titlesOffsetArr[0].offset,this.animating||(this.updateTitleOffset(),e=document.documentElement.scrollTop||document.body.scrollTop||e.target.scrollTop,this.getCurrentScrollAtTitleId(e))},handleHashChange(){var e=window.location.href,e=h.q.exec(e);e&&(this.currentLink=e[0],this.currentId=e[1])},handleScrollTo(){var e=document.getElementById(this.currentId),t=document.querySelector(`a[data-href="${this.currentLink}"]`);let i=this.scrollOffset;t&&(i=parseFloat(t.getAttribute("data-scroll-offset"))),e&&(t=e.offsetTop-this.wrapperTop-i,this.animating=!0,Object(h.o)(this.scrollContainer,this.scrollElement.scrollTop,t,600,()=>{this.animating=!1}),this.handleSetInkTop())},handleSetInkTop(){var e=document.querySelector(`a[data-href="${this.currentLink}"]`);e&&(e=(e=e.offsetTop)<0?this.offsetTop:e,this.inkTop=e)},updateTitleOffset(){var e=Object(h.h)(this,"AnchorLink").map(e=>e.href).map(e=>e.split("#")[1]);let i=[];e.forEach(e=>{var t=document.getElementById(e);t&&i.push({link:"#"+e,offset:t.offsetTop-this.scrollElement.offsetTop})}),this.titlesOffsetArr=i},getCurrentScrollAtTitleId(e){let t=-1,i=this.titlesOffsetArr.length,s={link:"#",offset:0};for(e+=this.bounds;++t<i;){var n=this.titlesOffsetArr[t],r=this.titlesOffsetArr[t+1];if(e>=n.offset&&e<(r&&r.offset||1/0)){s=this.titlesOffsetArr[t];break}}this.currentLink=s.link,this.handleSetInkTop()},getContainer(){this.scrollContainer=this.container?"string"==typeof this.container?document.querySelector(this.container):this.container:window,this.scrollElement=this.container?this.scrollContainer:document.documentElement||document.body},removeListener(){t(this.scrollContainer,"scroll",this.handleScroll),t(window,"hashchange",this.handleHashChange)},init(){this.handleHashChange(),this.$nextTick(()=>{this.removeListener(),this.getContainer(),this.wrapperTop=this.containerIsWindow?0:this.scrollElement.offsetTop,this.handleScrollTo(),this.handleSetInkTop(),this.updateTitleOffset(),this.titlesOffsetArr[0]&&(this.upperFirstTitle=this.scrollElement.scrollTop<this.titlesOffsetArr[0].offset),i(this.scrollContainer,"scroll",this.handleScroll),i(window,"hashchange",this.handleHashChange)})}},watch:{$route(){this.handleHashChange(),this.$nextTick(()=>{this.handleScrollTo()})},container(){this.init()},currentLink(e,t){this.$emit("on-change",e,t)}},mounted(){this.init()},beforeDestroy(){this.removeListener()}},z=Object(s.a)(z,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t(e.wrapperComponent,{tag:"component",attrs:{"offset-top":e.offsetTop,"offset-bottom":e.offsetBottom},on:{"on-change":e.handleAffixStateChange}},[t("div",{class:e.prefix+"-wrapper",style:e.wrapperStyle},[t("div",{class:""+e.prefix},[t("div",{class:e.prefix+"-ink"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.showInk,expression:"showInk"}],class:e.prefix+"-ink-ball",style:{top:e.inkTop+"px"}})]),e._t("default")],2)])])},[],!1,null,null,null).exports,W={name:"AnchorLink",inject:["anchorCom"],props:{href:String,title:String,scrollOffset:{type:Number,default(){return this.anchorCom.scrollOffset}}},data(){return{prefix:"ivu-anchor-link"}},computed:{anchorLinkClasses(){return[this.prefix,this.anchorCom.currentLink===this.href?this.prefix+"-active":""]},linkTitleClasses(){return[this.prefix+"-title"]}},methods:{goAnchor(){this.currentLink=this.href,this.anchorCom.handleHashChange(),this.anchorCom.handleScrollTo(),this.anchorCom.$emit("on-select",this.href),this.$router?this.$router.push(this.href,()=>{}):window.location.href=this.href}},mounted(){this.$nextTick(()=>{this.anchorCom.init()})}},W=Object(s.a)(W,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.anchorLinkClasses},[e("a",{class:t.linkTitleClasses,attrs:{href:t.href,"data-scroll-offset":t.scrollOffset,"data-href":t.href,title:t.title},on:{click:function(e){return e.preventDefault(),t.goAnchor(e)}}},[t._v(t._s(t.title))]),t._t("default")],2)},[],!1,null,null,null).exports;e("13d5");let H=0,q=0;function G(){H++}const Y=r.default.prototype.$isServer,Q=Y?function(){}:e("d2e4");var o={name:"Drop",props:{placement:{type:String,default:"bottom-start"},className:{type:String},transfer:{type:Boolean},eventsEnabled:{type:Boolean,default:!1}},data(){return{popper:null,width:"",popperStatus:!1,tIndex:this.handleGetIndex()}},computed:{styles(){var e={};return this.width&&(e.minWidth=this.width+"px"),this.transfer&&(e["z-index"]=1060+this.tIndex),e}},methods:{update(){Y||this.$nextTick(()=>{this.popper?(this.popper.update(),this.popperStatus=!0):this.popper=new Q(this.$parent.$refs.reference,this.$el,{eventsEnabled:this.eventsEnabled,placement:this.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:()=>{this.resetTransformOrigin(),this.$nextTick(this.popper.update())},onUpdate:()=>{this.resetTransformOrigin()}}),"iSelect"===this.$parent.$options.name&&(this.width=parseInt(Object(h.l)(this.$parent.$el,"width"))),this.tIndex=this.handleGetIndex()})},destroy(){this.popper&&setTimeout(()=>{this.popper&&!this.popperStatus&&(this.popper.popper.style.display="none",this.popper.destroy(),this.popper=null),this.popperStatus=!1},300)},resetTransformOrigin(){var e,t,i;this.popper&&(t=(e=this.popper.popper.getAttribute("x-placement")).split("-")[0],i=e.split("-")[1],"left"!==e)&&"right"!==e&&(this.popper.popper.style.transformOrigin="bottom"===t||"top"!==t&&"start"===i?"center top":"center bottom")},handleGetIndex(){return G(),H}},created(){this.$on("on-update-popper",this.update),this.$on("on-destroy-popper",this.destroy)},beforeDestroy(){this.$off("on-update-popper",this.update),this.$off("on-destroy-popper",this.destroy),this.popper&&(this.popper.destroy(),this.popper=null)}},o=Object(s.a)(o,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ivu-select-dropdown",class:this.className,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports;e("d9e2");function K(i,t,s){function n(e){var t=e["el"];if(t!==r&&!t.contains(r)){const r=e["binding"];r.modifiers.stop&&s.stopPropagation(),r.modifiers.prevent&&s.preventDefault(),r.value.call(i,s)}}const r=s["target"];Object.keys(t).forEach(function(e){return t[e].forEach(n)})}function X(e){K(this,ee,e)}function Z(e){K(this,te,e)}function J(e){return e?X:Z}const ee=Object.create(null),te=Object.create(null),ie=[ee,te],se=Object.defineProperties({},{$_captureInstances:{value:ee},$_nonCaptureInstances:{value:te},$_onCaptureEvent:{value:X},$_onNonCaptureEvent:{value:Z},bind:{value:function(e,t){if("function"!=typeof t.value)throw new TypeError("Binding value must be a function.");var i=t.modifiers,i=i.click?"click":i.mousedown?"mousedown":i.touchstart?"touchstart":"click",s=t.arg,t={...t,modifiers:{capture:!1,prevent:!1,stop:!1,...t.modifiers}},n=s?ee:te;Array.isArray(n[i])||(n[i]=[]),1===n[i].push({el:e,binding:t})&&"object"==typeof document&&document&&document.addEventListener(i,J(s),s)}},unbind:{value:function(t){function n(e){return e.el!==t}ie.forEach(function(i){var e=Object.keys(i);if(e.length){const s=i===ee,t=function(e){var t=i[e].filter(n);t.length?i[e]=t:("object"==typeof document&&document&&document.removeEventListener(e,J(s),s),delete i[e])};e.forEach(t)}})}},version:{enumerable:!0,value:"3.7.1"}});function ne(e){return!0===(e=void 0===e?document.body:e)?document.body:e instanceof window.Node?e:document.querySelector(e)}var l={inserted(t,{value:i},e){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";var s=t.parentNode;if(s){var n=document.createComment("");let e=!1;!1!==i&&(s.replaceChild(n,t),ne(i).appendChild(t),e=!0),t.__transferDomData||(t.__transferDomData={parentNode:s,home:n,target:ne(i),hasMovedOut:e})}},componentUpdated(e,{value:t}){if(e.dataset&&"true"!==e.dataset.transfer)return!1;var i,s,n=e.__transferDomData;n&&(i=n.parentNode,s=n.home,!(n=n.hasMovedOut)&&t?(i.replaceChild(s,e),ne(t).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:ne(t)})):n&&!1===t?(i.replaceChild(e,s),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:ne(t)})):t&&ne(t).appendChild(e))},unbind(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom",""),e.__transferDomData&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}};function re(t,i,s){this.$children.forEach(e=>{e.$options.name===t?e.$emit.apply(e,[i].concat(s)):re.apply(e,[t,i].concat([s]))})}var c={methods:{dispatch(e,t,i){let s=this.$parent||this.$root,n=s.$options.name;for(;s&&(!n||n!==e);)(s=s.$parent)&&(n=s.$options.name);s&&s.$emit.apply(s,[t].concat(i))},broadcast(e,t,i){re.call(this,e,t,i)}}},u={inject:{FormInstance:{default:""}},computed:{itemDisabled(){let e=this.disabled;return e=!e&&this.FormInstance?this.FormInstance.disabled:e}}},ae=e("aea6"),oe=e("58dc");const le=/(%|)\{([0-9a-zA-Z_]+)\}/g;r.default;const ce=function(n,...r){return(r=1===r.length&&"object"==typeof r[0]?r[0]:r)&&r.hasOwnProperty||(r={}),n.replace(le,(e,t,i,s)=>{return"{"===n[s-1]&&"}"===n[s+e.length]?i:(s=r,e=i,null==(s=Object.prototype.hasOwnProperty.call(s,e)?r[i]:null)?"":s)})};let ue=ae.a,he=!1,de=function(){var e=Object.getPrototypeOf(this||r.default).$t;if("function"==typeof e&&r.default.locale)return he||(he=!0,r.default.locale(r.default.config.lang,Object(oe.a)(ue,r.default.locale(r.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)};function pe(i,s){let n=de.apply(this,arguments);if(null!==n&&void 0!==n)return n;var r=i.split(".");let a=ue;for(let e=0,t=r.length;e<t;e++){const i=r[e];if(n=a[i],e===t-1)return ce(n,s);if(!n)return"";a=n}return""}var me={use:function(e){ue=e||ue},t:pe,i18n:function(e){de=e||de}},d={methods:{t(...e){return pe.apply(this,e)}}};const fe="ivu-select";var ae={name:"iSelectHead",mixins:[c,d],components:{Icon:a},props:{disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},initialLabel:{type:[String,Number,Array]},values:{type:Array,default:()=>[]},clearable:{type:[Function,Boolean],default:!1},inputElementId:{type:String},placeholder:{type:String},queryProp:{type:String,default:""},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean},showCreateItem:{type:Boolean}},data(){return{prefixCls:fe,query:"",inputLength:20,remoteInitialLabel:this.initialLabel,preventRemoteCall:!1}},computed:{singleDisplayClasses(){var{filterable:e,multiple:t,showPlaceholder:i}=this;return[{"ivu-select-head-with-prefix":this.$slots.prefix||this.prefix,"ivu-select-placeholder":i&&!e,"ivu-select-selected-value":!i&&!t&&!e}]},singleDisplayValue(){return this.multiple&&0<this.values.length||this.filterable?"":""+this.selectedSingle||this.localePlaceholder},showPlaceholder(){let e=!1;var t;return this.multiple?0<!this.values.length&&(e=!0):void 0!==(t=this.values[0])&&""!==String(t).trim()||(e=!this.remoteInitialLabel),e},resetSelect(){return!this.showPlaceholder&&this.clearable},inputStyle(){var e={};return this.multiple&&(this.showPlaceholder?e.width="100%":e.width=this.inputLength+"px"),e},localePlaceholder(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},selectedSingle(){var e=this.values[0];return e?e.label:this.remoteInitialLabel||""},selectedMultiple(){return this.multiple?this.values:[]},headCls(){return{"ivu-select-head-flex":this.filterable&&(this.$slots.prefix||this.prefix)}},arrowType(){let e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.select.customArrow?e="":this.$IVIEW.select.arrow&&(e=this.$IVIEW.select.arrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.select.customArrow?this.$IVIEW.select.customArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.select.arrowSize?this.$IVIEW.select.arrowSize:e}},methods:{onInputFocus(){this.$emit("on-input-focus")},onInputBlur(){this.showCreateItem||(this.values.length||(this.query=""),this.$emit("on-input-blur"))},removeTag(e){if(this.disabled)return!1;this.dispatch("iSelect","on-select-selected",e)},resetInputState(){this.inputLength=12*this.$refs.input.value.length+20,this.$emit("on-keydown")},handleInputDelete(e){e=e.target.value;this.multiple&&this.selectedMultiple.length&&""===this.query&&""===e&&this.removeTag(this.selectedMultiple[this.selectedMultiple.length-1])},handleInputEnter(e){this.$emit("on-enter"),this.showCreateItem&&e.stopPropagation()},onHeaderClick(e){this.filterable&&e.target===this.$el&&this.$refs.input.focus()},onClear(){this.$emit("on-clear")}},watch:{values([e]){this.filterable&&(this.preventRemoteCall=!0,this.multiple?(this.query="",this.preventRemoteCall=!1):(this.query=void 0===e||""===e||null===e?"":e.label,this.$nextTick(()=>this.preventRemoteCall=!1)))},query(e){this.preventRemoteCall?this.preventRemoteCall=!1:this.$emit("on-query-change",e)},queryProp(e){e!==this.query&&(this.query=e)}}},ae=Object(s.a)(ae,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.headCls,on:{click:i.onHeaderClick}},[i.$slots.prefix||i.prefix?s("span",{class:[i.prefixCls+"-prefix"]},[i._t("prefix",[i.prefix?s("Icon",{attrs:{type:i.prefix}}):i._e()])],2):i._e(),i._l(i.selectedMultiple,function(t,e){return void 0===i.maxTagCount||e<i.maxTagCount?s("div",{staticClass:"ivu-tag ivu-tag-checked"},[s("span",{staticClass:"ivu-tag-text",class:{"ivu-select-multiple-tag-hidden":t.disabled}},[i._v(i._s(void 0!==t.tag?t.tag:t.label))]),t.disabled?i._e():s("Icon",{attrs:{type:"ios-close"},nativeOn:{click:function(e){return e.stopPropagation(),i.removeTag(t)}}})],1):i._e()}),void 0!==i.maxTagCount&&i.selectedMultiple.length>i.maxTagCount?s("div",{staticClass:"ivu-tag ivu-tag-checked"},[s("span",{staticClass:"ivu-tag-text ivu-select-max-tag"},[i.maxTagPlaceholder?[i._v(i._s(i.maxTagPlaceholder(i.selectedMultiple.length-i.maxTagCount)))]:[i._v("+ "+i._s(i.selectedMultiple.length-i.maxTagCount)+"...")]],2)]):i._e(),s("span",{directives:[{name:"show",rawName:"v-show",value:i.singleDisplayValue,expression:"singleDisplayValue"}],class:i.singleDisplayClasses},[i._v(i._s(i.singleDisplayValue))]),i.filterable?s("input",{directives:[{name:"model",rawName:"v-model",value:i.query,expression:"query"}],ref:"input",class:[i.prefixCls+"-input"],style:i.inputStyle,attrs:{id:i.inputElementId,type:"text",disabled:i.disabled,placeholder:i.showPlaceholder?i.localePlaceholder:"",autocomplete:"off",spellcheck:"false"},domProps:{value:i.query},on:{keydown:[i.resetInputState,function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:i.handleInputDelete(e)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.handleInputEnter(e)}],focus:i.onInputFocus,blur:i.onInputBlur,input:function(e){e.target.composing||(i.query=e.target.value)}}}):i._e(),i.resetSelect?s("Icon",{class:[i.prefixCls+"-arrow"],attrs:{type:"ios-close-circle"},nativeOn:{click:function(e){return e.stopPropagation(),i.onClear(e)}}}):i._e(),i.resetSelect||i.remote?i._e():s("Icon",{class:[i.prefixCls+"-arrow"],attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize}})],2)},[],!1,null,null,null).exports,p=()=>[],p={props:{options:{type:Array,default:p},slotOptions:{type:Array,default:p},slotUpdateHook:{type:Function,default:()=>{}}},render(e){return this.slotOptions!==this.$parent.$slots.default&&this.slotUpdateHook(),e("ul",[this.$slots.default,this.options])}},p=Object(s.a)(p,void 0,void 0,!1,null,null,null).exports;const ge="ivu-select",ye=/^i-option$|^Option$/i,ve=/option-?group/i,be=(i,s)=>{if(s(i))return i;for(let e=0,t=i.$children.length;e<t;e++){var n=i.$children[e];if(n=be(n,s))return n}},we=e=>{var t=e.componentOptions;return t&&ye.test(t.tag)?[e]:(e.children||t&&t.children)&&0<(e=[...e.children||[],...t&&t.children||[]].reduce((e,t)=>[...e,...we(t)],[]).filter(Boolean)).length?e:[]},Se=e=>e.reduce((e,t)=>e.concat(we(t)),[]),_e=(e,t,i)=>({...e,componentOptions:{...e.componentOptions,propsData:{...e.componentOptions.propsData,[t]:i}}}),Ce=(e,t)=>{return t.split(".").reduce((e,t)=>e&&e[t]||null,e)};p={name:"iSelect",mixins:[c,d,u],components:{FunctionalOptions:p,Drop:o,SelectHead:ae,Icon:a},directives:{clickOutside:se,TransferDom:l},props:{value:{type:[String,Number,Array],default:""},label:{type:[String,Number,Array],default:""},defaultLabel:{type:[String,Number,Array],default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},filterMethod:{type:Function},remoteMethod:{type:Function},loading:{type:Boolean,default:!1},loadingText:{type:String},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},labelInValue:{type:Boolean,default:!1},notFoundText:{type:String},placement:{validator(e){return Object(h.m)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"])},default:"bottom-start"},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},autoComplete:{type:Boolean,default:!1},name:{type:String},elementId:{type:String},transferClassName:{type:String},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean,default:!1},capture:{type:Boolean,default(){return!this.$IVIEW||this.$IVIEW.capture}},filterByLabel:{type:Boolean,default:!1},eventsEnabled:{type:Boolean,default:!1}},mounted(){if(this.$on("on-select-selected",this.onOptionClick),!this.remote&&0<this.selectOptions.length&&(this.values=this.getInitialValue().map(e=>"number"==typeof e||e?this.getOptionData(e):null).filter(Boolean)),this.checkUpdateStatus(),this.remote&&this.value&&this.defaultLabel)if(this.multiple){if(this.multiple&&this.defaultLabel instanceof Array&&this.value.length===this.defaultLabel.length){const e=this.value.map((e,t)=>({value:e,label:this.defaultLabel[t]}));this.$emit("on-set-default-options",JSON.parse(JSON.stringify(e))),setTimeout(()=>{this.values=e})}}else this.query=this.defaultLabel},beforeDestroy(){this.$off("on-select-selected")},data(){return{prefixCls:ge,values:[],dropDownWidth:0,visible:!1,focusIndex:-1,isFocused:!1,query:"",initialLabel:this.label,hasMouseHoverHead:!1,slotOptions:this.$slots.default,caretPosition:-1,lastRemoteQuery:"",unchangedQuery:!0,hasExpectedValue:!1,isTyping:!1,preventRemoteCall:!1,filterQueryChange:!1}},computed:{classes(){return[ge,{"ivu-select-visible":this.visible,"ivu-select-disabled":this.itemDisabled,"ivu-select-multiple":this.multiple,"ivu-select-single":!this.multiple,"ivu-select-show-clear":this.showCloseIcon,[ge+"-"+this.size]:!!this.size}]},dropdownCls(){return{"ivu-select-dropdown-transfer":this.transfer,"ivu-select-multiple":this.multiple&&this.transfer,"ivu-auto-complete":this.autoComplete,[this.transferClassName]:this.transferClassName}},selectionCls(){return{"ivu-select-selection":!this.autoComplete,"ivu-select-selection-focused":this.isFocused}},localeNotFoundText(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},localeLoadingText(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText},showCreateItem(){let e=!1;var t;return e=this.allowCreate&&""!==this.query&&(e=!0,t=Object(h.h)(this,"iOption"))&&t.length&&t.find(e=>e.optionLabel===this.query)?!1:e},transitionName(){return"bottom"===this.placement?"slide-up":"slide-down"},dropVisible(){let e=!0;var t=!this.selectOptions||0===this.selectOptions.length;return!this.loading&&this.remote&&""===this.query&&t&&(e=!1),this.autoComplete&&t&&(e=!1),this.visible&&e},showNotFoundLabel(){var{loading:e,remote:t,selectOptions:i}=this;return i&&0===i.length&&(!t||!e)},publicValue(){return this.multiple?this.values.map(e=>e.value):(this.values[0]||{}).value},canBeCleared(){var e=this.hasMouseHoverHead||this.active,t=!this.multiple&&!this.itemDisabled&&this.clearable;return e&&t&&this.reset},selectOptions(){const i=[],t=this.slotOptions||[];let s=-1;const n=this.focusIndex,r=this.values.filter(Boolean).map(({value:e})=>e);if(this.autoComplete){const i=(e,t)=>({...e,children:(e.children||[]).map(t).map(e=>i(e,t))}),s=Se(t),r=s[n];return t.map(e=>e===r||Ce(e,"componentOptions.propsData.value")===this.value?_e(e,"isFocused",!0):i(e,e=>e!==r?e:_e(e,"isFocused",!0)))}for(var a of t){const t=a.componentOptions;if(t)if(ve.test(t.tag)){let e=t.children;0<(e=(e=this.filterable&&this.isTyping?e.filter(({componentOptions:e})=>this.validateOption(e)):e).map(e=>(s+=1,this.processOption(e,r,s===n)))).length&&i.push({...a,componentOptions:{...t,children:e}})}else{if(this.filterQueryChange){const i=this.filterable?this.validateOption(t):a;if(!i)continue}s+=1,i.push(this.processOption(a,r,s===n))}}return i},flatOptions(){return Se(this.selectOptions)},selectTabindex(){return this.itemDisabled||this.filterable?-1:0},remote(){return"function"==typeof this.remoteMethod}},methods:{setQuery(e){e?this.onQueryChange(e):null===e&&(this.onQueryChange(""),this.values=[],this.lastRemoteQuery="")},clearSingleSelect(){this.multiple||this.$emit("input",""),this.$emit("on-clear"),this.hideMenu(),this.clearable&&this.reset()},getOptionData(t){var e,i,s=this.flatOptions.find(({componentOptions:e})=>e.propsData.value===t);return s?(i=(e=s).componentOptions.propsData.label||(i=(e.componentOptions.children||[]).reduce((e,t)=>e+(t.text||""),""),e=Ce(e,"data.domProps.innerHTML"),i)||("string"==typeof e?e:""),e=s.componentOptions.propsData.disabled,{value:t,label:i,disabled:e}):null},getInitialValue(){const{multiple:e,remote:t,value:i}=this;let s=Array.isArray(i)?i:[i];if(e||void 0!==s[0]&&(""!==String(s[0]).trim()||Number.isFinite(s[0]))||(s=[]),t&&!e&&i){const e=this.getOptionData(i);this.query=e?e.label:String(i)}return s.filter(e=>Boolean(e)||0===e)},processOption(e,t,i){var s,n;return e.componentOptions?(n=e.componentOptions.propsData.value,s=e.componentOptions.propsData.disabled,t=t.includes(n),n={...e.componentOptions.propsData,selected:t,isFocused:i,disabled:void 0!==s&&!1!==s},{...e,componentOptions:{...e.componentOptions,propsData:n}}):e},validateOption({children:e,elm:t,propsData:i}){var s=i.value,i=i.label||"",t=t&&t.textContent||(e||[]).reduce((e,t)=>{return e+" "+(t.elm?t.elm.textContent:t.text)},"")||"",e=(this.filterByLabel?[i]:[s,i,t]).toString(),s=this.query.toLowerCase().trim();return e.toLowerCase().includes(s)},toggleMenu(e,t){if(this.itemDisabled)return!1;this.visible=void 0!==t?t:!this.visible,this.visible&&(this.dropDownWidth=this.$el.getBoundingClientRect().width,this.broadcast("Drop","on-update-popper"))},hideMenu(){this.toggleMenu(null,!1),this.isTyping=!1,setTimeout(()=>this.unchangedQuery=!0,300)},onClickOutside(t){if(this.visible)if("mousedown"===t.type)t.preventDefault();else{if(this.transfer){var e=this.$refs.dropdown["$el"];if(e===t.target||e.contains(t.target))return}if(this.filterable){const t=this.$el.querySelector('input[type="text"]');this.caretPosition=t.selectionStart,this.$nextTick(()=>{var e=-1===this.caretPosition?t.value.length:this.caretPosition;t.setSelectionRange(e,e)})}this.autoComplete||t.stopPropagation(),t.preventDefault(),this.hideMenu(),this.isFocused=!0,this.$emit("on-clickoutside",t)}else this.caretPosition=-1,this.isFocused=!1},reset(){this.query="",this.focusIndex=-1,this.unchangedQuery=!0,this.values=[],this.filterQueryChange=!1},handleKeydown(e){const t=e.key||e.code,i=e.keyCode||e.which;if("Backspace"!==t&&8!==i)if(this.visible){if(e.preventDefault(),"Tab"===t&&e.stopPropagation(),"Escape"===t&&(e.stopPropagation(),this.hideMenu()),"ArrowUp"===t&&this.navigateOptions(-1),"ArrowDown"===t&&this.navigateOptions(1),"Enter"===t){if(-1===this.focusIndex)return this.hideMenu();const e=this.flatOptions[this.focusIndex];if(e){const t=this.getOptionData(e.componentOptions.propsData.value);this.onOptionClick(t)}else this.hideMenu()}}else{const t=["ArrowUp","ArrowDown"];t.includes(e.key)&&this.toggleMenu(null,!0)}},navigateOptions(e){const s=this.flatOptions.length-1;if(!(s<0)){let i=this.focusIndex+e;if((i=i<0?s:i)>s&&(i=0),0<e){let t=-1;for(let e=0;e<this.flatOptions.length;e++){var n=!this.flatOptions[e].componentOptions.propsData.disabled;if((t=n?e:t)>=i)break}i=t}else{let t=this.flatOptions.length;for(let e=s;0<=e;e--){const s=!this.flatOptions[e].componentOptions.propsData.disabled;if((t=s?e:t)<=i)break}i=t}this.focusIndex=i}},onOptionClick(t){var e;if(this.multiple?(this.remote?this.lastRemoteQuery=this.lastRemoteQuery||this.query:this.lastRemoteQuery="",e=this.values.find(({value:e})=>e===t.value),this.values=e?this.values.filter(({value:e})=>e!==t.value):this.values.concat(t),this.isFocused=!0):(this.query=String(t.label).trim(),this.values=[t],this.lastRemoteQuery="",this.hideMenu()),this.focusIndex=this.flatOptions.findIndex(e=>!(!e||!e.componentOptions)&&e.componentOptions.propsData.value===t.value),this.filterable){const t=this.$el.querySelector('input[type="text"]');this.autoComplete||this.$nextTick(()=>t.focus())}this.$emit("on-select",t),this.broadcast("Drop","on-update-popper"),setTimeout(()=>{this.filterQueryChange=!1},300)},onQueryChange(e){var t;this.isTyping=!0,0<e.length&&e!==this.query&&(this.autoComplete?(t=document.hasFocus&&document.hasFocus()&&document.activeElement===this.$el.querySelector("input"),this.visible=t):this.visible=!0),this.query=e,this.unchangedQuery=this.visible,this.filterQueryChange=!0},toggleHeaderFocus({type:e}){this.itemDisabled||(this.isFocused="focus"===e)},updateSlotOptions(){this.slotOptions=this.$slots.default},checkUpdateStatus(){0<this.getInitialValue().length&&0===this.selectOptions.length&&(this.hasExpectedValue=!0)},handleCreateItem(){if(this.allowCreate&&""!==this.query&&this.showCreateItem){var e=this.query;this.$emit("on-create",e),this.query="";const t={value:e,label:e,tag:void 0};this.$nextTick(()=>this.onOptionClick(t))}}},watch:{value(e){const{getInitialValue:t,getOptionData:i,publicValue:s,values:n}=this;this.checkUpdateStatus(),""===e?this.values=[]:((e,t,i)=>{e=JSON.stringify(e),t=JSON.stringify(t),i=JSON.stringify(i.map(e=>e.value));return e!==t||e!==i||i!==t})(e,s,n)&&(this.$nextTick(()=>this.values=t().map(i).filter(Boolean)),this.multiple||this.dispatch("FormItem","on-form-change",this.publicValue))},values(e,t){e=JSON.stringify(e),t=JSON.stringify(t);let i=this.publicValue;if(e!==t&&i!==this.value){let e=this.publicValue;this.labelInValue&&(e=this.multiple?this.values:this.values[0]),(Array.isArray(i)&&!i.length&&null===this.value||void 0===i&&null===this.value)&&(i=null),this.$emit("input",i),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}},query(e){this.$emit("on-query-change",e);const{remoteMethod:t,lastRemoteQuery:i}=this,s=""!==e&&(e!==i||!i),n=t&&s&&!this.preventRemoteCall;if(this.preventRemoteCall=!1,n){this.focusIndex=-1;const t=this.remoteMethod(e);this.initialLabel="",t&&t.then&&t.then(e=>{e&&(this.options=e)})}""!==e&&this.remote&&(this.lastRemoteQuery=e)},loading(e){!1===e&&this.updateSlotOptions()},isFocused(e){(this.filterable?this.$el.querySelector('input[type="text"]'):this.$el)[this.isFocused?"focus":"blur"]();var[t]=this.values;if(t&&this.filterable&&!this.multiple&&!e){const e=String(t.label||t.value).trim();e&&this.query!==e&&(this.preventRemoteCall=!0,this.query=e)}},focusIndex(e){if(!(e<0||this.autoComplete)){const i=this.flatOptions[e].componentOptions.propsData.value,s=be(this,({$options:e})=>"select-item"===e.componentName&&e.propsData.value===i);var e=s.$el.getBoundingClientRect().bottom-this.$refs.dropdown.$el.getBoundingClientRect().bottom,t=s.$el.getBoundingClientRect().top-this.$refs.dropdown.$el.getBoundingClientRect().top;0<e&&(this.$refs.dropdown.$el.scrollTop+=e),t<0&&(this.$refs.dropdown.$el.scrollTop+=t)}},dropVisible(e){this.broadcast("Drop",e?"on-update-popper":"on-destroy-popper")},selectOptions(){this.hasExpectedValue&&0<this.selectOptions.length&&(0===this.values.length&&(this.values=this.getInitialValue()),this.values=this.values.map(this.getOptionData).filter(Boolean),this.hasExpectedValue=!1),this.slotOptions&&0===this.slotOptions.length&&(this.query=""),this.broadcast("Drop","on-update-popper")},visible(e){this.$emit("on-open-change",e)},slotOptions(e,t){if(!this.remote){const e=this.getInitialValue();this.flatOptions&&this.flatOptions.length&&e.length&&!this.multiple&&(this.values=e.map(this.getOptionData).filter(Boolean))}e&&t&&e.length!==t.length&&this.broadcast("Drop","on-update-popper")}}},ae=Object(s.a)(p,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture]",value:t.onClickOutside,expression:"onClickOutside",arg:t.capture},{name:"click-outside",rawName:"v-click-outside:[capture].mousedown",value:t.onClickOutside,expression:"onClickOutside",arg:t.capture,modifiers:{mousedown:!0}},{name:"click-outside",rawName:"v-click-outside:[capture].touchstart",value:t.onClickOutside,expression:"onClickOutside",arg:t.capture,modifiers:{touchstart:!0}}],class:t.classes},[e("div",{ref:"reference",class:t.selectionCls,attrs:{tabindex:t.selectTabindex},on:{blur:t.toggleHeaderFocus,focus:t.toggleHeaderFocus,click:t.toggleMenu,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleKeydown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeydown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.handleKeydown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.handleKeydown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleKeydown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.handleKeydown(e)}],mouseenter:function(e){t.hasMouseHoverHead=!0},mouseleave:function(e){t.hasMouseHoverHead=!1}}},[t._t("input",[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.publicValue}}),e("select-head",{attrs:{filterable:t.filterable,multiple:t.multiple,values:t.values,clearable:t.canBeCleared,prefix:t.prefix,disabled:t.itemDisabled,remote:t.remote,"input-element-id":t.elementId,"initial-label":t.initialLabel,placeholder:t.placeholder,"query-prop":t.query,"max-tag-count":t.maxTagCount,"max-tag-placeholder":t.maxTagPlaceholder,"allow-create":t.allowCreate,"show-create-item":t.showCreateItem},on:{"on-query-change":t.onQueryChange,"on-input-focus":function(e){t.isFocused=!0},"on-input-blur":function(e){t.isFocused=!1},"on-clear":t.clearSingleSelect,"on-enter":t.handleCreateItem}},[t._t("prefix",null,{slot:"prefix"})],2)])],2),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.dropVisible,expression:"dropVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"dropdown",class:t.dropdownCls,attrs:{placement:t.placement,"data-transfer":t.transfer,transfer:t.transfer,eventsEnabled:t.eventsEnabled}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.showNotFoundLabel&&!t.allowCreate,expression:"showNotFoundLabel && !allowCreate"}],class:[t.prefixCls+"-not-found"]},[e("li",[t._v(t._s(t.localeNotFoundText))])]),!t.remote||t.remote&&!t.loading?e("functional-options",{class:t.prefixCls+"-dropdown-list",attrs:{options:t.selectOptions,"slot-update-hook":t.updateSlotOptions,"slot-options":t.slotOptions}},[t.showCreateItem?e("li",{class:t.prefixCls+"-item",on:{click:t.handleCreateItem}},[t._v(" "+t._s(t.query)+" "),e("Icon",{class:t.prefixCls+"-item-enter",attrs:{type:"md-return-left"}})],1):t._e()]):e("ul",{class:t.prefixCls+"-dropdown-list"},[t.showCreateItem?e("li",{class:t.prefixCls+"-item",on:{click:t.handleCreateItem}},[t._v(" "+t._s(t.query)+" "),e("Icon",{class:t.prefixCls+"-item-enter",attrs:{type:"md-return-left"}})],1):t._e()]),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],class:[t.prefixCls+"-loading"]},[t._v(t._s(t.localeLoadingText))])],1)],1)],1)},[],!1,null,null,null).exports;const ke="ivu-select-item";p={name:"iOption",componentName:"select-item",mixins:[c,u],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},tag:{type:[String,Number]}},data(){return{searchLabel:"",autoComplete:!1}},computed:{classes(){return[ke,{"ivu-select-item-disabled":this.itemDisabled,"ivu-select-item-selected":this.selected&&!this.autoComplete,"ivu-select-item-focus":this.isFocused}]},showLabel(){return this.label||this.value},optionLabel(){return this.label||this.$el&&this.$el.textContent}},methods:{select(){if(this.itemDisabled)return!1;this.dispatch("iSelect","on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag}),this.$emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag})}},mounted(){var e=Object(h.g)(this,"iSelect");e&&(this.autoComplete=e.autoComplete)}},p=Object(s.a)(p,function(){var t=this,e=t.$createElement;return(t._self._c||e)("li",{class:t.classes,on:{click:function(e){return e.stopPropagation(),t.select(e)},mousedown:function(e){e.preventDefault()}}},[t._t("default",[t._v(t._s(t.showLabel))])],2)},[],!1,null,null,null).exports;const xe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];let m,Te={};function Ie(e,t=null,i=null,s=!1){m||(m=document.createElement("textarea"),document.body.appendChild(m)),e.getAttribute("wrap")?m.setAttribute("wrap",e.getAttribute("wrap")):m.removeAttribute("wrap");var{paddingSize:s,borderSize:n,boxSizing:r,sizingStyle:a}=function(e,t=!1){var i=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Te[i])return Te[i];const s=window.getComputedStyle(e),n=s.getPropertyValue("box-sizing")||s.getPropertyValue("-moz-box-sizing")||s.getPropertyValue("-webkit-box-sizing"),r=parseFloat(s.getPropertyValue("padding-bottom"))+parseFloat(s.getPropertyValue("padding-top")),a=parseFloat(s.getPropertyValue("border-bottom-width"))+parseFloat(s.getPropertyValue("border-top-width")),o=xe.map(e=>e+":"+s.getPropertyValue(e)).join(";"),l={sizingStyle:o,paddingSize:r,borderSize:a,boxSizing:n};return t&&i&&(Te[i]=l),l}(e,s);m.setAttribute("style",a+`;
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`),m.value=e.value||e.placeholder||"";let o,l=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=m.scrollHeight;return"border-box"===r?u+=n:"content-box"===r&&(u-=s),null===t&&null===i||(m.value=" ",a=m.scrollHeight-s,null!==t&&(l=a*t,"border-box"===r&&(l=l+s+n),u=Math.max(l,u)),null!==i&&(c=a*i,"border-box"===r&&(c=c+s+n),o=u>c?"":"hidden",u=Math.min(c,u))),i||(o="hidden"),{height:u+"px",minHeight:l+"px",maxHeight:c+"px",overflowY:o}}const Pe="ivu-input";var Ae={name:"Input",mixins:[c,u],props:{type:{validator(e){return Object(h.m)(e,["text","textarea","password","url","email","date","number","tel"])},default:"text"},value:{type:[String,Number],default:""},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator(e){return Object(h.m)(e,["hard","soft"])},default:"soft"},prefix:{type:String,default:""},suffix:{type:String,default:""},search:{type:Boolean,default:!1},enterButton:{type:[Boolean,String],default:!1},showWordLimit:{type:Boolean,default:!1},password:{type:Boolean,default:!1},border:{type:Boolean,default:!0}},data(){return{currentValue:this.value,prefixCls:Pe,slotReady:!1,textareaStyles:{},isOnComposition:!1,showPassword:!1,clearableIconOffset:0}},computed:{currentType(){let e=this.type;return e="password"===e&&this.password&&this.showPassword?"text":e},prepend(){let e=!1;return e="textarea"!==this.type?void 0!==this.$slots.prepend:e},append(){let e=!1;return e="textarea"!==this.type?void 0!==this.$slots.append:e},showPrefix(){let e=!1;return e="textarea"!==this.type?""!==this.prefix||void 0!==this.$slots.prefix:e},showSuffix(){let e=!1;return e="textarea"!==this.type?""!==this.suffix||void 0!==this.$slots.suffix:e},wrapClasses(){return[Pe+"-wrapper",{[Pe+"-wrapper-"+this.size]:!!this.size,[Pe+"-type-"+this.type]:this.type,"ivu-input-group":this.prepend||this.append||this.search&&this.enterButton,[Pe+"-group-"+this.size]:(this.prepend||this.append||this.search&&this.enterButton)&&!!this.size,"ivu-input-group-with-prepend":this.prepend,"ivu-input-group-with-append":this.append||this.search&&this.enterButton,"ivu-input-hide-icon":this.append,"ivu-input-with-search":this.search&&this.enterButton,"ivu-input-wrapper-disabled":this.itemDisabled}]},inputClasses(){return[Pe,{[Pe+"-"+this.size]:!!this.size,"ivu-input-disabled":this.itemDisabled,"ivu-input-no-border":!this.border,"ivu-input-with-prefix":this.showPrefix,"ivu-input-with-suffix":this.showSuffix||this.search&&!1===this.enterButton}]},textareaClasses(){return[Pe,{"ivu-input-disabled":this.itemDisabled,"ivu-input-no-border":!this.border}]},upperLimit(){return this.maxlength},textLength(){return("number"==typeof this.value?String(this.value):this.value||"").length},clearableStyles(){var e={},t=this.clearableIconOffset;return t&&(e.transform=`translateX(-${t}px)`),e}},methods:{handleEnter(e){this.$emit("on-enter",e),this.search&&this.$emit("on-search",this.currentValue)},handleKeydown(e){this.$emit("on-keydown",e)},handleKeypress(e){this.$emit("on-keypress",e)},handleKeyup(e){this.$emit("on-keyup",e)},handleIconClick(e){this.$emit("on-click",e)},handleFocus(e){this.$emit("on-focus",e)},handleBlur(e){this.$emit("on-blur",e),Object(h.g)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleComposition(e){"compositionstart"===e.type&&(this.isOnComposition=!0),"compositionend"===e.type&&(this.isOnComposition=!1,this.handleInput(e))},handleInput(t){if(!this.isOnComposition){let e=t.target.value;this.number&&""!==e&&(e=Number.isNaN(Number(e))?e:Number(e)),this.$emit("input",e),this.setCurrentValue(e),this.$emit("on-change",t)}},handleChange(e){this.$emit("on-input-change",e)},setCurrentValue(e){e!==this.currentValue&&(this.$nextTick(()=>{this.resizeTextarea()}),this.currentValue=e,Object(h.g)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",e))},resizeTextarea(){var e=this.autosize;if(!e||"textarea"!==this.type)return!1;var t=e.minRows,e=e.maxRows;this.textareaStyles=Ie(this.$refs.textarea,t,e)},focus(e){var t="textarea"===this.type?this.$refs.textarea:this.$refs.input,i=(t.focus(e),e||{})["cursor"];if(i){const e=t.value.length;switch(i){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(e,e);break;default:t.setSelectionRange(0,e)}}},blur(){("textarea"===this.type?this.$refs.textarea:this.$refs.input).blur()},handleClear(){this.$emit("input",""),this.setCurrentValue(""),this.$emit("on-change",{target:{value:""}}),this.$emit("on-clear")},handleSearch(){if(this.itemDisabled)return!1;this.$refs.input.focus(),this.$emit("on-search",this.currentValue)},handleToggleShowPassword(){if(this.itemDisabled)return!1;this.showPassword=!this.showPassword,this.focus();const e=this.currentValue.length;setTimeout(()=>{this.$refs.input.setSelectionRange(e,e)},0)},handleCalcIconOffset(){var e=this.$el.querySelectorAll(".ivu-input-group-append")[0];this.clearableIconOffset=e?e.offsetWidth:0}},watch:{value(e){this.setCurrentValue(e)},type(){this.$nextTick(this.handleCalcIconOffset)}},mounted(){this.slotReady=!0,this.resizeTextarea(),this.handleCalcIconOffset()},updated(){this.$nextTick(this.handleCalcIconOffset)}},Ae=Object(s.a)(Ae,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.wrapClasses},["textarea"!==t.type?[t.prepend?e("div",{directives:[{name:"show",rawName:"v-show",value:t.slotReady,expression:"slotReady"}],class:[t.prefixCls+"-group-prepend"]},[t._t("prepend")],2):t._e(),t.clearable&&t.currentValue&&!t.itemDisabled?e("i",{staticClass:"ivu-icon",class:["ivu-icon-ios-close-circle",t.prefixCls+"-icon",t.prefixCls+"-icon-clear",t.prefixCls+"-icon-normal"],style:t.clearableStyles,on:{click:t.handleClear}}):t.icon?e("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.icon,t.prefixCls+"-icon",t.prefixCls+"-icon-normal"],on:{click:t.handleIconClick}}):t.search&&!1===t.enterButton?e("i",{staticClass:"ivu-icon ivu-icon-ios-search",class:[t.prefixCls+"-icon",t.prefixCls+"-icon-normal",t.prefixCls+"-search-icon"],on:{click:t.handleSearch}}):t.showSuffix?e("span",{staticClass:"ivu-input-suffix"},[t._t("suffix",[t.suffix?e("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.suffix]}):t._e()])],2):t.showWordLimit?e("span",{staticClass:"ivu-input-word-count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t.password?e("span",{staticClass:"ivu-input-suffix",on:{click:t.handleToggleShowPassword}},[t.showPassword?e("i",{staticClass:"ivu-icon ivu-icon-ios-eye-outline"}):e("i",{staticClass:"ivu-icon ivu-icon-ios-eye-off-outline"})]):t._e(),e("transition",{attrs:{name:"fade"}},[t.icon?t._e():e("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop",class:[t.prefixCls+"-icon",t.prefixCls+"-icon-validate"]})]),e("input",{ref:"input",class:t.inputClasses,attrs:{id:t.elementId,autocomplete:t.autocomplete,spellcheck:t.spellcheck,type:t.currentType,placeholder:t.placeholder,disabled:t.itemDisabled,maxlength:t.maxlength,readonly:t.readonly,name:t.name,number:t.number,autofocus:t.autofocus},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},t.handleKeyup],keypress:t.handleKeypress,keydown:t.handleKeydown,focus:t.handleFocus,blur:t.handleBlur,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:t.handleInput,change:t.handleChange}}),t.append?e("div",{directives:[{name:"show",rawName:"v-show",value:t.slotReady,expression:"slotReady"}],class:[t.prefixCls+"-group-append"]},[t._t("append")],2):t.search&&t.enterButton?e("div",{class:[t.prefixCls+"-group-append",t.prefixCls+"-search"],on:{click:t.handleSearch}},[!0===t.enterButton?e("i",{staticClass:"ivu-icon ivu-icon-ios-search"}):[t._v(t._s(t.enterButton))]],2):t.showPrefix?e("span",{staticClass:"ivu-input-prefix"},[t._t("prefix",[t.prefix?e("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.prefix]}):t._e()])],2):t._e()]:[e("textarea",{ref:"textarea",class:t.textareaClasses,style:t.textareaStyles,attrs:{id:t.elementId,wrap:t.wrap,autocomplete:t.autocomplete,spellcheck:t.spellcheck,placeholder:t.placeholder,disabled:t.itemDisabled,rows:t.rows,maxlength:t.maxlength,readonly:t.readonly,name:t.name,autofocus:t.autofocus},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},t.handleKeyup],keypress:t.handleKeypress,keydown:t.handleKeydown,focus:t.handleFocus,blur:t.handleBlur,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:t.handleInput}}),t.showWordLimit?e("span",{staticClass:"ivu-input-word-count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()]],2)},[],!1,null,null,null).exports,Ee={name:"AutoComplete",mixins:[c,u],components:{iSelect:ae,iOption:p,iInput:Ae},props:{value:{type:[String,Number],default:""},label:{type:[String,Number],default:""},data:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},icon:{type:String},filterMethod:{type:[Function,Boolean],default:!1},placement:{validator(e){return Object(h.m)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"])},default:"bottom-start"},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},transferClassName:{type:String},capture:{type:Boolean,default(){return!this.$IVIEW||this.$IVIEW.capture}},eventsEnabled:{type:Boolean,default:!1}},data(){return{currentValue:this.value,disableEmitChange:!1}},computed:{inputIcon(){let e="";return this.clearable&&this.currentValue&&!this.disabled?e="ios-close-circle":this.icon&&(e=this.icon),e},filteredData(){return this.filterMethod?this.data.filter(e=>this.filterMethod(this.currentValue,e)):this.data}},watch:{value(e){this.currentValue!==e&&(this.disableEmitChange=!0),this.currentValue=e},currentValue(e){this.$refs.select.setQuery(e),this.$emit("input",e),this.disableEmitChange?this.disableEmitChange=!1:(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}},methods:{remoteMethod(e){this.$emit("on-search",e)},handleSelect(e){e=e.value;null!=e&&(this.currentValue=e,this.$refs.input.blur(),this.$emit("on-select",e))},handleFocus(e){this.$emit("on-focus",e)},handleBlur(e){this.$emit("on-blur",e)},handleClear(){this.clearable&&(this.currentValue="",this.$refs.select.reset(),this.$emit("on-clear"))},handleClickOutside(){this.$nextTick(()=>{this.$refs.input.blur()})}}},Ee=Object(s.a)(Ee,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("i-select",{ref:"select",staticClass:"ivu-auto-complete",attrs:{label:t.label,disabled:t.itemDisabled,clearable:t.clearable,placeholder:t.placeholder,size:t.size,placement:t.placement,value:t.currentValue,"transfer-class-name":t.transferClassName,filterable:"",remote:"","auto-complete":"","remote-method":t.remoteMethod,transfer:t.transfer,capture:t.capture,eventsEnabled:t.eventsEnabled},on:{"on-select":t.handleSelect,"on-clickoutside":t.handleClickOutside}},[t._t("input",[i("i-input",{ref:"input",attrs:{slot:"input","element-id":t.elementId,name:t.name,placeholder:t.placeholder,disabled:t.itemDisabled,size:t.size,icon:t.inputIcon},on:{"on-click":t.handleClear,"on-focus":t.handleFocus,"on-blur":t.handleBlur},slot:"input",model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})]),t._t("default",t._l(t.filteredData,function(e){return i("i-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],2)},[],!1,null,null,null).exports;const De="ivu-avatar",Oe=["small","large","default"];var f={name:"Avatar",components:{Icon:a},props:{shape:{validator(e){return Object(h.m)(e,["circle","square"])},default:"circle"},size:{type:[String,Number],default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},src:{type:String},icon:{type:String},customIcon:{type:String,default:""}},data(){return{prefixCls:De,scale:1,childrenWidth:0,isSlotShow:!1,slotTemp:null}},computed:{classes(){return[De,De+"-"+this.shape,{"ivu-avatar-image":!!this.src,"ivu-avatar-icon":!!this.icon||!!this.customIcon,[De+"-"+this.size]:Object(h.m)(this.size,Oe)}]},styles(){var e={};return this.size&&!Object(h.m)(this.size,Oe)&&(e.width=this.size+"px",e.height=this.size+"px",e.lineHeight=this.size+"px",e.fontSize=this.size/2+"px"),e},childrenStyle(){let e={};return e=this.isSlotShow?{msTransform:`scale(${this.scale})`,WebkitTransform:`scale(${this.scale})`,transform:`scale(${this.scale})`,position:"absolute",display:"inline-block",left:`calc(50% - ${Math.round(this.childrenWidth/2)}px)`}:e}},watch:{size(e,t){e!==t&&this.setScale()}},methods:{setScale(){var e;this.isSlotShow=!this.src&&!this.icon,this.$refs.children&&(this.childrenWidth=this.$refs.children.offsetWidth,(e=this.$el.getBoundingClientRect().width)-8<this.childrenWidth?this.scale=(e-8)/this.childrenWidth:this.scale=1)},handleError(e){this.$emit("on-error",e)}},beforeCreate(){this.slotTemp=this.$slots.default},mounted(){this.setScale()},updated(){this.$slots.default!==this.slotTemp&&(this.slotTemp=this.$slots.default,this.setScale())}},f=Object(s.a)(f,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("span",{class:e.classes,style:e.styles},[e.src?t("img",{attrs:{src:e.src},on:{error:e.handleError}}):e.icon||e.customIcon?t("Icon",{attrs:{type:e.icon,custom:e.customIcon}}):t("span",{ref:"children",class:[e.prefixCls+"-string"],style:e.childrenStyle},[e._t("default")],2)],1)},[],!1,null,null,null).exports,Le=f;const Ne="ivu-back-top";var Me={props:{height:{type:Number,default:400},bottom:{type:Number,default:30},right:{type:Number,default:30},duration:{type:Number,default:1e3}},data(){return{backTop:!1}},mounted(){i(window,"scroll",this.handleScroll),i(window,"resize",this.handleScroll)},beforeDestroy(){t(window,"scroll",this.handleScroll),t(window,"resize",this.handleScroll)},computed:{classes(){return[Ne,{"ivu-back-top-show":this.backTop}]},styles(){return{bottom:this.bottom+"px",right:this.right+"px"}},innerClasses(){return Ne+"-inner"}},methods:{handleScroll(){this.backTop=window.pageYOffset>=this.height},back(){var e=document.documentElement.scrollTop||document.body.scrollTop;Object(h.o)(window,e,0,this.duration),this.$emit("on-click")}}},Me=Object(s.a)(Me,function(){var e=this.$createElement,e=this._self._c||e;return e("div",{class:this.classes,style:this.styles,on:{click:this.back}},[this._t("default",[e("div",{class:this.innerClasses},[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-up"})])])],2)},[],!1,null,null,null).exports;const Be=["blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],Fe="ivu-badge";var Re={name:"Badge",props:{count:Number,dot:{type:Boolean,default:!1},overflowCount:{type:[Number,String],default:99},className:String,showZero:{type:Boolean,default:!1},text:{type:String,default:""},status:{validator(e){return Object(h.m)(e,["success","processing","default","error","warning"])}},type:{validator(e){return Object(h.m)(e,["success","primary","normal","error","warning","info"])}},offset:{type:Array},color:{type:String}},computed:{classes(){return Fe},dotClasses(){return Fe+"-dot"},countClasses(){return[Fe+"-count",{[""+this.className]:!!this.className,"ivu-badge-count-alone":this.alone,[Fe+"-count-"+this.type]:!!this.type}]},customCountClasses(){return[Fe+"-count",Fe+"-count-custom",{[""+this.className]:!!this.className}]},statusClasses(){return[Fe+"-status-dot",{[Fe+"-status-"+this.status]:!!this.status,[Fe+"-status-"+this.color]:!!this.color&&Object(h.m)(this.color,Be)}]},statusStyles(){return Object(h.m)(this.color,Be)?{}:{backgroundColor:this.color}},styles(){var e={};return this.offset&&2===this.offset.length&&(e["margin-top"]=this.offset[0]+"px",e["margin-right"]=this.offset[1]+"px"),e},finalCount(){return""!==this.text?this.text:parseInt(this.count)>=parseInt(this.overflowCount)?this.overflowCount+"+":this.count},badge(){let e=!1;return this.count&&(e=!(0===parseInt(this.count))),this.dot&&(e=!0,null!==this.count)&&0===parseInt(this.count)&&(e=!1),(e=""!==this.text?!0:e)||this.showZero},hasCount(){return!!(this.count||""!==this.text||this.showZero&&0===parseInt(this.count))},alone(){return void 0===this.$slots.default}}},Re=Object(s.a)(Re,function(){var e=this,t=e.$createElement,t=e._self._c||t;return e.dot?t("span",{ref:"badge",class:e.classes},[e._t("default"),t("sup",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],class:e.dotClasses,style:e.styles})],2):e.status||e.color?t("span",{ref:"badge",staticClass:"ivu-badge-status",class:e.classes},[t("span",{class:e.statusClasses,style:e.statusStyles}),t("span",{staticClass:"ivu-badge-status-text"},[e._t("text",[e._v(e._s(e.text))])],2)]):t("span",{ref:"badge",class:e.classes},[e._t("default"),e.$slots.count?t("sup",{class:e.customCountClasses,style:e.styles},[e._t("count")],2):e.hasCount?t("sup",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],class:e.countClasses,style:e.styles},[e._t("text",[e._v(e._s(e.finalCount))])],2):e._e()],2)},[],!1,null,null,null).exports;var g={name:"Breadcrumb",props:{separator:{type:String,default:"/"}},computed:{classes(){return"ivu-breadcrumb"}},mounted(){this.updateChildren()},updated(){this.$nextTick(()=>{this.updateChildren()})},methods:{updateChildren(){this.$children.forEach(e=>{e.separator=this.separator})}},watch:{separator(){this.updateChildren()}}},g=Object(s.a)(g,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,y={props:{to:{type:[Object,String]},replace:{type:Boolean,default:!1},target:{type:String,validator(e){return Object(h.m)(e,["_blank","_self","_parent","_top"])},default:"_self"},append:{type:Boolean,required:!1,default:!1}},computed:{linkUrl(){const e=typeof this.to;if("string"!==e)return null;if(!this.to.includes("//")){var t=this.$router;if(t){const e=this.$route,i=t.resolve(this.to,e,this.append);return i?i.href:this.to}}return this.to}},methods:{handleOpenTo(){var e,t=this.$router;let i=this.to;t&&(e=this.$route,t=t.resolve(this.to,e,this.append),i=t?t.href:this.to),"string"!=typeof this.to&&window.open(i)},handleClick(e=!1){var t=this.$router;e?this.handleOpenTo():!t||"string"==typeof this.to&&this.to.includes("//")?window.location.href=this.to:this.replace?this.$router.replace(this.to,()=>{}):this.$router.push(this.to,()=>{})},handleCheckClick(e,t=!1){if(this.to){if("_blank"===this.target)return this.handleOpenTo(),!1;e.preventDefault(),this.handleClick(t)}}}};const $e="ivu-breadcrumb-item";var Ue={name:"BreadcrumbItem",mixins:[y],props:{},data(){return{separator:"",showSeparator:!1}},computed:{linkClasses(){return $e+"-link"},separatorClasses(){return $e+"-separator"}},mounted(){this.showSeparator=void 0!==this.$slots.separator}},Ue=Object(s.a)(Ue,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("span",[t.to?e("a",{class:t.linkClasses,attrs:{href:t.linkUrl,target:t.target},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handleCheckClick(e,!1)},function(e){return e.ctrlKey?t.handleCheckClick(e,!0):null},function(e){return e.metaKey?t.handleCheckClick(e,!0):null}]}},[t._t("default")],2):e("span",{class:t.linkClasses},[t._t("default")],2),t.showSeparator?e("span",{class:t.separatorClasses},[t._t("separator")],2):e("span",{class:t.separatorClasses,domProps:{innerHTML:t._s(t.separator)}})])},[],!1,null,null,null).exports,Ue=(g.Item=Ue,g);const je="ivu-btn";var g={name:"Button",mixins:[y,u],components:{Icon:a},props:{type:{validator(e){return Object(h.m)(e,["default","primary","dashed","text","info","success","warning","error"])},default:"default"},shape:{validator(e){return Object(h.m)(e,["circle","circle-outline"])}},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},loading:Boolean,disabled:Boolean,htmlType:{default:"button",validator(e){return Object(h.m)(e,["button","submit","reset"])}},icon:{type:String,default:""},customIcon:{type:String,default:""},long:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1}},computed:{showSlot(){return!!this.$slots.default},classes(){return[je,je+"-"+this.type,{"ivu-btn-long":this.long,[je+"-"+this.shape]:!!this.shape,[je+"-"+this.size]:"default"!==this.size,"ivu-btn-loading":null!=this.loading&&this.loading,"ivu-btn-icon-only":!this.showSlot&&(!!this.icon||!!this.customIcon||this.loading),"ivu-btn-ghost":this.ghost}]},isHrefPattern(){var e=this["to"];return!!e},tagName(){var e=this["isHrefPattern"];return e?"a":"button"},tagProps(){const e=this["isHrefPattern"];if(e){const{linkUrl:e,target:t}=this;return{href:e,target:t}}{const e=this["htmlType"];return{type:e}}}},methods:{handleClickLink(e){this.$emit("click",e);var t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}}},v=Object(s.a)(g,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t(e.tagName,e._b({tag:"component",class:e.classes,attrs:{disabled:e.itemDisabled},on:{click:e.handleClickLink}},"component",e.tagProps,!1),[e.loading?t("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):e._e(),!e.icon&&!e.customIcon||e.loading?e._e():t("Icon",{attrs:{type:e.icon,custom:e.customIcon}}),e.showSlot?t("span",{ref:"slot"},[e._t("default")],2):e._e()],1)},[],!1,null,null,null).exports;const Ve="ivu-btn-group";g={name:"ButtonGroup",props:{size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},shape:{validator(e){return Object(h.m)(e,["circle","circle-outline"])}},vertical:{type:Boolean,default:!1}},computed:{classes(){return[Ve,{[Ve+"-"+this.size]:!!this.size,[Ve+"-"+this.shape]:!!this.shape,"ivu-btn-group-vertical":this.vertical}]}}},g=Object(s.a)(g,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,v.Group=g,g=v;const ze="ivu-card";var We={name:"Card",mixins:[y],components:{Icon:n},props:{bordered:{type:Boolean,default:!0},disHover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},padding:{type:Number,default:16},title:{type:String},icon:{type:String}},data(){return{showHead:!0,showExtra:!0}},computed:{classes(){return[ze,{"ivu-card-bordered":this.bordered&&!this.shadow,"ivu-card-dis-hover":this.disHover||this.shadow,"ivu-card-shadow":this.shadow}]},headClasses(){return ze+"-head"},extraClasses(){return ze+"-extra"},bodyClasses(){return ze+"-body"},bodyStyles(){return 16!==this.padding?{padding:this.padding+"px"}:""},isHrefPattern(){var e=this["to"];return!!e},tagName(){var e=this["isHrefPattern"];return e?"a":"div"},tagProps(){const e=this["isHrefPattern"];if(e){const{linkUrl:e,target:t}=this;return{href:e,target:t}}return{}}},methods:{handleClickLink(e){var t;this.isHrefPattern&&(t=e.ctrlKey||e.metaKey,this.handleCheckClick(e,t))}},mounted(){this.showHead=this.title||void 0!==this.$slots.title,this.showExtra=void 0!==this.$slots.extra}},We=Object(s.a)(We,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t(e.tagName,e._b({tag:"component",class:e.classes,on:{click:e.handleClickLink}},"component",e.tagProps,!1),[e.showHead?t("div",{class:e.headClasses},[e._t("title",[e.title?t("p",[e.icon?t("Icon",{attrs:{type:e.icon}}):e._e(),t("span",[e._v(e._s(e.title))])],1):e._e()])],2):e._e(),e.showExtra?t("div",{class:e.extraClasses},[e._t("extra")],2):e._e(),t("div",{class:e.bodyClasses,style:e.bodyStyles},[e._t("default")],2)])},[],!1,null,null,null).exports;const He="ivu-carousel";var qe={name:"Carousel",components:{Icon:n},props:{arrow:{type:String,default:"hover",validator(e){return Object(h.m)(e,["hover","always","never"])}},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:2e3},loop:{type:Boolean,default:!1},easing:{type:String,default:"ease"},dots:{type:String,default:"inside",validator(e){return Object(h.m)(e,["inside","outside","none"])}},radiusDot:{type:Boolean,default:!1},trigger:{type:String,default:"click",validator(e){return Object(h.m)(e,["click","hover"])}},value:{type:Number,default:0},height:{type:[String,Number],default:"auto",validator(e){return"auto"===e||"[object Number]"===Object.prototype.toString.call(e)}}},data(){return{prefixCls:He,listWidth:0,trackWidth:0,trackOffset:0,trackCopyOffset:0,showCopyTrack:!1,slides:[],slideInstances:[],timer:null,ready:!1,currentIndex:this.value,trackIndex:this.value,copyTrackIndex:this.value,hideTrackPos:-1}},computed:{classes(){return[He]},trackStyles(){var e=-1===this.trackIndex?"hidden":"visible";return{width:this.trackWidth+"px",transform:`translate3d(${-this.trackOffset}px, 0px, 0px)`,transition:"transform 500ms "+this.easing,visibility:e}},copyTrackStyles(){return{width:this.trackWidth+"px",transform:`translate3d(${-this.trackCopyOffset}px, 0px, 0px)`,transition:"transform 500ms "+this.easing,position:"absolute"}},arrowClasses(){return[He+"-arrow",He+"-arrow-"+this.arrow]},dotsClasses(){return[He+"-dots",He+"-dots-"+this.dots]}},methods:{findChild(t){function i(e){e.$options.componentName?t(e):e.$children.length&&e.$children.forEach(e=>{i(e)})}this.slideInstances.length||!this.$children?this.slideInstances.forEach(e=>{i(e)}):this.$children.forEach(e=>{i(e)})},initCopyTrackDom(){this.$nextTick(()=>{this.$refs.copyTrack.innerHTML=this.$refs.originTrack.innerHTML})},updateSlides(t){let i=[],s=1;this.findChild(e=>{i.push({$el:e.$el}),e.index=s++,t&&this.slideInstances.push(e)}),this.slides=i,this.updatePos()},updatePos(){this.findChild(e=>{e.width=this.listWidth,e.height="number"==typeof this.height?this.height+"px":this.height}),this.trackWidth=(this.slides.length||0)*this.listWidth},slotChange(){this.$nextTick(()=>{this.slides=[],this.slideInstances=[],this.updateSlides(!0,!0),this.updatePos(),this.updateOffset()})},handleResize(){this.listWidth=parseInt(Object(h.l)(this.$el,"width")),this.updatePos(),this.updateOffset()},updateTrackPos(e){this.showCopyTrack?this.trackIndex=e:this.copyTrackIndex=e},updateTrackIndex(e){this.showCopyTrack?this.copyTrackIndex=e:this.trackIndex=e,this.currentIndex=e},add(e){var t=this.slides.length,i=(this.loop&&(this.hideTrackPos=0<e?-1:t,this.updateTrackPos(this.hideTrackPos)),this.showCopyTrack?this.copyTrackIndex:this.trackIndex);let s=i+e;for(;s<0;)s+=t;(0<e&&s===t||e<0&&s===t-1)&&this.loop?(this.showCopyTrack=!this.showCopyTrack,this.trackIndex+=e,this.copyTrackIndex+=e):(this.loop||(s%=this.slides.length),this.updateTrackIndex(s)),this.currentIndex=s===this.slides.length?0:s,this.$emit("on-change",i,this.currentIndex),this.$emit("input",this.currentIndex)},arrowEvent(e){this.setAutoplay(),this.add(e)},dotsEvent(e,t){var i=this.showCopyTrack?this.copyTrackIndex:this.trackIndex,s=this.currentIndex;e===this.trigger&&i!==t&&(this.updateTrackIndex(t),this.$emit("on-change",s,this.currentIndex),this.$emit("input",t),this.setAutoplay())},setAutoplay(){window.clearInterval(this.timer),this.autoplay&&(this.timer=window.setInterval(()=>{this.add(1)},this.autoplaySpeed))},updateOffset(){this.$nextTick(()=>{var e=0<this.copyTrackIndex?-1:1;this.trackOffset=this.trackIndex*this.listWidth,this.trackCopyOffset=this.copyTrackIndex*this.listWidth+e})},handleClick(e){this.$emit("on-click",this[e])}},watch:{autoplay(){this.setAutoplay()},autoplaySpeed(){this.setAutoplay()},trackIndex(){this.updateOffset()},copyTrackIndex(){this.updateOffset()},height(){this.updatePos()},value(e){this.updateTrackIndex(e),this.setAutoplay()}},mounted(){this.updateSlides(!0),this.handleResize(),this.setAutoplay(),i(window,"resize",this.handleResize)},beforeDestroy(){t(window,"resize",this.handleResize)}},qe=Object(s.a)(qe,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes},[s("button",{staticClass:"left",class:i.arrowClasses,attrs:{type:"button"},on:{click:function(e){return i.arrowEvent(-1)}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1),s("div",{class:[i.prefixCls+"-list"]},[s("div",{ref:"originTrack",class:[i.prefixCls+"-track",i.showCopyTrack?"":"higher"],style:i.trackStyles,on:{click:function(e){return i.handleClick("currentIndex")}}},[i._t("default")],2),i.loop?s("div",{ref:"copyTrack",class:[i.prefixCls+"-track",i.showCopyTrack?"higher":""],style:i.copyTrackStyles,on:{click:function(e){return i.handleClick("copyTrackIndex")}}}):i._e()]),s("button",{staticClass:"right",class:i.arrowClasses,attrs:{type:"button"},on:{click:function(e){return i.arrowEvent(1)}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1),s("ul",{class:i.dotsClasses},[i._l(i.slides.length,function(t){return[s("li",{class:[t-1===i.currentIndex?i.prefixCls+"-active":""],on:{click:function(e){return i.dotsEvent("click",t-1)},mouseover:function(e){return i.dotsEvent("hover",t-1)}}},[s("button",{class:[i.radiusDot?"radius":""],attrs:{type:"button"}})])]})],2)])},[],!1,null,null,null).exports;var Ge={componentName:"carousel-item",name:"CarouselItem",data(){return{prefixCls:"ivu-carousel-item",width:0,height:"auto",left:0}},computed:{styles(){return{width:this.width+"px",height:""+this.height,left:this.left+"px"}}},mounted(){this.$parent.slotChange()},watch:{width(e){e&&this.$parent.loop&&this.$nextTick(()=>{this.$parent.initCopyTrackDom()})},height(e){e&&this.$parent.loop&&this.$nextTick(()=>{this.$parent.initCopyTrackDom()})}},beforeDestroy(){this.$parent.slotChange()}},Ge=Object(s.a)(Ge,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.prefixCls,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,Ge=(qe.Item=Ge,qe),qe={name:"Casitem",components:{Icon:n},props:{data:Object,prefixCls:String,tmpItem:Object},computed:{classes(){return[this.prefixCls+"-menu-item",{[this.prefixCls+"-menu-item-active"]:this.tmpItem.value===this.data.value,[this.prefixCls+"-menu-item-disabled"]:this.data.disabled}]},showArrow(){return this.data.children&&this.data.children.length||"loading"in this.data&&!this.data.loading},showLoading(){return"loading"in this.data&&this.data.loading},arrowType(){let e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.cascader.customItemArrow?e="":this.$IVIEW.cascader.itemArrow&&(e=this.$IVIEW.cascader.itemArrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.cascader.customItemArrow?this.$IVIEW.cascader.customItemArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.cascader.itemArrowSize?this.$IVIEW.cascader.itemArrowSize:e}}},qe=Object(s.a)(qe,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("li",{class:e.classes},[e._v(" "+e._s(e.data.label)+" "),e.showArrow?t("Icon",{attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}}):e._e(),e.showLoading?t("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop ivu-cascader-menu-item-loading"}):e._e()],1)},[],!1,null,null,null).exports;let Ye=1;var qe={name:"Caspanel",mixins:[c],components:{Casitem:qe},props:{data:{type:Array,default(){return[]}},disabled:Boolean,changeOnSelect:Boolean,trigger:String,prefixCls:String},data(){return{tmpItem:{},result:[],sublist:[]}},watch:{data(){this.sublist=[]}},methods:{handleClickItem(e){"click"!==this.trigger&&e.children&&e.children.length||this.handleTriggerItem(e,!1,!0)},handleHoverItem(e){"hover"===this.trigger&&e.children&&e.children.length&&this.handleTriggerItem(e,!1,!0)},handleTriggerItem(e,t=!1,i=!1){if(!e.disabled){const n=Object(h.g)(this,"Cascader");if(void 0!==e.loading&&!e.children.length&&n&&n.loadData)n.loadData(e,()=>{i&&(n.isLoadedChildren=!0),e.children.length&&this.handleTriggerItem(e)});else{var s=this.getBaseItem(e);if((this.changeOnSelect||s.label!==this.tmpItem.label||s.value!==this.tmpItem.value||s.label===this.tmpItem.label&&s.value===this.tmpItem.value)&&(this.tmpItem=s,this.emitUpdate([s])),e.children&&e.children.length){if(this.sublist=e.children,this.dispatch("Cascader","on-result-change",{lastValue:!1,changeOnSelect:this.changeOnSelect,fromInit:t}),this.changeOnSelect){const e=Object(h.f)(this,"Caspanel");e&&e.$emit("on-clear",!0)}}else this.sublist=[],this.dispatch("Cascader","on-result-change",{lastValue:!0,changeOnSelect:this.changeOnSelect,fromInit:t});n&&n.$refs.drop.update()}}},updateResult(e){this.result=[this.tmpItem].concat(e),this.emitUpdate(this.result)},getBaseItem(e){e=Object.assign({},e);return e.children&&delete e.children,e},emitUpdate(e){("Caspanel"===this.$parent.$options.name?this:this.$parent).$parent.updateResult(e)},getKey(){return Ye++}},mounted(){this.$on("on-find-selected",e=>{let i=[...e.value];for(let t=0;t<i.length;t++)for(let e=0;e<this.data.length;e++)if(i[t]===this.data[e].value)return this.handleTriggerItem(this.data[e],!0),i.splice(0,1),this.$nextTick(()=>{this.broadcast("Caspanel","on-find-selected",{value:i})}),!1}),this.$on("on-clear",(e=!1)=>{if(this.sublist=[],this.tmpItem={},e){const e=Object(h.f)(this,"Caspanel");e&&e.$emit("on-clear",!0)}})}},qe=Object(s.a)(qe,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("span",[i.data&&i.data.length?s("ul",{class:[i.prefixCls+"-menu"]},i._l(i.data,function(t){return s("Casitem",{key:i.getKey(),attrs:{"prefix-cls":i.prefixCls,data:t,"tmp-item":i.tmpItem},nativeOn:{click:function(e){return e.stopPropagation(),i.handleClickItem(t)},mouseenter:function(e){return e.stopPropagation(),i.handleHoverItem(t)}}})}),1):i._e(),i.sublist&&i.sublist.length?s("Caspanel",{attrs:{"prefix-cls":i.prefixCls,data:i.sublist,disabled:i.disabled,trigger:i.trigger,"change-on-select":i.changeOnSelect}}):i._e()],1)},[],!1,null,null,null).exports,Qe={bind(t,i,e){function s(e){if(t.contains(e.target))return!1;i.expression&&i.value(e)}t.__vueClickOutside__=s,document.addEventListener("click",s)},update(){},unbind(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}};const Ke="ivu-cascader";var qe={name:"Cascader",mixins:[c,d,u],components:{iInput:Ae,Drop:o,Icon:n,Caspanel:qe},directives:{clickOutside:Qe,TransferDom:l},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},placeholder:{type:String},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},trigger:{validator(e){return Object(h.m)(e,["click","hover"])},default:"click"},changeOnSelect:{type:Boolean,default:!1},renderFormat:{type:Function,default(e){return e.join(" / ")}},loadData:{type:Function},filterable:{type:Boolean,default:!1},notFoundText:{type:String},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},capture:{type:Boolean,default(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String},eventsEnabled:{type:Boolean,default:!1}},data(){return{prefixCls:Ke,selectPrefixCls:"ivu-select",visible:!1,selected:[],tmpSelected:[],updatingValue:!1,currentValue:this.value||[],query:"",validDataStr:"",isLoadedChildren:!1,isValueNull:!1}},computed:{classes(){return[Ke,{"ivu-cascader-show-clear":this.showCloseIcon,[Ke+"-size-"+this.size]:!!this.size,"ivu-cascader-visible":this.visible,"ivu-cascader-disabled":this.itemDisabled,"ivu-cascader-not-found":this.filterable&&""!==this.query&&!this.querySelections.length}]},showCloseIcon(){return this.currentValue&&this.currentValue.length&&this.clearable&&!this.itemDisabled},displayRender(){var t=[];for(let e=0;e<this.selected.length;e++)t.push(this.selected[e].label);return this.renderFormat(t,this.selected)},displayInputRender(){return this.filterable?"":this.displayRender},localePlaceholder(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},inputPlaceholder(){return this.filterable&&this.currentValue.length?null:this.localePlaceholder},localeNotFoundText(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},querySelections(){let a=[];return function t(i,s,n){for(let e=0;e<i.length;e++){var r=i[e];r.__label=s?s+" / "+r.label:r.label,r.__value=n?n+","+r.value:r.value,r.children&&r.children.length?(t(r.children,r.__label,r.__value),delete r.__label,delete r.__value):a.push({label:r.__label,value:r.__value,display:r.__label,item:r,disabled:!!r.disabled})}}(this.data),a=a.filter(e=>!!e.label&&-1<e.label.indexOf(this.query)).map(e=>(e.display=e.display.replace(new RegExp(this.query,"g"),`<span>${this.query}</span>`),e))},arrowType(){let e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.cascader.customArrow?e="":this.$IVIEW.cascader.arrow&&(e=this.$IVIEW.cascader.arrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.cascader.customArrow?this.$IVIEW.cascader.customArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.cascader.arrowSize?this.$IVIEW.cascader.arrowSize:e},dropdownCls(){return{"ivu-cascader-transfer":this.transfer,[this.transferClassName]:this.transferClassName}}},methods:{clearSelect(){if(this.itemDisabled)return!1;var e=JSON.stringify(this.currentValue);this.currentValue=this.selected=this.tmpSelected=[],this.handleClose(),this.emitValue(this.currentValue,e),this.broadcast("Caspanel","on-clear")},handleClose(){this.visible=!1},toggleOpen(){if(this.itemDisabled)return!1;this.visible?this.filterable||this.handleClose():this.onFocus()},onFocus(){this.visible=!0,this.currentValue.length||this.broadcast("Caspanel","on-clear")},updateResult(e){this.tmpSelected=e},updateSelected(e=!1,t=!1){this.changeOnSelect&&!e&&!t||this.broadcast("Caspanel","on-find-selected",{value:this.currentValue})},emitValue(e,t){JSON.stringify(e)!==t&&(this.$emit("on-change",this.currentValue,JSON.parse(JSON.stringify(this.selected))),this.$nextTick(()=>{this.dispatch("FormItem","on-form-change",{value:this.currentValue,selected:JSON.parse(JSON.stringify(this.selected))})}))},handleInput(e){this.query=e.target.value},handleSelectItem(e){e=this.querySelections[e];if(e.item.disabled)return!1;this.query="",this.$refs.input.currentValue="";const t=JSON.stringify(this.currentValue);this.currentValue=e.value.split(","),setTimeout(()=>{this.emitValue(this.currentValue,t),this.handleClose()},0)},handleFocus(){this.$refs.input.focus()},getValidData(e){return e.map(e=>function t(e){e=Object.assign({},e);return"loading"in e&&delete e.loading,"__value"in e&&delete e.__value,"__label"in e&&delete e.__label,"children"in e&&e.children.length&&(e.children=e.children.map(e=>t(e))),e}(e))}},created(){this.validDataStr=JSON.stringify(this.getValidData(this.data)),this.$on("on-result-change",e=>{var t=e.lastValue,i=e.changeOnSelect,s=e.fromInit;if(t||i){const e=JSON.stringify(this.currentValue);this.selected=this.tmpSelected;let t=[];this.selected.forEach(e=>{t.push(e.value)}),s||(this.updatingValue=!0,this.currentValue=t,this.emitValue(this.currentValue,e))}t&&!s&&this.handleClose()})},mounted(){this.updateSelected(!0)},watch:{visible(e){e?(this.currentValue.length&&this.updateSelected(),this.transfer&&this.$refs.drop.update(),this.broadcast("Drop","on-update-popper")):(this.filterable&&(this.query="",this.$refs.input.currentValue=""),this.transfer&&this.$refs.drop.destroy(),this.broadcast("Drop","on-destroy-popper")),this.$emit("on-visible-change",e)},value(e){null===e&&(this.isValueNull=!0),this.currentValue=e||[],null!==e&&e.length||(this.selected=[])},currentValue(){this.isValueNull?(this.isValueNull=!1,this.$emit("input",null)):this.$emit("input",this.currentValue),this.updatingValue?this.updatingValue=!1:this.updateSelected(!0)},data:{deep:!0,handler(){var e=JSON.stringify(this.getValidData(this.data));e!==this.validDataStr&&(this.validDataStr=e,this.isLoadedChildren||this.$nextTick(()=>this.updateSelected(!1,this.changeOnSelect)),this.isLoadedChildren=!1)}}}},qe=Object(s.a)(qe,function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:s.handleClose,expression:"handleClose"}],class:s.classes},[n("div",{ref:"reference",class:[s.prefixCls+"-rel"],on:{click:s.toggleOpen}},[n("input",{attrs:{type:"hidden",name:s.name},domProps:{value:s.currentValue}}),s._t("default",[n("i-input",{ref:"input",attrs:{"element-id":s.elementId,readonly:!s.filterable,disabled:s.itemDisabled,value:s.displayInputRender,size:s.size,placeholder:s.inputPlaceholder},on:{"on-change":s.handleInput}}),n("div",{directives:[{name:"show",rawName:"v-show",value:s.filterable&&""===s.query,expression:"filterable && query === ''"}],class:[s.prefixCls+"-label"],on:{click:s.handleFocus}},[s._v(s._s(s.displayRender))]),n("Icon",{directives:[{name:"show",rawName:"v-show",value:s.showCloseIcon,expression:"showCloseIcon"}],class:[s.prefixCls+"-arrow"],attrs:{type:"ios-close-circle"},nativeOn:{click:function(e){return e.stopPropagation(),s.clearSelect(e)}}}),n("Icon",{class:[s.prefixCls+"-arrow"],attrs:{type:s.arrowType,custom:s.customArrowType,size:s.arrowSize}})])],2),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:s.visible,expression:"visible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:s.dropdownCls,attrs:{eventsEnabled:s.eventsEnabled,"data-transfer":s.transfer,transfer:s.transfer}},[n("div",[n("Caspanel",{directives:[{name:"show",rawName:"v-show",value:!s.filterable||s.filterable&&""===s.query,expression:"!filterable || (filterable && query === '')"}],ref:"caspanel",attrs:{"prefix-cls":s.prefixCls,data:s.data,disabled:s.itemDisabled,"change-on-select":s.changeOnSelect,trigger:s.trigger}}),n("div",{directives:[{name:"show",rawName:"v-show",value:s.filterable&&""!==s.query&&s.querySelections.length,expression:"filterable && query !== '' && querySelections.length"}],class:[s.prefixCls+"-dropdown"]},[n("ul",{class:[s.selectPrefixCls+"-dropdown-list"]},s._l(s.querySelections,function(e,t){var i;return n("li",{class:[s.selectPrefixCls+"-item",((i={})[s.selectPrefixCls+"-item-disabled"]=e.disabled,i)],domProps:{innerHTML:s._s(e.display)},on:{click:function(e){return s.handleSelectItem(t)}}})}),0)]),n("ul",{directives:[{name:"show",rawName:"v-show",value:s.filterable&&""!==s.query&&!s.querySelections.length||!s.data.length,expression:"(filterable && query !== '' && !querySelections.length) || !data.length"}],class:[s.prefixCls+"-not-found-tip"]},[n("li",[s._v(s._s(s.localeNotFoundText))])])],1)])],1)],1)},[],!1,null,null,null).exports,b={props:{title:{type:String,default:""},label:{type:String,default:""},extra:{type:String,default:""}}},b=Object(s.a)(b,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"ivu-cell-item"},[t("div",{staticClass:"ivu-cell-icon"},[e._t("icon")],2),t("div",{staticClass:"ivu-cell-main"},[t("div",{staticClass:"ivu-cell-title"},[e._t("default",[e._v(e._s(e.title))])],2),t("div",{staticClass:"ivu-cell-label"},[e._t("label",[e._v(e._s(e.label))])],2)]),t("div",{staticClass:"ivu-cell-footer"},[t("span",{staticClass:"ivu-cell-extra"},[e._t("extra",[e._v(e._s(e.extra))])],2)])])},[],!1,null,null,null).exports;const Xe="ivu-cell";var b={name:"Cell",inject:["cellGroup"],mixins:[y],components:{CellItem:b,Icon:n},props:{name:{type:[String,Number]},title:{type:String,default:""},label:{type:String,default:""},extra:{type:String,default:""},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}},data(){return{prefixCls:Xe}},computed:{classes(){return[Xe,{"ivu-cell-disabled":this.disabled,"ivu-cell-selected":this.selected,"ivu-cell-with-link":this.to}]},arrowType(){let e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.cell.customArrow?e="":this.$IVIEW.cell.arrow&&(e=this.$IVIEW.cell.arrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.cell.customArrow?this.$IVIEW.cell.customArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.cell.arrowSize?this.$IVIEW.cell.arrowSize:e}},methods:{handleClickItem(e,t){this.cellGroup.handleClick(this.name),this.handleCheckClick(e,t)}}},b=Object(s.a)(b,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.classes},[t.to?e("a",{staticClass:"ivu-cell-link",attrs:{href:t.linkUrl,target:t.target},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handleClickItem(e,!1)},function(e){return e.ctrlKey?t.handleClickItem(e,!0):null},function(e){return e.metaKey?t.handleClickItem(e,!0):null}]}},[e("CellItem",{attrs:{title:t.title,label:t.label,extra:t.extra}},[t._t("icon",null,{slot:"icon"}),t._t("default",null,{slot:"default"}),t._t("extra",null,{slot:"extra"}),t._t("label",null,{slot:"label"})],2)],1):e("div",{staticClass:"ivu-cell-link",on:{click:t.handleClickItem}},[e("CellItem",{attrs:{title:t.title,label:t.label,extra:t.extra}},[t._t("icon",null,{slot:"icon"}),t._t("default",null,{slot:"default"}),t._t("extra",null,{slot:"extra"}),t._t("label",null,{slot:"label"})],2)],1),t.to?e("div",{staticClass:"ivu-cell-arrow"},[t._t("arrow",[e("Icon",{attrs:{type:t.arrowType,custom:t.customArrowType,size:t.arrowSize}})])],2):t._e()])},[],!1,null,null,null).exports,Ze={name:"CellGroup",provide(){return{cellGroup:this}},methods:{handleClick(e){this.$emit("on-click",e)}}},Ze=Object(s.a)(Ze,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ivu-cell-group"},[this._t("default")],2)},[],!1,null,null,null).exports,Ze=(b.Group=Ze,b);const Je="ivu-checkbox";b={name:"Checkbox",mixins:[c,u],props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},border:{type:Boolean,default:!1}},data(){return{model:[],currentValue:this.value,group:!1,showSlot:!0,parent:Object(h.g)(this,"CheckboxGroup"),focusInner:!1}},computed:{wrapClasses(){return[Je+"-wrapper",{"ivu-checkbox-group-item":this.group,"ivu-checkbox-wrapper-checked":this.currentValue,"ivu-checkbox-wrapper-disabled":this.itemDisabled,[Je+"-"+this.size]:!!this.size,"ivu-checkbox-border":this.border}]},checkboxClasses(){return[Je,{"ivu-checkbox-checked":this.currentValue,"ivu-checkbox-disabled":this.itemDisabled,"ivu-checkbox-indeterminate":this.indeterminate}]},innerClasses(){return[Je+"-inner",{"ivu-checkbox-focus":this.focusInner}]},inputClasses(){return Je+"-input"}},mounted(){this.parent=Object(h.g)(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change(e){if(this.itemDisabled)return!1;e=e.target.checked,e=(this.currentValue=e)?this.trueValue:this.falseValue;this.$emit("input",e),this.group?this.parent.change(this.model):(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))},updateModel(){this.currentValue=this.value===this.trueValue},onBlur(){this.focusInner=!1},onFocus(){this.focusInner=!0}},watch:{value(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateModel()}}},b=Object(s.a)(b,function(){var r=this,e=r.$createElement,e=r._self._c||e;return e("label",{class:r.wrapClasses},[e("span",{class:r.checkboxClasses},[e("span",{class:r.innerClasses}),r.group?e("input",{directives:[{name:"model",rawName:"v-model",value:r.model,expression:"model"}],class:r.inputClasses,attrs:{type:"checkbox",disabled:r.itemDisabled,name:r.name},domProps:{value:r.label,checked:Array.isArray(r.model)?-1<r._i(r.model,r.label):r.model},on:{change:[function(e){var t,i,s=r.model,e=e.target,n=!!e.checked;Array.isArray(s)?(t=r.label,i=r._i(s,t),e.checked?i<0&&(r.model=s.concat([t])):-1<i&&(r.model=s.slice(0,i).concat(s.slice(i+1)))):r.model=n},r.change],focus:r.onFocus,blur:r.onBlur}}):e("input",{class:r.inputClasses,attrs:{type:"checkbox",disabled:r.itemDisabled,name:r.name},domProps:{checked:r.currentValue},on:{change:r.change,focus:r.onFocus,blur:r.onBlur}})]),r._t("default",[r.showSlot?e("span",[r._v(r._s(r.label))]):r._e()])],2)},[],!1,null,null,null).exports;var w={name:"CheckboxGroup",mixins:[c],props:{value:{type:Array,default(){return[]}},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}}},data(){return{currentValue:this.value||[],children:[]}},computed:{classes(){return["ivu-checkbox-group",{["ivu-checkbox-"+this.size]:!!this.size}]}},mounted(){this.updateModel(!0)},methods:{updateModel(t){if(this.children=Object(h.h)(this,"Checkbox"),this.children){const i=this.value||[];this.children.forEach(e=>{e.model=i,t&&(e.currentValue=0<=i.indexOf(e.label),e.group=!0)})}},change(e){this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}},watch:{value(){this.updateModel(!0)}}},w=Object(s.a)(w,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,et=(b.Group=w,b);const tt="ivu-chart-circle";var it={name:"iCircle",props:{percent:{type:Number,default:0},size:{type:Number,default:120},strokeWidth:{type:Number,default:6},strokeColor:{type:[String,Array],default:"#2d8cf0"},strokeLinecap:{validator(e){return Object(h.m)(e,["square","round"])},default:"round"},trailWidth:{type:Number,default:5},trailColor:{type:String,default:"#eaeef2"},dashboard:{type:Boolean,default:!1}},data(){return{id:"ivu-chart-circle-"+function(t){var i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",s=i.length;let n="";for(let e=0;e<t;e++)n+=i.charAt(Math.floor(Math.random()*s));return n}(3)}},computed:{circleSize(){return{width:this.size+"px",height:this.size+"px"}},computedStrokeWidth(){return 0===this.percent&&this.dashboard?0:this.strokeWidth},radius(){return 50-this.strokeWidth/2},pathString(){return this.dashboard?`M 50,50 m 0,${this.radius}
                a ${this.radius},${this.radius} 0 1 1 0,-${2*this.radius}
                a ${this.radius},${this.radius} 0 1 1 0,`+2*this.radius:`M 50,50 m 0,-${this.radius}
                a ${this.radius},${this.radius} 0 1 1 0,${2*this.radius}
                a ${this.radius},${this.radius} 0 1 1 0,-`+2*this.radius},len(){return 2*Math.PI*this.radius},trailStyle(){let e={};return e=this.dashboard?{"stroke-dasharray":`${this.len-75}px ${this.len}px`,"stroke-dashoffset":"-37.5px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"}:e},pathStyle(){return this.dashboard?{"stroke-dasharray":`${this.percent/100*(this.len-75)}px ${this.len}px`,"stroke-dashoffset":"-37.5px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .6s ease 0s, stroke .6s, stroke-width .06s ease .6s"}:{"stroke-dasharray":`${this.len}px ${this.len}px`,"stroke-dashoffset":(100-this.percent)/100*this.len+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},wrapClasses(){return tt},innerClasses(){return tt+"-inner"},strokeValue(){let e=this.strokeColor;return e="string"!=typeof this.strokeColor?`url(#${this.id})`:e},showDefs(){return"string"!=typeof this.strokeColor}}},it=Object(s.a)(it,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.wrapClasses,style:e.circleSize},[t("svg",{attrs:{viewBox:"0 0 100 100"}},[e.showDefs?t("defs",[t("linearGradient",{attrs:{id:e.id,x1:"100%",y1:"0%",x2:"0%",y2:"0%"}},[t("stop",{attrs:{offset:"0%","stop-color":e.strokeColor[0]}}),t("stop",{attrs:{offset:"100%","stop-color":e.strokeColor[1]}})],1)],1):e._e(),t("path",{style:e.trailStyle,attrs:{d:e.pathString,stroke:e.trailColor,"stroke-width":e.trailWidth,"fill-opacity":0,"stroke-linecap":e.strokeLinecap}}),t("path",{style:e.pathStyle,attrs:{d:e.pathString,"stroke-linecap":e.strokeLinecap,stroke:e.strokeValue,"stroke-width":e.computedStrokeWidth,"fill-opacity":"0"}})]),t("div",{class:e.innerClasses},[e._t("default")],2)])},[],!1,null,null,null).exports;const st="ivu-collapse";var nt={name:"Collapse",props:{accordion:{type:Boolean,default:!1},value:{type:[Array,String]},simple:{type:Boolean,default:!1}},data(){return{currentValue:this.value}},computed:{classes(){return[st,{"ivu-collapse-simple":this.simple}]}},mounted(){this.setActive()},methods:{setActive(){const s=this.getActiveKey();this.$children.forEach((e,t)=>{var i=e.name||t.toString();e.isActive=-1<s.indexOf(i),e.index=t})},getActiveKey(){let t=this.currentValue||[];var e=this.accordion;Array.isArray(t)||(t=[t]),e&&1<t.length&&(t=[t[0]]);for(let e=0;e<t.length;e++)t[e]=t[e].toString();return t},toggle(e){var t,i,s=e.name.toString();let n=[];this.accordion?e.isActive||n.push(s):(i=(t=this.getActiveKey()).indexOf(s),e.isActive?-1<i&&t.splice(i,1):i<0&&t.push(s),n=t),this.currentValue=n,this.$emit("input",n),this.$emit("on-change",n)}},watch:{value(e){this.currentValue=e},currentValue(){this.setActive()}}},nt=Object(s.a)(nt,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports;const rt={beforeEnter(e){Object(h.b)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?e.style.height=e.scrollHeight+"px":e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},afterEnter(e){Object(h.n)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(Object(h.b)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){Object(h.n)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};var at={name:"CollapseTransition",functional:!0,props:{appear:Boolean},render(e,{children:t,props:i}){return e("transition",{on:rt,props:{appear:i.appear}},t)}};const ot="ivu-collapse";var lt={name:"Panel",components:{Icon:n,CollapseTransition:at},props:{name:{type:String},hideArrow:{type:Boolean,default:!1}},data(){return{index:0,isActive:!1,mounted:!1}},computed:{itemClasses(){return[ot+"-item",{"ivu-collapse-item-active":this.isActive}]},headerClasses(){return ot+"-header"},contentClasses(){return ot+"-content"},boxClasses(){return ot+"-content-box"}},methods:{toggle(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}},mounted(){this.mounted=!0,this.$parent.setActive()}},lt=Object(s.a)(lt,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.itemClasses},[t("div",{class:e.headerClasses,on:{click:e.toggle}},[e.hideArrow?e._e():t("Icon",{attrs:{type:"ios-arrow-forward"}}),e._t("default")],2),e.mounted?t("collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],class:e.contentClasses},[t("div",{class:e.boxClasses},[e._t("content")],2)])]):e._e()],1)},[],!1,null,null,null).exports,lt=(nt.Panel=lt,nt),nt=e("94c7"),ct=e.n(nt),nt={methods:{handleEscape(e){this.dispatch("ColorPicker","on-escape-keydown",e)}}},ut={data(){return{prefixCls:"ivu-color-picker",inputPrefixCls:"ivu-input",iconPrefixCls:"ivu-icon",transferPrefixCls:"ivu-transfer"}}};function ht(e,t){var e=ct()(e),i=e["_a"];return null==i&&e.setAlpha(t||1),e}function dt(e,t){var e=""===e?"#2d8cf0":e,i=function(e){var t=e&&e.a;if(e){if(e.hsl)return ht(e.hsl,t);if(e.hex&&0<e.hex.length)return ht(e.hex,t)}return ht(e,t)}(e),s=i.toHsl(),n=i.toHsv();return 0===s.s&&(s.h=e.h||e.hsl&&e.hsl.h||t||0,n.h=s.h),n.v<.0164&&(n.h=e.h||e.hsv&&e.hsv.h||0,n.s=e.s||e.hsv&&e.hsv.s||0),s.l<.01&&(s.h=e.h||e.hsl&&e.hsl.h||0,s.s=e.s||e.hsl&&e.hsl.s||0),{hsl:s,hex:i.toHexString().toUpperCase(),rgba:i.toRgb(),hsv:n,oldHue:e.h||t||s.h,source:e.source,a:e.a||i.getAlpha()}}function S(e,t,i){return e<t?t:i<e?i:e}function pt(e,t,i){return Object(h.m)(e,t)?i:0}function mt(e,t){return e.touches?e.touches[0][t]:0}function ft(e){var{r:e,g:t,b:i,a:s}=e;return`rgba(${[e,t,i,s].join(",")})`}var gt={name:"RecommendedColors",mixins:[c,nt,ut],props:{list:{type:Array,default:void 0}},data(){return{left:-1,right:1,up:-1,down:1,powerKey:"shiftKey",grid:{x:1,y:1},rows:Math.ceil(this.list.length/12),columns:12}},computed:{hideClass(){return this.prefixCls+"-hide"},linearIndex(){return this.getLinearIndex(this.grid)},currentCircle(){return this.$refs["color-circle-"+this.linearIndex][0]}},methods:{getLinearIndex(e){return this.columns*(e.y-1)+e.x-1},getMaxLimit(e){return"x"===e?this.columns:this.rows},handleArrow(e,t,i){e.preventDefault(),e.stopPropagation(),this.blurColor();var s={...this.grid},e=(e[this.powerKey]?s[t]=i<0?1:this.getMaxLimit(t):s[t]+=i,this.getLinearIndex(s));0<=e&&e<this.list.length&&(this.grid[t]=S(s[t],1,this.getMaxLimit(t))),this.focusColor()},blurColor(){this.currentCircle.classList.add(this.hideClass)},focusColor(){this.currentCircle.classList.remove(this.hideClass)},handleEnter(e){this.handleClick(e,this.currentCircle)},handleClick(e,t){e.preventDefault(),e.stopPropagation(),this.$refs.reference.focus();t=t||e.target,t=t.dataset.colorId||t.parentElement.dataset.colorId;if(t){this.blurColor();const e=Number(t)+1;this.grid.x=e%this.columns||this.columns,this.grid.y=Math.ceil(e/this.columns),this.focusColor(),this.$emit("picker-color",this.list[t]),this.$emit("change",{hex:this.list[t],source:"hex"})}},lineBreak(e,t){return!!t&&(t=t+1)<e.length&&t%this.columns==0}}},gt=Object(s.a)(gt,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{ref:"reference",attrs:{tabindex:"0"},on:{click:i.handleClick,keydown:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:i.handleEscape(e)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.handleEnter(e)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:i.handleArrow(e,"x",i.left)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:i.handleArrow(e,"x",i.right)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:i.handleArrow(e,"y",i.up)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:i.handleArrow(e,"y",i.down)}],blur:i.blurColor,focus:i.focusColor}},[i._l(i.list,function(e,t){return[s("div",{key:e+":"+t,class:[i.prefixCls+"-picker-colors-wrapper"]},[s("div",{attrs:{"data-color-id":t}},[s("div",{class:[i.prefixCls+"-picker-colors-wrapper-color"],style:{background:e}}),s("div",{ref:"color-circle-"+t,refInFor:!0,class:[i.prefixCls+"-picker-colors-wrapper-circle",i.hideClass]})])]),i.lineBreak(i.list,t)?s("br"):i._e()]})],2)},[],!1,null,null,null).exports,yt={mixins:[c,nt],props:{focused:{type:Boolean,default:!1},value:{type:Object,default:void 0}},beforeDestroy(){this.unbindEventListeners()},created(){this.focused&&setTimeout(()=>this.$el.focus(),1)},methods:{handleLeft(e){this.handleSlide(e,this.left,"left")},handleRight(e){this.handleSlide(e,this.right,"right")},handleUp(e){this.handleSlide(e,this.up,"up")},handleDown(e){this.handleSlide(e,this.down,"down")},handleMouseDown(e){this.dispatch("ColorPicker","on-dragging",!0),this.handleChange(e,!0),i(window,"mousemove",this.handleChange),i(window,"mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){t(window,"mousemove",this.handleChange),t(window,"mouseup",this.handleMouseUp),setTimeout(()=>this.dispatch("ColorPicker","on-dragging",!1),1)},getLeft(e){var t=this.$refs["container"],t=t.getBoundingClientRect().left+window.pageXOffset;return(e.pageX||mt(e,"PageX"))-t},getTop(e){var t=this.$refs["container"],t=t.getBoundingClientRect().top+window.pageYOffset;return(e.pageY||mt(e,"PageY"))-t}}},nt={name:"Saturation",mixins:[yt,ut],data(){return{left:-.01,right:.01,up:.01,down:-.01,multiplier:10,powerKey:"shiftKey"}},computed:{bgColorStyle(){return{background:`hsl(${this.value.hsv.h}, 100%, 50%)`}},pointerStyle(){return{top:-100*this.value.hsv.v+1+100+"%",left:100*this.value.hsv.s+"%"}}},methods:{change(e,t,i,s){this.$emit("change",{h:e,s:t,v:i,a:s,source:"hsva"})},handleSlide(e,t,i){e.preventDefault(),e.stopPropagation();var e=e[this.powerKey]?t*this.multiplier:t,{h:t,s,v:n,a:r}=this.value.hsv,s=S(s+pt(i,["left","right"],e),0,1),n=S(n+pt(i,["up","down"],e),0,1);this.change(t,s,n,r)},handleChange(e){e.preventDefault(),e.stopPropagation();var{clientWidth:t,clientHeight:i}=this.$refs.container,s=S(this.getLeft(e),0,t),e=S(this.getTop(e),0,i),e=S(1-e/i,0,1);this.change(this.value.hsv.h,s/t,e,this.value.hsv.a)},handleMouseDown(e){yt.methods.handleMouseDown.call(this,e),i(window,"mouseup",this.handleChange)},unbindEventListeners(e){yt.methods.unbindEventListeners.call(this,e),t(window,"mouseup",this.handleChange)}}},nt=Object(s.a)(nt,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:[t.prefixCls+"-saturation-wrapper"],attrs:{tabindex:"0"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleLeft(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.handleRight(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.handleUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.handleDown(e)}],click:function(e){return t.$el.focus()}}},[e("div",{ref:"container",class:[t.prefixCls+"-saturation"],style:t.bgColorStyle,on:{mousedown:t.handleMouseDown}},[e("div",{class:[t.prefixCls+"-saturation--white"]}),e("div",{class:[t.prefixCls+"-saturation--black"]}),e("div",{class:[t.prefixCls+"-saturation-pointer"],style:t.pointerStyle},[e("div",{class:[t.prefixCls+"-saturation-circle"]})])])])},[],!1,null,null,null).exports,_={name:"Hue",mixins:[yt,ut],data(){var e=1/360*25,t=20*e;return{left:-e,right:e,up:t,down:-t,powerKey:"shiftKey",percent:S(100*this.value.hsl.h/360,0,100)}},watch:{value(){this.percent=S(100*this.value.hsl.h/360,0,100)}},methods:{change(e){this.percent=S(e,0,100);var{h:t,s:i,l:s,a:n}=this.value.hsl,e=S(e/100*360,0,360);t!==e&&this.$emit("change",{h:e,s:i,l:s,a:n,source:"hsl"})},handleSlide(e,t){e.preventDefault(),e.stopPropagation(),e[this.powerKey]?this.change(t<0?0:100):this.change(this.percent+t)},handleChange(e){e.preventDefault(),e.stopPropagation();var t,e=this.getLeft(e);e<0?this.change(0):(t=this.$refs.container.clientWidth,t<e?this.change(100):this.change(100*e/t))}}},_=Object(s.a)(_,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:[t.prefixCls+"-hue"],attrs:{tabindex:"0"},on:{click:function(e){return t.$el.focus()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleLeft(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.handleRight(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.handleUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.handleDown(e)}]}},[e("div",{ref:"container",class:[t.prefixCls+"-hue-container"],on:{mousedown:t.handleMouseDown,touchmove:t.handleChange,touchstart:t.handleChange}},[e("div",{class:[t.prefixCls+"-hue-pointer"],style:{top:0,left:t.percent+"%"}},[e("div",{class:[t.prefixCls+"-hue-picker"]})])])])},[],!1,null,null,null).exports,C={name:"Alpha",mixins:[yt,ut],data(){return{left:-1,right:1,up:10,down:-10,powerKey:"shiftKey"}},computed:{gradientStyle(){var{r:e,g:t,b:i}=this.value.rgba;return{background:`linear-gradient(to right, ${ft({r:e,g:t,b:i,a:0})} 0%, ${ft({r:e,g:t,b:i,a:1})} 100%)`}}},methods:{change(e){var{h:t,s:i,l:s}=this.value.hsl,n=this.value["a"];n!==e&&this.$emit("change",{h:t,s:i,l:s,a:e,source:"rgba"})},handleSlide(e,t){e.preventDefault(),e.stopPropagation(),this.change(S(e[this.powerKey]?t:Math.round(100*this.value.hsl.a+t)/100,0,1))},handleChange(e){e.preventDefault(),e.stopPropagation();var t,e=this.getLeft(e);e<0?this.change(0):(t=this.$refs.container.clientWidth,t<e?this.change(1):this.change(Math.round(100*e/t)/100))}}},gt={name:"ColorPicker",components:{Drop:o,RecommendColors:gt,Saturation:nt,Hue:_,Alpha:Object(s.a)(C,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:[t.prefixCls+"-alpha"],attrs:{tabindex:"0"},on:{click:function(e){return t.$el.focus()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleLeft(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.handleRight(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.handleUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.handleDown(e)}]}},[e("div",{class:[t.prefixCls+"-alpha-checkboard-wrap"]},[e("div",{class:[t.prefixCls+"-alpha-checkerboard"]})]),e("div",{class:[t.prefixCls+"-alpha-gradient"],style:t.gradientStyle}),e("div",{ref:"container",class:[t.prefixCls+"-alpha-container"],on:{mousedown:t.handleMouseDown,touchmove:t.handleChange,touchstart:t.handleChange}},[e("div",{class:[t.prefixCls+"-alpha-pointer"],style:{top:0,left:100*t.value.a+"%"}},[e("div",{class:[t.prefixCls+"-alpha-picker"]})])])])},[],!1,null,null,null).exports,iInput:Ae,iButton:v,Icon:n},directives:{clickOutside:se,TransferDom:l},mixins:[c,d,ut,u],props:{value:{type:String,default:void 0},hue:{type:Boolean,default:!0},alpha:{type:Boolean,default:!1},recommend:{type:Boolean,default:!1},format:{type:String,validator(e){return Object(h.m)(e,["hsl","hsv","hex","rgb"])},default:void 0},colors:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},hideDropDown:{type:Boolean,default:!1},placement:{type:String,validator(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String,default:void 0},editable:{type:Boolean,default:!0},capture:{type:Boolean,default(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String},eventsEnabled:{type:Boolean,default:!1}},data(){return{val:dt(this.value||""),currentValue:this.value||"",dragging:!1,visible:!1,recommendedColor:["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"]}},computed:{arrowClasses(){return[this.inputPrefixCls+"-icon",this.inputPrefixCls+"-icon-normal"]},transition(){return Object(h.m)(this.placement,["bottom-start","bottom","bottom-end"])?"slide-up":"fade"},saturationColors:{get(){return this.val},set(e){this.val=e,this.$emit("on-active-change",this.formatColor)}},classes(){return[""+this.prefixCls,{[this.prefixCls+"-transfer"]:this.transfer}]},wrapClasses(){return[this.prefixCls+"-rel",this.prefixCls+"-"+this.size,this.inputPrefixCls+"-wrapper",this.inputPrefixCls+"-wrapper-"+this.size,{[this.prefixCls+"-disabled"]:this.itemDisabled}]},inputClasses(){return[this.prefixCls+"-input",""+this.inputPrefixCls,this.inputPrefixCls+"-"+this.size,{[this.prefixCls+"-focused"]:this.visible,[this.prefixCls+"-disabled"]:this.itemDisabled}]},dropClasses(){return[this.transferPrefixCls+"-no-max-height",{[this.prefixCls+"-transfer"]:this.transfer,[this.prefixCls+"-hide-drop"]:this.hideDropDown,[this.transferClassName]:this.transferClassName}]},displayedColorStyle(){return{backgroundColor:ft(this.visible?this.saturationColors.rgba:ct()(this.value).toRgb())}},formatColor(){var{format:e,saturationColors:t}=this;if(e){if("hsl"===e)return ct()(t.hsl).toHslString();if("hsv"===e)return ct()(t.hsv).toHsvString();if("hex"===e)return t.hex;if("rgb"===e)return ft(t.rgba)}else if(this.alpha)return ft(t.rgba);return t.hex},confirmColorClasses(){return[this.prefixCls+"-confirm-color",{[this.prefixCls+"-confirm-color-editable"]:this.editable}]},arrowType(){let e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.colorPicker.customArrow?e="":this.$IVIEW.colorPicker.arrow&&(e=this.$IVIEW.colorPicker.arrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.colorPicker.customArrow?this.$IVIEW.colorPicker.customArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.colorPicker.arrowSize?this.$IVIEW.colorPicker.arrowSize:e}},watch:{value(e){this.val=dt(e||"")},visible(e){this.val=dt(this.value||""),this.$refs.drop[e?"update":"destroy"](),this.$emit("on-open-change",Boolean(e))}},mounted(){this.$on("on-escape-keydown",this.closer),this.$on("on-dragging",this.setDragging)},methods:{setDragging(e){this.dragging=e},handleClose(e){if(this.visible)if(this.dragging||"mousedown"===e.type)this.$refs.editColorInput&&e.target!==this.$refs.editColorInput.$el.querySelector("input")&&e.preventDefault();else{if(this.transfer){var t=this.$refs.drop["$el"];if(t===e.target||t.contains(e.target))return}this.closer(e)}else this.visible=!1},toggleVisible(){this.itemDisabled||(this.visible=!this.visible,this.$refs.input.focus())},childChange(e){this.colorChange(e)},colorChange(e,t){this.oldHue=this.saturationColors.hsl.h,this.saturationColors=dt(e,t||this.oldHue)},closer(e){e&&(e.preventDefault(),e.stopPropagation()),this.visible=!1,this.$refs.input.focus()},handleButtons(e,t){this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t),this.closer(e)},handleSuccess(e){this.handleButtons(e,this.formatColor),this.$emit("on-pick-success")},handleClear(e){this.handleButtons(e,""),this.$emit("on-pick-clear")},handleSelectColor(e){this.val=dt(e),this.$emit("on-active-change",this.formatColor)},handleEditColor(e){e=e.target.value;this.handleSelectColor(e)},handleFirstTab(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.$refs.ok.$el.focus())},handleLastTab(e){e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.$refs.saturation.$el.focus())},onTab(e){this.visible&&e.preventDefault()},onEscape(e){this.visible&&this.closer(e)},onArrow(e){this.visible||(e.preventDefault(),e.stopPropagation(),this.visible=!0)}}},nt=Object(s.a)(gt,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture]",value:t.handleClose,expression:"handleClose",arg:t.capture}],class:t.classes},[e("div",{ref:"reference",class:t.wrapClasses,on:{click:t.toggleVisible}},[e("input",{attrs:{name:t.name,type:"hidden"},domProps:{value:t.currentValue}}),e("Icon",{class:t.arrowClasses,attrs:{type:t.arrowType,custom:t.customArrowType,size:t.arrowSize}}),e("div",{ref:"input",class:t.inputClasses,attrs:{tabindex:t.itemDisabled?void 0:0},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.onTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onEscape(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrow(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrow(e)}]}},[e("div",{class:[t.prefixCls+"-color"]},[e("div",{directives:[{name:"show",rawName:"v-show",value:""===t.value&&!t.visible,expression:"value === '' && !visible"}],class:[t.prefixCls+"-color-empty"]},[e("i",{class:[t.iconPrefixCls,t.iconPrefixCls+"-ios-close"]})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.value||t.visible,expression:"value || visible"}],style:t.displayedColorStyle})])])],1),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"},{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"drop",class:t.dropClasses,attrs:{placement:t.placement,"data-transfer":t.transfer,transfer:t.transfer,eventsEnabled:t.eventsEnabled}},[e("transition",{attrs:{name:"fade"}},[t.visible?e("div",{class:[t.prefixCls+"-picker"]},[e("div",{class:[t.prefixCls+"-picker-wrapper"]},[e("div",{class:[t.prefixCls+"-picker-panel"]},[e("Saturation",{ref:"saturation",attrs:{focused:t.visible},on:{change:t.childChange},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleFirstTab(e)}},model:{value:t.saturationColors,callback:function(e){t.saturationColors=e},expression:"saturationColors"}})],1),t.hue?e("div",{class:[t.prefixCls+"-picker-hue-slider"]},[e("Hue",{on:{change:t.childChange},model:{value:t.saturationColors,callback:function(e){t.saturationColors=e},expression:"saturationColors"}})],1):t._e(),t.alpha?e("div",{class:[t.prefixCls+"-picker-alpha-slider"]},[e("Alpha",{on:{change:t.childChange},model:{value:t.saturationColors,callback:function(e){t.saturationColors=e},expression:"saturationColors"}})],1):t._e(),t.colors.length?e("recommend-colors",{class:[t.prefixCls+"-picker-colors"],attrs:{list:t.colors},on:{"picker-color":t.handleSelectColor}}):t._e(),!t.colors.length&&t.recommend?e("recommend-colors",{class:[t.prefixCls+"-picker-colors"],attrs:{list:t.recommendedColor},on:{"picker-color":t.handleSelectColor}}):t._e()],1),e("div",{class:[t.prefixCls+"-confirm"]},[e("span",{class:t.confirmColorClasses},[t.editable?[e("i-input",{ref:"editColorInput",attrs:{value:t.formatColor,size:"small"},on:{"on-enter":t.handleEditColor,"on-blur":t.handleEditColor}})]:[t._v(t._s(t.formatColor))]],2),e("i-button",{ref:"clear",attrs:{tabindex:0,size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleClear(e)}},nativeOn:{click:function(e){return t.handleClear(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closer(e)}}},[t._v(t._s(t.t("i.datepicker.clear")))]),e("i-button",{ref:"ok",attrs:{tabindex:0,size:"small",type:"primary"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSuccess(e)}},nativeOn:{click:function(e){return t.handleSuccess(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleLastTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closer(e)}]}},[t._v(t._s(t.t("i.datepicker.ok")))])],1)]):t._e()])],1)],1)],1)},[],!1,null,null,null).exports;var _={name:"Content",computed:{wrapClasses(){return"ivu-layout-content"}}},C=Object(s.a)(_,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,ut=C,gt=e("be62"),vt=e.n(gt);function k(e){return(e=new Date(e)).setHours(0,0,0,0),e.getTime()}function bt(e,t){return(e=xt(e))?vt.a.format(e,t||"yyyy-MM-dd"):""}function wt(e,t){return vt.a.parse(e,t||"yyyy-MM-dd")}function St(e,t){return new Date(e,t+1,0).getDate()}function _t(e,t){var t=(e=new Date(e)).getMonth()+t,i=St(e.getFullYear(),t);return i<e.getDate()&&e.setDate(i),e.setMonth(t),e}function x(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e}function Ct(e,t,i){if(Array.isArray(e)&&2===e.length){var s=e[0],n=e[1];if(s&&n)return bt(s,t)+i+bt(n,t)}else if(!Array.isArray(e)&&e instanceof Date)return bt(e,t);return""}function kt(e,t,i){var s=Array.isArray(e)?e:e.split(i);if(2!==s.length)return[];{const e=s[0],i=s[1];return[e instanceof Date?e:wt(e,t),i instanceof Date?i:wt(i,t)]}}const xt=function(e){let t=new Date(e);return isNaN(t.getTime())&&"string"==typeof e&&((t=e.split("-").map(Number))[1]+=1,t=new Date(...t)),isNaN(t.getTime())?null:t},Tt=function(){const s={yyyy:e=>e.getFullYear(),m:e=>e.getMonth()+1,mm:e=>("0"+(e.getMonth()+1)).slice(-2),mmm:(e,t)=>{return e.toLocaleDateString(t,{month:"long"}).slice(0,3)},Mmm:(e,t)=>{e=e.toLocaleDateString(t,{month:"long"});return(e[0].toUpperCase()+e.slice(1).toLowerCase()).slice(0,3)},mmmm:(e,t)=>e.toLocaleDateString(t,{month:"long"}),Mmmm:(e,t)=>{e=e.toLocaleDateString(t,{month:"long"});return e[0].toUpperCase()+e.slice(1).toLowerCase()}},n=new RegExp(["yyyy","Mmmm","mmmm","Mmm","mmm","mm","m"].join("|"),"g");return function(t,e,i){e=e.match(/(\[[^\]]+\])([^\[\]]+)(\[[^\]]+\])/).slice(1);return{separator:e[1],labels:[e[0],e[2]].map(e=>{return{label:e.replace(/\[[^\]]+\]/,e=>e.slice(1,-1).replace(n,e=>s[e](i,t))),type:-1!=e.indexOf("yy")?"year":"month"}})}}}(),It={date:"yyyy-MM-dd",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},Pt=bt,At=wt,Et={default:{formatter(e){return e?""+e:""},parser(e){return void 0===e||""===e?null:e}},date:{formatter:Pt,parser:At},datetime:{formatter:Pt,parser:At},daterange:{formatter:Ct,parser:kt},datetimerange:{formatter:Ct,parser:kt},timerange:{formatter:Ct,parser:kt},time:{formatter:Pt,parser:At},month:{formatter:Pt,parser:At},year:{formatter:Pt,parser:At},multiple:{formatter:(e,t)=>e.filter(Boolean).map(e=>bt(e,t)).join(","),parser:(e,t)=>{return("string"==typeof e?e.split(","):e).map(e=>e instanceof Date?e:("string"==typeof e?e=e.trim():"number"!=typeof e&&(e=e||""),wt(e,t)))}},number:{formatter(e){return e?""+e:""},parser(e){var t=Number(e);return isNaN(e)?null:t}}},Dt="ivu-date-picker",Ot={40:"up",39:"right",38:"down",37:"left"},Lt=(e,t,i)=>"left"===e?-1*t:"right"===e?+t:"up"===e?+i:"down"===e?-1*i:void 0,Nt=e=>e?[e.getHours(),e.getMinutes(),e.getSeconds()]:[0,0,0];var _={mixins:[c,u],components:{iInput:Ae,Drop:o,Icon:n},directives:{clickOutside:se,TransferDom:l},props:{format:{type:String},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},confirm:{type:Boolean,default:!1},open:{type:Boolean,default:null},multiple:{type:Boolean,default:!1},timePickerOptions:{default:()=>({}),type:Object},splitPanels:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},placement:{validator(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom-start"},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},steps:{type:Array,default:()=>[]},value:{type:[Date,String,Array]},options:{type:Object,default:()=>({})},separator:{type:String,default:" - "},capture:{type:Boolean,default(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String},eventsEnabled:{type:Boolean,default:!1}},data(){var e=this.type.includes("range"),t=e?[null,null]:[null],e=((e?this.value:[this.value])||[]).reduce((e,t)=>e&&!t||"string"==typeof t&&""===t.trim(),!0)?t:this.parseDate(this.value),t=e.map(Nt);return{prefixCls:Dt,showClose:!1,visible:!1,internalValue:e,disableClickOutSide:!1,disableCloseUnderTransfer:!1,selectionMode:this.onSelectionModeChange(this.type),forceInputRerender:1,isFocused:!1,focusedDate:e[0]||this.startDate||new Date,focusedTime:{column:0,picker:0,time:t,active:!1},internalFocus:!1,isValueNull:!1}},computed:{wrapperClasses(){return[Dt,{"ivu-date-picker-focused":this.isFocused}]},publicVModelValue(){if(this.multiple)return this.internalValue.slice();{var t=this.type.includes("range");let e=this.internalValue.map(e=>e instanceof Date?new Date(e):e||"");return this.type.match(/^time/)&&(e=e.map(this.formatDate)),t||this.multiple?e:e[0]}},publicStringValue(){var{formatDate:e,publicVModelValue:t,type:i}=this;return i.match(/^time/)?t:!this.multiple&&Array.isArray(t)?t.map(e):e(t)},opened(){return null===this.open?this.visible:this.open},transition(){return this.placement.match(/^bottom/)?"slide-up":"slide-down"},visualValue(){return this.formatDate(this.internalValue)},isConfirm(){return this.confirm||"datetime"===this.type||"datetimerange"===this.type||this.multiple},arrowType(){let e="";return"time"===this.type||"timerange"===this.type?(e="ios-time-outline",this.$IVIEW&&(this.$IVIEW.timePicker.customIcon?e="":this.$IVIEW.timePicker.icon&&(e=this.$IVIEW.timePicker.icon))):(e="ios-calendar-outline",this.$IVIEW&&(this.$IVIEW.datePicker.customIcon?e="":this.$IVIEW.datePicker.icon&&(e=this.$IVIEW.datePicker.icon))),e=this.showClose?"ios-close-circle":e},customArrowType(){let e="";return this.showClose||("time"===this.type||"timerange"===this.type?this.$IVIEW&&this.$IVIEW.timePicker.customIcon&&(e=this.$IVIEW.timePicker.customIcon):this.$IVIEW&&this.$IVIEW.datePicker.customIcon&&(e=this.$IVIEW.datePicker.customIcon)),e},arrowSize(){let e="";return this.showClose||("time"===this.type||"timerange"===this.type?this.$IVIEW&&this.$IVIEW.timePicker.iconSize&&(e=this.$IVIEW.timePicker.iconSize):this.$IVIEW&&this.$IVIEW.datePicker.iconSize&&(e=this.$IVIEW.datePicker.iconSize)),e},dropdownCls(){return{"ivu-date-picker-transfer":this.transfer,[this.transferClassName]:this.transferClassName}}},methods:{onSelectionModeChange(e){return e.match(/^date/)&&(e="date"),this.selectionMode=Object(h.m)(e,["year","month","date","time"])&&e,this.selectionMode},handleTransferClick(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose(e){var t;return this.disableCloseUnderTransfer?this.disableCloseUnderTransfer=!1:e&&"mousedown"===e.type&&this.visible?(e.preventDefault(),void e.stopPropagation()):this.visible?(t=this.$refs.pickerPanel&&this.$refs.pickerPanel.$el,e&&t&&t.contains(e.target)?void 0:(this.visible=!1,e&&e.preventDefault(),e&&e.stopPropagation(),void this.$emit("on-clickoutside",e))):(this.isFocused=!1,void(this.disableClickOutSide=!1))},handleFocus(e){this.readonly||(this.isFocused=!0,e&&"focus"===e.type)||this.itemDisabled||(this.visible=!0)},handleBlur(e){this.internalFocus?this.internalFocus=!1:this.visible?e.preventDefault():(this.isFocused=!1,this.onSelectionModeChange(this.type),this.internalValue=this.internalValue.slice(),this.reset(),this.$refs.pickerPanel.onToggleVisibility(!1))},handleKeydown(e){const i=e.keyCode;if(9===i)if(this.visible)if(e.stopPropagation(),e.preventDefault(),this.isConfirm){const i=".ivu-picker-confirm > *",t=this.$refs.drop.$el.querySelectorAll(".ivu-picker-confirm > *");this.internalFocus=!0,[...t][e.shiftKey?"pop":"shift"]().focus()}else this.handleClose();else this.focused=!1;const t=[37,38,39,40];if(this.visible||!t.includes(i)){if(27===i&&this.visible&&(e.stopPropagation(),this.handleClose()),13===i){const e=Object(h.h)(this,"TimeSpinner");if(0<e.length){const i=e[0].showSeconds?3:2,t=Math.floor(this.focusedTime.column/i),s=this.focusedTime.time[t];return void e[t].chooseValue(s)}if(this.type.match(/range/))this.$refs.pickerPanel.handleRangePick(this.focusedDate,"date");else{const e=Object(h.h)(this,"PanelTable"),i=e=>{var t=["year","month","date"].indexOf(this.type)+1;return[e.getFullYear(),e.getMonth(),e.getDate()].slice(0,t).join("-")},t=e.find(({cells:e})=>e.find(({date:e,disabled:t})=>i(e)===i(this.focusedDate)&&!t));t&&this.onPick(this.focusedDate,!1,"date")}}t.includes(i)&&(this.focusedTime.active&&e.preventDefault(),this.navigateDatePanel(Ot[i],e.shiftKey))}else this.visible=!0},reset(){this.$refs.pickerPanel.reset&&this.$refs.pickerPanel.reset()},navigateTimePanel(i){this.focusedTime.active=!0;const e=i.match(/left|right/),t=i.match(/up|down/),s=Object(h.h)(this,"TimeSpinner"),n=(s[0].showSeconds?3:2)*s.length,r=(this.focusedTime.column+(e?"left"===i?-1:1:0)+n)%n,a=n/s.length,o=Math.floor(r/a),l=r%a;if(e){const i=this.internalValue.map(Nt);this.focusedTime={...this.focusedTime,column:r,time:i},s.forEach((e,t)=>{t===o?e.updateFocusedTime(l,i[o]):e.updateFocusedTime(-1,e.focusedTime)})}if(t){const e="up"===i?1:-1,t=["hours","minutes","seconds"],n=s[o][t[l]+"List"],r=n.findIndex(({text:e})=>this.focusedTime.time[o][l]===e),a=(r+e+n.length)%n.length,c=n[a].text,u=this.focusedTime.time.map((e,t)=>(t===o&&(e[l]=c),e));this.focusedTime={...this.focusedTime,time:u},s.forEach((e,t)=>{t===o?e.updateFocusedTime(l,u[t]):e.updateFocusedTime(-1,e.focusedTime)})}},navigateDatePanel(e,t){const i=Object(h.h)(this,"TimeSpinner");if(0<i.length)this.navigateTimePanel(e,t,i);else{if(t){"year"===this.type?this.focusedDate=new Date(this.focusedDate.getFullYear()+Lt(e,0,10),this.focusedDate.getMonth(),this.focusedDate.getDate()):this.focusedDate=new Date(this.focusedDate.getFullYear()+Lt(e,0,1),this.focusedDate.getMonth()+Lt(e,1,0),this.focusedDate.getDate());const t=e.match(/left|down/)?"prev":"next",i=e.match(/up|down/)?"-double":"",n=this.$refs.drop.$el.querySelector(`.ivu-date-picker-${t}-btn-arrow`+i);if(n){var s=n;const a="ivu-date-picker-btn-pulse";s.classList.add(a),setTimeout(()=>s.classList.remove(a),200);return}else return void 0}const n=this.focusedDate||this.internalValue&&this.internalValue[0]||new Date,r=new Date(n);if(this.type.match(/^date/)){const t=St(n.getFullYear(),n.getMonth()),i=n.getDate(),o=r.getDate()+Lt(e,1,7);o<1?e.match(/left|right/)?(r.setMonth(r.getMonth()+1),r.setDate(o)):r.setDate(i+7*Math.floor((t-i)/7)):o>t?e.match(/left|right/)?(r.setMonth(r.getMonth()-1),r.setDate(o)):r.setDate(i%7):r.setDate(o)}this.type.match(/^month/)&&r.setMonth(r.getMonth()+Lt(e,1,3)),this.type.match(/^year/)&&r.setFullYear(r.getFullYear()+Lt(e,1,3)),this.focusedDate=r}},handleInputChange(e){var t=this.type.includes("range")||this.multiple,i=this.visualValue,e=e.target.value,s=this.parseDate(e),n=this.options&&"function"==typeof this.options.disabledDate&&this.options.disabledDate,t=t?s:s[0],n=n&&n(t),t=s.reduce((e,t)=>e&&t instanceof Date,!0);e!==i&&!n&&t?(this.emitChange(this.type),this.internalValue=s):this.forceInputRerender++},handleInputMouseenter(){this.readonly||this.itemDisabled||this.visualValue&&this.clearable&&(this.showClose=!0)},handleInputMouseleave(){this.showClose=!1},handleIconClick(e){this.showClose?(e&&e.stopPropagation(),this.handleClear()):this.itemDisabled||this.handleFocus()},handleClear(){this.visible=!1,this.internalValue=this.internalValue.map(()=>null),this.$emit("on-clear"),this.dispatch("FormItem","on-form-change",""),this.emitChange(this.type),this.reset(),setTimeout(()=>this.onSelectionModeChange(this.type),500)},emitChange(e){this.$nextTick(()=>{this.$emit("on-change",this.publicStringValue,e),this.dispatch("FormItem","on-form-change",this.publicStringValue)})},parseDate(e){const t=this.type.includes("range"),i=this.type,s=(Et[i]||Et.default).parser,n=this.format||It[i],r=Et.multiple.parser;if(!e||"time"!==i||e instanceof Date)if(this.multiple&&e)e=r(e,n,this.separator);else if(t)if(e)if("string"==typeof e)e=s(e,n,this.separator);else if("timerange"===i)e=s(e,n,this.separator).map(e=>e||"");else{const[t,i]=e;t instanceof Date&&i instanceof Date?e=e.map(e=>new Date(e)):"string"==typeof t&&"string"==typeof i?e=s(e.join(this.separator),n,this.separator):t&&i||(e=[null,null])}else e=[null,null];else"string"==typeof e&&0!==i.indexOf("time")&&(e=s(e,n)||null);else e=s(e,n,this.separator);return t||this.multiple?e||[]:[e]},formatDate(e){var t,i=It[this.type];return(this.multiple?Et.multiple.formatter:(t=(Et[this.type]||Et.default).formatter,t))(e,this.format||i,this.separator)},onPick(e,t=!1,s){if(this.multiple){const t=e.getTime(),s=this.internalValue.findIndex(e=>e&&e.getTime()===t),i=[...this.internalValue,e].filter(Boolean),n=i.map(e=>e.getTime()).filter((e,t,i)=>i.indexOf(e)===t&&t!==s);this.internalValue=n.map(e=>new Date(e))}else e=this.parseDate(e),this.internalValue=Array.isArray(e)?e:[e];this.internalValue[0]&&(this.focusedDate=this.internalValue[0]),this.focusedTime={...this.focusedTime,time:this.internalValue.map(Nt)},this.isConfirm||this.onSelectionModeChange(this.type),this.isConfirm||(this.visible=t),this.emitChange(s)},onPickSuccess(){this.visible=!1,this.$emit("on-ok"),this.focus(),this.reset()},focus(){this.$refs.input&&this.$refs.input.focus()},updatePopper(){this.$refs.drop.update()}},watch:{visible(e){!1===e&&this.$refs.drop.destroy(),e&&this.$refs.drop.update(),this.$emit("on-open-change",e)},value(e){null===e&&(this.isValueNull=!0),this.internalValue=this.parseDate(e)},open(e){this.visible=!0===e},type(e){this.onSelectionModeChange(e)},publicVModelValue(e,t){JSON.stringify(e)===JSON.stringify(t)&&typeof e==typeof t||(this.isValueNull?(this.isValueNull=!1,this.$emit("input",null)):this.$emit("input",e))}},mounted(){null!==this.open&&(this.visible=this.open),this.$on("focus-input",()=>this.focus()),this.$on("update-popper",()=>this.updatePopper())},beforeDestroy(){this.$off("focus-input"),this.$off("update-popper")}},gt=Object(s.a)(_,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture].mousedown",value:t.handleClose,expression:"handleClose",arg:t.capture,modifiers:{mousedown:!0}},{name:"click-outside",rawName:"v-click-outside:[capture].touchstart",value:t.handleClose,expression:"handleClose",arg:t.capture,modifiers:{touchstart:!0}},{name:"click-outside",rawName:"v-click-outside:[capture]",value:t.handleClose,expression:"handleClose",arg:t.capture}],class:t.wrapperClasses},[e("div",{ref:"reference",class:[t.prefixCls+"-rel"]},[t._t("default",[e("i-input",{key:t.forceInputRerender,ref:"input",class:[t.prefixCls+"-editor"],attrs:{"element-id":t.elementId,readonly:!t.editable||t.readonly,disabled:t.itemDisabled,size:t.size,placeholder:t.placeholder,value:t.visualValue,name:t.name},on:{"on-input-change":t.handleInputChange,"on-focus":t.handleFocus,"on-blur":t.handleBlur},nativeOn:{click:function(e){return t.handleFocus(e)},keydown:function(e){return t.handleKeydown(e)},mouseenter:function(e){return t.handleInputMouseenter(e)},mouseleave:function(e){return t.handleInputMouseleave(e)}}},[e("Icon",{attrs:{slot:"suffix",type:t.arrowType,custom:t.customArrowType,size:t.arrowSize},on:{click:t.handleIconClick},slot:"suffix"})],1)])],2),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:t.dropdownCls,attrs:{placement:t.placement,eventsEnabled:t.eventsEnabled,"data-transfer":t.transfer,transfer:t.transfer},nativeOn:{click:function(e){return t.handleTransferClick(e)}}},[e("div",[e(t.panel,t._b({ref:"pickerPanel",tag:"component",attrs:{visible:t.visible,showTime:"datetime"===t.type||"datetimerange"===t.type,confirm:t.isConfirm,selectionMode:t.selectionMode,steps:t.steps,format:t.format,value:t.internalValue,"start-date":t.startDate,"split-panels":t.splitPanels,"show-week-numbers":t.showWeekNumbers,"picker-type":t.type,multiple:t.multiple,"focused-date":t.focusedDate,"time-picker-options":t.timePickerOptions},on:{"on-pick":t.onPick,"on-pick-clear":t.handleClear,"on-pick-success":t.onPickSuccess,"on-pick-click":function(e){t.disableClickOutSide=!0},"on-selection-mode-change":t.onSelectionModeChange}},"component",t.ownPickerProps,!1))],1)])],1)],1)},[],!1,null,null,null).exports,_=e("571b"),Mt=e.n(_),_={name:"PanelTable",props:{tableDate:{type:Date,required:!0},disabledDate:{type:Function},selectionMode:{type:String,required:!0},value:{type:Array,required:!0},rangeState:{type:Object,default:()=>({from:null,to:null,selecting:!1})},focusedDate:{type:Date,required:!0}},computed:{dates(){var{selectionMode:e,value:t,rangeState:i}=this;return"range"===e&&i.selecting?[i.from]:t}},methods:{handleClick(e,t){t.stopPropagation(),e.disabled||"weekLabel"===e.type||(t=new Date(k(e.date)),this.$emit("on-pick",t),this.$emit("on-pick-click"))},handleMouseMove(e){this.rangeState.selecting&&!e.disabled&&(e=e.date,this.$emit("on-change-range",e))}}},Bt="ivu-date-picker-cells",Ft={mixins:[d,_],props:{showWeekNumbers:{type:Boolean,default:!1}},data(){return{prefixCls:Bt}},computed:{classes(){return[Bt,{"ivu-date-picker-cells-show-week-numbers":this.showWeekNumbers}]},calendar(){var e=Number(this.t("i.datepicker.weekStartDay"));return new Mt.a.Generator({onlyDays:!this.showWeekNumbers,weekStart:e})},headerDays(){var e=Number(this.t("i.datepicker.weekStartDay")),t=["sun","mon","tue","wed","thu","fri","sat"].map(e=>this.t("i.datepicker.weeks."+e)),t=t.splice(e,7-e).concat(t.splice(0,e));return this.showWeekNumbers?[""].concat(t):t},cells(){const e=this.tableDate.getFullYear(),r=this.tableDate.getMonth(),a=k(new Date),o=this.dates.filter(Boolean).map(k),[l,c]=this.dates.map(k),u=this.rangeState.from&&k(this.rangeState.from),h=this.rangeState.to&&k(this.rangeState.to),d="range"===this.selectionMode,p="function"==typeof this.disabledDate&&this.disabledDate;return this.calendar(e,r,e=>{e.date instanceof Date&&e.date.setTime(e.date.getTime()+6e4*e.date.getTimezoneOffset()+288e5);var t,i,s=e.date&&k(e.date),n=e.date&&r===e.date.getMonth();return{...e,type:s===a?"today":e.type,selected:n&&o.includes(s),disabled:e.date&&p&&p(new Date(s)),range:n&&d&&(e=s,t=u,i=h,!(!t||!i))&&([t,i]=[t,i].sort(),t<=e)&&e<=i,start:n&&d&&s===l,end:n&&d&&s===c}}).cells.slice(this.showWeekNumbers?8:0)}},methods:{getCellCls(e){return[Bt+"-cell",{"ivu-date-picker-cells-cell-selected":e.selected||e.start||e.end,"ivu-date-picker-cells-cell-disabled":e.disabled,"ivu-date-picker-cells-cell-today":"today"===e.type,"ivu-date-picker-cells-cell-prev-month":"prevMonth"===e.type,"ivu-date-picker-cells-cell-next-month":"nextMonth"===e.type,"ivu-date-picker-cells-cell-week-label":"weekLabel"===e.type,"ivu-date-picker-cells-cell-range":e.range&&!e.start&&!e.end,"ivu-date-picker-cells-focused":k(e.date)===k(this.focusedDate)}]}}},Ft=Object(s.a)(Ft,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes},[s("div",{class:[i.prefixCls+"-header"]},i._l(i.headerDays,function(e){return s("span",{key:e},[i._v(" "+i._s(e)+" ")])}),0),i._l(i.cells,function(t,e){return s("span",{key:String(t.date)+e,class:i.getCellCls(t),on:{click:function(e){return i.handleClick(t,e)},mouseenter:function(e){return i.handleMouseMove(t)}}},[s("em",[i._v(i._s(t.desc))])])})],2)},[],!1,null,null,null).exports,T={mixins:[_],props:{},computed:{classes(){return[Bt,Bt+"-year"]},startYear(){return 10*Math.floor(this.tableDate.getFullYear()/10)},cells(){var t=[],i={text:"",selected:!1,disabled:!1},s=this.dates.filter(Boolean).map(e=>k(new Date(e.getFullYear(),0,1))),n=k(new Date(this.focusedDate.getFullYear(),0,1));for(let e=0;e<10;e++){var r=Object(h.c)(i),a=(r.date=new Date(this.startYear+e,0,1),r.disabled="function"==typeof this.disabledDate&&this.disabledDate(r.date)&&"year"===this.selectionMode,k(r.date));r.selected=s.includes(a),r.focused=a===n,t.push(r)}return t}},methods:{getCellCls(e){return[Bt+"-cell",{"ivu-date-picker-cells-cell-selected":e.selected,"ivu-date-picker-cells-cell-disabled":e.disabled,"ivu-date-picker-cells-cell-focused":e.focused,"ivu-date-picker-cells-cell-range":e.range&&!e.start&&!e.end}]}}},T=Object(s.a)(T,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes},i._l(i.cells,function(t){return s("span",{class:i.getCellCls(t),on:{click:function(e){return i.handleClick(t,e)},mouseenter:function(e){return i.handleMouseMove(t)}}},[s("em",[i._v(i._s(t.date.getFullYear()))])])}),0)},[],!1,null,null,null).exports,_={mixins:[d,_],props:{},computed:{classes(){return[Bt,Bt+"-month"]},cells(){var t=[],i={text:"",selected:!1,disabled:!1},s=this.tableDate.getFullYear(),n=this.dates.filter(Boolean).map(e=>k(new Date(e.getFullYear(),e.getMonth(),1))),r=k(new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1));for(let e=0;e<12;e++){var a=Object(h.c)(i),o=(a.date=new Date(s,e,1),a.text=this.tCell(e+1),k(a.date));a.disabled="function"==typeof this.disabledDate&&this.disabledDate(a.date)&&"month"===this.selectionMode,a.selected=n.includes(o),a.focused=o===r,t.push(a)}return t}},methods:{getCellCls(e){return[Bt+"-cell",{"ivu-date-picker-cells-cell-selected":e.selected,"ivu-date-picker-cells-cell-disabled":e.disabled,"ivu-date-picker-cells-cell-focused":e.focused,"ivu-date-picker-cells-cell-range":e.range&&!e.start&&!e.end}]},tCell(e){return this.t("i.datepicker.months.m"+e)}}},_=Object(s.a)(_,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes},i._l(i.cells,function(t){return s("span",{class:i.getCellCls(t),on:{click:function(e){return i.handleClick(t,e)},mouseenter:function(e){return i.handleMouseMove(t)}}},[s("em",[i._v(i._s(t.text))])])}),0)},[],!1,null,null,null).exports,Rt={props:{disabledHours:{type:Array,default(){return[]}},disabledMinutes:{type:Array,default(){return[]}},disabledSeconds:{type:Array,default(){return[]}},hideDisabledOptions:{type:Boolean,default:!1}}};const $t="ivu-time-picker-cells",Ut=["hours","minutes","seconds"];var I={name:"TimeSpinner",mixins:[Rt],props:{hours:{type:[Number,String],default:NaN},minutes:{type:[Number,String],default:NaN},seconds:{type:[Number,String],default:NaN},showSeconds:{type:Boolean,default:!0},steps:{type:Array,default:()=>[]}},data(){return{spinerSteps:[1,1,1].map((e,t)=>Math.abs(this.steps[t])||e),prefixCls:$t,compiled:!1,focusedColumn:-1,focusedTime:[0,0,0]}},computed:{classes(){return[$t,{"ivu-time-picker-cells-with-seconds":this.showSeconds}]},hoursList(){var t=[];const i=this.spinerSteps[0],s=0===this.focusedColumn&&this.focusedTime[0],n={text:0,selected:!1,disabled:!1,hide:!1};for(let e=0;e<24;e+=i){const i=Object(h.c)(n);i.text=e,i.focused=e===s,this.disabledHours.length&&-1<this.disabledHours.indexOf(e)&&(i.disabled=!0,this.hideDisabledOptions)&&(i.hide=!0),this.hours===e&&(i.selected=!0),t.push(i)}return t},minutesList(){var t=[];const i=this.spinerSteps[1],s=1===this.focusedColumn&&this.focusedTime[1],n={text:0,selected:!1,disabled:!1,hide:!1};for(let e=0;e<60;e+=i){const i=Object(h.c)(n);i.text=e,i.focused=e===s,this.disabledMinutes.length&&-1<this.disabledMinutes.indexOf(e)&&(i.disabled=!0,this.hideDisabledOptions)&&(i.hide=!0),this.minutes===e&&(i.selected=!0),t.push(i)}return t},secondsList(){var t=[];const i=this.spinerSteps[2],s=2===this.focusedColumn&&this.focusedTime[2],n={text:0,selected:!1,disabled:!1,hide:!1};for(let e=0;e<60;e+=i){const i=Object(h.c)(n);i.text=e,i.focused=e===s,this.disabledSeconds.length&&-1<this.disabledSeconds.indexOf(e)&&(i.disabled=!0,this.hideDisabledOptions)&&(i.hide=!0),this.seconds===e&&(i.selected=!0),t.push(i)}return t}},methods:{getCellCls(e){return[$t+"-cell",{"ivu-time-picker-cells-cell-selected":e.selected,"ivu-time-picker-cells-cell-focused":e.focused,"ivu-time-picker-cells-cell-disabled":e.disabled}]},chooseValue(s){var e=Ut.reduce((e,t,i)=>{i=s[i];return this[t]===i?e:{...e,[t]:i}},{});0<Object.keys(e).length&&this.emitChange(e)},handleClick(e,t){t.disabled||(e={[e]:t.text},this.emitChange(e))},emitChange(e){this.$emit("on-change",e),this.$emit("on-pick-click")},scroll(e,t){var i=this.$refs[e].scrollTop,t=24*this.getScrollIndex(e,t);Object(h.o)(this.$refs[e],i,t,500)},getScrollIndex(e,i){e=this["disabled"+Object(h.j)(e)];if(e.length&&this.hideDisabledOptions){let t=0;e.forEach(e=>e<=i?t++:""),i-=t}return i},updateScroll(){this.$nextTick(()=>{Ut.forEach(t=>{this.$refs[t].scrollTop=24*this[t+"List"].findIndex(e=>e.text==this[t])})})},formatTime(e){return e<10?"0"+e:e},updateFocusedTime(e,t){this.focusedColumn=e,this.focusedTime=t.slice()}},watch:{hours(t){this.compiled&&this.scroll("hours",this.hoursList.findIndex(e=>e.text==t))},minutes(t){this.compiled&&this.scroll("minutes",this.minutesList.findIndex(e=>e.text==t))},seconds(t){this.compiled&&this.scroll("seconds",this.secondsList.findIndex(e=>e.text==t))},focusedTime(s,n){Ut.forEach((e,t)=>{var i;s[t]!==n[t]&&void 0!==s[t]&&(i=this[e+"List"].findIndex(e=>e.text===s[t]),this.scroll(e,i))})}},mounted(){this.$nextTick(()=>this.compiled=!0)}},I=Object(s.a)(I,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes},[s("div",{ref:"hours",class:[i.prefixCls+"-list"]},[s("ul",{class:[i.prefixCls+"-ul"]},i._l(i.hoursList,function(t){return s("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:i.getCellCls(t),on:{click:function(e){return i.handleClick("hours",t)}}},[i._v(i._s(i.formatTime(t.text)))])}),0)]),s("div",{ref:"minutes",class:[i.prefixCls+"-list"]},[s("ul",{class:[i.prefixCls+"-ul"]},i._l(i.minutesList,function(t){return s("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:i.getCellCls(t),on:{click:function(e){return i.handleClick("minutes",t)}}},[i._v(i._s(i.formatTime(t.text)))])}),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:i.showSeconds,expression:"showSeconds"}],ref:"seconds",class:[i.prefixCls+"-list"]},[s("ul",{class:[i.prefixCls+"-ul"]},i._l(i.secondsList,function(t){return s("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:i.getCellCls(t),on:{click:function(e){return i.handleClick("seconds",t)}}},[i._v(i._s(i.formatTime(t.text)))])}),0)])])},[],!1,null,null,null).exports;const jt="ivu-picker";var Vt={mixins:[d,c],components:{iButton:v},props:{showTime:!1,isTime:!1,timeDisabled:!1},data(){return{prefixCls:jt}},computed:{timeClasses(){return jt+"-confirm-time"},labels(){const s=[this.isTime?"selectDate":"selectTime","clear","ok"];return["time","clear","ok"].reduce((e,t,i)=>(e[t]=this.t("i.datepicker."+s[i]),e),{})}},methods:{handleClear(){this.$emit("on-pick-clear")},handleSuccess(){this.$emit("on-pick-success")},handleToggleTime(){this.timeDisabled||(this.$emit("on-pick-toggle-time"),this.dispatch("CalendarPicker","focus-input"),this.dispatch("CalendarPicker","update-popper"))},handleTab(e){var t=[...this.$el.children][e.shiftKey?"shift":"pop"]();document.activeElement===t&&(e.preventDefault(),e.stopPropagation(),this.dispatch("CalendarPicker","focus-input"))}}},Vt=Object(s.a)(Vt,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:[t.prefixCls+"-confirm"],on:{"!keydown":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleTab(e)}}},[t.showTime?e("i-button",{class:t.timeClasses,attrs:{size:"small",type:"text",disabled:t.timeDisabled},on:{click:t.handleToggleTime}},[t._v(" "+t._s(t.labels.time)+" ")]):t._e(),e("i-button",{attrs:{size:"small"},nativeOn:{click:function(e){return t.handleClear(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleClear(e)}}},[t._v(" "+t._s(t.labels.clear)+" ")]),e("i-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){return t.handleSuccess(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSuccess(e)}}},[t._v(" "+t._s(t.labels.ok)+" ")])],1)},[],!1,null,null,null).exports;const zt="ivu-date-picker";var P={props:{confirm:{type:Boolean,default:!1}},methods:{iconBtnCls(e,t=""){return["ivu-picker-panel-icon-btn",zt+`-${e}-btn`,zt+`-${e}-btn-arrow`+t]},handleShortcutClick(e){e.value&&this.$emit("on-pick",e.value()),e.onClick&&e.onClick(this)},handlePickClear(){this.resetView(),this.$emit("on-pick-clear")},handlePickSuccess(){this.resetView(),this.$emit("on-pick-success")},handlePickClick(){this.$emit("on-pick-click")},resetView(){setTimeout(()=>this.currentView=this.selectionMode,500)},handleClear(){this.dates=this.dates.map(()=>null),this.rangeState={},this.$emit("on-pick",this.dates),this.handleConfirm()},handleConfirm(e,t){this.$emit("on-pick",this.dates,e,t||this.type)},onToggleVisibility(e){var{timeSpinner:t,timeSpinnerEnd:i}=this.$refs;e&&t&&t.updateScroll(),e&&i&&i.updateScroll()}}};const Wt=(e,t,i)=>i.indexOf(e)===t,Ht=()=>!1;var qt={name:"TimePickerPanel",mixins:[P,d,Rt],components:{TimeSpinner:I,Confirm:Vt},props:{disabledDate:{type:Function,default:Ht},steps:{type:Array,default:()=>[]},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data(){return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",date:this.value[0]||x(),showDate:!1}},computed:{showSeconds(){return!!(this.format||"").match(/ss/)},visibleDate(){var e=this.date,t=e.getMonth()+1,i=this.t("i.datepicker.year"),t=this.t("i.datepicker.month"+t);return""+e.getFullYear()+i+" "+t},timeSlots(){return this.value[0]?["getHours","getMinutes","getSeconds"].map(e=>this.date[e]()):[]},disabledHMS(){var e=["disabledHours","disabledMinutes","disabledSeconds"];if(this.disabledDate!==Ht&&this.value[0]){const i=[24,60,60],t=["Hours","Minutes","Seconds"].map(e=>this["disabled"+e]),s=t.map((e,s)=>{const t=i[s],n=e;for(let i=0;i<t;i+=this.steps[s]||1){const e=this.timeSlots.map((e,t)=>t===s?i:e),t=((e,t,i,s)=>{e=new Date(e.getTime());return e.setHours(t),e.setMinutes(i),e.setSeconds(s),e})(this.date,...e);this.disabledDate(t,!0)&&n.push(i)}return n.filter(Wt)});return e.reduce((e,t,i)=>(e[t]=s[i],e),{})}return e.reduce((e,t)=>(e[t]=this[t],e),{})}},watch:{value(e){e=e[0]||x(),e=new Date(e);this.date=e}},methods:{handleChange(i,e=!0){const s=new Date(this.date);Object.keys(i).forEach(e=>{return s["set"+((t=e)[0].toUpperCase()+t.slice(1))](i[e]);var t}),e&&this.$emit("on-pick",s,"time")}},mounted(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)}},qt=Object(s.a)(qt,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:[e.prefixCls+"-body-wrapper"],on:{mousedown:function(e){e.preventDefault()}}},[t("div",{class:[e.prefixCls+"-body"]},[e.showDate?t("div",{class:[e.timePrefixCls+"-header"]},[e._v(e._s(e.visibleDate))]):e._e(),t("div",{class:[e.prefixCls+"-content"]},[t("time-spinner",{ref:"timeSpinner",attrs:{"show-seconds":e.showSeconds,steps:e.steps,hours:e.timeSlots[0],minutes:e.timeSlots[1],seconds:e.timeSlots[2],"disabled-hours":e.disabledHMS.disabledHours,"disabled-minutes":e.disabledHMS.disabledMinutes,"disabled-seconds":e.disabledHMS.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleChange,"on-pick-click":e.handlePickClick}})],1),e.confirm?t("Confirm",{on:{"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},[],!1,null,null,null).exports,A={props:{datePanelLabel:Object,currentView:String,datePrefixCls:String}},A=Object(s.a)(A,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("span",[e.datePanelLabel?t("span",{directives:[{name:"show",rawName:"v-show",value:"year"===e.datePanelLabel.labels[0].type||"date"===e.currentView,expression:"datePanelLabel.labels[0].type === 'year' || currentView === 'date'"}],class:[e.datePrefixCls+"-header-label"],on:{click:e.datePanelLabel.labels[0].handler}},[e._v(e._s(e.datePanelLabel.labels[0].label))]):e._e(),e.datePanelLabel&&"date"===e.currentView?[e._v(e._s(e.datePanelLabel.separator))]:e._e(),e.datePanelLabel?t("span",{directives:[{name:"show",rawName:"v-show",value:"year"===e.datePanelLabel.labels[1].type||"date"===e.currentView,expression:"datePanelLabel.labels[1].type === 'year' || currentView === 'date'"}],class:[e.datePrefixCls+"-header-label"],on:{click:e.datePanelLabel.labels[1].handler}},[e._v(e._s(e.datePanelLabel.labels[1].label))]):e._e()],2)},[],!1,null,null,null).exports,Gt={props:{showTime:{type:Boolean,default:!1},format:{type:String,default:"yyyy-MM-dd"},selectionMode:{type:String,validator(e){return Object(h.m)(e,["year","month","date","time"])},default:"date"},shortcuts:{type:Array,default:()=>[]},disabledDate:{type:Function,default:()=>!1},value:{type:Array,default:()=>[x(),x()]},timePickerOptions:{default:()=>({}),type:Object},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},pickerType:{type:String,require:!0},focusedDate:{type:Date,required:!0}},computed:{isTime(){return"time"===this.currentView}},methods:{handleToggleTime(){this.currentView="time"===this.currentView?"date":"time"}}};const Yt="ivu-picker-panel";var E={name:"DatePickerPanel",mixins:[P,d,Gt],components:{Icon:n,DateTable:Ft,YearTable:T,MonthTable:_,TimePicker:qt,Confirm:Vt,datePanelLabel:A},props:{multiple:{type:Boolean,default:!1}},data(){var{selectionMode:e,value:t}=this,t=t.slice().sort();return{prefixCls:Yt,datePrefixCls:"ivu-date-picker",currentView:e||"date",pickerTable:this.getTableType(e),dates:t,panelDate:this.startDate||t[0]||new Date}},computed:{classes(){return[Yt+"-body-wrapper",{"ivu-picker-panel-with-sidebar":this.shortcuts.length}]},panelPickerHandlers(){return this.pickerTable===this.currentView+"-table"?this.handlePick:this.handlePreSelection},datePanelLabel(){const e=this.t("i.locale"),t=this.t("i.datepicker.datePanelLabel"),i=this.panelDate,{labels:s,separator:n}=Tt(e,t,i),r=e=>()=>this.pickerTable=this.getTableType(e);return{separator:n,labels:s.map(e=>(e.handler=r(e.type),e))}},timeDisabled(){return!this.dates[0]}},watch:{value(e){this.dates=e;e=this.multiple?this.dates[this.dates.length-1]:this.startDate||this.dates[0];this.panelDate=e||new Date},currentView(e){this.$emit("on-selection-mode-change",e),"time"===this.currentView&&this.$nextTick(()=>{this.$refs.timePicker.$refs.timeSpinner.updateScroll()})},selectionMode(e){this.currentView=e,this.pickerTable=this.getTableType(e)},focusedDate(e){var t=e.getFullYear()!==this.panelDate.getFullYear(),i=t||e.getMonth()!==this.panelDate.getMonth();!t&&!i||this.multiple||(this.panelDate=e)}},methods:{reset(){this.currentView=this.selectionMode,this.pickerTable=this.getTableType(this.currentView)},changeYear(e){"year"===this.selectionMode||"year-table"===this.pickerTable?this.panelDate=new Date(this.panelDate.getFullYear()+10*e,0,1):this.panelDate=_t(this.panelDate,12*e)},getTableType(e){return e.match(/^time/)?"time-picker":e+"-table"},changeMonth(e){this.panelDate=_t(this.panelDate,e)},handlePreSelection(e){this.panelDate=e,"year-table"===this.pickerTable?this.pickerTable="month-table":this.pickerTable=this.getTableType(this.currentView)},handlePick(e,t){var{selectionMode:i,panelDate:s}=this;e="year"===i?new Date(e.getFullYear(),0,1):"month"===i?new Date(s.getFullYear(),e.getMonth(),1):new Date(e),this.dates=[e],this.$emit("on-pick",e,!1,t||i)}}},E=Object(s.a)(E,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes,on:{mousedown:function(e){e.preventDefault()}}},[i.shortcuts.length?s("div",{class:[i.prefixCls+"-sidebar"]},i._l(i.shortcuts,function(t){return s("div",{class:[i.prefixCls+"-shortcut"],on:{click:function(e){return i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),s("div",{class:[i.prefixCls+"-body"]},[s("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],class:[i.datePrefixCls+"-header"]},[s("span",{class:i.iconBtnCls("prev","-double"),on:{click:function(e){return i.changeYear(-1)}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1),"date-table"===i.pickerTable?s("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("prev"),on:{click:function(e){return i.changeMonth(-1)}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),s("date-panel-label",{attrs:{"date-panel-label":i.datePanelLabel,"current-view":i.pickerTable.split("-").shift(),"date-prefix-cls":i.datePrefixCls}}),s("span",{class:i.iconBtnCls("next","-double"),on:{click:function(e){return i.changeYear(1)}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1),"date-table"===i.pickerTable?s("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("next"),on:{click:function(e){return i.changeMonth(1)}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e()],1),s("div",{class:[i.prefixCls+"-content"]},["time"!==i.currentView?s(i.pickerTable,{ref:"pickerTable",tag:"component",attrs:{"table-date":i.panelDate,"show-week-numbers":i.showWeekNumbers,value:i.dates,"selection-mode":i.selectionMode,"disabled-date":i.disabledDate,"focused-date":i.focusedDate},on:{"on-pick":i.panelPickerHandlers,"on-pick-click":i.handlePickClick}}):i._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isTime,expression:"isTime"}],class:[i.prefixCls+"-content"]},["time"===i.currentView?s("time-picker",i._b({ref:"timePicker",attrs:{value:i.dates,format:i.format,"time-disabled":i.timeDisabled,"disabled-date":i.disabledDate,"focused-date":i.focusedDate},on:{"on-pick":i.handlePick,"on-pick-click":i.handlePickClick,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess,"on-pick-toggle-time":i.handleToggleTime}},"time-picker",i.timePickerOptions,!1)):i._e()],1),i.confirm?s("Confirm",{attrs:{"show-time":i.showTime,"is-time":i.isTime},on:{"on-pick-toggle-time":i.handleToggleTime,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess}}):i._e()],1)])},[],!1,null,null,null).exports;const Qt="ivu-picker-panel",Kt="ivu-time-picker",Xt=e=>e[0].toUpperCase()+e.slice(1);I={name:"RangeTimePickerPanel",mixins:[P,d,Rt],components:{TimeSpinner:I,Confirm:Vt},props:{steps:{type:Array,default:()=>[]},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data(){var[e,t]=this.value.slice();return{prefixCls:Qt,timePrefixCls:Kt,showDate:!1,dateStart:e||x(),dateEnd:t||x()}},computed:{classes(){return[Qt+"-body-wrapper",Kt+"-with-range",{"ivu-time-picker-with-seconds":this.showSeconds}]},showSeconds(){return!!(this.format||"").match(/ss/)},leftDatePanelLabel(){return this.panelLabelConfig(this.date)},rightDatePanelLabel(){return this.panelLabelConfig(this.dateEnd)}},watch:{value(e){var[e,t]=e.slice();this.dateStart=e||x(),this.dateEnd=t||x()}},methods:{panelLabelConfig(e){var t=this.t("i.locale"),i=this.t("i.datepicker.datePanelLabel"),{labels:t,separator:i}=Tt(t,i,e||x());return[t[0].label,i,t[1].label].join("")},handleChange(t,i,e=!0){const s=new Date(this.dateStart);let n=new Date(this.dateEnd);Object.keys(t).forEach(e=>{s["set"+Xt(e)](t[e])}),Object.keys(i).forEach(e=>{n["set"+Xt(e)](i[e])}),n<s&&(n=s),e&&this.$emit("on-pick",[s,n],"time")},handleStartChange(e){this.handleChange(e,{})},handleEndChange(e){this.handleChange({},e)},updateScroll(){this.$refs.timeSpinner.updateScroll(),this.$refs.timeSpinnerEnd.updateScroll()}},mounted(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)}},I=Object(s.a)(I,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.classes,on:{mousedown:function(e){e.preventDefault()}}},[t("div",{class:[e.prefixCls+"-body"]},[t("div",{class:[e.prefixCls+"-content",e.prefixCls+"-content-left"]},[t("div",{class:[e.timePrefixCls+"-header"]},[e.showDate?[e._v(e._s(e.leftDatePanelLabel))]:[e._v(e._s(e.t("i.datepicker.startTime")))]],2),t("time-spinner",{ref:"timeSpinner",attrs:{steps:e.steps,"show-seconds":e.showSeconds,hours:e.value[0]&&e.dateStart.getHours(),minutes:e.value[0]&&e.dateStart.getMinutes(),seconds:e.value[0]&&e.dateStart.getSeconds(),"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleStartChange,"on-pick-click":e.handlePickClick}})],1),t("div",{class:[e.prefixCls+"-content",e.prefixCls+"-content-right"]},[t("div",{class:[e.timePrefixCls+"-header"]},[e.showDate?[e._v(e._s(e.rightDatePanelLabel))]:[e._v(e._s(e.t("i.datepicker.endTime")))]],2),t("time-spinner",{ref:"timeSpinnerEnd",attrs:{steps:e.steps,"show-seconds":e.showSeconds,hours:e.value[1]&&e.dateEnd.getHours(),minutes:e.value[1]&&e.dateEnd.getMinutes(),seconds:e.value[1]&&e.dateEnd.getSeconds(),"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleEndChange,"on-pick-click":e.handlePickClick}})],1),e.confirm?t("Confirm",{on:{"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},[],!1,null,null,null).exports;const Zt="ivu-picker-panel",Jt="ivu-date-picker",ei=(e,t)=>e&&t?e.getTime()-t.getTime():0;P={name:"RangeDatePickerPanel",mixins:[P,d,Gt],components:{Icon:n,DateTable:Ft,YearTable:T,MonthTable:_,TimePicker:I,Confirm:Vt,datePanelLabel:A},props:{splitPanels:{type:Boolean,default:!1}},data(){var[e,t]=this.value.map(e=>e||x()),i=this.startDate||e;return{prefixCls:Zt,datePrefixCls:Jt,dates:this.value,rangeState:{from:this.value[0],to:this.value[1],selecting:e&&!t},currentView:this.selectionMode||"range",leftPickerTable:this.selectionMode+"-table",rightPickerTable:this.selectionMode+"-table",leftPanelDate:i,rightPanelDate:new Date(i.getFullYear(),i.getMonth()+1,1)}},computed:{classes(){return[Zt+"-body-wrapper",Jt+"-with-range",{"ivu-picker-panel-with-sidebar":this.shortcuts.length,"ivu-date-picker-with-week-numbers":this.showWeekNumbers}]},panelBodyClasses(){return[Zt+"-body",{"ivu-picker-panel-body-time":this.showTime,"ivu-picker-panel-body-date":!this.showTime}]},leftDatePanelLabel(){return this.panelLabelConfig("left")},rightDatePanelLabel(){return this.panelLabelConfig("right")},leftDatePanelView(){return this.leftPickerTable.split("-").shift()},rightDatePanelView(){return this.rightPickerTable.split("-").shift()},timeDisabled(){return!(this.dates[0]&&this.dates[1])},preSelecting(){var e=this.currentView+"-table";return{left:this.leftPickerTable!==e,right:this.rightPickerTable!==e}},panelPickerHandlers(){return{left:this.preSelecting.left?this.handlePreSelection.bind(this,"left"):this.handleRangePick,right:this.preSelecting.right?this.handlePreSelection.bind(this,"right"):this.handleRangePick}}},watch:{value(e){var t=e[0]?xt(e[0]):null,e=e[1]?xt(e[1]):null;this.dates=[t,e].sort(ei),this.rangeState={from:this.dates[0],to:this.dates[1],selecting:!1},this.setPanelDates(this.startDate||this.dates[0]||new Date)},currentView(e){var t=this.leftPanelDate.getMonth(),i=this.rightPanelDate.getMonth(),s=this.leftPanelDate.getFullYear()===this.rightPanelDate.getFullYear();"date"===e&&s&&t===i&&this.changePanelDate("right","Month",1),"month"===e&&s&&this.changePanelDate("right","FullYear",1),"year"===e&&s&&this.changePanelDate("right","FullYear",10)},selectionMode(e){this.currentView=e||"range"},focusedDate(e){this.setPanelDates(e||new Date)}},methods:{reset(){this.currentView=this.selectionMode,this.leftPickerTable=this.currentView+"-table",this.rightPickerTable=this.currentView+"-table"},setPanelDates(e){this.leftPanelDate=e;var e=new Date(e.getFullYear(),e.getMonth()+1,1),t=this.dates[1]&&this.dates[1].getTime();this.rightPanelDate=this.splitPanels?new Date(Math.max(t,e.getTime())):e},panelLabelConfig(i){const e=this.t("i.locale"),t=this.t("i.datepicker.datePanelLabel"),s=e=>{const t="month"==e?this.showMonthPicker:this.showYearPicker;return()=>t(i)},n=this[i+"PanelDate"],{labels:r,separator:a}=Tt(e,t,n);return{separator:a,labels:r.map(e=>(e.handler=s(e.type),e))}},prevYear(e){var t="year"===this.currentView?-10:-1;this.changePanelDate(e,"FullYear",t)},nextYear(e){var t="year"===this.currentView?10:1;this.changePanelDate(e,"FullYear",t)},prevMonth(e){this.changePanelDate(e,"Month",-1)},nextMonth(e){this.changePanelDate(e,"Month",1)},changePanelDate(e,t,i,s=!0){const n=new Date(this[e+"PanelDate"]);if("FullYear"===t?n["set"+t](n["get"+t]()+i):n["set"+t](n["get"+t]()+i,1),this[e+"PanelDate"]=n,s)if(this.splitPanels){const i="left"===e?"right":"left";"left"===e&&this.leftPanelDate>=this.rightPanelDate&&this.changePanelDate(i,t,1),"right"===e&&this.rightPanelDate<=this.leftPanelDate&&this.changePanelDate(i,t,-1)}else{const s="left"===e?"right":"left",n=this[s+"PanelDate"],r=new Date(n);if("Month"===t){const e=new Date(r.getFullYear(),r.getMonth()+i+1,0).getDate();r.setDate(Math.min(e,r.getDate()))}r["set"+t](r["get"+t]()+i),this[s+"PanelDate"]=r}},showYearPicker(e){this[e+"PickerTable"]="year-table"},showMonthPicker(e){this[e+"PickerTable"]="month-table"},handlePreSelection(e,t){this[e+"PanelDate"]=t;const i=this[e+"PickerTable"];if(this[e+"PickerTable"]="year-table"===i?"month-table":this.currentView+"-table",!this.splitPanels){const i="left"===e?"right":"left";this[i+"PanelDate"]=t;e="left"==i?-1:1;this.changePanelDate(i,"Month",e,!1)}},handleRangePick(e,t){if(this.rangeState.selecting||"time"===this.currentView){if("time"===this.currentView)this.dates=e;else{const[t,i]=[this.rangeState.from,e].sort(ei);this.dates=[t,i],this.rangeState={from:t,to:i,selecting:!1}}this.handleConfirm(!1,t||"date")}else this.rangeState={from:e,to:null,selecting:!0}},handleChangeRange(e){this.rangeState.to=e}}},Gt={name:"CalendarPicker",mixins:[gt],props:{type:{validator(e){return Object(h.m)(e,["year","month","date","daterange","datetime","datetimerange"])},default:"date"}},components:{DatePickerPanel:E,RangeDatePickerPanel:Object(s.a)(P,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes,on:{mousedown:function(e){e.preventDefault()}}},[i.shortcuts.length?s("div",{class:[i.prefixCls+"-sidebar"]},i._l(i.shortcuts,function(t){return s("div",{class:[i.prefixCls+"-shortcut"],on:{click:function(e){return i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),s("div",{class:i.panelBodyClasses},[s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isTime,expression:"!isTime"}],class:[i.prefixCls+"-content",i.prefixCls+"-content-left"]},[s("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],class:[i.datePrefixCls+"-header"]},[s("span",{class:i.iconBtnCls("prev","-double"),on:{click:function(e){return i.prevYear("left")}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1),"date-table"===i.leftPickerTable?s("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("prev"),on:{click:function(e){return i.prevMonth("left")}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),s("date-panel-label",{attrs:{"date-panel-label":i.leftDatePanelLabel,"current-view":i.leftDatePanelView,"date-prefix-cls":i.datePrefixCls}}),i.splitPanels||"date-table"!==i.leftPickerTable?s("span",{class:i.iconBtnCls("next","-double"),on:{click:function(e){return i.nextYear("left")}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e(),i.splitPanels&&"date-table"===i.leftPickerTable?s("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("next"),on:{click:function(e){return i.nextMonth("left")}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e()],1),"time"!==i.currentView?s(i.leftPickerTable,{ref:"leftYearTable",tag:"component",attrs:{"table-date":i.leftPanelDate,"selection-mode":"range","disabled-date":i.disabledDate,"range-state":i.rangeState,"show-week-numbers":i.showWeekNumbers,value:i.preSelecting.left?[i.dates[0]]:i.dates,"focused-date":i.focusedDate},on:{"on-change-range":i.handleChangeRange,"on-pick":i.panelPickerHandlers.left,"on-pick-click":i.handlePickClick}}):i._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isTime,expression:"!isTime"}],class:[i.prefixCls+"-content",i.prefixCls+"-content-right"]},[s("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],class:[i.datePrefixCls+"-header"]},[i.splitPanels||"date-table"!==i.rightPickerTable?s("span",{class:i.iconBtnCls("prev","-double"),on:{click:function(e){return i.prevYear("right")}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),i.splitPanels&&"date-table"===i.rightPickerTable?s("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("prev"),on:{click:function(e){return i.prevMonth("right")}}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),s("date-panel-label",{attrs:{"date-panel-label":i.rightDatePanelLabel,"current-view":i.rightDatePanelView,"date-prefix-cls":i.datePrefixCls}}),s("span",{class:i.iconBtnCls("next","-double"),on:{click:function(e){return i.nextYear("right")}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1),"date-table"===i.rightPickerTable?s("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("next"),on:{click:function(e){return i.nextMonth("right")}}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e()],1),"time"!==i.currentView?s(i.rightPickerTable,{ref:"rightYearTable",tag:"component",attrs:{"table-date":i.rightPanelDate,"selection-mode":"range","range-state":i.rangeState,"disabled-date":i.disabledDate,"show-week-numbers":i.showWeekNumbers,value:i.preSelecting.right?[i.dates[i.dates.length-1]]:i.dates,"focused-date":i.focusedDate},on:{"on-change-range":i.handleChangeRange,"on-pick":i.panelPickerHandlers.right,"on-pick-click":i.handlePickClick}}):i._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isTime,expression:"isTime"}],class:[i.prefixCls+"-content"]},["time"===i.currentView?s("time-picker",i._b({ref:"timePicker",attrs:{value:i.dates,format:i.format,"time-disabled":i.timeDisabled},on:{"on-pick":i.handleRangePick,"on-pick-click":i.handlePickClick,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess,"on-pick-toggle-time":i.handleToggleTime}},"time-picker",i.timePickerOptions,!1)):i._e()],1),i.confirm?s("Confirm",{attrs:{"show-time":i.showTime,"is-time":i.isTime,"time-disabled":i.timeDisabled},on:{"on-pick-toggle-time":i.handleToggleTime,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess}}):i._e()],1)])},[],!1,null,null,null).exports},computed:{panel(){return"daterange"===this.type||"datetimerange"===this.type?"RangeDatePickerPanel":"DatePickerPanel"},ownPickerProps(){return this.options}}},Ft=e("c7f3").a,T={props:{lockScroll:{type:Boolean,default:!0}},methods:{checkScrollBar(){let e=window.innerWidth;var t;e||(t=document.documentElement.getBoundingClientRect(),e=t.right-Math.abs(t.left)),this.bodyIsOverflowing=document.body.clientWidth<e,this.bodyIsOverflowing&&(this.scrollBarWidth=Object(h.k)())},checkMaskInVisible(){var e=document.getElementsByClassName("ivu-modal-mask")||[];return Array.from(e).every(e=>"none"===e.style.display||e.classList.contains("fade-leave-to"))},setScrollBar(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight=this.scrollBarWidth+"px")},resetScrollBar(){document.body.style.paddingRight=""},addScrollEffect(){this.lockScroll&&(this.checkScrollBar(),this.setScrollBar(),document.body.style.overflow="hidden")},removeScrollEffect(){this.lockScroll&&this.checkMaskInVisible()&&(document.body.style.overflow="",this.resetScrollBar())}}};const ti="ivu-drawer";_={name:"Drawer",mixins:[c,T],components:{Icon:a},directives:{TransferDom:l},props:{value:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},height:{type:[Number,String],default:256},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},maskStyle:{type:Object},styles:{type:Object},scrollable:{type:Boolean,default:!1},placement:{validator(e){return Object(h.m)(e,["left","right","top","bottom"])},default:"right"},zIndex:{type:Number,default:1e3},transfer:{type:Boolean,default(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},className:{type:String},inner:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},beforeClose:Function},data(){return{prefixCls:ti,visible:this.value,wrapShow:!1,showHead:!0,canMove:!1,dragWidth:this.width,dragHeight:this.height,wrapperWidth:this.width,wrapperHeight:this.height,wrapperLeft:0,minWidth:256,minHeight:256}},computed:{wrapClasses(){return[ti+"-wrap",{"ivu-drawer-hidden":!this.wrapShow,[""+this.className]:!!this.className,"ivu-drawer-no-mask":!this.mask,"ivu-drawer-wrap-inner":this.inner,"ivu-drawer-wrap-dragging":this.canMove}]},mainStyles(){var e,t={};return"left"===this.placement||"right"===this.placement?(e=parseInt(this.dragWidth),Object.assign(t,{width:e<=100?e+"%":e+"px"})):(e=parseInt(this.dragHeight),Object.assign(t,{height:e<=100?e+"%":e+"px"})),t},contentClasses(){return[ti+"-content",{"ivu-drawer-content-no-mask":!this.mask}]},classes(){return[ti,ti+"-"+this.placement,{"ivu-drawer-no-header":!this.showHead,"ivu-drawer-inner":this.inner}]},maskClasses(){return[ti+"-mask",{"ivu-drawer-mask-inner":this.inner}]},transitionName(){return"left"===this.placement||"right"===this.placement?"move-"+this.placement:"top"===this.placement?"move-up":"move-down"}},methods:{close(){if(!this.beforeClose)return this.handleClose();var e=this.beforeClose();e&&e.then?e.then(()=>{this.handleClose()}):this.handleClose()},handleClose(){this.visible=!1,this.$emit("input",!1),this.$emit("on-close")},handleMask(){this.maskClosable&&this.mask&&this.close()},handleWrapClick(e){e=e.target.getAttribute("class");e&&-1<e.indexOf(ti+"-wrap")&&this.handleMask()},handleMousemove(t){if(this.canMove&&this.draggable){this.handleSetWrapperWidth();var i=t.pageX-this.wrapperLeft;let e="right"===this.placement?this.wrapperWidth-i:i;e=Math.max(e,parseFloat(this.minWidth)),t.atMin=e===parseFloat(this.minWidth),e<=100&&(e=e/this.wrapperWidth*100),this.dragWidth=e,this.$emit("on-resize-width",parseInt(this.dragWidth))}},handleSetWrapperWidth(){var{width:e,left:t}=this.$el.getBoundingClientRect();this.wrapperWidth=e,this.wrapperLeft=t},handleMouseup(){this.draggable&&(this.canMove=!1)},handleTriggerMousedown(){this.canMove=!0,window.getSelection().removeAllRanges()}},mounted(){this.visible&&(this.wrapShow=!0);let e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,i(document,"mousemove",this.handleMousemove),i(document,"mouseup",this.handleMouseup),this.handleSetWrapperWidth()},beforeDestroy(){t(document,"mousemove",this.handleMousemove),t(document,"mouseup",this.handleMouseup),this.removeScrollEffect()},watch:{value(e){this.visible=e},visible(e){!1===e?this.timer=setTimeout(()=>{this.wrapShow=!1;var e=Object(h.e)(this,"Drawer")||[],t=Object(h.i)(this,"Drawer")||[];[].concat(e).concat(t).some(e=>e.visible&&!e.scrollable)||this.removeScrollEffect()},300):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e)},scrollable(e){e?this.removeScrollEffect():this.addScrollEffect()},title(e){void 0===this.$slots.header&&(this.showHead=!!e)},width(e){this.dragWidth=e},height(e){this.dragHeight=e}}},Vt=Object(s.a)(_,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":e.transfer}},[t("transition",{attrs:{name:"fade"}},[e.mask?t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.maskClasses,style:e.maskStyle,on:{click:e.handleMask}}):e._e()]),t("div",{class:e.wrapClasses,on:{click:e.handleWrapClick}},[t("transition",{attrs:{name:e.transitionName}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.classes,style:e.mainStyles},[t("div",{ref:"content",class:e.contentClasses},[e.closable?t("a",{staticClass:"ivu-drawer-close",on:{click:e.close}},[e._t("close",[t("Icon",{attrs:{type:"ios-close"}})])],2):e._e(),e.showHead?t("div",{class:[e.prefixCls+"-header"]},[e._t("header",[t("div",{class:[e.prefixCls+"-header-inner"]},[e._v(e._s(e.title))])])],2):e._e(),t("div",{class:[e.prefixCls+"-body"],style:e.styles},[e._t("default")],2)]),!e.draggable||"left"!==e.placement&&"right"!==e.placement?e._e():t("div",{staticClass:"ivu-drawer-drag",class:"ivu-drawer-drag-"+e.placement,on:{mousedown:e.handleTriggerMousedown}},[e._t("trigger",[t("div",{staticClass:"ivu-drawer-drag-move-trigger"},[t("div",{staticClass:"ivu-drawer-drag-move-trigger-point"},[t("i"),t("i"),t("i"),t("i"),t("i")])])])],2)])])],1)],1)},[],!1,null,null,null).exports;const ii="ivu-dropdown";A={name:"Dropdown",directives:{clickOutside:Qe,TransferDom:l},components:{Drop:o},props:{trigger:{validator(e){return Object(h.m)(e,["click","hover","custom","contextMenu"])},default:"hover"},placement:{validator(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},visible:{type:Boolean,default:!1},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},transferClassName:{type:String},stopPropagation:{type:Boolean,default:!1},capture:{type:Boolean,default(){return!this.$IVIEW||this.$IVIEW.capture}},eventsEnabled:{type:Boolean,default:!1}},computed:{transition(){return-1<["bottom-start","bottom","bottom-end"].indexOf(this.placement)?"slide-up":"fade"},dropdownCls(){return{"ivu-dropdown-transfer":this.transfer,[this.transferClassName]:this.transferClassName}},relClasses(){return[ii+"-rel",{"ivu-dropdown-rel-user-select-none":"contextMenu"===this.trigger}]}},data(){return{prefixCls:ii,currentVisible:this.visible}},watch:{visible(e){this.currentVisible=e},currentVisible(e){e?this.$refs.drop.update():this.$refs.drop.destroy(),this.$emit("on-visible-change",e)}},methods:{handleClick(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.hasParent()||(this.currentVisible=!this.currentVisible))},handleRightClick(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!this.currentVisible)},handleMouseenter(){return"custom"!==this.trigger&&"hover"===this.trigger&&(this.timeout&&clearTimeout(this.timeout),void(this.timeout=setTimeout(()=>{this.currentVisible=!0},250)))},handleMouseleave(){return"custom"!==this.trigger&&"hover"===this.trigger&&void(this.timeout&&(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.currentVisible=!1},150)))},onClickoutside(e){this.handleClose(),this.handleRightClose(),this.currentVisible&&this.$emit("on-clickoutside",e)},handleClose(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.currentVisible=!1)},handleRightClose(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!1)},hasParent(){return Object(h.g)(this,"Dropdown")||!1}},mounted(){this.$on("on-click",e=>{var t;this.stopPropagation||(t=this.hasParent())&&t.$emit("on-click",e)}),this.$on("on-hover-click",()=>{var e=this.hasParent();e?(this.$nextTick(()=>{if("custom"===this.trigger)return!1;this.currentVisible=!1}),e.$emit("on-hover-click")):this.$nextTick(()=>{if("custom"===this.trigger)return!1;this.currentVisible=!1})}),this.$on("on-haschild-click",()=>{this.$nextTick(()=>{if("custom"===this.trigger)return!1;this.currentVisible=!0});var e=this.hasParent();e&&e.$emit("on-haschild-click")})}},E=Object(s.a)(A,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickoutside,expression:"onClickoutside"}],class:[t.prefixCls],on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{ref:"reference",class:t.relClasses,on:{click:t.handleClick,contextmenu:function(e){return e.preventDefault(),t.handleRightClick(e)}}},[t._t("default")],2),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.currentVisible,expression:"currentVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:t.dropdownCls,attrs:{placement:t.placement,eventsEnabled:t.eventsEnabled,"data-transfer":t.transfer,transfer:t.transfer},nativeOn:{mouseenter:function(e){return t.handleMouseenter(e)},mouseleave:function(e){return t.handleMouseleave(e)}}},[t._t("list")],2)],1)],1)},[],!1,null,null,null).exports,P={name:"DropdownMenu"},_=Object(s.a)(P,function(){var e=this.$createElement;return(this._self._c||e)("ul",{staticClass:"ivu-dropdown-menu"},[this._t("default")],2)},[],!1,null,null,null).exports;const si="ivu-dropdown-item";A={name:"DropdownItem",props:{name:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},divided:{type:Boolean,default:!1}},computed:{classes(){return[si,{"ivu-dropdown-item-disabled":this.disabled,"ivu-dropdown-item-selected":this.selected,"ivu-dropdown-item-divided":this.divided}]}},methods:{handleClick(){var e;this.disabled||(e=Object(h.g)(this,"Dropdown"),this.$parent&&"Dropdown"===this.$parent.$options.name?this.$parent.$emit("on-haschild-click"):e&&"Dropdown"===e.$options.name&&e.$emit("on-hover-click"),e.$emit("on-click",this.name))}}},P=Object(s.a)(A,function(){var e=this.$createElement;return(this._self._c||e)("li",{class:this.classes,on:{click:this.handleClick}},[this._t("default")],2)},[],!1,null,null,null).exports,E.Menu=_,E.Item=P,A=E;var P={name:"Footer",computed:{wrapClasses(){return"ivu-layout-footer"}}},P=Object(s.a)(P,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,ni=P;const ri="ivu-form";var ai={name:"iForm",props:{model:{type:Object},rules:{type:Object},labelWidth:{type:Number},labelPosition:{validator(e){return Object(h.m)(e,["left","right","top"])},default:"right"},inline:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},autocomplete:{validator(e){return Object(h.m)(e,["on","off"])},default:"off"},hideRequiredMark:{type:Boolean,default:!1},labelColon:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1}},provide(){return{FormInstance:this}},data(){return{fields:[]}},computed:{classes(){return[ri,ri+"-label-"+this.labelPosition,{"ivu-form-inline":this.inline,"ivu-form-hide-required-mark":this.hideRequiredMark}]},colon(){let e="";return e=this.labelColon?"boolean"==typeof this.labelColon?":":this.labelColon:e}},methods:{resetFields(){this.fields.forEach(e=>{e.resetField()})},validate(n){return new Promise(t=>{let i=!0,s=0;0===this.fields.length&&(t(i),"function"==typeof n)&&n(i),this.fields.forEach(e=>{e.validate("",e=>{e&&(i=!1),++s===this.fields.length&&(t(i),"function"==typeof n)&&n(i)})})})},validateField(t,e){var i=this.fields.filter(e=>e.prop===t)[0];if(!i)throw new Error("[iView warn]: must call validateField with valid prop string!");i.validate("",e)}},watch:{rules(){this.validate()}},created(){this.$on("on-form-item-add",e=>(e&&this.fields.push(e),!1)),this.$on("on-form-item-remove",e=>(e.prop&&this.fields.splice(this.fields.indexOf(e),1),!1))}},ai=Object(s.a)(ai,function(){var e=this.$createElement;return(this._self._c||e)("form",{class:this.classes,attrs:{autocomplete:this.autocomplete}},[this._t("default")],2)},[],!1,null,null,null).exports,oi=e("2a95");const li="ivu-form-item";function ci(e,t){let i=e,s=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0;for(var r=s.length;n<r-1;++n){var a=s[n];if(!(a in i))throw new Error("[iView warn]: please transfer a valid prop path to form item!");i=i[a]}return{o:i,k:s[n],v:i[s[n]]}}var ui={name:"FormItem",mixins:[c],props:{label:{type:String,default:""},labelWidth:{type:Number},prop:{type:String},required:{type:Boolean,default:!1},rules:{type:[Object,Array]},error:{type:String},validateStatus:{type:Boolean},showMessage:{type:Boolean,default:!0},labelFor:{type:String}},data(){return{prefixCls:li,isRequired:!1,validateState:"",validateMessage:"",validateDisabled:!1,validator:{}}},watch:{error:{handler(e){this.validateMessage=e,this.validateState=e?"error":""},immediate:!0},validateStatus(e){this.validateState=e},rules(){this.setRules()},required(e,t){this.isRequired=e,t&&!e&&this.resetField()}},inject:["FormInstance"],computed:{classes(){return[li,{"ivu-form-item-required":this.required||this.isRequired,"ivu-form-item-error":"error"===this.validateState,"ivu-form-item-validating":"validating"===this.validateState}]},fieldValue(){var t=this.FormInstance.model;if(t&&this.prop){let e=this.prop;return ci(t,e=-1!==e.indexOf(":")?e.replace(/:/,"."):e).v}},labelStyles(){var e={},t=(0===this.labelWidth||this.labelWidth?this:this.FormInstance).labelWidth;return!t&&0!==t||(e.width=t+"px"),e},contentStyles(){var e={},t=(0===this.labelWidth||this.labelWidth?this:this.FormInstance).labelWidth;return!t&&0!==t||(e.marginLeft=t+"px"),e}},methods:{setRules(){var e=this.getRules();e.length&&this.required||(e.length?e.every(e=>{this.isRequired=e.required}):this.required&&(this.isRequired=this.required),this.$off("on-form-blur",this.onFieldBlur),this.$off("on-form-change",this.onFieldChange),this.$on("on-form-blur",this.onFieldBlur),this.$on("on-form-change",this.onFieldChange))},getRules(){var e=this.FormInstance.rules,t=this.rules,e=e?e[this.prop]:[];return[].concat(t||e||[])},getFilteredRule(t){return this.getRules().filter(e=>!e.trigger||-1!==e.trigger.indexOf(t))},validate(e,t=function(){}){let i=this.getFilteredRule(e);if(!i||0===i.length){if(!this.required)return t(),!0;i=[{required:!0}]}this.validateState="validating";var e={},e=(e[this.prop]=i,new oi.a(e)),s={};s[this.prop]=this.fieldValue,e.validate(s,{firstFields:!0},e=>{this.validateState=e?"error":"success",this.validateMessage=e?e[0].message:"",t(this.validateMessage),this.FormInstance&&this.FormInstance.$emit("on-validate",this.prop,!e,this.validateMessage||null)}),this.validateDisabled=!1},resetField(){this.validateState="",this.validateMessage="";let e=this.FormInstance.model,t=this.fieldValue,i=this.prop;var s=ci(e,i=-1!==i.indexOf(":")?i.replace(/:/,"."):i);Array.isArray(t)&&null!==this.initialValue?(this.validateDisabled=!0,s.o[s.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,s.o[s.k]=this.initialValue)},onFieldBlur(){this.validate("blur")},onFieldChange(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},mounted(){this.prop&&(this.dispatch("iForm","on-form-item-add",this),Object.defineProperty(this,"initialValue",{value:this.fieldValue}),this.setRules())},beforeDestroy(){this.dispatch("iForm","on-form-item-remove",this)}},ui=Object(s.a)(ui,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.classes},[e.label||e.$slots.label?t("label",{class:[e.prefixCls+"-label"],style:e.labelStyles,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label)+e._s(e.FormInstance.colon))])],2):e._e(),t("div",{class:[e.prefixCls+"-content"],style:e.contentStyles},[e._t("default"),t("transition",{attrs:{name:"fade"}},["error"===e.validateState&&e.showMessage&&e.FormInstance.showMessage?t("div",{class:[e.prefixCls+"-error-tip"]},[e._v(e._s(e.validateMessage))]):e._e()])],2)])},[],!1,null,null,null).exports,ui=(ai.Item=ui,ai);var ai={name:"Header",computed:{wrapClasses(){return"ivu-layout-header"}}},ai=Object(s.a)(ai,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,hi=ai,di=Ae;const D="ivu-input-number",pi="ivu-icon";function mi(e,t){let i,s,n;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{s=t.toString().split(".")[1].length}catch(e){s=0}return n=Math.pow(10,Math.max(i,s)),(Math.round(e*n)+Math.round(t*n))/n}var O={name:"InputNumber",mixins:[c,u],props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},step:{type:Number,default:1},activeChange:{type:Boolean,default:!0},value:{type:Number,default:1},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},name:{type:String},precision:{type:Number},elementId:{type:String},formatter:{type:Function},parser:{type:Function},placeholder:{type:String,default:""},controlsOutside:{type:Boolean,default:!1}},data(){return{focused:!1,upDisabled:!1,downDisabled:!1,currentValue:this.value}},computed:{wrapClasses(){return[D,{[D+"-"+this.size]:!!this.size,"ivu-input-number-disabled":this.itemDisabled,"ivu-input-number-focused":this.focused,"ivu-input-number-controls-outside":this.controlsOutside}]},handlerClasses(){return D+"-handler-wrap"},upClasses(){return[D+"-handler",D+"-handler-up",{"ivu-input-number-handler-up-disabled":this.upDisabled}]},innerUpClasses(){return D+`-handler-up-inner ${pi} ${pi}-ios-arrow-up`},downClasses(){return[D+"-handler",D+"-handler-down",{"ivu-input-number-handler-down-disabled":this.downDisabled}]},innerDownClasses(){return D+`-handler-down-inner ${pi} ${pi}-ios-arrow-down`},inputWrapClasses(){return D+"-input-wrap"},inputClasses(){return D+"-input"},precisionValue(){return this.currentValue&&this.precision?this.currentValue.toFixed(this.precision):this.currentValue},formatterValue(){return this.formatter&&null!==this.precisionValue?this.formatter(this.precisionValue):this.precisionValue}},methods:{preventDefault(e){e.preventDefault()},up(e){var t=Number(e.target.value);if(this.upDisabled&&isNaN(t))return!1;this.changeStep("up",e)},down(e){var t=Number(e.target.value);if(this.downDisabled&&isNaN(t))return!1;this.changeStep("down",e)},changeStep(e,t){if(this.itemDisabled||this.readonly)return!1;t=Number(t.target.value);let i=Number(this.currentValue);var s=Number(this.step);if(isNaN(i))return!1;if(!isNaN(t))if("up"===e){if(!(mi(t,s)<=this.max))return!1;i=t}else if("down"===e){if(!(mi(t,-s)>=this.min))return!1;i=t}"up"===e?i=mi(i,s):"down"===e&&(i=mi(i,-s)),this.setValue(i)},setValue(e){var{min:t,max:i}=this;null!==(e=e&&!isNaN(this.precision)?Number(Number(e).toFixed(this.precision)):e)&&(i<e?e=i:e<t&&(e=t)),this.$nextTick(()=>{this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)})},focus(e){this.focused=!0,this.$emit("on-focus",e)},blur(){this.focused=!1,this.$emit("on-blur"),Object(h.g)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},keyDown(e){38===e.keyCode?(e.preventDefault(),this.up(e)):40===e.keyCode&&(e.preventDefault(),this.down(e))},change(t){if(("change"!=t.type||!this.activeChange)&&("input"!=t.type||this.activeChange)){let e=t.target.value.trim();0===(e=this.parser?this.parser(e):e).length?this.setValue(null):"input"==t.type&&e.match(/^\-?\.?$|\.$/)||(e=Number(e),isNaN(e)?t.target.value=this.currentValue:(this.currentValue=e,this.setValue(e)))}},changeVal(e){var t;e=Number(e),isNaN(e)?(this.upDisabled=!0,this.downDisabled=!0):(t=this.step,this.upDisabled=e+t>this.max,this.downDisabled=e-t<this.min)}},mounted(){this.changeVal(this.currentValue)},watch:{value(e){this.currentValue=e},currentValue(e){this.changeVal(e)},min(){this.changeVal(this.currentValue)},max(){this.changeVal(this.currentValue)}}},O=Object(s.a)(O,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.wrapClasses},[t.controlsOutside?t._e():e("div",{class:t.handlerClasses},[e("a",{class:t.upClasses,on:{click:t.up}},[e("span",{class:t.innerUpClasses,on:{click:t.preventDefault}})]),e("a",{class:t.downClasses,on:{click:t.down}},[e("span",{class:t.innerDownClasses,on:{click:t.preventDefault}})])]),t.controlsOutside?e("div",{staticClass:"ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-down",class:{"ivu-input-number-controls-outside-btn-disabled":t.downDisabled},on:{click:t.down}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-remove"})]):t._e(),t.controlsOutside?e("div",{staticClass:"ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-up",class:{"ivu-input-number-controls-outside-btn-disabled":t.upDisabled},on:{click:t.up}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-add"})]):t._e(),e("div",{class:t.inputWrapClasses},[e("input",{class:t.inputClasses,attrs:{id:t.elementId,disabled:t.itemDisabled,autocomplete:"off",spellcheck:"false",autofocus:t.autofocus,readonly:t.readonly||!t.editable,name:t.name,placeholder:t.placeholder},domProps:{value:t.formatterValue},on:{focus:t.focus,blur:t.blur,keydown:function(e){return e.stopPropagation(),t.keyDown(e)},input:t.change,mouseup:t.preventDefault,change:t.change}})])])},[],!1,null,null,null).exports,fi=O,gi=e("84a2"),yi=e.n(gi);const vi="ivu-spin";var gi={name:"Spin",mixins:[T],props:{size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data(){return{showText:!1,visible:!1}},computed:{classes(){return[vi,{[vi+"-"+this.size]:!!this.size,"ivu-spin-fix":this.fix,"ivu-spin-show-text":this.showText,"ivu-spin-fullscreen":this.fullscreen}]},mainClasses(){return vi+"-main"},dotClasses(){return vi+"-dot"},textClasses(){return vi+"-text"},fullscreenVisible(){return!this.fullscreen||this.visible}},watch:{visible(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted(){this.showText=void 0!==this.$slots.default}},bi=Object(s.a)(gi,function(){var e=this.$createElement,e=this._self._c||e;return e("transition",{attrs:{name:"fade"}},[this.fullscreenVisible?e("div",{class:this.classes},[e("div",{class:this.mainClasses},[e("span",{class:this.dotClasses}),e("div",{class:this.textClasses},[this._t("default")],2)])]):this._e()])},[],!1,null,null,null).exports;const wi="ivu-scroll";gi={props:["text","active","spinnerHeight"],components:{Spin:bi,Icon:n},computed:{wrapperClasses(){return[wi+"-loader-wrapper",{"ivu-scroll-loader-wrapper-active":this.active}]},spinnerClasses(){return wi+"-spinner"},iconClasses(){return wi+"-spinner-icon"},textClasses(){return wi+"-loader-text"}}},gi=Object(s.a)(gi,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.wrapperClasses},[t("div",{class:e.spinnerClasses},[t("Spin",{attrs:{fix:""}},[t("Icon",{class:e.iconClasses,attrs:{type:"ios-loading",size:"18"}}),e.text?t("div",{class:e.textClasses},[e._v(e._s(e.text))]):e._e()],1)],1)])},[],!1,null,null,null).exports;const Si="ivu-scroll",_i={sensitivity:10,minimumStartDragOffset:5},Ci=()=>Promise.resolve();var gi={name:"Scroll",mixins:[d],components:{loader:gi},props:{height:{type:[Number,String],default:300},onReachTop:{type:Function},onReachBottom:{type:Function},onReachEdge:{type:Function},loadingText:{type:String},distanceToEdge:[Number,Array],stopSlide:{type:Boolean,default:!1}},data(){var e=this.calculateProximityThreshold();return{showTopLoader:!1,showBottomLoader:!1,showBodyLoader:!1,lastScroll:0,reachedTopScrollLimit:!0,reachedBottomScrollLimit:!1,topRubberPadding:0,bottomRubberPadding:0,rubberRollBackTimeout:!1,isLoading:!1,pointerTouchDown:null,touchScroll:!1,handleScroll:()=>{},pointerUpHandler:()=>{},pointerMoveHandler:()=>{},topProximityThreshold:e[0],bottomProximityThreshold:e[1]}},computed:{wrapClasses(){return Si+"-wrapper"},scrollContainerClasses(){return[Si+"-container",{"ivu-scroll-container-loading":this.showBodyLoader&&this.stopSlide}]},slotContainerClasses(){return[Si+"-content",{"ivu-scroll-content-loading":this.showBodyLoader}]},loaderClasses(){return Si+"-loader"},wrapperPadding(){return{paddingTop:this.topRubberPadding+"px",paddingBottom:this.bottomRubberPadding+"px"}},localeLoadingText(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText}},methods:{waitOneSecond(){return new Promise(e=>{setTimeout(e,1e3)})},calculateProximityThreshold(){var e=this.distanceToEdge;return void 0===e?[20,20]:Array.isArray(e)?e:[e,e]},onCallback(e){if(this.isLoading=!0,this.showBodyLoader=!0,0<e)this.showTopLoader=!0,this.topRubberPadding=20;else{this.showBottomLoader=!0,this.bottomRubberPadding=20;let t=0;const i=this.$refs.scrollContainer,s=i.scrollTop;for(let e=0;e<20;e++)setTimeout(()=>{t=Math.max(t,this.$refs.bottomLoader.getBoundingClientRect().height),i.scrollTop=s+t},50*e)}const i=[this.waitOneSecond(),this.onReachEdge?this.onReachEdge(e):Ci()];i.push(0<e?this.onReachTop?this.onReachTop():Ci():this.onReachBottom?this.onReachBottom():Ci());let s=setTimeout(()=>{this.reset()},5e3);Promise.all(i).then(()=>{clearTimeout(s),this.reset()})},reset(){["showTopLoader","showBottomLoader","showBodyLoader","isLoading","reachedTopScrollLimit","reachedBottomScrollLimit"].forEach(e=>this[e]=!1),this.lastScroll=0,this.topRubberPadding=0,this.bottomRubberPadding=0,clearInterval(this.rubberRollBackTimeout),this.touchScroll&&setTimeout(()=>{t(window,"touchend",this.pointerUpHandler),this.$refs.scrollContainer.removeEventListener("touchmove",this.pointerMoveHandler),this.touchScroll=!1},500)},onWheel(e){this.isLoading||(e=e.wheelDelta||-(e.detail||e.deltaY),this.stretchEdge(e))},stretchEdge(e){if(clearTimeout(this.rubberRollBackTimeout),!this.onReachEdge)if(0<e){if(!this.onReachTop)return}else if(!this.onReachBottom)return;this.rubberRollBackTimeout=setTimeout(()=>{this.isLoading||this.reset()},250),0<e&&this.reachedTopScrollLimit?(this.topRubberPadding+=5-this.topRubberPadding/5,this.topRubberPadding>this.topProximityThreshold&&this.onCallback(1)):e<0&&this.reachedBottomScrollLimit?(this.bottomRubberPadding+=6-this.bottomRubberPadding/4,this.bottomRubberPadding>this.bottomProximityThreshold&&this.onCallback(-1)):this.onScroll()},onScroll(){var e,t,i,s,n=this.$refs.scrollContainer;!this.isLoading&&n&&(e=Math.sign(this.lastScroll-n.scrollTop),t=n.scrollHeight-n.clientHeight-n.scrollTop,i=this.topProximityThreshold<0?this.topProximityThreshold:0,s=this.bottomProximityThreshold<0?this.bottomProximityThreshold:0,-1==e&&t+s<=_i.sensitivity?this.reachedBottomScrollLimit=!0:0<=e&&n.scrollTop+i<=0?this.reachedTopScrollLimit=!0:(this.reachedTopScrollLimit=!1,this.reachedBottomScrollLimit=!1,this.lastScroll=n.scrollTop))},getTouchCoordinates(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},onPointerDown(e){if(!this.isLoading){if("touchstart"==e.type){const e=this.$refs.scrollContainer;this.reachedTopScrollLimit?e.scrollTop=5:this.reachedBottomScrollLimit&&(e.scrollTop-=5)}"touchstart"==e.type&&0==this.$refs.scrollContainer.scrollTop&&(this.$refs.scrollContainer.scrollTop=5),this.pointerTouchDown=this.getTouchCoordinates(e),i(window,"touchend",this.pointerUpHandler),this.$refs.scrollContainer.parentElement.addEventListener("touchmove",e=>{e.stopPropagation(),this.pointerMoveHandler(e)},{passive:!1,useCapture:!0})}},onPointerMove(e){if(this.pointerTouchDown&&!this.isLoading){var t=this.getTouchCoordinates(e).y-this.pointerTouchDown.y;if(this.stretchEdge(t),!this.touchScroll){const e=Math.abs(t)>_i.minimumStartDragOffset;e&&(this.touchScroll=!0)}}},onPointerUp(){this.pointerTouchDown=null}},created(){this.handleScroll=yi()(this.onScroll,150,{leading:!1}),this.pointerUpHandler=this.onPointerUp.bind(this),this.pointerMoveHandler=yi()(this.onPointerMove,50,{leading:!1})}},gi=Object(s.a)(gi,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.wrapClasses,staticStyle:{"touch-action":"none"}},[t("div",{ref:"scrollContainer",class:e.scrollContainerClasses,style:{height:e.height+"px"},on:{scroll:e.handleScroll,wheel:e.onWheel,touchstart:e.onPointerDown}},[t("div",{ref:"toploader",class:e.loaderClasses,style:{paddingTop:e.wrapperPadding.paddingTop}},[t("loader",{attrs:{text:e.localeLoadingText,active:e.showTopLoader}})],1),t("div",{ref:"scrollContent",class:e.slotContainerClasses},[e._t("default")],2),t("div",{ref:"bottomLoader",class:e.loaderClasses,style:{paddingBottom:e.wrapperPadding.paddingBottom}},[t("loader",{attrs:{text:e.localeLoadingText,active:e.showBottomLoader}})],1)])])},[],!1,null,null,null).exports,ki={name:"Trigger",props:{mode:String},data(){return{prefix:"ivu-split-trigger",initOffset:0}},computed:{isVertical(){return"vertical"===this.mode},classes(){return[this.prefix,this.isVertical?this.prefix+"-vertical":this.prefix+"-horizontal"]},barConClasses(){return[this.prefix+"-bar-con",this.isVertical?"vertical":"horizontal"]}}},ki={name:"Split",components:{Trigger:Object(s.a)(ki,function(){var e=this.$createElement,e=this._self._c||e;return e("div",{class:this.classes},[e("div",{class:this.barConClasses},this._m(0),0)])},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._l(8,function(e){return i("i",{key:"trigger-"+e,class:t.prefix+"-bar"})})}],!1,null,null,null).exports},props:{value:{type:[Number,String],default:.5},mode:{validator(e){return Object(h.m)(e,["horizontal","vertical"])},default:"horizontal"},min:{type:[Number,String],default:"40px"},max:{type:[Number,String],default:"40px"}},data(){return{prefix:"ivu-split",offset:0,oldOffset:0,isMoving:!1,computedMin:0,computedMax:0,currentValue:.5}},computed:{wrapperClasses(){return[this.prefix+"-wrapper",this.isMoving?"no-select":""]},paneClasses(){return[this.prefix+"-pane",{[this.prefix+"-pane-moving"]:this.isMoving}]},isHorizontal(){return"horizontal"===this.mode},anotherOffset(){return 100-this.offset},valueIsPx(){return"string"==typeof this.value},offsetSize(){return this.isHorizontal?"offsetWidth":"offsetHeight"}},methods:{px2percent(e,t){return parseFloat(e)/parseFloat(t)},getComputedThresholdValue(e){var t=this.$refs.outerWrapper[this.offsetSize];return this.valueIsPx?"string"==typeof this[e]?this[e]:t*this[e]:"string"==typeof this[e]?this.px2percent(this[e],t):this[e]},getMin(e,t){return this.valueIsPx?Math.min(parseFloat(e),parseFloat(t))+"px":Math.min(e,t)},getMax(e,t){return this.valueIsPx?Math.max(parseFloat(e),parseFloat(t))+"px":Math.max(e,t)},getAnotherOffset(e){return this.valueIsPx?this.$refs.outerWrapper[this.offsetSize]-parseFloat(e)+"px":1-e},handleMove(e){let t=this.isHorizontal?e.pageX:e.pageY,i=t-this.initOffset,s=this.$refs.outerWrapper[this.offsetSize],n=this.valueIsPx?parseFloat(this.oldOffset)+i+"px":this.px2percent(s*this.oldOffset+i,s),r=this.getAnotherOffset(n);parseFloat(n)<=parseFloat(this.computedMin)&&(n=this.getMax(n,this.computedMin)),parseFloat(r)<=parseFloat(this.computedMax)&&(n=this.getAnotherOffset(this.getMax(r,this.computedMax))),e.atMin=this.value===this.computedMin,e.atMax=this.valueIsPx?this.getAnotherOffset(this.value)===this.computedMax:this.getAnotherOffset(this.value).toFixed(5)===this.computedMax.toFixed(5),this.$emit("input",n),this.$emit("on-moving",e)},handleUp(){this.isMoving=!1,t(document,"mousemove",this.handleMove),t(document,"mouseup",this.handleUp),this.$emit("on-move-end")},handleMousedown(e){this.initOffset=this.isHorizontal?e.pageX:e.pageY,this.oldOffset=this.value,this.isMoving=!0,i(document,"mousemove",this.handleMove),i(document,"mouseup",this.handleUp),this.$emit("on-move-start")},computeOffset(){this.$nextTick(()=>{this.computedMin=this.getComputedThresholdValue("min"),this.computedMax=this.getComputedThresholdValue("max"),this.offset=1e4*(this.valueIsPx?this.px2percent(this.value,this.$refs.outerWrapper[this.offsetSize]):this.value)/100})}},watch:{value(e){e!==this.currentValue&&(this.currentValue=e,this.computeOffset())}},mounted(){this.$nextTick(()=>{this.computeOffset()}),i(window,"resize",this.computeOffset)},beforeDestroy(){t(window,"resize",this.computeOffset)}},ki=Object(s.a)(ki,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{ref:"outerWrapper",class:e.wrapperClasses},[e.isHorizontal?t("div",{class:e.prefix+"-horizontal"},[t("div",{staticClass:"left-pane",class:e.paneClasses,style:{right:e.anotherOffset+"%"}},[e._t("left")],2),t("div",{class:e.prefix+"-trigger-con",style:{left:e.offset+"%"},on:{mousedown:e.handleMousedown}},[e._t("trigger",[t("trigger",{attrs:{mode:"vertical"}})])],2),t("div",{staticClass:"right-pane",class:e.paneClasses,style:{left:e.offset+"%"}},[e._t("right")],2)]):t("div",{class:e.prefix+"-vertical"},[t("div",{staticClass:"top-pane",class:e.paneClasses,style:{bottom:e.anotherOffset+"%"}},[e._t("top")],2),t("div",{class:e.prefix+"-trigger-con",style:{top:e.offset+"%"},on:{mousedown:e.handleMousedown}},[e._t("trigger",[t("trigger",{attrs:{mode:"horizontal"}})])],2),t("div",{staticClass:"bottom-pane",class:e.paneClasses,style:{top:e.offset+"%"}},[e._t("bottom")],2)])])},[],!1,null,null,null).exports;const xi="ivu-layout";var L={name:"Layout",data(){return{hasSider:!1}},computed:{wrapClasses(){return[xi,{"ivu-layout-has-sider":this.hasSider}]}},methods:{findSider(){return this.$children.some(e=>"Sider"===e.$options.name)}},mounted(){this.hasSider=this.findSider()}},L=Object(s.a)(L,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports;const Ti="ivu-layout-sider";Object(h.p)();var Ii={name:"Sider",props:{value:{type:Boolean,default:!1},width:{type:[Number,String],default:200},collapsedWidth:{type:[Number,String],default:64},hideTrigger:{type:Boolean,default:!1},breakpoint:{type:String,validator(e){return Object(h.m)(e,["xs","sm","md","lg","xl","xxl"])}},collapsible:{type:Boolean,default:!1},defaultCollapsed:{type:Boolean,default:!1},reverseArrow:{type:Boolean,default:!1}},data(){return{prefixCls:Ti,mediaMatched:!1}},computed:{wrapClasses(){return[Ti,this.siderWidth?"":Ti+"-zero-width",this.value?Ti+"-collapsed":""]},wrapStyles(){return{width:this.siderWidth+"px",minWidth:this.siderWidth+"px",maxWidth:this.siderWidth+"px",flex:`0 0 ${this.siderWidth}px`}},triggerClasses(){return[Ti+"-trigger",this.value?Ti+"-trigger-collapsed":""]},childClasses(){return this.prefixCls+"-children"},zeroWidthTriggerClasses(){return[Ti+"-zero-width-trigger",this.reverseArrow?Ti+"-zero-width-trigger-left":""]},triggerIconClasses(){return["ivu-icon","ivu-icon-ios-arrow-"+(this.reverseArrow?"forward":"back"),Ti+"-trigger-icon"]},siderWidth(){return this.collapsible?this.value?this.mediaMatched?0:parseInt(this.collapsedWidth):parseInt(this.width):this.width},showZeroTrigger(){return!!this.collapsible&&(this.mediaMatched&&!this.hideTrigger||0===parseInt(this.collapsedWidth)&&this.value&&!this.hideTrigger)},showBottomTrigger(){return!!this.collapsible&&!this.mediaMatched&&!this.hideTrigger}},methods:{toggleCollapse(){var e=!!this.collapsible&&!this.value;this.$emit("input",e)},matchMedia(){let e;window.matchMedia&&(e=window.matchMedia);var t=this.mediaMatched;this.mediaMatched=e(`(max-width: ${h.d[this.breakpoint]})`).matches,this.mediaMatched!==t&&this.$emit("input",this.mediaMatched)},onWindowResize(){this.matchMedia()}},watch:{value(e){this.$emit("on-collapse",e)}},mounted(){this.defaultCollapsed&&this.$emit("input",this.defaultCollapsed),void 0!==this.breakpoint&&(i(window,"resize",this.onWindowResize),this.matchMedia())},beforeDestroy(){void 0!==this.breakpoint&&t(window,"resize",this.onWindowResize)}},Ii=Object(s.a)(Ii,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.wrapClasses,style:e.wrapStyles},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.showZeroTrigger,expression:"showZeroTrigger"}],class:e.zeroWidthTriggerClasses,on:{click:e.toggleCollapse}},[t("i",{staticClass:"ivu-icon ivu-icon-ios-menu"})]),t("div",{class:e.childClasses},[e._t("default")],2),e._t("trigger",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showBottomTrigger,expression:"showBottomTrigger"}],class:e.triggerClasses,style:{width:e.siderWidth+"px"},on:{click:e.toggleCollapse}},[t("i",{class:e.triggerIconClasses})])])],2)},[],!1,null,null,null).exports,ai=(L.Header=ai,L.Sider=Ii,L.Content=C,L.Footer=P,L);const Pi="ivu-list";C={name:"List",provide(){return{ListInstance:this}},props:{border:{type:Boolean,default:!1},itemLayout:{validator(e){return Object(h.m)(e,["horizontal","vertical"])},default:"horizontal"},header:{type:String,default:""},footer:{type:String,default:""},loading:{type:Boolean,default:!1},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},split:{type:Boolean,default:!0}},data(){return{}},computed:{classes(){return[Pi,Pi+"-"+this.size,Pi+"-"+this.itemLayout,{"ivu-list-bordered":this.border,"ivu-list-split":this.split}]}},methods:{}},P=Object(s.a)(C,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.classes},[e.header||e.$slots.header?t("div",{staticClass:"ivu-list-header"},[e._t("header",[e._v(e._s(e.header))])],2):e._e(),t("div",{staticClass:"ivu-list-container"},[t("ul",{staticClass:"ivu-list-items"},[e._t("default")],2)]),e.loading?t("Spin",{attrs:{fix:"",size:"large"}},[e._t("spin")],2):e._e(),e.footer||e.$slots.footer?t("div",{staticClass:"ivu-list-footer"},[e._t("footer",[e._v(e._s(e.footer))])],2):e._e()],1)},[],!1,null,null,null).exports,L={name:"ListItem",inject:["ListInstance"],props:{},computed:{itemLayout(){return this.ListInstance.itemLayout},isItemContainsTextNode(){let t;return this.$slots.default.forEach(e=>{"string"==typeof e&&(t=!0)}),t},isFlexMode(){var e=this.$slots.extra;return"vertical"===this.itemLayout?!!e:!this.isItemContainsTextNode},classes(){return[{"ivu-list-item-no-flex":!this.isFlexMode}]}}},C=Object(s.a)(L,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("li",{staticClass:"ivu-list-item",class:e.classes},["vertical"===e.itemLayout&&e.$slots.extra?[t("div",{staticClass:"ivu-list-item-main"},[e._t("default"),e.$slots.action?t("ul",{staticClass:"ivu-list-item-action"},[e._t("action")],2):e._e()],2),t("div",{staticClass:"ivu-list-item-extra"},[e._t("extra")],2)]:[e._t("default"),e.$slots.action?t("ul",{staticClass:"ivu-list-item-action"},[e._t("action")],2):e._e(),t("div",{staticClass:"ivu-list-item-extra"},[e._t("extra")],2)]],2)},[],!1,null,null,null).exports,L={name:"ListItemMeta",components:{Avatar:f},props:{avatar:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""}}},f=Object(s.a)(L,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"ivu-list-item-meta"},[e.avatar||e.$slots.avatar?t("div",{staticClass:"ivu-list-item-meta-avatar"},[e._t("avatar",[t("Avatar",{attrs:{src:e.avatar}})])],2):e._e(),t("div",{staticClass:"ivu-list-item-meta-content"},[e.title||e.$slots.title?t("div",{staticClass:"ivu-list-item-meta-title"},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e.description||e.$slots.description?t("div",{staticClass:"ivu-list-item-meta-description"},[e._t("description",[e._v(e._s(e.description))])],2):e._e()])])},[],!1,null,null,null).exports,P.Item=C,P.Item.Meta=f,L=P;const Ai="ivu-loading-bar";var C={name:"LoadingBar",props:{color:{type:String,default:"primary"},failedColor:{type:String,default:"error"},height:{type:Number,default:2}},data(){return{percent:0,status:"success",show:!1}},computed:{classes(){return Ai},innerClasses(){return[Ai+"-inner",{"ivu-loading-bar-inner-color-primary":"primary"===this.color&&"success"===this.status,"ivu-loading-bar-inner-failed-color-error":"error"===this.failedColor&&"error"===this.status}]},outerStyles(){return{height:this.height+"px"}},styles(){var e={width:this.percent+"%",height:this.height+"px"};return"primary"!==this.color&&"success"===this.status&&(e.backgroundColor=this.color),"error"!==this.failedColor&&"error"===this.status&&(e.backgroundColor=this.failedColor),e}}},Ei=Object(s.a)(C,function(){var e=this.$createElement,e=this._self._c||e;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:this.classes,style:this.outerStyles},[e("div",{class:this.innerClasses,style:this.styles})])])},[],!1,null,null,null).exports,Di=(Ei.newInstance=e=>{const t=e||{},i=new r.default({data:t,render(e){return e(Ei,{props:t})}}),s=i.$mount(),n=(document.body.appendChild(s.$el),i.$children[0]);return{update(e){"percent"in e&&(n.percent=e.percent),e.status&&(n.status=e.status),"show"in e&&(n.show=e.show)},component:n,destroy(){document.body.removeChild(document.getElementsByClassName("ivu-loading-bar")[0])}}},Ei);let Oi,Li,Ni="primary",Mi=800,Bi="error",Fi=2;function Ri(){return Oi=Oi||Di.newInstance({color:Ni,failedColor:Bi,height:Fi})}function $i(e){Ri().update(e)}function Ui(){setTimeout(()=>{$i({show:!1}),setTimeout(()=>{$i({percent:0})},200)},Mi)}function ji(){Li&&(clearInterval(Li),Li=null)}var Vi={start(){if(!Li){let e=0;$i({percent:e,status:"success",show:!0}),Li=setInterval(()=>{95<(e+=Math.floor(3*Math.random()+1))&&ji(),$i({percent:e,status:"success",show:!0})},200)}},update(e){ji(),$i({percent:e,status:"success",show:!0})},finish(){ji(),$i({percent:100,status:"success",show:!0}),Ui()},error(){ji(),$i({percent:100,status:"error",show:!0}),Ui()},config(e){e.color&&(Ni=e.color),e.duration&&(Mi=e.duration),e.failedColor&&(Bi=e.failedColor),e.height&&(Fi=e.height)},destroy(){ji();var e=Ri();Oi=null,e.destroy()}};const zi="ivu-menu";f={name:"Menu",mixins:[c],props:{mode:{validator(e){return Object(h.m)(e,["horizontal","vertical"])},default:"vertical"},theme:{validator(e){return Object(h.m)(e,["light","dark","primary"])},default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default(){return[]}},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},data(){return{currentActiveName:this.activeName,openedNames:[]}},computed:{classes(){let e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),[zi,zi+"-"+e,{[zi+"-"+this.mode]:this.mode}]},styles(){var e={};return"vertical"===this.mode&&(e.width=this.width),e}},methods:{updateActiveName(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.broadcast("Submenu","on-update-active-name",!1),this.broadcast("MenuItem","on-update-active-name",this.currentActiveName)},updateOpenKeys(i){var e=[...this.openedNames].indexOf(i);if(this.accordion&&Object(h.h)(this,"Submenu").forEach(e=>{e.opened=!1}),0<=e){let t=null;Object(h.h)(this,"Submenu").forEach(e=>{e.name===i&&((t=e).opened=!1)}),Object(h.i)(t,"Submenu").forEach(e=>{e.opened=!0}),Object(h.h)(t,"Submenu").forEach(e=>{e.opened=!1})}else if(this.accordion){let t=null;Object(h.h)(this,"Submenu").forEach(e=>{e.name===i&&((t=e).opened=!0)}),Object(h.i)(t,"Submenu").forEach(e=>{e.opened=!0})}else Object(h.h)(this,"Submenu").forEach(e=>{e.name===i&&(e.opened=!0)});e=Object(h.h)(this,"Submenu").filter(e=>e.opened).map(e=>e.name);this.openedNames=[...e],this.$emit("on-open-change",e)},updateOpened(){var e=Object(h.h)(this,"Submenu");e.length&&e.forEach(e=>{-1<this.openedNames.indexOf(e.name)?e.opened=!0:e.opened=!1})},handleEmitSelectEvent(e){this.$emit("on-select",e)}},mounted(){this.openedNames=[...this.openNames],this.updateOpened(),this.$nextTick(()=>this.updateActiveName()),this.$on("on-menu-item-select",e=>{this.currentActiveName=e,this.$emit("on-select",e)})},watch:{openNames(e){this.openedNames=e},activeName(e){this.currentActiveName=e},currentActiveName(){this.updateActiveName()}}},P=Object(s.a)(f,function(){var e=this.$createElement;return(this._self._c||e)("ul",{class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,C={data(){return{menu:Object(h.g)(this,"Menu")}},computed:{hasParentSubmenu(){return!!Object(h.g)(this,"Submenu")},parentSubmenuNum(){return Object(h.i)(this,"Submenu").length},mode(){return this.menu.mode}}};f={name:"MenuGroup",mixins:[C],props:{title:{type:String,default:""}},data(){return{prefixCls:"ivu-menu"}},computed:{groupStyle(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+28*(this.parentSubmenuNum-1)+"px"}:{}}}},f=Object(s.a)(f,function(){var e=this.$createElement,e=this._self._c||e;return e("li",{class:[this.prefixCls+"-item-group"]},[e("div",{class:[this.prefixCls+"-item-group-title"],style:this.groupStyle},[this._v(this._s(this.title))]),e("ul",[this._t("default")],2)])},[],!1,null,null,null).exports;const Wi="ivu-menu";y={name:"MenuItem",mixins:[c,C,y],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data(){return{active:!1}},computed:{classes(){return[Wi+"-item",{"ivu-menu-item-active":this.active,"ivu-menu-item-selected":this.active,"ivu-menu-item-disabled":this.disabled}]},itemStyle(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}}},methods:{handleClickItem(e,t=!1){var i;this.disabled||(t||"_blank"===this.target?(this.handleCheckClick(e,t),(i=Object(h.g)(this,"Menu"))&&i.handleEmitSelectEvent(this.name)):(Object(h.g)(this,"Submenu")?this.dispatch("Submenu","on-menu-item-select",this.name):this.dispatch("Menu","on-menu-item-select",this.name),this.handleCheckClick(e,t)))}},mounted(){this.$on("on-update-active-name",e=>{this.name===e?(this.active=!0,this.dispatch("Submenu","on-update-active-name",e)):this.active=!1})}},y=Object(s.a)(y,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.to?e("a",{class:t.classes,style:t.itemStyle,attrs:{href:t.linkUrl,target:t.target},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handleClickItem(e,!1)},function(e){return e.ctrlKey?t.handleClickItem(e,!0):null},function(e){return e.metaKey?t.handleClickItem(e,!0):null}]}},[t._t("default")],2):e("li",{class:t.classes,style:t.itemStyle,on:{click:function(e){return e.stopPropagation(),t.handleClickItem(e)}}},[t._t("default")],2)},[],!1,null,null,null).exports;const Hi="ivu-menu";C={name:"Submenu",mixins:[c,C],components:{Icon:n,Drop:o,CollapseTransition:at},props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data(){return{prefixCls:Hi,active:!1,opened:!1,dropWidth:parseFloat(Object(h.l)(this.$el,"width"))}},computed:{classes(){return[Hi+"-submenu",{"ivu-menu-item-active":this.active&&!this.hasParentSubmenu,"ivu-menu-opened":this.opened,"ivu-menu-submenu-disabled":this.disabled,"ivu-menu-submenu-has-parent-submenu":this.hasParentSubmenu,"ivu-menu-child-item-active":this.active}]},accordion(){return this.menu.accordion},dropStyle(){var e={};return this.dropWidth&&(e.minWidth=this.dropWidth+"px"),e},titleStyle(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}},arrowType(){let e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.menu.customArrow?e="":this.$IVIEW.menu.arrow&&(e=this.$IVIEW.menu.arrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.menu.customArrow?this.$IVIEW.menu.customArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.menu.arrowSize?this.$IVIEW.menu.arrowSize:e}},methods:{handleMouseenter(){this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.menu.updateOpenKeys(this.name),this.opened=!0},250))},handleMouseleave(){this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.menu.updateOpenKeys(this.name),this.opened=!1},150))},handleClick(){var e;this.disabled||"horizontal"!==this.mode&&(e=this.opened,this.accordion&&this.$parent.$children.forEach(e=>{"Submenu"===e.$options.name&&(e.opened=!1)}),this.opened=!e,this.menu.updateOpenKeys(this.name))}},watch:{mode(e){"horizontal"===e&&this.$refs.drop.update()},opened(e){"vertical"!==this.mode&&(e?(this.dropWidth=parseFloat(Object(h.l)(this.$el,"width")),this.$refs.drop.update()):this.$refs.drop.destroy())}},mounted(){this.$on("on-menu-item-select",e=>("horizontal"===this.mode&&(this.opened=!1),this.dispatch("Menu","on-menu-item-select",e),!0)),this.$on("on-update-active-name",e=>{Object(h.g)(this,"Submenu")&&this.dispatch("Submenu","on-update-active-name",e),Object(h.h)(this,"Submenu")&&Object(h.h)(this,"Submenu").forEach(e=>{e.active=!1}),this.active=e})}},o=Object(s.a)(C,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("li",{class:t.classes,on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{ref:"reference",class:[t.prefixCls+"-submenu-title"],style:t.titleStyle,on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._t("title"),e("Icon",{class:[t.prefixCls+"-submenu-title-icon"],attrs:{type:t.arrowType,custom:t.customArrowType,size:t.arrowSize}})],2),"vertical"===t.mode?e("collapse-transition",[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],class:[t.prefixCls]},[t._t("default")],2)]):e("transition",{attrs:{name:"slide-up"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],ref:"drop",style:t.dropStyle,attrs:{placement:"bottom"}},[e("ul",{class:[t.prefixCls+"-drop-list"]},[t._t("default")],2)])],1)],1)},[],!1,null,null,null).exports,P.Group=f,P.Item=y,P.Sub=o,C=P,f={name:"RenderCell",functional:!0,props:{render:Function},render:(e,t)=>t.props.render(e)},y={components:{RenderCell:f},props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},type:{type:String},content:{type:String,default:""},withIcon:Boolean,render:{type:Function},hasTitle:Boolean,styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String},background:{type:Boolean,default:!1},msgType:{type:String}},data(){return{withDesc:!1}},computed:{baseClass(){return this.prefixCls+"-notice"},renderFunc(){return this.render||function(){}},classes(){return[this.baseClass,{[""+this.className]:!!this.className,[this.baseClass+"-closable"]:this.closable,[this.baseClass+"-with-desc"]:this.withDesc,[this.baseClass+"-with-background"]:this.background}]},contentClasses(){return[this.baseClass+"-content",void 0!==this.render?this.baseClass+"-content-with-render":""]},messageContentClasses(){return[this.baseClass+"-content",{[this.baseClass+"-content-"+this.msgType]:this.msgType,[this.baseClass+"-content-background"]:this.background}]},contentWithIcon(){return[this.withIcon?this.prefixCls+"-content-with-icon":"",!this.hasTitle&&this.withIcon?this.prefixCls+"-content-with-render-notitle":""]},messageClasses(){return[this.baseClass+"-content",void 0!==this.render?this.baseClass+"-content-with-render":""]}},methods:{clearCloseTimer(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)},handleEnter(e){"message"===this.type&&(e.style.height=e.scrollHeight+"px")},handleLeave(e){"message"===this.type&&1!==document.getElementsByClassName("ivu-message-notice").length&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)}},mounted(){var e;this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout(()=>{this.close()},1e3*this.duration)),"ivu-notice"===this.prefixCls&&(e=this.$refs.content.querySelectorAll(`.${this.prefixCls}-desc`)[0],this.withDesc=!!this.render||!!e&&""!==e.innerHTML)},beforeDestroy(){this.clearCloseTimer()}},o=Object(s.a)(y,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("transition",{attrs:{name:e.transitionName,appear:""},on:{enter:e.handleEnter,leave:e.handleLeave}},[t("div",{class:e.classes,style:e.styles},["notice"===e.type?[t("div",{ref:"content",class:e.contentClasses,domProps:{innerHTML:e._s(e.content)}}),t("div",{class:e.contentWithIcon},[t("render-cell",{attrs:{render:e.renderFunc}})],1),e.closable?t("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[t("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]):e._e()]:e._e(),"message"===e.type?[t("div",{ref:"content",class:e.messageContentClasses},[t("div",{class:[e.baseClass+"-content-text"],domProps:{innerHTML:e._s(e.content)}}),t("div",{class:[e.baseClass+"-content-text"]},[t("render-cell",{attrs:{render:e.renderFunc}})],1),e.closable?t("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[t("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]):e._e()])]:e._e()],2)])},[],!1,null,null,null).exports;let qi=0;const Gi=Date.now();var P={components:{Notice:o},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data(){return{notices:[],tIndex:this.handleGetIndex()}},computed:{classes(){return[""+this.prefixCls,{[""+this.className]:!!this.className}]},wrapStyles(){var e=Object.assign({},this.styles);return e["z-index"]=1010+this.tIndex,e}},methods:{add(e){var t=e.name||"ivuNotification_"+Gi+"_"+qi++,t=Object.assign({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:t},e);this.notices.push(t),this.tIndex=this.handleGetIndex()},close(t){var i=this.notices;for(let e=0;e<i.length;e++)if(i[e].name===t){this.notices.splice(e,1);break}},closeAll(){this.notices=[]},handleGetIndex(){return G(),H}}},Yi=Object(s.a)(P,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes,style:t.wrapStyles},t._l(t.notices,function(e){return i("Notice",{key:e.name,attrs:{"prefix-cls":t.prefixCls,styles:e.styles,type:e.type,content:e.content,duration:e.duration,render:e.render,"has-title":e.hasTitle,withIcon:e.withIcon,closable:e.closable,name:e.name,"transition-name":e.transitionName,background:e.background,"msg-type":e.msgType,"on-close":e.onClose}})}),1)},[],!1,null,null,null).exports,Qi=(Yi.newInstance=e=>{const t=e||{},i=new r.default({render(e){return e(Yi,{props:t})}}),s=i.$mount(),n=(document.body.appendChild(s.$el),i.$children[0]);return{notice(e){n.add(e)},remove(e){n.close(e)},component:n,destroy(e){n.closeAll(),setTimeout(function(){document.body.removeChild(document.getElementsByClassName(e)[0])},500)}}},Yi);const Ki="ivu-message",Xi="ivu_message_key_",Zi={top:24,duration:1.5};let Ji,es=1;const ts={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle",loading:"ios-loading"};function is(){return Ji=Ji||Qi.newInstance({prefixCls:Ki,styles:{top:Zi.top+"px"}})}var ss={name:"Message",info(e){return this.message("info",e)},success(e){return this.message("success",e)},warning(e){return this.message("warning",e)},error(e){return this.message("error",e)},loading(e){return this.message("loading",e)},message(e,i){"string"==typeof i&&(i={content:i});{var[e="",i=Zi.duration,s,n=function(){},r=!1,a=function(){},o=!1]=[i.content,i.duration,e,i.onClose,i.closable,i.render,i.background],l=ts[s],c="loading"===s?" ivu-load-loop":"";let t=is();t.notice({name:Xi+es,duration:i,styles:{},transitionName:"move-up",content:`
            <div class="${Ki}-custom-content ${Ki}-${s}">
                <i class="ivu-icon ivu-icon-${l} ${c}"></i>
                <span>${e}</span>
            </div>
        `,render:a,onClose:n,closable:r,type:"message",msgType:s,background:o});{let e=es++;return function(){t.remove(Xi+e)}}}},config(e){!e.top&&0!==e.top||(Zi.top=e.top),!e.duration&&0!==e.duration||(Zi.duration=e.duration)},destroy(){var e=is();Ji=null,e.destroy("ivu-message")}};const ns="ivu-modal",rs={x:null,y:null,dragX:null,dragY:null,dragging:!1,rect:null};var y={name:"Modal",mixins:[d,c,T],components:{Icon:a,iButton:v},directives:{TransferDom:l},props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default(){return!this.$IVIEW||""===this.$IVIEW.modal.maskClosable||this.$IVIEW.modal.maskClosable}},title:{type:String},width:{type:[Number,String],default:520},okText:{type:String},cancelText:{type:String},loading:{type:Boolean,default:!1},styles:{type:Object,default(){return{}}},className:{type:String},footerHide:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},transitionNames:{type:Array,default(){return["ease","fade"]}},transfer:{type:Boolean,default(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},fullscreen:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},stickyDistance:{type:Number,default:10},resetDragPosition:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3},beforeClose:Function},data(){return{prefixCls:ns,wrapShow:!1,showHead:!0,buttonLoading:!1,visible:this.value,dragData:Object(h.c)(rs),modalIndex:this.handleGetModalIndex(),isMouseTriggerIn:!1}},computed:{wrapClasses(){return[ns+"-wrap",{"ivu-modal-hidden":!this.wrapShow,[""+this.className]:!!this.className,"ivu-modal-no-mask":!this.showMask}]},wrapStyles(){return{zIndex:this.modalIndex+this.zIndex}},maskClasses(){return ns+"-mask"},classes(){return[ns,{"ivu-modal-fullscreen":this.fullscreen,"ivu-modal-fullscreen-no-header":this.fullscreen&&!this.showHead,"ivu-modal-fullscreen-no-footer":this.fullscreen&&this.footerHide}]},contentClasses(){return[ns+"-content",{"ivu-modal-content-no-mask":!this.showMask,"ivu-modal-content-drag":this.draggable&&!this.fullscreen,"ivu-modal-content-dragging":this.draggable&&this.dragData.dragging}]},mainStyles(){var e={},t=parseInt(this.width),t=null!==this.dragData.x?{top:0}:{width:t<=100?t+"%":t+"px"},i=this.styles||{};return Object.assign(e,t,i),e},contentStyles(){var e,t,i={};return this.draggable&&!this.fullscreen&&(e=this.styles.top?parseFloat(this.styles.top):0,t=this.styles.left?parseFloat(this.styles.left):0,null!==this.dragData.x&&(i.left=this.dragData.x-t+"px"),null!==this.dragData.y&&(i.top=this.dragData.y+"px"),null!==this.dragData.y&&(i.top=this.dragData.y-e+"px"),t=parseInt(this.width),Object.assign(i,{width:t<=100?t+"%":t+"px"})),i},localeOkText(){return void 0===this.okText?this.t("i.modal.okText"):this.okText},localeCancelText(){return void 0===this.cancelText?this.t("i.modal.cancelText"):this.cancelText},showMask(){return this.mask}},methods:{close(){if(!this.beforeClose)return this.handleClose();var e=this.beforeClose();e&&e.then?e.then(()=>{this.handleClose()}):this.handleClose()},handleClose(){this.visible=!1,this.$emit("input",!1),this.$emit("on-cancel")},handleMask(){this.maskClosable&&this.showMask&&this.close()},handleWrapClick(e){this.isMouseTriggerIn?this.isMouseTriggerIn=!1:(e=e.target.getAttribute("class"))&&-1<e.indexOf(ns+"-wrap")&&this.handleMask()},handleMousedown(){this.isMouseTriggerIn=!0},cancel(){this.close()},ok(){this.loading?this.buttonLoading=!0:(this.visible=!1,this.$emit("input",!1)),this.$emit("on-ok")},EscClose(e){if(this.visible&&this.closable&&27===e.keyCode){const e=Object(h.h)(this.$root,"Modal").filter(e=>e.$data.visible&&e.$props.closable),t=e.sort((e,t)=>e.$data.modalIndex<t.$data.modalIndex?1:-1)[0];setTimeout(()=>{t.close()},0)}},animationFinish(){this.$emit("on-hidden")},handleMoveStart(e){if(!this.draggable||this.fullscreen)return!1;var t=this.$refs.content.getBoundingClientRect(),t=(this.dragData.rect=t,this.dragData.x=t.x||t.left,this.dragData.y=t.y||t.top,{x:e.clientX,y:e.clientY});this.dragData.dragX=t.x,this.dragData.dragY=t.y,this.dragData.dragging=!0,i(window,"mousemove",this.handleMoveMove),i(window,"mouseup",this.handleMoveEnd)},handleMoveMove(e){if(!this.dragData.dragging||this.fullscreen)return!1;const t={x:e.clientX,y:e.clientY},i=t.x-this.dragData.dragX,s=t.y-this.dragData.dragY;if(this.sticky){const e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;this.dragData.x+i<=this.stickyDistance&&i<0?this.dragData.x=0:this.dragData.x+this.dragData.rect.width-e>-this.stickyDistance&&0<i?this.dragData.x=e-this.dragData.rect.width:this.dragData.x+=i,this.dragData.y+s<=this.stickyDistance&&s<0?this.dragData.y=0:this.dragData.y+this.dragData.rect.height-t>-this.stickyDistance&&0<s?this.dragData.y=t-this.dragData.rect.height:this.dragData.y+=s}else this.dragData.x+=i,this.dragData.y+=s;this.dragData.dragX=t.x,this.dragData.dragY=t.y},handleMoveEnd(){this.dragData.dragging=!1,t(window,"mousemove",this.handleMoveMove),t(window,"mouseup",this.handleMoveEnd)},handleGetModalIndex(){return G(),H},handleClickModal(){this.draggable&&(q!==this.lastVisibleIndex?this.lastVisibleIndex=q:this.modalIndex=this.handleGetModalIndex())}},mounted(){this.visible&&(this.wrapShow=!0);let e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,document.addEventListener("keydown",this.EscClose)},beforeDestroy(){document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},watch:{value(e){this.visible=e},visible(e){!1===e?(this.buttonLoading=!1,this.timer=setTimeout(()=>{this.wrapShow=!1,this.removeScrollEffect()},300)):(this.lastVisible!==e&&(this.modalIndex=this.handleGetModalIndex(),q++),this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e),this.lastVisible=e,this.lastVisibleIndex=q,e&&this.resetDragPosition&&(this.dragData=Object(h.c)(rs))},loading(e){e||(this.buttonLoading=!1)},scrollable(e){e?this.removeScrollEffect():this.addScrollEffect()},title(e){void 0===this.$slots.header&&(this.showHead=!!e)}}},as=Object(s.a)(y,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":t.transfer}},[e("transition",{attrs:{name:t.transitionNames[1]}},[t.showMask?e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.maskClasses,style:t.wrapStyles,on:{click:t.handleMask}}):t._e()]),e("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleWrapClick}},[e("transition",{attrs:{name:t.transitionNames[0]},on:{"after-leave":t.animationFinish}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.classes,style:t.mainStyles,on:{mousedown:t.handleMousedown}},[e("div",{ref:"content",class:t.contentClasses,style:t.contentStyles,on:{click:t.handleClickModal}},[t.closable?e("a",{class:[t.prefixCls+"-close"],on:{click:t.close}},[t._t("close",[e("Icon",{attrs:{type:"ios-close"}})])],2):t._e(),t.showHead?e("div",{class:[t.prefixCls+"-header"],on:{mousedown:t.handleMoveStart}},[t._t("header",[e("div",{class:[t.prefixCls+"-header-inner"]},[t._v(t._s(t.title))])])],2):t._e(),e("div",{class:[t.prefixCls+"-body"]},[t._t("default")],2),t.footerHide?t._e():e("div",{class:[t.prefixCls+"-footer"]},[t._t("footer",[e("i-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(t._s(t.localeCancelText))]),e("i-button",{attrs:{type:"primary",loading:t.buttonLoading},nativeOn:{click:function(e){return t.ok(e)}}},[t._v(t._s(t.localeOkText))])])],2)])])])],1)],1)},[],!1,null,null,null).exports;const os="ivu-modal-confirm";as.newInstance=e=>{const n=e||{},t=new r.default({mixins:[d],data:Object.assign({},n,{visible:!1,width:416,title:"",body:"",iconType:"",iconName:"",okText:void 0,cancelText:void 0,showCancel:!1,loading:!1,buttonLoading:!1,scrollable:!1,closable:!1,closing:!1}),render(e){let t,i,s=[];return this.showCancel&&s.push(e(v,{props:{type:"text"},on:{click:this.cancel}},this.localeCancelText)),s.push(e(v,{props:{type:"primary",loading:this.buttonLoading},on:{click:this.ok}},this.localeOkText)),t=this.render?e("div",{attrs:{class:os+`-body ${os}-body-render`}},[this.render(e)]):e("div",{attrs:{class:os+"-body"}},[e("div",{domProps:{innerHTML:this.body}})]),this.title&&(i=e("div",{attrs:{class:os+"-head"}},[e("div",{class:this.iconTypeCls},[e("i",{class:this.iconNameCls})]),e("div",{attrs:{class:os+"-head-title"},domProps:{innerHTML:this.title}})])),e(as,{props:Object.assign({},n,{width:this.width,scrollable:this.scrollable,closable:this.closable}),domProps:{value:this.visible},on:{input:e=>{this.visible=e},"on-cancel":this.cancel}},[e("div",{attrs:{class:os}},[i,t,e("div",{attrs:{class:os+"-footer"}},s)])])},computed:{iconTypeCls(){return[os+"-head-icon",os+"-head-icon-"+this.iconType]},iconNameCls(){return["ivu-icon","ivu-icon-"+this.iconName]},localeOkText(){return this.okText||this.t("i.modal.okText")},localeCancelText(){return this.cancelText||this.t("i.modal.cancelText")}},methods:{cancel(){this.closing||(this.$children[0].visible=!1,this.buttonLoading=!1,this.onCancel(),this.remove())},ok(){this.closing||(this.loading?this.buttonLoading=!0:(this.$children[0].visible=!1,this.remove()),this.onOk())},remove(){this.closing=!0,setTimeout(()=>{this.closing=!1,this.destroy()},300)},destroy(){this.$destroy(),this.$el&&document.body.removeChild(this.$el),this.onRemove()},onOk(){},onCancel(){},onRemove(){}}}),i=t.$mount(),s=(document.body.appendChild(i.$el),t.$children[0]);return{show(e){switch(s.$parent.showCancel=e.showCancel,s.$parent.iconType=e.icon,e.icon){case"info":s.$parent.iconName="ios-information-circle";break;case"success":s.$parent.iconName="ios-checkmark-circle";break;case"warning":s.$parent.iconName="ios-alert";break;case"error":s.$parent.iconName="ios-close-circle";break;case"confirm":s.$parent.iconName="ios-help-circle"}"width"in e&&(s.$parent.width=e.width),"closable"in e&&(s.$parent.closable=e.closable),"title"in e&&(s.$parent.title=e.title),"content"in e&&(s.$parent.body=e.content),"okText"in e&&(s.$parent.okText=e.okText),"cancelText"in e&&(s.$parent.cancelText=e.cancelText),"onCancel"in e&&(s.$parent.onCancel=e.onCancel),"onOk"in e&&(s.$parent.onOk=e.onOk),"loading"in e&&(s.$parent.loading=e.loading),"scrollable"in e&&(s.$parent.scrollable=e.scrollable),s.$parent.onRemove=e.onRemove,s.visible=!0},remove(){s.visible=!1,s.$parent.buttonLoading=!1,s.$parent.remove()},component:s}};var ls=as;let cs;function us(e,t=!0){return cs=cs||ls.newInstance({closable:!1,maskClosable:!1,footerHide:!0,render:e,lockScroll:t})}function hs(e){var t=us("render"in e?e.render:void 0,!("lockScroll"in e)||e.lockScroll);e.onRemove=function(){cs=null},t.show(e)}ls.info=function(e={}){return e.icon="info",e.showCancel=!1,hs(e)},ls.success=function(e={}){return e.icon="success",e.showCancel=!1,hs(e)},ls.warning=function(e={}){return e.icon="warning",e.showCancel=!1,hs(e)},ls.error=function(e={}){return e.icon="error",e.showCancel=!1,hs(e)},ls.confirm=function(e={}){return e.icon="confirm",e.showCancel=!0,hs(e)},ls.remove=function(){if(!cs)return!1;us().remove()};var ds=ls;const N="ivu-notice";let ps,ms=24,fs=4.5,gs=1;const ys={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle"};function vs(){return ps=ps||Qi.newInstance({prefixCls:N,styles:{top:ms+"px",right:0}})}function bs(e,t){const i=t.title||"",s=t.desc||"",n=t.name||"ivu_notice_key_"+gs,r=t.onClose||function(){},a=t.render,o=0===t.duration?0:t.duration||fs;gs++;let l,c,u=vs();var h=(!t.render||i)&&(s||t.render)?` ${N}-with-desc`:"";if("normal"==e)c=!1,l=`
            <div class="${N}-custom-content ${N}-with-normal ${h}">
                <div class="${N}-title">${i}</div>
                <div class="${N}-desc">${s}</div>
            </div>
        `;else{const t=ys[e],n=h?"-outline":"";c=!0,l=`
            <div class="${N}-custom-content ${N}-with-icon ${N}-with-${e} ${h}">
                <span class="${N}-icon ${N}-icon-${e}">
                    <i class="ivu-icon ivu-icon-${t}${n}"></i>
                </span>
                <div class="${N}-title">${i}</div>
                <div class="${N}-desc">${s}</div>
            </div>
        `}u.notice({name:n.toString(),duration:o,styles:{},transitionName:"move-notice",content:l,withIcon:c,render:a,hasTitle:!!i,onClose:r,closable:!0,type:"notice"})}var ws={open(e){return bs("normal",e)},info(e){return bs("info",e)},success(e){return bs("success",e)},warning(e){return bs("warning",e)},error(e){return bs("error",e)},config(e){e.top&&(ms=e.top),!e.duration&&0!==e.duration||(fs=e.duration)},close(e){if(!e)return!1;e=e.toString(),ps&&ps.remove(e)},destroy(){var e=vs();ps=null,e.destroy("ivu-notice")}};const Ss="ivu-page";o={name:"PageOption",mixins:[d],components:{iSelect:ae,iOption:p},props:{pageSizeOpts:Array,showSizer:Boolean,showElevator:Boolean,current:Number,_current:Number,pageSize:Number,allPages:Number,isSmall:Boolean,placement:String,transfer:Boolean,disabled:Boolean,eventsEnabled:Boolean},data(){return{currentPageSize:this.pageSize}},watch:{pageSize(e){this.currentPageSize=e}},computed:{size(){return this.isSmall?"small":"default"},optsClasses(){return[Ss+"-options"]},sizerClasses(){return[Ss+"-options-sizer"]},ElevatorClasses(){return[Ss+"-options-elevator"]}},methods:{changeSize(){this.$emit("on-size",this.currentPageSize)},changePage(e){let t=e.target.value.trim(),i=0;if(/^[1-9][0-9]*$/.test(t+"")){if((t=Number(t))!=this.current){const e=this.allPages;i=t>e?e:t}}else i=1;i&&(this.$emit("on-page",i),e.target.value=i)}}},P=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showSizer||t.showElevator?i("div",{class:t.optsClasses},[t.showSizer?i("div",{class:t.sizerClasses},[i("i-select",{attrs:{size:t.size,placement:t.placement,transfer:t.transfer,disabled:t.disabled,eventsEnabled:t.eventsEnabled},on:{"on-change":t.changeSize},model:{value:t.currentPageSize,callback:function(e){t.currentPageSize=e},expression:"currentPageSize"}},t._l(t.pageSizeOpts,function(e){return i("i-option",{key:e,staticStyle:{"text-align":"center"},attrs:{value:e}},[t._v(t._s(e)+" "+t._s(t.t("i.page.page")))])}),1)],1):t._e(),t.showElevator?i("div",{class:t.ElevatorClasses},[t._v(" "+t._s(t.t("i.page.goto"))+" "),i("input",{attrs:{type:"text",autocomplete:"off",spellcheck:"false",disabled:t.disabled},domProps:{value:t._current},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePage(e)}}}),t._v(" "+t._s(t.t("i.page.p"))+" ")]):t._e()]):t._e()},[],!1,null,null,null).exports;const _s="ivu-page";T={name:"Page",mixins:[d],components:{Options:P},props:{current:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageSizeOpts:{type:Array,default(){return[10,20,30,40]}},placement:{validator(e){return Object(h.m)(e,["top","bottom"])},default:"bottom"},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},size:{validator(e){return Object(h.m)(e,["small","default"])}},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showElevator:{type:Boolean,default:!1},showSizer:{type:Boolean,default:!1},className:{type:String},styles:{type:Object},prevText:{type:String,default:""},nextText:{type:String,default:""},disabled:{type:Boolean,default:!1},eventsEnabled:{type:Boolean,default:!1}},data(){return{prefixCls:_s,currentPage:this.current,currentPageSize:this.pageSize}},watch:{total(e){e=Math.ceil(e/this.currentPageSize);e<this.currentPage&&(this.currentPage=0===e?1:e)},current(e){this.currentPage=e},pageSize(e){this.currentPageSize=e}},computed:{isSmall(){return"small"===this.size},allPages(){var e=Math.ceil(this.total/this.currentPageSize);return 0===e?1:e},simpleWrapClasses(){return[_s,_s+"-simple",{[""+this.className]:!!this.className}]},simplePagerClasses(){return _s+"-simple-pager"},wrapClasses(){return[_s,{[""+this.className]:!!this.className,"ivu-page-with-disabled":this.disabled,mini:"small"===this.size}]},prevClasses(){return[_s+"-prev",{"ivu-page-disabled":1===this.currentPage||this.disabled,"ivu-page-custom-text":""!==this.prevText}]},nextClasses(){return[_s+"-next",{"ivu-page-disabled":this.currentPage===this.allPages||this.disabled,"ivu-page-custom-text":""!==this.nextText}]},firstPageClasses(){return[_s+"-item",{"ivu-page-item-active":1===this.currentPage}]},lastPageClasses(){return[_s+"-item",{"ivu-page-item-active":this.currentPage===this.allPages}]}},methods:{changePage(e){this.disabled||this.currentPage!=e&&(this.currentPage=e,this.$emit("update:current",e),this.$emit("on-change",e))},prev(){var e;if(!this.disabled)return!((e=this.currentPage)<=1)&&(this.changePage(e-1),void this.$emit("on-prev",e-1))},next(){var e;if(!this.disabled)return!((e=this.currentPage)>=this.allPages)&&(this.changePage(e+1),void this.$emit("on-next",e+1))},fastPrev(){var e;this.disabled||(0<(e=this.currentPage-5)?this.changePage(e):this.changePage(1))},fastNext(){var e;this.disabled||((e=this.currentPage+5)>this.allPages?this.changePage(this.allPages):this.changePage(e))},onSize(e){this.disabled||(this.currentPageSize=e,this.$emit("on-page-size-change",e),this.changePage(1))},onPage(e){this.disabled||this.changePage(e)},keyDown(e){var t=e.keyCode;48<=t&&t<=57||96<=t&&t<=105||8===t||37===t||39===t||e.preventDefault()},keyUp(e){var t=e.keyCode,i=parseInt(e.target.value);38===t?this.prev():40===t?this.next():13===t&&(t=1,t=i>this.allPages?this.allPages:i<=0||!i?1:i,e.target.value=t,this.changePage(t))}}},y=Object(s.a)(T,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.simple?e("ul",{class:t.simpleWrapClasses,style:t.styles},[e("li",{class:t.prevClasses,attrs:{title:t.t("i.page.prev")},on:{click:t.prev}},[t._m(0)]),e("div",{class:t.simplePagerClasses,attrs:{title:t.currentPage+"/"+t.allPages}},[e("input",{attrs:{type:"text",autocomplete:"off",spellcheck:"false",disabled:t.disabled},domProps:{value:t.currentPage},on:{keydown:t.keyDown,keyup:t.keyUp,change:t.keyUp}}),e("span",[t._v("/")]),t._v(" "+t._s(t.allPages)+" ")]),e("li",{class:t.nextClasses,attrs:{title:t.t("i.page.next")},on:{click:t.next}},[t._m(1)])]):e("ul",{class:t.wrapClasses,style:t.styles},[t.showTotal?e("span",{class:[t.prefixCls+"-total"]},[t._t("default",[t._v(t._s(t.t("i.page.total"))+" "+t._s(t.total)+" "),t.total<=1?[t._v(t._s(t.t("i.page.item")))]:[t._v(t._s(t.t("i.page.items")))]])],2):t._e(),e("li",{class:t.prevClasses,attrs:{title:t.t("i.page.prev")},on:{click:t.prev}},[e("a",[""!==t.prevText?[t._v(t._s(t.prevText))]:e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})],2)]),e("li",{class:t.firstPageClasses,attrs:{title:"1"},on:{click:function(e){return t.changePage(1)}}},[e("a",[t._v("1")])]),5<t.currentPage?e("li",{class:[t.prefixCls+"-item-jump-prev"],attrs:{title:t.t("i.page.prev5")},on:{click:t.fastPrev}},[t._m(2)]):t._e(),5===t.currentPage?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage-3},on:{click:function(e){return t.changePage(t.currentPage-3)}}},[e("a",[t._v(t._s(t.currentPage-3))])]):t._e(),1<t.currentPage-2?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage-2},on:{click:function(e){return t.changePage(t.currentPage-2)}}},[e("a",[t._v(t._s(t.currentPage-2))])]):t._e(),1<t.currentPage-1?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage-1},on:{click:function(e){return t.changePage(t.currentPage-1)}}},[e("a",[t._v(t._s(t.currentPage-1))])]):t._e(),1!=t.currentPage&&t.currentPage!=t.allPages?e("li",{class:[t.prefixCls+"-item",t.prefixCls+"-item-active"],attrs:{title:t.currentPage}},[e("a",[t._v(t._s(t.currentPage))])]):t._e(),t.currentPage+1<t.allPages?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage+1},on:{click:function(e){return t.changePage(t.currentPage+1)}}},[e("a",[t._v(t._s(t.currentPage+1))])]):t._e(),t.currentPage+2<t.allPages?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage+2},on:{click:function(e){return t.changePage(t.currentPage+2)}}},[e("a",[t._v(t._s(t.currentPage+2))])]):t._e(),t.allPages-t.currentPage==4?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage+3},on:{click:function(e){return t.changePage(t.currentPage+3)}}},[e("a",[t._v(t._s(t.currentPage+3))])]):t._e(),5<=t.allPages-t.currentPage?e("li",{class:[t.prefixCls+"-item-jump-next"],attrs:{title:t.t("i.page.next5")},on:{click:t.fastNext}},[t._m(3)]):t._e(),1<t.allPages?e("li",{class:t.lastPageClasses,attrs:{title:t.allPages},on:{click:function(e){return t.changePage(t.allPages)}}},[e("a",[t._v(t._s(t.allPages))])]):t._e(),e("li",{class:t.nextClasses,attrs:{title:t.t("i.page.next")},on:{click:t.next}},[e("a",[""!==t.nextText?[t._v(t._s(t.nextText))]:e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})],2)]),e("Options",{attrs:{"show-sizer":t.showSizer,"page-size":t.currentPageSize,"page-size-opts":t.pageSizeOpts,placement:t.placement,transfer:t.transfer,"show-elevator":t.showElevator,_current:t.currentPage,current:t.currentPage,disabled:t.disabled,"all-pages":t.allPages,"is-small":t.isSmall,eventsEnabled:t.eventsEnabled},on:{"on-size":t.onSize,"on-page":t.onPage}})],1)},[function(){var e=this.$createElement,e=this._self._c||e;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})])},function(){var e=this.$createElement,e=this._self._c||e;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})])},function(){var e=this.$createElement,e=this._self._c||e;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"}),e("i",{staticClass:"ivu-icon ivu-icon-ios-more"})])},function(){var e=this.$createElement,e=this._self._c||e;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"}),e("i",{staticClass:"ivu-icon ivu-icon-ios-more"})])}],!1,null,null,null).exports;const Cs=r.default.prototype.$isServer,ks=Cs?function(){}:e("d2e4");o={props:{eventsEnabled:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:Object,popper:Object,offset:{default:0},value:{type:Boolean,default:!1},transition:String,options:{type:Object,default(){return{modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}}},data(){return{visible:this.value}},watch:{value:{immediate:!0,handler(e){this.visible=e,this.$emit("input",e)}},visible(e){e?(this.handleIndexIncrease&&this.handleIndexIncrease(),this.updatePopper(),this.$emit("on-popper-show")):this.$emit("on-popper-hide"),this.$emit("input",e)}},methods:{createPopper(){var e,t,i;Cs||/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)&&(e=this.options,t=this.popper||this.$refs.popper,i=this.reference||this.$refs.reference,t)&&i&&(this.popperJS&&this.popperJS.hasOwnProperty("destroy")&&this.popperJS.destroy(),e.eventsEnabled=this.eventsEnabled,e.placement=this.placement,e.modifiers.offset||(e.modifiers.offset={}),e.modifiers.offset.offset=this.offset,e.onCreate=()=>{this.$nextTick(this.updatePopper),this.$emit("created",this)},this.popperJS=new ks(i,t,e))},updatePopper(){Cs||(this.popperJS?this.popperJS.update():this.createPopper())},doDestroy(){Cs||this.visible||(this.popperJS.destroy(),this.popperJS=null)}},updated(){this.$nextTick(()=>this.updatePopper())},beforeDestroy(){Cs||this.popperJS&&this.popperJS.destroy()}};const xs="ivu-poptip";P={name:"Poptip",mixins:[o,d],directives:{clickOutside:Qe,TransferDom:l},components:{iButton:v},props:{trigger:{validator(e){return Object(h.m)(e,["click","focus","hover"])},default:"click"},placement:{validator(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"top"},title:{type:[String,Number]},content:{type:[String,Number],default:""},width:{type:[String,Number]},confirm:{type:Boolean,default:!1},okText:{type:String},cancelText:{type:String},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},popperClass:{type:String},wordWrap:{type:Boolean,default:!1},padding:{type:String},disabled:{type:Boolean,default:!1},capture:{type:Boolean,default(){return!!this.$IVIEW&&this.$IVIEW.capture}},transferClassName:{type:String}},data(){return{prefixCls:xs,showTitle:!0,isInput:!1,disableCloseUnderTransfer:!1,tIndex:this.handleGetIndex()}},computed:{classes(){return[xs,{"ivu-poptip-confirm":this.confirm}]},popperClasses(){return[xs+"-popper",{"ivu-poptip-confirm":this.transfer&&this.confirm,[""+this.popperClass]:!!this.popperClass,"ivu-poptip-transfer":this.transfer,[this.transferClassName]:this.transferClassName}]},styles(){var e={};return this.width&&(e.width=this.width+"px"),this.transfer&&(e["z-index"]=1060+this.tIndex),e},localeOkText(){return void 0===this.okText?this.t("i.poptip.okText"):this.okText},localeCancelText(){return void 0===this.cancelText?this.t("i.poptip.cancelText"):this.cancelText},contentClasses(){return[xs+"-body-content",{"ivu-poptip-body-content-word-wrap":this.wordWrap}]},contentPaddingStyle(){var e={};return""!==this.padding&&(e.padding=this.padding),e}},methods:{handleClick(){if(!this.disabled)return this.confirm?(this.visible=!this.visible,!0):"click"===this.trigger&&void(this.visible=!this.visible)},handleTransferClick(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose(){return this.disableCloseUnderTransfer?this.disableCloseUnderTransfer=!1:this.confirm?!(this.visible=!1):"click"===this.trigger&&void(this.visible=!1)},handleFocus(e=!0){if(!this.disabled)return!("focus"!==this.trigger||this.confirm||this.isInput&&!e)&&void(this.visible=!0)},handleBlur(e=!0){if("focus"!==this.trigger||this.confirm||this.isInput&&!e)return!1;this.visible=!1},handleMouseenter(){if(!this.disabled){if("hover"!==this.trigger||this.confirm)return!1;this.enterTimer&&clearTimeout(this.enterTimer),this.enterTimer=setTimeout(()=>{this.visible=!0},100)}},handleMouseleave(){if("hover"!==this.trigger||this.confirm)return!1;this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=setTimeout(()=>{this.visible=!1},100))},cancel(){this.visible=!1,this.$emit("on-cancel")},ok(){this.visible=!1,this.$emit("on-ok")},getInputChildren(){var e=this.$refs.reference.querySelectorAll("input"),t=this.$refs.reference.querySelectorAll("textarea");let i=null;return e.length?i=e[0]:t.length&&(i=t[0]),i},handleGetIndex(){return G(),H},handleIndexIncrease(){this.tIndex=this.handleGetIndex()}},mounted(){this.confirm||(this.showTitle=void 0!==this.$slots.title||this.title),"focus"===this.trigger&&this.$nextTick(()=>{var e=this.getInputChildren();e&&(this.isInput=!0,e.addEventListener("focus",this.handleFocus,!1),e.addEventListener("blur",this.handleBlur,!1))})},beforeDestroy(){var e=this.getInputChildren();e&&(e.removeEventListener("focus",this.handleFocus,!1),e.removeEventListener("blur",this.handleBlur,!1))}},T=Object(s.a)(P,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleClose,expression:"handleClose"}],class:t.classes,on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{ref:"reference",class:[t.prefixCls+"-rel"],on:{click:t.handleClick,mousedown:function(e){return t.handleFocus(!1)},mouseup:function(e){return t.handleBlur(!1)}}},[t._t("default")],2),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:t.popperClasses,style:t.styles,attrs:{"data-transfer":t.transfer},on:{click:t.handleTransferClick,mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{class:[t.prefixCls+"-content"]},[e("div",{class:[t.prefixCls+"-arrow"]}),t.confirm?e("div",{class:[t.prefixCls+"-inner"]},[e("div",{class:[t.prefixCls+"-body"]},[e("i",{staticClass:"ivu-icon ivu-icon-ios-help-circle"}),e("div",{class:[t.prefixCls+"-body-message"]},[t._t("title",[t._v(t._s(t.title))])],2)]),e("div",{class:[t.prefixCls+"-footer"]},[e("i-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(t._s(t.localeCancelText))]),e("i-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.ok(e)}}},[t._v(t._s(t.localeOkText))])],1)]):t._e(),t.confirm?t._e():e("div",{class:[t.prefixCls+"-inner"]},[t.showTitle?e("div",{ref:"title",class:[t.prefixCls+"-title"],style:t.contentPaddingStyle},[t._t("title",[e("div",{class:[t.prefixCls+"-title-inner"]},[t._v(t._s(t.title))])])],2):t._e(),e("div",{class:[t.prefixCls+"-body"],style:t.contentPaddingStyle},[e("div",{class:t.contentClasses},[t._t("content",[e("div",{class:[t.prefixCls+"-body-content-inner"]},[t._v(t._s(t.content))])])],2)])])])])])],1)},[],!1,null,null,null).exports,Qe=T;const Ts="ivu-progress";var P={name:"Progress",components:{Icon:a},props:{percent:{type:Number,default:0},successPercent:{type:Number,default:0},status:{validator(e){return Object(h.m)(e,["normal","active","wrong","success"])},default:"normal"},hideInfo:{type:Boolean,default:!1},strokeWidth:{type:Number,default:10},vertical:{type:Boolean,default:!1},strokeColor:{type:[String,Array]},textInside:{type:Boolean,default:!1}},data(){return{currentStatus:this.status}},computed:{isStatus(){return"wrong"==this.currentStatus||"success"==this.currentStatus},statusIcon(){let e="";switch(this.currentStatus){case"wrong":e="ios-close-circle";break;case"success":e="ios-checkmark-circle"}return e},bgStyle(){var e=this.vertical?{height:this.percent+"%",width:this.strokeWidth+"px"}:{width:this.percent+"%",height:this.strokeWidth+"px"};return this.strokeColor&&("string"==typeof this.strokeColor?e["background-color"]=this.strokeColor:e["background-image"]=`linear-gradient(to right, ${this.strokeColor[0]} 0%, ${this.strokeColor[1]} 100%)`),e},successBgStyle(){return this.vertical?{height:this.successPercent+"%",width:this.strokeWidth+"px"}:{width:this.successPercent+"%",height:this.strokeWidth+"px"}},wrapClasses(){return[Ts,Ts+"-"+this.currentStatus,{"ivu-progress-show-info":!this.hideInfo&&!this.textInside,"ivu-progress-vertical":this.vertical}]},textClasses(){return Ts+"-text"},textInnerClasses(){return Ts+"-text-inner"},outerClasses(){return Ts+"-outer"},innerClasses(){return Ts+"-inner"},bgClasses(){return Ts+"-bg"},successBgClasses(){return Ts+"-success-bg"}},created(){this.handleStatus()},methods:{handleStatus(e){e?(this.currentStatus="normal",this.$emit("on-status-change","normal")):100==parseInt(this.percent,10)&&(this.currentStatus="success",this.$emit("on-status-change","success"))}},watch:{percent(e,t){e<t?this.handleStatus(!0):this.handleStatus()},status(e){this.currentStatus=e}}},P=Object(s.a)(P,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.wrapClasses},[t("div",{class:e.outerClasses},[t("div",{class:e.innerClasses},[t("div",{class:e.bgClasses,style:e.bgStyle},[e.textInside?t("div",{staticClass:"ivu-progress-inner-text"},[e._v(e._s(e.percent)+"%")]):e._e()]),t("div",{class:e.successBgClasses,style:e.successBgStyle})])]),e.hideInfo||e.textInside?e._e():t("span",{class:e.textClasses},[e._t("default",[e.isStatus?t("span",{class:e.textInnerClasses},[t("Icon",{attrs:{type:e.statusIcon}})],1):t("span",{class:e.textInnerClasses},[e._v(" "+e._s(e.percent)+"% ")])])],2)])},[],!1,null,null,null).exports,Is=P;const Ps="ivu-radio";var As={name:"Radio",mixins:[c,u],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},border:{type:Boolean,default:!1}},data(){return{currentValue:this.value,group:!1,groupName:this.name,parent:Object(h.g)(this,"RadioGroup"),focusWrapper:!1,focusInner:!1}},computed:{wrapClasses(){return[Ps+"-wrapper",{"ivu-radio-group-item":this.group,"ivu-radio-wrapper-checked":this.currentValue,"ivu-radio-wrapper-disabled":this.itemDisabled,[Ps+"-"+this.size]:!!this.size,"ivu-radio-focus":this.focusWrapper,"ivu-radio-border":this.border}]},radioClasses(){return[Ps,{"ivu-radio-checked":this.currentValue,"ivu-radio-disabled":this.itemDisabled}]},innerClasses(){return[Ps+"-inner",{"ivu-radio-focus":this.focusInner}]},inputClasses(){return Ps+"-input"}},mounted(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match Radio Group name."):this.groupName=this.parent.name),(this.group?this.parent:this).updateValue()},methods:{change(e){if(this.itemDisabled)return!1;e=e.target.checked,e=(this.currentValue=e)?this.trueValue:this.falseValue;this.$emit("input",e),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}):(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))},updateValue(){this.currentValue=this.value===this.trueValue},onBlur(){this.focusWrapper=!1,this.focusInner=!1},onFocus(){this.group&&"button"===this.parent.type?this.focusWrapper=!0:this.focusInner=!0}},watch:{value(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateValue()}}},As=Object(s.a)(As,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("label",{class:e.wrapClasses},[t("span",{class:e.radioClasses},[t("span",{class:e.innerClasses}),t("input",{class:e.inputClasses,attrs:{type:"radio",disabled:e.itemDisabled,name:e.groupName},domProps:{checked:e.currentValue},on:{change:e.change,focus:e.onFocus,blur:e.onBlur}})]),e._t("default",[e._v(e._s(e.label))])],2)},[],!1,null,null,null).exports;const Es="ivu-radio-group";let Ds=0;const Os=Date.now();var Ls={name:"RadioGroup",mixins:[c],props:{value:{type:[String,Number],default:""},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},type:{validator(e){return Object(h.m)(e,["button"])}},vertical:{type:Boolean,default:!1},name:{type:String,default:()=>`ivuRadioGroup_${Os}_`+Ds++},buttonStyle:{validator(e){return Object(h.m)(e,["default","solid"])},default:"default"}},data(){return{currentValue:this.value,children:[]}},computed:{classes(){return[Es,{[Es+"-"+this.size]:!!this.size,["ivu-radio-"+this.size]:!!this.size,[Es+"-"+this.type]:!!this.type,[Es+"-button-"+this.buttonStyle]:"button"===this.type&&"default"!==this.buttonStyle,"ivu-radio-group-vertical":this.vertical}]}},mounted(){this.updateValue()},methods:{updateValue(){this.children=Object(h.h)(this,"Radio"),this.children&&this.children.forEach(e=>{e.currentValue=this.currentValue===e.label,e.group=!0})},change(e){this.currentValue=e.value,this.updateValue(),this.$emit("input",e.value),this.$emit("on-change",e.value),this.dispatch("FormItem","on-form-change",e.value)}},watch:{value(){this.currentValue!==this.value&&(this.currentValue=this.value,this.$nextTick(()=>{this.updateValue()}))}}},Ls=Object(s.a)(Ls,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,attrs:{name:this.name}},[this._t("default")],2)},[],!1,null,null,null).exports,Ls=(As.Group=Ls,As);const Ns="ivu-rate";As={name:"Rate",mixins:[d,c,u],components:{Icon:n},props:{count:{type:Number,default:5},value:{type:Number,default:0},allowHalf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},name:{type:String},clearable:{type:Boolean,default:!1},character:{type:String,default:""},icon:{type:String,default:""},customIcon:{type:String,default:""}},data(){var e=this.value||0;return{prefixCls:Ns,hoverIndex:-1,isHover:!1,isHalf:this.allowHalf&&0<=e.toString().indexOf("."),currentValue:e}},computed:{classes(){return[Ns,{"ivu-rate-disabled":this.itemDisabled}]},iconClasses(){return["ivu-icon",{["ivu-icon-"+this.icon]:""!==this.icon,[""+this.customIcon]:""!==this.customIcon}]},showCharacter(){return""!==this.character||""!==this.icon||""!==this.customIcon}},watch:{value(e){this.currentValue=e||0},currentValue(e){this.setHalf(e)}},methods:{starCls(e){var t=this.hoverIndex,t=this.isHover?t:this.currentValue;let i=!1,s;return e<=t&&(i=!0),s=this.isHover?t===e:Math.ceil(this.currentValue)===e,[{"ivu-rate-star":!this.showCharacter,"ivu-rate-star-chart":this.showCharacter,"ivu-rate-star-full":!s&&i||s&&!this.isHalf,"ivu-rate-star-half":s&&this.isHalf,"ivu-rate-star-zero":!i}]},handleMousemove(e,t){if(!this.itemDisabled){if(this.isHover=!0,this.allowHalf){const e=t.target.getAttribute("type")||!1;this.isHalf="half"===e}else this.isHalf=!1;this.hoverIndex=e}},handleMouseleave(){this.itemDisabled||(this.isHover=!1,this.setHalf(this.currentValue),this.hoverIndex=-1)},setHalf(e){this.isHalf=this.allowHalf&&0<=e.toString().indexOf(".")},handleClick(e){this.itemDisabled||(this.isHalf&&(e-=.5),this.clearable&&Math.abs(e-this.currentValue)<.01&&(e=0),this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}}},As=Object(s.a)(As,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes,on:{mouseleave:i.handleMouseleave}},[s("input",{attrs:{type:"hidden",name:i.name},domProps:{value:i.currentValue}}),i._l(i.count,function(t){return s("div",{key:t,class:i.starCls(t),on:{mousemove:function(e){return i.handleMousemove(t,e)},click:function(e){return i.handleClick(t)}}},[i.showCharacter?[s("span",{class:[i.prefixCls+"-star-first"],attrs:{type:"half"}},[""!==i.character?[i._v(i._s(i.character))]:s("i",{class:i.iconClasses,attrs:{type:"half"}})],2),s("span",{class:[i.prefixCls+"-star-second"]},[""!==i.character?[i._v(i._s(i.character))]:s("i",{class:i.iconClasses})],2)]:[s("span",{class:[i.prefixCls+"-star-content"],attrs:{type:"half"}})]],2)}),i.showText?s("div",{directives:[{name:"show",rawName:"v-show",value:0<i.currentValue,expression:"currentValue > 0"}],class:[i.prefixCls+"-text"]},[i._t("default",[s("span",[i._v(i._s(i.currentValue))]),i._v(" "),i.currentValue<=1?s("span",[i._v(i._s(i.t("i.rate.star")))]):s("span",[i._v(i._s(i.t("i.rate.stars")))])])],2):i._e()],2)},[],!1,null,null,null).exports;const Ms="ivu-tooltip";var l={name:"Tooltip",directives:{TransferDom:l},mixins:[o],props:{placement:{validator(e){return Object(h.m)(e,["top","auto","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},content:{type:[String,Number],default:""},delay:{type:Number,default:100},disabled:{type:Boolean,default:!1},controlled:{type:Boolean,default:!1},always:{type:Boolean,default:!1},transfer:{type:Boolean,default(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},theme:{validator(e){return Object(h.m)(e,["dark","light"])},default:"dark"},maxWidth:{type:[String,Number]},transferClassName:{type:String}},data(){return{prefixCls:Ms,tIndex:this.handleGetIndex()}},computed:{innerStyles(){var e={};return this.maxWidth&&(e["max-width"]=this.maxWidth+"px"),e},innerClasses(){return[Ms+"-inner",{"ivu-tooltip-inner-with-width":!!this.maxWidth}]},dropStyles(){var e={};return this.transfer&&(e["z-index"]=1060+this.tIndex),e},dropdownCls(){return[Ms+"-popper",Ms+"-"+this.theme,{"ivu-tooltip-transfer":this.transfer,[this.transferClassName]:this.transferClassName}]}},watch:{content(){this.updatePopper()}},methods:{handleShowPopper(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.visible=!0},this.delay),this.tIndex=this.handleGetIndex()},handleClosePopper(){this.timeout&&(clearTimeout(this.timeout),this.controlled||(this.timeout=setTimeout(()=>{this.visible=!1},100)))},handleGetIndex(){return G(),H}},mounted(){this.always&&this.updatePopper()}},o=Object(s.a)(l,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:[e.prefixCls],on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[t("div",{ref:"reference",class:[e.prefixCls+"-rel"]},[e._t("default")],2),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&(e.visible||e.always),expression:"!disabled && (visible || always)"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:e.dropdownCls,style:e.dropStyles,attrs:{"data-transfer":e.transfer},on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[t("div",{class:[e.prefixCls+"-content"]},[t("div",{class:[e.prefixCls+"-arrow"]}),t("div",{class:e.innerClasses,style:e.innerStyles},[e._t("content",[e._v(e._s(e.content))])],2)])])])],1)},[],!1,null,null,null).exports,l={name:"SliderMarker",props:{mark:{type:[String,Object]}},render(e){var t="string"==typeof this.mark?this.mark:[this.mark.label];return e("div",{class:"ivu-slider-marks-item",style:this.mark.style||{}},t)}},Bs=e("eec4"),Fs=e.n(Bs);const Rs="ivu-slider";e={name:"Slider",mixins:[c,u],components:{InputNumber:O,Tooltip:o,SliderMarker:l},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},range:{type:Boolean,default:!1},value:{type:[Number,Array],default:0},disabled:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},inputSize:{type:String,default:"default",validator(e){return Object(h.m)(e,["small","large","default"])}},showStops:{type:Boolean,default:!1},tipFormat:{type:Function,default(e){return e}},showTip:{type:String,default:"hover",validator(e){return Object(h.m)(e,["hover","always","never"])}},name:{type:String},activeChange:{type:Boolean,default:!0},marks:{type:Object}},data(){let e=this.checkLimits(Array.isArray(this.value)?this.value:[this.value]);return this.range&&null===this.value&&(e=[0,0]),{prefixCls:Rs,currentValue:e,dragging:!1,pointerDown:"",startX:0,currentX:0,startPos:0,oldValue:[...e],valueIndex:{min:0,max:1},sliderWidth:0,isValueNull:!1}},watch:{value(e){null===e&&(this.isValueNull=!0),e=this.checkLimits(Array.isArray(e)?e:[e]),this.dragging||e[0]===this.currentValue[0]&&e[1]===this.currentValue[1]||(this.isValueNull&&this.range?this.currentValue=[0,0]:this.currentValue=e)},exportValue(e){this.$nextTick(()=>{this.$refs.minTooltip.updatePopper(),this.range&&this.$refs.maxTooltip.updatePopper()});e=this.range?e:e[0];this.isValueNull?(this.isValueNull=!1,this.$emit("input",null)):this.$emit("input",e),this.$emit("on-input",e)}},computed:{classes(){return[Rs,{"ivu-slider-input":this.showInput&&!this.range,"ivu-slider-range":this.range,"ivu-slider-disabled":this.itemDisabled}]},minButtonClasses(){return[Rs+"-button",{"ivu-slider-button-dragging":"min"===this.pointerDown}]},maxButtonClasses(){return[Rs+"-button",{"ivu-slider-button-dragging":"max"===this.pointerDown}]},exportValue(){const t=(String(this.step).split(".")[1]||"").length;return this.currentValue.map(e=>Number(e.toFixed(t)))},minPosition(){return(this.currentValue[0]-this.min)/this.valueRange*100},maxPosition:function(){return(this.currentValue[1]-this.min)/this.valueRange*100},barStyle(){var e={width:(this.currentValue[0]-this.min)/this.valueRange*100+"%"};return this.range&&(e.left=(this.currentValue[0]-this.min)/this.valueRange*100+"%",e.width=(this.currentValue[1]-this.currentValue[0])/this.valueRange*100+"%"),e},stops(){var t=this.valueRange/this.step,i=[],s=100*this.step/this.valueRange;for(let e=1;e<t;e++)i.push(e*s);return i},markList(){return this.marks?Object.keys(this.marks).map(parseFloat).sort((e,t)=>e-t).filter(e=>e<=this.max&&e>=this.min).map(e=>({point:e,position:100*(e-this.min)/(this.max-this.min),mark:this.marks[e]})):[]},tipDisabled(){return null===this.tipFormat(this.currentValue[0])||"never"===this.showTip},valueRange(){return this.max-this.min},firstPosition(){return this.currentValue[0]},secondPosition(){return this.currentValue[1]}},methods:{getPointerX(e){return(-1!==e.type.indexOf("touch")?e.touches[0]:e).clientX},checkLimits([e,t]){return e=Math.max(this.min,e),e=Math.min(this.max,e),t=Math.max(this.min,e,t),[e,t=Math.min(this.max,t)]},getCurrentValue(e,t){return!this.itemDisabled&&void 0!==(t=this.valueIndex[t])?this.currentValue[t]:void 0},onKeyLeft(e,t){e=this.getCurrentValue(e,t);Number.isFinite(e)&&this.changeButtonPosition(e-this.step,t)},onKeyRight(e,t){e=this.getCurrentValue(e,t);Number.isFinite(e)&&this.changeButtonPosition(e+this.step,t)},onPointerDown(e,t){this.itemDisabled||(e.preventDefault(),this.pointerDown=t,this.onPointerDragStart(e),i(window,"mousemove",this.onPointerDrag),i(window,"touchmove",this.onPointerDrag),i(window,"mouseup",this.onPointerDragEnd),i(window,"touchend",this.onPointerDragEnd))},onPointerDragStart(e){this.dragging=!1,this.startX=this.getPointerX(e),this.startPos=this[this.pointerDown+"Position"]*this.valueRange/100+this.min},onPointerDrag(e){this.dragging=!0,this.$refs[this.pointerDown+"Tooltip"].visible=!0,this.currentX=this.getPointerX(e);e=(this.currentX-this.startX)/this.sliderWidth*this.valueRange;this.changeButtonPosition(this.startPos+e)},onPointerDragEnd(){this.dragging&&(this.dragging=!1,this.$refs[this.pointerDown+"Tooltip"].visible=!1,this.emitChange()),this.pointerDown="",t(window,"mousemove",this.onPointerDrag),t(window,"touchmove",this.onPointerDrag),t(window,"mouseup",this.onPointerDragEnd),t(window,"touchend",this.onPointerDragEnd)},changeButtonPosition(e,t){var t=t||this.pointerDown,i="min"===t?0:1,s=(e="min"===t?this.checkLimits([e,this.max])[0]:this.checkLimits([this.min,e])[1],this.handleDecimal(e,this.step)),n=this.currentValue;n[i]=e-s,this.range&&("min"===t&&n[0]>n[1]&&(n[1]=n[0]),"max"===t)&&n[0]>n[1]&&(n[0]=n[1]),this.currentValue=[...n],this.dragging||this.currentValue[i]!==this.oldValue[i]&&(this.emitChange(),this.oldValue[i]=this.currentValue[i])},handleDecimal(s,n){if(n<1){let t,e=n.toString(),i;try{t=e.split(".")[1].length}catch(e){t=0}return s*(i=Math.pow(10,t))%(n*i)/i}return s%n},emitChange(){var e=this.range?this.exportValue:this.exportValue[0];this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)},sliderClick(e){var t;this.itemDisabled||(t=(e=(this.getPointerX(e)-this.$refs.slider.getBoundingClientRect().left)/this.sliderWidth*this.valueRange+this.min)/this.valueRange*100,!this.range||t<=this.minPosition?this.changeButtonPosition(e,"min"):t>=this.maxPosition?this.changeButtonPosition(e,"max"):this.changeButtonPosition(e,e-this.firstPosition<=this.secondPosition-e?"min":"max"))},handleInputChange(e){this.currentValue=[0===e?0:e||this.min,this.currentValue[1]],this.emitChange()},handleFocus(e){this.$refs[e+"Tooltip"].handleShowPopper()},handleBlur(e){this.$refs[e+"Tooltip"].handleClosePopper()},handleSetSliderWidth(){this.sliderWidth=parseInt(Object(h.l)(this.$refs.slider,"width"),10)}},mounted(){this.$on("on-visible-change",e=>{e&&"always"===this.showTip&&(this.$refs.minTooltip.doDestroy(),this.range&&this.$refs.maxTooltip.doDestroy(),this.$nextTick(()=>{this.$refs.minTooltip.updatePopper(),this.range&&this.$refs.maxTooltip.updatePopper()}))}),this.observer=Fs()(),this.observer.listenTo(this.$refs.slider,this.handleSetSliderWidth)},beforeDestroy(){this.observer.removeListener(this.$refs.slider,this.handleSetSliderWidth)}},Bs=Object(s.a)(e,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes},[!i.range&&i.showInput?s("Input-number",{attrs:{min:i.min,size:i.inputSize,max:i.max,step:i.step,value:i.exportValue[0],disabled:i.itemDisabled,"active-change":i.activeChange},on:{"on-change":i.handleInputChange}}):i._e(),s("div",{ref:"slider",class:[i.prefixCls+"-wrap"],on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick(e)}}},[s("input",{attrs:{type:"hidden",name:i.name},domProps:{value:i.exportValue}}),s("div",{class:[i.prefixCls+"-bar"],style:i.barStyle,on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick(e)}}}),i.showStops?i._l(i.stops,function(e){return s("div",{class:[i.prefixCls+"-stop"],style:{left:e+"%"},on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick(e)}}})}):i._e(),0<i.markList.length?[i._l(i.markList,function(e,t){return s("div",{key:t,class:[i.prefixCls+"-stop"],style:{left:e.position+"%"},on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick(e)}}})}),s("div",{staticClass:"ivu-slider-marks"},i._l(i.markList,function(e,t){return s("SliderMarker",{key:t,style:{left:e.position+"%"},attrs:{mark:e.mark},nativeOn:{click:function(e){return i.sliderClick(e)}}})}),1)]:i._e(),s("div",{class:[i.prefixCls+"-button-wrap"],style:{left:i.minPosition+"%"},on:{touchstart:function(e){return i.onPointerDown(e,"min")},mousedown:function(e){return i.onPointerDown(e,"min")}}},[s("Tooltip",{ref:"minTooltip",attrs:{controlled:"min"===i.pointerDown,placement:"top",content:i.tipFormat(i.exportValue[0]),disabled:i.tipDisabled,always:"always"===i.showTip}},[s("div",{class:i.minButtonClasses,attrs:{tabindex:"0"},on:{focus:function(e){return i.handleFocus("min")},blur:function(e){return i.handleBlur("min")},keydown:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:i.onKeyLeft(e,"min")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:i.onKeyLeft(e,"min")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:i.onKeyRight(e,"min")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:i.onKeyRight(e,"min")}]}})])],1),i.range?s("div",{class:[i.prefixCls+"-button-wrap"],style:{left:i.maxPosition+"%"},on:{touchstart:function(e){return i.onPointerDown(e,"max")},mousedown:function(e){return i.onPointerDown(e,"max")}}},[s("Tooltip",{ref:"maxTooltip",attrs:{controlled:"max"===i.pointerDown,placement:"top",content:i.tipFormat(i.exportValue[1]),disabled:i.tipDisabled,always:"always"===i.showTip}},[s("div",{class:i.maxButtonClasses,attrs:{tabindex:"0"},on:{focus:function(e){return i.handleFocus("max")},blur:function(e){return i.handleBlur("max")},keydown:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:i.onKeyLeft(e,"max")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:i.onKeyLeft(e,"max")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:i.onKeyRight(e,"max")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:i.onKeyRight(e,"max")}]}})])],1):i._e()],2)],1)},[],!1,null,null,null).exports;function $s(){return G(),H}let Us=$s();bi.newInstance=e=>{var e=new r.default({data:Object.assign({},e||{},{}),render(e){var t=this.render?e(bi,{props:{fix:!0,fullscreen:!0}},[this.render(e)]):e(bi,{props:{size:"large",fix:!0,fullscreen:!0}});return e("div",{class:"ivu-spin-fullscreen ivu-spin-fullscreen-wrapper",style:{"z-index":2010+Us}},[t])}}),t=e.$mount();document.body.appendChild(t.$el);const i=e.$children[0];return{show(){i.visible=!0,Us=$s()},remove(e){i.visible=!1,setTimeout(function(){i.$parent.$destroy(),void 0!==document.getElementsByClassName("ivu-spin-fullscreen")[0]&&document.body.removeChild(document.getElementsByClassName("ivu-spin-fullscreen")[0]),e()},500)},component:i}};var js=bi;let Vs;function zs(e){return Vs=Vs||js.newInstance({render:e})}js.show=function(e={}){zs("render"in(e=e)?e.render:void 0).show(e)},js.hide=function(){if(!Vs)return!1;zs().remove(()=>{Vs=null})};var Ws=js;const Hs="ivu-steps";O={name:"Steps",props:{current:{type:Number,default:0},status:{validator(e){return Object(h.m)(e,["wait","process","finish","error"])},default:"process"},size:{validator(e){return Object(h.m)(e,["small"])}},direction:{validator(e){return Object(h.m)(e,["horizontal","vertical"])},default:"horizontal"}},computed:{classes(){return[Hs,Hs+"-"+this.direction,{[Hs+"-"+this.size]:!!this.size}]}},methods:{updateChildProps(i){const s=this.$children.length;this.$children.forEach((e,t)=>{e.stepNumber=t+1,"horizontal"===this.direction&&(e.total=s),i&&e.currentStatus||(t===this.current?"error"!==this.status&&(e.currentStatus="process"):t<this.current?e.currentStatus="finish":e.currentStatus="wait"),"error"!==e.currentStatus&&0!==t&&(this.$children[t-1].nextError=!1)})},setNextError(){this.$children.forEach((e,t)=>{"error"===e.currentStatus&&0!==t&&(this.$children[t-1].nextError=!0)})},updateCurrent(e){if(!(this.current<0||this.current>=this.$children.length))if(e){const e=this.$children[this.current].currentStatus;e||(this.$children[this.current].currentStatus=this.status)}else this.$children[this.current].currentStatus=this.status},debouncedAppendRemove(){{var s=function(){this.updateSteps()};let i;return function(){if(!i){i=!0;const e=this,t=arguments;this.$nextTick(function(){i=!1,s.apply(e,t)})}}}},updateSteps(){this.updateChildProps(!0),this.setNextError(),this.updateCurrent(!0)}},mounted(){this.updateSteps(),this.$on("append",this.debouncedAppendRemove()),this.$on("remove",this.debouncedAppendRemove())},watch:{current(){this.updateChildProps()},status(){this.updateCurrent()}}},l=Object(s.a)(O,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports;const qs="ivu-steps";e={name:"Step",mixins:[c],props:{status:{validator(e){return Object(h.m)(e,["wait","process","finish","error"])}},title:{type:String,default:""},content:{type:String},icon:{type:String}},data(){return{prefixCls:qs,stepNumber:"",nextError:!1,total:1,currentStatus:""}},computed:{wrapClasses(){return[qs+"-item",qs+"-status-"+this.currentStatus,{"ivu-steps-custom":!!this.icon||!!this.$slots.icon,"ivu-steps-next-error":this.nextError}]},iconClasses(){let e="";return this.icon?e=this.icon:"finish"===this.currentStatus?e="ios-checkmark":"error"===this.currentStatus&&(e="ios-close"),[qs+"-icon","ivu-icon",{["ivu-icon-"+e]:""!==e}]}},watch:{status(e){this.currentStatus=e,"error"===this.currentStatus&&this.$parent.setNextError()}},created(){this.currentStatus=this.status},mounted(){this.dispatch("Steps","append")},beforeDestroy(){this.dispatch("Steps","remove")}},O=Object(s.a)(e,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{class:e.wrapClasses},[t("div",{class:[e.prefixCls+"-tail"]},[t("i")]),t("div",{class:[e.prefixCls+"-head"]},[t("div",{class:[e.prefixCls+"-head-inner"]},[e.icon||e.$slots.icon||"finish"===e.currentStatus||"error"===e.currentStatus?e.$slots.icon?t("span",{staticClass:"ivu-steps-icon"},[e._t("icon")],2):t("span",{class:e.iconClasses}):t("span",[e._v(e._s(e.stepNumber))])])]),t("div",{class:[e.prefixCls+"-main"]},[t("div",{class:[e.prefixCls+"-title"]},[e._t("title",[e._v(e._s(e.title))])],2),e.content||e.$slots.content?t("div",{class:[e.prefixCls+"-content"]},[e._t("content",[e._v(e._s(e.content))])],2):e._e()])])},[],!1,null,null,null).exports,l.Step=O,e=l;const Gs="ivu-switch";var O={name:"iSwitch",mixins:[c,u],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},size:{validator(e){return Object(h.m)(e,["large","small","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},loading:{type:Boolean,default:!1},trueColor:{type:String},falseColor:{type:String},beforeChange:Function},data(){return{currentValue:this.value}},computed:{wrapClasses(){return[Gs,{"ivu-switch-checked":this.currentValue===this.trueValue,"ivu-switch-disabled":this.itemDisabled,[Gs+"-"+this.size]:!!this.size,"ivu-switch-loading":this.loading}]},wrapStyles(){var e={};return this.trueColor&&this.currentValue===this.trueValue?(e["border-color"]=this.trueColor,e["background-color"]=this.trueColor):this.falseColor&&this.currentValue===this.falseValue&&(e["border-color"]=this.falseColor,e["background-color"]=this.falseColor),e},innerClasses(){return Gs+"-inner"}},methods:{handleToggle(){var e=this.currentValue===this.trueValue?this.falseValue:this.trueValue;this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)},toggle(e){return e.preventDefault(),!this.itemDisabled&&!this.loading&&(this.beforeChange?void((e=this.beforeChange())&&e.then?e.then(()=>{this.handleToggle()}):this.handleToggle()):this.handleToggle())}},watch:{value(e){if(e!==this.trueValue&&e!==this.falseValue&&null!==e)throw"Value should be trueValue or falseValue.";this.currentValue=e}}},l=Object(s.a)(O,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("span",{class:t.wrapClasses,style:t.wrapStyles,attrs:{tabindex:"0"},on:{click:t.toggle,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.toggle(e)}}},[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.currentValue}}),e("span",{class:t.innerClasses},[t.currentValue===t.trueValue?t._t("open"):t._e(),t.currentValue===t.falseValue?t._t("close"):t._e()],2)])},[],!1,null,null,null).exports,O={name:"TableRenderHeader",functional:!0,props:{render:Function,column:Object,index:Number},render:(e,t)=>{var i={column:t.props.column,index:t.props.index};return t.props.render(e,i)}},M={methods:{alignCls(e,t={}){let i="";return t.cellClassName&&e.key&&t.cellClassName[e.key]&&(i=t.cellClassName[e.key]),[this.prefixCls+"-column-"+e.__id,{[""+i]:i,[""+e.className]:e.className,[this.prefixCls+"-column-"+e.align]:e.align,[this.prefixCls+"-hidden"]:"left"===this.fixed&&"left"!==e.fixed||"right"===this.fixed&&"right"!==e.fixed||!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed)}]},isPopperShow(e){return e.filters&&(!this.fixed&&!e.fixed||"left"===this.fixed&&"left"===e.fixed||"right"===this.fixed&&"right"===e.fixed)},setCellWidth(e){let t="";return e.width?t=e.width:this.columnsWidth[e._index]&&(t=this.columnsWidth[e._index].width),t="0"===t?"":t}}},w={name:"TableHead",mixins:[M,d],components:{CheckboxGroup:w,Checkbox:b,Poptip:T,iButton:v,renderHeader:O},props:{prefixCls:String,styleObject:Object,columns:Array,objData:Object,data:Array,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1},columnRows:Array,fixedColumnRows:Array},data(){return{draggingColumn:null,dragging:!1,dragState:{}}},computed:{styles(){var e=Object.assign({},this.styleObject),t=parseInt(this.styleObject.width);return e.width=t+"px",e},isSelectAll(){let e=!0,t=(this.data.length||(e=!1),!0);for(var i in this.objData){i=this.objData[i];if(!i._isChecked&&!i._isDisabled){e=!1;break}i.children&&i.children.length&&(e=this.isChildrenSelected(i,e)),!i._isDisabled||i._isChecked?t=!1:i.children&&i.children.length&&(t=this.isChildrenAllDisabledAndUnSelected(i,t))}return e=t?!1:e},headRows(){return 1<this.columnRows.length?this.fixed?this.fixedColumnRows:this.columnRows:[this.columns]},isSelectDisabled(){let e=!0;if(this.data.length)for(var t in this.objData){t=this.objData[t];t._isDisabled?t.children&&t.children.length&&(e=this.isChildrenDisabled(t,e)):e=!1}return e}},methods:{cellClasses(e){return[this.prefixCls+"-cell",{[this.prefixCls+"-hidden"]:!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed),[this.prefixCls+"-cell-with-selection"]:"selection"===e.type}]},scrollBarCellClass(){let e=!1;for(var t in this.headRows)for(var i in this.headRows[t]){if("right"===this.headRows[t][i].fixed){e=!0;break}if(e)break}return[{[this.prefixCls+"-hidden"]:e}]},itemClasses(e,t){return[this.prefixCls+"-filter-select-item",{[this.prefixCls+"-filter-select-item-selected"]:e._filterChecked[0]===t.value}]},itemAllClasses(e){return[this.prefixCls+"-filter-select-item",{[this.prefixCls+"-filter-select-item-selected"]:!e._filterChecked.length}]},selectAll(){var e=!this.isSelectAll;this.$parent.selectAll(e)},handleSort(t,e){var i=this.columns.find(e=>e._index===t),s=i._index;i._sortType===e&&(e="normal"),this.$parent.handleSort(s,e)},handleSortByHead(t){var e=this.columns.find(e=>e._index===t);e.sortable&&("normal"===(e=e._sortType)?this.handleSort(t,"asc"):"asc"===e?this.handleSort(t,"desc"):this.handleSort(t,"normal"))},handleFilter(e){this.$parent.handleFilter(e)},handleSelect(e,t){this.$parent.handleFilterSelect(e,t)},handleReset(e){this.$parent.handleFilterReset(e)},handleFilterHide(e){this.$parent.handleFilterHide(e)},getColumn(e,t){const i=1<this.columnRows.length;if(i){const i=this.headRows[e][t].__id;return this.columns.filter(e=>e.__id===i)[0]}return this.headRows[e][t]},handleMouseDown(n,r){if(!this.$isServer&&this.draggingColumn){this.dragging=!0;const a=this.$parent,e=a.$el,t=e.getBoundingClientRect().left,i=this.$el.querySelector("th.ivu-table-column-"+n.__id),s=i.getBoundingClientRect(),o=s.left-t+30,l=(a.showResizeLine=!0,this.dragState={startMouseLeft:r.clientX,startLeft:s.right-t,startColumnLeft:s.left-t,tableLeft:t},a.$refs.resizeLine),c=(l.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},e=>{e=e.clientX-this.dragState.startMouseLeft,e=this.dragState.startLeft+e;l.style.left=Math.max(o,e)+"px"}),u=()=>{var e,t,i,s;this.dragging&&({startColumnLeft:e,startLeft:t}=this.dragState,i=parseInt(l.style.left,10)-e,(s=a.columns.find(e=>e.__id===n.__id))&&(s.width=i),a.$emit("on-column-width-resize",s.width,t-e,n,r),document.body.style.cursor="",this.dragging=!1,this.draggingColumn=null,this.dragState={},a.showResizeLine=!1),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),document.onselectstart=null,document.ondragstart=null};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}},handleMouseMove(e,t){let i=t.target;for(;i&&"TH"!==i.tagName;)i=i.parentNode;var s,n;e&&e.resizable&&!this.dragging&&(s=i.getBoundingClientRect(),n=document.body.style,12<s.width&&s.right-t.pageX<8?(n.cursor="col-resize",this.draggingColumn=e):this.dragging||(n.cursor="",this.draggingColumn=null))},handleMouseOut(){this.$isServer||(document.body.style.cursor="")},isChildrenSelected(e,t){let i=t;return e.children&&e.children.length&&e.children.forEach(e=>{e._isChecked||e._isDisabled?e.children&&e.children.length&&(i=this.isChildrenSelected(e,i)):i=!1}),i},isChildrenAllDisabledAndUnSelected(e,t){let i=t;return e.children&&e.children.length&&e.children.forEach(e=>{!e._isDisabled||e._isChecked?i=!1:e.children&&e.children.length&&(i=this.isChildrenAllDisabledAndUnSelected(e,i))}),i},isChildrenDisabled(e,t){let i=t;return e.children&&e.children.length&&e.children.forEach(e=>{e._isDisabled?e.children&&e.children.length&&(i=this.isChildrenDisabled(e,i)):i=!1}),i}}},T=Object(s.a)(w,function(){var n=this,e=n.$createElement,r=n._self._c||e;return r("table",{style:n.styles,attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[r("colgroup",[n._l(n.columns,function(e,t){return r("col",{attrs:{width:n.setCellWidth(e)}})}),n.$parent.showVerticalScrollBar?r("col",{attrs:{width:n.$parent.scrollBarWidth}}):n._e()],2),r("thead",n._l(n.headRows,function(e,s){return r("tr",[n._l(e,function(t,i){var e;return r("th",{class:n.alignCls(t),attrs:{colspan:t.colSpan,rowspan:t.rowSpan}},[r("div",{class:n.cellClasses(t)},["expand"===t.type?[t.renderHeader?r("render-header",{attrs:{render:t.renderHeader,column:t,index:i}}):r("span",[n._v(n._s(t.title||""))])]:"selection"===t.type?[t.hideSelectAll?n._e():r("Checkbox",{attrs:{value:n.isSelectAll,disabled:n.isSelectDisabled},on:{"on-change":n.selectAll}})]:[t.renderHeader?r("render-header",{attrs:{render:t.renderHeader,column:t,index:i}}):r("span",{class:((e={})[n.prefixCls+"-cell-sort"]=t.sortable,e),on:{click:function(e){t.sortable&&n.handleSortByHead(n.getColumn(s,i)._index)}}},[n._v(n._s(t.title||"#"))]),t.sortable?r("span",{class:[n.prefixCls+"-sort"]},[r("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropup",class:{on:"asc"===n.getColumn(s,i)._sortType},on:{click:function(e){n.handleSort(n.getColumn(s,i)._index,"asc")}}}),r("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropdown",class:{on:"desc"===n.getColumn(s,i)._sortType},on:{click:function(e){n.handleSort(n.getColumn(s,i)._index,"desc")}}})]):n._e(),n.isPopperShow(t)?r("Poptip",{attrs:{placement:"bottom","popper-class":"ivu-table-popper",transfer:"",capture:!1},on:{"on-popper-hide":function(e){n.handleFilterHide(n.getColumn(s,i)._index)}},model:{value:n.getColumn(s,i)._filterVisible,callback:function(e){n.$set(n.getColumn(s,i),"_filterVisible",e)},expression:"getColumn(rowIndex, index)._filterVisible"}},[r("span",{class:[n.prefixCls+"-filter"]},[r("i",{staticClass:"ivu-icon ivu-icon-ios-funnel",class:{on:n.getColumn(s,i)._isFiltered}})]),n.getColumn(s,i)._filterMultiple?r("div",{class:[n.prefixCls+"-filter-list"],attrs:{slot:"content"},slot:"content"},[r("div",{class:[n.prefixCls+"-filter-list-item"]},[r("checkbox-group",{model:{value:n.getColumn(s,i)._filterChecked,callback:function(e){n.$set(n.getColumn(s,i),"_filterChecked",e)},expression:"getColumn(rowIndex, index)._filterChecked"}},n._l(t.filters,function(e,t){return r("checkbox",{key:t,attrs:{label:e.value}},[n._v(n._s(e.label))])}),1)],1),r("div",{class:[n.prefixCls+"-filter-footer"]},[r("i-button",{attrs:{type:"text",size:"small",disabled:!n.getColumn(s,i)._filterChecked.length},nativeOn:{click:function(e){n.handleFilter(n.getColumn(s,i)._index)}}},[n._v(n._s(n.t("i.table.confirmFilter")))]),r("i-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){n.handleReset(n.getColumn(s,i)._index)}}},[n._v(n._s(n.t("i.table.resetFilter")))])],1)]):r("div",{class:[n.prefixCls+"-filter-list"],attrs:{slot:"content"},slot:"content"},[r("ul",{class:[n.prefixCls+"-filter-list-single"]},[r("li",{class:n.itemAllClasses(n.getColumn(s,i)),on:{click:function(e){n.handleReset(n.getColumn(s,i)._index)}}},[n._v(n._s(n.t("i.table.clearFilter")))]),n._l(t.filters,function(t){return r("li",{class:n.itemClasses(n.getColumn(s,i),t),on:{click:function(e){n.handleSelect(n.getColumn(s,i)._index,t.value)}}},[n._v(n._s(t.label))])})],2)])]):n._e()]],2),t.resizable?r("div",{staticClass:"ivu-table-header-resizable",on:{mousedown:function(e){return n.handleMouseDown(t,e)},mousemove:function(e){return n.handleMouseMove(t,e)},mouseout:n.handleMouseOut}}):n._e()])}),n.$parent.showVerticalScrollBar&&0===s?r("th",{class:n.scrollBarCellClass(),attrs:{rowspan:n.headRows.length}}):n._e()],2)}),0)])},[],!1,null,null,null).exports,O={props:{row:Object,prefixCls:String,draggable:Boolean,isChildren:Boolean},computed:{objData(){return this.$parent.objData}},methods:{onDrag(e,t){e.dataTransfer.setData("index",t)},onDrop(e,t){var i=e.dataTransfer.getData("index");this.$parent.$parent.dragAndDrop(i,t),e.preventDefault()},allowDrop(e){e.preventDefault()},rowClasses(e){var t=this.isChildren?this.$parent.$parent.getDataByRowKey(this.row._rowKey):this.objData[e];return[this.prefixCls+"-row",this.rowClsName(e),{[this.prefixCls+"-row-highlight"]:t&&t._isHighlight,[this.prefixCls+"-row-hover"]:t&&t._isHover}]},rowClsName(e){return this.$parent.$parent.rowClassName(this.objData[e],e)}}},Ys=Object(s.a)(O,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.draggable?e("tr",{class:t.rowClasses(t.row._index),attrs:{draggable:t.draggable},on:{dragstart:function(e){return t.onDrag(e,t.row._index)},drop:function(e){return t.onDrop(e,t.row._index)},dragover:function(e){return t.allowDrop(e)}}},[t._t("default")],2):e("tr",{class:t.rowClasses(t.row._index),attrs:{draggable:!1}},[t._t("default")],2)},[],!1,null,null,null).exports,Qs={name:"TableExpand",functional:!0,props:{row:Object,render:Function,index:Number,column:{type:Object,default:null}},render:(e,t)=>{var i={row:t.props.row,index:t.props.index};return t.props.column&&(i.column=t.props.column),t.props.render(e,i)}},w={name:"TableSlot",functional:!0,inject:["tableRoot"],props:{row:Object,index:Number,column:{type:Object,default:null},display:{type:String,default:"block"}},render:(e,t)=>e("div",{class:{"ivu-table-cell-slot":!0,"ivu-table-cell-slot-inline":"inline"===t.props.display,"ivu-table-cell-slot-inline-block":"inline-block"===t.props.display}},t.injections.tableRoot.$scopedSlots[t.props.column.slot]({row:t.props.row,column:t.props.column,index:t.props.index}))},O={name:"TableCell",components:{Icon:n,Checkbox:b,TableExpand:Qs,TableSlot:w,Tooltip:o},inject:["tableRoot"],props:{prefixCls:String,row:Object,column:Object,naturalIndex:Number,index:Number,checked:Boolean,disabled:Boolean,expanded:Boolean,fixed:{type:[Boolean,String],default:!1},treeNode:Boolean,treeLevel:{type:Number,default:0}},data(){return{renderType:"",uid:-1,context:this.$parent.$parent.$parent.currentContext,showTooltip:!1}},computed:{classes(){return[this.prefixCls+"-cell",{[this.prefixCls+"-hidden"]:!this.fixed&&this.column.fixed&&("left"===this.column.fixed||"right"===this.column.fixed),[this.prefixCls+"-cell-ellipsis"]:this.column.ellipsis||!1,[this.prefixCls+"-cell-with-expand"]:"expand"===this.renderType,[this.prefixCls+"-cell-with-selection"]:"selection"===this.renderType}]},expandCls(){return[this.prefixCls+"-cell-expand",{[this.prefixCls+"-cell-expand-expanded"]:this.expanded}]},showChildren(){let e=!1;var t;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||((t=this.row).children&&t.children.length||"_loading"in t)&&this.column.tree&&(e=!0),e},showTreeNode(){let e=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||this.column.tree&&this.treeNode&&(e=!0),e},showLevel(){let e=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||this.column.tree&&this.treeNode&&(e=!0),e},treeLevelStyle(){return{"padding-left":this.treeLevel*this.tableRoot.indentSize+"px"}},childrenExpand(){return this.tableRoot.getDataByRowKey(this.row._rowKey)._isShowChildren},childrenLoading(){var e=this.tableRoot.getDataByRowKey(this.row._rowKey);return"_loading"in e&&e._loading}},methods:{toggleSelect(){this.treeNode?this.$parent.$parent.$parent.toggleSelect(this.index,this.row._rowKey):this.$parent.$parent.$parent.toggleSelect(this.index)},toggleExpand(){this.$parent.$parent.$parent.toggleExpand(this.index)},handleClick(){},handleTooltipIn(){var e=this.$refs.content;let t=document.createRange();t.setStart(e,0),t.setEnd(e,e.childNodes.length);var i=t.getBoundingClientRect().width;this.showTooltip=i>e.offsetWidth,t=null},handleToggleTree(){this.$parent.$parent.$parent.toggleTree(this.row._rowKey)}},created(){"index"===this.column.type?this.renderType="index":"selection"===this.column.type?this.renderType="selection":"html"===this.column.type?this.renderType="html":"expand"===this.column.type?this.renderType="expand":this.column.render?this.renderType="render":this.column.slot?this.renderType="slot":this.renderType="normal"}},Ks=Object(s.a)(O,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{ref:"cell",class:t.classes},["index"===t.renderType?[e("span",[t._v(t._s(t.column.indexMethod?t.column.indexMethod(t.row,t.naturalIndex):t.naturalIndex+1))])]:t._e(),"selection"===t.renderType?[e("Checkbox",{attrs:{value:t.checked,disabled:t.disabled},on:{"on-change":t.toggleSelect},nativeOn:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}})]:t._e(),t.showLevel?e("div",{staticClass:"ivu-table-cell-tree-level",style:t.treeLevelStyle}):t._e(),t.showChildren?e("div",{staticClass:"ivu-table-cell-tree",class:{"ivu-table-cell-tree-loading":t.childrenLoading},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleToggleTree(e)}}},[t.childrenLoading?e("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):t.childrenExpand?e("Icon",{attrs:{type:"ios-remove"}}):e("Icon",{attrs:{type:"ios-add"}})],1):t.showTreeNode?e("div",{staticClass:"ivu-table-cell-tree ivu-table-cell-tree-empty"}):t._e(),"html"===t.renderType?[e("span",{domProps:{innerHTML:t._s(t.row[t.column.key])}})]:t._e(),"normal"===t.renderType?[t.column.tooltip?[e("Tooltip",{staticClass:"ivu-table-cell-tooltip",attrs:{transfer:"",content:t.row[t.column.key],theme:t.column.tooltipTheme||t.tableRoot.tooltipTheme,disabled:!t.showTooltip,"max-width":t.column.tooltipMaxWidth||t.tableRoot.tooltipMaxWidth}},[e("span",{ref:"content",staticClass:"ivu-table-cell-tooltip-content",on:{mouseenter:t.handleTooltipIn}},[t._v(t._s(t.row[t.column.key]))])])]:e("span",[t._v(t._s(t.row[t.column.key]))])]:t._e(),"expand"!==t.renderType||t.row._disableExpand?t._e():[e("div",{class:t.expandCls,on:{click:t.toggleExpand}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],"render"===t.renderType?e("table-expand",{attrs:{row:t.row,column:t.column,index:t.index,render:t.column.render}}):t._e(),"slot"===t.renderType?e("table-slot",{attrs:{row:t.row,column:t.column,display:t.column.display||"block",index:t.index}}):t._e()],2)},[],!1,null,null,null).exports,w={name:"TableBody",mixins:[M],components:{TableCell:Ks,Expand:Qs,TableTr:Ys},props:{prefixCls:String,styleObject:Object,columns:Array,data:Array,objData:Object,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1},rowKey:{type:[Boolean,String],default:!1}},computed:{expandRender(){let t=function(){return""};for(let e=0;e<this.columns.length;e++){var i=this.columns[e];i.type&&"expand"===i.type&&i.render&&(t=i.render)}return t}},methods:{rowChecked(e){return this.objData[e]&&this.objData[e]._isChecked},rowDisabled(e){return this.objData[e]&&this.objData[e]._isDisabled},rowExpanded(e){return this.objData[e]&&this.objData[e]._isExpanded},rowStatusByRowKey(e,t){return this.$parent.getDataByRowKey(t)[e]},handleMouseIn(e,t,i){t.stopPropagation(),this.$parent.handleMouseIn(e,i)},handleMouseOut(e,t,i){t.stopPropagation(),this.$parent.handleMouseOut(e,i)},clickCurrentRow(e,t,i){this.$parent.clickCurrentRow(e,i)},dblclickCurrentRow(e,t,i){t.stopPropagation(),this.$parent.dblclickCurrentRow(e,i)},clickCell(e,t,i,s){this.$parent.$emit("on-cell-click",e,t,e[i],s)},contextmenuCurrentRow(e,t,i){t.stopPropagation(),this.$parent.contextMenu&&t.preventDefault(),this.$parent.contextmenuCurrentRow(e,i,t)},selectStartCurrentRow(){this.$parent.contextMenu},getSpan(i,s,n,r){var a=this.$parent.spanMethod;if("function"!=typeof a)return{};{a=a({row:i,column:s,rowIndex:n,columnIndex:r});let e=1,t=1;return Array.isArray(a)?(e=a[0],t=a[1]):"object"==typeof a&&(e=a.rowspan,t=a.colspan),{rowspan:e,colspan:t}}},showWithSpan(e,t,i,s){e=this.getSpan(e,t,i,s);return!("rowspan"in e&&0===e.rowspan||"colspan"in e&&0===e.colspan)},isTrShow(e){let t,i=!0;for(var s in this.objData){var s=this.objData[s],n=s._isShowChildren;if(s._rowKey===e){i=i&&n;break}if(s.children&&s.children.length&&(t=this.getTrStatus(e,s,i&&n))[0]&&t[0]._rowKey===e)return t[1]}return i},getTrStatus(t,i,s){let n,r=s;if(i.children&&i.children.length)for(let e=0;e<i.children.length;e++){const s=i.children[e],a=s._isShowChildren;if(s._rowKey===t){n=s,r=r&&a;break}if(s.children&&s.children.length){const i=this.getTrStatus(t,s,r&&a);if(i[0]&&i[0]._rowKey===t)return i}}return[n,r]},getLevel(t){let i,s;for(let e=0;e<this.data.length;e++){var n=this.data[e];if(n[this.rowKey]===t){i=0;break}if(n.children&&n.children.length&&(s=this.getChildLevel(n,t,1))[0]&&s[0][this.rowKey]===t)return s[1]}return i},getChildLevel(t,i,s){let n,r;if(t.children&&t.children.length)for(let e=0;e<t.children.length;e++){var a=t.children[e];if(a[this.rowKey]===i){r=a,n=s;break}if(a.children&&a.children.length){const t=this.getChildLevel(a,i,s+1);if(t[0]&&t[0][this.rowKey]===i)return t}}return[r,n]},getChildNode(a,t,i){return t.children&&t.children.length&&t.children.forEach((s,n)=>{let r=[];this.columns.forEach((t,e)=>{var i;this.showWithSpan(s,t,n,e)&&(i=a(Ks,{props:{fixed:this.fixed,"prefix-cls":this.prefixCls,row:s,column:t,"natural-index":n,index:s._index,checked:this.rowStatusByRowKey("_isChecked",s._rowKey),disabled:this.rowStatusByRowKey("_isDisabled",s._rowKey),expanded:this.rowStatusByRowKey("_isExpanded",s._rowKey),treeNode:!0,treeLevel:this.getLevel(s._rowKey)},key:t._columnKey}),e=a("td",{class:this.alignCls(t,s),attrs:this.getSpan(s,t,n,e),on:{click:e=>this.clickCell(s,t,t.key,e)}},[i]),r.push(e))});var e={},e=(this.isTrShow(t._rowKey)||(e.display="none"),a(Ys,{props:{draggable:!1,row:s,"prefix-cls":this.prefixCls,isChildren:!0},style:e,key:this.rowKey?s._rowKey:n,nativeOn:{mouseenter:e=>this.handleMouseIn(s._index,e,s._rowKey),mouseleave:e=>this.handleMouseOut(s._index,e,s._rowKey),click:e=>this.clickCurrentRow(s._index,e,s._rowKey),dblclick:e=>this.dblclickCurrentRow(s._index,e,s._rowKey),contextmenu:e=>this.contextmenuCurrentRow(s._index,e,s._rowKey),selectstart:e=>this.selectStartCurrentRow(s._index,e,s._rowKey)}},r));i.push(e),s.children&&s.children.length&&this.getChildNode(a,s,i)}),i}},render(a){let t=[];this.columns.forEach(e=>{e=a("col",{attrs:{width:this.setCellWidth(e)}});t.push(e)});var e=a("colgroup",{},t);let i=[];this.data.forEach((s,n)=>{let r=[];this.columns.forEach((t,e)=>{var i;this.showWithSpan(s,t,n,e)&&(i=a(Ks,{props:{fixed:this.fixed,"prefix-cls":this.prefixCls,row:s,column:t,"natural-index":n,index:s._index,checked:this.rowChecked(s._index),disabled:this.rowDisabled(s._index),expanded:this.rowExpanded(s._index)},key:t._columnKey}),e=a("td",{class:this.alignCls(t,s),attrs:this.getSpan(s,t,n,e),on:{click:e=>this.clickCell(s,t,t.key,e)}},[i]),r.push(e))});const e=a(Ys,{props:{draggable:this.draggable,row:s,"prefix-cls":this.prefixCls},key:this.rowKey?s._rowKey:n,nativeOn:{mouseenter:e=>this.handleMouseIn(s._index,e),mouseleave:e=>this.handleMouseOut(s._index,e),click:e=>this.clickCurrentRow(s._index,e),dblclick:e=>this.dblclickCurrentRow(s._index,e),contextmenu:e=>this.contextmenuCurrentRow(s._index,e),selectstart:e=>this.selectStartCurrentRow(s._index,e)}},r);if(i.push(e),this.rowExpanded(s._index)){const r=a(Qs,{props:{row:s,render:this.expandRender,index:s._index},key:this.rowKey?s._rowKey:n}),e=a("td",{attrs:{colspan:this.columns.length},class:this.prefixCls+"-expanded-cell"},[r]),t=a("tr",{class:{[this.prefixCls+"-expanded-hidden"]:this.fixed}},[e]);i.push(t)}if(s.children&&s.children.length){const n=this.getChildNode(a,s,[]);n.forEach(e=>{i.push(e)})}});var s=a("tbody",{class:this.prefixCls+"-tbody"},[i]);return a("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"},style:this.styleObject},[e,s])}},O=Object(s.a)(w,void 0,void 0,!1,null,null,null).exports,w={name:"TableSummary",mixins:[M],props:{prefixCls:String,styleObject:Object,columns:Array,data:Object,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1}},methods:{cellCls(e){return[{"ivu-table-hidden":"left"===this.fixed&&"left"!==e.fixed||"right"===this.fixed&&"right"!==e.fixed||!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed)}]}}},M=Object(s.a)(w,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{staticStyle:{overflow:"hidden"}},[s("table",{staticClass:"ivu-table-summary",style:i.styleObject,attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",i._l(i.columns,function(e,t){return s("col",{attrs:{width:i.setCellWidth(e)}})}),0),s("tbody",{class:[i.prefixCls+"-tbody"]},[s("tr",{staticClass:"ivu-table-row"},i._l(i.columns,function(e,t){return s("td",{class:i.alignCls(e)},[s("div",{staticClass:"ivu-table-cell",class:i.cellCls(e)},[s("span",[i._v(i._s(i.data[e.key].value))])])])}),0)])])])},[],!1,null,null,null).exports;const Xs=(e,t,{separator:i,quoted:s})=>{t=t.map(e=>s?`"${e="string"==typeof e?e.replace(/"/g,'"'):e}"`:e);e.push(t.join(i))},Zs={separator:",",quoted:!1};function Js(e){var t=navigator.userAgent;if("ie"!==e)return-1<t.indexOf(e);{const e=-1<t.indexOf("compatible")&&-1<t.indexOf("MSIE");if(e){const e=new RegExp("MSIE (\\d+\\.\\d+);");return e.test(t),parseFloat(RegExp.$1)}return!1}}var en={_isIE11(){let e=0;var t=/MSIE (\d+\.\d+);/.test(navigator.userAgent),i=!!navigator.userAgent.match(/Trident\/7.0/),s=navigator.userAgent.indexOf("rv:11.0");return t&&(e=Number(RegExp.$1)),-1!==navigator.appVersion.indexOf("MSIE 10")&&(e=10),11===(e=i&&-1!==s?11:e)},_isEdge(){return/Edge/.test(navigator.userAgent)},_getDownloadUrl(e){var t;return window.Blob&&window.URL&&window.URL.createObjectURL?(t=new Blob(["\ufeff"+e],{type:"text/csv"}),URL.createObjectURL(t)):"data:attachment/csv;charset=utf-8,\ufeff"+encodeURIComponent(e)},download(e,t){var i;Js("ie")&&Js("ie")<10?((i=window.top.open("about:blank","_blank")).document.charset="utf-8",i.document.write(t),i.document.close(),i.document.execCommand("SaveAs",e),i.close()):10===Js("ie")||this._isIE11()||this._isEdge()?(i=new Blob(["\ufeff"+t],{type:"text/csv"}),navigator.msSaveBlob(i,e)):((i=document.createElement("a")).download=e,i.href=this._getDownloadUrl(t),document.body.appendChild(i),i.click(),document.body.removeChild(i))}};const tn=(e,t)=>{let i=[],s=[];return e.forEach(e=>{(e.fixed&&e.fixed===t?i:s).push(e)}),i.concat(s)},sn=(e,t=!1)=>{const i=Object(h.c)(e),s=[];return i.forEach(e=>{e.children?(t&&s.push(e),s.push.apply(s,sn(e.children,t))):s.push(e)}),s},nn="ivu-table";let rn=1,an=1;w={name:"Table",mixins:[d],components:{tableHead:T,tableBody:O,tableSummary:M,Spin:bi,Dropdown:E,DropdownMenu:_},provide(){return{tableRoot:this}},props:{data:{type:Array,default(){return[]}},columns:{type:Array,default(){return[]}},size:{validator(e){return Object(h.m)(e,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},width:{type:[Number,String]},height:{type:[Number,String]},maxHeight:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tooltipTheme:{validator(e){return Object(h.m)(e,["dark","light"])},default:"dark"},tooltipMaxWidth:{type:Number,default:300},rowKey:{type:[Boolean,String],default:!1},spanMethod:{type:Function},showSummary:{type:Boolean,default:!1},summaryMethod:{type:Function},sumText:{type:String},indentSize:{type:Number,default:16},loadData:{type:Function},updateShowChildren:{type:Boolean,default:!1},contextMenu:{type:Boolean,default:!1},showContextMenu:{type:Boolean,default:!1},fixedShadow:{validator(e){return Object(h.m)(e,["auto","show","hide"])},default:"show"}},data(){var e=this.makeColumnsId(this.columns);return{ready:!1,tableWidth:0,columnsWidth:{},prefixCls:nn,compiledUids:[],objData:this.makeObjData(),rebuildData:[],cloneColumns:this.makeColumns(e),columnRows:this.makeColumnRows(!1,e),leftFixedColumnRows:this.makeColumnRows("left",e),rightFixedColumnRows:this.makeColumnRows("right",e),allColumns:sn(e),showSlotHeader:!0,showSlotFooter:!0,bodyHeight:0,scrollBarWidth:Object(h.k)(),currentContext:this.context,cloneData:Object(h.c)(this.data),showVerticalScrollBar:!1,showHorizontalScrollBar:!1,headerWidth:0,headerHeight:0,showResizeLine:!1,contextMenuVisible:!1,contextMenuStyles:{top:0,left:0},scrollOnTheLeft:!1,scrollOnTheRight:!1}},computed:{localeNoDataText(){return void 0===this.noDataText?this.t("i.table.noDataText"):this.noDataText},localeNoFilteredDataText(){return void 0===this.noFilteredDataText?this.t("i.table.noFilteredDataText"):this.noFilteredDataText},localeSumText(){return void 0===this.sumText?this.t("i.table.sumText"):this.sumText},wrapClasses(){return[nn+"-wrapper",{"ivu-table-hide":!this.ready,"ivu-table-with-header":this.showSlotHeader,"ivu-table-with-footer":this.showSlotFooter,"ivu-table-with-summary":this.showSummary,"ivu-table-wrapper-with-border":this.border}]},classes(){return[nn,{[nn+"-"+this.size]:!!this.size,"ivu-table-border":this.border,"ivu-table-stripe":this.stripe,"ivu-table-with-fixed-top":!!this.height}]},fixedTableClasses(){return[nn+"-fixed",{"ivu-table-fixed-shadow":"show"===this.fixedShadow||"auto"===this.fixedShadow&&!this.scrollOnTheLeft}]},fixedRightTableClasses(){return[nn+"-fixed-right",{"ivu-table-fixed-shadow":"show"===this.fixedShadow||"auto"===this.fixedShadow&&!this.scrollOnTheRight}]},fixedHeaderClasses(){return[nn+"-fixed-header",{"ivu-table-fixed-header-with-empty":!this.rebuildData.length}]},styles(){let e={},t=0;var i;return this.showSummary&&(t="small"===this.size?40:"large"===this.size?60:48),this.height&&(i=parseInt(this.height)+t,e.height=i+"px"),this.maxHeight&&(i=parseInt(this.maxHeight)+t,e.maxHeight=i+"px"),this.width&&(e.width=this.width+"px"),e},tableStyle(){var e,t={};return 0!==this.tableWidth&&(e="",e=0===this.bodyHeight?this.tableWidth:this.tableWidth-(this.showVerticalScrollBar?this.scrollBarWidth:0),t.width=e+"px"),t},tableHeaderStyle(){var e,t={};return 0!==this.tableWidth&&(e="",e=this.tableWidth,t.width=e+"px"),t},fixedTableStyle(){let e={},t=0;return this.leftFixedColumns.forEach(e=>{e.fixed&&"left"===e.fixed&&(t+=e._width)}),e.width=t+"px",e},fixedRightTableStyle(){let e={},t=0;return this.rightFixedColumns.forEach(e=>{e.fixed&&"right"===e.fixed&&(t+=e._width)}),e.width=t+"px",e.right=(this.showVerticalScrollBar?this.scrollBarWidth:0)+"px",e},fixedRightHeaderStyle(){let e={},t=0,i=this.headerHeight+1;return this.showVerticalScrollBar&&(t=this.scrollBarWidth),e.width=t+"px",e.height=i+"px",e},bodyStyle(){var e,t={};return 0!==this.bodyHeight&&(e=this.bodyHeight,this.height?t.height=e+"px":this.maxHeight&&(t.maxHeight=e+"px")),t},fixedBodyStyle(){var e,t={};return 0!==this.bodyHeight&&(e=this.bodyHeight-(this.showHorizontalScrollBar?this.scrollBarWidth:0),e=this.showHorizontalScrollBar?e+"px":e-1+"px",this.height?t.height=e:this.maxHeight&&(t.maxHeight=e)),t},leftFixedColumns(){return tn(this.cloneColumns,"left")},rightFixedColumns(){return tn(this.cloneColumns,"right")},isLeftFixed(){return this.columns.some(e=>e.fixed&&"left"===e.fixed)},isRightFixed(){return this.columns.some(e=>e.fixed&&"right"===e.fixed)},summaryData(){if(!this.showSummary)return{};let o={};return this.summaryMethod?o=this.summaryMethod({columns:this.cloneColumns,data:this.rebuildData}):this.cloneColumns.forEach((i,e)=>{var s=i.key;if(0===e)o[s]={key:i.key,value:this.localeSumText};else{const n=this.rebuildData.map(e=>Number(e[i.key])),r=[];let t=!0;n.forEach(e=>{isNaN(e)||(t=!1,e=(""+e).split(".")[1],r.push(e?e.length:0))});const a=Math.max.apply(null,r);if(t)o[s]={key:i.key,value:""};else{const e=n.reduce((e,t)=>{var i=Number(t);return isNaN(i)?e:parseFloat((e+t).toFixed(Math.min(a,20)))},0);o[s]={key:i.key,value:e}}}}),o}},methods:{rowClsName(e){return this.rowClassName(this.data[e],e)},handleResize(){let i=this.$el.offsetWidth-1,s={},t=0,n=[],r=[],a=[],o=[],e=(this.cloneColumns.forEach(e=>{(e.width?n:(r.push(e),e.minWidth&&(t+=e.minWidth),e.maxWidth?a:o)).push(e),e._width=null}),n.map(e=>e.width).reduce((e,t)=>e+t,0)),l=i-e-t-(this.showVerticalScrollBar?this.scrollBarWidth:0)-1,c=r.length,u=0;0<l&&0<c&&(u=parseInt(l/c));for(let t=0;t<this.cloneColumns.length;t++){const i=this.cloneColumns[t];let e=u+(i.minWidth||0);i.width?e=i.width:i._width?e=i._width:(i.minWidth>e?e=i.minWidth:i.maxWidth<e&&(e=i.maxWidth),u=0<l&&(l-=e-(i.minWidth||0),0<--c)?parseInt(l/c):0),i._width=e,s[i._index]={width:e}}if(0<l){c=o.length,u=parseInt(l/c);for(let e=0;e<o.length;e++){const t=o[e];var h=t._width+u;u=1<c?(c--,l-=u,parseInt(l/c)):0,t._width=h,s[t._index]={width:h}}}this.tableWidth=this.cloneColumns.map(e=>e._width).reduce((e,t)=>e+t,0)+(this.showVerticalScrollBar?this.scrollBarWidth:0)+1,this.columnsWidth=s,this.fixedHeader(),"auto"===this.fixedShadow&&this.$nextTick(()=>{var e=this.$refs.body;this.scrollOnTheLeft=0===e.scrollLeft,this.scrollOnTheRight=e.scrollWidth===e.scrollLeft+e.clientWidth})},handleMouseIn(e,t){this.disabledHover||(t=t?this.getDataByRowKey(t):this.objData[e])._isHover||(t._isHover=!0)},handleMouseOut(e,t){this.disabledHover||((t?this.getDataByRowKey(t):this.objData[e])._isHover=!1)},handleCurrentRow(e,t,i){var s,n=i?this.getDataByRowKey(i):this.objData[t];let r=null,a=-1;for(s in this.objData){if(this.objData[s]._isHighlight){a=parseInt(s),this.objData[s]._isHighlight=!1;break}if(this.objData[s].children&&this.objData[s].children.length){const e=this.handleResetChildrenRow(this.objData[s]);e&&(r=JSON.parse(JSON.stringify(e)))}}"highlight"===e&&(n._isHighlight=!0),0<=a&&(r=JSON.parse(JSON.stringify(this.cloneData[a])));n="highlight"===e?i?JSON.parse(JSON.stringify(this.getBaseDataByRowKey(i))):JSON.parse(JSON.stringify(this.cloneData[t])):null;this.$emit("on-current-change",n,r)},handleResetChildrenRow(t){let i=null;if(t.children&&t.children.length)for(let e=0;e<t.children.length;e++){var s=t.children[e];if(s._isHighlight){s._isHighlight=!1,i=s;break}s.children&&s.children.length&&(i=this.handleResetChildrenRow(s))}return i},highlightCurrentRow(e,t){var i=t?this.getDataByRowKey(t):this.objData[e];this.highlightRow&&!i._isHighlight&&this.handleCurrentRow("highlight",e,t)},clearCurrentRow(){this.highlightRow&&this.handleCurrentRow("clear")},clickCurrentRow(e,t){this.highlightCurrentRow(e,t),t?this.$emit("on-row-click",JSON.parse(JSON.stringify(this.getBaseDataByRowKey(t)))):this.$emit("on-row-click",JSON.parse(JSON.stringify(this.cloneData[e])),e)},dblclickCurrentRow(e,t){this.highlightCurrentRow(e,t),t?this.$emit("on-row-dblclick",JSON.parse(JSON.stringify(this.getBaseDataByRowKey(t)))):this.$emit("on-row-dblclick",JSON.parse(JSON.stringify(this.cloneData[e])),e)},contextmenuCurrentRow(t,i,s){this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(()=>{var e=this.$refs.tableWrap.getBoundingClientRect(),e={left:s.clientX-e.left+"px",top:s.clientY-e.top+"px"};this.contextMenuStyles=e,this.contextMenuVisible=!0,i?this.$emit("on-contextmenu",JSON.parse(JSON.stringify(this.getBaseDataByRowKey(i))),s,e):this.$emit("on-contextmenu",JSON.parse(JSON.stringify(this.cloneData[t])),s,e)})},getSelection(){let i=[],s=[];for(var e in this.objData){const n=this.objData[e];n._isChecked&&i.push(parseInt(e)),n.children&&n.children.length&&(s=s.concat(this.getSelectionChildrenRowKeys(n,s)))}s=[...new Set(s)];let n=[];return this.data.forEach((e,t)=>{-1<i.indexOf(t)&&(n=n.concat(e)),e.children&&e.children.length&&s.length&&(n=n.concat(this.getSelectionChildren(e,n,s)))}),n=[...new Set(n)],JSON.parse(JSON.stringify(n))},getSelectionChildrenRowKeys(e,t){return e.children&&e.children.length&&e.children.forEach(e=>{e._isChecked&&t.push(e._rowKey),e.children&&e.children.length&&(t=t.concat(this.getSelectionChildrenRowKeys(e,t)))}),t},getSelectionChildren(e,t,i){return e.children&&e.children.length&&e.children.forEach(e=>{-1<i.indexOf(e[this.rowKey])&&(t=t.concat(e)),e.children&&e.children.length&&(t=t.concat(this.getSelectionChildren(e,t,i)))}),t},toggleSelect(e,t){let i={};if(t)i=this.getDataByRowKey(t);else for(var s in this.objData)if(parseInt(s)===e){i=this.objData[s];break}var n=!i._isChecked,r=(i._isChecked=n,this.getSelection()),t=t?this.getBaseDataByRowKey(t,this.data):this.data[e];this.$emit(n?"on-select":"on-select-cancel",r,JSON.parse(JSON.stringify(t))),this.$emit("on-selection-change",r)},toggleExpand(e){let t={};for(var i in this.objData)if(parseInt(i)===e){t=this.objData[i];break}var s=!t._isExpanded;this.objData[e]._isExpanded=s,this.$emit("on-expand",JSON.parse(JSON.stringify(this.cloneData[e])),s),(this.height||this.maxHeight)&&this.$nextTick(()=>this.fixedBody())},toggleTree(t){const i=this.getDataByRowKey(t);if(!("_loading"in i&&i._loading))if("_loading"in i&&!i._loading&&0===i.children.length){const i=this.getBaseDataByRowKey(t,this.data);this.$set(i,"_loading",!0),void this.loadData(i,e=>{this.$set(i,"_loading",!1),e.length&&(this.$set(i,"children",e),this.$nextTick(()=>{var e=this.getDataByRowKey(t);e._isShowChildren=!e._isShowChildren,this.updateDataStatus(t,"_showChildren",e._isShowChildren)}))})}else i._isShowChildren=!i._isShowChildren,this.updateShowChildren&&this.updateDataStatus(t,"_showChildren",i._isShowChildren),this.$emit("on-expand-tree",t,i._isShowChildren)},updateDataStatus(e,t,i){e=this.getBaseDataByRowKey(e,this.data);this.$set(e,t,i)},getDataByRowKey(e,t=this.objData){let i=null;for(var s in t){s=t[s];if(s._rowKey===e){i=s;break}if(s.children&&s.children.length&&(i=this.getChildrenByRowKey(e,s)))break}return i},getChildrenByRowKey(t,i){let s=null;if(i.children&&i.children.length)for(let e=0;e<i.children.length;e++){var n=i.children[e];if(n._rowKey===t){s=n;break}if(n.children&&n.children.length&&(s=this.getChildrenByRowKey(t,n)))break}return s},getBaseDataByRowKey(t,i=this.cloneData){let s=null;for(let e=0;e<i.length;e++){var n=i[e];if(n[this.rowKey]===t){s=n;break}if(n.children&&n.children.length&&(s=this.getChildrenDataByRowKey(t,n))&&s[this.rowKey]===t)return s}return s},getChildrenDataByRowKey(t,i){let s=null;if(i.children&&i.children.length)for(let e=0;e<i.children.length;e++){var n=i.children[e];if(n[this.rowKey]===t){s=n;break}if(n.children&&n.children.length&&(s=this.getChildrenDataByRowKey(t,n)))break}return s},selectAll(e){for(const i of this.rebuildData){const t=this.objData[i._index];t._isDisabled||(t._isChecked=e),i.children&&i.children.length&&this.selectAllChildren(t,e)}const t=this.getSelection();e?this.$emit("on-select-all",t):this.$emit("on-select-all-cancel",t),this.$emit("on-selection-change",t)},selectAllChildren(e,t){e.children&&e.children.length&&e.children.map(e=>{e._isDisabled||(e._isChecked=t),e.children&&e.children.length&&this.selectAllChildren(e,t)})},fixedHeader(){this.height||this.maxHeight?this.$nextTick(()=>{var e=parseInt(Object(h.l)(this.$refs.title,"height"))||0,t=parseInt(Object(h.l)(this.$refs.header,"height"))||0,i=parseInt(Object(h.l)(this.$refs.footer,"height"))||0;this.height?this.bodyHeight=this.height-e-t-i:this.maxHeight&&(this.bodyHeight=this.maxHeight-e-t-i),this.$nextTick(()=>this.fixedBody())}):(this.bodyHeight=0,this.$nextTick(()=>this.fixedBody()))},fixedBody(){var e,t,i,s;this.$refs.header&&(this.headerWidth=this.$refs.header.children[0].offsetWidth,this.headerHeight=this.$refs.header.children[0].offsetHeight),this.$refs.tbody&&this.data&&0!==this.data.length?(t=(e=this.$refs.tbody.$el).parentElement,i=e.offsetHeight,s=t.offsetHeight,this.showHorizontalScrollBar=t.offsetWidth<e.offsetWidth+(this.showVerticalScrollBar?this.scrollBarWidth:0),this.showVerticalScrollBar=!!this.bodyHeight&&s-(this.showHorizontalScrollBar?this.scrollBarWidth:0)<i,this.showVerticalScrollBar?t.classList.add(this.prefixCls+"-overflowY"):t.classList.remove(this.prefixCls+"-overflowY"),this.showHorizontalScrollBar?t.classList.add(this.prefixCls+"-overflowX"):t.classList.remove(this.prefixCls+"-overflowX")):this.showVerticalScrollBar=!1},hideColumnFilter(){this.cloneColumns.forEach(e=>e._filterVisible=!1)},handleBodyScroll(e){this.scrollOnTheLeft=0===e.target.scrollLeft,this.scrollOnTheRight=e.target.scrollWidth===e.target.scrollLeft+e.target.clientWidth,this.showHeader&&(this.$refs.header.scrollLeft=e.target.scrollLeft),this.isLeftFixed&&(this.$refs.fixedBody.scrollTop=e.target.scrollTop),this.isRightFixed&&(this.$refs.fixedRightBody.scrollTop=e.target.scrollTop),this.showSummary&&this.$refs.summary&&(this.$refs.summary.$el.scrollLeft=e.target.scrollLeft),this.hideColumnFilter()},handleFixedMousewheel(i){let s=i.deltaY;if(s=!(s=!(s=!s&&i.detail?40*i.detail:s)&&i.wheelDeltaY?-i.wheelDeltaY:s)&&i.wheelDelta?-i.wheelDelta:s){const n=this.$refs.body,r=n.scrollTop;s<0&&0!==r&&i.preventDefault(),0<s&&n.scrollHeight-n.clientHeight>r&&i.preventDefault();let e=0,t=setInterval(()=>{e+=5,0<s?n.scrollTop+=2:n.scrollTop-=2,e>=Math.abs(s)&&clearInterval(t)},5)}},handleMouseWheel(e){var e=e.deltaX,t=this.$refs.body;t.scrollLeft=0<e?t.scrollLeft+10:t.scrollLeft-10},sortData(t,i,s){const n=this.cloneColumns[s].key;t.sort((e,t)=>this.cloneColumns[s].sortMethod?this.cloneColumns[s].sortMethod(e[n],t[n],i):"asc"===i?e[n]>t[n]?1:-1:"desc"===i?e[n]<t[n]?1:-1:void 0);for(let e=0;e<t.length;e++)t[e].children&&t[e].children.length&&(t[e].children=this.sortData(t[e].children,i,s));return t},handleSort(e,t){var e=this.GetOriginalIndex(e),i=(this.cloneColumns.forEach(e=>e._sortType="normal"),this.cloneColumns[e].key);"custom"!==this.cloneColumns[e].sortable&&(this.rebuildData="normal"===t?this.makeDataWithFilter():this.sortData(this.rebuildData,t,e)),this.cloneColumns[e]._sortType=t,this.$emit("on-sort-change",{column:JSON.parse(JSON.stringify(this.allColumns[this.cloneColumns[e]._index])),key:i,order:t})},handleFilterHide(e){this.cloneColumns[e]._isFiltered||(this.cloneColumns[e]._filterChecked=[])},filterData(e,s){return e.filter(t=>{if("function"==typeof s.filterRemote)return!0;let i=!s._filterChecked.length;for(let e=0;e<s._filterChecked.length&&!(i=s.filterMethod(s._filterChecked[e],t));e++);return i})},filterOtherData(i,s){var e=this.cloneColumns[s];return"function"==typeof e.filterRemote&&e.filterRemote.call(this.$parent,e._filterChecked,e.key,e),this.cloneColumns.forEach((e,t)=>{t!==s&&(i=this.filterData(i,e))}),i},handleFilter(e){var t=this.cloneColumns[e],i=this.makeDataWithSort(),i=this.filterOtherData(i,e);this.rebuildData=this.filterData(i,t),this.cloneColumns[e]._isFiltered=!0,this.cloneColumns[e]._filterVisible=!1,this.$emit("on-filter-change",t)},GetOriginalIndex(t){return this.cloneColumns.findIndex(e=>e._index===t)},handleFilterSelect(e,t){e=this.GetOriginalIndex(e);this.cloneColumns[e]._filterChecked=[t],this.handleFilter(e)},handleFilterReset(e){var e=this.GetOriginalIndex(e),t=(this.cloneColumns[e]._isFiltered=!1,this.cloneColumns[e]._filterVisible=!1,this.cloneColumns[e]._filterChecked=[],this.makeDataWithSort()),t=this.filterOtherData(t,e);this.rebuildData=t,this.$emit("on-filter-change",this.cloneColumns[e])},makeData(){var e=Object(h.c)(this.data);return e.forEach((e,t)=>{e._index=t,e._rowKey="string"==typeof this.rowKey?e[this.rowKey]:rn++,e.children&&e.children.length&&(e.children=this.makeChildrenData(e))}),e},makeChildrenData(e){return e.children&&e.children.length?e.children.map((e,t)=>{e=Object(h.c)(e);return e._index=t,e._rowKey="string"==typeof this.rowKey?e[this.rowKey]:rn++,e.children&&e.children.length&&(e.children=this.makeChildrenData(e)),e}):e},makeDataWithSort(){let e=this.makeData(),t="normal",i=-1,s=!1;for(let e=0;e<this.cloneColumns.length;e++)if("normal"!==this.cloneColumns[e]._sortType){t=this.cloneColumns[e]._sortType,i=e,s="custom"===this.cloneColumns[e].sortable;break}return e="normal"===t||s?e:this.sortData(e,t,i)},makeDataWithFilter(){let t=this.makeData();return this.cloneColumns.forEach(e=>t=this.filterData(t,e)),t},makeDataWithSortAndFilter(){let t=this.makeDataWithSort();return this.cloneColumns.forEach(e=>t=this.filterData(t,e)),t},makeObjBaseData(e){e=Object(h.c)(e);return"string"==typeof this.rowKey&&(e._rowKey=e[this.rowKey]),e._isHover=!1,e._disabled?e._isDisabled=e._disabled:e._isDisabled=!1,e._checked?e._isChecked=e._checked:e._isChecked=!1,e._expanded?e._isExpanded=e._expanded:e._isExpanded=!1,e._highlight?e._isHighlight=e._highlight:e._isHighlight=!1,e},makeObjData(){let i={};return this.data.forEach((e,t)=>{e=this.makeObjBaseData(e);e.children&&e.children.length&&(e._showChildren?e._isShowChildren=e._showChildren:e._isShowChildren=!1,e.children=this.makeChildrenObjData(e)),i[t]=e}),i},makeChildrenObjData(e){return e.children&&e.children.length?e.children.map(e=>{e=this.makeObjBaseData(e);return e._showChildren?e._isShowChildren=e._showChildren:e._isShowChildren=!1,e.children&&e.children.length&&(e.children=this.makeChildrenObjData(e)),e}):e},makeColumnsId(e){return e.map(e=>("children"in e&&this.makeColumnsId(e.children),e.__id=function(t){var i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",s=i.length;let n="";for(let e=0;e<t;e++)n+=i.charAt(Math.floor(Math.random()*s));return n}(6),e))},makeColumns(e){let t=Object(h.c)(sn(e)),i=[],s=[],n=[];return t.forEach((e,t)=>{e._index=t,e._columnKey=an++,e.width=parseInt(e.width),e._width=e.width||"",e._sortType="normal",e._filterVisible=!1,e._isFiltered=!1,e._filterChecked=[],e._filterMultiple=!("filterMultiple"in e)||e.filterMultiple,"filteredValue"in e&&(e._filterChecked=e.filteredValue,e._isFiltered=!0),"sortType"in e&&(e._sortType=e.sortType),(e.fixed&&"left"===e.fixed?i:e.fixed&&"right"===e.fixed?s:n).push(e)}),i.concat(n).concat(s)},makeColumnRows(e,i){{var[i,e=!1]=[i,e];e=e?"left"===e?Object(h.c)(tn(i,"left")):Object(h.c)(tn(i,"right")):Object(h.c)(i);let t=1;const s=(i,e)=>{if(e&&(i.level=e.level+1,t<i.level)&&(t=i.level),i.children){let t=0;i.children.forEach(e=>{s(e,i),t+=e.colSpan}),i.colSpan=t}else i.colSpan=1},n=(e.forEach(e=>{e.level=1,s(e)}),[]);for(let e=0;e<t;e++)n.push([]);return sn(e,!0).forEach(e=>{e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,n[e.level-1].push(e)}),n}},exportCsv(e){e.filename?-1===e.filename.indexOf(".csv")&&(e.filename+=".csv"):e.filename="table.csv";let t=[],i=[],s=(i=e.columns&&e.data?(t=e.columns,e.data):(t=this.allColumns,"original"in e||(e.original=!0),e.original?this.data:this.rebuildData),!1);"noHeader"in e&&(s=e.noHeader);var n=function(e,t,i,s=!1){let n;i=Object.assign({},Zs,i);const r=[],a=[];return e?(n=e.map(e=>"string"==typeof e?e:(s||a.push(void 0!==e.title?e.title:e.key),e.key)),0<a.length&&Xs(r,a,i)):(n=[],t.forEach(e=>{Array.isArray(e)||(n=n.concat(Object.keys(e)))}),0<n.length&&(n=n.filter((e,t,i)=>i.indexOf(e)===t),s||Xs(r,n,i))),Array.isArray(t)&&t.forEach(t=>{Array.isArray(t)||(t=n.map(e=>void 0!==t[e]?t[e]:"")),Xs(r,t,i)}),r.join("\r\n")}(t,i,e,s);e.callback?e.callback(n):en.download(e.filename,n)},dragAndDrop(e,t){this.$emit("on-drag-drop",e,t)},handleClickContextMenuOutside(){this.contextMenuVisible=!1}},created(){this.context||(this.currentContext=this.$parent),this.showSlotHeader=void 0!==this.$slots.header,this.showSlotFooter=void 0!==this.$slots.footer,this.rebuildData=this.makeDataWithSortAndFilter()},mounted(){this.handleResize(),this.$nextTick(()=>this.ready=!0),i(window,"resize",this.handleResize),this.observer=Fs()(),this.observer.listenTo(this.$el,this.handleResize),this.$on("on-visible-change",e=>{e&&this.$nextTick(()=>{this.handleResize()})})},beforeDestroy(){this.$off("on-visible-change"),t(window,"resize",this.handleResize),this.observer.removeAllListeners(this.$el),this.observer.uninstall(this.$el),this.observer=null},watch:{data:{handler(){var e=this.rebuildData.length;this.objData=this.makeObjData(),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize(),e||this.fixedHeader(),setTimeout(()=>{this.cloneData=Object(h.c)(this.data)},0)},deep:!0},columns:{handler(){var e=this.makeColumnsId(this.columns);this.allColumns=sn(e),this.cloneColumns=this.makeColumns(e),this.columnRows=this.makeColumnRows(!1,e),this.leftFixedColumnRows=this.makeColumnRows("left",e),this.rightFixedColumnRows=this.makeColumnRows("right",e),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize()},deep:!0},height(){this.handleResize()},maxHeight(){this.handleResize()},showHorizontalScrollBar(){this.handleResize()},showVerticalScrollBar(){this.handleResize()}}},T=Object(s.a)(w,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{ref:"tableWrap",class:e.wrapClasses,style:e.styles},[t("div",{class:e.classes},[e.showSlotHeader?t("div",{ref:"title",class:[e.prefixCls+"-title"]},[e._t("header")],2):e._e(),e.showHeader?t("div",{ref:"header",class:[e.prefixCls+"-header"],on:{mousewheel:e.handleMouseWheel}},[t("table-head",{attrs:{"prefix-cls":e.prefixCls,styleObject:e.tableHeaderStyle,columns:e.cloneColumns,"column-rows":e.columnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:!(e.localeNoDataText&&(!e.data||0===e.data.length)||e.localeNoFilteredDataText&&(!e.rebuildData||0===e.rebuildData.length)),expression:"!((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"}],ref:"body",class:[e.prefixCls+"-body"],style:e.bodyStyle,on:{scroll:e.handleBodyScroll}},[t("table-body",{ref:"tbody",attrs:{draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.tableStyle,columns:e.cloneColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e.showSummary&&e.data&&e.data.length?t("table-summary",{ref:"summary",attrs:{"prefix-cls":e.prefixCls,styleObject:e.tableStyle,columns:e.cloneColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:!((!e.localeNoDataText||e.data&&0!==e.data.length)&&(!e.localeNoFilteredDataText||e.rebuildData&&0!==e.rebuildData.length)),expression:"((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"}],class:[e.prefixCls+"-tip"],style:e.bodyStyle,on:{scroll:e.handleBodyScroll}},[t("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("tbody",[t("tr",[t("td",{style:{height:e.bodyStyle.height,width:this.headerWidth+"px"}},[e.data&&0!==e.data.length?t("span",{domProps:{innerHTML:e._s(e.localeNoFilteredDataText)}}):t("span",{domProps:{innerHTML:e._s(e.localeNoDataText)}})])])])])]),e.isLeftFixed?t("div",{class:e.fixedTableClasses,style:e.fixedTableStyle},[e.showHeader?t("div",{class:e.fixedHeaderClasses},[t("table-head",{attrs:{fixed:"left","prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,"column-rows":e.columnRows,"fixed-column-rows":e.leftFixedColumnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),t("div",{ref:"fixedBody",class:[e.prefixCls+"-fixed-body"],style:e.fixedBodyStyle,on:{mousewheel:e.handleFixedMousewheel,DOMMouseScroll:e.handleFixedMousewheel}},[t("table-body",{attrs:{fixed:"left",draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e.showSummary&&e.data&&e.data.length?t("table-summary",{style:{"margin-top":e.showHorizontalScrollBar?e.scrollBarWidth+"px":0},attrs:{fixed:"left","prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e()],1):e._e(),e.isRightFixed?t("div",{class:e.fixedRightTableClasses,style:e.fixedRightTableStyle},[e.showHeader?t("div",{class:e.fixedHeaderClasses},[t("table-head",{attrs:{fixed:"right","prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,"column-rows":e.columnRows,"fixed-column-rows":e.rightFixedColumnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),t("div",{ref:"fixedRightBody",class:[e.prefixCls+"-fixed-body"],style:e.fixedBodyStyle,on:{mousewheel:e.handleFixedMousewheel,DOMMouseScroll:e.handleFixedMousewheel}},[t("table-body",{attrs:{fixed:"right",draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e.showSummary&&e.data&&e.data.length?t("table-summary",{style:{"margin-top":e.showHorizontalScrollBar?e.scrollBarWidth+"px":0},attrs:{fixed:"right","prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e()],1):e._e(),e.isRightFixed?t("div",{class:[e.prefixCls+"-fixed-right-header"],style:e.fixedRightHeaderStyle}):e._e(),e.showSlotFooter?t("div",{ref:"footer",class:[e.prefixCls+"-footer"]},[e._t("footer")],2):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showResizeLine,expression:"showResizeLine"}],ref:"resizeLine",staticClass:"ivu-table-resize-line"}),e.showContextMenu?t("div",{staticClass:"ivu-table-context-menu",style:e.contextMenuStyles},[t("Dropdown",{attrs:{trigger:"custom",visible:e.contextMenuVisible,transfer:""},on:{"on-clickoutside":e.handleClickContextMenuOutside}},[t("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._t("contextMenu")],2)],1)],1):e._e(),e.loading?t("Spin",{attrs:{fix:"",size:"large"}},[e._t("loading")],2):e._e()],1)},[],!1,null,null,null).exports;const on="ivu-tabs",ln=(e,t,i,s)=>{var n=e.findIndex(e=>e.name===t),n=e[(n+i+e.length)%e.length];return n.disabled?ln(e,n.name,i,s):n},cn=(e,t)=>{try{e.focus()}catch(e){}if(document.activeElement==e&&e!==t)return!0;var i;for(i of e.children)if(cn(i,t))return!0;return!1};O={name:"Tabs",mixins:[c],components:{Icon:n,Render:f,Dropdown:E,DropdownMenu:_},provide(){return{TabsInstance:this}},props:{value:{type:[String,Number]},type:{validator(e){return Object(h.m)(e,["line","card"])},default:"line"},size:{validator(e){return Object(h.m)(e,["small","default"])},default:"default"},animated:{type:Boolean,default:!0},captureFocus:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},beforeRemove:Function,name:{type:String},draggable:{type:Boolean,default:!1}},data(){return{prefixCls:on,navList:[],barWidth:0,barOffset:0,activeKey:this.value,focusedKey:this.value,showSlot:!1,navStyle:{transform:""},scrollable:!1,transitioning:!1,contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},computed:{classes(){return[on,{"ivu-tabs-card":"card"===this.type,"ivu-tabs-mini":"small"===this.size&&"line"===this.type,"ivu-tabs-no-animation":!this.animated}]},contentClasses(){return[on+"-content",{"ivu-tabs-content-animated":this.animated}]},barClasses(){return[on+"-ink-bar",{"ivu-tabs-ink-bar-animated":this.animated}]},contentStyle(){var e=this.getTabIndex(this.activeKey);let t=-1<e?{transform:`translateX(${0===e?"0%":`-${e}00%`}) translateZ(0px)`}:{};return t},barStyle(){var e={visibility:"hidden",width:this.barWidth+"px"};return"line"===this.type&&(e.visibility="visible"),this.animated?e.transform=`translate3d(${this.barOffset}px, 0px, 0px)`:e.left=this.barOffset+"px",e},arrowType(){let e="ios-close";return this.$IVIEW&&(this.$IVIEW.tabs.customCloseIcon?e="":this.$IVIEW.tabs.closeIcon&&(e=this.$IVIEW.tabs.closeIcon)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.tabs.customCloseIcon?this.$IVIEW.tabs.customCloseIcon:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.tabs.closeIconSize?this.$IVIEW.tabs.closeIconSize:e}},methods:{getTabs(){const e=Object(h.h)(this,"TabPane"),t=[];return e.forEach(e=>{e.tab&&this.name&&e.tab!==this.name||t.push(e)}),t.sort((e,t)=>{if(e.index&&t.index)return e.index>t.index?1:-1}),t},updateNav(){this.navList=[],this.getTabs().forEach((e,t)=>{this.navList.push({labelType:typeof e.label,label:e.label,icon:e.icon||"",name:e.currentName||t,disabled:e.disabled,closable:e.closable,contextMenu:e.contextMenu}),e.currentName||(e.currentName=t),0!==t||this.activeKey||(this.activeKey=e.currentName||t)}),this.updateStatus(),this.updateBar()},updateBar(){this.$nextTick(()=>{var i=this.getTabIndex(this.activeKey);if(this.$refs.nav){var s=this.$refs.nav.querySelectorAll(`.${on}-tab`),e=s[i];if(this.barWidth=e?parseFloat(e.offsetWidth):0,0<i){let t=0;var n="small"===this.size?0:16;for(let e=0;e<i;e++)t+=parseFloat(s[e].offsetWidth)+n;this.barOffset=t}else this.barOffset=0;this.updateNavScroll()}})},updateStatus(){this.getTabs().forEach(e=>e.show=e.currentName===this.activeKey||this.animated)},tabCls(e){return[on+"-tab",{"ivu-tabs-tab-disabled":e.disabled,"ivu-tabs-tab-active":e.name===this.activeKey,"ivu-tabs-tab-focused":e.name===this.focusedKey}]},handleChange(e){this.transitioning||(this.transitioning=!0,setTimeout(()=>this.transitioning=!1,300),(e=this.navList[e])&&!e.disabled&&(this.activeKey=e.name,this.$emit("input",e.name),this.$emit("on-click",e.name)))},handleDblclick(e){e=this.navList[e];e&&!e.disabled&&this.$emit("on-dblclick",e.name)},handleContextmenu(i,s){this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(()=>{var e,t=this.navList[i];t&&!t.disabled&&t.contextMenu&&(s.preventDefault(),e=this.$refs.tabsWrap.getBoundingClientRect(),e={left:s.clientX-e.left+"px",top:s.clientY-e.top+"px"},this.contextMenuStyles=e,this.contextMenuVisible=!0,this.$emit("on-contextmenu",t,s,e))})},handleClickContextMenuOutside(){this.contextMenuVisible=!1},handlePreventSelect(e,t){e=this.navList[e];e&&!e.disabled&&e.contextMenu&&t.preventDefault()},handleTabKeyNavigation(e){37!==e.keyCode&&39!==e.keyCode||(e=39===e.keyCode?1:-1,e=ln(this.navList,this.focusedKey,e),this.focusedKey=e.name)},handleTabKeyboardSelect(e=!1){e||(e=this.focusedKey||0,e=this.getTabIndex(e),this.handleChange(e))},handleRemove(e){if(!this.beforeRemove)return this.handleRemoveTab(e);var t=this.beforeRemove(e);t&&t.then?t.then(()=>{this.handleRemoveTab(e)}):this.handleRemoveTab(e)},handleRemoveTab(i){const t=this.getTabs(),s=t[i];if(s.$destroy(),s.currentName===this.activeKey){const s=this.getTabs();let e=-1;var n,r;s.length&&(n=t.filter((e,t)=>!e.disabled&&t<i),r=t.filter((e,t)=>!e.disabled&&i<t),e=(r.length?r[0]:n.length?n[n.length-1]:s[0]).currentName),this.activeKey=e,this.$emit("input",e)}this.$emit("on-tab-remove",s.currentName),this.updateNav()},showClose(e){return"card"===this.type&&(null!==e.closable?e:this).closable},scrollPrev(){var e=this.$refs.navScroll.offsetWidth,t=this.getCurrentScrollOffset();t&&this.setOffset(e<t?t-e:0)},scrollNext(){var e=this.$refs.nav.offsetWidth,t=this.$refs.navScroll.offsetWidth,i=this.getCurrentScrollOffset();e-i<=t||this.setOffset(2*t<e-i?i+t:e-t)},getCurrentScrollOffset(){var e=this["navStyle"];return e.transform?Number(e.transform.match(/translateX\(-(\d+(\.\d+)*)px\)/)[1]):0},getTabIndex(t){return this.navList.findIndex(e=>e.name===t)},setOffset(e){this.navStyle.transform=`translateX(-${e}px)`},scrollToActiveTab(){if(this.scrollable){var t=this.$refs.nav,i=this.$el.querySelector(`.${on}-tab-active`);if(i){var s=this.$refs.navScroll,i=i.getBoundingClientRect(),s=s.getBoundingClientRect(),n=t.getBoundingClientRect(),r=this.getCurrentScrollOffset();let e=r;n.right<s.right&&(e=t.offsetWidth-s.width),i.left<s.left?e=r-(s.left-i.left):i.right>s.right&&(e=r+i.right-s.right),r!==e&&this.setOffset(Math.max(e,0))}}},updateNavScroll(){var e=this.$refs.nav.offsetWidth,t=this.$refs.navScroll.offsetWidth,i=this.getCurrentScrollOffset();t<e?(this.scrollable=!0,e-i<t&&this.setOffset(e-t)):(this.scrollable=!1,0<i&&this.setOffset(0))},handleScroll(e){e.preventDefault(),e.stopPropagation();var t=e.type;let i=0;0<(i="DOMMouseScroll"!==t&&"mousewheel"!==t?i:e.wheelDelta||40*-(e.detail||0))?this.scrollPrev():this.scrollNext()},handleResize(){this.updateNavScroll()},isInsideHiddenElement(){let e=this.$el.parentNode;for(;e&&e!==document.body;){if(e.style&&"none"===e.style.display)return e;e=e.parentNode}return!1},updateVisibility(i){[...this.$refs.panes.querySelectorAll(`.${on}-tabpane`)].forEach((e,t)=>{i===t?([...e.children].filter(e=>e.classList.contains(on+"-tabpane")).forEach(e=>e.style.visibility="visible"),this.captureFocus&&setTimeout(()=>cn(e,e),300)):setTimeout(()=>{[...e.children].filter(e=>e.classList.contains(on+"-tabpane")).forEach(e=>e.style.visibility="hidden")},300)})},handleDrag(e,t){e=this.navList[e];e&&t.dataTransfer.setData("tab-name",e.name)},handleDrop(t,e){const i=this.navList[t];if(i){const t=e.dataTransfer.getData("tab-name");e.preventDefault();var e=this.navList.map(e=>e.name),s=parseInt(e.findIndex(e=>e===t)),n=parseInt(e.findIndex(e=>e===i.name));e.splice(n,1,...e.splice(s,1,e[n])),this.$emit("on-drag-drop",t,i.name,s,n,e)}}},watch:{value(e){this.activeKey=e,this.focusedKey=e},activeKey(e){this.focusedKey=e,this.updateBar(),this.updateStatus(),this.broadcast("Table","on-visible-change",!0),this.$nextTick(()=>{this.scrollToActiveTab()});e=Math.max(this.getTabIndex(this.focusedKey),0);this.updateVisibility(e)}},mounted(){this.showSlot=void 0!==this.$slots.extra,this.observer=Fs()(),this.observer.listenTo(this.$refs.navWrap,this.handleResize);const e=this.isInsideHiddenElement();e&&(this.mutationObserver=new h.a(()=>{"none"!==e.style.display&&(this.updateBar(),this.mutationObserver.disconnect())}),this.mutationObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,attributeFilter:["style"]})),this.handleTabKeyboardSelect(!0),this.updateVisibility(this.getTabIndex(this.activeKey))},beforeDestroy(){this.observer.removeListener(this.$refs.navWrap,this.handleResize),this.mutationObserver&&this.mutationObserver.disconnect()}},M=Object(s.a)(O,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{ref:"tabsWrap",class:i.classes},[s("div",{class:[i.prefixCls+"-bar"]},[i.showSlot?s("div",{class:[i.prefixCls+"-nav-right"]},[i._t("extra")],2):i._e(),s("div",{ref:"navContainer",class:[i.prefixCls+"-nav-container"],attrs:{tabindex:"0"},on:{keydown:[i.handleTabKeyNavigation,function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),i.handleTabKeyboardSelect(!1))}]}},[s("div",{ref:"navWrap",class:[i.prefixCls+"-nav-wrap",i.scrollable?i.prefixCls+"-nav-scrollable":""]},[s("span",{class:[i.prefixCls+"-nav-prev",i.scrollable?"":i.prefixCls+"-nav-scroll-disabled"],on:{click:i.scrollPrev}},[s("Icon",{attrs:{type:"ios-arrow-back"}})],1),s("span",{class:[i.prefixCls+"-nav-next",i.scrollable?"":i.prefixCls+"-nav-scroll-disabled"],on:{click:i.scrollNext}},[s("Icon",{attrs:{type:"ios-arrow-forward"}})],1),s("div",{ref:"navScroll",class:[i.prefixCls+"-nav-scroll"],on:{DOMMouseScroll:i.handleScroll,mousewheel:i.handleScroll}},[s("div",{ref:"nav",class:[i.prefixCls+"-nav"],style:i.navStyle},[s("div",{class:i.barClasses,style:i.barStyle}),i._l(i.navList,function(e,t){return s("div",{class:i.tabCls(e),attrs:{draggable:i.draggable},on:{click:function(e){return i.handleChange(t)},dblclick:function(e){return i.handleDblclick(t)},contextmenu:function(e){return e.stopPropagation(),i.handleContextmenu(t,e)},selectstart:function(e){return e.stopPropagation(),i.handlePreventSelect(t,e)},dragstart:function(e){return i.handleDrag(t,e)},drop:function(e){return i.handleDrop(t,e)},dragover:function(e){e.preventDefault()}}},[""!==e.icon?s("Icon",{attrs:{type:e.icon}}):i._e(),"function"===e.labelType?s("Render",{attrs:{render:e.label}}):[i._v(i._s(e.label))],i.showClose(e)?s("Icon",{class:[i.prefixCls+"-close"],attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize},nativeOn:{click:function(e){return e.stopPropagation(),i.handleRemove(t)}}}):i._e()],2)})],2)])])])]),s("div",{ref:"panes",class:i.contentClasses,style:i.contentStyle},[i._t("default")],2),s("div",{staticClass:"ivu-tabs-context-menu",style:i.contextMenuStyles},[s("Dropdown",{attrs:{trigger:"custom",visible:i.contextMenuVisible,transfer:""},on:{"on-clickoutside":i.handleClickContextMenuOutside}},[s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i._t("contextMenu")],2)],1)],1)])},[],!1,null,null,null).exports;w={name:"TabPane",inject:["TabsInstance"],props:{name:{type:String},label:{type:[String,Function],default:""},icon:{type:String},disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:null},tab:{type:String},index:{type:Number},contextMenu:{type:Boolean,default:!1}},data(){return{prefixCls:"ivu-tabs-tabpane",show:!0,currentName:this.name}},computed:{contentStyle(){return{visibility:this.TabsInstance.activeKey!==this.currentName?"hidden":"visible"}}},methods:{updateNav(){this.TabsInstance.updateNav()}},watch:{name(e){this.currentName=e,this.updateNav()},label(){this.updateNav()},icon(){this.updateNav()},disabled(){this.updateNav()}},mounted(){this.updateNav()},destroyed(){this.updateNav()}},f=Object(s.a)(w,function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:this.prefixCls,style:this.contentStyle},[this._t("default")],2)},[],!1,null,null,null).exports,M.Pane=f,O=M;const un="ivu-tag",hn=["default","primary","success","warning","error","blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],dn=["pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"];w={name:"Tag",components:{Icon:a},props:{closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},color:{type:String,default:"default"},type:{validator(e){return Object(h.m)(e,["border","dot"])}},name:{type:[String,Number]},fade:{type:Boolean,default:!0},size:{validator(e){return Object(h.m)(e,["default","medium","large"])},default:"default"}},data(){return{isChecked:this.checked}},computed:{classes(){return[un,un+"-size-"+this.size,{[un+"-"+this.color]:!!this.color&&Object(h.m)(this.color,hn),[un+"-"+this.type]:!!this.type,"ivu-tag-closable":this.closable,"ivu-tag-checked":this.isChecked}]},wraperStyles(){return Object(h.m)(this.color,hn)?{}:{background:this.isChecked?this.defaultTypeColor:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"dot"!==this.type&&"border"!==this.type&&this.isChecked?this.borderColor:this.lineColor,color:this.lineColor}},textClasses(){return[un+"-text","border"===this.type&&Object(h.m)(this.color,hn)?un+"-color-"+this.color:"","dot"!==this.type&&"border"!==this.type&&"default"!==this.color&&this.isChecked&&dn.indexOf(this.color)<0?un+"-color-white":""]},dotClasses(){return un+"-dot-inner"},iconClass(){return"dot"===this.type?"":"border"===this.type?Object(h.m)(this.color,hn)?un+"-color-"+this.color:"":void 0===this.color||"default"===this.color?"":"rgb(255, 255, 255)"},showDot(){return!!this.type&&"dot"===this.type},lineColor(){return"dot"===this.type?"":"border"===this.type?void 0===this.color||Object(h.m)(this.color,hn)?"":this.color:void 0===this.color||"default"===this.color?"":"rgb(255, 255, 255)"},borderColor(){return void 0===this.color||"default"===this.color?"":this.color},dotColor(){return void 0===this.color||Object(h.m)(this.color,hn)?"":this.color},textColorStyle(){return!Object(h.m)(this.color,hn)&&("dot"===this.type||"border"===this.type||this.isChecked)?{color:this.lineColor}:{}},bgColorStyle(){return Object(h.m)(this.color,hn)?{}:{background:this.dotColor}},defaultTypeColor(){return"dot"===this.type||"border"===this.type||void 0===this.color||Object(h.m)(this.color,hn)?"":this.color}},methods:{close(e){void 0===this.name?this.$emit("on-close",e):this.$emit("on-close",e,this.name)},check(){var e;this.checkable&&(e=!this.isChecked,this.isChecked=e,void 0===this.name?this.$emit("on-change",e):this.$emit("on-change",e,this.name))}},watch:{checked(e){this.isChecked=e}}},f=Object(s.a)(w,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.fade?e("transition",{attrs:{name:"fade"}},[e("div",{class:t.classes,style:t.wraperStyles,on:{click:function(e){return e.stopPropagation(),t.check(e)}}},[t.showDot?e("span",{class:t.dotClasses,style:t.bgColorStyle}):t._e(),e("span",{class:t.textClasses,style:t.textColorStyle},[t._t("default")],2),t.closable?e("Icon",{class:t.iconClass,attrs:{color:t.lineColor,type:"ios-close"},nativeOn:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()],1)]):e("div",{class:t.classes,style:t.wraperStyles,on:{click:function(e){return e.stopPropagation(),t.check(e)}}},[t.showDot?e("span",{class:t.dotClasses,style:t.bgColorStyle}):t._e(),e("span",{class:t.textClasses,style:t.textColorStyle},[t._t("default")],2),t.closable?e("Icon",{class:t.iconClass,attrs:{color:t.lineColor,type:"ios-close"},nativeOn:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()],1)},[],!1,null,null,null).exports;const pn=(e,t)=>e<=t,mn=e=>e<10?"0"+e:e,fn=(e,t)=>{var e=new Date(e),i=e.getFullYear(),s=mn(e.getMonth()+1),n=mn(e.getDate()),r=mn(e.getHours()),a=mn(e.getMinutes()),e=mn(e.getSeconds());return"year"===t?i+"-"+s+"-"+n+" "+r+":"+a+":"+e:s+"-"+n+" "+r+":"+a};function gn(t,i){{var s=(new Date).getTime(),n=pn(t,s);let e=s-t;return n||(e=-e),s=n?i("i.time.before")||"前":i("i.time.after")||"后",e<1e3?i("i.time.just")||"刚刚":e<6e4?parseInt(e/1e3)+(i("i.time.seconds")||"秒")+s:6e4<=e&&e<36e5?Math.floor(e/6e4)+(i("i.time.minutes")||"分钟")+s:36e5<=e&&e<864e5?Math.floor(e/36e5)+(i("i.time.hours")||"小时")+s:864e5<=e&&e<262386e4?Math.floor(e/864e5)+(i("i.time.days")||"天")+s:262386e4<=e&&e<=3156786e4&&n?fn(t):fn(t,"year")}}const yn=r.default.prototype.$isServer;M={name:"Time",mixins:[d],props:{time:{type:[Number,Date,String],required:!0},type:{type:String,validator(e){return Object(h.m)(e,["relative","date","datetime"])},default:"relative"},hash:{type:String,default:""},interval:{type:Number,default:60}},data(){return{date:""}},computed:{classes(){return["ivu-time",{"ivu-time-with-hash":this.hash}]}},watch:{time(){yn||this.setTime()}},methods:{handleClick(){""!==this.hash&&(window.location.hash=this.hash)},setTime(){const e=typeof this.time;let t;if("number"===e){const e=10<this.time.toString().length?this.time:1e3*this.time;t=new Date(e).getTime()}else"object"===e?t=this.time.getTime():"string"===e&&(t=new Date(this.time).getTime());if("relative"===this.type)this.date=gn(t,this.t);else{const e=new Date(this.time),t=e.getFullYear(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0"+e.getDate():e.getDate(),n=e.getHours()<10?"0"+e.getHours():e.getHours(),r=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();"datetime"===this.type?this.date=t+`-${i}-${s} ${n}:${r}:`+a:"date"===this.type&&(this.date=t+`-${i}-`+s)}}},mounted(){this.setTime(),yn||(this.timer=setInterval(()=>{this.setTime()},1e3*this.interval))},beforeDestroy(){this.timer&&clearInterval(this.timer)}},w=Object(s.a)(M,function(){var e=this.$createElement;return(this._self._c||e)("span",{class:this.classes,on:{click:this.handleClick}},[this._v(this._s(this.date))])},[],!1,null,null,null).exports;const vn="ivu-timeline";M={name:"Timeline",props:{pending:{type:Boolean,default:!1}},computed:{classes(){return[vn,{"ivu-timeline-pending":this.pending}]}}},M=Object(s.a)(M,function(){var e=this.$createElement;return(this._self._c||e)("ul",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports;const bn="ivu-timeline";var wn={name:"TimelineItem",props:{color:{type:String,default:"blue"}},data(){return{dot:!1}},mounted(){this.dot=!!this.$refs.dot.innerHTML.length},computed:{itemClasses(){return bn+"-item"},tailClasses(){return bn+"-item-tail"},headClasses(){return[bn+"-item-head",{"ivu-timeline-item-head-custom":this.dot,[bn+"-item-head-"+this.color]:this.headColorShow}]},headColorShow(){return"blue"==this.color||"red"==this.color||"green"==this.color},customColor(){let e={};return e=!this.color||this.headColorShow?e:{color:this.color,"border-color":this.color}},contentClasses(){return bn+"-item-content"}}},wn=Object(s.a)(wn,function(){var e=this.$createElement,e=this._self._c||e;return e("li",{class:this.itemClasses},[e("div",{class:this.tailClasses}),e("div",{ref:"dot",class:this.headClasses,style:this.customColor},[this._t("dot")],2),e("div",{class:this.contentClasses},[this._t("default")],2)])},[],!1,null,null,null).exports,wn=(M.Item=wn,M),M={mixins:[gt,Rt],components:{TimePickerPanel:qt,RangeTimePickerPanel:I},props:{type:{validator(e){return Object(h.m)(e,["time","timerange"])},default:"time"}},computed:{panel(){return"timerange"===this.type?"RangeTimePickerPanel":"TimePickerPanel"},ownPickerProps(){return{disabledHours:this.disabledHours,disabledMinutes:this.disabledMinutes,disabledSeconds:this.disabledSeconds,hideDisabledOptions:this.hideDisabledOptions}}},watch:{visible(e){e&&this.$nextTick(()=>{Object(h.h)(this,"TimeSpinner").forEach(e=>e.updateScroll())})}}},gt=o,Rt={name:"Search",components:{iInput:Ae},props:{prefixCls:String,placeholder:String,query:String},data(){return{currentQuery:this.query}},watch:{query(e){this.currentQuery=e},currentQuery(e){this.$emit("on-query-change",e)}},computed:{icon(){return""===this.query?"ios-search":"ios-close-circle"}},methods:{handleClick(){""!==this.currentQuery&&(this.currentQuery="",this.$emit("on-query-clear"))}}},qt={name:"TransferList",components:{Search:Object(s.a)(Rt,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.prefixCls},[e("i-input",{attrs:{size:"small",icon:t.icon,placeholder:t.placeholder},on:{"on-click":t.handleClick},model:{value:t.currentQuery,callback:function(e){t.currentQuery=e},expression:"currentQuery"}})],1)},[],!1,null,null,null).exports,Checkbox:b},props:{prefixCls:String,data:Array,renderFormat:Function,checkedKeys:Array,listStyle:Object,title:[String,Number],filterable:Boolean,filterPlaceholder:String,filterMethod:Function,notFoundText:String,validKeysCount:Number},data(){return{showItems:[],query:"",showFooter:!0}},watch:{data(){this.updateFilteredData()}},computed:{classes(){return[""+this.prefixCls,{[this.prefixCls+"-with-footer"]:this.showFooter}]},bodyClasses(){return[this.prefixCls+"-body",{[this.prefixCls+"-body-with-search"]:this.filterable,[this.prefixCls+"-body-with-footer"]:this.showFooter}]},count(){var e=this.validKeysCount;return(0<e?e+"/":"")+this.data.length},checkedAll(){return this.filterData.filter(e=>!e.disabled).length===this.validKeysCount&&0!==this.validKeysCount},checkedAllDisabled(){return this.filterData.filter(e=>!e.disabled).length<=0},filterData(){return this.showItems.filter(e=>this.filterMethod(e,this.query))}},methods:{itemClasses(e){return[this.prefixCls+"-content-item",{[this.prefixCls+"-content-item-disabled"]:e.disabled}]},showLabel(e){return this.renderFormat(e)},isCheck(t){return this.checkedKeys.some(e=>e===t.key)},select(e){var t;e.disabled||(-1<(t=this.checkedKeys.indexOf(e.key))?this.checkedKeys.splice(t,1):this.checkedKeys.push(e.key),this.$parent.handleCheckedKeys())},updateFilteredData(){this.showItems=this.data},toggleSelectAll(e){e=e?this.filterData.filter(e=>!e.disabled||-1<this.checkedKeys.indexOf(e.key)).map(e=>e.key):this.filterData.filter(e=>e.disabled&&-1<this.checkedKeys.indexOf(e.key)).map(e=>e.key);this.$emit("on-checked-keys-change",e)},handleQueryClear(){this.query=""},handleQueryChange(e){this.query=e}},created(){this.updateFilteredData()},mounted(){this.showFooter=void 0!==this.$slots.default}},Sn=Object(s.a)(qt,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{class:i.classes,style:i.listStyle},[s("div",{class:i.prefixCls+"-header"},[s("Checkbox",{attrs:{value:i.checkedAll,disabled:i.checkedAllDisabled},on:{"on-change":i.toggleSelectAll}}),s("span",{class:i.prefixCls+"-header-title",on:{click:function(e){return i.toggleSelectAll(!i.checkedAll)}}},[i._v(i._s(i.title))]),s("span",{class:i.prefixCls+"-header-count"},[i._v(i._s(i.count))])],1),s("div",{class:i.bodyClasses},[i.filterable?s("div",{class:i.prefixCls+"-body-search-wrapper"},[s("Search",{attrs:{"prefix-cls":i.prefixCls+"-search",query:i.query,placeholder:i.filterPlaceholder},on:{"on-query-clear":i.handleQueryClear,"on-query-change":i.handleQueryChange}})],1):i._e(),s("ul",{class:i.prefixCls+"-content"},[i._l(i.filterData,function(t){return s("li",{class:i.itemClasses(t),on:{click:function(e){return e.preventDefault(),i.select(t)}}},[s("Checkbox",{attrs:{value:i.isCheck(t),disabled:t.disabled}}),s("span",{domProps:{innerHTML:i._s(i.showLabel(t))}})],1)}),s("li",{class:i.prefixCls+"-content-not-found"},[i._v(i._s(i.notFoundText))])],2)]),i.showFooter?s("div",{class:i.prefixCls+"-footer"},[i._t("default")],2):i._e()])},[],!1,null,null,null).exports,I={name:"Operation",components:{iButton:v,Icon:n},props:{prefixCls:String,operations:Array,leftActive:Boolean,rightActive:Boolean,reverseOperation:Boolean},methods:{moveToLeft(){this.$parent.moveTo("left")},moveToRight(){this.$parent.moveTo("right")}}},_n=Object(s.a)(I,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:t.prefixCls+"-operation"},[t.reverseOperation?[e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.leftActive},nativeOn:{click:function(e){return t.moveToRight(e)}}},[e("span",[t._v(t._s(t.operations[1]))]),t._v(" "),e("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.rightActive},nativeOn:{click:function(e){return t.moveToLeft(e)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}}),t._v(" "),e("span",[t._v(t._s(t.operations[0]))])],1)]:[e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.rightActive},nativeOn:{click:function(e){return t.moveToLeft(e)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}}),t._v(" "),e("span",[t._v(t._s(t.operations[0]))])],1),e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.leftActive},nativeOn:{click:function(e){return t.moveToRight(e)}}},[e("span",[t._v(t._s(t.operations[1]))]),t._v(" "),e("Icon",{attrs:{type:"ios-arrow-forward"}})],1)]],2)},[],!1,null,null,null).exports;const Cn="ivu-transfer";o={name:"Transfer",mixins:[c,d],render(s){var e=void 0===this.$slots.default?[]:this.$slots.default,t=void 0===this.$slots.default?[]:e.map(e=>function t(e){var i=e.children&&e.children.map(e=>t(e)),i=s(e.tag,e.data,i);return i.text=e.text,i.isComment=e.isComment,i.componentOptions=e.componentOptions,i.elm=e.elm,i.context=e.context,i.ns=e.ns,i.isStatic=e.isStatic,i.key=e.key,i}(e));return s("div",{class:this.classes},[s(Sn,{ref:"left",props:{prefixCls:this.prefixCls+"-list",data:this.leftData,renderFormat:this.renderFormat,checkedKeys:this.leftCheckedKeys,validKeysCount:this.leftValidKeysCount,listStyle:this.listStyle,title:this.localeTitles[0],filterable:this.filterable,filterPlaceholder:this.localeFilterPlaceholder,filterMethod:this.filterMethod,notFoundText:this.localeNotFoundText},on:{"on-checked-keys-change":this.handleLeftCheckedKeysChange}},e),s(_n,{props:{prefixCls:this.prefixCls,operations:this.operations,leftActive:0<this.leftValidKeysCount,rightActive:0<this.rightValidKeysCount,reverseOperation:this.reverseOperation}}),s(Sn,{ref:"right",props:{prefixCls:this.prefixCls+"-list",data:this.rightData,renderFormat:this.renderFormat,checkedKeys:this.rightCheckedKeys,validKeysCount:this.rightValidKeysCount,listStyle:this.listStyle,title:this.localeTitles[1],filterable:this.filterable,filterPlaceholder:this.localeFilterPlaceholder,filterMethod:this.filterMethod,notFoundText:this.localeNotFoundText},on:{"on-checked-keys-change":this.handleRightCheckedKeysChange}},t)])},props:{data:{type:Array,default(){return[]}},renderFormat:{type:Function,default(e){return e.label||e.key}},targetKeys:{type:Array,default(){return[]}},selectedKeys:{type:Array,default(){return[]}},listStyle:{type:Object,default(){return{}}},titles:{type:Array},operations:{type:Array,default(){return[]}},filterable:{type:Boolean,default:!1},filterPlaceholder:{type:String},filterMethod:{type:Function,default(e,t){return-1<e["label"in e?"label":"key"].indexOf(t)}},notFoundText:{type:String},reverseOperation:{type:Boolean,default:!1}},data(){return{prefixCls:Cn,leftData:[],rightData:[],leftCheckedKeys:[],rightCheckedKeys:[]}},computed:{classes(){return[Cn]},leftValidKeysCount(){return this.getValidKeys("left").length},rightValidKeysCount(){return this.getValidKeys("right").length},localeFilterPlaceholder(){return void 0===this.filterPlaceholder?this.t("i.transfer.filterPlaceholder"):this.filterPlaceholder},localeNotFoundText(){return void 0===this.notFoundText?this.t("i.transfer.notFoundText"):this.notFoundText},localeTitles(){return void 0===this.titles?[this.t("i.transfer.titles.source"),this.t("i.transfer.titles.target")]:this.titles}},methods:{getValidKeys(t){return this[t+"Data"].filter(e=>!e.disabled&&-1<this[t+"CheckedKeys"].indexOf(e.key)).map(e=>e.key)},splitData(e=!1){this.leftData=[...this.data],this.rightData=[],0<this.targetKeys.length&&this.targetKeys.forEach(i=>{var e=this.leftData.filter((e,t)=>e.key===i&&(this.leftData.splice(t,1),!0));e&&0<e.length&&this.rightData.push(e[0])}),e&&this.splitSelectedKey()},splitSelectedKey(){const t=this.selectedKeys;0<t.length&&(this.leftCheckedKeys=this.leftData.filter(e=>-1<t.indexOf(e.key)).map(e=>e.key),this.rightCheckedKeys=this.rightData.filter(e=>-1<t.indexOf(e.key)).map(e=>e.key))},moveTo(e){const t=this.targetKeys,i="left"===e?"right":"left",s=this.getValidKeys(i),n="right"===e?s.concat(t):t.filter(t=>!s.some(e=>t===e));this.$refs[i].toggleSelectAll(!1),this.$emit("on-change",n,e,s),this.dispatch("FormItem","on-form-change",{tarketKeys:n,direction:e,moveKeys:s})},handleLeftCheckedKeysChange(e){this.leftCheckedKeys=e},handleRightCheckedKeysChange(e){this.rightCheckedKeys=e},handleCheckedKeys(){var e=this.getValidKeys("left"),t=this.getValidKeys("right");this.$emit("on-selected-change",e,t)}},watch:{targetKeys(){this.splitData(!1)},data(){this.splitData(!1)}},mounted(){this.splitData(!0)}},Ae=Object(s.a)(o,void 0,void 0,!1,null,null,null).exports,Rt={name:"RenderCell",functional:!0,props:{render:Function,data:Object,node:Array},render:(e,t)=>{var i={root:t.props.node[0],node:t.props.node[1],data:t.props.data};return t.props.render(e,i)}};const kn="ivu-tree";qt={name:"TreeNode",mixins:[c],inject:["TreeInstance"],components:{Checkbox:b,Icon:n,CollapseTransition:at,Render:Rt},props:{data:{type:Object,default(){return{}}},multiple:{type:Boolean,default:!1},childrenKey:{type:String,default:"children"},showCheckbox:{type:Boolean,default:!1},appear:{type:Boolean,default:!1}},data(){return{prefixCls:kn,appearByClickArrow:!1}},computed:{classes(){return[kn+"-children"]},selectedCls(){return[{"ivu-tree-node-selected":this.data.selected}]},arrowClasses(){return[kn+"-arrow",{"ivu-tree-arrow-disabled":this.data.disabled,"ivu-tree-arrow-open":this.data.expand}]},titleClasses(){return[kn+"-title",{"ivu-tree-title-selected":this.data.selected}]},showArrow(){return this.data[this.childrenKey]&&this.data[this.childrenKey].length||"loading"in this.data&&!this.data.loading},showLoading(){return"loading"in this.data&&this.data.loading},isParentRender(){var e=Object(h.g)(this,"Tree");return e&&e.render},parentRender(){var e=Object(h.g)(this,"Tree");return e&&e.render?e.render:null},node(){var e=Object(h.g)(this,"Tree");return e?[e.flatState,e.flatState.find(e=>e.nodeKey===this.data.nodeKey)]:[]},children(){return this.data[this.childrenKey]},arrowType(){let e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.tree.customArrow?e="":this.$IVIEW.tree.arrow&&(e=this.$IVIEW.tree.arrow)),e},customArrowType(){let e="";return e=this.$IVIEW&&this.$IVIEW.tree.customArrow?this.$IVIEW.tree.customArrow:e},arrowSize(){let e="";return e=this.$IVIEW&&this.$IVIEW.tree.arrowSize?this.$IVIEW.tree.arrowSize:e}},methods:{handleExpand(){var e=this.data;if(this.appearByClickArrow=!0,0===e[this.childrenKey].length){var t=Object(h.g)(this,"Tree");if(t&&t.loadData)return this.$set(this.data,"loading",!0),void t.loadData(e,e=>{this.$set(this.data,"loading",!1),e.length&&(this.$set(this.data,this.childrenKey,e),this.$nextTick(()=>this.handleExpand()))})}e[this.childrenKey]&&e[this.childrenKey].length&&(this.$set(this.data,"expand",!this.data.expand),this.dispatch("Tree","toggle-expand",this.data))},handleClickNode(){this.TreeInstance.expandNode?this.showArrow&&this.handleExpand():this.TreeInstance.selectNode&&this.handleSelect()},handleSelect(){this.data.disabled||(this.TreeInstance.showCheckbox&&this.TreeInstance.checkDirectly?this.handleCheck():this.dispatch("Tree","on-selected",this.data.nodeKey))},handleCheck(){var e;this.data.disabled||(e={checked:!this.data.checked&&!this.data.indeterminate,nodeKey:this.data.nodeKey},this.dispatch("Tree","on-check",e))},handleContextmenu(e,t){e.contextmenu&&(t.preventDefault(),this.dispatch("Tree","contextmenu",{data:e,event:t}))},handlePreventSelect(e,t){e.contextmenu&&t.preventDefault()}}},I=Object(s.a)(qt,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("collapse-transition",{attrs:{appear:i.appear}},[s("ul",{class:i.classes},[s("li",{on:{contextmenu:function(e){return e.stopPropagation(),i.handleContextmenu(i.data,e)},selectstart:function(e){return e.stopPropagation(),i.handlePreventSelect(i.data,e)}}},[s("span",{class:i.arrowClasses,on:{click:i.handleExpand}},[i.showArrow?s("Icon",{attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize}}):i._e(),i.showLoading?s("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):i._e()],1),i.showCheckbox?s("Checkbox",{attrs:{value:i.data.checked,indeterminate:i.data.indeterminate,disabled:i.data.disabled||i.data.disableCheckbox},nativeOn:{click:function(e){return e.preventDefault(),i.handleCheck(e)}}}):i._e(),s("span",{class:i.titleClasses,on:{click:i.handleClickNode}},[i.data.render?s("Render",{attrs:{render:i.data.render,data:i.data,node:i.node}}):i.isParentRender?s("Render",{attrs:{render:i.parentRender,data:i.data,node:i.node}}):[i._v(i._s(i.data.title))]],2),i._l(i.children,function(e,t){return i.data.expand?s("Tree-node",{key:t,attrs:{appear:i.appearByClickArrow,data:e,multiple:i.multiple,"show-checkbox":i.showCheckbox,"children-key":i.childrenKey}}):i._e()})],2)])])},[],!1,null,null,null).exports;o={name:"Tree",mixins:[c,d],components:{TreeNode:I,Dropdown:E,DropdownMenu:_},provide(){return{TreeInstance:this}},props:{data:{type:Array,default(){return[]}},multiple:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},checkDirectly:{type:Boolean,default:!1},emptyText:{type:String},childrenKey:{type:String,default:"children"},loadData:{type:Function},render:{type:Function},selectNode:{type:Boolean,default:!0},expandNode:{type:Boolean,default:!1}},data(){return{prefixCls:"ivu-tree",stateTree:this.data,flatState:[],contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},watch:{data:{deep:!0,handler(){this.stateTree=this.data,this.flatState=this.compileFlatState(),this.rebuildTree()}}},computed:{localeEmptyText(){return void 0===this.emptyText?this.t("i.tree.emptyText"):this.emptyText}},methods:{compileFlatState(){let s=0,n=this.childrenKey;const r=[];return this.stateTree.forEach(e=>{!function t(i,e){i.nodeKey=s++,r[i.nodeKey]={node:i,nodeKey:i.nodeKey},void 0!==e&&(r[i.nodeKey].parent=e.nodeKey,r[e.nodeKey][n].push(i.nodeKey)),i[n]&&(r[i.nodeKey][n]=[],i[n].forEach(e=>t(e,i)))}(e)}),r},updateTreeUp(e){var t,i=this.flatState[e].parent;void 0===i||this.checkStrictly||(e=this.flatState[e].node,t=this.flatState[i].node,e.checked==t.checked&&e.indeterminate==t.indeterminate)||(1==e.checked?(this.$set(t,"checked",t[this.childrenKey].every(e=>e.checked)),this.$set(t,"indeterminate",!t.checked)):(this.$set(t,"checked",!1),this.$set(t,"indeterminate",t[this.childrenKey].some(e=>e.checked||e.indeterminate))),this.updateTreeUp(i))},rebuildTree(){this.getCheckedNodes().forEach(e=>{this.updateTreeDown(e,{checked:!0});var t=this.flatState[e.nodeKey].parent;(t||0===t)&&(t=this.flatState[t].node,void 0!==e.checked)&&e.checked&&t.checked!=e.checked&&this.updateTreeUp(e.nodeKey)})},getSelectedNodes(){return this.flatState.filter(e=>e.node.selected).map(e=>e.node)},getCheckedNodes(){return this.flatState.filter(e=>e.node.checked).map(e=>e.node)},getCheckedAndIndeterminateNodes(){return this.flatState.filter(e=>e.node.checked||e.node.indeterminate).map(e=>e.node)},updateTreeDown(e,t={}){if(!this.checkStrictly){for(var i in t)this.$set(e,i,t[i]);e[this.childrenKey]&&e[this.childrenKey].forEach(e=>{this.updateTreeDown(e,t)})}},handleSelect(e){if(this.flatState[e]){const t=this.flatState[e].node;if(!this.multiple){const t=this.flatState.findIndex(e=>e.node.selected);0<=t&&t!==e&&this.$set(this.flatState[t].node,"selected",!1)}this.$set(t,"selected",!t.selected),this.$emit("on-select-change",this.getSelectedNodes(),t)}},handleCheck({checked:e,nodeKey:t}){var i;this.flatState[t]&&(i=this.flatState[t].node,this.$set(i,"checked",e),this.$set(i,"indeterminate",!1),this.updateTreeUp(t),this.updateTreeDown(i,{checked:e,indeterminate:!1}),this.$emit("on-check-change",this.getCheckedNodes(),i))},handleContextmenu({data:t,event:i}){this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(()=>{var e=this.$refs.treeWrap.getBoundingClientRect(),e={left:i.clientX-e.left+"px",top:i.clientY-e.top+"px"};this.contextMenuStyles=e,this.contextMenuVisible=!0,this.$emit("on-contextmenu",t,i,e)})},handleClickContextMenuOutside(){this.contextMenuVisible=!1}},created(){this.flatState=this.compileFlatState(),this.rebuildTree()},mounted(){this.$on("on-check",this.handleCheck),this.$on("on-selected",this.handleSelect),this.$on("toggle-expand",e=>this.$emit("on-toggle-expand",e)),this.$on("contextmenu",this.handleContextmenu)}},b=Object(s.a)(o,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{ref:"treeWrap",class:i.prefixCls},[i._l(i.stateTree,function(e,t){return s("Tree-node",{key:t,attrs:{data:e,visible:"",multiple:i.multiple,"show-checkbox":i.showCheckbox,"children-key":i.childrenKey}})}),i.stateTree.length?i._e():s("div",{class:[i.prefixCls+"-empty"]},[i._v(i._s(i.localeEmptyText))]),s("div",{staticClass:"ivu-tree-context-menu",style:i.contextMenuStyles},[s("Dropdown",{attrs:{trigger:"custom",visible:i.contextMenuVisible,transfer:""},on:{"on-clickoutside":i.handleClickContextMenuOutside}},[s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i._t("contextMenu")],2)],1)],1)],2)},[],!1,null,null,null).exports;const xn="ivu-upload";at={name:"UploadList",components:{Icon:n,iProgress:P},props:{files:{type:Array,default(){return[]}}},data(){return{prefixCls:xn}},methods:{fileCls(e){return[xn+"-list-file",{"ivu-upload-list-file-finish":"finished"===e.status}]},handleClick(e){this.$emit("on-file-click",e)},handlePreview(e){this.$emit("on-file-preview",e)},handleRemove(e){this.$emit("on-file-remove",e)},format(e){e=e.name.split(".").pop().toLocaleLowerCase()||"";let t="ios-document-outline";return-1<["gif","jpg","jpeg","png","bmp","webp"].indexOf(e)&&(t="ios-image"),-1<["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(e)&&(t="ios-film"),-1<["mp3","wav","wma","ogg","aac","flac"].indexOf(e)&&(t="ios-musical-notes"),-1<["doc","txt","docx","pages","epub","pdf"].indexOf(e)&&(t="md-document"),-1<["numbers","csv","xls","xlsx"].indexOf(e)&&(t="ios-stats"),t=-1<["keynote","ppt","pptx"].indexOf(e)?"ios-videocam":t},parsePercentage(e){return parseInt(e,10)}}},Rt=Object(s.a)(at,function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("ul",{class:[i.prefixCls+"-list"]},i._l(i.files,function(t){return s("li",{class:i.fileCls(t),on:{click:function(e){return i.handleClick(t)}}},[s("span",{on:{click:function(e){return i.handlePreview(t)}}},[s("Icon",{attrs:{type:i.format(t)}}),i._v(" "+i._s(t.name)+" ")],1),s("Icon",{directives:[{name:"show",rawName:"v-show",value:"finished"===t.status,expression:"file.status === 'finished'"}],class:[i.prefixCls+"-list-remove"],attrs:{type:"ios-close"},nativeOn:{click:function(e){return i.handleRemove(t)}}}),s("transition",{attrs:{name:"fade"}},[t.showProgress?s("i-progress",{attrs:{"stroke-width":2,percent:i.parsePercentage(t.percentage),status:"finished"===t.status&&t.showProgress?"success":"normal"}}):i._e()],1)],1)}),0)},[],!1,null,null,null).exports;function Tn(t){t=t.responseText||t.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function In(s){if("undefined"!=typeof XMLHttpRequest){const n=new XMLHttpRequest,r=s.action,i=(n.upload&&(n.upload.onprogress=function(e){0<e.total&&(e.percent=e.loaded/e.total*100),s.onProgress(e)}),new FormData);s.data&&Object.keys(s.data).map(e=>{i.append(e,s.data[e])}),i.append(s.filename,s.file),n.onerror=function(e){s.onError(e)},n.onload=function(){if(n.status<200||300<=n.status)return s.onError((e=r,t=n,i=`fail to post ${e} ${t.status}'`,(i=new Error(i)).status=t.status,i.method="post",i.url=e,i),Tn(n));var e,t,i;s.onSuccess(Tn(n))},n.open("post",r,!0),s.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);var e,t=s.headers||{};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&n.setRequestHeader(e,t[e]);return n.send(i),n}}const Pn="ivu-upload";qt={name:"Upload",mixins:[c,u],components:{UploadList:Rt},props:{action:{type:String,required:!0},headers:{type:Object,default(){return{}}},multiple:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},withCredentials:{type:Boolean,default:!1},showUploadList:{type:Boolean,default:!0},type:{type:String,validator(e){return Object(h.m)(e,["select","drag"])},default:"select"},format:{type:Array,default(){return[]}},accept:{type:String},maxSize:{type:Number},beforeUpload:Function,onProgress:{type:Function,default(){return{}}},onSuccess:{type:Function,default(){return{}}},onError:{type:Function,default(){return{}}},onRemove:{type:Function,default(){return{}}},onPreview:{type:Function,default(){return{}}},onExceededSize:{type:Function,default(){return{}}},onFormatError:{type:Function,default(){return{}}},defaultFileList:{type:Array,default(){return[]}},paste:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},webkitdirectory:{type:Boolean,default:!0}},data(){return{dealOverCount:0,maxCountSameTime:3,waitList:[],prefixCls:Pn,dragOver:!1,fileList:[],tempIndex:1}},computed:{classes(){return[Pn,{"ivu-upload-select":"select"===this.type,"ivu-upload-drag":"drag"===this.type,"ivu-upload-dragOver":"drag"===this.type&&this.dragOver}]}},methods:{handleClick(){this.itemDisabled||this.$refs.input.click()},addUploadFile(e){this.uploadFiles([e])},handleChange(e){e=e.target.files;e&&(this.uploadFiles(e),this.$refs.input.value=null)},onDrop(e){"drag"==this.type&&(this.dragOver=!1,this.itemDisabled||this.uploadFiles(e.dataTransfer.files))},handlePaste(e){this.itemDisabled||this.paste&&this.uploadFiles(e.clipboardData.files)},uploadFiles(e){let t=!1,i=(this.waitList.length<1&&(t=!0),Array.prototype.slice.call(e));0!==(i=this.multiple?i:i.slice(0,1)).length&&(i.forEach(e=>{this.waitList.push(e)}),t)&&this.startUpload()},startUpload(){for(let e=this.dealOverCount=0;e<this.maxCountSameTime;e++){var t;0<this.waitList.length&&(t=this.waitList[0],this.waitList.splice(0,1),this.upload(t))}},upload(t){if(!this.beforeUpload)return this.post(t);var e=this.beforeUpload(t);e&&e.then?e.then(e=>{"[object File]"===Object.prototype.toString.call(e)?this.post(e):this.post(t)},()=>{this.dealOverCount+=1}):!1!==e&&this.post(t)},post(i){if(this.format.length){const t=i.name.split(".").pop().toLocaleLowerCase(),e=this.format.some(e=>e.toLocaleLowerCase()===t);if(!e)return this.onFormatError(i,this.fileList),!1}if(this.maxSize&&i.size>1024*this.maxSize)return this.onExceededSize(i,this.fileList),!1;this.handleStart(i);let t=new FormData,e=(t.append(this.name,i),In({headers:this.headers,withCredentials:this.withCredentials,file:i,data:this.data,filename:this.name,action:i.uploadUrl||this.action,onProgress:e=>{this.handleProgress(e,i)},onSuccess:e=>{this.handleSuccess(e,i),this.dealOverCount+=1,this.dealOverCount,(this.dealOverCount>=this.maxCountSameTime||this.waitList.length<1)&&this.startUpload()},onError:(e,t)=>{this.handleError(e,t,i),this.dealOverCount+=1,this.dealOverCount,(this.dealOverCount>=this.maxCountSameTime||this.waitList.length<1)&&this.startUpload()}})),s=this.getFileIndex(i);-1!=s&&(this.fileList[s].xhr=e)},handleStart(e){e.uid=Date.now()+this.tempIndex++;e={status:"uploading",name:e.name,size:e.size,percentage:0,uid:e.uid,showProgress:!0};this.fileList.push(e)},getFile(t){var e=this.fileList;let i;return e.every(e=>!(i=t.uid===e.uid?e:null)),i},getFileIndex(e){var t,i=this.fileList;for(t in i)if(i[t].uid==e.uid)return t;return-1},handleProgress(e,t){t=this.getFile(t);this.onProgress(e,t,this.fileList),t.percentage=e.percent||0},handleSuccess(e,t){const i=this.getFile(t);i&&(i.status="finished",i.response=e,this.onSuccess(e,i,this.fileList,t),this.dispatch("FormItem","on-form-change",i),setTimeout(()=>{i.showProgress=!1},1e3))},handleError(e,t,i){var s=this.getFile(i),n=this.fileList;s.status="fail",n.splice(n.indexOf(s),1),this.onError(e,t,i)},handleRemove(e){var t=this.fileList;t.splice(t.indexOf(e),1),this.onRemove(e,t)},handlePreview(e){"finished"===e.status&&this.onPreview(e)},clearFiles(){this.fileList=[]}},watch:{defaultFileList:{immediate:!0,handler(e){this.fileList=e.map(e=>(e.status="finished",e.percentage=100,e.uid=Date.now()+this.tempIndex++,e))}}}},I=Object(s.a)(qt,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{class:[t.prefixCls]},[e("div",{class:t.classes,on:{click:t.handleClick,drop:function(e){return e.preventDefault(),t.onDrop(e)},paste:t.handlePaste,dragover:function(e){e.preventDefault(),t.dragOver=!0},dragleave:function(e){e.preventDefault(),t.dragOver=!1}}},[e("input",{ref:"input",class:[t.prefixCls+"-input"],attrs:{type:"file",multiple:t.multiple,webkitdirectory:t.webkitdirectory,accept:t.accept},on:{change:t.handleChange}}),t._t("default")],2),t._t("tip"),t.showUploadList?e("upload-list",{attrs:{files:t.fileList},on:{"on-file-remove":t.handleRemove,"on-file-preview":t.handlePreview}}):t._e()],2)},[],!1,null,null,null).exports;const An="ivu-row";E={name:"Row",props:{type:{validator(e){return Object(h.m)(e,["flex"])}},align:{validator(e){return Object(h.m)(e,["top","middle","bottom"])}},justify:{validator(e){return Object(h.m)(e,["start","end","center","space-around","space-between"])}},gutter:{type:Number,default:0},className:String,wrap:{type:Boolean,default:!0}},computed:{classes(){return[An,{[An+"-"+this.type]:!!this.type,[An+`-${this.type}-`+this.align]:!!this.align&&this.type,[An+`-${this.type}-`+this.justify]:!!this.justify&&this.type,[An+"-"+this.align]:!!this.align,[An+"-"+this.justify]:!!this.justify,[""+this.className]:!!this.className,"ivu-row-no-wrap":!this.wrap}]},styles(){let e={};return e=0!==this.gutter?{marginLeft:this.gutter/-2+"px",marginRight:this.gutter/-2+"px"}:e}},methods:{updateGutter(t){var e=Object(h.f)(this,"iCol"),e=Object(h.e)(e,"iCol",!1);e.length&&e.forEach(e=>{0!==t&&(e.gutter=t)})}},watch:{gutter(e){this.updateGutter(e)}}},_=Object(s.a)(E,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports;const En="ivu-col";o={name:"iCol",props:{span:[Number,String],order:[Number,String],offset:[Number,String],push:[Number,String],pull:[Number,String],className:String,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object],xxl:[Number,Object],flex:{type:[Number,String],default:""}},data(){return{gutter:0}},computed:{classes(){let s=[En,{[En+"-span-"+this.span]:this.span,[En+"-order-"+this.order]:this.order,[En+"-offset-"+this.offset]:this.offset,[En+"-push-"+this.push]:this.push,[En+"-pull-"+this.pull]:this.pull,[""+this.className]:!!this.className}];return["xs","sm","md","lg","xl","xxl"].forEach(i=>{if("number"==typeof this[i])s.push(En+`-span-${i}-`+this[i]);else if("object"==typeof this[i]){let t=this[i];Object.keys(t).forEach(e=>{s.push("span"!==e?En+`-${i}-${e}-`+t[e]:En+`-span-${i}-`+t[e])})}}),s},styles(){let e={};return 0!==this.gutter&&(e={paddingLeft:this.gutter/2+"px",paddingRight:this.gutter/2+"px"}),this.flex&&(e.flex="number"==typeof(t=this.flex)?t+` ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 "+t:t),e;var t}},methods:{updateGutter(){var e=Object(h.g)(this,"Row");e&&e.updateGutter(e.gutter)}},mounted(){this.updateGutter()},beforeDestroy(){this.updateGutter()}},n=Object(s.a)(o,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports;P={name:"OptionGroup",props:{label:{type:String,default:""}},data(){return{prefixCls:"ivu-select-group",hidden:!1}},methods:{queryChange(){this.$nextTick(()=>{var t=this.$refs.options.querySelectorAll(".ivu-select-item");let i=!1;for(let e=0;e<t.length;e++)if("none"!==t[e].style.display){i=!0;break}this.hidden=!i})}},mounted(){this.$on("on-query-change",()=>(this.queryChange(),!0))},beforeDestroy(){this.$off("on-query-change")}},at=Object(s.a)(P,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("li",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],class:[e.prefixCls+"-wrap"]},[t("div",{class:[e.prefixCls+"-title"]},[e._v(e._s(e.label))]),t("ul",[t("li",{ref:"options",class:[e.prefixCls]},[e._t("default")],2)])])},[],!1,null,null,null).exports;function Dn(t,e={}){Dn.installed||(me.use(e.locale),me.i18n(e.i18n),Object.keys(Ln).forEach(e=>{t.component(e,Ln[e])}),t.prototype.$IVIEW={size:e.size||"",transfer:"transfer"in e?e.transfer:"",capture:!("capture"in e)||e.capture,select:{arrow:e.select&&e.select.arrow?e.select.arrow:"",customArrow:e.select&&e.select.customArrow?e.select.customArrow:"",arrowSize:e.select&&e.select.arrowSize?e.select.arrowSize:""},cell:{arrow:e.cell&&e.cell.arrow?e.cell.arrow:"",customArrow:e.cell&&e.cell.customArrow?e.cell.customArrow:"",arrowSize:e.cell&&e.cell.arrowSize?e.cell.arrowSize:""},menu:{arrow:e.menu&&e.menu.arrow?e.menu.arrow:"",customArrow:e.menu&&e.menu.customArrow?e.menu.customArrow:"",arrowSize:e.menu&&e.menu.arrowSize?e.menu.arrowSize:""},tree:{arrow:e.tree&&e.tree.arrow?e.tree.arrow:"",customArrow:e.tree&&e.tree.customArrow?e.tree.customArrow:"",arrowSize:e.tree&&e.tree.arrowSize?e.tree.arrowSize:""},cascader:{arrow:e.cascader&&e.cascader.arrow?e.cascader.arrow:"",customArrow:e.cascader&&e.cascader.customArrow?e.cascader.customArrow:"",arrowSize:e.cascader&&e.cascader.arrowSize?e.cascader.arrowSize:"",itemArrow:e.cascader&&e.cascader.itemArrow?e.cascader.itemArrow:"",customItemArrow:e.cascader&&e.cascader.customItemArrow?e.cascader.customItemArrow:"",itemArrowSize:e.cascader&&e.cascader.itemArrowSize?e.cascader.itemArrowSize:""},colorPicker:{arrow:e.colorPicker&&e.colorPicker.arrow?e.colorPicker.arrow:"",customArrow:e.colorPicker&&e.colorPicker.customArrow?e.colorPicker.customArrow:"",arrowSize:e.colorPicker&&e.colorPicker.arrowSize?e.colorPicker.arrowSize:""},datePicker:{icon:e.datePicker&&e.datePicker.icon?e.datePicker.icon:"",customIcon:e.datePicker&&e.datePicker.customIcon?e.datePicker.customIcon:"",iconSize:e.datePicker&&e.datePicker.iconSize?e.datePicker.iconSize:""},timePicker:{icon:e.timePicker&&e.timePicker.icon?e.timePicker.icon:"",customIcon:e.timePicker&&e.timePicker.customIcon?e.timePicker.customIcon:"",iconSize:e.timePicker&&e.timePicker.iconSize?e.timePicker.iconSize:""},tabs:{closeIcon:e.tabs&&e.tabs.closeIcon?e.tabs.closeIcon:"",customCloseIcon:e.tabs&&e.tabs.customCloseIcon?e.tabs.customCloseIcon:"",closeIconSize:e.tabs&&e.tabs.closeIconSize?e.tabs.closeIconSize:""},modal:{maskClosable:e.modal&&"maskClosable"in e.modal?e.modal.maskClosable:""}},t.prototype.$Loading=Vi,t.prototype.$Message=ss,t.prototype.$Modal=ds,t.prototype.$Notice=ws,t.prototype.$Spin=Ws)}const On={Affix:U,Alert:V,Anchor:z,AnchorLink:W,AutoComplete:Ee,Avatar:Le,BackTop:Me,Badge:Re,Breadcrumb:Ue,BreadcrumbItem:Ue.Item,Button:g,ButtonGroup:g.Group,Card:We,Carousel:Ge,CarouselItem:Ge.Item,Cascader:qe,Cell:Ze,CellGroup:Ze.Group,Checkbox:et,CheckboxGroup:et.Group,Col:n,Collapse:lt,ColorPicker:nt,Content:ut,DatePicker:Gt,Divider:Ft,Drawer:Vt,Dropdown:A,DropdownItem:A.Item,DropdownMenu:A.Menu,Footer:ni,Form:ui,FormItem:ui.Item,Header:hi,Icon:a,Input:di,InputNumber:fi,Scroll:gi,Sider:Ii,Split:ki,Submenu:C.Sub,Layout:ai,List:L,ListItem:L.Item,ListItemMeta:L.Item.Meta,LoadingBar:Vi,Menu:C,MenuGroup:C.Group,MenuItem:C.Item,Message:ss,Modal:ds,Notice:ws,Option:p,OptionGroup:at,Page:y,Panel:lt.Panel,Poptip:Qe,Progress:Is,Radio:Ls,RadioGroup:Ls.Group,Rate:As,Row:_,Select:ae,Slider:Bs,Spin:Ws,Step:e.Step,Steps:e,Table:T,Tabs:O,TabPane:O.Pane,Tag:f,Time:w,Timeline:wn,TimelineItem:wn.Item,TimePicker:M,Tooltip:gt,Transfer:Ae,Tree:b,Upload:I},Ln={...On,iButton:g,iCircle:it,iCol:n,iContent:ut,iForm:ui,iFooter:ni,iHeader:hi,iInput:di,iMenu:C,iOption:p,iProgress:Is,iSelect:ae,iSwitch:l,iTable:T,iTime:w};"undefined"!=typeof window&&window.Vue&&Dn(window.Vue);c={version:Object({NODE_ENV:"production",BASE_URL:""}).VERSION,locale:me.use,i18n:me.i18n,install:Dn,Circle:it,Switch:l,...On};c.lang=e=>{var t=window["iview/locale"].default;e===t.i.locale&&me.use(t)},F.a=c},de2d:function(e,t,i){"use strict";i("0b09")},dfda:function(e,t,i){"use strict";i("55f7")},e0f1:function(e,t,i){},e5b3:function(e,t,i){e.exports=i.p+"img/7.a04308ca.jpg"},e813:function(e,t,i){"use strict";i("8710")},e86f:function(e,t,i){"use strict";var s=i("1ee4"),s={name:"file-select-bar",props:{fileBrower:{default:null,type:Object}},components:{folderBrowerOperationBar:s.a},data(){return{disableBack:!1}},methods:{createNewFolder(e){this.$emit("create",e)},onChoose(){this.$emit("select")}}},i=(i("e813"),i("2877")),i=Object(i.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"select-root"},[e("div",{staticClass:"nas-mobile-none"},[e("div",{staticClass:"operation-bar"},[e("my-btn",{attrs:{type:"white",title:t.$t("file.returnLastPath")},on:{click:function(e){return t.$emit("back")}}}),e("my-btn",{attrs:{title:t.$t("file.newFolder")},on:{click:function(e){return t.$refs.newFolderDialog.setShow(!0)}}}),e("my-btn",{attrs:{type:"red",title:t.$t("common.select")},on:{click:function(e){return t.onChoose()}}})],1)]),e("div",{staticClass:"nas-mobile-show"},[e("div",{staticClass:"operation-bar"},[e("my-btn",{attrs:{type:"white",title:t.$t("file.returnLastPath")},on:{click:function(e){return t.$emit("back")}}}),e("my-btn",{attrs:{title:t.$t("file.newFolder")},on:{click:function(e){return t.$refs.newFolderDialog.setShow(!0)}}}),e("my-btn",{attrs:{type:"red",title:t.$t("common.select")},on:{click:function(e){return t.onChoose()}}})],1)]),e("my-dialog-input",{ref:"newFolderDialog",attrs:{showCloseBtn:!0,title:t.$t("file.newFolder"),content:t.$t("file.inputNewFolderName")},on:{onOkClick:t.createNewFolder}})],1)},[],!1,null,"501f87f8",null);t.a=i.exports},e95e:function(e,t,i){"use strict";i("dc02")},f265:function(e,t,i){"use strict";!function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,i=t%4;if(!i)return e;var s=t,n=4-i,r=a.alloc(t+n);for(r.write(e);n--;)r.write("=",s++);return r.toString()}}.call(this,i("b639").Buffer)},f686:function(e,t,i){"use strict";i("8051")},f6be:function(e,t,i){"use strict";i("3e25")},f6e1:function(e,t,i){},f6f7:function(e,t,i){},fa69:function(e,t,i){"use strict";i("bb8d")},fb68:function(e,t,i){e.exports=i.p+"img/icon-no-data.ffd09904.png"},ff73:function(e,t,i){"use strict";i("a4fd")}});