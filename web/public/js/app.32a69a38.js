(l=>{function e(e){for(var t,i,n=e[0],o=e[1],s=e[2],a=0,r=[];a<n.length;a++)i=n[a],Object.prototype.hasOwnProperty.call(h,i)&&h[i]&&r.push(h[i][0]),h[i]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(l[t]=o[t]);for(f&&f(e);r.length;)r.shift()();return u.push.apply(u,s||[]),c()}function c(){for(var e,t=0;t<u.length;t++){for(var i=u[t],n=!0,o=1;o<i.length;o++){var s=i[o];0!==h[s]&&(n=!1)}n&&(u.splice(t--,1),e=p(p.s=i[0]))}return e}var i={},d={app:0},h={app:0},u=[];function p(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},l[e].call(t.exports,t,t.exports,p),t.l=!0,t)).exports}p.e=function(u){var n,o,e,s,t,i=[],a=(d[u]?i.push(d[u]):0!==d[u]&&{"chunk-1fbedf24":1,"chunk-28da8e79":1,"chunk-44bdf4e4":1,"chunk-4d593b32":1,"chunk-3e7b85e8":1,"chunk-3ee47ac8":1,"chunk-4205e2a0":1,"chunk-58202272":1,"chunk-588b29b8":1,"chunk-77ac875a":1,"chunk-7dba48b6":1,"chunk-121a67f8":1,"chunk-0fb43524":1,"chunk-31ef417d":1,"chunk-58f359e0":1,"chunk-629054da":1,"chunk-0b652f88":1,"chunk-7e0d0e30":1,"chunk-7fcf4590":1,"chunk-896b3a34":1,"chunk-8a245596":1,"chunk-af491a4a":1,"chunk-26fddaf6":1,"chunk-c67940b2":1,"chunk-314f3d12":1,"chunk-38afc570":1,"chunk-596d6bfa":1}[u]&&i.push(d[u]=new Promise(function(e,i){for(var t="css/"+({}[u]||u)+"."+{"chunk-1fbedf24":"762b7d94","chunk-28da8e79":"35467031","chunk-44bdf4e4":"c5ef9b1a","chunk-4d593b32":"06cbcf65","chunk-3e7b85e8":"a8612ffb","chunk-3ee47ac8":"a841ee41","chunk-4205e2a0":"a9ff4f87","chunk-58202272":"e5bfde9c","chunk-588b29b8":"257c19aa","chunk-77ac875a":"c8044095","chunk-7dba48b6":"1792dba9","chunk-121a67f8":"434041a7","chunk-0fb43524":"959022df","chunk-31ef417d":"1d9411a1","chunk-58f359e0":"e09ee1bc","chunk-629054da":"7b822f23","chunk-0b652f88":"2982af24","chunk-7e0d0e30":"725f653f","chunk-7fcf4590":"46f8cf80","chunk-896b3a34":"97d5598f","chunk-8a245596":"7eba5b75","chunk-af491a4a":"37cd8ae1","chunk-26fddaf6":"fcbe56f2","chunk-c67940b2":"33b540d8","chunk-2d0e48df":"31d6cfe0","chunk-314f3d12":"ef536df4","chunk-38afc570":"fce25ec0","chunk-596d6bfa":"6c482a3d"}[u]+".css",n=p.p+t,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var a=o[s],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===t||r===n))return e()}for(var l=document.getElementsByTagName("style"),s=0;s<l.length;s++)if((r=(a=l[s]).getAttribute("data-href"))===t||r===n)return e();var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onload=e,c.onerror=function(e){var e=e&&e.target&&e.target.src||n,t=new Error("Loading CSS chunk "+u+" failed.\n("+e+")");t.code="CSS_CHUNK_LOAD_FAILED",t.request=e,delete d[u],c.parentNode.removeChild(c),i(t)},c.href=n,document.getElementsByTagName("head")[0].appendChild(c)}).then(function(){d[u]=0})),h[u]);return 0!==a&&(a?i.push(a[2]):(t=new Promise(function(e,t){a=h[u]=[e,t]}),i.push(a[2]=t),(n=document.createElement("script")).charset="utf-8",n.timeout=120,p.nc&&n.setAttribute("nonce",p.nc),n.src=p.p+"js/"+({}[t=u]||t)+"."+{"chunk-1fbedf24":"55ae6ba8","chunk-28da8e79":"186f5c91","chunk-44bdf4e4":"68a76ad0","chunk-4d593b32":"08abe312","chunk-3e7b85e8":"7e21e348","chunk-3ee47ac8":"2d799585","chunk-4205e2a0":"ff191ae5","chunk-58202272":"f861bc11","chunk-588b29b8":"03ec8c8b","chunk-77ac875a":"76f76409","chunk-7dba48b6":"23cba5f2","chunk-121a67f8":"eef01677","chunk-0fb43524":"76bbb03f","chunk-31ef417d":"46025675","chunk-58f359e0":"782c34a2","chunk-629054da":"b2c85869","chunk-0b652f88":"d871a0f8","chunk-7e0d0e30":"6f5681fb","chunk-7fcf4590":"a9705714","chunk-896b3a34":"3f9b4a0e","chunk-8a245596":"138c7652","chunk-af491a4a":"ba86b3aa","chunk-26fddaf6":"618ac78f","chunk-c67940b2":"2c3f23a1","chunk-2d0e48df":"ff4f2b05","chunk-314f3d12":"5c692799","chunk-38afc570":"38563ab9","chunk-596d6bfa":"32701cb5"}[t]+".js",o=new Error,e=function(e){n.onerror=n.onload=null,clearTimeout(s);var t,i=h[u];0!==i&&(i&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,o.message="Loading chunk "+u+" failed.\n("+t+": "+e+")",o.name="ChunkLoadError",o.type=t,o.request=e,i[1](o)),h[u]=void 0)},s=setTimeout(function(){e({type:"timeout",target:n})},12e4),n.onerror=n.onload=e,document.head.appendChild(n))),Promise.all(i)},p.m=l,p.c=i,p.d=function(e,t,i){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(t,e){if(1&e&&(t=p(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(p.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)p.d(i,n,function(e){return t[e]}.bind(null,n));return i},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="",p.oe=function(e){throw console.error(e),e};var t=(n=window.webpackJsonp=window.webpackJsonp||[]).push.bind(n);n.push=e;for(var n=n.slice(),o=0;o<n.length;o++)e(n[o]);var f=t;u.push([0,"chunk-vendors"]),c()})({0:function(e,t,i){e.exports=i("56d7")},"0335":function(e,t,i){},"044b":function(e,t,i){var n={props:{disabled:{default:!1,type:Boolean},title:{default:"",type:String},type:{default:"primary",type:String}},components:{},data:function(){return{}},created:function(){},methods:{}},i=(i("1e0b"),i("2877")),i=Object(i.a)(n,function(){var t=this;return(0,t._self._c)("Button",{staticClass:"my-bt",class:[{"my-bt-red":"red"==t.type},{"my-bt-white":"white"==t.type},{"my-bt-primary":"primary"==t.type}],attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._v(" "+t._s(t.title)+" ")])},[],!1,null,"070d3a5a",null);t.a=i.exports},"0714":function(e,t,s){var i=s("ade3"),a=(s("99af"),s("b0c0"),s("ac1f"),s("5319"),s("b85c")),r=s("5530"),n=(s("a15b"),s("baa5"),s("14d9"),s("4e82"),s("a434"),s("e9c4"),s("a9e3"),s("b64b"),s("e25e"),s("8a79"),s("466d"),s("1276"),s("1bb5")),l=s("be3b"),o=s("19cb"),c=s.n(o),o=s("5d55"),u=s("2cc5"),d=(s("d930"),s("7ce8")),h=s("c220"),p={data:function(){return{}},mounted:function(){},methods:{api:function(){var t=this;this.api.post("/api/photoApi/getTimeLineDateList",{type:parseInt(this.showFileType)}).then(function(e){e.code||(t.timeLine=e.data,t.$refs.timeline.initDate(e.data),t.loadFirstPage())}).catch(function(e){})}}},f=(s("4d16"),s("2877")),p=Object(f.a)(p,function(){return(0,this._self._c)("div",{staticClass:"root"},[this._v(" 压缩包预览 哈哈 ")])},[],!1,null,"1c185143",null).exports,m=s("d3ac"),p={name:"MyFolderBrower",components:{zipPreview:p,myScrollBar:h.a,videoDetail:o.default,photoDetail:m.default,filesQuickShareAdd:d.a},computed:{},props:{showInWindow:{default:!1,type:Boolean},initPath:{default:"",type:String},selectMode:{default:!1,type:Boolean},fileType:{default:0,type:Number}},data:function(){return{isSelectSourceFolder:!1,recentSelectFolderPathObj:"",zipPreviewFullPath:"",showZipPreview:!1,isInDragSelectMode:!1,dragStartIndex:0,dragEndIndex:0,dragSelectMode:!0,showAddLocalPath:!1,supportUnzipFormat:[".tar",".gzip",".tgz",".zip"],currentOperationType:"",showChooseTargetFolder:!1,showType:"grid",checkAll:!1,selectedFileList:[],doingSelect:!1,newWindowList:[],showPhotoDetail:!1,attrDialogIsShow:!1,rightMenuList:[],itemBaseWidth:100,itemWidth:100,itemMargin:6,showVideoDetail:!1,source:"list",visible:!1,scroll:null,clickTimeout:null,selectedIndex:null,selectedFile:null,hoveredFile:null,selectedFileAttr:null,isRoot:!0,parent:this.initPath,pathSep:"/",fileTree:[],platform:"",typeData:n.a,parentPathList:[],mouseX:0,mouseY:0,tipX:0,tipY:0,showTipTimer:null,enteredPathObj:null}},mounted:function(){var e=this;this.init(),this.showInWindow||this.$bus.$on("onUploadToCurrentPath",function(){e.switchUpload(!0,e.parent)}),this.$bus.$on("onDispatchPopstate",this.onDispatchPopstate),localStorage.folderBrowerShowType&&(this.showType=localStorage.folderBrowerShowType),this.$bus.$on("eventChangeFolderBrowerShowType",this.changeFolderBrowerShowType),window.addEventListener("mousemove",this.onMouseMove);try{localStorage.recentSelectFolderPath&&(this.recentSelectFolderPathObj=JSON.parse(localStorage.recentSelectFolderPath))}catch(e){}this.isSelectSourceFolder=this.isSelectSourceFolderFunc()},beforeDestroy:function(){this.showInWindow||this.$bus.$off("onUploadToCurrentPath"),this.$bus.$off("onDispatchPopstate",this.onDispatchPopstate),window.removeEventListener("mousemove",this.onMouseMove),this.$bus.$off("eventChangeFolderBrowerShowType",this.changeFolderBrowerShowType)},methods:{onMouseMove:function(e){this.mouseX=e.pageX,this.mouseY=e.pageY},changeFolderBrowerShowType:function(){this.showType="list"==this.showType?"grid":"list"},onMouseLeaveRoot:function(){this.isInDragSelectMode=!1},onMouseDown:function(e,t){this.isRoot||!e||1!=e.buttons||this.selectMode||(this.isInDragSelectMode=!0,this.dragSelectMode=!this.fileTree[t].selected,this.dragStartIndex=t)},onMouseUp:function(e){this.isInDragSelectMode=!1},setDragRange:function(){for(var e=this.dragStartIndex>this.dragEndIndex?this.dragEndIndex:this.dragStartIndex,t=this.dragStartIndex>this.dragEndIndex?this.dragStartIndex:this.dragEndIndex,i=e;i<=t;i++)this.dragSelectMode?this.fileTree[i].selected||this.selectFileItem(i):this.fileTree[i].selected&&this.selectFileItem(i)},mouseEnterImg:function(e){var t=this;this.isInDragSelectMode?(this.dragEndIndex=e,this.setDragRange(),this.hoveredFile=null):this.isMobile||this.isRoot||this.selectMode||(this.$set(this.fileTree[e],"hover",!0),this.showTipTimer&&clearTimeout(this.showTipTimer),this.$refs.folderBrowerEasyCm&&this.$refs.folderBrowerEasyCm.show)||(this.showTipTimer=setTimeout(function(){t.tipX=t.mouseX,t.tipY=t.mouseY,t.hoveredFile=t.fileTree[e]},500))},mouseLeaveImg:function(e){this.isMobile||this.isRoot||this.selectMode||(this.fileTree[e].hover=!1,this.showTipTimer&&clearTimeout(this.showTipTimer),this.hoveredFile=null)},operationLocalPath:function(i,e,t,n){var o=this;this.api.post("/api/file/operationPathMount",{url:e,type:"local",id:t,pathName:n,operationType:i}).then(function(e){if(!e.code)if("get"==i){if(e.data,e.data)for(var t in e.data)o.fileTree.push({parent:"",pathSep:o.pathSep,name:e.data[t].url,fileFullPath:e.data[t].url,type:2,isCustomPath:!0,customPathId:e.data[t].id,remark:e.data[t].remark})}else o.showVsAlertDialog(o.$t("common.alert"),o.$t("common.operationSuccess")),o.getFileTree(o.parent)})},onSelectTargetFolder:function(e){"ZIP"!=this.currentOperationType&&"UNZIP"!=this.currentOperationType||this.zipApi(e),this.showChooseTargetFolder=!1},onSelectAll:function(e){if(e)for(var t in this.fileTree)this.fileTree[t].selected=!0,this.selectedFileList.push(this.fileTree[t]);else this.cancelMultipleSelect()},cancelMultipleSelect:function(){for(var e in this.doingSelect=!1,this.checkAll=!1,this.selectedFileList)this.selectedFileList[e].selected=!1;this.selectedFileList=[]},setIsDoingSelect:function(){this.doingSelect=0<this.selectedFileList.length,this.doingSelect&&(this.selectedIndex=-1)},selectFileItem:function(e){var t=this.fileTree[e];if(this.fileTree[e].selected){for(var i in this.fileTree[e].selected=!1,this.selectedFileList)if(this.selectedFileList[i].fileFullPath==t.fileFullPath){this.selectedFileList.splice(i,1);break}}else this.fileTree[e].selected=!0,this.selectedFileList.push(this.fileTree[e]);this.$forceUpdate(),this.setIsDoingSelect()},clickTree:function(e,t,i){if(this.$refs.folderBrowerEasyCm&&this.$refs.folderBrowerEasyCm.show)return this.$refs.folderBrowerEasyCm.hide();this.doingSelect?this.selectFileItem(i):this.isMobile&&!this.selectMode?this.onDoubleClick(t,i):(this.selectedIndex==i&&this.onDoubleClick(t,i),this.selectedIndex=i,this.selectedFile=t)},onDispatchPopstate:function(){this.isRoot||this.goBack(),this.$forceUpdate()},onPageScroll:function(e){this.$refs.folderBrowerEasyCm&&this.$refs.folderBrowerEasyCm.show&&this.$refs.folderBrowerEasyCm.hide(),this.$refs.scrollBar&&this.$refs.scrollBar.onScroll(e)},onRenameInput:function(e){var t=this;this.api.post("/api/file/operationFolder",{sourcePath:this.getDealedPath(this.selectedFile.fileFullPath),targetPath:this.getDealedPath(this.selectedFile.parent),newName:e,type:"rename"}).then(function(e){e.code||(e.isOver&&1==e.isOver?t.showVsAlertDialog(t.$t("common.alert"),t.$t("common.operationSuccess")):t.showVsAlertDialog(t.$t("common.alert"),t.$t("common.checkAfter")),t.getFileTree(t.parent))})},refresh:function(){this.getFileTree(this.parent)},getDealedPath:function(e){e=encodeURIComponent(e);return c.a.encode(e)},zipApi:function(e){var t=this;this.api.post("/api/file/zipFile",{sourcePath:this.selectedFile.fileFullPath,targetPath:e,type:this.currentOperationType.toLowerCase()}).then(function(e){e.code||t.showVsAlertDialog(t.$t("common.alert"),t.$t("common.checkAfter"))})},copy:function(){var e,t,i,n=this;return localStorage.copyPath&&localStorage.operationType?(e=JSON.parse(localStorage.copyPath),t=localStorage.operationType,this.isRoot||!this.parent?this.showVsAlertDialog(this.$t("common.alert"),this.$t("file.canNotCopyToHere")):(i=e.length<10?e:this.$t("file.fileCount",{count:e.length}),i="cut"==t?this.$t("file.cutToHere",{path:i}):this.$t("file.copyToHere",{path:i}),void this.showVsConfirmDialog(this.$t("common.confirm"),i,function(){e.length<=1?n.api.post("/api/file/operationFolder",{sourcePath:n.getDealedPath(e),targetPath:n.getDealedPath(n.parent),type:t}).then(function(e){e.code||(localStorage.removeItem("copyPath"),n.showVsAlertDialog(n.$t("common.alert"),n.$t("common.checkAfter")),n.getFileTree(n.parent),n.$bus.$emit("onShowPaste",!1))}):n.api.post("/api/file/operationFileList",{sourcePathList:e,targetPath:n.parent,type:t}).then(function(e){e.code||(localStorage.removeItem("copyPath"),n.showVsAlertDialog(n.$t("common.alert"),n.$t("common.checkAfter")),n.getFileTree(n.parent),n.$bus.$emit("onShowPaste",!1))})}))):this.showVsAlertDialog(this.$t("common.alert"),this.$t("file.noSelectAnything"))},scrollToTop:function(){this.$refs.wrapper.scrollTo({top:0,behavior:"smooth"})},getFileStatApi:function(){var t=this;this.api.post("/api/file/getPathState",{fullPath:this.selectedFile.tipName}).then(function(e){e.code||(t.selectedFileAttr=e.data)})},deleteFileApi:function(e,t,i,n){this.api.post("/api/file/deleteByPath",{fullPath:e,putInSystemTrash:n?1:0}).then(function(e){e.code?i&&i():t&&t()}).catch(function(e){i&&i()})},showRightMenu:function(e,t,i,n){this.doingSelect?this.initRightMenuListOnMultiSelect():(this.selectedIndex=n,this.selectedFile=i,this.initRightMenuList(this.selectedFile)),this.$easycm(e,t,this.parent,"folderBrowerEasyCm")},showRightMenuBg:function(e,t){if(this.doingSelect)return e.preventDefault();this.initRightMenuListBg(),this.$easycm(e,t,this.parent,"folderBrowerEasyCm")},initRightMenuListBg:function(){this.rightMenuList=[{text:this.$t("file.newFolder"),type:"CREATE_NEW_FOLDER"},{text:this.$t("common.refresh"),type:"REFRESH"}],localStorage.copyPath&&this.rightMenuList.push({text:this.$t("file.paste"),type:"PASTE"}),this.rightMenuList.push({text:this.$t("file.showType"),type:"SHOW_TYPE",children:[{text:this.$t("movie.gridView"),type:"SHOW_TYPE_GRID"},{text:this.$t("movie.listView"),type:"SHOW_TYPE_LIST"}]})},initRightMenuListOnMultiSelect:function(){this.rightMenuList=[],this.rightMenuList.push({text:this.$t("file.cancelMutipleSelect"),type:"CANCEL_SELECT"}),this.rightMenuList.push({text:this.$t("file.cut"),type:"CUT"}),this.rightMenuList.push({text:this.$t("file.copy"),type:"COPY"});var e,t=!1;for(e in this.selectedFileList)1==this.selectedFileList[e].type&&(t=!0);t&&this.rightMenuList.push({text:this.$t("common.download"),type:"DOWNLOAD"}),this.rightMenuList.push({text:this.$t("common.delete"),type:"DELETE"})},initRightMenuList:function(e){if(this.rightMenuList=[],2!=e.type||this.selectMode||this.isMobile?this.rightMenuList.push({text:this.$t("file.check"),type:"CHECK"}):this.rightMenuList.push({text:this.$t("file.openInNewWindow"),type:"OPEN_NEW_WINDOW"}),"collect"==this.source&&this.isRoot||this.rightMenuList.push({text:this.$t("file.collect"),type:"COLLECT"}),"collect"==this.source&&this.isRoot&&this.rightMenuList.push({text:this.$t("file.cancelCollect"),type:"CANCEL_COLLECT"}),"recent"==this.source&&this.isRoot&&this.rightMenuList.push({text:this.$t("file.deleteFromRecent"),type:"DELETE_RECENT"}),this.parent&&"/"!=this.parent){this.rightMenuList.push({text:this.$t("common.multiSelect"),type:"MULTIPLE_SELECT"}),this.rightMenuList.push({text:this.$t("file.cut"),type:"CUT"}),this.rightMenuList.push({text:this.$t("file.copy"),type:"COPY"}),this.rightMenuList.push({text:this.$t("common.delete"),type:"DELETE"}),this.rightMenuList.push({text:this.$t("common.rename"),type:"RENAME"});var t,i=!1;for(t in this.supportUnzipFormat)if(this.selectedFile.name.endsWith(this.supportUnzipFormat[t])){i=!0;break}i?this.rightMenuList.push({text:this.$t("file.unzip"),type:"UNZIP"}):this.rightMenuList.push({text:this.$t("file.zip"),type:"ZIP"})}this.isRoot||(this.rightMenuList.push({text:this.$t("common.download"),type:"DOWNLOAD"}),this.rightMenuList.push({text:this.$t("file.attr"),type:"ATTR"})),this.rightMenuList.push({text:this.$t("home.shareTemp"),type:"QUICK_SHARE"}),this.isMobile?this.rightMenuList.push({text:this.$t("file.switchShowType"),type:"SHOW_TYPE"}):this.rightMenuList.push({text:this.$t("file.showType"),type:"SHOW_TYPE",children:[{text:this.$t("movie.gridView"),type:"SHOW_TYPE_GRID"},{text:this.$t("movie.listView"),type:"SHOW_TYPE_LIST"}]}),e.isCustomPath&&this.rightMenuList.push({text:this.$t("file.deletePath"),type:"DELETE_CUSTOM_PATH"}),this.showOpenInSystem&&(this.rightMenuList.push({text:this.$t("openInSystem"),type:"OPEN_IN_SYSTEM"}),this.isRoot||this.rightMenuList.push({text:this.$t("selectedInSystem"),type:"SELECT_IN_SYSTEM"}))},deleteBySelectedIndexOnByOne:function(e,t,i,n){var o=this;t+i>=this.selectedFileList.length?n?(this.showVsNotification(this.$t("backup.orderSent")),setTimeout(function(){o.getFileTree(o.parent)},1e3),this.cancelMultipleSelect()):(this.showVsNotification(this.$t("common.deleteSuccessWithCount",{sucCount:t,errCount:i})),this.getFileTree(this.parent)):this.deleteFileApi(this.selectedFileList[e].fileFullPath,function(){o.deleteBySelectedIndexOnByOne(e+1,t+1,i,n)},function(){o.deleteBySelectedIndexOnByOne(e+1,t,i+1,n)},n)},deleteSelectedList:function(){var t=this;this.selectedFileList.length<1||this.showVsConfirmDialog(this.$t("common.alert"),"[".concat(this.$t("file.fileCount",{count:this.selectedFileList.length}),"]")+this.$t("file.fileDeleteSure"),function(e){t.deleteBySelectedIndexOnByOne(0,0,0,e)},null,this.$t("common.delete"),this.$t("common.cancel"),300,!0,"linux"==this.platform?null:{checkBoxContent:this.$t("putInSystemTrash"),isCheck:!0})},copyCutSelectedList:function(e){if(!(this.selectedFileList.length<1)){var t,i=[];for(t in this.selectedFileList){var n=this.getFileFullPath(this.selectedFileList[t]);i.push(n)}localStorage.setItem("copyPath",JSON.stringify(i)),localStorage.setItem("operationType",e),this.showVsNotification("cut"==e?this.$t("file.cutted",{count:i.length}):this.$t("file.copied",{count:i.length})),this.$bus.$emit("onShowPaste",!0),this.cancelMultipleSelect()}},rightMenuClick:function(e,t){var i=this,n=t||this.rightMenuList[e[0]].type;e&&2==e.length&&(n=t||this.rightMenuList[e[0]].children[[e[1]]].type),"CREATE_NEW_FOLDER"==(this.currentOperationType=n)?this.$refs.newFolderDialog.setShow(!0):"PASTE"==n?this.copy():"REFRESH"==n?this.refresh():"OPEN_NEW_WINDOW"==n?this.newWindowList.push({show:!0,initPath:this.getFileFullPath(this.selectedFile)}):"CHECK"==n?this.onDoubleClick(this.selectedFile,this.selectedIndex):"COLLECT"==n?this.addFileRecord("collect",this.selectedFile):"CUT"==n?(this.doingSelect||this.selectedFileList.push(this.selectedFile),this.copyCutSelectedList("cut")):"COPY"==n?(this.doingSelect||this.selectedFileList.push(this.selectedFile),this.copyCutSelectedList("copy")):"RENAME"==n?(localStorage.setItem("operationType","rename"),this.$refs.renameDialog.setShow(!0)):"CANCEL_COLLECT"==n?this.deleteFileRecord("collect",this.selectedFile,!1):"DELETE_RECENT"==n?this.deleteFileRecord("recent",this.selectedFile,!1):"ATTR"==n?(this.attrDialogIsShow=!0,this.selectedFileAttr=null,this.getFileStatApi()):"DELETE"==n?this.doingSelect?this.deleteSelectedList():this.deleteOneFile(this.selectedFile.fileFullPath):"DOWNLOAD"==n?(this.doingSelect||this.selectedFileList.push(this.selectedFile),this.downloadSelectedList()):"CANCEL_SELECT"==n?this.cancelMultipleSelect():"MULTIPLE_SELECT"==n?this.selectFileItem(this.selectedIndex):"SHOW_TYPE_GRID"==n?this.showType="grid":"SHOW_TYPE_LIST"==n?this.showType="list":"SHOW_TYPE"==n?this.showType="list"==this.showType?"grid":"list":"ZIP"==n?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.zipAlert"),function(){i.showChooseTargetFolder=!0}):"UNZIP"==n?this.showChooseTargetFolder=!0:"DELETE_CUSTOM_PATH"==n?this.operationLocalPath("delete",null,this.selectedFile.customPathId):"QUICK_SHARE"==n?this.onClickQuickShare():"OPEN_IN_SYSTEM"==n?(this.selectedFile,this.openInSystem(null,null,this.selectedFile.fileFullPath)):"SELECT_IN_SYSTEM"==n&&this.openInSystem(null,null,this.selectedFile.fileFullPath,"showItemInFolder"),localStorage.setItem("folderBrowerShowType",this.showType)},downloadSelectedList:function(){if(!(this.selectedFileList.length<1)){var e,t=[];for(e in this.selectedFileList)1==this.selectedFileList[e].type?(this.selectedFileList[e],t.push(this.getRawUrl(this.selectedFileList[e]))):2==this.selectedFileList[e].type&&t.push(this.getZipRawUrl(this.selectedFileList[e]));var i=this;1<t.length?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.multiDownloadAlert"),function(){n()}):n()}function n(){i.downloadFile(t),i.cancelMultipleSelect()}},deleteOneFile:function(t){var i=this;t&&this.showVsConfirmDialog(this.$t("common.alert"),this.$t("file.fileDeleteSure"),function(e){i.deleteFileApi(t,function(){e?(i.showVsNotification(i.$t("backup.orderSent")),setTimeout(function(){i.getFileTree(i.parent)},1e3)):(i.showVsNotification(i.$t("common.deleteSuccess")),i.getFileTree(i.parent))},null,e)},null,this.$t("common.delete"),this.$t("common.cancel"),300,!0,"linux"==this.platform?null:{checkBoxContent:this.$t("putInSystemTrash"),isCheck:!0})},setItemBaseWidth:function(e){this.itemBaseWidth=e},calImageWidth:function(){var e=this.$refs.wrapper.getBoundingClientRect(),e=this.utils.calItemWidth(e,this.itemBaseWidth,this.itemMargin);e&&(this.itemWidth=e)},clearCollect:function(e){var t=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.sureClearCollect"),function(){t.deleteFileRecord("collect",e,!0)})},clearRecent:function(e){var t=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("file.sureClearRecents"),function(){t.deleteFileRecord("recent",e,!0)})},changeShowType:function(e){this.parentPathList=[],this.source=e,this.selectedIndex=null,this.selectedFile=null,this.init()},parentPathClick:function(e,t){for(var i="",n=0;n<=t;n++)i+=this.parentPathList[n];3<i.length&&i.endsWith(this.pathSep)&&(i=i.substring(0,i.lastIndexOf(this.pathSep))),this.getFileTree(i)},parseParentPath:function(){this.parentPathList=[];var e,t=this.parent.split(this.pathSep);for(e in t)if("win32"==this.platform){var i=t[e];if(!i)continue;e!=t.length-1&&(i+=this.pathSep),this.parentPathList.push(i)}else t[e]&&this.parentPathList.push(this.pathSep+t[e])},init:function(){var e;this.isRoot=!0,this.parent=this.initPath,this.fileTree=[],"list"==this.source?this.getFileTree(this.parent):(this.getFileRecord(this.source),e="","recent"==this.source?e=this.$t("file.recent"):"collect"==this.source&&(e=this.$t("file.collect")),this.$emit("onParentChange",e,!0))},onSearch:function(e){this.isRoot||this.getFileTree(this.parent,!1,e)},onDoubleClick:function(e,t){var i=this,n=this.fileTree[t];2==e.type?this.enterPath(e):1==e.type&&(this.selectMode?this.$emit("onSelect",this.getFileFullPath(e)):(this.addFileRecord("recent",e),"image"==e.fileType?this.goPreviewImage(t):"video"==e.fileType?this.goPreviewVideo(t):"pdf"==e.fileType?this.goPreviewPdf(this.getRawUrl(this.fileTree[t]),n):"word"==e.fileType&&".docx"==e.ext?this.goPreviewer("docx",this.getRawUrl(this.fileTree[t]),n):"excel"==e.fileType&&".xlsx"==e.ext?this.goPreviewer("excel",this.getRawUrl(this.fileTree[t]),n):"book"!=e.fileType||".cbz"!=e.ext&&".cbr"!=e.ext?"book"==e.fileType&&".cbz"!=e.ext&&".cbr"!=e.ext?this.goBookReader(this.getRawUrl(this.fileTree[t]),n):this.isMobile?this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("downloadFileConfirm"),function(){i.downloadFile([i.getRawUrl(i.fileTree[t])])}):this.downloadFile([this.getRawUrl(this.fileTree[t])]):this.goBookReaderComic(n)))},goUrl:function(e,t){this.isFromApp?window.android?window.android.onOpenNewWebViewByPath(e,t.name):window.webkit&&window.webkit.messageHandlers?(t=JSON.stringify({func:"onOpenNewWebViewByPath",path:e,title:t.name}),window.webkit.messageHandlers.bridge.postMessage(t)):window.open(e,"_blank"):window.open(e,"_blank")},goPreviewPdf:function(e,t){e=l.a.getPdfUrl(e);this.goUrl(e,t)},goBookReader:function(e,t){localStorage.currentReadBook=JSON.stringify({path:t.parent,filename:t.name});e=l.a.getBookReadUrl(e);this.goUrl(e,t)},goBookReaderComic:function(e){var t=this.getFileFullPath(e),t=(localStorage.currentReadBook=JSON.stringify({path:e.parent,filename:e.name}),l.a.getBookReadComicUrl(t));this.goUrl(t,e)},goPreviewer:function(e,t,i){e=l.a.getViewerUrl(e,t);this.goUrl(e,i)},getRawUrl:function(e){var t=e.parent+e.pathSep+e.name;return l.a.getRawFileUrl(t,e.name)},getZipRawUrl:function(e){var t=e.parent+e.pathSep+e.name;return l.a.getRawFileZipUrl(t,e.name)},onSelectedPath:function(e,t){e=this.getFileFullPath(e);this.$emit("onSelect",e)},getCurrentSelectedPath:function(){var e;return this.selectedFile?(e=this.getFileFullPath(this.selectedFile),localStorage.setItem("recentSelectFolderPath",JSON.stringify(this.selectedFile)),e):this.parent&&!this.isRoot?(e=this.parent,localStorage.setItem("recentSelectFolderPath",JSON.stringify(this.enteredPathObj)),e):(this.showVsNotification(this.$t("file.noFolderSelected")),!1)},onClickQuickShare:function(){this.$refs.quickShareAdd.showAdd(this.getCurrentSelectedPath())},isSelectSourceFolderFunc:function(){return"sourceFolderPhoto"==this.parent||"sourceFolderMovie"==this.parent||"sourceFolderMusic"==this.parent||"sourceFolderBook"==this.parent},getFileFullPath:function(e){var t,i;return this.isSelectSourceFolderFunc()?e.fileFullPath:(t=e.name,i=e.parent==e.pathSep?e.parent:e.parent+e.pathSep,"win32"==this.platform&&(e.parent?i=e.parent+e.pathSep:(i="",t.endsWith(e.pathSep)||(t+=e.pathSep))),i+t)},goBack:function(){if(this.isSelectSourceFolderFunc())return this.getFileTree(this.initPath,!0);var e=0<this.parent.lastIndexOf(this.pathSep)?this.parent.lastIndexOf(this.pathSep):1,e=this.parent.substring(0,e);3<e.length&&e[e.length-1]==this.pathSep&&(e=e.substring(0,e.length-1)),"win32"==this.platform&&2==e.length&&":"==e[1]&&(e+=this.pathSep),"win32"==this.platform&&this.parent.length<=4&&":"==this.parent[1]&&(e=""),this.getFileTree(e,!0)},enterPath:function(e){var t=this.getFileFullPath(e);this.getFileTree(t),this.enteredPathObj=e},goPreviewImage:function(e){for(var t,i,n=this,o=[],s=0,a=0;a<this.fileTree.length;a++)"image"!=this.fileTree[a].fileType&&"video"!=this.fileTree[a].fileType||(t=JSON.parse(JSON.stringify(this.fileTree[a])),i=this.getFileFullPath(this.fileTree[a]),i=this.getDealedPath(i),t.filePath=i,t.rawUrl=this.getRawUrl(this.fileTree[a]),t.id=a,t.title=this.fileTree[a].name,t.type="image"==this.fileTree[a].fileType?1:2,t.url=this.fileTree[a].url,o.push(t));for(var r=0;r<o.length;r++)if(this.fileTree[e].name==o[r].title){s=r;break}this.showPhotoDetail=!0,this.$nextTick(function(){n.$refs.photoDetail.showImg(o,s)})},goPreviewVideo:function(e){for(var t,i=this,n=[],o=0,s=0;s<this.fileTree.length;s++)"video"==this.fileTree[s].fileType&&(t=this.getFileFullPath(this.fileTree[s]),t=this.getDealedPath(t),this.fileTree[s].filePath=t,this.fileTree[s].rawUrl=this.getRawUrl(this.fileTree[s]),(this.fileTree[s].id=s)==e&&(o=n.length),n.push(Object(r.a)(Object(r.a)({},this.fileTree[s]),{},{type:2})));"1"==localStorage.getItem("rawPlayer")||this.isIosSupportRawPlayer()?u.a.playVideo({playIndex:o,playList:n,token:this.$store.state.token,fromFileBrower:!0}):(this.showVideoDetail=!0,this.addModalToList(this.$refs.refModalVideoDetail),this.$nextTick(function(){i.$refs.videoPlayer.playVideo(n,o)}))},addFileRecord:function(t,e){var i=this,e={parent:e.parent,path_sep:e.pathSep,name:e.name,ext:e.ext,record_type:t,is_file:1==e.type?1:0};"recent"==t&&(e.hideLoading=!0),this.api.post("/api/fileRecordApi/addFileRecord",e).then(function(e){e.code||"collect"==t&&i.showVsNotification(i.$t("file.collectSuccess"))})},sortFiles:function(e,o,s){return e.sort(function(e,t){var i,n;return"number"==o?(i=e.name.match(/\d+/g),n=t.name.match(/\d+/g),i=i&&0<i.length?i.join(""):0,n=n&&0<n.length?n.join(""):0,"asc"==s?parseInt(i)<parseInt(n)?-1:1:parseInt(i)<parseInt(n)?1:-1):"name"==o&&e.type!=t.type?e.type<t.type?1:-1:!e[o]||!t[o]||(i=e[o]instanceof String?e[o].toLowerCase():e[o],n=t[o]instanceof String?t[o].toLowerCase():t[o],e==t)?0:"asc"==s?i<n?-1:1:n<i?-1:1}),e},onClickOrder:function(e,t){localStorage.folderBroweerSortField=e,localStorage.folderBroweerSortType=t,this.sortFiles(this.fileTree,e,t)},deleteFileRecord:function(e,i,n){var o=this,e={id:i?i.id:"",type:e,deleteAll:n};this.api.post("/api/fileRecordApi/deleteFileRecord",e).then(function(e){if(!e.code)if(o.showVsNotification(o.$t("common.deleteSuccess")),n)o.init();else for(var t in o.fileTree)o.fileTree[t].id==i.id&&o.fileTree.splice(t,1)})},addPathTipName:function(e){this.parent?this.parent.endsWith(this.pathSep)?e.tipName=this.parent+e.name:e.tipName=this.parent+this.pathSep+e.name:e.tipName=e.name},getFileRecord:function(e){var o=this;this.api.post("/api/fileRecordApi/getFileRecord",{type:e,count:500}).then(function(e){if(!e.code){for(var t in e.data){1==e.data[t].is_file?e.data[t].type=1:e.data[t].type=2,e.data[t].pathSep=e.data[t].path_sep;var i=e.data[t].name.toLowerCase(),n=i.lastIndexOf(".");0<=n?(i=i.substring(n),e.data[t].ext=i,e.data[t].fileType=o.getFileType(i)):e.data[t].fileType="file",o.addPathTipName(e.data[t]),e.data[t].url=l.a.getTinyUrlByFilePath(e.data[t].parent+e.data[t].path_sep+e.data[t].name,!1,e.data[t].name)}o.fileTree=e.data}})},createNewFolder:function(n){var o=this;if(!this.parent)return this.showVsNotification(this.$t("file.cannotCreateHere"));if("sourceFolderPhoto"==this.parent||"sourceFolderMovie"==this.parent||"sourceFolderMusic"==this.parent||"sourceFolderBook"==this.parent)return this.showVsNotification(this.$t("file.cannotCreateHere"));this.parent;var e=this.getDealedPath(this.parent);this.api.post("/api/file/addNewFolder",{parentPath:e,folderName:n}).then(function(e){e.code||(o.getFileTree(o.parent,null,null,function(){o.selectMode&&o.showVsConfirmDialog(o.$t("common.alert"),o.$t("selectNewFolderNow")+"[".concat(n,"]"),function(){var e,t=Object(a.a)(o.fileTree);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(i.name==n){o.selectedFile=i,o.$emit("onSelect",o.getFileFullPath(i));break}}}catch(e){t.e(e)}finally{t.f()}},null)}),o.showVsNotification(o.$t("common.operationSuccess")))})},getFileType:function(e){switch(this.typeData[e]){case 1:return"image";case 2:return"video";case 3:return"text";case 4:return"pdf";case 5:return"music";case 6:return"word";case 7:return"ppt";case 8:return"excel";case 9:return"book";case 10:return"zip";default:return"file"}},getFileTree:function(e,s,t,a){var r=this,e={parent:e,type:this.fileType};t&&(e.searchStr=t),this.api.post("/api/file/getPathTree",e).then(function(e){if(r.selectedIndex=null,r.selectedFile=null,r.cancelMultipleSelect(),e.code)2==e.code&&r.showVsAlertDialog(r.$t("common.alert"),r.$t("common.noAccess"));else{""==e.data.parent||"/"==e.data.parent||e.data.parent==r.pathSep?r.isRoot=!0:(r.isRoot=!1,s||r.pushState()),r.parent=e.data.parent,r.pathSep=e.data.sep,r.platform=e.data.platform,r.parseParentPath();for(var t=e.data.children,i=0;i<t.length;i++){r.addPathTipName(t[i]),t[i].parent=e.data.parent,t[i].pathSep=e.data.sep;var n=t[i].name.toLowerCase(),o=n.lastIndexOf(".");0<=o?(n=(n=n.substring(o))&&n.toLowerCase(),t[i].ext=n||"",t[i].fileType=r.getFileType(n)):t[i].fileType="file",t[i].url=l.a.getTinyUrlByFilePath(t[i].fileFullPath,!1,t[i].name)}localStorage.folderBroweerSortField&&localStorage.folderBroweerSortType?r.fileTree=r.sortFiles(t,localStorage.folderBroweerSortField,localStorage.folderBroweerSortType):r.fileTree=t,r.$emit("onParentChange",r.parent,r.isRoot),r.isRoot&&r.operationLocalPath("get",null),r.$nextTick(function(){r.calImageWidth()}),a&&a()}})}}},h=(s("a070"),Object(f.a)(p,function(){var n=this,o=n._self._c;return o("div",{ref:"rootWrapper",staticClass:"browser-root",on:{contextmenu:function(e){return e.stopPropagation(),n.showRightMenuBg(e,n.$root)},mouseleave:n.onMouseLeaveRoot}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!n.doingSelect&&!n.isSelectSourceFolder,expression:"!doingSelect&&!isSelectSourceFolder"}],class:{"path-root":!n.selectMode,"recent-path-root":n.selectMode}},[o("div",{staticStyle:{display:"flex","align-items":"center"}},[n.isRoot?n._e():o("p",{staticClass:"max-line-one",staticStyle:{color:"#999999","margin-right":"10px","flex-shrink":"0"}},[n._v(n._s(n.fileTree.length)+" "+n._s(n.$t("itemsCount")))]),n._l(n.parentPathList,function(t,i){return o("a",{staticStyle:{"font-size":"14px","flex-shrink":"0","margin-left":"5px"},style:{color:i==n.parentPathList.length-1?"#386DF2":"#999999"},on:{click:function(e){return n.parentPathClick(t,i)}}},[n._v(" "+n._s(t))])}),n.parentPathList.length<1?o("a",[n._v(n._s(n.$t("file.rootPath")))]):n._e()],2),n.isMobile||n.selectMode?n._e():o("Icon",{staticStyle:{cursor:"pointer"},attrs:{type:"ios-help-circle-outline",size:20},on:{click:function(e){n.showVsAlertDialog(n.$t("quickKey"),n.$t("fileKeyAlert"))}}})],1),n.isRoot&&n.recentSelectFolderPathObj&&n.selectMode&&!n.doingSelect&&!n.isSelectSourceFolder?o("div",{class:{"path-root":!n.selectMode,"recent-path-root":n.selectMode}},[o("div",{staticStyle:{display:"flex","align-items":"center"}},[o("p",{staticClass:"max-line-one",staticStyle:{color:"#999999","margin-right":"10px","flex-shrink":"0"}},[n._v(" "+n._s(n.$t("upload.recentUseFolder")))]),o("Button",{attrs:{size:"small",type:"dashed"},on:{click:function(e){return n.enterPath(n.recentSelectFolderPathObj)}}},[n._v(n._s(n.recentSelectFolderPathObj.fileFullPath))])],1)]):n._e(),o("div",{staticStyle:{overflow:"hidden"},style:{height:n.showInWindow?"550px":"100%"}},[o("div",{ref:"wrapper",staticClass:"list-root",on:{scroll:n.onPageScroll}},[n.fileTree.length<1?o("div",{staticStyle:{"margin-top":"20px",width:"100%"}},[n._v(n._s(this.$t("common.noMore"))+" ")]):n._e(),n._l(n.fileTree,function(t,i){return o("div",{class:{"list-item-root-list":"list"==n.showType},style:{"background-color":n.selectedIndex==i?"rgba(0,0,0,0.1)":"transparent",padding:n.itemMargin/2+"px"},attrs:{id:"file_"+i},on:{contextmenu:function(e){return e.stopPropagation(),n.showRightMenu(e,n.$root,t,i)},mouseenter:function(e){return n.mouseEnterImg(i)},mouseleave:function(e){return n.mouseLeaveImg(i)},mousedown:function(e){return n.onMouseDown(e,i)},mouseup:function(e){return n.onMouseUp(i)}}},[o("div",{class:{"list-item-list":"list"==n.showType,"list-item-grid":"grid"==n.showType},on:{click:function(e){n.clickTree(e,t,i)}}},[o("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},style:{width:n.itemWidth+"px",height:n.itemWidth+"px",margin:n.itemMargin/2+"px"}},[2!=t.type||t.isCustomPath?2==t.type&&t.isCustomPath?o("img",{style:{width:n.itemWidth+"px"},attrs:{src:s("36e5")}}):1!=t.type||"image"!=t.fileType&&"video"!=t.fileType?1==t.type&&"text"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("a481")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"file"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("8b5e")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"pdf"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("218f")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"music"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("1e28")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"word"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("9b66")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"excel"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("c0ed")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"ppt"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("25d4")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"zip"==t.fileType?o("img",{staticClass:"item-img",attrs:{src:s("b856")},on:{dragstart:function(e){e.preventDefault()}}}):1==t.type&&"book"==t.fileType?o("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[o("img",{staticClass:"item-img",attrs:{src:s("d69a")},on:{dragstart:function(e){e.preventDefault()}}}),t.ext?o("div",{staticStyle:{position:"absolute",left:"0",top:"0",display:"flex","align-items":"center","justify-content":"center",width:"100%",height:"100%"}},[o("div",{staticStyle:{color:"white","font-weight":"bold"}},[n._v(n._s(t.ext.replace(".","").toUpperCase()))])]):n._e()]):n._e():o("div",{staticStyle:{cursor:"pointer",position:"relative",width:"100%",height:"100%"}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.url,expression:"file.url"}],staticClass:"item-img",staticStyle:{position:"absolute",left:"0",top:"0"},on:{dragstart:function(e){e.preventDefault()}}}),"video"==t.fileType?o("div",{staticStyle:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[o("span",{staticClass:"nasIcons icon-play",staticStyle:{"z-index":"1",color:"rgba(255,255,255,0.8)","font-size":"20px"}})]):n._e()]):o("img",{style:{width:n.itemWidth+"px"},attrs:{src:s("60b7")}})]),o("div",{style:{width:"list"==n.showType?"100%":n.itemWidth+"px","margin-left":"list"==n.showType?"3px":"0px"}},[o("p",{staticClass:"filename"},[n._v(n._s(t.isCustomPath&&t.remark?"[".concat(t.remark,"] ").concat(t.name):t.name))]),"list"==n.showType&&t.birthtimeMs?o("p",{staticClass:"size"},[n._v(n._s(n.$t("movie.createTime"))+":"+n._s(n.utils.formatTimeStamp(t.birthtimeMs))+" ")]):n._e(),"list"==n.showType&&t.size&&1==t.type?o("p",{staticClass:"size"},[n._v(n._s(n.$t("file.size"))+":"+n._s(n.utils.getSizeStr(t.size)))]):n._e()]),n.selectMode||n.selectedIndex==i?n._e():o("div",{staticClass:"mask-root"},[!n.selectMode&&t.hover?o("div",{staticClass:"hover-mask"},[o("span",{staticClass:"select-icon-hover nasIcons icon-radio-unchecked",style:{right:n.itemMargin+.02*n.itemWidth+"px",top:.05*n.itemWidth+"px"},on:{click:function(e){return e.stopPropagation(),n.selectFileItem(i)}}})]):n._e(),!n.selectMode&&t.selected?o("div",{staticClass:"select-mask"},[o("span",{staticClass:"select-icon-hover nasIcons icon-radio-checked",style:{right:n.itemMargin+.02*n.itemWidth+"px",top:.05*n.itemWidth+"px"},on:{click:function(e){return e.stopPropagation(),n.selectFileItem(i)}}})]):n._e()]),n.isMobile&&!t.selected?o("i",{staticClass:"nasIcons icon-shenglve more",style:{left:n.itemMargin+.02*n.itemWidth+"px",top:.05*n.itemWidth+"px"},on:{click:function(e){return e.stopPropagation(),n.showRightMenu(e,n.$root,t,i)}}}):n._e()])])}),n.isRoot&&1==n.$store.state.currentUser.is_admin&&"list"==n.source?o("div",{class:{"list-item-root-list":"list"==n.showType},style:{padding:n.itemMargin/2+"px"},on:{click:function(e){return n.$refs.addLocalPathDialog.setShow(!0)}}},[o("div",{class:{"list-item-list":"list"==n.showType,"list-item-grid":"grid"==n.showType}},[o("div",{staticStyle:{cursor:"pointer",display:"flex","justify-content":"center","align-items":"center"},style:{width:n.itemWidth+"px",height:n.itemWidth+"px",margin:n.itemMargin/2+"px"}},[o("img",{style:{width:n.itemWidth+"px"},attrs:{src:s("ab60")}})]),o("p",{staticClass:"filename",style:{width:n.itemWidth+"px"}},[n._v(n._s(n.$t("common.add")))])])]):n._e(),3e3<=n.fileTree.length?o("div",{staticClass:"max-count"},[n._v(n._s(n.$t("file.maxShowCountAlert")))]):n._e()],2)]),n.hoveredFile&&"grid"==n.showType?o("div",{staticClass:"file-tip",style:{top:n.tipY+"px",left:n.tipX+"px"}},[n.hoveredFile?o("p",{staticClass:"size"},[o("span",{staticStyle:{"font-weight":"bold"}},[n._v(n._s(n.$t("common.name")))]),n._v(":"+n._s(n.hoveredFile.name))]):n._e(),n.hoveredFile.birthtimeMs?o("p",{staticClass:"size"},[o("span",{staticStyle:{"font-weight":"bold"}},[n._v(n._s(n.$t("movie.createTime")))]),n._v(":"+n._s(n.utils.formatTimeStamp(n.hoveredFile.birthtimeMs))+" ")]):n._e(),n.hoveredFile.size&&1==n.hoveredFile.type?o("p",{staticClass:"size"},[o("span",{staticStyle:{"font-weight":"bold"}},[n._v(n._s(n.$t("file.size")))]),n._v(":"+n._s(n.utils.getSizeStr(n.hoveredFile.size)))]):n._e()]):n._e(),n.isRoot&&1==n.$store.state.currentUser.is_admin?o("my-dialog-input",{ref:"addLocalPathDialog",attrs:{showCloseBtn:!0,title:n.$t("file.addLocalPath"),content:n.$t("file.addLocalPathAlert"),placeholder:n.$t("file.inputPath"),contentB:n.$t("common.name")},on:{onOkClick:function(e,t){return n.operationLocalPath("add",e,null,t)}}}):n._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:n.doingSelect,expression:"doingSelect"}],staticClass:"bottom-select-root"},[o("div",{staticStyle:{display:"flex","align-items":"center"}},[o("Checkbox",{on:{"on-change":n.onSelectAll},model:{value:n.checkAll,callback:function(e){n.checkAll=e},expression:"checkAll"}}),o("div",{staticStyle:{color:"white",cursor:"pointer"}},[n._v(n._s(n.$t("common.selectAll")))]),o("div",{staticStyle:{color:"white","margin-left":"10px",cursor:"pointer"},on:{click:n.cancelMultipleSelect}},[n._v(n._s(n.$t("common.cancel")))])],1),o("div",{staticStyle:{display:"flex","align-items":"center"}},[o("Tooltip",{attrs:{disabled:n.isMobile,content:n.$t("common.delete")}},[o("my-btn-icon",{attrs:{type:"red",iIcon:"md-trash"},on:{click:function(e){return n.deleteSelectedList()}}})],1),o("Tooltip",{attrs:{disabled:n.isMobile,content:n.$t("file.copy")}},[o("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"whtie",iIcon:"md-copy"},on:{click:function(e){return n.copyCutSelectedList("copy")}}})],1),o("Tooltip",{attrs:{disabled:n.isMobile,content:n.$t("file.cut")}},[o("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"whtie",iIcon:"md-cut"},on:{click:function(e){return n.copyCutSelectedList("cut")}}})],1),o("Tooltip",{attrs:{disabled:n.isMobile,content:n.$t("common.download")}},[o("my-btn-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"whtie",iIcon:"md-download"},on:{click:function(e){return n.downloadSelectedList()}}})],1)],1)]),o("vs-dialog",{scopedSlots:n._u([{key:"header",fn:function(){return[o("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[o("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:s("135a")}}),o("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[n._v(" "+n._s(n.$t("file.attr"))+" ")])])]},proxy:!0}]),model:{value:n.attrDialogIsShow,callback:function(e){n.attrDialogIsShow=e},expression:"attrDialogIsShow"}},[n.selectedFileAttr?o("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start","max-width":"600px"}},[n.selectedFile?o("div",{staticClass:"item-attr"},[n._v(n._s(n.$t("file.location"))+":"),o("span",[n._v(n._s(n.selectedFile.tipName))])]):n._e(),o("div",{staticClass:"item-attr"},[n._v(n._s(n.$t("movie.createTime"))+":"),o("span",[n._v(n._s(n.utils.formatTimeStamp(n.selectedFileAttr.ctime)))])]),o("div",{staticClass:"item-attr"},[n._v(n._s(n.$t("file.modifyTime"))+":"),o("span",[n._v(n._s(n.utils.formatTimeStamp(n.selectedFileAttr.mtime)))])]),n.selectedFileAttr.sizeStr?o("div",{staticClass:"item-attr"},[n._v(" "+n._s(n.$t("file.size"))+":"),o("span",[n._v(n._s(n.selectedFileAttr.sizeStr))])]):n._e()]):n._e()]),o("my-dialog-input",{ref:"newFolderDialog",attrs:{showCloseBtn:!0,title:n.$t("file.newFolder"),content:n.$t("file.inputNewFolderName")},on:{onOkClick:n.createNewFolder}}),o("my-dialog-input",{ref:"renameDialog",attrs:{placeholder:n.$t("file.inputNewFileName"),showCloseBtn:!0,initValue:n.selectedFile?n.selectedFile.name:"",content:n.selectedFile?n.selectedFile.name:"",title:n.$t("common.rename")},on:{onOkClick:n.onRenameInput}}),n._l(n.newWindowList,function(t,e){return o("Modal",{attrs:{width:"80","mask-closable":!1,draggable:"",scrollable:"",mask:!1,title:n.$t("home.fileBrower"),"footer-hide":""},model:{value:t.show,callback:function(e){n.$set(t,"show",e)},expression:"window.show"}},[t.show?o("my-folder-brower",{attrs:{initPath:t.initPath,showInWindow:!0}}):n._e()],1)}),o("vs-dialog",{attrs:{scroll:"","prevent-close":"","full-screen":n.isMobile},scopedSlots:n._u([{key:"header",fn:function(){return["ZIP"==n.currentOperationType?o("h4",{staticStyle:{"font-size":"16px"}},[n._v(" "+n._s(n.$t("backup.chooseTargetPath")+" "+n.$t("file.zip")+":"+n.selectedFile.name)+" ")]):n._e(),"UNZIP"==n.currentOperationType?o("h4",{staticStyle:{"font-size":"16px"}},[n._v(" "+n._s(n.$t("backup.chooseTargetPath")+" "+n.$t("file.unzip")+":"+n.selectedFile.name)+" ")]):n._e()]},proxy:!0},{key:"footer",fn:function(){return[o("file-select-bar",{on:{back:function(e){return n.$refs.fileSelector.goBack()},select:function(e){return n.$refs.fileSelector.onSelect()},create:function(e){return n.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:n.showChooseTargetFolder,callback:function(e){n.showChooseTargetFolder=e},expression:"showChooseTargetFolder"}},[n.showChooseTargetFolder?o("file-select",{ref:"fileSelector",attrs:{parent:"root",type:2,initPath:n.parent||""},on:{onSelect:n.onSelectTargetFolder,onCancel:function(e){n.showChooseTargetFolder=!1}}}):n._e()],1),o("files-quick-share-add",{ref:"quickShareAdd"}),n.showChooseTargetFolder?n._e():o("my-scroll-bar",{ref:"scrollBar"}),n.showPhotoDetail?o("photo-detail",{ref:"photoDetail",attrs:{enableExif:!1,fromFolderBrower:!0,fromFileBrower:!0,enableRemove:!0},on:{onClickDelete:n.deleteOneFile,onClose:function(e){n.showPhotoDetail=!1}}}):n._e(),o("Modal",{ref:"refModalVideoDetail",attrs:{fullscreen:"","footer-hide":"",closable:!1},model:{value:n.showVideoDetail,callback:function(e){n.showVideoDetail=e},expression:"showVideoDetail"}},[n.showVideoDetail?o("video-detail",{ref:"videoPlayer",attrs:{propsServerType:"photo",fromFileBrower:!0},on:{onClose:function(e){return n.historyBack()}}}):n._e()],1),o("Modal",{attrs:{"footer-hide":""},model:{value:n.showZipPreview,callback:function(e){n.showZipPreview=e},expression:"showZipPreview"}},[n.showZipPreview?o("zipPreview",{attrs:{zipPreviewFullPath:n.zipPreviewFullPath}}):n._e()],1),o("easy-cm",{ref:"folderBrowerEasyCm",attrs:Object(i.a)(Object(i.a)({tag:"folderBrowerEasyCm",arrow:!0},"tag",n.parent),"list",n.rightMenuList),on:{ecmcb:n.rightMenuClick}})],2)},[],!1,null,"f5dfd400",null));t.a=h.exports},"0be9":function(e,t,i){i("99af");var n=i("aa62"),o=i.n(n),s=i("be3b"),n={props:{},mounted:function(){},components:{},data:function(){return{serverUrl:"",showUrlDialog:!1,showUrl:""}},computed:{},methods:{getShareConfig:function(n){var o=this;this.api.post("/api/commonApi/getAllConfig",{keys:["customShareUrl"]}).then(function(e){for(var t=0;t<e.data.allConfig.length;t++){var i=e.data.allConfig[t];"customShareUrl"==i.title&&(o.serverUrl=i.value)}n&&n()}).catch(function(e){n&&n()})},getShareLink:function(e){return this.serverUrl||(this.serverUrl=s.a.getBaseByLocation()),"".concat(this.serverUrl,"/#/shareTemp?st=").concat(e)},goOnShow:function(e){var t=this;this.showUrlDialog=!0,this.showUrl=e,this.$nextTick(function(){t.showQrCode(e,"lanQrcode")})},showQrCodeDialog:function(e){var t=this;this.serverUrl?this.goOnShow(this.getShareLink(e)):this.getShareConfig(function(){t.goOnShow(t.getShareLink(e))})},showQrCode:function(e,t){var i=o()(0,"L");i.addData(e),i.make(),document.getElementById(t).innerHTML=i.createImgTag(3)}}},i=i("2877"),i=Object(i.a)(n,function(){var t=this,e=t._self._c;return e("vs-dialog",{attrs:{"prevent-close":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",{staticClass:"not-margin"},[t._v(" "+t._s(t.$t("home.scanToAccess"))+" ")])]},proxy:!0}]),model:{value:t.showUrlDialog,callback:function(e){t.showUrlDialog=e},expression:"showUrlDialog"}},[e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("Input",{attrs:{placeholder:"",search:"","enter-button":t.$t("refreshQrcode")},on:{"on-search":function(e){return t.showQrCode(t.showUrl,"lanQrcode")}},model:{value:t.showUrl,callback:function(e){t.showUrl=e},expression:"showUrl"}})],1),e("p",{staticClass:"text-grey",staticStyle:{width:"100%","text-align":"left","margin-top":"10px"}},[t._v(" "+t._s(t.$t("file.changeToRealUrl",{url:t.serverUrl})))]),1==t.$store.state.currentUser.is_admin?e("p",{staticClass:"text-grey",staticStyle:{width:"100%","text-align":"left","margin-top":"10px"}},[t._v(" "+t._s(t.$t("customUrlAlertA"))),e("a",{on:{click:function(e){return t.goToSetting("custom")}}},[t._v(t._s(t.$t("home.settingCenter")))]),t._v(t._s(t.$t("customUrlAlertB")))]):t._e(),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("div",{attrs:{id:"lanQrcode"}})])])},[],!1,null,"99793d46",null);t.a=i.exports},1:function(e,t){},1122:function(e,t,i){i("797c")},1140:function(e,t,i){i("89f4")},"135a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAANlBMVEUAAAA5bfI4bfM4bfM4cfQ7bfY4bfM4bfI4bvM4bfM4bvM8cfg5bvM4bfL////t8v65zPpNffPhepfDAAAADXRSTlMA8cGpRDjn2ZmDbSKQFSIWhgAAAOpJREFUOMud1d2ygjAMBOBt0haqLoX3f9njqEe0VNjhu8508gMJWqm4DSEM5iVhVxwzP+Qx4pdk3LD+81dnl187GQT+EDa5XLjjgi837rpt3hXfjjwU330IPBT+e+IU+GsWlDynY2wsc63zwoZ1q1vqdFeXXo0jG/P0MLMxAshs1GdwZSP3ypteOiUWPbjA9WCH6cGGgWqBHBCoto4BgepQGNY0tuPepmGUGZwyR9HTKEh6gQnIausygPF4KOsnGtXgiDvT0rD1hz0uMOHBldb5iSWjry99Meor9/wyPz4T+gHST9v5o6mf4z9DDEylR42AGwAAAABJRU5ErkJggg=="},"155f":function(e,t,i){e.exports=i.p+"img/5.40c2f45b.jpg"},1675:function(e,a,r){!function(i){r("7a82"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),Object.defineProperty(a,"__esModule",{value:!0});var t=r("f265");function e(e,t){return void 0===t&&(t="utf8"),i.isBuffer(e)?o(e.toString("base64")):o(i.from(e,t).toString("base64"))}function n(e){return e=e.toString(),t.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function o(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var s=e;s.encode=e,s.decode=function(e,t){return void 0===t&&(t="utf8"),i.from(n(e),"base64").toString(t)},s.toBase64=n,s.fromBase64=o,s.toBuffer=function(e){return i.from(n(e),"base64")},a.default=s}.call(this,r("b639").Buffer)},1903:function(e,t,i){i("58bb")},"19c4":function(e,t,i){},"19cb":function(e,t,i){e.exports=i("1675").default},"1bb5":function(e,t,i){var n,i=i("ade3"),i=(n={".psd":1,".dng":1,".cr2":1,".nef":1,".orf":1,".raf":1,".raw":1,".arw":1,".x3f":1,".rw2":1,".nrw":1,".jpg":1,".jpeg":1,".heic":1,".hif":1,".heif":1,".gif":1,".webp":1,".bmp":1,".tiff":1,".svg":1,".png":1,".mp4":2,".mov":2,".avi":2,".rm":2,".mkv":2,".wmv":2,".m4v":2,".flv":2,".f4v":2,".vob":2,".mpg":2,".rmvb":2,".asf":2,".ts":2,".m2ts":2,".ogg":2,".3gp":2,".text":3,".json":3,".js":3,".html":3,".pdf":4,".docx":3,".doc":3,".dot":3,".xml":3,".xls":3,".xlsm":3,".csv":3,".mp3":5,".wav":5},Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(n,".ogg",5),".flac",5),".opus",5),".aac",5),".doc",6),".docx",6),".odt",6),".ppt",7),".pptx",7),".odp",7),Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(n,".xls",8),".xlsx",8),".xlsm",8),".ods",8),".csv",8),".mobi",9),".epub",9),".txt",9),".azw3",9),".fb2",9),Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(n,".cbz",9),".cbr",9),".fbz",9),".zip",10),".rar",10));t.a=i},"1bd4":function(e,t,i){i("2079")},"1e0b":function(e,t,i){i("1efd")},"1e28":function(e,t,i){e.exports=i.p+"img/icon-folder-music.34e1d4c2.png"},"1ee4":function(e,t,i){var n={props:{showClearBtn:{default:!0,type:Boolean},showCurrentPath:{default:!0,type:Boolean},showSearch:{default:!1,type:Boolean},showCreateNew:{default:!0,type:Boolean},showSlider:{default:!1,type:Boolean}},computed:{},data:function(){return{sortField:"name",sortType:"asc",sliderMin:80,sliderMax:200,sliderValue:80,newFolderName:"",showPath:"",isRoot:!1,showPaste:""}},mounted:function(){var t=this;this.$bus.$on("onShowPaste",function(e){t.showPaste=e}),localStorage.folderBroweerSortField&&localStorage.folderBroweerSortType&&(this.sortField=localStorage.folderBroweerSortField,this.sortType=localStorage.folderBroweerSortType),window.addEventListener("keydown",this.onKeyDown)},beforeDestroy:function(){this.$bus.$off("onShowPaste"),window.removeEventListener("keydown",this.onKeyDown)},methods:{onKeyDown:function(e){var t;this.isShowingDialog()||("="==(e=e.key)?this.sliderValue<this.sliderMax&&(t=this.sliderValue+20):"-"==e?this.sliderValue>this.sliderMin&&(t=this.sliderValue-20):e&&"c"==e.toLowerCase()?this.$bus.$emit("eventChangeFolderBrowerShowType"):e&&"r"==e.toLowerCase()&&this.$emit("onRefresh"),t&&(this.sliderValue=t,this.onSizeChange()))},onClickOrder:function(){this.$emit("onClickOrder",this.sortField,this.sortType)},onSearch:function(e){this.$emit("onSearch",e)},onCreateNewFolder:function(e){this.$emit("createNewFolder",e)},onSizeChange:function(){this.$emit("onSliderChange",this.sliderValue)},onCutCopy:function(e){this.showPaste=e},setShowPath:function(e,t){this.showPath=e,this.isRoot=t}}},i=(i("7f4d"),i("2877")),i=Object(i.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"bar-root"},[e("div",[e("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{disabled:t.isRoot,iIcon:"md-arrow-round-back"},on:{click:function(e){return t.$emit("onBack")}}})],1),e("my-btn-icon",{staticStyle:{"margin-right":"10px"},attrs:{iIcon:"md-add"},on:{click:function(e){return t.$refs.newFolderDialog.setShow(!0)}}}),e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("Poptip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticClass:"sort-root"},[e("div",[t._v(t._s(t.$t("common.sortField")))]),e("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":t.onClickOrder},model:{value:t.sortField,callback:function(e){t.sortField=e},expression:"sortField"}},[e("Radio",{attrs:{label:"name"}},[e("span",[t._v(t._s(t.$t("movie.filename")))])]),e("Radio",{attrs:{label:"number"}},[e("span",[t._v(t._s(t.$t("number")))])]),e("Radio",{attrs:{label:"type"}},[e("span",[t._v(t._s(t.$t("type")))])]),e("Radio",{attrs:{label:"size"}},[e("span",[t._v(t._s(t.$t("file.size")))])]),e("Radio",{attrs:{label:"atimeMs"}},[e("span",[t._v(t._s(t.$t("file.accessTime")))])]),e("Radio",{attrs:{label:"mtimeMs"}},[e("span",[t._v(t._s(t.$t("file.modifyTime")))])]),e("Radio",{attrs:{label:"birthtimeMs"}},[e("span",[t._v(t._s(t.$t("movie.createTime")))])])],1),e("div",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.$t("common.sortType")))]),e("RadioGroup",{staticStyle:{"margin-top":"5px"},attrs:{vertical:""},on:{"on-change":t.onClickOrder},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},[e("Radio",{attrs:{label:"asc"}},[e("span",[t._v(t._s(t.$t("common.asc")))])]),e("Radio",{attrs:{label:"desc"}},[e("span",[t._v(t._s(t.$t("common.desc")))])])],1)],1)]},proxy:!0}])},["asc"==t.sortType?e("span",{staticClass:"nasIcons icon-sort-alpha-up operation-icon"}):t._e(),"desc"==t.sortType?e("span",{staticClass:"nasIcons icon-sort-alpha-down-alt operation-icon"}):t._e()])],1),e("Slider",{staticClass:"zoom-slider",attrs:{"show-tip":"never",min:t.sliderMin,max:t.sliderMax,step:10},on:{"on-input":t.onSizeChange},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}}),e("my-dialog-input",{ref:"newFolderDialog",attrs:{showCloseBtn:!0,title:t.$t("file.newFolder"),content:t.$t("file.inputNewFolderName")},on:{onOkClick:t.onCreateNewFolder}}),e("div",{staticStyle:{display:"flex","align-items":"center",position:"absolute",right:"10px"}},[t.showSearch?e("my-search",{staticStyle:{"max-width":"220px"},attrs:{placeholder:t.$t("movie.searchPlaceHolder")},on:{onSearch:t.onSearch}}):t._e(),t.showClearBtn?e("div",{staticStyle:{"margin-left":"6px"},on:{click:function(e){return t.$emit("onClear")}}},[e("my-btn",{attrs:{type:"red",title:t.$t("common.clear")}})],1):t._e(),t.showSearch?e("my-btn-icon",{staticStyle:{"margin-left":"6px"},attrs:{iIcon:"md-cloud-upload"},on:{click:function(e){return t.$bus.$emit("onUploadToCurrentPath")}}}):t._e(),!t.isRoot&&t.showPaste?e("my-btn-icon",{staticStyle:{"margin-left":"6px"},attrs:{iIcon:"md-copy"},on:{click:function(e){return t.$emit("onCopy")}}}):t._e(),t.showSearch?e("my-btn-icon",{staticStyle:{"margin-left":"6px"},attrs:{iIcon:"md-sync"},on:{click:function(e){return t.$emit("onRefresh")}}}):t._e()],1)],1)},[],!1,null,"319e7f4a",null);t.a=i.exports},"1efd":function(e,t,i){},"1fe8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAM1BMVEUAAAA4bfI4bPE4cO84bfI4bPM4bfI4bfI4bfL///9qkvVRf/SDpPfN2vzm7f20yPqbtvjFr//+AAAACHRSTlMA338gv0CfYF85lZwAAAOvSURBVHja7dyLcuMgDAVQi5dvAD/+/2u3u+uWmbbJBFu2wKPzBzdCGHDwoJRSSimllFJKKaWUUkoppZRSSqnmWGuHrlljnCP8Q+RCGIf+WGPwC+orjDV4jsgMfSgxnukiig14A5nG+986bPquisGH/qNYhzqNJjGoRn5oz1aO7ovigDsksQ64QxLrsF8YmmFxiBta4fDhBjX5ytF5nxh80+nzxIMBya8hLTa9N/zWIN23iceHOwwuhy9dz8EjNr3PXATcoiQGnARLgk3vU/AI3KMkAZvenyXAPcbWCNxjbDngBmPLegt2NFzHGxMc4STGD1ewJuBsFMaTw1jjUCnFmNecY0QdCudl8YRKeZ0fn+ZpqQzDEIXn3Gp9fDdVRqGRP0ZApfz4zYo6ZJh7A7WWx+/mhDpGdi87PZ6Zq9veC+44So55Wte8LNOBmsCIrULWn92d1pIEtcjKHLLHxyYCRVpKx9ciL3LUMz3phmX34AJ5gRz5Rz02aa4oCWsSi2qlIAt+SJ+tg3rkL99tPP5LLwYddiB/cY5cCvJ0OovYgeyF5wqlpTN+EY8EAV27HZ9LkKdNkrGL4Z6w9rYI4rEg5C9rkPKjv5yZE/ahC8950quJaTkYBOG6M/b4Kshjg938ZWfs8Y3ZN2M3d81JaFmHrK8WkzjAX3Y0nZ+OrKlmqcVSEosjUl7XVzlmHEG+riD8prJLOSRIvBbkz1FXErBLXzkmHGVEXnrw54CTG1klx4LjSGBkceYovNDIKjkyWBih12ncOUAyIyuXeZeLlQiSmHO83yQWrHKZd9mMEr2+lAUWGyMRZGZt9JogBnxKiyQwCgJL37JhZOTkgqzgRALPw8zaIvJBIlgJDK1TgjiBWSueMGkhiE2/E1gFiQdinMvbRC6m4hieT4oRzMY3F43N83cJ8u5+pHkyW90UcwKrMAwC3R7/bkZWMCm9fnWTpBPWWlbiX8mZf6MLgSPTU3a64erreCXIB/CxAv94PyWIzB0E/iChIoglcOEPYmWuhazcs1ao/Scjk8S9QxS7qRNn1kOUUe6qTooZbGio5dEk38LtKQZuqGcJ7flekF53ir6VO4YHmTYuRl/eIIVtquG/cnTe8DQMt0hCfjjENtInf+txhySuvY867GKa+qLOfl7qNmVbbd7I7EWG+970O1Gaj1ExfbXY5JW32XuoxvVZyPjhZHY8OcuVXwK2fhyD4w1EIBeMGX0LH9VTSimllFJKKaWUUkoppZRSSimlVBf+AK47yDXzBIQfAAAAAElFTkSuQmCC"},2:function(e,t){},2079:function(e,t,i){},2188:function(e,t,i){},"218f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAABFFBMVEVHcEyaxeRRnNBSm9BRnM9Rm9CSv+BQm89Qm89Rm8+Yw+OWw+N3rNBRm9CeyOWVwOOly+ecxuOfyeVRm8+SweFRm8+jyeeOv+GUweIyYIGky+eRv+CozeehyeWbx+VSnNBSm8+RweOdx+VSm8+VwuKTweFSm9BTl8ebxuNSm9CPvuGZw+RSm81Rm9BLnMyYw+NRnNCIv+NRnc6RwOGhyOWly+dSm89RndGMweNSnNFSndBSnM9QnNBSm8+ny+dSnNGXw+NSm8+pzef///8iPlJ8tdvV5/M6bJGdx+VScotGhbEuVHKOvuCaxeNRf587YHpbh6V3pcZjjakzWXWYw+NGaYN8rc9glryhyeUqRFh2m7ORt9F5Fq9uAAAAQXRSTlMArXnIJD8hXjCQmo0FttFn8cPY6V1O5y97ZOtB++K7aNBSyfGFcoZxtdw3oByuCqamDhNJ3fW+RBUrnThX+Pfjk4R3pw0AAA4RSURBVHgB7NXrTltHFMXxmjpOudmYELDMRYXg1DVNHWTTkIpSuqRKKOrHvv+z9EIvScD2OTN7zzpbWv9H2OunmS/y++r56zdf/vyLemhscNKgvV/b/ol9/oZ1P2WPwum7ta/Zp29g99hgD0Po2Vv23ZvZPbDJ3qa4hW321ZvanxowYM9TtLbehYX9pQE99kIFW2NfvMn9rQF77I1K1dYnsawHDbcz9kxlunnFvneze9CA4YQ9VIn0S6zoHw3Y77Cn8m+dfezG968GzC/ZY3n3I/vWze8/Deiy1xIGev9rQJ+9l2v6Jir0kQacsBdzbI196BB9rAEt9mZuvWTfOUafaMAFezWn2q/Yd47Rpxpwx97Np232mYP0mQacs4fz6Bv2laP0uQaM2NPZ12YfOUyPNKDHHs+8t+wjh+mxhqNT9nrGvWPfOE6PNeDqkL2fbdvsG8fpCQ0YHrAHtExPQ/We0oDjDntCw96wTxyoJzVgd4u9oVnv2ReO1NMa0GWPaNZr9oUjtUAD+uwVrXrBvnCkFmnAmD2jTe/YBw7VQg2Ysoc0aZ194FAt1oAN9pIWfcs+cKiWaMAme8r82uz7xmqZBgzYY2Z3w75vrJZqwIi9Zm7r7PvGarkG7LHnzOwH9n1jtULD7Yy9Z14v2PeN1QoN2JmwB83pe/Z5g7VKA/Y77EkzarPPG6yVGjC/Zm+a3jP2eYO1WgO67E3Te8k+b7AqaMAZe9TkbtjnDVYVDThhr5rac/Z5g1VJA1rsWaWhSNU0YMreVRpKVFED7tjDSkOBqmrAOXtZafCvsgYM2NNKg3vVNaDH3lYavKuh4eiUPa40OFdDA65m7HWlwbc6GjCcsOeVBtdqacBxh72vNHhWTwN2L9kDS4NjNTWgyx5YGhyrqwF99sLS4FdtDRizJ5YGt+prQIu9sTR4laABF+yRpcGpFA3YZK8sDT4lacA5e2ZpcClNA0bsnaXBo0QN2GMPLQ0OpWo4OmUvLQ32pWrAziF7amkwL1kD9g/YW0uDdekaML9mjy0NxmVowO4We21psC1HA87Ya0uDbVka0GfPLQ2m5WnAmL23NFiWqQFT9uDSYFiuBmywF5cGu7I1YJM9uTSYla8BA/bm0mCVgQb02KNLg1EWGrDHXl0abDLRcDtjzy4NJplowHDC3l0aLLLRgP0Oe3hpMMhIA+aX7OWlIT8rDeiyl5eG/Mw0oM+eXhqys9OAE/b20pCboQa02ONLQ2aWGnDBXl8a8jLVgDv2/NKQla0GnLP3l4acjDVgxAYgDRlZa0CPLUAa0jPXcHTKJiANyZlrwNUh24A0pGavAcMDNgJpSMxBA447bAXSkJaHBuxusRlIQ1IuGtBlM5CGpHw0oM92IA0pOWnAmA1BGhLy0oApW4I01M9NAzbYFKShdn4asMm2IA11c9SAARuDNNTMUwNG0hArVw3Yk4ZQ+Wq4nUlDpHw1YGciDYFy1oD9jjTEyVsD5tfSECZ3DehKQ5j8NeBMGqJUQANOpCFIJTSgJQ0xKqIBU2kIURkNuJOGCBXSgHNpCFApDRhIQ/MrpgE9aWh85TQcnUpD0yunAVczaWh4BTVgOJGGZldSA4470tDoimrA7qU0NLnfi2pAVxqaXGEN6EtDc/vwW2ENGEtDY/vwa2kNaEkDuT/Yq7+fJpYogOO5L+QGCFwIgSugCQYikQdixMQnI9PZXZwplJaf6v//f7jIhmOhu53aZs8JfL/xze2WzPn0TO2/4rp1De4ADUYLN+1rcAtosFkIChrcLhpMFgoNDW4PDSaLXRUOa2iwWMxUNGzvoMFg8UZFg/tvCw32Kno6Gtz6BhrMFeKpEoejz2gwl+8raXCri2iwVrzS0uDeosFaMd6qcVhBg7GC3lXh3D4ajBV7ehrcIRpsFXxXkcM8GkwV/LmiBreABlNFf6rJ4X80WEp5ObhlNFhKeTm4NTQYSns5fPmIBkNF/1OVw+Z7NNgp+J6qBrc+hwY7Rd/X5XD0AQ1mCt5f6nJYQoOdgj/T1eBW0GCnwg+UObxBg52i7ytz+AcNZgred5U5HKDBTIWPJ8ocvqLBTIW/0OawiwYzFb53qcxhDw1mMsBhGQ1mKi+Lrq6G7R00mKnwfqDL4dMWGsxUcjjT5bC5gQYzlRxipsrh9RwazBR8uR4uNTmsLqLBTuV68INbRQ5LaDDUHQc/ONHjsIIGQ93dFuV9ca3GYR8Nlvq9HvzFeVeJwyEaLFXceyhB/FC5MubRYKqKQ9n3s0G/9VtjAQ22Eg+Vit7V1bfWeocGYz320Gav0GAuPQ9osJiWBzTYrIhoICkoLAg0GK5oGwQabNcuCDTYr2itf9FAD6GBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIOk5acjqmvodM/1rZvYNs+8Zacg6TeW5Sznzhs/n+UQzyzuTpH14970YDdVMx4kY9/l0EWhQLUs79+Z5Tv2Ch9CgWpZ89A3jnAGoKjSolq6hYZxTv+AhNKg2gYZOx9W8ZAagqtCg2kQa6jjMAFQVGlSbTEMnH/mSGYCqQoNqWf2gs8zledIwR84nK3N5Kqgqed5l49M+vPtehobqgXw8h6Zf6wgRDVPMUx4y1kvSUObGrecxu/sxqIYNjwbVUjQMX+cjlsPYOT/ykCd8ERoUStMwtB6e/m/Cr37Yg6t7DA2qJWr4k8PTUabcAcdJHNCgWqqG46k1DO2XugfRoFqyBtcwyTQNQxxqlgMa/qpf7NVNjqswEEXhtaUivP8lvdm70Bj/EFI3CeeoZ1i2lPravupvWEPrchjUMMABDdbGNcTrGh5oQENtj4OlaLA2rqGxcljDmkP1ckCDtXENjys0PDqXAxqsndHwHP+yq3M5oMFatobO5YAGa+kaAg1o+F/7qUCDtTMayuGXAQ0PNPyChuUiDdE6EQ3WnBoqq9FgbVxDOb7hpzToxMrE0WDtjIbdoKY0rFbHzCEf2x01LI2Rz2kojSPRYG1YQ2uGcxoCDd+uofnao+FmGso7NDwbx6DB0KCGFYbKOjTcSsMKQ23gcxqWIQ3twv27rbqZhujNAQ230bCxUF91WsPuOUCDtbaGJf6Op/qcz2l4oOHzNTxjUym1yVQxoOEHNQxUx8BLcUsNBxjQcEMNxxM4rWH3DQ3WhjXEcrzJOzREs8X9u626n4Zo/jPOaYghDZ8073Z309C7l89qKLtvaLDW01BGbuU5DQUNn6+h7B/n0Ymg4fc0nN9kTsMTDWjYn1iZOBqsoeHl0LBtSkNpnYgGa2h4OTRsm9HQfCjQ4C1dQ0EDGipra4vRYC1bw+qhqB2IBmvZGtoPBRq8JWvoXA1o8Jas4dm+GtDgLVdD6VwNaPCWqmHpXQ1o8JapYY3hYCUarCVq2GCI+ho0WMvTEAMY0OAtTcMGw+FZaLCWpWGD4XjUaLCWo2Fr4fCdQIO5DA1/LDQwoMHbuzVElD8WWhjQ4O1iDYuKqEjoYECDt4s19GtiQIO3bA2dIaPBWq6G6O2EBmuZGroW0GAuT8OABTSYS9JQhiygwVyGhojhndBg7Y0aSikRMTdVNNB3hwZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghQZSaCCFBlJoIIUGUmgghYav7R97dY8SWQCEUfQxPzDBGHbeIDQ0qEFnovtfl+FdwCspg3OoDXxwob7h1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRABmr43N7AlPfzNVy2NzDl5XwNH9sbmPJ2voY/2xsY8nw+huP/9giGXAdqOO7bK5jxOlHD0/YKZtwmarhtr2DGZaKGy/YKZjwmanhsr2DEdSKG4/i9vYMJt5kafm3vYMLfmRr+be9gwH0mhh//Kr7aq5sVV4EwCMNFjHiEk5Vk3YKgBFSCi4RRQu7/rsaQ3TA/xv66a2TqwRso+6Vb3xJGDwXQsJeIv71VDf2NPUV8dVYxADl7i/i62tXQsreIp4NdDLocNi+1rGGo2HPEx2gZA9Cw94iHqrWtARf2IlnPGceAib1IVjtbx6C3YrtOg30NGNmrZJ00QAxAwp4la2RBYkBbsIfJ63ZhYgD+KYfNCRaDctiegDEAbyV7nrzChYwBGA7sgbJYdQwbwyxnb5SFLvvgMQBZxZ4pS9QRWpi1Z/ZQ+VGSxolhdizZY+VbhYvWwoM7sQfLl267PmoMsyxhj5ZPlc3/2C08THnBXi4fFOOVkcJTWuuG+D2SmpjCUz+5vCvv7D/xp93LLndp732W77cNMtZf1rNQAAAAAElFTkSuQmCC"},2252:function(e){e.exports=JSON.parse('{"downloadFileConfirm":"是否確認下載文件?","mvTvDif":"電影類型以文件為單位展示，電視劇類型以文件夾為單位展示","folderName":"資料夾名","zipImgAlert":"將圖片上傳到您的服務端主機,對圖片進行壓縮後下載,用於減小圖片体积","addMediaArrangeTask":"建立媒體整理任務","selectMRsourcePath":"選擇要整理的媒體資料夾","selectMRtargetPath":"選擇要儲存的目標資料夾","sourceTargetPathCannotSame":"媒體資料夾和目標資料夾不能相同","mediaSourcePath":"媒體資料夾","mediaArrangeAlert":"自動讀取來源資料夾中所有媒體檔案的拍攝日期，並按照[年/月/日]的層級結構在目標資料夾中建立對應的三級資料夾，並準確將檔案複製到日期相符的資料夾中，實現媒體檔案的有序分類整理，任務執行期間如果退出服務端將導致任務中斷。","selectTransFolder":"新增要轉換的檔案或資料夾","selectTransTarget":"選擇輸出目錄","selectTransFormat":"選擇輸出格式","selectTransQuality":"選擇輸出碼率","selectTransSize":"選擇輸出尺寸","onlySupport":"僅支援","outFormat":"輸出格式","outQuality":"輸出品質","mediaTools":"媒體工具","outputSize":"輸出尺寸","rawSize":"原尺寸","withMetaTitle":"是否保留Exif元数据","withMeta":"保留Exif","withoutMeta":"不保留Exif","optimized":"已最佳化","downloadAll":"下載全部","tools.defaultFormat":"自動格式","tools.defaultQulity":"自動品質","tools.arrange":"媒體整理","tools.imgZip":"圖片壓縮","tools.imgTrans":"圖片轉換","tools.vidTrans":"影片轉換","tools.vidTransAlert":"用於批量轉換服務端上的視訊格式，將目錄中的視訊按照指定格式和參數進行批量轉換並輸出到目標目錄，任務執行期間重啟服務端將導致任務中斷","tools.createTransTaskVideo":"創建視訊轉換任務","tools.zipUploadAlert":"上傳圖像進行壓縮(點擊/拖曳)","saveByDate":"自動整理","saveByDateHelp":"開啟後,文件將根據照片視頻的拍攝時間,或文件創建時間等自動創建[年/月/日]三級文件夾，並將文件上傳到日期文件夾中,例如:您上傳一張名為[abc.jpg(2020年1月1日拍攝)]的照片到[D:/照片]文件夾,開啟此選項後,照片將保存到:[D:/照片/2020/1/1/abc.jpg]","selectNewFolderNow":"是否立刻選取新建立的資料夾?","otherRegion":"其他國家或地區","setting.serverRootPath":"服務入口路徑","nfoAndPoster":"NFO和海报","setting.serverRootPathPlaceholder":"輸入路徑如：myweb","setting.serverRootPathHint":"範例:如原始URL為http://192.168.1.5:80，入口路徑設定為abc，則URL變為:http://192.168.1.5:80/設定後重啟NasCab生效，此設定不影響WebDav和Ftp分享","setting.serverRootPathError":"路徑僅支援字母數字且不超過32位元","china":"中国(含港澳台) ","addMapServer":"新增瓦片伺服器","region":"地區","maxZoom":"縮放等級","currentUsing":"目前使用","mapSwitchAlert":"切換地圖後,頁面將刷新並重新載入,是否確認切換?","tileServerUrl":"瓦片伺服器","coordinate":"座標系","switchMap":"切換地圖","languageAndRegion":"語言和地區(Region&Language)","regionAlert":"不同地區版本之間NasCab會員帳號與資料不通用,功能也不完全相同,請依實際狀況選擇","defaultPlay":"優先播放","rawFile":"原始檔案","folderDownloadAlert":"您正在嘗試下載資料夾,資料夾將以zip壓縮包形式下載,是否確認?","notes":"便條","mix":"混搭","copyLink":"複製下載連結","linkCopied":"下載連結已複製","remark":"備註","intervalScan":"間隔掃描","intervalScanAlert":"每隔一段時間掃描磁碟並新增檔案的索引","everyXHour":"每{count}小時","scanAll":"掃描全部目錄","addUserRemark":"設定使用者備註","userRemarkPh":"名稱/備註搜尋","proxy":"代理","quickKey":"快捷鍵","fileKeyAlert":"[+/=]:放大[-]:縮小[c]:切換展示方式[r]:刷新","photoKeyAlert":"[+/=]:放大[-]:縮小[c]:切換展示方式","saveAndTest":"儲存並測試","tmdbProxy":"啟用TMDB代理","tmdbAlert":"當您的網路環境無法存取TMDB的伺服器時,可以設定使用本機代理程式,如:http://127.0.0.1:10809等,實際的本機代理位址根據您的代理軟體設定而定","protocol":"協議","host":"主機[含協定與連接埠]","afterScrapeAlert":"請求成功,任務將在背景進行,請稍後刷新頁面或查看[刮削日誌]確認結果","tryRescrape":"請嘗試重新刮除","scrapeSeasonDetail":"請求季節詳情[TMDB]","scrapeDetail":"請求劇情片詳情[TMDB]","scrapePath":"刮削路徑","scrapeType":"刮削型別","result":"結果","resultPath":"儲存路徑","failReason":"失敗原因","scrape":"刮削","scrapeLog":"刮削日誌","scrapeEpisode":"刮削缺失劇集","scrapeMissingAlert":"將嘗試根據本劇已有NFO文件刮削缺失的劇集信息,確定嗎?","poster":"封面","scanWhenStart":"啟動時掃描","scanWhenChange":"有變動時自動掃描","scanWhenChangeAlert":"部分作業系統與運作環境可能不支援此功能,如Windows下的Docker,網路磁碟等,在對來源目錄進行大量修改時,建議暫時關閉此選項","proxy.smooth":"暢通","proxy.normal":"中","proxy.busy":"擁擠","book.library":"圖書管理","episodeCount":"集數","bestSize":"建議長寬比例","whiteBg":"透明或白色背景","bestBg":"推薦使用淺色圖片","loginWelMsg":"登入頁歡迎語","keyword":"關鍵字","nameRule":"刮除命名規則","alreadyInQueue":"任務已加入執行隊列","movieNameRule":"電影命名規則:霸王別姬(1999).mp4,如不知道具體年份也可以不加","tvNameRule":"電視劇命名規則:建議採用3級目錄命名方式,如:權力的遊戲> [\'Season 1\'或\'s2\'或\'第三季\'或\'第4季\'] > [\'權力的遊戲S01E01.mp4\'或\'權力的遊戲EP02.mp4\'或\'權力的遊戲E03.mp4\'或\'權力的遊戲第4集.mp4\']","loginImg":"登入頁圖片","sourceIncludeCache":"此路徑在您設定的快取目錄下,將不會被掃描,請在【配置中心-系統設定】中修改快取目錄","homeBg":"首頁背景圖","cantAccess":"無法存取","localNetAlert":"如果此位址無法存取,請依照下列順序排查:1.存取裝置和服務端必須處於同一個IP網段,在同一個路由器下。2.如果您使用的是Windows系統,請確保已經在防火牆把服務端放行。","logoLeft":"左上角LOGO","successAndRestartImgViewer":"設定成功,請重新開啟圖片瀏覽器","imgPreviewSize":"大片預覽尺寸","longSideMaxPx":"長邊最大尺寸(像素)","imgQuality":"圖片品質[建議60-90]","imgPreviewAlert":"設定自訂圖片預覽尺寸,瀏覽大圖片時可以降低網路流量,提升載入速度,此功能不會改變您的圖片來源檔案,建議設定為[自訂][長邊3000-8000像素]","rawImage":"原圖","episode":"集","dragSelectAlert":"按住滑鼠左鍵拖曳多重選擇","yourInputTooLong":"您輸入的內容太長,請保持在{count}個字以內","onlySupportCustomImageFormat":"只支援JPG,PNG,WEBP格式","chooseDeleteOption":"選擇刪除選項","watched":"看過","lastWatched":"上次看到","number":"數字","index.title":"正在初始化...","net.error":"網路連線錯誤...","cannotBeEmpty":"{content}不能為空","terminal.disconnect":"終端連線已中斷","terminal.failConnect":"終端連線失敗","terminal.connected":"終端已連線","terminal.start":"啟動終端","creator":"創作者","terminal.title":"終端機工具","refreshQrcode":"刷新二維碼","customUrlAlertA":"您還可以在","customUrlAlertB":"中設定分享URL,用於每次自動替換伺服器位址","pleaseSelectFolder":"請選擇一個資料夾","itemsCount":"個項目","switch":"切換","imageSize":"圖片尺寸","second":"秒","width":"寬度","height":"高度","pixel":"像素","setting":"設定","open":"開啟","verify":"驗證","dataFrom":"資料來源","theSeason":"第{number}季","season":"季","selectWhichSeason":"您要選擇哪一季?","putInSystemTrash":"放入作業系統回收站","fileNotFound":"檔案找不到,請檢查","openInSystem":"在系統中開啟","selectedInSystem":"在系統中選取","file.hidePath":"隱藏檔案路徑","file.hidePathAlert":"如果您不想讓某些資料夾在文件瀏覽器中顯示,可以在這裡添加想要隱藏的路徑,隱藏後的路徑將不會顯示在文件瀏覽模組中,此功能只能在服務端的程式視窗內設定,無法在瀏覽器或APP中設定,此功能僅支援Windows和Mac平台","file.hidePathPlaceHolder":"輸入要隱藏的路徑,如:D:\\\\或/Applications等","shareForSubUser":"對所有使用者可見","transcodeSpeed":"轉碼速度","transcodeReadRate":"轉碼讀取速率","transcodeReadRateAlert":"轉碼時對來源檔案的最大讀取速率倍數,即每1秒讀取最多幾秒的視訊來源檔案,降低此數值可降低cpu和gpu佔用率,過低會影響轉碼速度,建議設定為2-10之間","transcodeSpeedAlert":"轉碼速度越快,畫面品質越低","decoderErrorAlert":"此解碼器為測試狀態,如無法解碼請切換到其他解碼器","ultrafast":"最快","superfast":"超快","veryfast":"非常快","faster":"更快","fast":"快","medium":"中","slow":"慢","slower":"較慢","veryslow":"非常慢","pageCount":"{count}群組/頁","transcode":"轉碼","valueMustBeNum":"值必須是數字","whatModelWillYouUse":"設定首頁顯示的功能","whatModelWillYouUseSubuser":"為此使用者顯示哪些選單?","shareDomainSetting":"分享網域設定","shareDomainAlert":"設定後,將用於自動替換分享連結中的伺服器位址,如快速分享等功能,需包含位址與連接埠以及入口路徑","map.currentZoomLevel":"目前縮放等級{zoom}","map.upgradeZoom":"升級版,解鎖12級地圖","proxy.switchAlert":"由於DNS快取時效問題,切換線路將導致最長5-30分鐘的網域生效時間,是否確認切換?","proxy.downloadFrp":"下載FRP","proxy.currentRoute":"目前線路","proxy.routeList":"可選線路清單","proxy.pluginState":"外掛程式狀態","proxy.installPlugin":"安裝外掛程式","proxy.installed":"已安裝","proxy.pluginPath":"外掛程式安裝路徑","proxy.installMsgSent":"安裝指令已發送,稍後將自動刷新","proxy.uninstalled":"未安裝","proxy.cannotLoginMulti":"同時在多個服務端登入同一個NasCab帳號會導致內網穿透無法使用","proxy.firewallAlert":"NasCab使用第三方開源軟體FRP進行內網穿透,在Windows下有可能被防火牆誤殺,請確保將frpc檔案加入白名單,否則可能無法使用","proxy.frpcGithub":"FRP開源位址及相關討論:https://github.com/fatedier/frp","language.chi":"中文","language.eng":"英文","language.ger":"德文","language.spa":"西班牙文","language.fre":"法文","language.jpn":"日文","language.kor":"韓文","common.menu":"菜單","common.pathExist":"路徑已存在","common.fileExist":"檔案已存在","common.cancelFavorite":"取消收藏","common.sortField":"排序方式","common.sortType":"排序類型","common.asc":"升序","common.desc":"降序","common.iKnow":"我已了解","common.yes":"是","common.addMore":"增加","common.no":"否","common.nothing":"無","common.download":"下載","common.selectAll":"全選","common.folder":"資料夾","common.file":"檔案","common.name":"名稱","common.onlyCanUseInApp":"只能在APP內部使用","common.eq":"等於","common.gt":"大於","common.lt":"小於","common.contain":"包含","common.filepath":"檔案路徑","common.textTooLong":"字元長度超出限制","common.buyVipInPc":"請在PC端購買","common.addPath":"新增路徑","common.selectSubuser":"選擇子使用者","setting.tokenKeepTime":"登入狀態保持時間[小時]","setting.tokenKeepMaxAlert":"登入狀態維持時間最大值為720小時","sign.tv":"劇","sign.movie":"影","checkTime":"查看時間","file.withoutSharedFile":"找不到共用檔案","file.changeToRealUrl":"可將共用連結中的{url}部分更換為您實際的伺服器位址與連接埠","file.endDate":"截止日期","file.shareLink":"共享連結","file.validity":"存取有效期限[天]","file.accessPwd":"存取密碼","file.noNeedPwd":"無需密碼","file.shareTempPwdPh":"輸入存取密碼,留空代表不需要","file.shareTempAlert":"快速分享檔案/資料夾,他人無需登入即可存取","file.addShareTemp":"新增快速分享","file.shareFolderAlert":"新增共用資料夾,所有子使用者無需授權即可查看","file.addShareFoler":"新增共用資料夾","file.sharePath":"共享路徑","holiday.yuandan":"元旦","holiday.chuxi":"除夕","holiday.chuyi":"初一","holiday.yuanxiaojie":"元宵節","holiday.qingrenjie":"情人節","holiday.funvjie":"婦女節","holiday.yurenjie":"愚人節","holiday.laodongjie":"勞動節","holiday.ertongjie":"兒童節","holiday.qixi":"七夕","holiday.duanwujie":"端午節","holiday.jiaoshijie":"教師節","holiday.zhongqiujie":"中秋節","holiday.guoqingjie":"國慶日","holiday.chongyangjie":"重陽節","holiday.wanshengjie":"萬聖節","holiday.pinganye":"平安夜","holiday.shengdanjie":"聖誕節","system.sysUpdate":"系統更新","system.systemResetSuc":"系統重設成功,請重新登入","system.copied":"已複製","system.hostName":"主機名稱","system.update":"更新","system.updateLog":"更新日誌","system.updateTo":"更新至","system.currentSystemVersion":"目前系統版本","system.lastestVersion":"最新系統版本","system.updateSent":"安裝套件下載後將自動進行安裝並重新啟動,期間NasCab將停止服務,請耐心等待","system.info.system":"設備概況","system.info.osInfo":"系統資訊","system.info.cpu":"CPU","system.info.mem":"內存","system.info.diskLayout":"硬碟","system.info.usb":"USB","system.info.audio":"音訊","system.info.networkInterfaces":"網路","system.info.bios":"BIOS","system.info.baseboard":"主機板","system.info.graphics":"顯示/顯示卡","system.info.wifiNetworks":"WIFI","system.info.bluetoothDevices":"藍牙","system.info.osInfo.platform":"平台","system.info.osInfo.distro":"發行版","system.info.osInfo.release":"Release","system.info.osInfo.kernel":"核心","system.info.osInfo.arch":"架構","system.info.osInfo.hostname":"主機名稱","system.info.osInfo.codepage":"建置版本","system.info.osInfo.logofile":"發行商","system.info.osInfo.serial":"序號","system.info.osInfo.build":"建置版本號碼","system.info.osInfo.uefi":"UEFI啟動支援","system.info.cpu.manufacturer":"製造商","system.info.cpu.brand":"品牌型號","system.info.cpu.speed":"頻率Ghz","system.info.cpu.speedMin":"最小頻率","system.info.cpu.speedMax":"最大頻率","system.info.cpu.cores":"核心數","system.info.cpu.physicalCores":"物理核心數","system.info.cpu.processors":"處理器數量","system.info.cpu.socket":"介面","system.info.cpu.vendor":"供應商","system.info.cpu.family":"家族","system.info.cpu.model":"型號","system.info.cpu.stepping":"步進","system.info.cpu.revision":"版本號","system.info.cpu.flags":"標記","system.info.cpu.virtualization":"支援虛擬化","system.info.cpu.cache":"快取","system.info.cpu.performanceCores":"效能核心","system.info.cpu.efficiencyCores":"能源效率核心","system.info.mem.total":"容量","system.info.mem.free":"可用","system.info.mem.used":"已使用","system.info.mem.active":"主動使用(不包括緩衝區/快取)","system.info.mem.buffcache":"緩衝區/快取","system.info.bios.vendor":"供應商","system.info.bios.version":"版本","system.info.bios.releaseDate":"發行日期","system.info.bios.revision":"版本號","system.info.bios.serial":"序號","system.info.baseboard.manufacturer":"製造商","system.info.baseboard.model":"型號","system.info.baseboard.version":"版本","system.info.baseboard.serial":"序號","system.info.baseboard.assetTag":"資產標籤","system.info.diskLayout.device":"裝置路徑","system.info.diskLayout.type":"類型","system.info.diskLayout.name":"名稱","system.info.diskLayout.vendor":"供應商","system.info.diskLayout.size":"容量","system.info.diskLayout.firmwareRevision":"韌體版本","system.info.diskLayout.serialNum":"序號","system.info.diskLayout.interfaceType":"介面類型","system.info.diskLayout.smartStatus":"SMART狀態","system.info.diskLayout.bytesPerSector":"每區位元組數","system.info.diskLayout.totalCylinders":"總柱面數","system.info.diskLayout.totalHeads":"總磁頭數","system.info.diskLayout.totalSectors":"總扇區數","system.info.diskLayout.totalTracks":"總軌道數","system.info.diskLayout.tracksPerCylinder":"每柱面磁軌","system.info.diskLayout.sectorsPerTrack":"每磁軌磁區數","system.info.diskLayout.temperature":"SMART溫度","system.info.usb.bus":"USB匯流排","system.info.usb.deviceId":"匯流排設備ID","system.info.usb.id":"內部ID","system.info.usb.name":"名稱","system.info.usb.type":"類型","system.info.usb.removable":"可移除","system.info.usb.vendor":"供應商","system.info.usb.manufacturer":"製造商","system.info.usb.maxPower":"最大功率","system.info.usb.serialNumber":"序號","system.info.audio.id":"內部ID","system.info.audio.name":"名稱","system.info.audio.manufacturer":"製造商","system.info.audio.revision":"版本號","system.info.audio.driver":"驅動程式","system.info.audio.default":"是否預設","system.info.audio.channel":"通道","system.info.audio.type":"類型","system.info.audio.in":"是否為輸入","system.info.audio.out":"是否為輸出","system.info.audio.interfaceType":"介面類型","system.info.networkInterfaces.iface":"介面","system.info.networkInterfaces.ifaceName":"介面名稱","system.info.networkInterfaces.default":"是否為預設","system.info.networkInterfaces.ip4":"IPV4位址","system.info.networkInterfaces.ip4subnet":"IPV4子網路遮罩","system.info.networkInterfaces.ip6":"IPV6位址","system.info.networkInterfaces.ip6subnet":"IPV6子網路遮罩","system.info.networkInterfaces.mac":"Mac位址","system.info.networkInterfaces.internal":"內部","system.info.networkInterfaces.virtual":"是否為虛擬","system.info.networkInterfaces.type":"類型","system.info.networkInterfaces.mtu":"最大傳輸單元","system.info.networkInterfaces.speed":"速度MBit/s","system.info.networkInterfaces.dhcp":"DHCP取得的IP位址","system.info.networkInterfaces.dnsSuffix":"DNS字尾","system.info.bluetoothDevices.device":"裝置名稱","system.info.bluetoothDevices.name":"名稱","system.info.bluetoothDevices.macDevice":"MAC","system.info.bluetoothDevices.macHost":"MAC位址主機","system.info.bluetoothDevices.batteryPercent":"電量","system.info.bluetoothDevices.manufacturer":"製造商","system.info.bluetoothDevices.type":"類型","system.info.bluetoothDevices.connected":"是否已連線","system.info.graphics.vendor":"供應商","system.info.graphics.vendorId":"供應商編號","system.info.graphics.model":"型號","system.info.graphics.name":"名稱","system.info.graphics.deviceId":"裝置ID","system.info.graphics.bus":"匯流排","system.info.graphics.vram":"VRAM size (MB)","system.info.graphics.external":"是否外接","system.info.graphics.cores":"核心數","system.info.graphics.deviceName":"裝置名稱","system.info.graphics.productionYear":"生產年份","system.info.graphics.serial":"序號","system.info.graphics.displayId":"顯示ID","system.info.graphics.main":"是否為主要","system.info.graphics.builtin":"是否為內建","system.info.graphics.connection":"連線方式","system.info.graphics.sizeX":"水平尺寸(mm)","system.info.graphics.sizeY":"垂直尺寸(mm)","system.info.graphics.pixelDepth":"色深(bits)","system.info.graphics.resolutionX":"水平解析度","system.info.graphics.resolutionY":"垂直解析度","system.info.graphics.currentResX":"當前水平解析度","system.info.graphics.currentResY":"目前垂直解析度","system.info.graphics.currentRefreshRate":"目前刷新率","system.info.graphics.driverVersion":"驅動程式版本","system.info.graphics.memoryTotal":"總顯存(MB)","system.info.graphics.memoryUsed":"已使用顯存(MB)","system.info.graphics.memoryFree":"可用記憶體(MB)","system.info.graphics.temperatureGpu":"溫度","system.info.graphics.powerDraw":"功率消耗(w)","system.info.graphics.utilizationGpu":"GPU使用率%","system.info.graphics.clockCore":"時鐘核心","nascab.online":"線上","reconnect":"重連","home.scanToAccess":"可以使用瀏覽器/微信等掃碼存取","usage":"使用率","sureToClose":"確認關閉嗎?","nascab.useNasCabCert":"使用NasCab提供的https憑證","nascab.useApiCert":"使用和API服務相同的憑證[您在配置中心配置的或DDNS服務提供的]","nascab.useNasCabCertCloseAlert":"關閉後,將使用預設憑證作為https協定的api介面憑證,您也可以在通用設定中自行配置","nascab.useNasCabCertAlert":"開啟後,將使用NasCab提供的HTTPS憑證並替換自訂證書(如已設定),程式啟動時,用作HTTPS協定的API介面憑證,重啟應用程式才能生效","nascab.clearCustomProxy":"清除連接埠對映配置","nascab.conFromLan":"如果您和伺服器處於同一區域網路,可以從區域網路連線:","nascab.localMachine":" [127.0.0.1代表本機] ","nascab.invalidIp":"請輸入正確的IP","nascab.invalidPort":"請輸入正確的連接埠","nascab.pleaseOpenTwoStepsLogin":"開啟遠端存取後,您的NasCab服務可以從公網存取,請您務必在安全中心開啟\'兩步驟登入\'以增強帳戶安全性","nascab.lanAccessAlert":"在同一個區域網路內的任一瀏覽器,輸入此網址可存取NasCab服務,完全相容PC/手機瀏覽器","nascab.proxyDelay":"每次重連後,網域生效可能會有5-30分鐘延遲,請耐心等待","nascab.sameAccountLogin":"同一個NasCab帳號不支援同時在多個客戶端登入","nascab.reconnectSent":"重新連線請求已傳送,請稍後重新整理查看連線狀態","nascab.connectState":"連線狀態","nascab.connectLine":"連接線路","nascab.sureEnableDDNS":"確認啟用DDNS嗎?DDNS用來將NasCab專屬網域解析到您的動態公網IP.","nascab.sureDisableDDNS":"確認關閉DDNS嗎?","nascab.ddnsIp":"解析IP","nascab.ddnsType":"解析類型","nascab.isEnable":"是否啟用","nascab.sureEnableRemote":"確認啟用遠端存取嗎?","nascab.sureDisableRemote":"確認關閉遠端存取嗎?如果您正在使用遠端存取,連線將立即中斷","nascab.remoteAccessMenu":"內部網路穿透","nascab.offline":"離線","nascab.remoteAccess":"遠端存取位址","nascab.customServerRemoteUrl":"自訂服務公網存取網域","nascab.setDomain":"設定我的專屬網域","nascab.myDomain":"我的網域","nascab.ddnsDomain":"DDNS網域","nascab.proxyDomain":"內網穿透網域名稱","nascab.contactServe":"聯絡客服","nascab.validUntil":"有效期限至","nascab.needUpgrade":"免費版無法使用此功能,請用管理員帳號在\'配置中心->NasCab帳號\'中升級後再試","nascab.version":"當前版本","nascab.renewal":"續期","nascab.loginFirst":"請先登入NasCab帳號","nascab.upgrade":"升級","nascab.versionFree":"個人免費版","nascab.versionPro":"專業版","nascab.versionTeam":"白金版","nascab.goToBind":"去綁定","nascab.account":"NasCab帳號","nascab.notLogin":"未登入","nascab.switchAccount":"切換帳號","nascab.email":"信箱","nascab.changeToLan":"您和要連接的NasCab服務處於同一個區域網路,切換到區域網路存取可以大幅加快存取速度,是否切換?","nascab.phone":"手機","nascab.exitAccount":"退出NasCab帳號","nascab.accountManage":"管理我的NasCab帳號","slogan":"Nas Cab做最簡單好用的多媒體管理軟體","common.faq":"常見問題","proxy.faqContent1":"1.內網穿透的作用：讓您的NasCab在沒有公網IP的情況下可以透過公網存取。開啟後請在安全中心開啟兩步驟登入增強安全性。 ","proxy.faqContent2":"2.內部網路穿透和DDNS的區別：內部網路穿透不需要公網IP,資料需NasCab伺服器中轉。DDNS需要公網IP,連接方式為直連無需中轉。內網穿透和DDNS可以透過設定不同子網域同時啟用。","proxy.faqContent3":"3.內部網路穿透是否安全：傳輸採用HTTPS+AES雙重加密,NasCab伺服器只做中轉,不對資料做任何過濾和審核,也無法被中間路由器取得。 ","proxy.faqContent4":"4.內部網路穿透的連接埠：內部網路穿透網域的連接埠固定為443(HTTPS)","proxy.faqContent5":"5.Frp在Windows下的殺軟誤報,相關討論請見Frp倉庫： https://github.com/fatedier/frp","ddns.faqContent1":"1.如何驗證ddns是否成功:使用命令列對您的網域進行ping操作,觀察解析出來的IP是否和顯示的一致","ddns.faqContent2":"2.映射成功後無法存取:如果是IPV4還需要在路由器進行連接埠轉送,把NasCab服務埠轉送至NasCab所在裝置,IPV6通常不需要","ddns.faqContent3":"3.是否需要加埠存取:如果是預設連接埠(http:80)(https:443)不需要,非預設連接埠需要使用[http(s)://網域：連接埠]的形式訪問","ddns.faqContent4":"4.如果仍然無法存取,可以切換不同服務端口嘗試,部分運營商可能會屏蔽80和443端口","ddns.faqContent5":"5.如何確認是否擁有動態公網IPV4位址:在搜尋引擎搜尋\'IP\'等關鍵字,查看自己的公網IP,然後和路由器WAN IP對比是否一致,一致則為公網IP","common.rename":"重新命名","common.startTime":"開始時間","common.newVersionReady":"新版本{version}已準備好","common.import":"導入","common.export":"導出","common.show":"顯示","common.new":"新建","common.multiSelect":"多選","common.longPressShowMenu":"長按可以彈出選單","common.rightClickShowMenu":"右鍵點選彈出選單","upload.success":"上傳成功","upload.error":"上傳失敗","upload.uploading":"上傳中...","upload.paused":"已暫停","upload.waiting":"等待中","upload.noTargetPath":"未選擇目標上傳資料夾","upload.folderAlert":"注意：使用資料夾上傳時,無法保持子資料夾結構","common.pleaseInputSearchContent":"請輸入搜尋內容","common.welcomeToNasCab":"歡迎使用NasCab雲可雲","common.hide":"隱藏","common.close":"關閉","common.top":"頂部","common.ok":"確定","common.and":"和","common.iSee":"知道了","common.alert":"提示","common.title":"標題","common.search":"搜尋","common.resetDefault":"重設為預設","common.default":"預設","common.detail":"詳情","common.refresh":"刷新","common.refreshList":"刷新清單","common.confirm":"需要您確認","common.noMore":"沒有更多了","common.returnLastLayer":"返回","common.noData":"無資料","common.operationSuccess":"操作成功","common.checkAfter":"操作將在背景進行,稍後刷新可以查看結果","common.operationFail":"操作失敗","common.getFail":"取得失敗","common.options":"選項","common.all":"全部","common.succesed":"成功","common.faild":"失敗","common.uploading":"上傳中","common.home":"首頁","common.photo":"照片","common.save":"儲存","common.video":"影片","common.cancel":"取消","common.cancelled":"已取消","common.select":"選擇","common.update":"更新","common.mode":"IP模式","common.blacklistMode":"黑名單模式","common.whitelistMode":"白名單模式","common.edit":"編輯","common.cancelSelect":"取消選擇","common.selected":"已選擇","common.loadmore":"載入更多","common.username":"使用者名稱","common.password":"密碼","common.question":"密保問題","common.answer":"密保答案","common.commit":"提交","common.add":"新增","common.upload":"上傳","common.delete":"刪除","common.clear":"清除","common.action":"操作","common.deleteSuccess":"刪除成功","common.deleteSuccessWithCount":"{sucCount}個檔案刪除成功,{errCount}個檔案刪除失敗","common.deleteSure":"確認刪除嗎?","common.change":"修改","common.changeSuccess":"修改成功","common.check":"查看","common.return":"返回","common.unselect":"取消已選取","common.noPermission":"無權限","common.tokenExpire":"登入狀態過期","common.whatWillYouDo":"您要怎麼做?","common.year":"年","common.month":"月","common.day":"日","common.continue":"繼續","common.sureSaveChange":"是否儲存修改?","common.monday":"星期一","common.tuesday":"星期二","common.wednesday":"星期三","common.thursday":"星期四","common.friday":"星期五","common.saturday":"星期六","common.sunday":"星期日","common.chooseUser":"選擇使用者","common.noAccess":"無存取權限","common.other":"其他","common.path":"路徑","common.state":"狀態","common.available":"可用","common.unavailable":"不可用","common.help":"幫助","useWhitePhotoGps":"參考了下列圖片的GPS資訊","help.howToWork":"此功能如何運作?","help.addGpsHelp":"例如：您在11點用單眼相機拍攝了100張沒有GPS訊息的照片,又在臨近時間【如當天12點】用手機拍攝了一張帶有GPS訊息的照片,您可以利用此功能將手機拍攝的照片的位置資訊寫入單眼拍攝的一系列照片中,此功能僅支援JPEG格式。","security.sameIpOrigin":"IP同源偵測","security.sameIpAlert":"客戶端IP變更後Token立刻過期,可提升安全性,但在複雜網路條件下可能導致登入狀態頻繁過期,請根據實際情況決定是否開啟,重啟NasCab生效","security.blackDesc":"該模式下,黑名單中的IP無法存取","security.whiteDesc":"該模式下,只有白名單中的IP可以存取","security.ipFromatWrong":"IP格式不正確","security.addOne":"新增一個","security.description":"描述","security.removeFromBlackList":"從黑名單移除","security.removeFromWhiteList":"從白名單移除","security.blackList":"IP黑名單","security.whiteList":"IP白名單","security.login":"登入","security.changePwd":"修改密碼","security.username":"使用者名稱","type":"型別","security.time":"記錄時間","security.client":"客戶端","security.loginFail":"登入失敗","security.timesIpBlock":"次後,IP封鎖","security.minutes":"分鐘","security.logs":"日誌","security.twoStepsDesc":"開啟後,在本機以外的地方登入需要填寫密保問題答案","notice.markAllAsRead":"全部標記已讀","notice.deleteAll":"全部刪除","notice.error":"錯誤","notice.info":"訊息","private.fileWillDeleteForever":"檔案將被永久刪除","private.spaceInfo":"空間資料","private.shootTime":"拍攝時間","private.chooseExportPathFirst":"請先選擇要匯出的空間路徑和目標路徑","private.tokenExpired":"加密空間驗證狀態過期,請嘗試重新進入","private.videoNoTransPlay":"加密空間中的影片因格式原因無法支援即時轉碼,在原始檔案無法播放的情況下,您可以下載解密後的影片到本機播放","private.privateSpaceDescA":"加密空間用於加密並保存您的資料,AES加密保障資料安全","private.privateSpaceDescB":"每一個加密空間保存在獨立的資料夾中,支援建立多個加密空間","private.deleteSpaceAlert":"確認刪除加密空間嗎?加密空間對應的資料夾不會被刪除,您可以手動刪除,如後續需要,可以透過\'導入加密空間\'功能對資料夾進行導入","private.addPrivateSpace":"新增加密空間","private.changeSpaceName":"修改空間名稱","private.inputNewName":"輸入一個新的空間名稱","private.sureDeleteSpace":"確實要刪除空間嗎?","private.importPrivateSpace":"導入空間","private.importPrivateSpaceDes":"此功能用於匯入您先前建立的加密空間","private.createPrivateSpace":"建立加密空間","private.spaceName":"空間名稱","private.spaceFolder":"空間目錄","private.spacePwd":"空間密碼","private.newSpaceName":"導入後空間名稱","private.rawSpacePwd":"原空間密碼","private.rawSpaceFolderPath":"選擇原加密空間所對應的資料夾","private.createDate":"建立日期","private.folderPath":"選擇加密空間資料保存位置(所選資料夾必須為空)","private.inputSpacePwd":"輸入空間密碼","private.uploadFile":"上傳檔案","private.uploadFileToSpace":"上傳檔案到加密空間[上傳期間不要關閉空間]","private.passwordInvalid":"空間密碼過期,請嘗試重新進入空間","private.exportSpaceData":"匯出空間","private.exportFolder":"匯出目標資料夾","private.exportTaskInLine":"匯出任務已加入執行佇列","private.exportSpaceDataDes":"此功能用於將加密空間的資料全部解密並導出到您指定的資料夾,即使設定檔損壞的空間也可以使用此功能匯出資料","ws.indexState":"索引狀態","ws.backupState":"備份服務狀態","ws.indexing":"索引中...","ws.indexingDone":"索引完成","share.atLeastChooseOneUser":"至少選擇一位使用者","share.noChooseShareFolder":"您需要選擇分享目錄","share.WebDav":"WebDav","share.FTP":"FTP","share.shareDesc":"檔案分享可以讓您把本機資料夾分享給網路上的其他電腦存取,支援WebDav協定,Ftp協定","share.chooseFtpRootPath":"選擇FTP根目錄","share.ftpRootPath":"FTP根目錄","share.urlExample":"訪問url範例:","share.addShareFold":"新增共用資料夾","share.updateShareFold":"更新共用資料夾","share.pathSign":"共用路徑識別碼","share.fullWebDavUrl":"共用URL","share.pathSignPlaceHolder":"僅支援字母與數字","share.chooseShareFold":"選擇共用資料夾","share.shareFold":"共用資料夾","share.userAlreadyInList":"使用者已存在","share.choosePowerUser":"選擇授權使用者","share.selectedUserList":"已授權的使用者清單","share.restartFileShareAlert":"此操作將重新啟動檔案共用服務,所有已有連線客戶端將暫時中斷,確認嗎?","share.restartSuccess":"檔案共享服務已重新啟動","share.adminHasPowerDefault":"管理員帳號預設擁有所有共用資料夾的存取權限","share.noShareAlert":"還沒有共用資料夾,點擊底部按鈕建立一個","bakcup.noRecords":"無備份記錄","backup.cannotUseRoot":"不能使用磁碟根目錄,請選擇一個資料夾","backup.backupDesc":"備份功能用於將您的本機資料夾備份到不同的磁碟或資料夾","backup.currentStat":"目前狀態","backup.running":"正在執行備份...","backup.paused":"已暫停","backup.waiting":"即將執行備份任務...","backup.noRunning":"未在執行","backup.ifRunTask":"是否執行備份任務?","backup.ifStopTask":"是否停止備份任務?","backup.createTask":"建立新的備份任務","backup.orderSent":"指令已發送","backup.noTaskAlert":"還沒有備份任務,點擊底部按鈕建立一個","backup.taskName":"任務名稱","backup.backupRate":"備援頻率","backup.oneTime":"一次","backup.everyDay":"每天","backup.everyWeek":"每週","backup.everyMonth":"每月","backup.backupDate":"備份日期","backup.lastBackupStat":"上次備援狀態","backup.errorInfo":"錯誤訊息","backup.lastBackupTime":"上次備份時間","backup.pleaseChooseBackupDate":"請選擇備份日期","backup.pleaseChooseBackupTime":"請選擇備份時間","backup.pleaseInputTaskName":"請輸入任務名稱","backup.backupTime":"備份時間","backup.backupPath":"備份資料夾","backup.targetPath":"目標資料夾","backup.youFileWillBeHere":"注意:備份為單向同步,每次備份任務執行時,來源目錄中不存在/已刪除的檔案,也將在備份目標資料夾中同步刪除","backup.youFileWillBeHereB":"您的備份將儲存在以下位置","backup.chooseWeek":"選擇星期","backup.whichDayInMonth":"每月第幾日備份","backup.choosePathWantBakcup":"選擇要備份的資料夾","backup.addExclude":"新增排除項","backup.excludeList":"排除清單","backup.updateTask":"更新任務","backup.excludeExample":"支援通配符*,例如:xxA代表排除名字為xxA的所有檔案和資料夾*.mp4代表排除所有mp4檔案abc*代表排除所有abc開頭的檔案和資料夾","backup.chooseTargetPath":"選擇目標資料夾","backup.backupSuccess":"備份成功","backup.backupFail":"備份失敗","backup.sourceAndTargetPathCantEqual":"備份資料夾和目標資料夾不能相等或包含","backup.records":"備份記錄","backup.copySize":"拷貝大小","backup.copyCount":"拷貝檔案個數","backup.excludeCount":"排除檔案數量","backup.failCount":"錯誤數量","backup.refreshStatus":"刷新任務狀態","backup.copied":"已複製","backup.startTime":"備份開始時間","backup.endTime":"備份結束時間","backup.failList":"錯誤清單","header.changePwd":"修改密碼","header.changeQuestion":"修改密保","header.twoStepsLogin":"兩步驟驗證","header.rawPassword":"舊密碼","header.newPassword":"新密碼","header.newPasswordConfirm":"確認新密碼","header.oldPasswordIncorrect":"舊密碼不正確","header.twoPasswordHaveToSame":"兩次輸入的新密碼必須一致","header.changePasswordSuccess":"密碼修改成功,需要重新登入","header.changeQuestionSuccess":"密保問題修改成功,請您牢記","header.rawQuestion":"原密保問題","header.newQuestion":"新密保問題","header.newAnswer":"新密保答案","header.okLogout":"確認退出帳號嗎?","header.logoutSuccess":"退出成功","question.petName":"我的寵物叫什麼名字?","question.bornStreet":"我出生的街道叫什麼?","question.houseNumber":"我家門牌號碼是多少?","question.phoneNumber":"我的手機號碼是多少?","question.schoolName":"我的小學名字是什麼?","question.carType":"我的車是什麼型號?","registerAdmin.firstUseAlertText":"您需要建立管理員帳號用於管理您的NasCab,帳號密碼加密後保存在您的電腦上","registerAdmin.placeholderUsername":"請輸入使用者名稱","registerAdmin.placeholderPassword":"請輸入密碼","registerAdmin.placeholderQuestion":"輸入密保問題,如:寵物名字/門牌號碼?","registerAdmin.questionAndAnswerCantSame":"密保問題和答案不能一樣","registerAdmin.uesrnameAndPwdCantSame":"使用者名稱與密碼不能相同","registerAdmin.placeholderAnswer":"請輸入密保答案並牢記,用於找回密碼","registerAdmin.btRegisterAdmin":"保存並繼續","registerAdmin.labelUsername":"登入名稱","registerAdmin.labelPassword":"登入密碼","registerAdmin.labelEmail":"電子郵件","registerAdmin.usernameLengthLimit":"使用者名稱長度至少需要2位元","registerAdmin.passwordLengthLimit":"密碼長度至少需要2位元","registerAdmin.checkEmail":"請輸入正確的電子郵件格式","registerAdmin.success":"管理者建立成功","registerAdmin.registerAdmin":"建立管理者帳號","login.agree":"同意","login.chooseOtherServer":"選擇其他伺服器","login.privacy":" 《隱私權政策》 ","login.agreement":" 《使用者協議》 ","login.success":"登入成功","login.btLogin":"登入並繼續","login.goLogin":"去登入","login.forgotPwd":"忘記密碼?","login.getPwdBack":"找回密碼","login.getPwdOnlyForAdmin":"此功能僅用於找回管理員密碼,修改普通使用者密碼請登入管理員帳號後,在【使用者管理】中修改","resetPwd.placeholderPassword":"請輸入新密碼","resetPwd.placeholderAnswer":"請輸入密保問題答案","resetPwd.question":"密保問題:","resetPwd.answerIsWrong":"密保答案不正確","home.message":"訊息","home.apps":"應用程式","home.status":"狀態","home.quickAccess":"快速功能","home.others":"其他應用程式","home.albumBackup":"相簿備份","home.refreshBg":"背景","home.bgTask":"後台任務","home.haveNoRunningTasks":"沒有正在執行的後台任務","home.sureDeleteBgTask":"確定要刪除後台任務嗎?","home.task":"任務","home.terminal":"終端機工具","home.mine":"我的","home.cloudSyncActiveInfo":"連網同步啟動資訊","home.currentVersion":"目前版本","home.proCode":"啟動碼","home.endTime":"截止日期","home.renew":"延期","home.freeVersion":"免費版","home.proVersion":"專業版","home.backup":"檔案備份","home.sharing":"文件分享","home.indexCount":"索引數量","home.indexing":"索引中","home.indexingComplete":"索引完成","home.mediaCount":"媒體數量","home.photoManage":"照片管理","home.movieManage":"影視管理","home.musicManage":"音樂管理","home.backupAndShare":"備份與共用","home.backupManage":"備份任務","home.shareManage":"共享管理","home.shareTemp":"快速分享","home.settingCenter":"配置中心","home.mobileSync":"手機同步","home.securityCenter":"安全中心","home.thumbnail":"縮圖","home.hardwareMonitor":"硬體監控","home.disk":"磁碟","home.RAM":"記憶體","home.upgradeToPro":"升級到專業版","home.fileBrower":"文件瀏覽","home.activeSuc":"啟動成功","home.pleaseEnterCode":"請填入啟動碼","home.indexAlert":"只有產生縮圖後的文件,才會在照片和影視服務中顯示","setting.howToBackup":"重裝系統前如何備份資料?","setting.howToBackupContent":"將此目錄({path})下的資料拷貝出來,重裝系統並安裝NasCab後,再將資料拷貝回原位置。 ","setting.noSetShowAllMenu":"不勾選代表顯示所有選單","setting.ddnsExplain":"DDNS用於將您的NasCab專屬網域解析到您的動態公網IPV6/IPV4","setting.sourceFolderDeleteInBg":"索引刪除將在背景進行,請您稍後刷新查看結果,在索引清除結束前,請不要添加新的來源資料夾","setting.defaultCert":"不填寫時使用預設憑證","setting.httpsCert":"HTTPS憑證內容","setting.httpsKey":"HTTPS私鑰內容","setting.autoLaunch":"開機啟動","setting.autoLoginClient":"自動登入客戶端","setting.autoShowWindow":"啟動客戶端時顯示視窗","setting.account":"帳號","setting.changeCachePath":"更換快取目錄","setting.reLaunchNasCab":"重啟NasCab","setting.reLaunchNasCabAlert":"NasCab服務端即將重啟,所有連線將暫時斷開,是否確認重啟?","setting.reLaunchNasCabConfirm":"重啟指令已發送,請稍後再訪問","setting.resetSystem":"系統重置","setting.downloadPackage":"下載安裝包","setting.installationSoon":"即將開始安裝...","setting.transcodeTmpPath":"轉碼暫存目錄","setting.userDataFolder":"預設資料目錄","setting.resetSystemAlert":"所有資料庫和快取圖片將被清除,所有使用者也將被刪除,下次使用您需要重新建立管理員帳號,如確認重設,請您輸入目前登入帳號的密碼","setting.crf":"H264編碼CRF","setting.crfDesc":"CRF x264編碼器的預設品質設定。您可以設定介於1和51之間的值,值越低視訊品質越好,但會導致檔案體積增大和傳輸速度變慢。一般介於18-28之間。​​","setting.cacheInfo":"快取資訊","setting.cacheCount":"快取數量","setting.clearCacheAlert":"清除快取會導致下次造訪時重新產生,影響載入速度,如非必須釋放磁碟空間,請勿清除","setting.databasePath":"資料庫目錄","setting.cachePath":"快取目錄","setting.cacheSize":"快取大小","setting.clearCache":"清除快取","setting.proSetting":"進階設定","setting.threadCount":"API執行緒數量","setting.threadCountHint":"提升並發速度,也會增加記憶體用量","setting.source.directoryMoved":"目錄已經移動到其他位置?","setting.source.reChoose":"重新定位,原始位置:","setting.security.ipBan":"IP封鎖","setting.security.loginNeedAnswer":"兩步驟登入","setting.securitySetting":"安全設定","setting.commonSetting":"通用設定","setting.chooseLanguage":"選擇您的語言","setting.language":"語言","setting.photoSourceSetting":"照片來源","setting.photoSourceSettingAlert":"請選擇您儲存照片的目錄,作為\'照片管理\'中內容的來源","setting.movieSourceSetting":"來源目錄","setting.movieSourceSettingAlert":"請選擇您儲存影片的目錄,作為「影視管理」中的內容的來源","setting.yourCurrentSources":"您目前設定的照片來源","setting.btAddSource":"新增來源資料夾","setting.ifDeletePath":"是否刪除此目錄?","setting.noSourceFolderSelected":"您目前尚未新增任何來源資料夾","setting.folderIsNotExist":"檔案/資料夾已不存在","setting.userManage":"使用者管理","setting.basePort":"基礎服務埠[HTTP]","setting.basePortHttps":"基礎服務埠[HTTPS]","setting.webDavPort":"WebDav服務埠","setting.FTPPort":"FTP服務埠","setting.transFlvPort":"推流轉碼服務埠","setting.saveSuccessRestartValid":"儲存成功,部分功能需重新啟動客戶端生效","setting.saveSuccess":"儲存成功","setting.saveSuccessRestart":"儲存成功,重新啟動客戶端生效","setting.portSetting":"連接埠設定","setting.videoCodecSetting":"影片轉碼設定","setting.photoFuncsSetting":"照片管理功能設定","setting.videoSubtitleFontSize":"字幕放大倍率","setting.videoCoder":"視訊編解碼器","setting.ifPortInUserWillAdd":"如果設定的連接埠被其他程式佔用,會自動向後順延","setting.changeCachePathAlert":"快取目錄修改後,需要重新啟動客戶端才能生效,原始快取資料需要您手動刪除,下次存取圖片影片等將重新即時產生縮圖快取,速度較慢,非必要情況不建議您修改","user.updateUserInfo":"更新使用者資訊","user.addNewUser":"新增使用者","user.noUserToChoose":"無選用使用者","user.subCountNum":"最大子使用者數量","user.admin":"管理員","user.commonUser":"一般使用者","user.logout":"登出","user.powerPhoto":"照片權限","user.powerMovie":"影視權限","user.powerMusic":"音樂權限","user.powerBooks":"圖書權限","user.powerFolder":"檔案權限","user.addFolderPowerPath":"新增檔案瀏覽目錄權限","user.selectImpowerPath":"選擇要授權給使用者路徑","user.powerSet":"權限","user.goToSetSourcePath":"沒有任何來源目錄","user.haveAllPower":"擁有全部權限","user.sureDeleteUser":"確定刪除使用者嗎?此操作不可恢復!","user.hadSameUsername":"已有同名使用者存在","user.addPhotoPowerPath":"新增照片來源授權目錄","user.addMoviePowerPath":"新增影視來源授權目錄","user.addMusicPowerPath":"新增音樂來源授權目錄","user.addBookPowerPath":"新增圖書來源授權目錄","user.cancelPathPower":"取消授權","user.sureCancelPathPower":"確定取消使用者對此目錄的所有權限嗎?","photo.camera":"相機型號","photo.help":"空白鍵:播放影片/Livephoto左右鍵:切換上一張/下一張Del鍵:放入回收站","photo.cover":"裁切","photo.contain":"縮放","photo.addSourceAlert":"將在後台對來源目錄進行掃描以及生成縮圖,稍後可在首頁查看進度,請耐心等待。 ","photo.aiFaceMinPhotoCount":"照片數量低於多少時隱藏人物","photo.changePeople":"人物變更","photo.changePeopleAlert":"這些照片屬於誰?","photo.library":"照片集","photo.solar":"公曆","photo.lunar":"農曆","photo.leftSimilarGroupCount":"還有{count}群組重複照片等待處理","photo.createAlbumByFolder":"以資料夾建立相簿","photo.sourcePathUnusable":"來源目錄已不可用,請檢查{path}","photo.setFacePoster":"設定為相簿封面","photo.waitDealCount":"待處理數量:{count}","photo.waitCompareFaceCount":"正在進行臉比對,剩餘數量:{count}","photo.indexingNoAi":"照片索引中,暫停處理AI識別,將在索引結束後繼續","photo.removeFromFace":"從人臉相簿移出","photo.photoCount":"{photoCount}張照片","photo.andriodPrimaryPlayer":"安卓首選播放器設定","photo.onlySupportPhoto":"只支援修改JPG格式照片","photo.mergePerson":"合併人物","photo.mergePersonAlert":"確認合併這些人物嗎?","photo.atleastTwoPersonMerge":"至少選擇兩個臉部資訊合併","photo.changeName":"修改名字","photo.personNameTooLong":"人物名字太長[小於50個字元]","photo.inputPersonName":"輸入人物的名字","photo.deletePerson":"刪除這個人物","photo.noPersonPlaceHolder":"將在空閒時自動為您掃描照片中的人物","photo.sameNameMerged":"相同名字的人物將合併","photo.unnamed":"未命名","photo.sureDeletePerson":"確定從【人物】刪除嗎?","photo.changeUserName":"將人物的名字改為【 {name} 】 ,確定嗎?","photo.classes":"在空閒時自動為您的照片分類","photo.tag":"標籤","photo.enableClass":"啟用照片智慧分類","photo.enableSimilarPhoto":"啟用重複照片掃描","photo.enableAiFace":"啟用人臉辨識","photo.aiClasses":"物體","photo.aiFace":"人物","photo.aiSimilarPhoto":"照片去重","photo.noSimilarPhoto":"將在空閒時為您掃描重複照片","photo.checkKeepPhoto":"勾選要保留的照片","photo.keepAll":"保留全部照片","photo.moveSimilarToTrash":"移動重複照片到回收站","photo.deleteAlbum":"刪除相簿","photo.gpsAddSuccess":"位置新增成功","photo.gpsAdd":"GPS補充","photo.noPendingPhotos":"沒有待處理的照片","photo.sureSkipAddGps":"確認不為這些照片新增位置嗎?","photo.sureAddGps":"確認將目前選取的位置新增至這些照片嗎?","photo.searchPlace":"搜尋地點","photo.restorePosition":"恢復到建議位置","photo.skipAddGps":"跳過這批照片","photo.wirteGps":"將位置寫入勾選照片","photo.confirmPhotoLocation":"確認照片拍攝位置(點擊地圖可以修改)","photo.dealListForAddGps":"勾選要補充位置資訊的照片","photo.noCanAddGpsPhoto":"未找到可以補充位置的照片","photo.addPhotoGpsInfo":"補充照片位置","photo.recentCheck":"最近","photo.searchPlaceHolder":"依檔案名稱及裝置搜尋","photo.whichAlbumWanToAdd":"要加入哪個相簿?","photo.addToAlbum":"新增至相簿","photo.youHaveNoAlbum":"您還沒有相簿,快去創建一個吧","photo.addAlbumSuc":"已經成功加入相簿","photo.removeFromAlbum":"從相簿移出","photo.removeFromAlbumSuc":"已從相簿移出","photo.changePosition":"是否修改照片位置資訊,此動作將對照片exif進行修改,是否確認?","photo.all":"全部","tools":"工具箱","photo.confirmPutInTrash":"放入回收站嗎?","photo.putInTrash":"放入回收站","photo.photo":"照片","photo.video":"影片","photo.album":"相簿","photo.image":"圖片","photo.ordinaryAlbum":"普通相簿","photo.smartAlbum":"智慧相簿","photo.myAlbum":"我的相簿","photo.holidays":"節慶相簿","photo.folder":"檔案檢視","photo.map":"地圖","photo.selectPhotoTakeTime":"選擇拍攝時間","photo.confirmChangePhotoTime":"確認修改拍攝時間?","photo.footprint":"我的足跡","photo.fileCount":"個項目","photo.5km":"5km","photo.10km":"10km","photo.80km":"80km","photo.300km":"300km","photo.near":"附近","photo.timeOrder":"時間軸方向","photo.timeline":"時間軸","photo.privateSpace":"加密空間","photo.stillIndexTryLater":"正在為您掃描文件,請稍後再試","photo.sureChangeNewPhoto":"改動將儲存為新的檔案,儲存嗎?","photo.saveSucReturnToCheck":"儲存成功,請返回清單檢視","photo.setSourceFolder":"設定來源目錄","photo.noSourceSetAlert":"您沒有設定來源目錄,如需使用照片服務,請先設定來源目錄","movie.creator":"製作人","movie.deleteNfoPoster":"同時刪除nfo和海報","movie.crew":"演職人員","movie.myMedia":"我的媒材","movie.newTv":"最新電視劇","movie.newMovie":"最新電影","movie.defaultRaion":"首選轉碼解析度","movie.tvDeleteSure":"您正在刪除電視劇,電視劇所在的資料夾將被整體刪除,是否確認?","movie.tmdbLinkError":"TMDB連線失敗","movie.tmdbLinkSuc":"TMDB連線成功","movie.tmdbKeyAlert":"在https://www.themoviedb.org申請,如不填寫將使用預設Token","movie.tmdbUrlAlert":"請求TMDB資料的API位址,通常是https://api.tmdb.org或https://api.themoviedb.org,如果您不知道這是什麼意思,請不要修改","movie.infoDatabase":"首選刮削資料庫","movie.transcodeSetting":"轉碼設定","movie.subtitleSetting":"字幕設定","movie.playSetting":"播放設定","movie.longPressSpeed":"長按播放速率","movie.videoInfoSetting":"影音訊息設定","movie.score":"評分","movie.primaryLanguage":"首選字幕語言","movie.sureDeletePath":"要刪除路徑嗎?","movie.library":"我的收藏","movie.atleastOnePath":"至少選擇一條路徑","movie.libraryAuthUser":"能看到此合集的子使用者","movie.libraryUserAlert":"需在使用者管理中同步授權對應來源路徑,子使用者才可看到對應內容","movie.libraryIncludePath":"集合包含的來源路徑","movie.favorite":"收藏","movie.lastTime":"上次看到","movie.posterSize":"海報尺寸","movie.useInfo":"使用此資訊","movie.addCover":"新增封面","movie.deleteCover":"刪除封面","movie.noSourceSetAlert":"您沒有設定來源目錄,如需使用影片服務,請先設定來源目錄","movie.selectSubtitleInServer":"伺服器上的字幕","movie.subtitleNoSupport":"只支援.ass和.srt字幕","movie.coverFileNoSupport":"只支援jpeg和png","movie.pleaseInputCollectionName":"請輸入名稱","movie.pleaseCompleteFilterInfo":"請完善篩選條件","movie.yearLimit":"年份必須在1800-2200之間","movie.deleteNfoFirst":"如修改符合資訊,請先刪除nfo檔","setting.addExcludePathPlaceholder":"輸入排除關鍵字,如:/excludeDir","setting.addExcludePath":"新增排除路徑","setting.scan":"掃描變動","setting.other":"其他設定","setting.excludePath":"路徑排除","setting.excludeFilename":"檔名排除","setting.excludePathAlert":"路徑中含有這些關鍵字的將會被隱藏","setting.excludeFilenameAlert":"檔案名稱中含有這些關鍵字的將會被隱藏","photo.filterAlubm":"條件相簿","photo.filterInfo":"篩選條件","photo.atleastOnefilterInfo":"至少新增一個篩選條件","photo.goToSet":"去設定","photo.genningTinyImage":"產生縮圖...","photo.doingAiFaces":"正在進行人物辨識...","photo.doingAiClasses":"正在進行AI分類...","photo.doingPhash":"正在掃描重複照片...","movie.scrap":"重新刮削","movie.scrapAlert":"將對此媒體進行重新刮削nfo和封面等信息,原有nfo文件和封面等將被清除,確定嗎?","movie.scrapFailAlert":"刮削失敗,未找到媒體資訊,請嘗試手動搜尋","movie.clearNfo":"清理nfo檔案與封面","movie.clearNfoAlert":"將刪除資料夾下所有nfo檔案和封面圖片,並重新從網路刮削,是否確認?","movie.conditionFilter":"條件篩選","movie.year":"上映年份","movie.filterValue":"條件值","movie.smartCollectionExample":"例如:您希望篩選檔案名稱中包含\'abc\'的檔案,您可以在下方選擇[\'檔案名稱\'] [\'包含\'] [\'abc\'] ","movie.smartCollectionExampleB":"例如:您希望篩選年份大於2000年的的文件,您可以在下方選擇[\'年份\'] [\'大於\'] [\'2000\'] ","movie.smartCollectionExampleC":"根據電影資訊篩選需要在來源資料夾設定處開啟【電影資訊比對開關】 ","WhereToMove":"移動到哪?","movie.history":"觀看歷史","movie.addToCollection":"加入到影集","movie.noCollection":"還沒有影集,去創建一個吧","movie.addToCollectionFolderAlert":"將資料夾下所有影片移入影集?","movie.removeFromCollection":"從影集移出","movie.addCollection":"新增影集","movie.addSmartCollection":"新增智慧影集","movie.editCollection":"修改影集","movie.addCollectionPlaceholder":"輸入影集名稱","movie.collectionIsNeedPwd":"存取需要密碼","movie.collectionPwdPlaceholder":"輸入影集存取密碼","movie.addCollectionAlert":"新增影集,然後將影視庫中或檔案檢視中的影片移入影集【右鍵選單觸發】 ,影集中的檔案將不再顯示於影視庫中","movie.addLibraryAlert":"將多個不同來源資料夾【或來源資料夾的子資料夾】中的內容集中顯示","movie.addLibrary":"新增合輯","movie.addLibraryPlaceholder":"輸入合集名稱","movie.addSmartCollectionAlert":"根據條件篩選電影,電影將自動歸納到智慧影集中,智慧影集中的電影將仍顯示在影視庫","movie.clearHistory":"清空觀看歷史","movie.collection":"普通影集","movie.smartCollection":"智慧影集","movie.mediaType":"媒體類型","movie.parsingSubtitle":"正在解析字幕...","movie.movieSet":"影視設定","movie.relatedPictures":"資料夾內圖片","movie.indexDeleted":"索引已刪除","movie.movieFilter":"篩選電影","movie.showMatchName":"電影顯示名","movie.subtitlePreGen":"字幕預先擷取","movie.subtitlePreGenAlert":"將影片中的字幕軌預先提取到快取資料夾,播放的時候可以極大提升字幕載入速度","movie.subtitlePrenGenClose":"可在影視管理->設定中關閉","movie.useSameFolderPoster":"使用相同資料夾下的圖片作為海報","movie.selectSourceFolder":"篩選來源資料夾","movie.selectLanguage":"電影語言","movie.selectRegion":"發行地區","movie.selectGenres":"電影類型","successAndRefresh":"操作成功,請稍後刷新頁面查看結果","movie.privateVideoCannotSeek":"加密空間的視訊以串流的形式即時解密,暫不支援調節進度","movie.confirmMovieInfo":"使用[{movieName}]的資訊嗎?","album.youHaveNoAlbumYet":"您還沒有相簿,點擊上方按鈕可以新增","movie.confirClearMovieInfo":"電影或電視節目相關的nfo檔案,封面檔案將被刪除,是否確認?","movie.matchMovieInfo":"刮除搜尋","movie.channelLayout":"聲道佈局","movie.channels":"聲道","movie.movie":"電影","movie.tvdrama":"電視劇","movie.streamVideo":"影片","movie.otherTv":"集","movie.setAsTv":"標記為電視劇","movie.setAsMovie":"標記為電影","movie.setAsTvAlert":"標記為電視劇後,同資料夾下的影片將合併顯示","movie.streamAudio":"音訊","movie.mediaInfo":"視訊訊息","movie.recentPlay":"最近播放","movie.movieName":"名稱","movie.actors":"演員","movie.director":"導演","movie.alias":"又名","movie.genres":"風格","movie.resources":"資源類型","movie.enableInfoMatch":"自動從網路刮除媒體資訊與封面(.nfo檔)","movie.language":"語言","movie.storyline":"簡介","movie.releaseDate":"上映日期","movie.regions":"地區","movie.playRate":"播放速率","movie.continuePlay":"上次播放到{lastTime},是否繼續播放?","movie.play":"播放","movie.audioChannel":"聲道數","movie.noOtherChannel":"沒有其他聲道可以選擇","movie.alreadChangeChannelTo":"已將聲道數量切換為:{channels}","movie.nascabPlayer":"NasCab播放器播放","movie.browserPlayer":"瀏覽器播放器播放","movie.whatsDifferent":"有什麼差別?","movie.differentExplain":"在某些安卓瀏覽器上播放來源檔案時,瀏覽器會強行接管影片,導致您無法選擇音軌和字幕,選擇NasCab播放器為轉碼播放,使用瀏覽器播放器會嘗試播放來源檔案,推薦使用Chrome手機版或微信內建瀏覽器來避免可能出現的相容性問題","movie.upgradeAutoMatch":"升級版本,自動搭配電影海報與簡介","movie.playBegain":"從頭播放","movie.resumePlay":"繼續播放","movie.movieHome":"影視庫","movie.viewFolder":"文件視圖","movie.createTime":"建立時間","movie.filename":"檔名","movie.matchName":"符合名稱","movie.listView":"列表","movie.listViewView":"清單檢視","movie.gridView":"網格","movie.bitrate":"碼率","movie.resolution":"解析度","movie.displayRatio":"影片比例","movie.codecName":"格式","movie.frameRate":"幀率","movie.pixFmt":"像素格式","movie.subtitle":"字幕","movie.chooseSubtitle":"選擇字幕","movie.chooseAudio":"選擇音軌","movie.audioIndex":"音軌","movie.continueWatch":"上次看到","movie.openDuration":"片頭長度（秒） ","movie.endDuration":"片尾長度（秒） ","movie.sikpOpenEnd":"自動跳過片頭片尾","movie.skippingMovieTitle":"正在跳過片頭...","movie.skippingMovieEnd":"正在跳過片尾...","movie.searchPlaceHolder":"輸入檔名搜尋","movie.selectLocalSubtitles":"選擇本地的字幕","album.setPhotoAsCover":"是否將圖片設定為封面?","album.changeAlbumName":"修改相簿名字","album.noAlubmDesc":"智慧相簿可依指定地圖區域,智慧日期,裝置型號等為您篩選照片","album.noOrdinaryAlubmDesc":"普通相簿中的照片由您自己管理,您可以將時間軸中的照片添加到相簿中","album.addAAlbum":"新增相簿","album.addASmartAlbum":"新增智慧相簿","album.addAOrdinaryAlbum":"新增普通相簿","album.geoAlbum":"地理圍籬","album.geoAlbumDetail":"選定區域內拍攝的照片","album.aiDateAlbum":"智能日期","album.fixDate":"固定日期","album.sectionDate":"區間日期","album.aiDate":"智慧日期","album.dateType":"日期類型","album.memoryDate":"紀念日","album.holidays":"假日","album.modeAlbum":"裝置型號","album.everyYear":"每年","album.everyMonth":"每月","album.January":"1月","album.February":"2月","album.March":"3月","album.April":"4月","album.May":"5月","album.June":"6月","album.July":"7月","album.August":"8月","album.September":"9月","album.October":"10月","album.November":"11月","album.December":"12月","album.chooseDate":"請選擇一個日期","album.chooseDateSection":"請選擇日期區間","album.albumName":"相簿名字","album.pleaseInputAlbumName":"請輸入相簿名字","album.aiDateExample":"例如：您的生日是1月1日,您可以選擇\'每年1月1日\',這樣,每年1月1日拍攝的照片將位於此相簿中","album.fixDateExample":"例如：您可以設定顯示某個固定日期,或某個固定日期之前或之後的照片","album.sectionDateExample":"例如：您可以設定某個日期區間,在此區間拍攝的照片都會顯示在此相簿","album.geoAlbumExample":"在地圖上圈選一塊區域,在此區域內拍攝的照片將會出現在相簿中,將地圖拖動到您需要的區域,然後點擊\'開始圈選\'進行區域選擇,點擊地圖並拖曳滑鼠進行圈選","album.modeAlbumExample":"輸入一個裝置型號,此裝置拍攝的照片都會出現在相簿中","album.mode":"裝置型號","album.pleaseInputMode":"請輸入裝置型號","album.selectArea":"開始圈選","album.clearSelectArea":"清除已選取","album.takePhotoDate":"拍攝日期","album.pleaseSelectArea":"請選擇一個區域","album.eq":"當日","album.gt":"之後","album.lt":"之前","album.createAlbum":"建立相簿","file.multiDownloadAlert":"是否下載多個檔案？使用瀏覽器時,請允許彈出視窗,否則下載可能失敗,資料夾將以zip格式進行下載","file.cannotCreateHere":"無法在目前位置建立","file.sureClearLog":"要清除所有日誌嗎?","file.inputPath":"輸入路徑","file.deletePath":"刪除路徑","file.addLocalPath":"新增自訂路徑或磁碟機","file.addLocalPathAlert":"例如: G:\\\\或/A/B/C等","file.zip":"壓縮","file.ziped":"已壓縮","file.unzip":"解壓縮","file.zipAlert":"檔案/資料夾將被壓縮為zip格式,是否確認?","file.showType":"展示方式","file.switchShowType":"切換展示方式","file.fileCount":"{count}個檔案","file.cancelMutipleSelect":"取消多重選擇","file.recordSearchPlaceholder":"路徑/檔案名稱/使用者名稱","file.operator":"操作使用者","file.maxShowCountAlert":"最多顯示6000個檔案","file.paste":"貼上","file.openInNewWindow":"在新視窗開啟","file.failReason":"失敗原因","file.stateStarted":"已開始","file.stateStoped":"已終止","file.sourcePath":"來源路徑","file.targetPath":"目標路徑","file.operationType":"操作類型","file.attr":"屬性","file.inputNewFileName":"輸入新的名稱","file.rootPath":"根目錄","file.size":"大小","file.copy":"複製","file.copied":"{count}個檔案已複製","file.cutted":"{count}個檔案已剪下","file.cut":"剪下","file.cuttedSize":"已剪下","file.cutToHere":"剪下\'{path}\'到這裡嗎? ","file.copyToHere":"複製\'{path}\'到這裡嗎? ","file.canNotCopyToHere":"您不能複製檔案到目前目錄","file.sourceAndTargetSame":"目前位置已存在相同名稱的檔案/資料夾","file.fileDeleteSure":"檔案將被徹底刪除,無法復原,是否確認?","file.location":"路徑位置","file.modifyTime":"修改時間","file.accessTime":"存取時間","file.cannotCreate":"無法在這個位置建立資料夾","file.putInTrashSuc":"已放入回收站","file.putOutTrashSuc":"已移出回收站","file.deleteSuc":"檔案已刪除","file.fileDeleteSuc":"個檔案已成功刪除","file.trashBin":"回收站","file.delete":"刪除","file.deleteFail":"刪除失敗,檔案可能正在使用","file.deleteAll":"全部刪除","file.restore":"復原","file.restoreAll":"全部恢復","file.doAllRestore":"所有檔案全部恢復嗎?","file.doAllDelete":"所有來源檔案將被刪除,刪除後不可恢復,確認嗎?","file.confirmDelete":"檔案刪除後不可恢復,確認嗎?","file.selectIt":"選取","file.goDetail":"查看詳情","file.deleteForever":"徹底刪除","file.fileExifInfo":"檔案元資訊","file.resetTinyImg":"重置縮圖","file.chooseFolder":"選擇資料夾","file.clickChooseFolder":"點選選擇資料夾","file.returnLastPath":"返回上一級","file.currentPath":"當前目錄","file.doubleClickFolderEnter":"雙擊資料夾可進入下一層","file.resetTinyImgSuccess":"縮圖重置成功,下次刷新將使用最新生成的縮圖","file.noSelectAnything":"您沒有選擇任何路徑","file.sureSelectPath":"是否確認選擇路徑","file.sourcePathRoo":"來源資料夾根目錄","file.fileList":"檔案清單","file.collect":"收藏","file.recent":"最近","file.logs":"日誌","file.deleteAllCollect":"清空收藏夾嗎?","file.deleteAllRecent":"清空最近訪問嗎?","file.cancelCollect":"取消收藏","file.deleteRecent":"刪除此筆記錄","file.newFolder":"新建資料夾","file.check":"查看","file.collectSuccess":"收藏成功","file.deleteFromRecent":"從\'最近\'移除","file.clearCollect":"清除收藏夾","file.clearRecents":"清除最近瀏覽","file.sureClearCollect":"確認清空收藏夾嗎?","file.sureClearRecents":"確認清空最近瀏覽記錄嗎?","file.inputNewFolderName":"輸入新資料夾名稱","file.noFolderSelected":"您尚未選取任何資料夾","file.noAccessPower":"缺少資料夾寫入/讀取權限","video.helpContent":"空白鍵:切換暫停播放\\nCtrl:按住加速播放\\n方向鍵[左右]:快轉快退","video.speedingPlay":"加速播放...","video.rawPlayAlert":"如遇播放異常,請切換解析度轉碼播放","video.closeSubtitle":"關閉字幕","video.originalBitrate":"原碼率","video.volumn":"音量","video.duration":"長度","video.errorRetryPlay":"播放似乎出現問題,是否需要重新載入?","video.netErrorRetryPlay":"網路連線出現錯誤,是否重試?","video.subtitleUploadFailed":"字幕上傳失敗","video.code_raw":"原片","video.noMoreVideo":"沒有更多影片","video.autoPlayOn":"自動播放已開啟","video.autoPlayOff":"自動播放已關閉","video.videoIsNotSupportCoding":"目前瀏覽器不支援的[視訊/音訊/字幕]編碼","video.autoTranscodeStart":"原始檔案編碼不支援,已為您自動轉碼播放","video.playError":"播放出錯","video.whatIsBitate":"碼率即位元率,即每秒鐘傳輸的資料量,碼率越高越清晰,消耗的網路流量越大,轉碼伺服器的運算量也越大,請根據影片實際情況進行選擇","video.transcodingIsNotOnline":"轉碼服務沒有啟動,請檢查客戶端狀態","state.systemState":"系統狀態","state.natAlert":"在沒有公網IP的情況下,您可以透過設定內網穿透,從外網存取您的NasCab","state.ddnsAlert":"如果您有公網IP,可以透過設定DDNS和連接埠對映從外網存取您的NasCab","state.systemInfo":"系統資訊","state.appRootPath":"NasCab安裝目錄","state.run":"運行中","state.netStateNoFound":"未找到網路資訊","state.checkIfThePortInUse":"請檢查連接埠是否被其他服務佔用","state.runPort":"運行連接埠","state.apiServer":"基礎服務","state.fileShare":"檔案共用","state.lanUrl":"區域網路存取位址","state.ipv6url":"IPV6存取位址","state.ipv6alert":"在您的網路和路由器都支援並開啟ipv6的情況下,ipv6存取位址將在這裡顯示","state.serverState":"服務狀態","state.rtmpServer":"即時推流服務","state.flvServer":"即時轉碼服務","state.error":"未執行","state.port":"連接埠","state.lanIp":"區域網路存取位址","state.mem":"記憶體","state.os":"系統","Crop":"裁剪","ZoomIn":"放大","ZoomOut":"縮小","Hand":"拖曳","History":"歷史記錄","DeleteAll":"全部刪除","Delete":"刪除","Undo":"撤銷","Redo":"反撤銷","Reset":"重置","Flip":"鏡像","Rotate":"旋轉","Draw":"畫","Shape":"形狀標註","Icon":"圖示標註","Text":"文字標註","Mask":"遮罩","Filter":"濾鏡","Bold":"加粗","Italic":"斜體","Underline":"底線","Left":"左對齊","Center":"居中","Right":"右對齊","Color":"顏色","Text size":"字體大小","Custom":"自訂","Square":"正方形","Apply":"應用程式","Cancel":"取消","Flip X":"X軸","Flip Y":"Y軸","Range":"區間","Stroke":"描邊","Fill":"填滿","Circle":"圓","Triangle":"三角","Rectangle":"長方形","Free":"曲線","Straight":"直線","Arrow":"箭頭","Arrow-2":"箭頭2","Arrow-3":"箭頭3","Star-1":"星星1","Star-2":"星星2","Polygon":"多邊形","Location":"定位","Heart":"心形","Bubble":"氣泡","Custom icon":"自訂圖示","Load Mask Image":"載入蒙層圖片","Grayscale":"灰階","Blur":"模糊","Sharpen":"銳化","Emboss":"浮雕","Remove White":"除去白色","Distance":"距離","Brightness":"亮度","Noise":"噪音","Color Filter":"彩色濾鏡","Sepia":"褐色","Sepia2":"棕色2","Invert":"負片","Pixelate":"像素化","Threshold":"閾值","Tint":"色調","Multiply":"正片疊底","Blend":"混色","setting.custom":"個人化","setting.vacuumDb":"碎片清理","setting.vacuumDbAlert":"清理資料庫碎片可以壓縮資料庫中未使用空間,減少資料庫檔案大小,是否立刻清理?","setting.aiFaceResetAlert":"重置人臉辨識後,將重新觸發人臉掃描,現有掃描結果將清空,是否確認?","setting.similarPhotoResetAlert":"重置將觸發重新掃描重複照片,是否確認?","setting.systemSetting":"系統設定","setting.resetIndex":"重設索引","setting.resetIndexAlert":"此功能將刪除所有已掃描的索引資料,並清除來源資料夾記錄,非必要情況下無需使用此功能,確認重設嗎?","setting.resetTinyImage":"重置縮圖","setting.resetTinyImageAlert":"此功能將刪除所有已經產生的縮圖,並重新生成,非必要情況下無需使用此功能,確認重置縮圖嗎?","login.unlockScreen":"解鎖畫面","login.checkConChannel":"選擇連線通道","login.saveUsernamePwd":"下次自動登入","login.forgetAnswer":"我忘了密保答案和使用者名稱","login.forgetAnswerAlert":"如果您忘記了密保答案和使用者名稱,可以透過刪除NasCab本地資料庫來重置,資料庫目錄位於使用者資料目錄下的database資料夾,預設位置是:{dbPath}","upload.clearRecord":"清空記錄","upload.onFileNameConflict":"當檔案名稱衝突","upload.skip":"跳過","upload.over":"覆蓋","upload.uploadType":"上傳類型","upload.files":"檔案","upload.folder":"資料夾","upload.rename":"重新命名","upload.filenameTooLong":"檔案名稱長度超過限制","upload.dropFilesUpload":"點擊或拖曳檔案上傳","upload.selectFile":"選擇檔案","upload.selectFolder":"選擇","upload.selectTargetFolder":"選擇上傳目標資料夾","upload.targetFolder":"上傳目標資料夾","upload.noSelected":"未選擇","upload.upload":"上傳","upload.quickUpload":"快速上傳","upload.uploadFail":"上傳失敗","upload.recentUseFolder":"最近使用","upload.useRecentFolder":"使用{recentFolder}作為上傳資料夾嗎?","coco.person":"人們","coco.bicycle":"自行車","coco.car":"車輛","coco.motorcycle":"摩托車","coco.airplane":"飛機/飛行物","coco.bus":"巴士","coco.train":"火車","coco.truck":"卡車/越野車","coco.boat":"船","coco.traffic light":"交通燈","coco.fire hydrant":"消防栓","coco.stop sign":"停車標誌","coco.parking meter":"記時器","coco.bench":"長椅","coco.bird":"鳥/飛行物","coco.cat":"貓科動物","coco.dog":"犬科動物","coco.horse":"馬/駱駝","coco.sheep":"羊","coco.cow":"牛","coco.elephant":"大象","coco.bear":"野生動物","coco.zebra":"斑馬","coco.giraffe":"長頸鹿","coco.backpack":"背包","coco.umbrella":"傘","coco.handbag":"手提包","coco.tie":"領帶","coco.suitcase":"箱子/盒子","coco.frisbee":"飛盤","coco.skis":"滑雪","coco.snowboard":"滑雪板","coco.sports ball":"球類","coco.kite":"風箏","coco.baseball bat":"棒球棒/棒球","coco.baseball glove":"棒球手套","coco.skateboard":"滑板","coco.surfboard":"衝浪/板","coco.tennis racket":"網球拍","coco.bottle":"瓶子","coco.wine glass":"酒杯","coco.cup":"杯","coco.fork":"叉","coco.knife":"刀","coco.spoon":"湯匙","coco.bowl":"碗盤/菜餚","coco.banana":"香蕉/月牙形","coco.apple":"蘋果","coco.sandwich":"夾心麵包/三明治","coco.orange":"橙","coco.broccoli":"綠花椰菜/花椰菜","coco.carrot":"胡蘿蔔","coco.hot dog":"熱狗/麵包","coco.pizza":"披薩/餡餅","coco.donut":"麵包圈/甜甜圈","coco.cake":"蛋糕/甜點","coco.chair":"椅子/凳子","coco.couch":"沙發/長椅/台","coco.potted plant":"盆栽/植物","coco.bed":"床/岩層","coco.dining table":"聚餐","coco.toilet":"馬桶/祭壇","coco.tv":"電視/畫框","coco.laptop":"筆記本/顯示器","coco.mouse":"滑鼠","coco.remote":"遙控","coco.keyboard":"鍵盤","coco.cell phone":"手機","coco.oven":"烤爐","coco.toaster":"麵包爐","coco.sink":"水槽","coco.refrigerator":"冰箱","coco.book":"書/紙","coco.clock":"鐘錶","coco.vase":"花瓶","coco.scissors":"剪刀","coco.teddy bear":"玩偶","coco.hair drier":"吹風機","coco.toothbrush":"牙刷"}')},"22a4":function(e,t,i){},2439:function(e,t,i){i("8da8")},"25a9":function(e,t,i){i("b0c0");i("99af"),i("a434"),i("3c65"),i("d3b7");var a=i("be3b"),n=i("ccdb"),o=(i("19cb"),i("e86f")),n={props:{spaceId:{default:"",type:String}},components:{fileSelect:n.default,fileSelectBar:o.a},computed:{},data:function(){return{saveByDate:!1,uploadType:"files",uploadUrl:"",currentUploadFile:null,overMode:"skip",uploadList:[],recordType:"all",targetPath:"",lastUsePath:"",uploadSucCount:0,showChooseFolder:!1}},created:function(){},mounted:function(){this.lastUsePath=localStorage.getItem("lastUsePath")},methods:{onSaveByDateChange:function(e){this.saveByDate&&!localStorage.saveByDateAlert&&(this.showVsAlertDialog(this.$t("common.alert"),this.$t("saveByDateHelp")),localStorage.setItem("saveByDateAlert",1))},onCloseUpload:function(){this.spaceId?this.$emit("onCloseUpload"):this.switchUpload()},retryUpload:function(e){for(var t=this.uploadList.length-1;0<=t;t--)this.uploadList[t]==e&&this.uploadList.splice(t,1);"error"==e.status&&e.uploadFile&&this.$refs.upload.addUploadFile(e.uploadFile)},clearRecord:function(){this.uploadList=[]},onRecordTypeSelect:function(e){this.recordType=e},onBeforeUpload:function(o){var s=this;return new Promise(function(t,i){var e,n;return s.$store.state.token?".DS_Store"==o.name?i():120<o.name.length?(s.uploadList.unshift({status:"error",name:s.$t("upload.filenameTooLong")}),i()):s.targetPath||s.spaceId?(e=a.a.uploadUrl()+"&savePath=".concat(a.a.encodePath(s.targetPath),"&overMode=").concat(s.overMode),s.saveByDate&&(e+="&saveByDate=1"),o&&o.lastModified&&0!=o.lastModified&&(n=o.lastModified,10==((n=13==(o.lastModified+"").length?Math.floor(n/1e3):n)+"").length)&&(e=e+"&ctime="+n),o.webkitRelativePath&&(e+="&relativePath=".concat(a.a.encodePath(o.webkitRelativePath))),s.spaceId?e=a.a.privateSpaceUploadUrl()+"&spaceId=".concat(s.spaceId,"&overMode=over&spaceToken=").concat(s.$store.state.privateSpace[s.spaceId],"&encodeFilename=").concat(a.a.encodePath(o.name)):e+="&encodeFilename=".concat(a.a.encodePath(o.name)),s.uploadUrl=e,o.uploadUrl=e,s.saveByDate||s.spaceId||"skip"!=s.overMode?t(o):void s.detectFileExist(o.webkitRelativePath||o.name,function(e){return e?(s.uploadList.unshift({status:"error",name:s.$t("common.fileExist")+":"+o.name}),i()):t(o)})):(s.uploadList.unshift({status:"error",name:s.$t("upload.noTargetPath")}),i()):(s.uploadList.unshift({status:"error",name:s.$t("common.tokenExpire")}),i())})},handleRemove:function(e,t){var i=!1;if(e.uid&&"uploading"==e.status&&e.percentage<95)for(var n in this.$refs.upload.fileList)this.$refs.upload.fileList[n].uid==e.uid&&this.$refs.upload.fileList[n].xhr&&(this.$refs.upload.fileList[n].xhr.abort(),i=!0);this.uploadList.splice(t,1),i&&(t=this.$t("common.cancelled"),e.name&&(t+=":"+e.name),this.uploadList.unshift({status:"error",name:t}))},onUploadSuccess:function(e,t,i,n){for(var o in this.uploadList)if(this.uploadList[o].uid==t.uid){this.uploadList.splice(o,1);break}e.code?this.uploadList.unshift({status:"error",name:t.name+":"+e.message,uploadFile:n}):(this.$emit("fileUploaded",t),this.uploadList.unshift(t))},onUploadProgress:function(e,t,i){for(var n in this.uploadList)if(this.uploadList[n].uid==t.uid)return this.uploadList[n].percentage=t.percentage,void(this.uploadList[n].file=t);this.uploadList.unshift({status:"uploading",name:t.name,percentage:1,uid:t.uid,file:t})},onUploadError:function(e,t,i){for(var n in this.uploadList)if(this.uploadList[n].uid==i.uid){this.uploadList.splice(n,1);break}this.uploadList.unshift({status:"error",name:i?i.name+":"+this.$t("upload.uploadFail"):this.$t("upload.uploadFail"),uploadFile:i})},selectRecrentFolder:function(){var t=this;this.api.post("/api/uploadApi/folderExist",{savePath:this.lastUsePath}).then(function(e){e.code||t.showVsConfirmDialog(t.$t("common.confirm"),t.$t("upload.useRecentFolder",{recentFolder:t.lastUsePath}),function(){t.onSelectPath(t.lastUsePath)})}).catch(function(e){})},selectPath:function(){this.showChooseFolder=!0},detectFileExist:function(e,t){this.api.post("/api/file/fileExist",{hideLoading:!0,folderPath:a.a.encodePath(this.targetPath),fileName:e}).then(function(e){t&&t(1==e.code)}).catch(function(e){t&&t(1==e.code)})},onSelectPath:function(t){var i=this;this.api.post("/api/file/checkFolderPower",{checkPath:a.a.encodePath(t),checkPower:"all"}).then(function(e){e.code||(e.access?(i.showChooseFolder=!1,i.targetPath=t,localStorage.setItem("lastUsePath",t)):i.showVsNotification(i.$t("file.noAccessPower")))}).catch(function(e){})}}},o=(i("6b5d"),i("2877")),o=Object(o.a)(n,function(){var n=this,e=n._self._c;return e("div",{staticClass:"app-upload-root"},[n.spaceId?e("div",{staticStyle:{"margin-bottom":"10px",width:"100%","flex-direction":"column",display:"flex","justify-content":"center","align-items":"center","padding-left":"20px","padding-right":"20px","padding-top":"20px"}},[n._v(" "+n._s(n.$t("private.uploadFileToSpace"))+" ")]):n._e(),n.spaceId?n._e():e("div",{staticStyle:{"margin-bottom":"10px",width:"100%","flex-direction":"column",display:"flex","justify-content":"center","align-items":"center","padding-left":"20px","padding-right":"20px","padding-top":"20px"}},[n.targetPath?e("div",{staticStyle:{"font-weight":"bold"}},[n._v(" "+n._s(n.$t("upload.targetFolder")+" : ")+" ")]):n._e(),n.targetPath?e("Tag",{staticStyle:{"border-radius":"20px","margin-bottom":"10px"},attrs:{type:"border",closable:""},on:{"on-close":function(e){n.targetPath=""}}},[n._v(n._s(n.targetPath))]):e("Button",{staticStyle:{"border-radius":"20px"},attrs:{type:"dashed"},on:{click:n.selectPath}},[n._v(n._s(n.$t("upload.selectTargetFolder")))]),!n.lastUsePath||n.targetPath||n.spaceId?n._e():e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px","padding-left":"10px","padding-right":"10px",display:"flex","align-items":"center","flex-direction":"row","font-weight":"bold"}},[e("div",{staticStyle:{"flex-shrink":"0"}},[n._v(n._s(n.$t("upload.recentUseFolder"))+":")]),e("a",{on:{click:n.selectRecrentFolder}},[n._v(n._s(n.lastUsePath))])])],1),n.targetPath&&!n.spaceId?e("div",{staticStyle:{display:"flex","flex-direction":"row","margin-bottom":"20px","padding-left":"20px","align-items":"center"}},[e("div",{staticStyle:{"margin-right":"10px"}},[n._v(n._s(n.$t("upload.onFileNameConflict")+" : "))]),e("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"skip"},model:{value:n.overMode,callback:function(e){n.overMode=e},expression:"overMode"}},[n._v(" "+n._s(n.$t("upload.skip"))+" ")]),e("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"over"},model:{value:n.overMode,callback:function(e){n.overMode=e},expression:"overMode"}},[n._v(" "+n._s(n.$t("upload.over"))+" ")]),e("vs-radio",{attrs:{val:"rename"},model:{value:n.overMode,callback:function(e){n.overMode=e},expression:"overMode"}},[n._v(" "+n._s(n.$t("upload.rename"))+" ")])],1):n._e(),n.targetPath&&!n.spaceId?e("div",{staticStyle:{display:"flex","flex-direction":"row","margin-bottom":"20px","padding-left":"20px","align-items":"center"}},[e("div",{staticStyle:{"margin-right":"10px"}},[n._v(n._s(n.$t("saveByDate")+" : "))]),e("i-switch",{on:{"on-change":n.onSaveByDateChange},model:{value:n.saveByDate,callback:function(e){n.saveByDate=e},expression:"saveByDate"}}),e("Icon",{staticStyle:{"margin-left":"10px","font-size":"20px",cursor:"pointer"},attrs:{type:"ios-help-circle-outline"},on:{click:function(e){n.showVsAlertDialog(n.$t("common.alert"),n.$t("saveByDateHelp"))}}})],1):n._e(),!n.targetPath&&!n.spaceId||n.isMobile?n._e():e("div",{staticStyle:{display:"flex","flex-direction":"row","margin-bottom":"20px","padding-left":"20px","align-items":"center"}},[e("div",{staticStyle:{"margin-right":"10px"}},[n._v(n._s(n.$t("upload.uploadType")+" : "))]),e("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"files"},model:{value:n.uploadType,callback:function(e){n.uploadType=e},expression:"uploadType"}},[n._v(" "+n._s(n.$t("upload.files"))+" ")]),e("vs-radio",{staticStyle:{"margin-right":"10px"},attrs:{val:"folder"},model:{value:n.uploadType,callback:function(e){n.uploadType=e},expression:"uploadType"}},[n._v(" "+n._s(n.$t("upload.folder"))+" ")])],1),"files"==n.uploadType?e("Upload",{directives:[{name:"show",rawName:"v-show",value:n.targetPath||n.spaceId,expression:"targetPath || spaceId"}],ref:"upload",attrs:{action:n.uploadUrl,"show-upload-list":!1,"on-error":n.onUploadError,"on-success":n.onUploadSuccess,"before-upload":n.onBeforeUpload,"on-progress":n.onUploadProgress,multiple:"",type:"drag",webkitdirectory:!1}},[e("div",{staticStyle:{padding:"20px 0",position:"relative"}},[e("img",{staticStyle:{width:"45px"},attrs:{src:i("c8af")}}),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer"}},[e("p",[n._v(n._s(this.$t("upload.dropFilesUpload")))]),0<n.uploadList.length?e("Button",{staticStyle:{"margin-left":"3px","border-radius":"15px"},attrs:{size:"small"},on:{click:[function(e){e.stopPropagation(),n.uploadList=[]},function(e){n.uploadList=[]}]}},[n._v(n._s(n.$t("upload.clearRecord")))]):n._e()],1)])]):n._e(),"folder"==n.uploadType?e("Upload",{directives:[{name:"show",rawName:"v-show",value:n.targetPath||n.spaceId,expression:"targetPath || spaceId"}],ref:"upload",attrs:{action:n.uploadUrl,"show-upload-list":!1,"on-error":n.onUploadError,"on-success":n.onUploadSuccess,"before-upload":n.onBeforeUpload,"on-progress":n.onUploadProgress,multiple:"",type:"select",webkitdirectory:!0}},[e("div",{staticStyle:{padding:"20px 0",position:"relative"}},[e("Icon",{staticStyle:{color:"#3399ff",cursor:"pointer"},attrs:{type:"ios-cloud-upload",size:"52"}}),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("p",[n._v(n._s(this.$t("file.clickChooseFolder")))]),0<n.uploadList.length?e("Button",{staticStyle:{"margin-left":"3px","border-radius":"10px"},attrs:{size:"small"},on:{click:[function(e){return e.stopPropagation(),n.clearRecord.apply(null,arguments)},function(e){n.uploadList=[]}]}},[n._v(n._s(n.$t("upload.clearRecord")))]):n._e()],1)],1)]):n._e(),e("div",{staticStyle:{width:"100%","max-height":"300px","padding-bottom":"20px",display:"flex","flex-direction":"column","align-items":"center"}},[n.uploadList&&0<n.uploadList.length?e("Menu",{staticStyle:{width:"100%",display:"flex","justify-content":"space-around"},attrs:{mode:"horizontal","active-name":"all"},on:{"on-select":n.onRecordTypeSelect}},[e("MenuItem",{attrs:{name:"all"}},[n._v(" "+n._s(n.$t("common.all"))+"["+n._s(n.uploadList.length)+"] ")]),e("MenuItem",{attrs:{name:"uploading"}},[n._v(" "+n._s(n.$t("common.uploading"))+" ")]),e("MenuItem",{attrs:{name:"finished"}},[n._v(" "+n._s(n.$t("common.succesed"))+" ")]),e("MenuItem",{attrs:{name:"error"}},[n._v(" "+n._s(n.$t("common.faild"))+" ")])],1):n._e(),e("div",{staticStyle:{overflow:"auto",height:"100%",width:"100%"}},n._l(n.uploadList,function(t,i){return t.status==n.recordType||"all"==n.recordType?e("div",{staticStyle:{padding:"10px",display:"flex","flex-direction":"column","border-bottom":"1px solid #eee",width:"100%"}},[e("div",{staticStyle:{display:"flex",width:"100%","align-items":"center","justify-content":"space-between"}},["finished"==t.status?e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-checkmark-circle",size:"20",color:"green"}}):n._e(),"error"==t.status?e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"ios-close-circle",size:"20",color:"red"}}):n._e(),e("div",{class:{uploadError:"error"==t.status},staticStyle:{"text-align":"left",flex:"1","word-break":"break-all"}},[n._v(n._s(t.name))]),"error"==t.status?e("Icon",{staticStyle:{"flex-shrink":"0",cursor:"pointer","margin-right":"5px"},attrs:{type:"md-refresh",size:"20"},on:{click:function(e){return n.retryUpload(t)}}}):n._e(),e("Icon",{staticStyle:{"flex-shrink":"0",cursor:"pointer"},attrs:{type:"md-trash",size:"20"},on:{click:function(e){return n.handleRemove(t,i)}}})],1),"uploading"==t.status?e("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):n._e()],1):n._e()}),0)],1),e("vs-dialog",{attrs:{"prevent-close":"",scroll:"","full-screen":n.isMobile},scopedSlots:n._u([{key:"header",fn:function(){return[e("h4",{staticStyle:{"font-size":"16px"}},[n._v(" "+n._s(n.$t("file.chooseFolder")+"["+n.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[e("file-select-bar",{on:{back:function(e){return n.$refs.fileSelector.goBack()},select:function(e){return n.$refs.fileSelector.onSelect()},create:function(e){return n.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:n.showChooseFolder,callback:function(e){n.showChooseFolder=e},expression:"showChooseFolder"}},[n.showChooseFolder?e("file-select",{ref:"fileSelector",attrs:{parent:"root",type:2},on:{onSelect:n.onSelectPath,onCancel:function(e){n.showChooseFolder=!1}}}):n._e()],1),e("vs-button",{staticClass:"closs-btn",attrs:{icon:""},on:{click:n.onCloseUpload}},[e("Icon",{attrs:{type:"md-close-circle",color:"#386DF2",size:"25"}})],1)],1)},[],!1,null,"c9b6a824",null);t.a=o.exports},"25d4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAABC1BMVEVHcEznm4rkjHXnmojpn47lk4DlkXzRRibPRCTTRSTpopHTRiXkkHrlkn7mlYPji3XjjnrTRiXTRiXjhG3TRSXonYzji3jnl4XjinPQQSXTRSXRRiTTRSXTRiXSRiXTRiXSRSXTRSbnmIaDKhbmlYLih3LTRibSRSXSRSXWdFneiXPTRiXjiHPTRiXliHXTRibljXfWRCTgiXDTRiXTRSXTRibTRSbSRCedWEjTRibpo5P///9WHBDddFyVMBr10cnllYONTD50KBazOiB9NSSiSjeqWUflkHzEcF7ihW3nmYimUT7fd1/OalRcJBisX07MemaFQDCKSDjlk4C+V0DjiXR4LRvTi3q3RCp64g7hAAAAOXRSTlMA5Wbc87OdXjBB+pGSqcRXh/G0EXLrc81KCSsjfMeI506o1WS7L7wdZwQl3x3UN858E0CdVzr5MnKuHxNbAAANoklEQVR4AezV6U6jRxPF8df2YyOMNzBgv0Amg2WIIIRYZJQo5xPSfIgi5f6vJwtZZobFfrqr+nRJ538JdX7q/l9+P+29u/zq25/VU32Dkwbt7Pj6R/b5K+txzB6F0zcX37NPX2GPGLCHIbR/yb57nT0CM/Y2xS0csa9ea39owIY9T9HO9S682p8a0GUvVLBj9sVr7i8NmLI3KtX5NfvgVfekoVmyZyrTh0P2vevuSQOae/ZQJbpgX7v2/taAzi17Kv8O2Meuvn80oDdnj+XdD+xb19+/GrBiryUM9P7TgAl7L9f0TezQJxqwZi/m2AX70CH6VAP67M3ces++c4w+04ABezWnzg/Zd47R5xowYu/m0xH7zEH6QgNm7OE8OmZfOUpfasApezr7ztlHDtMzDeiyxzPvkn3kMD3XMJyy1zNun33jOD3XgOaBvZ9t1+wbx+kFDTi5Yg9omZ6G3XtJAzp37AkNO2KfOFAvasDqhr2hWWfsC0fqZQ1YsEc06x37wpF6RQMm7BWtOmRfOFKvaUCfPaNN++wDh+pVDRizhzTpgH3gUL2uAQP2khZ9xz5wqN7QgBF7yvzO2feN1VsasGGPmd0e+76xelMDTtlr5nbAvm+s3taAKXvOzK7Z943VFg3DJXvPvL5m3zdWWzSguWcPmtP/2ecN1jYN6NyyJ83ojH3eYG3VgN6cvWl6++zzBmu7BqzYm6b3nn3eYO2gAQv2qMl9YJ83WLtowJq9amp77PMGaycN6LNnlYYi7aYBY/au0lCiHTVgxB5WGgq0qwbM2MtKg387a8CGPa00uLe7BnTZ20qDdy00DKfscaXBuRYa0CzZ60qDb2004OSKPa80uNZKAzp37H2lwbN2GtCbsweWBsdaasCCPbA0ONZWAybshaXBr9YasGZPLA1utdeAMXtjafAqQQMG7JGlwakUDRixV5YGn5I0YMOeWRpcStOAU/bO0uBRogZ02UNLg0OpGoZL9tLSYF+qBjQP7KmlwbxkDTi5Ym8tDdala0Dvjj22NBiXoQGrG/ba0mBbjgYs2GtLg21ZGrBmzy0NpuVpQJ+9tzRYlqkBY/bg0mBYrgYM2ItLg13ZGjBjTy4NZuVrwIa9uTRYZaABXfbo0mCUhQZM2atLg00mGpole3ZpMMlEA5p79u7SYJGNBnRu2cNLg0FGGtCbs5eXhvysNGDFXl4a8jPTgAl7emnIzk4D1uztpSE3Qw3os8eXhswsNWDAXl8a8jLVgBF7fmnIylYDZuz9pSEnYw04ZQOQhoysNaDLFiAN6ZlrGE7ZBKQhOXMNaB7YBqQhNXsNOLliI5CGxBw0oHPHViANaXlowOqGzUAaknLRgAWbgTQk5aMBE7YDaUjJSQP6bAjSkJCXBozZEqShfW4aMGBTkIbW+WnAiG1BGtrmqAEbNgZpaJmnBpxKQ6xcNWAqDaHy1TBcSkOkfDWguZeGQDlrQOdWGuLkrQG9uTSEyV0DVtIQJn8NWEhDlApowFoaglRCA/rSEKMiGjCWhhCV0YCRNESokAbMpCFApTRgIw31V0wDutJQfeU0DKfSUHvlNKBZSkPlFdSAkytpqLuSGtC5k4aqK6oBvbk01NwvRTVgIQ01V1gDJtJQbx9/LawBa2moto+/ldaAsTSQ+529eutpG4kCOC5u0Qpxk1Zcnll4YIVWiKfNZGxTTwjhVkq5tN//k9S0bg8EHE8s8DmQ/199qz1Ec36eqfyXXrauwXXQYLRw274Gt4QGm4XvChrcARpMFlINDW4DDSbL71Q4zKLBYvmFiobFLTQYLL9V0eDmD9Fgr7Svo8Gt76LBXCE/UuIwt48Gc/mhkga3vYcGa+XXWhrcJhqslednahx20GCs4C/VNLgFNBgr7+tpcMtosFXwd4ocOmgwVfDnihrcGhpMlfsbTQ4HaLBU8ANNDW4WDZZSPhzcKhoMFfy5qob5LTQYKvffdDn8hwY7Bd9X1eBm/kWDnXJ/qcth7m80mCl4f6LLYRsNdgr+WFeDW0GDnVJ/pcxhBw12yv1QmcMCGswUvD9V5tBBg5lSnx8pc1hCg5lSf6/NYQ0NZkp9/0aZwwYazFRwOFHmMIsGMxWXxamuhsVVNJgp9f5Kl8P8IRrMVHA41uWwvosGMxUc8gtVDjP7aDBT8MXxcKLJYXsPDXYqjgd/dabIYRMNhnrg4AdHehxW0GCoh9uiuC++qHFYQIOlfh4P/n5wqsRhGQ2WSn958PfnQ5Uro4MGU5Ucij4fD4at3xpLaLCVeChV9K+/fmqt/9FgrFEPbfYPGsyl5wENFtPygAabpTkaSAoKBwQaDJe2DQINtmsXBBrsl7bWX2igP6GBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIAkNJKGBJDSQhAaS0EASGkhCA0loIOmDaUiqeo01kuZv1qW9b2UfS0PSG1eWuZh979UsUr1Gr3HaG1c2TRrKcdaJiFkjSxq+iYb2SuL2PhvrIXKNFxZBw3vUUDTGQ/QarvGbaGijeA1jzocJhugav4mGt28CDS982mWTrJE1fhMNb95EGqo49BpzQMM71jDyZf9uwjWSpm+i4Y1LqgedJC7LRofw4ulQPaPkYZExk0wqkmerntDeuLKp0VA+kNVzqPtiR0W42p9l7gyoaso0FLm6Izpidk9R1X7ZaFApRkO3m43/sKNm99hUVvez0KBSnIYno3z+v3GzcxPcFWhQKVLD41E+n2Tk7BwaPoiG7itoeMyhG/vXtDeopinVMG6SsbNLog8HNMT3g706ym0UhsIwuq46stj/rmbefkID3FBr3CHnU99ANxX3YAb+lTUcHQ7l3TUabqKhDdVQ/i7NfkAn0XBdQ/lOGqZU13BwJw0fp+FrhIaFhrtpeNSvbIuGfvG3flk00JBooCHRQEOiYdm98oaG4m/R8C+ra+gjNDxooOHtO2mYUl1DDvm2vVTeXfnXaJjSFQ19e6m8u4WGe2joBwu6oKEf30jDlMoajl7r6u5aeck0TKmqYXU0fH+tq7t7lD9LNEypqmEZoOFwxqWJ8/tIDcvha13bXasfDTTMqaZhheHVekq7W2E4PRpomFNFw3qPj/bihsLunmacHg00zOlcw9MeX991urv2POT0aKBhTscaelt/I3YXebi7vqHw+nh5Z+Jv6q4aHu2pZdlC2H+r35tRwEDDnPqLde23c8S/NaOCgYY59QEYvoZjoGFOfcQeR1ugYVJlDa3vDxmOgYY5FTW0wz3WZixlCzRMqo94pX96thxNnP2ATvosDUsrrHHEjL2Jsx/QSXfV8Hdnm3p1h+svyrcZ/cq/RcOUVhquDxm/OxqmRMPPouFbNNCQaKAh0UBDooGGRAMNiQYaEg00JBpoSDTQkGigIdFAQ6KBhkQDDYkGGhINNCQaaEg00JBooCHRQEOigYZEAw2JBhoSDTQkGmhINNCQaKAh0UBDooGGRMNNNOhn0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0aBEgxINSjQo0fDf9oe9OkZtKwCiKPrLpEy6JIqQK2NUCIG9/625vAv4Y8bFOcwGHlyYLzg1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNRA1EDUQNZCBGt63NzDl7/kabtsbmPJ6voaP7Q1M+XO+hn/bGxjy63wMx9v2CIY8Bmo47tsrmPEyUcPv7RXMuEzUcN1ewYzbRA237RXMeE7U8NxewYjHRAzH8X97BxOuMzVctncw4edMDT+2dzDgPhPDt38Vn+3VzWqDQBTF8bOz4kpxYxM1buIUCSJi8v5vVkN2pR/GueOp5PzwBY78matvCaNDAeTsJeLvYFVDcWVPEV+NVQxAwt4ivmK7Glr2FvGU2cWgx2H3DJ8GYEjZc8THaBkDkLP3iIe0ta0BJXuRrOeMY8CNvUhWa6xj0K3Yr26wrwEje5WsEweIAR8le5asEYWIAWhr9jB5Xh4mBuBNOezOMVQMwE057EzAGID3C3uePMOFjAEYzuyBslh6ChvDLGFvlIXOh+AxAFHKnilLVBu0MGsb9lD5UxlvE8Ps1LPHyq9qt1kLd65jD5YfXY/FpjHMopI9Wr51yTdv4W5KavZy+aIeY0YKD3GlF+L/KCtiCg/F5JKs79h/4qV1fZa4yf9AfALoRoWdH3HSlwAAAABJRU5ErkJggg=="},2888:function(e,t,i){},"2a32":function(e,t,i){},"2a7b":function(e,t,i){i("8e87")},"2b90":function(e,t,i){i("515b")},"2cc5":function(e,t,i){i("99af"),i("fb6a"),i("e9c4"),i("e25e"),t.a={onLoginSuc:function(e){try{android&&android.onLoginSuc(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onLoginSuc","usernameAndPwd":"'.concat(e,'"}'))}catch(e){}},onChooseOtherServer:function(){try{android&&android.onChooseOtherServer()}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onChooseOtherServer"}')}catch(e){}},onClickMobileSync:function(e){try{android&&android.onClickMobileSync(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onClickMobileSync","token":"'.concat(e,'"}'))}catch(e){}},onClickUpload:function(e,t){try{android&&(e?android.onClickUploadToPath(e):android.onClickUpload())}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage(JSON.stringify({func:"onClickUpload",uploadTargetPath:e||"",token:t}))}catch(e){}},onClickSpaceUpload:function(e,t){try{android&&android.onClickSpaceUpload(e,t)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onClickSpaceUpload","spaceId":"'.concat(e,'","spaceToken":"').concat(t,'"}'))}catch(e){}},onOpenNewWebViewByPath:function(e,t){try{android&&android.onOpenNewWebViewByPath(e,t)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onOpenNewWebViewByPath","path":"'.concat(e,'","title":"').concat(t,'"}'))}catch(e){}},setScreenDirection:function(e){try{android&&android.setScreenDirection(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "setScreenDirection","direction":"'.concat(e,'"}'))}catch(e){}},setIsShowNavBar:function(e){try{android&&android.setIsShowNavBar(e)}catch(e){}},downloadFiles:function(e){try{if(!android)return null;android.downloadFiles(e)}catch(e){}try{if(!webkit||!webkit.messageHandlers)return null;webkit.messageHandlers.bridge.postMessage('{"func": "downloadFiles","downloadFilesJson":'.concat(e,"}"))}catch(e){}},openInBrowser:function(e){try{android&&android.openInBrowser(e)}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "openInBrowser","url":"'.concat(e,'"}'))}catch(e){}},onClickLogout:function(){try{android&&android.onClickLogout()}catch(e){}try{webkit&&webkit.messageHandlers&&webkit.messageHandlers.bridge.postMessage('{"func": "onClickLogout"}')}catch(e){}},playVideo:function(e){e.playIndex=parseInt(e.playIndex),100<e.playList.length&&(e.playList,e.playList=e.playList.slice(e.playIndex,e.playIndex+100),e.playIndex=0);e=JSON.stringify(e);try{window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.videoPlayerBridge?window.webkit.messageHandlers.videoPlayerBridge.postMessage(e):android&&android.playVideo(e)}catch(e){}}}},"2fa5":function(e,t,i){i("2888")},3:function(e,t){},"30bf":function(e,t,i){},"337a":function(e,t,i){i("d1c5")},"341e":function(e,t,i){var n={"./1.jpg":"bf44","./10.jpg":"75b6","./11.jpg":"9345","./12.jpg":"af5d","./13.jpg":"9ab6","./14.jpg":"902c","./15.jpg":"522e","./16.jpg":"a5cd","./2.jpg":"5bfa","./3.jpg":"c6fd","./4.jpg":"4146","./5.jpg":"155f","./6.jpg":"637e","./7.jpg":"e5b3","./8.jpg":"c1f4","./9.jpg":"cae4"};function o(e){e=s(e);return i(e)}function s(e){if(i.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(n)},o.resolve=s,(e.exports=o).id="341e"},"344c":function(e,t,i){i("5039")},3473:function(e,t,i){i("cc89")},"36e5":function(e,t,i){e.exports=i.p+"img/icon_custom.0cbc8dfa.png"},"3a74":function(e,t,i){},"3abf":function(e,t,i){},4:function(e,t){},4146:function(e,t,i){e.exports=i.p+"img/4.b7095c95.jpg"},"416c":function(e,t,i){},4172:function(e,t,i){i("de35")},4287:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAKlBMVEUAAADB1+O7yNm9z9y7yNi7ydm7ydi7ydi6ydm7ydm9ytq/ytq7yNm6yNgDyiRhAAAADXRSTlMADHsd8/HZy72vYDDk83a3CAAAAG9JREFUKM9jIBIwrkxxmyWAxFe9CwRBCBHzu2BQDOMzn4UI3DGACojfveu0UVrl7t1CqIDu3RtAOebeu5egRsbebQDRHHevQozlunsFrJnZ9+4CsAAnUClU6wQwzXb3NkRg790EEHUXBYwKEBIgDAAUzAQ+KruudgAAAABJRU5ErkJggg=="},4360:function(e,t,i){i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0");var n=i("2b0e"),o=i("2f62");i("d3a4"),n.default.use(o.a),t.a=new o.a.Store({state:{geoCache:new Map,firstIndex:null,unreadMsgCount:0,runInElectron:!1,serverConfig:{},currentUser:null,privateSpace:{}},mutations:{setServerConfig:function(e,t){e.serverConfig=t},setRunInElectron:function(e,t){e.runInElectron=t}},actions:{},modules:{}})},"455b":function(e,t,i){i("caad"),i("14d9"),i("b64b"),i("acd8"),i("e25e"),i("2532");var n={props:{mobileLayout:{default:!1,type:Boolean}},components:{},computed:{},data:function(){return{timer:null,taskList:[],loading:!1,popedTaskIdList:[]}},mounted:function(){null==this.timer&&(this.timer=setInterval(this.getBgTaskList,8e3)),this.getBgTaskList()},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},methods:{deleteTask:function(e){var t=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("home.sureDeleteBgTask"),function(){t.api.post("/api/commonApi/deleteBgTask",{taskId:e.id}).then(function(e){e.code||t.getBgTaskList()})})},getBgTaskList:function(e){var a,r=this;this.isInHome()&&(e=e||1,!this.loading)&&this.$store.state.token&&(a={taskState:e,count:10,offset:0,hideLoading:this.loading=!0},this.api.post("/api/commonApi/getBgTask",a).then(function(e){if(r.loading=!1,!e.code){for(var t in a.playIdList&&0<a.playIdList.length&&sessionStorage.setItem("play-id-list",[]),r.taskList=e.data,r.taskList){var i,n=r.taskList[t];"EXPORT_PRIVATE_SPACE"==r.taskList[t].task_type?(r.taskList[t].taskTypeStr=r.$t("private.exportSpaceData"),r.taskList[t].showDelete=!0):"BACKUP"==r.taskList[t].task_type?r.taskList[t].taskTypeStr=r.$t("home.backup")+" "+r.taskList[t].task_name:"FILE_OPERATION"==r.taskList[t].task_type?(r.taskList[t].showDelete=!0,"copy"==(i=JSON.parse(r.taskList[t].task_json)).type?(r.taskList[t].taskTypeStr=r.$t("file.copy")+" "+i.sourcePath,r.taskList[t].sizeStr=r.utils.getSizeStr(n.size_current)+r.$t("backup.copied")+"..."):"cut"==i.type?(r.taskList[t].taskTypeStr=r.$t("file.cut")+" "+i.sourcePath,r.taskList[t].sizeStr=r.utils.getSizeStr(n.size_current)+r.$t("file.cuttedSize")+"..."):"zip"==i.type?(r.taskList[t].taskTypeStr=r.$t("file.zip")+" "+i.sourcePath,r.taskList[t].sizeStr=r.utils.getSizeStr(n.size_current)+r.$t("file.ziped")+"..."):"unzip"==i.type&&(r.taskList[t].taskTypeStr=r.$t("file.unzip")+" "+i.sourcePath,r.taskList[t].sizeStr=r.utils.getSizeStr(n.size_current)+"...")):"PACKAGE_UPDATE"==r.taskList[t].task_type?(r.taskList[t].taskTypeStr=r.$t("setting.downloadPackage"),n.progress_current&&95<n.progress_current&&(r.taskList[t].taskTypeStr=r.$t("setting.downloadPackage"))):"GEN_TINY_IMAGE"==r.taskList[t].task_type?r.taskList[t].taskTypeStr=r.$t("photo.genningTinyImage"):"AI_FACES"==r.taskList[t].task_type?r.taskList[t].taskTypeStr=r.$t("photo.doingAiFaces"):"AI_CLASSES"==r.taskList[t].task_type?r.taskList[t].taskTypeStr=r.$t("photo.doingAiClasses"):"AI_PHASH"==r.taskList[t].task_type?r.taskList[t].taskTypeStr=r.$t("photo.doingPhash"):"SUBTITLE_PRE_GEN"==r.taskList[t].task_type&&(r.taskList[t].taskTypeStr=r.$t("movie.subtitlePreGen")+"...",r.taskList[t].taskTypeStrAlert=r.$t("movie.subtitlePreGenAlert")+"["+r.$t("movie.subtitlePrenGenClose")+"]"),n.size_current&&n.size_all&&0<n.size_current?(r.taskList[t].percent=parseInt(Math.ceil(parseFloat(n.size_current)/parseFloat(n.size_all)*100)),n.size_current,n.size_all):n.progress_current&&n.progress_all&&0<n.progress_current?(r.taskList[t].percent=parseInt(Math.ceil(parseFloat(n.progress_current)/parseFloat(n.progress_all)*100)),n.progress_current,n.progress_all):n.size_current&&0<n.size_current&&"BACKUP"==n.task_type&&(r.taskList[t].sizeStr=r.utils.getSizeStr(n.size_current)+r.$t("backup.copied")+"...")}if(0<r.taskList.length&&window.location.href.includes("/home")&&!r.mobileLayout&&!r.isFromApp){var o,s=!1;for(o in r.taskList)r.popedTaskIdList.includes(r.taskList[o].id)||(s=!0),r.popedTaskIdList.push(r.taskList[o].id);s&&r.$emit("setBgTaskShow",!0)}else r.popedTaskIdList=[];localStorage.reqIp=e.reqIp}}).catch(function(e){r.loading=!1}))}}},i=(i("fe64"),i("2877")),i=Object(i.a)(n,function(){var i=this,e=i._self._c;return e("div",{class:{"bgtask-root-mobile":i.mobileLayout,"bgtask-root":!i.mobileLayout}},[e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","margin-top":"15px"}},[e("div",{staticStyle:{width:"100%","font-weight":"bold","text-align":"left"}},[i._v(i._s(i.$t("home.bgTask")))])]),i._l(i.taskList,function(t){return e("div",[e("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"10px"}},[e("div",{staticClass:"blue-point"}),e("div",{staticClass:"task-type"},[i._v(i._s(t.taskTypeStr)+" "),t.taskTypeStrAlert?e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{size:"16",type:"ios-help-circle-outline"},on:{click:function(e){i.showVsAlertDialog(i.$t("common.alert"),t.taskTypeStrAlert)}}}):i._e()],1)]),e("div",{staticStyle:{display:"flex","align-items":"center"}},[t.sizeStr?e("div",{staticClass:"size-str"},[i._v(i._s(t.sizeStr))]):i._e(),t.percent?e("Progress",{attrs:{percent:t.percent,"stroke-width":20,status:"active","text-inside":""}}):i._e(),t.showDelete?e("div",{on:{click:function(e){return i.deleteTask(t)}}},[e("Icon",{staticClass:"task-icon",attrs:{type:"md-close",size:"20"}})],1):i._e()],1)])}),i.taskList.length<1?e("div",{staticClass:"no-task-text"},[i._v(" "+i._s(i.$t("home.haveNoRunningTasks"))+" ")]):i._e(),i.mobileLayout?i._e():e("vs-button",{staticClass:"closs-btn",attrs:{icon:""},on:{click:function(e){return i.$emit("setBgTaskShow",!1)}}},[e("Icon",{attrs:{type:"md-close-circle",color:"#386DF2",size:"25"}})],1)],2)},[],!1,null,"777a1019",null);t.a=i.exports},"45a5":function(e,t,i){i("22a4")},"48bc":function(e,t,i){},"4a03":function(e){e.exports=JSON.parse('{"downloadFileConfirm":"Are you sure you want to download the file?","mvTvDif":"Movie is displayed in file units, and TV series is displayed in folder units.","folderName":"Folder name","zipImgAlert":"Upload the image to your server, compress the image, to reduce size","addMediaArrangeTask":"Create task","selectMRsourcePath":"Select the media folders you want to organize","selectMRtargetPath":"Select the destination folder to save","sourceTargetPathCannotSame":"The media folder and the destination folder cannot be the same","mediaSourcePath":"Media folder","mediaArrangeAlert":"Automatically read the shooting date of all media files in the source folder, then create corresponding three-level folders in the target folder according to the hierarchical structure of [year/month/day], and accurately copy the files to the folders with matching dates to achieve orderly classification and organization of media interruption.","selectTransFolder":"Add files or folders to convert","selectTransTarget":"Select the output directory","selectTransFormat":"Select the output format","selectTransQuality":"Select the output bitrate","selectTransSize":"Select the output size","onlySupport":"Only","outFormat":"Output format","outQuality":"Output quality","mediaTools":"MediaTools","outputSize":"Output size","rawSize":"Original size","withMetaTitle":"Whether to preserve metadata","withMeta":"Keep Exif","withoutMeta":"Without Exif","optimized":"Optimized","downloadAll":"Download All","tools.defaultFormat":"Auto Format","tools.defaultQulity":"Auto Quality","tools.arrange":"Organize","tools.imgZip":"Img Comp","tools.imgTrans":"Img Conv","tools.vidTrans":"Vid Conv","tools.vidTransAlert":"It is used to batch convert the video formats on the server. It batch converts the videos in the directory according to the specified format and parameters and outputs them to the target directory. Restarting the server during task execution will cause the task to be interrupted.","tools.zipUploadAlert":"Upload IMG to compress(Click/Drag)","tools.createTransTaskVideo":"Creating a video conversion task","saveByDate":"Save by date","saveByDateHelp":"After turning on, the files will automatically create a three-level folder [year/month/day] according to the shooting time of the photo or video, or the file creation time, and upload the file to the date folder. For example: if you upload a photo named [abc.jpg (taken on January 1, 2020)] to the [D:/Photos] folder, the photo will be saved to: [D:/Photos/2020/1/1/abc.jpg]","selectNewFolderNow":"Select the newly created folder immediately?","otherRegion":"Other country/regions","setting.serverRootPath":"Service entry path","nfoAndPoster":"NFO and poster","setting.serverRootPathPlaceholder":"Enter the path such as: myweb","setting.serverRootPathHint":"Example: If the original access address is http://192.168.1.5:80, and the entry path is set to abc, the access address becomes: http://192.168.1.5:80/abc, and the intranet penetration and DDNS are synchronized to enhance security. After setting, restart NasCab to take effect. This setting does not affect WebDav and Ftp sharing.","setting.serverRootPathError":"The path supports only alphanumeric characters and must not exceed 32 characters.","china":"China","addMapServer":"Add Tiles Server","region":"Region","maxZoom":"Max Zoom Level","currentUsing":"Current","mapSwitchAlert":"After switching the map, the page will be refreshed and reloaded. Are you sure you want to switch?","tileServerUrl":"Tile server","coordinate":"Coordinate System","switchMap":"Switch map","languageAndRegion":"Language and Region","regionAlert":"NasCab member accounts and data are not universal between different regional versions, and their functions are not exactly the same. Please choose according to the actual situation.After switching.","defaultPlay":"Priority playback","rawFile":"Original file","folderDownloadAlert":"You are trying to download the folder. The folder will be downloaded as a zip package. Do you confirm?","notes":"Notes","mix":"Mix","copyLink":"Copy download link","linkCopied":"Download link copied","remark":"Remark","intervalScan":"Interval scan","intervalScanAlert":"Scan the disk every once in a while and add an index of new files","everyXHour":"every {count} hour","scanAll":"Scan all folders","addUserRemark":"Add remark to user","userRemarkPh":"Username/Remarks","proxy":"Proxy","quickKey":"Shortcut keys","fileKeyAlert":"[+] : zoom in  [-] : zoom out [c]: switch display mode [r]: refresh","photoKeyAlert":"[+] : zoom in  [-] : zoom out [c]: switch display mode","saveAndTest":"Save&Test","tmdbProxy":"Enable TMDB Proxy","tmdbAlert":"When your network environment cannot access the TMDB server, you can configure and use a local proxy, such as: http://127.0.0.1:10809, etc. The actual local proxy address is set according to your proxy software It depends","protocol":"Protocol","host":"Host [including protocol & port]","afterScrapeAlert":"The request is successful. The task will be performed in the background. Please refresh the page later or check the [Scraping Log] to confirm the result.","tryRescrape":"Please try scraping again","scrapeSeasonDetail":"Request season detail[TMDB]","scrapeDetail":"Request drama detail[TMDB]","scrapePath":"Scrape path","scrapeType":"Scrape type","result":"Result","resultPath":"Save path","failReason":"Failure reason","scrape":"Scrape","scrapeLog":"Scrape Log","scrapeEpisode":"Scrape missing episodes","scrapeMissingAlert":"Will try to scrape missing episode information based on existing NFO files, are you sure?","poster":"Poster","scanWhenStart":"Scan folders on NasCab start.","scanWhenChange":"Auto-scan this folder on changes","scanWhenChangeAlert":"Certain OS and environments, like Docker on Windows,Network disk, may not support this function.When making extensive modifications to folder, it is recommended to temporarily turn this option off.","proxy.smooth":"Smooth","proxy.normal":"Normal","proxy.busy":"Busy","book.library":"Library","episodeCount":"Number of episodes","bestSize":"Recommended size","whiteBg":"Transparent or white background","bestBg":"Recommended to use light-colored images","loginWelMsg":"Login page welcome message","keyword":"Keyword","nameRule":"Scrape nfo naming rules","alreadyInQueue":"The task has been added to the queue","movieNameRule":"Movie naming rules, such as: The Shawshank Redemption(1994).mp4, if you don\'t know the specific year, you don\'t need to add the year","tvNameRule":"TV series naming rules. it is recommended to use a three-level directory naming method, such as: Game of Thrones > [Season 1 / Season 2 / ...] > [Game of Thrones S01E01.mp4 / Game of Thrones S01E02.mp4 / ...]","loginImg":"Login page image","sourceIncludeCache":"This path is under the cache directory you set and will not be scanned. Please modify the cache directory in [Settings - System Settings]","homeBg":"Home page background image","cantAccess":"Inaccessible","localNetAlert":"If this address is inaccessible, please troubleshoot in the following order: 1. The device and server must be on the same IP subnet, under the same router. 2. If you are using a Windows system, ensure that the server has been allowed through the firewall. 3. If your network attribute is set to [Public Network], try switching it to [Private Network].","logoLeft":"LOGO in the upper left corner","successAndRestartImgViewer":"Set up successfully, please reopen the image viewer","imgPreviewSize":"Large image preview size","longSideMaxPx":"Maximum size of long side (px)","imgQuality":"Image quality [recommended 60-90]","imgPreviewAlert":"Set a custom image preview size, which can reduce network traffic and speed up loading when browsing large images,it is recommended to set it to [Custom][3000-8000 pixels on the long side]","rawImage":"original image","episode":"Eps","dragSelectAlert":"Hold down the left mouse button and drag to select multiple items","yourInputTooLong":"The content you entered is too long, please keep it within {count} characters","onlySupportCustomImageFormat":"Only supports JPG, PNG, WEBP formats","chooseDeleteOption":"Select delete option","watched":"Watched","lastWatched":"Last watched at ","number":"Number","index.title":"Loading...","net.error":"Network error...","cannotBeEmpty":"{content} cannot be empty","terminal.disconnect":"The terminal is disconnected","terminal.failConnect":"Terminal connection failure","terminal.connected":"Terminal connected","terminal.start":"Start terminal","creator":"Creator","terminal.title":"Terminal","refreshQrcode":"Refresh QRCode","customUrlAlertA":"You can configure the sharing URL in ","customUrlAlertB":" to automatically replace the server address","pleaseSelectFolder":"Please select a folder","itemsCount":" items","switch":"Switch","imageSize":"Image Size","second":"Seconds","width":"Width","height":"Height","pixel":"Pixel","setting":"Settings","open":"Open","verify":"Verify","dataFrom":"Data from","theSeason":"Season {number}","season":"S","selectWhichSeason":"Which season do you want to choose?","putInSystemTrash":"Put it in the OS recycle bin","fileNotFound":"File not found, please check","openInSystem":"Open in OS","selectedInSystem":"Select in OS","file.hidePath":"Hidden file/folder","file.hidePathAlert":"If you do not want folders to be displayed in the browser, you can add the path you want to hide here. The hidden path will not be displayed in the browser. This function can only be set in the program window, this function only supports Windows and Mac platforms","file.hidePathPlaceHolder":"Enter the path to be hidden, such as: D:\\\\ or /Applications, etc.","shareForSubUser":"Visible to all users","transcodeSpeed":"Transcoding speed","transcodeReadRate":"Transcoding read rate","transcodeReadRateAlert":"The maximum reading rate multiple of the source file during transcoding. Reducing this value appropriately can reduce the CPU usage.","transcodeSpeedAlert":"The faster the transcoding, the lower the picture quality","decoderErrorAlert":"This decoder is in test state. Please switch to another decoder if there is any problem","ultrafast":"Ultra fast","superfast":"Super fast","veryfast":"Very fast","faster":"Faster","fast":"Fast","medium":"Medium","slow":"Slow","slower":"Slower","veryslow":"Very slow","pageCount":"{count}/page","transcode":"Transcoding","valueMustBeNum":"The value must be a number","whatModelWillYouUse":"Set enabled features","whatModelWillYouUseSubuser":"Which menus to display for this user?","shareDomainSetting":"Share domain setting","shareDomainAlert":"After setting, it will be used to automatically replace the server address in the sharing link. For functions such as temporary sharing, the address and port must be included","map.currentZoomLevel":"Current zoom level {zoom}","map.upgradeZoom":"Upgrade version to unlock zoom 12 ","proxy.switchAlert":"Due to the DNS cache, switching the route will take a maximum of 5-30 minutes for the domain name to take effect. Do you want to switch?","proxy.downloadFrp":"Download frp","proxy.currentRoute":"Current Route","proxy.routeList":"List of available routes","proxy.pluginState":"Plug-in status","proxy.installPlugin":"Installing plugins","proxy.installed":"Installed","proxy.pluginPath":"Plug-in path","proxy.installMsgSent":"The installation command has been sent and will refresh automatically later","proxy.uninstalled":"uninstalled","proxy.cannotLoginMulti":"If you login to the same NasCab account on multiple servers at the same time, NAT traversal becomes unavailable","proxy.firewallAlert":"NasCab uses third-party open-source software frp to penetrate the NAT. In windows, it may be blocked by the firewall. Therefore, ensure that the frp is whitelisted","proxy.frpcGithub":"FRP url:https://github.com/fatedier/frp","language.chi":"Chinese","language.eng":"English","language.ger":"German","language.spa":"Spanish","language.fre":"French","language.jpn":"Japanese","language.kor":"Korean","common.menu":"Menus","common.pathExist":"Path already exists","common.fileExist":"File already exists","common.cancelFavorite":"Cancel favorite","common.sortField":"Sort field","common.sortType":"Sort type","common.asc":"Asc","common.desc":"Desc","common.iKnow":"Understand","common.yes":"Yes","common.addMore":"Add more","common.no":"No","common.nothing":"None","common.download":"Download","common.selectAll":"Select All","common.folder":"Folders","common.file":"File","common.name":"Name","common.onlyCanUseInApp":"Can only be used inside the APP","common.eq":"Equal to","common.gt":"Greater than","common.lt":"Less than","common.contain":"Contains","common.filepath":"File path","common.textTooLong":"Character length exceeds limit","common.buyVipInPc":"Please purchase it on PC","common.addPath":"Add path","common.selectSubuser":"Select subuser","setting.tokenKeepTime":"Login status hold time [hours]","setting.tokenKeepMaxAlert":"The maximum login status hold time is 720 hours","sign.tv":"TV","sign.movie":"Movie","checkTime":"Check time","file.withoutSharedFile":"The shared file was not found","file.changeToRealUrl":"You can replace the  {url}  part with your actual server address and port","file.endDate":"Expiration date","file.shareLink":"Shared url","file.validity":"Access Validity [days]","file.accessPwd":"Access password","file.noNeedPwd":"No password required","file.shareTempPwdPh":"Enter access password. Leave blank if no require","file.shareTempAlert":"Quick shared files/folders that others can access without login","file.addShareTemp":"Add quick share","file.shareFolderAlert":"Add a shared folder that all subusers can view without authorization","file.addShareFoler":"Add a shared folder","file.sharePath":"Shared path","holiday.yuandan":"New Year","holiday.chuxi":"Lunar New Year\'s eve","holiday.chuyi":"First day","holiday.yuanxiaojie":"Lantern Festival","holiday.qingrenjie":"Valentine\'s Day","holiday.funvjie":"Women\'s day","holiday.yurenjie":"April fools day","holiday.laodongjie":"Labor day","holiday.ertongjie":"Children\'s day","holiday.qixi":"Tanabata","holiday.duanwujie":"Dragon boat festival","holiday.jiaoshijie":"Teachers\' Day","holiday.zhongqiujie":"Mid-Autumn Festival","holiday.guoqingjie":"National day","holiday.chongyangjie":"Double Ninth Festival","holiday.wanshengjie":"Halloween","holiday.pinganye":"Christmas Eve","holiday.shengdanjie":"Christmas","system.systemResetSuc":"System reset successful, please login again","system.copied":"Copied","system.hostName":"Host Name","system.update":"Update","system.updateLog":"Update log","system.currentSystemVersion":"Current system version","system.lastestVersion":"Latest system version","system.sysUpdate":"System update","system.updateTo":"Update to","system.updateSent":"After the installation package is downloaded, it will be automatically installed and restarted. During this period, NasCab will stop serving, please wait patiently","system.info.system":"System","system.info.osInfo":"OS","system.info.cpu":"Cpu","system.info.mem":"Mem","system.info.diskLayout":"Disks","system.info.usb":"USB","system.info.audio":"Audio","system.info.networkInterfaces":"Network","system.info.bios":"BIOS","system.info.baseboard":"Baseboard","system.info.graphics":"Graphics","system.info.wifiNetworks":"Wifi","system.info.bluetoothDevices":"Bluetooth","system.info.osInfo.platform":"Platform","system.info.osInfo.distro":"Distro","system.info.osInfo.release":"Release","system.info.osInfo.kernel":"Kernel","system.info.osInfo.arch":"Arch","system.info.osInfo.hostname":"Hostname","system.info.osInfo.codepage":"OS build version","system.info.osInfo.logofile":"Logo","system.info.osInfo.serial":"Serial","system.info.osInfo.build":"Build","system.info.osInfo.uefi":"UEFI support","system.info.cpu.manufacturer":"Manufacturer","system.info.cpu.brand":"Brand","system.info.cpu.speed":"Speed[Ghz]","system.info.cpu.speedMin":"Speed min [Ghz]","system.info.cpu.speedMax":"Speed max [Ghz]","system.info.cpu.cores":"Cores","system.info.cpu.physicalCores":"Physical Cores","system.info.cpu.processors":"Processors","system.info.cpu.socket":"Socket","system.info.cpu.vendor":"Vendor","system.info.cpu.family":"Family","system.info.cpu.model":"Model","system.info.cpu.stepping":"Stepping","system.info.cpu.revision":"Revision","system.info.cpu.flags":"Flags","system.info.cpu.virtualization":"Virtualization","system.info.cpu.cache":"Cache","system.info.cpu.performanceCores":"Performance Cores","system.info.cpu.efficiencyCores":"Efficiency Cores","system.info.mem.total":"Total","system.info.mem.free":"Free","system.info.mem.used":"Used","system.info.mem.active":"Used actively (excl. buffers/cache)","system.info.mem.buffcache":"Buff + Cache","system.info.bios.vendor":"Vendor","system.info.bios.version":"Version","system.info.bios.releaseDate":"Release date","system.info.bios.revision":"Revision","system.info.bios.serial":"Serial","system.info.baseboard.manufacturer":"Manufacturer","system.info.baseboard.model":"Model","system.info.baseboard.version":"Version","system.info.baseboard.serial":"Serial","system.info.baseboard.assetTag":"Asset tag","system.info.diskLayout.device":"Device","system.info.diskLayout.type":"Type","system.info.diskLayout.name":"Name","system.info.diskLayout.vendor":"Vendor","system.info.diskLayout.size":"Size","system.info.diskLayout.firmwareRevision":"Firmware revision","system.info.diskLayout.serialNum":"Serial number","system.info.diskLayout.interfaceType":"Interface type","system.info.diskLayout.smartStatus":"S.M.A.R.T status","system.info.diskLayout.bytesPerSector":"Bytes per sector","system.info.diskLayout.totalCylinders":"Total cylinders","system.info.diskLayout.totalHeads":"Total heads","system.info.diskLayout.totalSectors":"Total sectors","system.info.diskLayout.totalTracks":"Total tracks","system.info.diskLayout.tracksPerCylinder":"Tracks per cylinder","system.info.diskLayout.sectorsPerTrack":"Sectors per track","system.info.diskLayout.temperature":"S.M.A.R.T temperature","system.info.usb.bus":"USB BUS","system.info.usb.deviceId":"BUS ID","system.info.usb.id":"Internal ID","system.info.usb.name":"Name","system.info.usb.type":"Type","system.info.usb.removable":"Removable","system.info.usb.vendor":"Vendor","system.info.usb.manufacturer":"Manufacturer","system.info.usb.maxPower":"Max power","system.info.usb.serialNumber":"Serial number","system.info.audio.id":"Internal ID","system.info.audio.name":"Name","system.info.audio.manufacturer":"Manufacturer","system.info.audio.revision":"Revision","system.info.audio.driver":"Driver","system.info.audio.default":"Default","system.info.audio.channel":"Channel","system.info.audio.type":"Type","system.info.audio.in":"In","system.info.audio.out":"Out","system.info.audio.interfaceType":"Interface type","system.info.networkInterfaces.iface":"Interface","system.info.networkInterfaces.ifaceName":"Interface name","system.info.networkInterfaces.default":"Default","system.info.networkInterfaces.ip4":"IPV4 address","system.info.networkInterfaces.ip4subnet":"IPV4 subnet mask","system.info.networkInterfaces.ip6":"IPV6 address","system.info.networkInterfaces.ip6subnet":"IPV6 subnet mask","system.info.networkInterfaces.mac":"Mac","system.info.networkInterfaces.internal":"Internal","system.info.networkInterfaces.virtual":"Virtual","system.info.networkInterfaces.type":"Type","system.info.networkInterfaces.mtu":"Maximum transmission unit","system.info.networkInterfaces.speed":"Speed MBit/s","system.info.networkInterfaces.dhcp":"IP address obtained by DHCP","system.info.networkInterfaces.dnsSuffix":"DNS suffix","system.info.bluetoothDevices.device":"Device","system.info.bluetoothDevices.name":"Name","system.info.bluetoothDevices.macDevice":"MAC","system.info.bluetoothDevices.macHost":"MAC host","system.info.bluetoothDevices.batteryPercent":"Battery percent","system.info.bluetoothDevices.manufacturer":"Manufacturer","system.info.bluetoothDevices.type":"Type","system.info.bluetoothDevices.connected":"Connected","system.info.graphics.vendor":"Vendor","system.info.graphics.vendorId":"Vendor ID","system.info.graphics.model":"Model","system.info.graphics.name":"Name","system.info.graphics.deviceId":"Device ID","system.info.graphics.bus":"Bus","system.info.graphics.vram":"VRAM size (MB)","system.info.graphics.external":"External","system.info.graphics.cores":"Cores","system.info.graphics.deviceName":"Device name","system.info.graphics.productionYear":"Production year","system.info.graphics.serial":"Serial number","system.info.graphics.displayId":"Display ID","system.info.graphics.main":"Main","system.info.graphics.builtin":"Builtin","system.info.graphics.connection":"Connection","system.info.graphics.sizeX":"Size X (mm)","system.info.graphics.sizeY":"Size Y (mm)","system.info.graphics.pixelDepth":"Pixel depth (bits)","system.info.graphics.resolutionX":"Resolution X","system.info.graphics.resolutionY":"Resolution Y","system.info.graphics.currentResX":"Current Resolution X","system.info.graphics.currentResY":"Current Resolution Y","system.info.graphics.currentRefreshRate":"Current refresh rate","system.info.graphics.driverVersion":"Driver version","system.info.graphics.memoryTotal":"Memory total (MB)","system.info.graphics.memoryUsed":"Memory used (MB)","system.info.graphics.memoryFree":"Memory free (MB)","system.info.graphics.temperatureGpu":"Temperature GPU","system.info.graphics.powerDraw":"Power draw (w)","system.info.graphics.utilizationGpu":"Utilization GPU %","system.info.graphics.clockCore":"Clock core","nascab.online":"online","reconnect":"Reconnection","home.scanToAccess":"You can use the browser/WeChat to scan the code to access","usage":"Usage","sureToClose":"Close the page?","nascab.lanAccessAlert":"In any browser in the same local area network, enter this URL to access the NasCab service","nascab.useNasCabCert":"Use the https certificate provided by NasCab","nascab.useApiCert":"Use the same certificate as the API service","nascab.useNasCabCertCloseAlert":"After closing, the default certificate will be used as the api interface certificate of the https protocol, and you can also configure it yourself","nascab.useNasCabCertAlert":"After it is enabled, the https certificate provided by NasCab will be used. When the program starts, it will be used as the api interface certificate of the https protocol,restart NasCab to take effect","nascab.clearCustomProxy":"Delete port mapping","nascab.conFromLan":"Connect to the server from LAN","nascab.localMachine":"[127.0.0.1 is this machine]","nascab.invalidIp":"Please enter the correct IP","nascab.invalidPort":"Please enter the correct PORT","nascab.pleaseOpenTwoStepsLogin":"After enabling NAT traversal, your NasCab service can be accessed from the public network, please be sure to enable \'two-step login\' in the security center to enhance account security","nascab.proxyDelay":"After reconnection, there may be a delay of 5-30 minutes for the domain name to take effect, please be patient","nascab.reconnectSent":"A reconnection request has been sent, please refresh later to check the connection status","nascab.sameAccountLogin":"The same NasCab account does not support logging in to multiple clients at the same time, otherwise NAT traversal may be unavailable","nascab.connectState":"Connection Status","nascab.connectLine":"Connection Route","nascab.sureEnableDDNS":"Enable DDNS? DDNS is used to resolve the dedicated domain name to your public IP","nascab.sureDisableDDNS":"Close DDNS?","nascab.ddnsIp":"DDNS IP","nascab.ddnsType":"DDNS type","nascab.isEnable":"Enable","nascab.sureEnableRemote":"Enable NAT traversal?","nascab.sureDisableRemote":"Turn off NAT traversal? If you are using NAT traversal, the connection will be disconnected immediately","nascab.remoteAccessMenu":"NAT traversal","nascab.offline":"offline","nascab.remoteAccess":"NAT traversal","nascab.customServerRemoteUrl":"Custom service public network access domain name","nascab.setDomain":"Set up my domain","nascab.myDomain":"My domain","nascab.ddnsDomain":"DDNS domain","nascab.proxyDomain":"NAT domain","nascab.contactServe":"Contact us","nascab.validUntil":"Valid until","nascab.needUpgrade":"The free version cannot use this function, please use the administrator account to upgrade in the ‘Settings -> NasCab Account’ and try again","nascab.loginFirst":"Login first","nascab.renewal":"Renewal","nascab.version":"Current version","nascab.upgrade":"Upgrade","nascab.versionFree":"Free Edition","nascab.versionPro":"Pro Edition","nascab.versionTeam":"Platinum edition","nascab.goToBind":"To Bind","nascab.account":"NasCab Account","nascab.notLogin":"Not logged in","nascab.switchAccount":"Switch account","nascab.email":"Email","nascab.changeToLan":"You and the NasCab service you want to connect are in the same local area network. Switching to local area network access can greatly speed up the access speed. switch?","nascab.phone":"Phone number","nascab.exitAccount":"Logout NasCab account","nascab.accountManage":"Manage my NasCab account","slogan":"LightNas The most easy-to-use multimedia management software","common.faq":"FAQ","proxy.faqContent1":"1.NAT: Your NasCab can be accessed through the public network. Enable two-step login in the security center to enhance security.","proxy.faqContent2":"2.The differences between NAT and DDNS are as follows: NAT does not require a public IP address, and data needs to be forwarded by the NasCab server. DDNS requires a public IP address, and the connection mode is direct without transit.","proxy.faqContent3":"3.NAT security: HTTPS+AES double encryption is used for transmission. The NasCab server only forwards data and does not filter or audit data, and the data cannot be obtained by intermediate routers.","proxy.faqContent4":"4.NAT port: The port through NAT domain name is fixed to 443(https).","proxy.faqContent5":"5.Frp Github url：https://github.com/fatedier/frp","ddns.faqContent1":"1.How to verify whether ddns is successful: use the command line to ping your domain name, and observe whether the resolved ip is consistent with the displayed one","ddns.faqContent2":"2.Unable to access after successful DDNS resolution: If it is IPV4, port forwarding needs to be performed on the router to forward the NasCab service port to the device where the NasCab is located, ipv6 usually does not need","ddns.faqContent3":"3.Do you need to add port access: if it is the default port (http:80)(https:443), it is not required, and the non-default port needs to be accessed in the form of [http(s)://domain name:port]","ddns.faqContent4":"4.If you still cannot access, you can try to switch to a different network environment","ddns.faqContent5":"5.How to confirm whether you have a dynamic public IPV4 address: search for keywords such as ip in the search engine, check your own public IP, and then compare it with the displayed analytical IP to see if it is consistent, and if it is consistent, it is the public IP","common.rename":"Rename","common.startTime":"Start time","common.newVersionReady":"New version {version} is ready","common.import":"Import","common.export":"Export","upload.success":"Success","common.new":"New","common.multiSelect":"Multi Select","common.longPressShowMenu":"Long press to popup menu","common.rightClickShowMenu":"Right click popup menu","upload.error":"error","upload.uploading":"uploading...","upload.paused":"paused","upload.waiting":"waiting","common.show":"Show","upload.noTargetPath":"No destination upload folder selected","upload.folderAlert":"Note: The subfolder structure cannot be maintained when uploading using folder","common.pleaseInputSearchContent":"Enter search content","common.welcomeToNasCab":"Welcome to NasCab","common.hide":"Hide","common.close":"Close","common.top":"Top","common.ok":"OK","common.and":"and","common.iSee":"I see","common.alert":"Hint","common.title":"Title","common.search":"Search","common.resetDefault":"Reset to default","common.default":"Default","common.detail":"Detail","common.refresh":"Refresh","common.refreshList":"Refresh List","common.confirm":"Confirm","common.noMore":"No More","common.returnLastLayer":"Back","common.noData":"Empty","common.operationSuccess":"Operation successful","common.checkAfter":"Refresh later to view the results","common.operationFail":"Operation failure","common.getFail":"Failed to obtain data","common.all":"All","common.succesed":"Succeeded","common.faild":"Failed","common.uploading":"Uploading","common.options":"options","common.home":"Home","common.photo":"Photo","common.save":"Save","common.video":"Video","common.cancel":"Cancel","common.cancelled":"Cancelled","common.select":"Select","common.update":"Update","common.mode":"IP Mode","common.blacklistMode":"Blacklist mode","common.whitelistMode":"Whitelist mode","common.edit":"Edit","common.cancelSelect":"Cancel selected","common.selected":"Selected","common.loadmore":"Load more","common.username":"Username","common.password":"Password","common.question":"Security Question","common.answer":"Answer","common.commit":"Submit","common.add":"Add","common.upload":"Upload","common.delete":"Delete","common.clear":"Clear","common.action":"Action","common.deleteSuccess":"Deleted successfully","common.deleteSuccessWithCount":"{sucCount} files were deleted successfully and {errCount} files failed to be deleted","common.deleteSure":"Sure to delete?","common.change":"Edit","common.changeSuccess":"Modified Successfully","common.check":"Check","common.return":"Back","common.unselect":"Unselect","common.noPermission":"No permission","common.tokenExpire":"Token expired","common.whatWillYouDo":"What will you do?","common.year":"Year","common.month":"Month","common.day":"Day","common.continue":"Continue","common.sureSaveChange":"Save changes?","common.monday":"Monday","common.tuesday":"Tuesday","common.wednesday":"Wednesday","common.thursday":"Thursday","common.friday":"Friday","common.saturday":"Saturday","common.sunday":"Sunday","common.chooseUser":"Choose User","common.noAccess":"No access","common.other":"Other","common.path":"Path","common.state":"State","common.available":"Available","common.unavailable":"Unavailable","common.help":"Help","useWhitePhotoGps":"Refer to the following picture location","help.howToWork":"How this feature works?","help.addGpsHelp":"For instance, if you took 100 photos with an SLR camera at 11 o\'clock without GPS information, and then took another photo with GPS data using a mobile phone at 12 o\'clock, you can use this function to write the location information from the mobile phone photo into the series of SLR photos that lack GPS data.","security.sameIpOrigin":"IP detection","security.sameIpAlert":"The token expires immediately after the client IP is changed, which can improve security. However, under complex network conditions, the login status may frequently expire. Please decide whether to enable it based on the actual situation and restart NasCab to take effect.","security.blackDesc":"In this mode, IP in the blacklist cannot be accessed","security.whiteDesc":"In this mode, only IP in the whitelist can access","security.ipFromatWrong":"Incorrect IP format","security.addOne":"Add one","security.description":"Description","security.removeFromBlackList":"Remove from blacklist","security.removeFromWhiteList":"Remove from whitelist","security.blackList":"IP Black list","security.whiteList":"IP White list","security.login":"Login","security.changePwd":"Change Password","security.username":"UserName","type":"Type","security.time":"Add Time","security.client":"Client","security.loginFail":"Login failed ","security.timesIpBlock":" times,ip banned for ","security.minutes":" minutes","security.logs":" Logs","security.twoStepsDesc":"After enabling, you need to enter the answer of security question when you login from a place other than localhost","notice.markAllAsRead":"Mark all as read","notice.deleteAll":"Delete all","notice.error":"Errors","notice.info":"Msg","private.fileWillDeleteForever":"Files will be permanently deleted","private.spaceInfo":"Space Info","private.shootTime":"Shooting time","private.chooseExportPathFirst":"Please select the path first","private.tokenExpired":"Space token expired,please re-enter","private.videoNoTransPlay":"The video in the private space cannot support real-time transcoding due to the format. If the original file cannot be played, you can download the video to play locally.","private.privateSpaceDescA":"Private space is used to encrypt and save your data, AES encryption ensures your data security","private.privateSpaceDescB":"Each private space is saved in a separate folder, supporting multiple private spaces","private.deleteSpaceAlert":"Are you sure you want to delete the private space? The folder corresponding to the private space will not be deleted, you can delete it manually. If you need it later, you can import the folder through the \'Import private space\' function","private.addPrivateSpace":"Add private space","private.changeSpaceName":"Modify space name","private.inputNewName":"Enter new name","private.sureDeleteSpace":"Are you sure you want to delete the space?","private.createPrivateSpace":"Create private space","private.importPrivateSpace":"Import private space","private.importPrivateSpaceDes":"This feature is used to import private spaces you created earlier","private.spaceName":"Space name","private.spaceFolder":"Space folder","private.spacePwd":"Space password","private.newSpaceName":"Space name after import","private.rawSpacePwd":"Original space password","private.rawSpaceFolderPath":"Select the folder corresponding to the original private space","private.createDate":"Created","private.folderPath":"Encrypted data save location (selected folder must be empty)","private.inputSpacePwd":"Enter space password","private.uploadFile":"Upload","private.uploadFileToSpace":"Upload files to private space[Do not close space during upload]","private.passwordInvalid":"The space password has expired, please try to re-enter the space","private.exportSpaceData":"Export private space data","private.exportFolder":"Export destination folder","private.exportTaskInLine":"The export task has been added to the execution queue","private.exportSpaceDataDes":"Used to decrypt and export all private space data to the folder you specify, even if the configuration file is damaged","ws.indexState":"Index Status","ws.backupState":"Backup service","ws.indexing":"Indexing...","ws.indexingDone":"index complete","share.atLeastChooseOneUser":"Select at least one user","share.noChooseShareFolder":"You need to choose a share directory","share.WebDav":"WebDav","share.FTP":"FTP","share.shareDesc":"Share the local folder by WebDav/Ftp protocol","share.chooseFtpRootPath":"Select FTP root path","share.ftpRootPath":"FTP root path","share.urlExample":"Example url:","share.addShareFold":"Add share Folders","share.updateShareFold":"Update share Folders","share.pathSign":"Identifier","share.fullWebDavUrl":"Url","share.pathSignPlaceHolder":"Only numbers and letters are supported","share.chooseShareFold":"Choose Shared Folder","share.shareFold":"Shared Folder","share.userAlreadyInList":"User already exists","share.choosePowerUser":"Choose a use","share.selectedUserList":"Authorized users","share.restartFileShareAlert":"This operation will restart the file sharing service, and all existing connected clients will be temporarily interrupted. Confirm?","share.restartSuccess":"The file sharing service has been restarted","share.adminHasPowerDefault":"The administrator account has access to all shared folders by default","share.noShareAlert":"Don\'t have a shared folder yet, click the bottom button to create one","backup.cannotUseRoot":"Disk root cannot be used, please select a folder","bakcup.noRecords":"No backup record","backup.backupDesc":"Backup function is used to backup your local folders to different disks or folders","backup.currentStat":"Current state","backup.running":"Backup in progress...","backup.paused":"paused","backup.waiting":"Waiting to run...","backup.noRunning":"Not executing","backup.ifRunTask":"Run backup tasks?","backup.ifStopTask":"Stop the backup task?","backup.createTask":"Create task","backup.orderSent":"Command sent","backup.noTaskAlert":"There is no backup task yet, click the bottom button to create one","backup.taskName":"Task name","backup.backupRate":"Backup frequency","backup.oneTime":"Single","backup.everyDay":"Every day","backup.everyWeek":"Every week","backup.everyMonth":"Every month","backup.backupDate":"Backup date","backup.lastBackupStat":"Last backup status","backup.errorInfo":"Error message","backup.lastBackupTime":"Last backup time","backup.pleaseChooseBackupDate":"Please select a backup date","backup.pleaseChooseBackupTime":"Please select a backup time","backup.pleaseInputTaskName":"Please enter a task name","backup.backupTime":"Backup time","backup.backupPath":"Backup folder","backup.targetPath":"Target folder","backup.youFileWillBeHere":"When the task is executed, the deleted files in the source folder will also be deleted synchronously in the target folder","backup.youFileWillBeHereB":"Your backups will be stored in","backup.chooseWeek":"Select week","backup.whichDayInMonth":"Backup day of the month","backup.choosePathWantBakcup":"Select backup folder","backup.addExclude":"Add exclusions","backup.excludeList":"Exclusion list","backup.updateTask":"Update task","backup.excludeExample":"Support \'*\',For example: \'xxA\' means exclude all files and folders named \'xxA\', \'*.mp4\' means exclude all mp4 files, \'abc*\' means exclude all files and folders starting with \'abc\'","backup.chooseTargetPath":"Select destination folder","backup.backupSuccess":"Backup succeeded","backup.backupFail":"Backup failed","backup.sourceAndTargetPathCantEqual":"Backup folder and destination folder cannot be equal or contain","backup.records":"BackupRecords","backup.copySize":"Copy size","backup.copyCount":"Copy count","backup.excludeCount":"Excluded count","backup.failCount":"Failure count","backup.refreshStatus":"Refreshing Status","backup.copied":"has been copied","backup.startTime":"Backup start time","backup.endTime":"Backup end Time","backup.failList":"Error list","header.changePwd":"ChangePw","header.changeQuestion":"Question","header.twoStepsLogin":"2-step verification","header.rawPassword":"Old Password","header.newPassword":"New Password","header.newPasswordConfirm":"Confirm password","header.oldPasswordIncorrect":"Incorrect old password","header.twoPasswordHaveToSame":"The new password entered twice must be the same","header.changePasswordSuccess":"Password changed successfully, need to log in again","header.changeQuestionSuccess":"The security question has been modified successfully, please keep in mind","header.rawQuestion":"Old question","header.newQuestion":"New question","header.newAnswer":"New answer","header.okLogout":"Are you sure log out?","header.logoutSuccess":"Log out successfully","question.petName":"What is my pet\'s name?","question.bornStreet":"What is the name of the street where i was born?","question.houseNumber":"What is my house number??","question.phoneNumber":"What is my mobile number?","question.schoolName":"What is my primary school name?","question.carType":"What model is my car?","registerAdmin.firstUseAlertText":"You need to create an administrator account first, this account and password are encrypted and saved on your computer.","registerAdmin.placeholderUsername":"Please enter user name","registerAdmin.placeholderPassword":"Please enter password","registerAdmin.placeholderQuestion":"Please enter a security question","registerAdmin.uesrnameAndPwdCantSame":"Username and password cannot be the same","registerAdmin.questionAndAnswerCantSame":"Security questions and answers cannot be the same","registerAdmin.placeholderAnswer":"Please enter the answer and remember it","registerAdmin.btRegisterAdmin":"Save and continue","registerAdmin.labelUsername":"Login username","registerAdmin.labelPassword":"Login password","registerAdmin.labelEmail":"Email","registerAdmin.usernameLengthLimit":"Username must be at least 2 characters long","registerAdmin.passwordLengthLimit":"Password length needs to be at least 2 characters","registerAdmin.checkEmail":"Please enter the correct email format","registerAdmin.success":"Administrator account created successfully","registerAdmin.registerAdmin":"Create Administrator","login.agree":"Agree","login.privacy":"<Privacy Policy>","login.chooseOtherServer":"Select another server","login.agreement":"<User Agreement>","login.success":"Login successful","login.btLogin":"Login and continue","login.goLogin":"Go to login","login.forgotPwd":"Forgot password?","login.getPwdBack":"Retrieve password","login.getPwdOnlyForAdmin":"This function is only used to retrieve the administrator password. To modify the ordinary user password, please log in to the administrator account and modify it in [User Management].","resetPwd.placeholderPassword":"Please enter a new password","resetPwd.placeholderAnswer":"Please enter the answer to the security question","resetPwd.question":"Security question:","resetPwd.answerIsWrong":"Incorrect answer to security question","home.message":"Message","home.apps":"App","home.status":"Status","home.quickAccess":"Applications","home.others":"Others","home.albumBackup":"Album backup","home.refreshBg":"BG","home.bgTask":"Background tasks","home.haveNoRunningTasks":"No background tasks running","home.sureDeleteBgTask":"Are you sure you want to delete this task","home.task":"Task","home.terminal":"Terminal","home.mine":"Mine","home.cloudSyncActiveInfo":"Online synchronization activation information","home.currentVersion":"Current version","home.proCode":"Activation code","home.endTime":"expiration date","home.renew":"Renewal","home.freeVersion":"Free Version","home.proVersion":"Pro version","home.backup":"Backup","home.sharing":"Sharing","home.indexCount":"Number of indexes","home.indexing":"Indexing","home.indexingComplete":"Index complete","home.mediaCount":"Number of multimedia files","home.photoManage":"Photos","home.movieManage":"Movies","home.musicManage":"Music","home.backupAndShare":"Backup/Share","home.backupManage":"Backup","home.shareManage":"Sharing","home.shareTemp":"Quick share","home.settingCenter":"Settings","home.mobileSync":"MobileSync","home.securityCenter":"Security","home.thumbnail":"Thumbnail","home.hardwareMonitor":"Hardware monitor","home.disk":"Disk","home.RAM":"RAM","home.upgradeToPro":"Upgrade to Professional Edition","home.fileBrower":"Files","home.pleaseEnterCode":"Please enter the code","home.activeSuc":"Activation succeeded","home.indexAlert":"Only the files after the thumbnails are generated will be displayed in the [photos] and [videos]","setting.howToBackup":"How to Back up Data?","setting.howToBackupContent":"Copy the data in the （{path}) directory, reinstall the system and install NasCab, and then copy the data back to the original location.","setting.ddnsExplain":"DDNS is used to resolve your NasCab exclusive domain name to your dynamic public network IPV6/IPV4","setting.noSetShowAllMenu":"Unchecked indicates that all menus are displayed","setting.sourceFolderDeleteInBg":"Index deletion will be performed in the background, please refresh to view the results later, please do not add new source folders before the index cleaning is completed","setting.defaultCert":"If not specified, use default cert","setting.httpsCert":"HTTPS certs","setting.httpsKey":"HTTPS key","setting.autoLaunch":"Auto launch","setting.autoLoginClient":"Login client automatically","setting.autoShowWindow":"Display window at startup","setting.account":"Account","setting.changeCachePath":"Change cache directory","setting.reLaunchNasCab":"Restart NasCab","setting.reLaunchNasCabAlert":"The NasCab server will restart, and all connections will be temporarily disconnected. Sure to restart?","setting.reLaunchNasCabConfirm":"The restart command has been sent, please check again later ","setting.resetSystem":"System reset","setting.downloadPackage":"Downloading installation package","setting.installationSoon":"Installation will start...","setting.transcodeTmpPath":"Transcode temp folder","setting.userDataFolder":"Default data folder","setting.resetSystemAlert":"All databases will be cleared, and all users will also be deleted. Next time you use NasCab, you need to re-create an administrator account. If you confirm the reset, please enter the password of the current login account","setting.crf":"H264 encoding CRF","setting.crfDesc":"CRF is the default quality setting for the x264 encoder. You can set the values between 1 and 51, where lower values would result in better quality (at the expense of higher file sizes). Sane values are between 18 and 28. The default for x264 is 23, so you can use this as a starting point.","setting.cacheInfo":"Cache info","setting.cacheCount":"Cache count","setting.clearCacheAlert":"Clearing the cache will cause it to be regenerated the next time it is accessed, which will affect the loading speed. If it is not necessary to free up disk space, please do not clear it.","setting.databasePath":"DataBase path","setting.cachePath":"Cache path","setting.cacheSize":"Cache size","setting.clearCache":"Clear cache","setting.proSetting":"Advanced settings","setting.threadCount":"Service threads","setting.threadCountHint":"Multithreading can improve the response speed","setting.source.directoryMoved":"Directory has moved ?","setting.source.reChoose":"Relocate,original locate:","setting.security.ipBan":"IP Ban","setting.security.loginNeedAnswer":"2-step login","setting.securitySetting":"Security","setting.commonSetting":"General","setting.chooseLanguage":"Choose your language","setting.language":"Lang","setting.photoSourceSetting":"Photo source","setting.photoSourceSettingAlert":"Please select the directory where you save the photos as the source of the content in \'Photos\'","setting.movieSourceSetting":"Movie source","setting.movieSourceSettingAlert":"Please select the directory where you save the movies as the source of the content in \'Movies\'.","setting.yourCurrentSources":"Your photo sources","setting.btAddSource":"Add source folder","setting.ifDeletePath":"Delete this path?","setting.noSourceFolderSelected":"You have not added any source folders","setting.folderIsNotExist":"File/Folder no longer exists","setting.userManage":"Users","setting.basePort":"Basic service port","setting.basePortHttps":"Basic service port [https]","setting.webDavPort":"WebDav service port","setting.FTPPort":"FTP service port","setting.transFlvPort":"Transcoding service port","setting.saveSuccessRestartValid":"Saved successfully, it will take effect after restarting the client","setting.saveSuccess":"Successfully saved","setting.saveSuccessRestart":"Saved successfully,Take effect after restart","setting.portSetting":"Port settings","setting.videoCodecSetting":"Video transcoding settings","setting.photoFuncsSetting":"Photo management settings","setting.videoSubtitleFontSize":"Subtitle size","setting.videoCoder":"Video coder","setting.ifPortInUserWillAdd":"If the set port is occupied by other programs, it will be automatically extended backward","setting.changeCachePathAlert":"After modifying the cache directory, you need to restart the client for it to take effect. You need to manually delete the original cached data, and the thumbnail cache will be generated again in real time when you access pictures and videos next time.","user.updateUserInfo":"Update user","user.addNewUser":"Add new user","user.noUserToChoose":"No users available","user.subCountNum":"Number of sub-users","user.admin":"Admin","user.commonUser":"General user","user.logout":"Exit","user.powerPhoto":"Photo","user.powerMovie":"Movie","user.powerMusic":"Music","user.powerFolder":"Files permissions","user.powerBooks":"Books","user.addFolderPowerPath":"Add folders browsing permission","user.selectImpowerPath":"Select the path to be authorized to the user","user.powerSet":"Permission","user.goToSetSourcePath":"Without any source path","user.haveAllPower":"All permissions","user.sureDeleteUser":"Are you sure you want to delete the user? This operation cannot be reversed!","user.hadSameUsername":"A user with the same name already exists","user.addPhotoPowerPath":"Add photo authorization","user.addMoviePowerPath":"Add movie authorization","user.addMusicPowerPath":"Add music authorization","user.addBookPowerPath":"Add books authorization","user.cancelPathPower":"Cancel","user.sureCancelPathPower":"Are you sure you want to remove all permissions for this path from the user?","photo.camera":"Camera model","photo.help":"Space: Play video/Live Photo  Left/Right Arrow Keys: Navigate to previous/next  Del Key: Send to Trash","photo.cover":"Cover","photo.contain":"Contain","photo.aiFaceMinPhotoCount":"Hide people when the number of photos is less than","photo.addSourceAlert":"The source directory will be scanned in the background and thumbnails will be generated. The progress can be viewed on the home page later. Please wait patiently.","photo.changePeople":"Change people","photo.changePeopleAlert":"Who these photos belong to?","photo.library":"Photo Library","photo.solar":"Solar","photo.lunar":"Lunar","photo.leftSimilarGroupCount":"{count} sets of duplicate photos waiting to be processed","photo.createAlbumByFolder":"Create album from folder","photo.sourcePathUnusable":"Source directory is not available, please check {path}","photo.setFacePoster":"Set as poster","photo.waitDealCount":"Number of files waiting to be processed: {count}","photo.waitCompareFaceCount":"Face comparison is in progress, the remaining number: {count}","photo.indexingNoAi":"Photo indexing, pause processing AI recognition","photo.removeFromFace":"Move out","photo.photoCount":"Photos:{photoCount}","photo.andriodPrimaryPlayer":"Android Preferred Player","photo.onlySupportPhoto":"Only JPG photos can be modified","photo.mergePerson":"Merge","photo.mergePersonAlert":"Are you sure you want to merge these faces?","photo.atleastTwoPersonMerge":"Select at least two faces to merge","photo.changeName":"Modify name","photo.personNameTooLong":"Name is too long [less than 50 characters]","photo.inputPersonName":"Enter the person\'s name","photo.deletePerson":"Delete this person","photo.noPersonPlaceHolder":"Photos will be automatically scanned for people who appear in your photos","photo.sameNameMerged":"Person with the same name will be merged","photo.unnamed":"Unnamed","photo.sureDeletePerson":"Are you sure you want to delete this person from \'People\'?","photo.changeUserName":"Change the person\'s name to [{name}], sure?","photo.classes":"Automatically scan and categorize your photos","photo.tag":"tag","photo.enableClass":"Enable photo classification","photo.enableSimilarPhoto":"Enable duplicate photo scanning","photo.enableAiFace":"Enable face recognition","photo.aiClasses":"Objects","photo.aiFace":"People","photo.aiSimilarPhoto":"Photo Deduplicate","photo.noSimilarPhoto":"Will scan for duplicate photos at idle","photo.checkKeepPhoto":"Check the photos you want to keep","photo.keepAll":"keep all photos","photo.moveSimilarToTrash":"Move Duplicate Photos to Trash","photo.deleteAlbum":"Delete Album","photo.gpsAddSuccess":"Location added","photo.gpsAdd":"GPS supplement","photo.noPendingPhotos":"No pending photos","photo.sureSkipAddGps":"Are you sure you don\'t want to add a location to these photos?","photo.sureAddGps":"Are you sure you want to add the currently selected location to these photos?","photo.searchPlace":"Search a place","photo.restorePosition":"Reset to recommended location","photo.skipAddGps":"skip these photos","photo.wirteGps":"Write location to photos","photo.confirmPhotoLocation":"Confirm the photo location (click the map to modify)","photo.dealListForAddGps":"Photos to be supplemented with location information","photo.noCanAddGpsPhoto":"No photos found to supplement the location","photo.addPhotoGpsInfo":"Supplementary photo location information","photo.recentCheck":"Recent","photo.searchPlaceHolder":"filename/model","photo.whichAlbumWanToAdd":"Which album to add to?","photo.addToAlbum":"Add to album","photo.youHaveNoAlbum":"You don\'t have an album yet, go create one","photo.addAlbumSuc":"Successfully added to the album","photo.removeFromAlbum":"Remove from album","photo.removeFromAlbumSuc":"Removed from album","photo.changePosition":"Whether to modify the photo location information, this operation will modify the photo exif, do you want to confirm?","photo.all":"All","tools":"Tool kit","photo.confirmPutInTrash":"Put in trash?","photo.putInTrash":"Put in trash","photo.photo":"Photo","photo.video":"Video","photo.album":"Album","photo.image":"Image","photo.ordinaryAlbum":"Album","photo.smartAlbum":"Smart Album","photo.folder":"Folder","photo.holidays":"Holidays","photo.myAlbum":"My Album","photo.map":"Map","photo.selectPhotoTakeTime":"Choose time","photo.confirmChangePhotoTime":"Modify the shooting time?","photo.footprint":"Footprint","photo.fileCount":"projects","photo.5km":"5km","photo.10km":"10km","photo.80km":"80km","photo.300km":"300km","photo.near":"Nearby","photo.timeOrder":"Timeline order","photo.timeline":"Timeline","photo.privateSpace":"Private","photo.stillIndexTryLater":"Still scanning, please try again later","photo.sureChangeNewPhoto":"Changes will be saved as a new file, save?","photo.saveSucReturnToCheck":"Saved successfully","photo.setSourceFolder":"Set source folder","photo.noSourceSetAlert":"You have not set the source folder, if you want to use the photo service, please set the source folder first","movie.creator":"Creator","movie.deleteNfoPoster":"Delete nfo and poster","movie.crew":"Cast and crew","movie.myMedia":"My Media","movie.newTv":"Latest TV","movie.newMovie":"Latest Movie","movie.defaultRaion":"Preferred transcoding resolution","movie.tvDeleteSure":"You are deleting the TV series. The folder where the TV series is located will be deleted entirely. Do you confirm?","movie.tmdbLinkError":"TMDB connection failed","movie.tmdbLinkSuc":"TMDB connection successful","movie.tmdbKeyAlert":"Apply at https://www.themoviedb.org. If not filled in, the default Token will be used.","movie.tmdbUrlAlert":"The API url for requesting TMDB data, usually https://api.tmdb.org or https://api.themoviedb.org. If you don’t know what this means, please do not modify it.","movie.infoDatabase":"Preferred Movie Database","movie.transcodeSetting":"Transcoding settings","movie.subtitleSetting":"Subtitle settings","movie.playSetting":"Playback settings","movie.longPressSpeed":"Long press play rate","movie.videoInfoSetting":"Video database settings","movie.score":"Score","movie.primaryLanguage":"Preferred subtitle language","movie.sureDeletePath":"Do you want to delete path?","movie.library":"Movie library","movie.atleastOnePath":"Choose at least one path","movie.libraryAuthUser":"The subusers who can see this library","movie.libraryUserAlert":"You need to authorize the corresponding source paths in user management so that subusers can see content","movie.libraryIncludePath":"Path in library","movie.favorite":"Fav","movie.lastTime":"Progress","movie.posterSize":"Poster size","movie.useInfo":"Use this information","movie.addCover":"Add cover","movie.deleteCover":"Delete cover","movie.noSourceSetAlert":"You have not set the source folder, if you want to use the movie service, please set the source folder first","movie.selectSubtitleInServer":"Subtitle in server","movie.subtitleNoSupport":"Only support .ass and .srt file","movie.coverFileNoSupport":"Only jpeg and png are supported","movie.pleaseInputCollectionName":"Please enter an collection name","movie.pleaseCompleteFilterInfo":"Please complete the filter","movie.yearLimit":"Year must be between 1800-2200","movie.deleteNfoFirst":"To modify the movie information, delete the nfo file first","setting.addExcludePathPlaceholder":"Enter exclusion keyword, like: /excludeDir","setting.scan":"Scan now","setting.excludePath":"Path exclusion","setting.addExcludePath":"Add exclusion path","setting.other":"Others","setting.excludeFilename":"Filename exclusion","setting.excludePathAlert":"Paths containing these keywords will be hidden","setting.excludeFilenameAlert":"Files containing these keywords will be hidden","photo.filterAlubm":"Condition album","photo.filterInfo":"Condition","photo.atleastOnefilterInfo":"Add at least one filter condition","photo.goToSet":"Go to settings","photo.genningTinyImage":"Generate thumbnail...","photo.doingAiFaces":"Ai face recognition...","photo.doingAiClasses":"Classifying in AI...","photo.doingPhash":"Scanning for duplicate photos...","movie.scrap":"Scrape again","movie.scrapAlert":"This media will be re-scraped with information such as nfo and cover. are you sure?","movie.scrapFailAlert":"Scraping failed, media information not found, please try manual search","movie.conditionFilter":"Condition filter","movie.year":"year","movie.clearNfo":"Clear nfo and poster","movie.clearNfoAlert":"All nfo files and poster images in this folder will be deleted and re-scraped from the network. Are you sure?","movie.filterValue":"Condition value","movie.smartCollectionExample":"Example: if you want to filter files containing \'abc\' in the file name, you can select [\'file name\'] [\'contains\'] [\'abc\'] below","movie.smartCollectionExampleB":"Example: if you want to filter files with a year greater than 2000, you can select [\'year\'] [\'greater than\'] [\'2000\'] below","movie.smartCollectionExampleC":"To filter according to movie information, you need to turn on [Movie Information Matching Switch] in the configuration of the source folder","WhereToMove":"Where to move?","movie.history":"History","movie.addToCollection":"Move to collection","movie.noCollection":"There\'s no collection yet. Go ahead and create one","movie.addToCollectionFolderAlert":"Move all the videos in the folder to the collection?","movie.removeFromCollection":"Move out","movie.addCollection":"Add collection","movie.addSmartCollection":"Add smart collection","movie.editCollection":"Edit collection","movie.addCollectionPlaceholder":"Enter collection name","movie.collectionIsNeedPwd":"Enable password","movie.collectionPwdPlaceholder":"Enter access password","movie.addCollectionAlert":"Add collection, management is more flexible and convenient","movie.addLibraryAlert":"Display content from multiple different source folders (or subfolders of source folders) ","movie.addLibrary":"Add library","movie.addLibraryPlaceholder":"Enter library name","movie.addSmartCollectionAlert":"Add a smart collection, filter movies according to the conditions, the movies will be automatically summarized into the smart collection","movie.clearHistory":"Clear history","movie.collection":"Collections","movie.smartCollection":"Smart collections","movie.mediaType":"Media type","movie.parsingSubtitle":"Parsing subtitle...","movie.movieSet":"Settings","movie.relatedPictures":"Related pictures","movie.indexDeleted":"Index deleted","movie.movieFilter":"Filter movies","movie.showMatchName":"Movie display name","movie.useSameFolderPoster":"Use the pictures in the same folder as the poster","movie.subtitlePreGen":"Subtitle preextraction","movie.subtitlePrenGenClose":"It can be turned off in \'Movies\' -> Settings","movie.subtitlePreGenAlert":"Pre-extract the subtitle track in the video to the cache folder, which can greatly improve the subtitle loading speed during playback","movie.selectSourceFolder":"Filter source folder","movie.selectLanguage":"Language","movie.selectRegion":"Region","movie.selectGenres":"Genres","successAndRefresh":"The operation was successful, please refresh the page later to view the results","movie.privateVideoCannotSeek":"The video in the private space is decrypted in real time in the form of a stream, and the \'Seek\' is not supported for the time being","movie.confirmMovieInfo":"Use {movieName} ?","album.youHaveNoAlbumYet":"You don\'t have an album yet, click the button above to add it","movie.confirClearMovieInfo":"The nfo and cover files related to movies or TV series will be deleted. Are you sure","movie.matchMovieInfo":"Scrape search","movie.channelLayout":"Channel Layout","movie.channels":"Channels","movie.movie":"Movie","movie.tvdrama":"Tv","movie.streamVideo":"Video","movie.otherTv":"TV LIST","movie.setAsTv":"Mark as TV show","movie.setAsMovie":"Mark as movie","movie.setAsTvAlert":"After setting as TV series, the videos in the same folder will be displayed together","movie.streamAudio":"Audio","movie.mediaInfo":"Media Info","movie.recentPlay":"Recent Play","movie.movieName":"Movie Name","movie.actors":"Actors","movie.director":"Director","movie.alias":"Alias","movie.genres":"Genres","movie.resources":"Resource type","movie.enableInfoMatch":"Automatically scrape .nfo and poster","movie.language":"Language","movie.storyline":"Storyline","movie.releaseDate":"Release Date","movie.regions":"Regions","movie.playRate":"Play rate","movie.continuePlay":"The last time it was played until \'{lastTime}\', do you want to continue playing?","movie.play":"Play","movie.audioChannel":"Audio Channel","movie.noOtherChannel":"No other channels can be selected","movie.alreadChangeChannelTo":"Switched channels to {channels}","movie.nascabPlayer":"NasCab player","movie.browserPlayer":"Browser player","movie.whatsDifferent":"What is the difference?","movie.differentExplain":"When playing the source file on some Android browsers, the browser will forcibly take over the video, causing you to be unable to select audio tracks and subtitles, choose NasCab player for transcoding playback","movie.upgradeAutoMatch":"Upgraded version that automatically matches movie posters and profiles","movie.playBegain":"Play","movie.resumePlay":"resume","movie.movieHome":"Media Library","movie.viewFolder":"Folder view","movie.createTime":"Creation time","movie.filename":"File name","movie.matchName":"Movie name","movie.listView":"List","movie.listViewView":"List View","movie.gridView":"Grid","movie.bitrate":"Bitrate","movie.resolution":"Resolution","movie.displayRatio":"Display Ratio","movie.codecName":"Codec Name","movie.frameRate":"Frame Rate","movie.pixFmt":"Pix Fmt","movie.subtitle":"Subtitles","movie.chooseSubtitle":"Select Subtitle","movie.chooseAudio":"Select audio","movie.audioIndex":"Audio","movie.continueWatch":"Continue to watch ","movie.openDuration":"Title length (seconds)","movie.endDuration":"Ending length (seconds)","movie.sikpOpenEnd":"Skip title and ending","movie.skippingMovieTitle":"Skipping the opening...","movie.skippingMovieEnd":"Skipping the end...","movie.searchPlaceHolder":"Enter filename to search","movie.selectLocalSubtitles":"Select subtitle file","album.setPhotoAsCover":"Set the picture as the cover?","album.changeAlbumName":"Modify album name","album.noAlubmDesc":"Smart albums can filter photos for you according to the specified map area, smart date, device model, etc.","album.noOrdinaryAlubmDesc":"The photos in the normal album are managed by yourself, you can add the photos in the timeline to the album","album.addAAlbum":"Add an album","album.addASmartAlbum":"Add a Smart Album","album.addAOrdinaryAlbum":"Add an album","album.geoAlbum":"Geofencing","album.geoAlbumDetail":"Photos in selected area","album.aiDateAlbum":"Smart Date Album","album.fixDate":"Fixed date","album.sectionDate":"Date range","album.aiDate":"Smart Date","album.dateType":"Date type","album.memoryDate":"Memorial Day","album.holidays":"Holidays","album.modeAlbum":"Camera Model","album.everyYear":"EveryYear","album.everyMonth":"EveryMonth","album.January":"January","album.February":"February","album.March":"March","album.April":"April","album.May":"May","album.June":"June","album.July":"July","album.August":"August","album.September":"September","album.October":"October","album.November":"November","album.December":"December","album.chooseDate":"Please select a date","album.chooseDateSection":"Please select a date range","album.albumName":"Album name","album.pleaseInputAlbumName":"Please enter album name","album.aiDateExample":"For example: your birthday is January 1st, you can select \'Every year on January 1st\', this way, photos taken on January 1st every year will be in this album","album.fixDateExample":"For example: you can set to display a certain date, or photos before or after a certain date","album.sectionDateExample":"For example: you can set a certain date range, photos taken in this range will be displayed in this album","album.geoAlbumExample":"Select an area on the map, the photos taken in this area will appear in the album, drag the map to the area you need, then click \'start selection\' to select the area, click the map and drag the mouse to select","album.modeAlbumExample":"Enter a camera model, photos taken by this camera will appear in the album","album.mode":"Camera model","album.pleaseInputMode":"Please enter camera model","album.selectArea":"Start select","album.clearSelectArea":"Clear selected","album.takePhotoDate":"Shooting date","album.pleaseSelectArea":"Please select a region","album.eq":"","album.gt":"After","album.lt":"Before","album.createAlbum":"Create album","file.multiDownloadAlert":"Whether to download multiple files? When using the browser, please allow pop-up windows, otherwise the download may fail. Folders will be downloaded in zip format","file.cannotCreateHere":"Cannot be created at current location","file.sureClearLog":"Do you want to clear all logs?","file.inputPath":"Input path","file.deletePath":"Delete path","file.addLocalPath":"Add a custom path","file.addLocalPathAlert":"For example:G:\\\\ or /A/B/C etc.","file.zip":"Compress to.zip","file.ziped":"Compressed","file.unzip":"Uncompress","file.zipAlert":"The file/folder will be compressed into zip format. Confirm?","file.showType":"Arrangement","file.switchShowType":"Switch arrangement","file.fileCount":"{count} files","file.cancelMutipleSelect":"Cancel multiple selection","file.recordSearchPlaceholder":"Path / FileName / UserName","file.operator":"Operator","file.maxShowCountAlert":"A maximum of 6000 files can be displayed","file.paste":"Paste","file.openInNewWindow":"Open in new window","file.failReason":"Reason for failure","file.stateStarted":"Started","file.stateStoped":"Stopped","file.operationType":"Operation type","file.sourcePath":"Source path","file.targetPath":"Target path","file.attr":"Properties","file.inputNewFileName":"Enter a new name","file.rootPath":"Root directory","file.size":"Size","file.copy":"Copy","file.copied":"{count} files has been copied","file.cutted":"{count}  file file has been clipped","file.cut":"Cut","file.cuttedSize":"clipped","file.cutToHere":"Cut {path} here?","file.copyToHere":"Copy {path} here?","file.canNotCopyToHere":"You cannot copy files to the current directory","file.sourceAndTargetSame":"A file/folder with the same name already exists at the current location","file.location":"Location","file.modifyTime":"Modified time","file.fileDeleteSure":"The file will be completely deleted and cannot be recovered. Confirm?","file.accessTime":"Access time","file.cannotCreate":"Could not create folder at this location","file.putInTrashSuc":"Already put in trash","file.putOutTrashSuc":"Put back","file.deleteSuc":"Deleted","file.fileDeleteSuc":"files have been successfully deleted","file.trashBin":"Trash","file.delete":"Delete","file.deleteFail":"Failed to delete file, file may be in use","file.deleteAll":"Delete All","file.restore":"Recover","file.restoreAll":"Recover All","file.doAllRestore":"All files will be put back?","file.doAllDelete":"All files will be permanently deleted, confirm?","file.confirmDelete":"files will be permanently deleted, confirm?","file.selectIt":"select","file.goDetail":"See details","file.deleteForever":"Remove completely","file.fileExifInfo":"Meta data","file.resetTinyImg":"Reset thumbnail","file.chooseFolder":"Select folder","file.clickChooseFolder":"Click to select folder","file.returnLastPath":"Back to previous","file.currentPath":"Current directory","file.doubleClickFolderEnter":"Double click on a folder to go to the next level","file.resetTinyImgSuccess":"Thumbnail reset successfully, the next refresh will use the latest generated thumbnail","file.noSelectAnything":"You did not choose any path","file.sureSelectPath":"Selected path","file.sourcePathRoo":"Source folder root","file.fileList":"List Files","file.collect":"Favorites","file.recent":"Recent","file.logs":"Logs","file.deleteAllCollect":"Clear Favorites?","file.deleteAllRecent":"Clear recent visits?","file.cancelCollect":"Unfavorite","file.deleteRecent":"Delete this record","file.newFolder":"New folder","file.check":"Check","file.collectSuccess":"Add success","file.deleteFromRecent":"Remove from \'Recents\'","file.clearCollect":"Empty \'Favorites\'","file.clearRecents":"Empty \'Recents\'","file.sureClearCollect":"Empty \'Favorites\'?","file.sureClearRecents":"Empty \'Recents\'?","file.inputNewFolderName":"Enter new folder name","file.noFolderSelected":"You don\'t have any folders selected","file.noAccessPower":"Missing folder write/read permissions","video.helpContent":"Space key: toggle play/pause\\nCtrl: hold to speed up playback\\nArrow keys [left/right]: fast forward/rewind","video.speedingPlay":"Playing accelerating...","video.rawPlayAlert":"If the picture/sound/subtitle is missing, please try transcoding to play","video.closeSubtitle":"Close subtitles","video.originalBitrate":"Original","video.volumn":"Volume","video.duration":"Duration","video.errorRetryPlay":"There seems to be a problem with playback, do you need to reload?","video.netErrorRetryPlay":"Network connection error, retry?","video.subtitleUploadFailed":"Subtitle upload failed","video.code_raw":"Original file","video.noMoreVideo":"No more videos","video.autoPlayOn":"Autoplay is on","video.autoPlayOff":"Autoplay is off","video.videoIsNotSupportCoding":"The source file format is not supported","video.autoTranscodeStart":"The encoding of the original file is not supported. Automatically transcoded","video.playError":"Play error","video.whatIsBitate":"With the same resolution, the higher the bitrate, the better the video quality,1mbps-5mbps are commonly used bitrate","video.transcodingIsNotOnline":"The transcoding service is not started, please check the client status","state.systemState":"System status","state.natAlert":"If you do not have a public IP address, you can access your NasCab from the public network by setting up NAT","state.ddnsAlert":"If you have a public IP address, you can access your NasCab from the public network by setting DDNS and port mapping","state.systemInfo":"System info","state.appRootPath":"NasCab installation directory","state.run":"Running","state.netStateNoFound":"No network information found","state.checkIfThePortInUse":"Please check if the port is occupied by other services","state.runPort":"Port","state.apiServer":"Basic services","state.fileShare":" File Sharing","state.lanUrl":"LAN access address","state.ipv6url":"IPV6 access address","state.ipv6alert":"The ipv6 access address will be displayed here after the router and network on the access side and server side support ipv6","state.serverState":"Service status","state.rtmpServer":"Real-time streaming service","state.flvServer":"Live transcoding service","state.error":"Not running","state.port":"Port","state.lanIp":"LAN access address","state.mem":"RAM","state.os":"OS","Crop":"Crop","ZoomIn":"ZoomIn","ZoomOut":"ZoomOut","Hand":"Hand","History":"History","DeleteAll":"DeleteAll","Delete":"Delete","Undo":"Undo","Redo":"Redo","Reset":"Reset","Flip":"Flip","Rotate":"Rotate","Draw":"Draw","Shape":"Shape","Icon":"Icon","Text":"Text","Mask":"Mask","Filter":"Filter","Bold":"Bold","Italic":"Italic","Underline":"Underline","Left":"Left","Center":"Center","Right":"Right","Color":"Color","Text size":"Text size","Custom":"Custom","Square":"Square","Apply":"Apply","Cancel":"Cancel","Flip X":"Flip X","Flip Y":"Flip Y","Range":"Range","Stroke":"Stroke","Fill":"Fill","Circle":"Circle","Triangle":"Triangle","Rectangle":"Rectangle","Free":"Free","Straight":"Straight","Arrow":"Arrow","Arrow-2":"Arrow-2","Arrow-3":"Arrow-3","Star-1":"Star-1","Star-2":"Star-2","Polygon":"Polygon","Location":"Location","Heart":"Heart","Bubble":"Bubble","Custom icon":"Custom icon","Load Mask Image":"Load Mask Image","Grayscale":"Grayscale","Blur":"Blur","Sharpen":"Sharpen","Emboss":"Emboss","Remove White":"Remove White","Distance":"Distance","Brightness":"Brightness","Noise":"Noise","Color Filter":"Color Filter","Sepia":"Sepia","Sepia2":"Sepia2","Invert":"Invert","Pixelate":"Pixelate","Threshold":"Threshold","Tint":"Tint","Multiply":"Multiply","Blend":"Blend","setting.custom":"Personalise","setting.vacuumDb":"Collate database","setting.vacuumDbAlert":"Defragmenting the database can compress the unused space in the database and reduce the size of the database file. Do you want to execute it?","setting.aiFaceResetAlert":"After the face recognition is reset, the face scanning will be triggered again, and the existing scanning results will be cleared. Are you sure?","setting.similarPhotoResetAlert":"Reset will trigger rescan duplicate photos. Are you sure?","setting.systemSetting":"System","setting.resetIndex":"Reset indexes","setting.resetIndexAlert":"This operation will delete all the scanned index data and clear the source folder records. You don\'t need to use this function unless it is necessary. Are you sure to reset?","setting.resetTinyImage":"Reset thumbnails","setting.resetTinyImageAlert":"This operation will delete all generated thumbnails and regenerate them. You do not need to use this function unless necessary. Are you sure to reset the thumbnails?","login.unlockScreen":"Unlock screen","login.checkConChannel":"Choose connection channel","login.saveUsernamePwd":"Auto login next time","login.forgetAnswer":"I forgot the security answer and the user name","login.forgetAnswerAlert":"If you forget the secret answer and user name, you can reset it by deleting the NasCab local database. The database directory is located in the database folder under the user data directory. The default location is: {dbPath}","upload.clearRecord":"Clear","upload.onFileNameConflict":"When filenames conflict ","upload.skip":"Skip","upload.over":"Cover","upload.uploadType":"Type","upload.files":"files","upload.folder":"folder","upload.rename":"Rename","upload.filenameTooLong":"File name is too long","upload.dropFilesUpload":"Click or Drop upload","upload.selectFile":"Select files","upload.selectFolder":"Select","upload.selectTargetFolder":"Destination folder","upload.targetFolder":"Upload destination folder:","upload.noSelected":"No selected","upload.upload":"Upload","upload.quickUpload":"Quick Upload","upload.uploadFail":"Upload failed","upload.recentUseFolder":"Recent","upload.useRecentFolder":"Use \'{recentFolder}\' as upload folder?","coco.person":"Person","coco.bicycle":"Bicycle","coco.car":"Car","coco.motorcycle":"Motorcycle","coco.airplane":"Airplane","coco.bus":"Bus","coco.train":"Train","coco.truck":"Truck/SUV","coco.boat":"Boat","coco.traffic light":"Traffic light","coco.fire hydrant":"Fire hydrant","coco.stop sign":"Stop sign","coco.parking meter":"Parking meter","coco.bench":"Bench","coco.bird":"Bird","coco.cat":"Cat","coco.dog":"Dog","coco.horse":"Horse","coco.sheep":"Sheep","coco.cow":"Cow","coco.elephant":"Elephant","coco.bear":"Wildlife","coco.zebra":"Zebra","coco.giraffe":"Giraffe","coco.backpack":"Backpack","coco.umbrella":"Umbrella","coco.handbag":"Handbag","coco.tie":"Tie","coco.suitcase":"Suitcase","coco.frisbee":"Frisbee","coco.skis":"Skis","coco.snowboard":"Snowboard","coco.sports ball":"Sports ball","coco.kite":"Kite","coco.baseball bat":"Baseball bat","coco.baseball glove":"Baseball glove","coco.skateboard":"Skateboard","coco.surfboard":"Surfboard","coco.tennis racket":"Tennis racket","coco.bottle":"Bottle","coco.wine glass":"Wine glass","coco.cup":"Cup","coco.fork":"Fork","coco.knife":"Knife","coco.spoon":"Spoon","coco.bowl":"Bowl","coco.banana":"Banana/Crescent","coco.apple":"Apple","coco.sandwich":"Sandwich","coco.orange":"Orange","coco.broccoli":"Broccoli","coco.carrot":"Carrot","coco.hot dog":"Hot dog","coco.pizza":"Pizza","coco.donut":"Donut","coco.cake":"Cake","coco.chair":"Chair","coco.couch":"Couch","coco.potted plant":"Potted plant","coco.bed":"Bed","coco.dining table":"Dining table","coco.toilet":"Toilet","coco.tv":"TV/Frame","coco.laptop":"Laptop","coco.mouse":"Mouse","coco.remote":"Remote","coco.keyboard":"Keyboard","coco.cell phone":"Phone","coco.oven":"Oven","coco.toaster":"Toaster","coco.sink":"Sink","coco.refrigerator":"Refrigerator","coco.book":"Book","coco.clock":"Clock","coco.vase":"Vase","coco.scissors":"Scissors","coco.teddy bear":"Teddy bear","coco.hair drier":"Hair drier","coco.toothbrush":"Toothbrush"}')},"4d06":function(e,t,i){i("3a74")},"4d16":function(e,t,i){i("de5c")},"4fe7":function(e,t,i){i.d(t,"m",function(){return s}),i.d(t,"k",function(){return r}),i.d(t,"a",function(){return l}),i.d(t,"l",function(){return d}),i.d(t,"j",function(){return h}),i.d(t,"c",function(){return p}),i.d(t,"o",function(){return f}),i.d(t,"g",function(){return m}),i.d(t,"f",function(){return g}),i.d(t,"h",function(){return y}),i.d(t,"i",function(){return v}),i.d(t,"e",function(){return b}),i.d(t,"b",function(){return _}),i.d(t,"n",function(){return C}),i.d(t,"d",function(){return k}),i.d(t,"p",function(){return x}),i.d(t,"q",function(){return T});var n,a=i("b85c");i("d9e2"),i("99af"),i("4de4"),i("c740"),i("c975"),i("14d9"),i("13d5"),i("fb6a"),i("a434"),i("b0c0"),i("e9f5"),i("910d"),i("9485"),i("d3b7"),i("ac1f"),i("25f0"),i("5319");var o=i("2b0e").default.prototype.$isServer;function s(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1}function r(e){var t,i;return o?0:(!e&&void 0!==n||((e=document.createElement("div")).style.width="100%",e.style.height="200px",(i=(t=document.createElement("div")).style).position="absolute",i.top=0,i.left=0,i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",t.appendChild(e),document.body.appendChild(t),i=e.offsetWidth,t.style.overflow="scroll",i===(e=e.offsetWidth)&&(e=t.clientWidth),document.body.removeChild(t),n=i-e),n)}var l=!o&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1),c=/([\:\-\_]+(.))/g,u=/^moz([A-Z])/;function d(t,i){if(!t||!i)return null;"float"===(i=i.replace(c,function(e,t,i,n){return n?i.toUpperCase():i}).replace(u,"Moz$1"))&&(i="cssFloat");try{var e=document.defaultView.getComputedStyle(t,"");return t.style[i]||e?e[i]:null}catch(e){return t.style[i]}}function h(e){return e.toString()[0].toUpperCase()+e.toString().slice(1)}function p(e){var t,i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)];if("array"===i)t=[];else{if("object"!==i)return e;t={}}if("array"===i)for(var n=0;n<e.length;n++)t.push(p(e[n]));else if("object"===i)for(var o in e)t[o]=p(e[o]);return t}function f(s){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=2<arguments.length?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:500,a=4<arguments.length?arguments[4]:void 0,n=(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}),Math.abs(e-t));!function e(t,i,n){var o;t!==i?(o=i<t?t-n<i?i:t-n:i<t+n?i:t+n,s===window?window.scrollTo(o,o):s.scrollTop=o,window.requestAnimationFrame(function(){return e(o,i,n)})):a&&a()}(e,t,Math.ceil(n/i*50))}function m(e,t,i){i="string"==typeof t?[t]:t;for(var n=e.$parent,o=n.$options.name;n&&(!o||i.indexOf(o)<0);)(n=n.$parent)&&(o=n.$options.name);return n}function g(e,t){var e=e.$children,i=null;if(e.length){var n,o=Object(a.a)(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.$options.name===t){i=s;break}if(i=g(s,t))break}}catch(e){o.e(e)}finally{o.f()}}return i}function y(e,i){return e.$children.reduce(function(e,t){t.$options.name===i&&e.push(t);t=y(t,i);return e.concat(t)},[])}function v(e,t){var i=[],e=e.$parent;return e?(e.$options.name===t&&i.push(e),i.concat(v(e,t))):[]}function b(t,i){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=t.$parent.$children.filter(function(e){return e.$options.name===i}),o=n.findIndex(function(e){return e._uid===t._uid});return e&&n.splice(o,1),n}var w=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function S(e,t){if(e&&t){if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")}}function _(e,t){if(e){for(var i=e.className,n=(t||"").split(" "),o=0,s=n.length;o<s;o++){var a=n[o];a&&(e.classList?e.classList.add(a):S(e,a)||(i+=" "+a))}e.classList||(e.className=i)}}function C(e,t){if(e&&t){for(var i=t.split(" "),n=" "+e.className+" ",o=0,s=i.length;o<s;o++){var a=i[o];a&&(e.classList?e.classList.remove(a):S(e,a)&&(n=n.replace(" "+a+" "," ")))}e.classList||(e.className=w(n))}}var k={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px"};function x(){"undefined"!=typeof window&&(window.matchMedia=window.matchMedia||function(e){return{media:e,matches:!1,on:function(){},off:function(){}}})}var T=/#([^#]+)$/},5039:function(e,t,i){},"515b":function(e,t,i){},"522e":function(e,t,i){e.exports=i.p+"img/15.e82d042d.jpg"},"54ec":function(e,t,i){i("d944")},5546:function(e,t,i){},"56d7":function(B,F,i){i.r(F),i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("14d9"),i("b64b"),i("d3b7"),i("ac1f"),i("00b4"),i("25f0");var a=i("2b0e"),F=(i("4de4"),i("caad"),i("c975"),i("a434"),i("e9f5"),i("910d"),i("e9c4"),i("2532"),i("2ca0"),i("25a9")),e=i("455b"),r=i("2cc5"),R=i("be3b"),F={watch:{$route:function(e,t){e.path.includes("login")&&(this.uploadIsShow=!1)}},components:{Upload:F.a,bgTask:e.a},provide:function(){return{reload:this.reload}},data:function(){return{modalList:[],isInputing:!1,runInElectron:!1,currentPageLevel:1,animationName:"fade",initFinish:!1,bgTaskIsShow:!1,uploadIsShow:!1,confirmDialogTitle:"",confirmOkTitle:"",confirmCancelTitle:"",confirmDialogContent:"",confirmDialogOkCallback:null,confirmDialogCancelCallback:null,confirmCancelTimer:null,alertDialogTitle:"",alertDialogContent:"",alertDialogCallback:null,languages:[{label:"简体中文",value:"zh-CN"},{label:"English",value:"en-US"},{label:"中文[繁體]",value:"zh-TW"}],isRouterAlive:!0}},beforeDestroy:function(){this.$bus.$off("onSerchFocus"),this.$bus.$off("onSerchBlur"),window.removeEventListener("popstate",this.onPopstate)},mounted:function(){var e=this,t=this.getToken(),t=(t&&(this.$store.state.token=t),this.getCurrentUser());t&&(this.$store.state.currentUser=t),this.isMobile()?a.default.prototype.isMobile=!0:a.default.prototype.isMobile=!1,-1<navigator.userAgent.toLowerCase().indexOf(" electron/")?(localStorage.setItem("runInElectron",!0),this.$store.commit("setRunInElectron",!0),this.runInElectron=!0):(localStorage.setItem("runInElectron",!1),this.$store.commit("setRunInElectron",!1)),this.getLanguageApi(),a.default.prototype.showVsAlertDialog=this.showVsAlertDialog,a.default.prototype.showVsConfirmDialog=this.showVsConfirmDialog,a.default.prototype.switchUpload=this.switchUpload,a.default.prototype.switchBgTask=this.switchBgTask,a.default.prototype.runInElectron=this.runInElectron,a.default.prototype.dealOnPageScroll=this.dealOnPageScroll,a.default.prototype.pushState=this.pushState,a.default.prototype.openNewWebViewByPath=this.openNewWebViewByPath,a.default.prototype.goPathNewWebView=this.goPathNewWebView,a.default.prototype.goPath=this.goPath,a.default.prototype.copyText=this.copyText,a.default.prototype.goHome=this.goHome,a.default.prototype.goToSetting=this.goToSetting,a.default.prototype.isInHome=this.isInHome,a.default.prototype.showOpenInSystem=this.showOpenInSystem,a.default.prototype.openInSystem=this.openInSystem,a.default.prototype.downloadFile=this.downloadFile,a.default.prototype.isIosSupportRawPlayer=this.isIosSupportRawPlayer,a.default.prototype.openMusicPage=this.openMusicPage,a.default.prototype.openBooksPage=this.openBooksPage,a.default.prototype.scanPath=this.scanPath,a.default.prototype.isShowingDialog=this.isShowingDialog,a.default.prototype.addModalToList=this.addModalToList,a.default.prototype.historyBack=this.historyBack,a.default.prototype.isFromApp="app"==localStorage.getItem("from"),this.initFinish=!0,this.$bus.$on("onSerchFocus",function(){e.isInputing=!0}),this.$bus.$on("onSerchBlur",function(){e.isInputing=!1}),window.addEventListener("popstate",this.onPopstate)},computed:{showOpenInSystem:function(){return this.runInElectron||localStorage&&localStorage.reqIp&&"localhost"==localStorage.reqIp}},methods:{historyBack:function(){window.history&&window.history.back()},addModalToList:function(e){e&&(this.modalList.push(e),this.pushState())},closeTopModal:function(){0<this.modalList.length?(this.modalList[this.modalList.length-1].close(),this.modalList.splice(this.modalList.length-1,1)):this.$bus.$emit("onDispatchPopstate")},onPopstate:function(e){var t=document.querySelector(".lg-backdrop");t&&"none"!==t.style.display?this.$bus.$emit("eventCloseLightGallery"):this.closeTopModal()},isShowingDialog:function(){var e=!1;return(e=0<document.getElementsByClassName("vs-dialog-content").length?!0:e)||this.isInputing},isIosSupportRawPlayer:function(){return!!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.videoPlayerBridge)},scanPath:function(e,t){var i=this;e&&t&&this.api.post("/api/sourceFolderApi/scanPath",{scanPath:t,sourceType:e}).then(function(e){e.code||i.showVsNotification(i.$t("alreadyInQueue"))})},openInSystem:function(e,t,i,n){this.showOpenInSystem&&this.api.post("/api/commonApi/openInSystem",{folder:e,filename:t,fullPath:i,openType:n}).then(function(e){})},isInHome:function(){return-1!=window.location.href.indexOf("/home")},goToSetting:function(e){1==this.$store.state.currentUser.is_admin?this.goPathNewWebView("/setting?pageName="+e,this.$t("home.settingCenter"),{pageName:e}):this.showVsNotification(this.$t("common.noPermission"))},goHome:function(){document.body.clientWidth<=640&&this.isMobile()?this.$router.push({path:"/homeMobile"}):this.$router.push({path:"/home"})},copyText:function(e){var t=navigator.clipboard;t&&(t.writeText(e),this.showVsNotification(this.$t("system.copied")))},getBasePath:function(){var e=window.location.pathname.split("/").filter(Boolean);return 0<e.length?"/".concat(e[0]):""},openMusicPage:function(){var e="".concat(this.getBasePath(),"/music/index.html");window.open(e,"_blank")},openBooksPage:function(){var e="".concat(this.getBasePath(),"/book/manager");window.open(e,"_blank")},goPathNewWebView:function(e,t,i,n){this.isFromApp?r.a.onOpenNewWebViewByPath(e,t):n?(location.href,"music"==e?this.openMusicPage():"book/manager"==e?this.openBooksPage():(t=location.protocol+"//"+window.location.host+"/#"+e,window.open(t,"_blank"))):this.goPath(e,i)},pushState:function(){window.history&&window.history.pushState&&(document.URL,history.pushState(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,null,document.URL))},isMobile:function(){var e,t,i=!1;return e=!1,t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),t=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,i=e||t||-1<(e=navigator.userAgent).indexOf("Android")||-1<e.indexOf("Adr")?!0:i},switchBgTask:function(){this.isMobile()&&(this.uploadIsShow=!1),this.bgTaskIsShow=!this.bgTaskIsShow},switchUpload:function(e,t){this.isFromApp&&r.a&&e?r.a.onClickUpload(t,this.$store.state.token):(this.isMobile()&&(this.bgTaskIsShow=!1),!1===e||!0===e?(this.uploadIsShow=e,t&&this.$refs.uploadComponent.onSelectPath(t)):this.uploadIsShow=!this.uploadIsShow)},showVsAlertDialog:function(e,t,i){e=e||this.$t("common.alert"),this.alertDialogTitle=e,this.alertDialogContent=t,this.$refs.appAlertDialog.setShow(!0),this.alertDialogCallback=i},showVsConfirmDialog:function(e,t,i,n,o,s,a,r,l,c){var u=this;this.confirmOkTitle=o||this.$t("common.ok"),this.confirmCancelTitle=s||this.$t("common.cancel"),this.confirmDialogTitle=e||this.$t("common.confirm"),this.confirmDialogContent=t,this.$refs.appConfirmDialog.setShow(!0,a,r,l),this.confirmDialogOkCallback=i,this.confirmDialogCancelCallback=n,c&&(this.confirmCancelTimer=setTimeout(function(){u.$refs.appConfirmDialog.setShow(!1)},c))},onAlertClick:function(){this.alertDialogCallback&&(this.alertDialogCallback(),this.alertDialogCallback=null)},onConfirmOkClick:function(e){this.confirmCancelTimer&&clearTimeout(this.confirmCancelTimer),this.confirmDialogOkCallback&&(this.confirmDialogOkCallback(e),this.confirmDialogOkCallback=null)},onConfirmCancelClick:function(){this.confirmCancelTimer&&clearTimeout(this.confirmCancelTimer),this.confirmDialogCancelCallback&&(this.confirmDialogCancelCallback(),this.confirmDialogCancelCallback=null)},onSelectLanguage:function(e){this.setLanguageApi(e)},getLanguageApi:function(){var t=this;this.api.post("/api/commonApi/getLanguage").then(function(e){e.code||(e.data?(t.$store.state.language=e.data,t.$i18n.locale=e.data,localStorage.language=e.data):t.$refs.languageDialog.setShow(!0))})},setLanguageApi:function(t){var i=this;this.api.post("/api/commonApi/setLanguage",{language:t}).then(function(e){e.code||(i.$i18n.locale=t)})},reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})},dealOnPageScroll:function(e,t,i){var n=null,o=null,s=(e.srcElement?(n=e.srcElement.scrollTop,o=e.srcElement.scrollHeight):e.target?(n=e.target.scrollTop,o=e.target.scrollHeight):e.srcElement.scrollingElement&&(n=e.srcElement.scrollingElement.scrollTop,o=e.srcElement.scrollingElement.scrollHeight),document.documentElement.clientHeight);!o&&e.srcElement.scrollingElement&&(o=e.srcElement.scrollingElement.scrollHeight),s<n?i&&i(!0):i&&i(!1),o-5<=n+s&&t&&t()},downloadFile:function(e){var t=this;try{android&&null!=android.downloadFiles||localStorage.ios}catch(e){}var i,n=[];for(i in e){var o=e[i];-1==o.indexOf("&raw=1")&&(o+="&raw=1"),-1==o.indexOf("&download=1")&&(o+="&download=1"),o.startsWith("http")||(o=window.location.protocol+"//"+window.location.host+o),n.push(o)}if(this.isFromApp)r.a.downloadFiles(JSON.stringify(n));else for(var s in n)(()=>{var e=n[s];setTimeout(function(){t.isFromApp?r.a.openInBrowser(e):window.open(e,"_blank")},500*s)})()},goPath:function(e,t){this.switchUpload(!1),this.$router.push({path:e,query:t})}}},e=(i("9b0c"),i("2877")),j=Object(e.a)(F,function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"background-color":"white"},attrs:{id:"app"}},[e("keep-alive",[t.$route.meta.keepAlive&&t.isRouterAlive?e("router-view"):t._e()],1),e("transition",{attrs:{name:t.animationName}},[!t.$route.meta.keepAlive&&t.isRouterAlive?e("router-view"):t._e()],1),e("my-dialog-confirm",{ref:"appConfirmDialog",attrs:{title:t.confirmDialogTitle,content:t.confirmDialogContent,btOkTitle:t.confirmOkTitle,btCancelTitle:t.confirmCancelTitle},on:{onOkClick:t.onConfirmOkClick,onCancelClick:t.onConfirmCancelClick}}),e("my-dialog-alert",{ref:"appAlertDialog",attrs:{preventClose:!1,title:t.alertDialogTitle,content:t.alertDialogContent},on:{onOkClick:t.onAlertClick}}),e("my-dialog-select",{ref:"languageDialog",attrs:{options:t.languages,isBlur:!0,title:t.$t("setting.language"),placeholder:t.$t("setting.chooseLanguage")},on:{onOkClick:t.onSelectLanguage}}),t.initFinish?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.uploadIsShow,expression:"uploadIsShow"}],staticClass:"upload-wrapper"},[e("Upload",{ref:"uploadComponent"})],1)]):t._e(),t.initFinish?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.bgTaskIsShow,expression:"bgTaskIsShow"}],staticClass:"bgtask-wrapper"},[e("bg-task",{on:{setBgTaskShow:function(e){t.bgTaskIsShow=e}}})],1)]):t._e()],1)},[],!1,null,null,null).exports,U=i("a18c"),F=i("4360"),V=i("dc95"),$=i("d3a4"),z=(i("19c4"),i("c6d6"),i("caf9"));i("f6e1");i("e25e");var W={name:"EasyCm",data:function(){return{show:!1,axis:{x:0,y:0}}},props:{tag:{},list:{required:!0},underline:{default:!1},arrow:{default:!1},border:{default:!0},itemWidth:{default:140},itemHeight:{default:36},itemSize:{default:14},offset:{default:function(){return{x:6,y:2}}},borderWidth:{default:6}},mounted:function(){var t=this;this.$nextTick(function(){document.addEventListener("click",function(){t.show=!1})}),this.$root.$on("easyAxis",function(e){e.tag==t.tag&&(t.show=!0,t.axis=e)}),this.$bus.$on("eventOnCloseEasycm",this.hide)},beforeDestroy:function(){this.$bus.$off("eventOnCloseEasycm",this.hide)},watch:{axis:function(){var e,t;this.border&&(e=document.body.offsetWidth,t=document.body.offsetHeight,this.axis.x+this.offset.x+this.itemWidth>=e&&(this.axis.x=e-this.itemWidth-this.borderWidth-this.offset.x),this.axis.y+this.offset.y+this.itemHeight*this.list.length>=t)&&(this.axis.y=t-this.itemHeight*this.list.length-this.borderWidth-this.offset.y)}},computed:{axisComputed:function(){return{top:this.axis.y+this.offset.y+"px",left:this.axis.x+this.offset.x+"px"}},liStyle:function(){return{width:this.itemWidth+"px",height:this.itemHeight+"px",lineHeight:this.itemHeight+"px",fontSize:this.itemSize+"px"}},firstLeft:function(){var e=document.body.offsetWidth;return this.axis.x+2*this.itemWidth>=e},secondLeft:function(){var e=document.body.offsetWidth;return this.axis.x+3*this.itemWidth>=e}},methods:{secondBorderCheck:function(e){var t=document.body.offsetWidth,i=document.body.offsetHeight,n=this.axis.y+(e+this.list[e].children.length)*this.itemHeight;return{left:this.axis.x+2*this.itemWidth>=t?"-100%":"100%",top:n<=i?0:-(this.list[e].children.length-1)*this.itemHeight+"px"}},thirdBorderCheck:function(e,t){var i=document.body.offsetWidth,n=document.body.offsetHeight,o=this.axis.y+this.list[e].children[t].children.length*this.itemHeight+(e+t)*this.itemHeight+parseInt(this.secondBorderCheck(e).top);return{left:this.axis.x+3*this.itemWidth>=i?"-100%":"100%",top:n<o?-(this.list[e].children[t].children.length-1)*this.itemHeight+"px":0}},onMenuClick:function(e){this.show=!1,this.$emit("ecmcb",e)},hide:function(){this.show=!1}}};i("45a5");var H=Object(e.a)(W,function(){var o=this,s=o._self._c;return o.show&&0<o.list.length?s("div",{staticClass:"cm-container",style:o.axisComputed},[s("svg",{staticStyle:{position:"absolute",width:"0px",height:"0px",overflow:"hidden"},attrs:{"aria-hidden":"true"}},[s("symbol",{attrs:{id:"icon-youjiantou",viewBox:"0 0 1024 1024"}},[s("path",{attrs:{d:"M288.791335 65.582671l446.41733 446.417329-446.41733 446.417329z"}})])]),s("ul",{staticClass:"cm-ul cm-ul-1 easy-cm-ul",class:o.underline?"cm-underline":""},o._l(o.list,function(e,n){return s("li",{style:o.liStyle},[s("div",{class:o.firstLeft?"cm-left":"",on:{click:function(e){return e.stopPropagation(),o.onMenuClick([n])}}},[s("span",[o._v(o._s(e.text))]),o.arrow&&e.children&&0<e.children.length?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-youjiantou"}})]):o._e()]),e.children&&0<e.children.length?s("ul",{staticClass:"cm-ul cm-ul-2 easy-cm-ul",class:o.underline?"cm-underline":"",style:o.secondBorderCheck(n)},o._l(e.children,function(e,i){return s("li",{style:o.liStyle},[s("div",{class:o.secondLeft?"cm-left":"",on:{click:function(e){return e.stopPropagation(),o.onMenuClick([n,i])}}},[s("i",{class:e.icon}),s("span",[o._v(o._s(e.text))]),o.arrow&&e.children&&0<e.children.length?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-youjiantou"}})]):o._e()]),e.children&&0<e.children.length?s("ul",{staticClass:"cm-ul cm-ul-3 easy-cm-ul",class:o.underline?"cm-underline":"",style:o.thirdBorderCheck(n,i)},o._l(e.children,function(e,t){return s("li",{style:o.liStyle},[s("div",{on:{click:function(e){return e.stopPropagation(),o.onMenuClick([n,i,t])}}},[s("i",{class:e.icon}),s("span",[o._v(o._s(e.text))])])])}),0):o._e()])}),0):o._e()])}),0)]):o._e()},[],!1,null,"56534454",null).exports,W={install:function(e){e.component("easy-cm",H),e.prototype.$easycm=function(e,t,i){e.stopPropagation(),e.preventDefault(),t.$emit("easyAxis",{tag:i,x:e.clientX,y:e.clientY})}}},q=("undefined"!=typeof window&&window.Vue&&window.Vue.use(W),i("a342"),i("9751"),i("d930")),G=i("19cb"),G=i.n(G),Y=(i("e0f1"),i("d81d"),i("ab43"),i("d4ec")),t=i("bee2"),Q=(i("d9e2"),i("99af"),i("fb6a"),i("7d54"),i("1276"),i("159b"),{backdrop:!0,button:!0,navbar:!1,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null}),n="undefined"!=typeof window&&void 0!==window.document,o=n?window:{},l=!(!n||!o.document.documentElement)&&"ontouchstart"in o.document.documentElement,s=!!n&&"PointerEvent"in o,f="viewer",K="move",c="zoom",X="".concat(f,"-active"),Z="".concat(f,"-close"),J="".concat(f,"-fade"),ee="".concat(f,"-fixed"),te="".concat(f,"-fullscreen"),ie="".concat(f,"-fullscreen-exit"),m="".concat(f,"-hide"),ne="".concat(f,"-hide-md-down"),oe="".concat(f,"-hide-sm-down"),se="".concat(f,"-hide-xs-down"),u="".concat(f,"-in"),g="".concat(f,"-invisible"),y="".concat(f,"-loading"),ae="".concat(f,"-move"),re="".concat(f,"-open"),d="".concat(f,"-show"),h="".concat(f,"-transition"),v="click",le="dblclick",ce="dragstart",ue="focusin",de="keydown",b="load",w="error",he=s?"pointerdown":l?"touchstart":"mousedown",pe=s?"pointermove":l?"touchmove":"mousemove",fe=s?"pointerup pointercancel":l?"touchend touchcancel":"mouseup",p="transitionend",me="viewed",ge="rotated",ye="".concat(f,"Action"),ve=/\s\s*/,be=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"],we=i("5530"),Se=i("53ca");function _e(e){return"string"==typeof e}i("a15b"),i("4e82"),i("9129"),i("7a82"),i("5319"),i("498a");var Ce=Number.isNaN||o.isNaN;function S(e){return"number"==typeof e&&!Ce(e)}function _(e){return void 0===e}function C(e){return"object"===Object(Se.a)(e)&&null!==e}var ke=Object.prototype.hasOwnProperty;function xe(e){if(!C(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&ke.call(i,"isPrototypeOf")}catch(e){return!1}}function k(e){return"function"==typeof e}function x(t,i){if(t&&k(i))if(Array.isArray(t)||S(t.length))for(var e=t.length,n=0;n<e&&!1!==i.call(t,t[n],n,t);n+=1);else C(t)&&Object.keys(t).forEach(function(e){i.call(t,t[e],e,t)})}var T=Object.assign||function(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return C(i)&&0<t.length&&t.forEach(function(t){C(t)&&Object.keys(t).forEach(function(e){i[e]=t[e]})}),i},Te=/^(?:width|height|left|top|marginLeft|marginTop)$/;function I(e,t){var i=e.style;x(t,function(e,t){Te.test(t)&&S(e)&&(e+="px"),i[t]=e})}function P(e,t){return e&&t&&(e.classList?e.classList.contains(t):-1<e.className.indexOf(t))}function A(e,t){var i;e&&t&&(S(e.length)?x(e,function(e){A(e,t)}):e.classList?e.classList.add(t):(i=e.className.trim())?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t)}function D(e,t){e&&t&&(S(e.length)?x(e,function(e){D(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function Ie(e,t,i){t&&(S(e.length)?x(e,function(e){Ie(e,t,i)}):(i?A:D)(e,t))}var Pe=/([a-z\d])([A-Z])/g;function Ae(e){return e.replace(Pe,"$1-$2").toLowerCase()}function E(e,t){return C(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Ae(t)))}function De(e,t,i){C(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Ae(t)),i)}Oe=!1,n&&(Ee=!1,s=function(){},n=Object.defineProperty({},"once",{get:function(){return Oe=!0,Ee},set:function(e){Ee=e}}),o.addEventListener("test",s,n),o.removeEventListener("test",s,n));var Ee,Oe,Le=Oe;function O(i,e,n,t){var o=3<arguments.length&&void 0!==t?t:{},s=n;e.trim().split(ve).forEach(function(e){var t;Le||(t=i.listeners)&&t[e]&&t[e][n]&&(s=t[e][n],delete t[e][n],0===Object.keys(t[e]).length&&delete t[e],0===Object.keys(t).length)&&delete i.listeners,i.removeEventListener(e,s,o)})}function L(s,e,a,t){var r=3<arguments.length&&void 0!==t?t:{},l=a;e.trim().split(ve).forEach(function(n){var e,o;r.once&&!Le&&(e=s.listeners,l=function(){delete o[n][a],s.removeEventListener(n,l,r);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.apply(s,t)},(o=void 0===e?{}:e)[n]||(o[n]={}),o[n][a]&&s.removeEventListener(n,o[n][a],r),o[n][a]=l,s.listeners=o),s.addEventListener(n,l,r)})}function N(e,t,i,n){var o;return k(Event)&&k(CustomEvent)?o=new CustomEvent(t,Object(we.a)({bubbles:!0,cancelable:!0,detail:i},n)):(o=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(o)}function Ne(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,o=e.translateX,e=e.translateY,s=[],o=(S(o)&&0!==o&&s.push("translateX(".concat(o,"px)")),S(e)&&0!==e&&s.push("translateY(".concat(e,"px)")),S(t)&&0!==t&&s.push("rotate(".concat(t,"deg)")),S(i)&&1!==i&&s.push("scaleX(".concat(i,")")),S(n)&&1!==n&&s.push("scaleY(".concat(n,")")),s.length?s.join(" "):"none");return{WebkitTransform:o,msTransform:o,transform:o}}var Me=o.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(o.navigator.userAgent);function Be(i,e,t){var n,o=document.createElement("img");return i.naturalWidth&&!Me?t(i.naturalWidth,i.naturalHeight):(n=document.body||document.documentElement,o.onload=function(){t(o.width,o.height),Me||n.removeChild(o)},x(e.inheritedAttributes,function(e){var t=i.getAttribute(e);null!==t&&o.setAttribute(e,t)}),o.src=i.src,Me||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))),o}function Fe(e){switch(e){case 2:return se;case 3:return oe;case 4:return ne;default:return""}}function Re(e,t){var i=e.pageX,e=e.pageY,n={endX:i,endY:e};return t?n:Object(we.a)({timeStamp:Date.now(),startX:i,startY:e},n)}var je,M={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,t=e.body||e.documentElement;this.body=t,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=t.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e,t=this.options,i=this.parent;t.inline&&(e={width:Math.max(i.offsetWidth,t.minWidth),height:Math.max(i.offsetHeight,t.minHeight)},this.parentData=e),!this.fulled&&e||(e=this.containerData),this.viewerData=T({},e)},renderViewer:function(){this.options.inline&&!this.fulled&&I(this.viewer,this.viewerData)},initList:function(){var r=this,e=this.element,l=this.options,c=this.list,u=[];c.innerHTML="",x(this.images,function(i,e){var t,n,o=i.src,s=i.alt||(_e(s=o)?decodeURIComponent(s.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""),a=r.getImageURL(i);(o||a)&&(t=document.createElement("li"),n=document.createElement("img"),x(l.inheritedAttributes,function(e){var t=i.getAttribute(e);null!==t&&n.setAttribute(e,t)}),n.src=o||a,n.alt=s,n.setAttribute("data-original-url",a||o),t.setAttribute("data-index",e),t.setAttribute("data-viewer-action","view"),t.setAttribute("role","button"),l.keyboard&&t.setAttribute("tabindex",0),t.appendChild(n),c.appendChild(t),u.push(t))}),x(this.items=u,function(t){var e,i,n=t.firstElementChild;De(n,"filled",!0),l.loading&&A(t,y),L(n,b,e=function(e){O(n,w,i),l.loading&&D(t,y),r.loadImage(e)},{once:!0}),L(n,w,i=function(){O(n,b,e),l.loading&&D(t,y)},{once:!0})}),l.transition&&L(e,me,function(){A(c,h)},{once:!0})},renderList:function(){var e,t,i=this.index,n=this.items[i];n&&(e=n.nextElementSibling,e=parseInt(window.getComputedStyle(e||n).marginLeft,10),n=n.offsetWidth,I(this.list,T({width:(t=n+e)*this.length-e},Ne({translateX:(this.viewerData.width-n)/2-t*i}))))},resetList:function(){var e=this.list;e.innerHTML="",D(e,h),I(e,Ne({translateX:0}))},initImage:function(r){var e,l=this,c=this.options,t=this.image,i=this.viewerData,n=this.footer.offsetHeight,u=i.width,d=Math.max(i.height-n,n),h=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=Be(t,c,function(e,t){var i=e/t,n=u,o=d,s=(l.imageInitializing=!1,u<d*i?o=u/i:n=d*i,n=Math.min(.9*n,e),o=Math.min(.9*o,t),(u-n)/2),a=(d-o)/2,s={left:s,top:a,x:s,y:a,width:n,height:o,oldRatio:1,ratio:n/e,aspectRatio:i,naturalWidth:e,naturalHeight:t},a=T({},s);c.rotatable&&(s.rotate=h.rotate||0,a.rotate=0),c.scalable&&(s.scaleX=h.scaleX||1,s.scaleY=h.scaleY||1,a.scaleX=1,a.scaleY=1),l.imageData=s,l.initialImageData=a,r&&r()})},renderImage:function(e){var t,i=this,n=this.image,o=this.imageData;I(n,T({width:o.width,height:o.height,marginLeft:o.x,marginTop:o.y},Ne(o))),e&&((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&P(n,h)?(t=function(){i.imageRendering=!1,e()},this.imageRendering={abort:function(){O(n,p,t)}},L(n,p,t,{once:!0})):e())},resetImage:function(){var e;(this.viewing||this.viewed)&&(e=this.image,this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null)}},s={bind:function(){var e=this.options,t=this.viewer,i=this.canvas,n=this.element.ownerDocument;L(t,v,this.onClick=this.click.bind(this)),L(t,ce,this.onDragStart=this.dragstart.bind(this)),L(i,he,this.onPointerDown=this.pointerdown.bind(this)),L(n,pe,this.onPointerMove=this.pointermove.bind(this)),L(n,fe,this.onPointerUp=this.pointerup.bind(this)),L(n,de,this.onKeyDown=this.keydown.bind(this)),L(window,"resize",this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&L(t,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&L(i,le,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,i=this.canvas,n=this.element.ownerDocument;O(t,v,this.onClick),O(t,ce,this.onDragStart),O(i,he,this.onPointerDown),O(n,pe,this.onPointerMove),O(n,fe,this.onPointerUp),O(n,de,this.onKeyDown),O(window,"resize",this.onResize),e.zoomable&&e.zoomOnWheel&&O(t,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&O(i,le,this.onDblclick)}},n=(i("a9e3"),{click:function(e){var t=this.options,i=this.imageData,n=e.target,o=E(n,ye);switch(o||"img"!==n.localName||"li"!==n.parentElement.localName||(o=E(n=n.parentElement,ye)),l&&e.isTrusted&&n===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():t.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(E(n,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(t.loop);break;case"play":this.play(t.fullscreen);break;case"next":this.next(t.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(l&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this,t=(this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),this.element),i=this.options,n=this.image,o=this.index,s=this.viewerData;D(n,g),i.loading&&D(this.canvas,y),n.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ie(n,ae,i.movable),Ie(n,h,i.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,k(i.viewed)&&L(t,me,i.viewed,{once:!0}),N(t,me,{originalImage:e.images[o],index:o,image:n},{cancelable:!1})})})},loadImage:function(e){var n=e.target,e=n.parentNode,o=e.offsetWidth||30,s=e.offsetHeight||50,a=!!E(n,"filled");Be(n,this.options,function(e,t){var e=e/t,t=o,i=s;o<s*e?a?t=s*e:i=o/e:a?i=o/e:t=s*e,I(n,T({width:t,height:i},Ne({translateX:(o-t)/2,translateY:(s-i)/2})))})},keydown:function(e){var t=this.options;if(t.keyboard){var i=e.keyCode||e.which||e.charCode;if(13===i&&this.viewer.contains(e.target)&&this.click(e),this.fulled)switch(i){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle())}}},dragstart:function(e){"img"===e.target.localName&&e.preventDefault()},pointerdown:function(e){var t=this.options,i=this.pointers,n=e.buttons,o=e.button;!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(S(n)&&1!==n||S(o)&&0!==o||e.ctrlKey)||(e.preventDefault(),e.changedTouches?x(e.changedTouches,function(e){i[e.identifier]=Re(e)}):i[e.pointerId||0]=Re(e),n=!!t.movable&&K,t.zoomOnTouch&&t.zoomable&&1<Object.keys(i).length?n=c:t.slideOnTouch&&("touch"===e.pointerType||"touchstart"===e.type)&&this.isSwitchable()&&(n="switch"),!t.transition||n!==K&&n!==c||D(this.image,h),this.action=n)},pointermove:function(e){var t=this.pointers,i=this.action;this.viewed&&i&&(e.preventDefault(),e.changedTouches?x(e.changedTouches,function(e){T(t[e.identifier]||{},Re(e,!0))}):T(t[e.pointerId||0]||{},Re(e,!0)),this.change(e))},pointerup:function(e){var t,i=this,n=this.options,o=this.action,s=this.pointers;e.changedTouches?x(e.changedTouches,function(e){t=s[e.identifier],delete s[e.identifier]}):(t=s[e.pointerId||0],delete s[e.pointerId||0]),o&&(e.preventDefault(),!n.transition||o!==K&&o!==c||A(this.image,h),this.action=!1,l)&&o!==c&&t&&Date.now()-t.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){N(i.image,le,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){N(i.canvas,v,{originalEvent:e})},50))))},resize:function(){var t=this;this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played)&&(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?this.stop():x(this.player.getElementsByTagName("img"),function(e){L(e,b,t.loadImage.bind(t),{once:!0}),N(e,b)}))},wheel:function(e){var t,i,n=this;this.viewed&&(e.preventDefault(),!this.wheeling)&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t=Number(this.options.zoomRatio)||.1,i=1,e.deltaY?i=0<e.deltaY?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=0<e.detail?1:-1),this.zoom(-i*t,!0,e))}}),Ue={show:function(){var e,t,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.element,o=this.options;return o.inline||this.showing||this.isShown||this.showing||(this.ready?(k(o.show)&&L(n,"show",o.show,{once:!0}),!1!==N(n,"show")&&this.ready&&(this.hiding&&this.transitioning.abort(),this.showing=!0,this.open(),D(e=this.viewer,m),e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby",this.title.id),e.setAttribute("aria-modal",!0),e.removeAttribute("aria-hidden"),o.transition&&!i?(t=this.shown.bind(this),this.transitioning={abort:function(){O(e,p,t),D(e,u)}},A(e,h),e.initialOffsetWidth=e.offsetWidth,L(e,p,t,{once:!0}),A(e,u)):(A(e,u),this.shown()))):(this.build(),this.ready&&this.show(i))),this},hide:function(){var t,e,i,n,o,s=this,a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=this.element,l=this.options;return l.inline||this.hiding||!this.isShown&&!this.showing||(k(l.hide)&&L(r,"hide",l.hide,{once:!0}),!1!==N(r,"hide")&&(this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort(),t=this.viewer,e=this.image,i=function(){D(t,u),s.hidden()},l.transition&&!a?(n=function(e){e&&e.target===t&&(O(t,p,n),s.hidden())},o=function(){P(t,h)?(L(t,p,n),D(t,u)):i()},this.transitioning={abort:function(){s.viewed&&P(e,h)?O(e,p,o):P(t,h)&&O(t,p,n)}},this.viewed&&P(e,h)?(L(e,p,o,{once:!0}),this.zoomTo(0,!1,null,!0)):o()):i())),this},view:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex,e=Number(e)||0;if(!(this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)){if(!this.isShown)return this.index=e,this.show();this.viewing&&this.viewing.abort();var t,n,o,s=this.element,a=this.options,r=this.title,l=this.canvas,c=this.items[e],u=c.querySelector("img"),d=E(u,"originalUrl"),h=u.getAttribute("alt"),p=document.createElement("img");x(a.inheritedAttributes,function(e){var t=u.getAttribute(e);null!==t&&p.setAttribute(e,t)}),p.src=d,p.alt=h,k(a.view)&&L(s,"view",a.view,{once:!0}),!1===N(s,"view",{originalImage:this.images[e],index:e,image:p})||!this.isShown||this.hiding||this.played||((d=this.items[this.index])&&(D(d,X),d.removeAttribute("aria-selected")),A(c,X),c.setAttribute("aria-selected",!0),a.focus&&c.focus(),this.image=p,this.viewed=!1,this.index=e,this.imageData={},A(p,g),a.loading&&A(l,y),l.innerHTML="",l.appendChild(p),this.renderList(),r.innerHTML="",L(s,me,o=function(){var e=i.imageData,t=Array.isArray(a.title)?a.title[1]:a.title;r.innerHTML=_e(t=k(t)?t.call(i,p,e):"".concat(h," (").concat(e.naturalWidth," × ").concat(e.naturalHeight,")"))?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},{once:!0}),this.viewing={abort:function(){O(s,me,o),p.complete?i.imageRendering?i.imageRendering.abort():i.imageInitializing&&i.imageInitializing.abort():(p.src="",O(p,b,t),i.timeout&&clearTimeout(i.timeout))}},p.complete?this.load():(L(p,b,t=function(){O(p,w,n),i.load()},{once:!0}),L(p,w,n=function(){O(p,b,t),i.timeout&&(clearTimeout(i.timeout),i.timeout=!1),D(p,g),a.loading&&D(i.canvas,y)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){D(p,g),i.timeout=!1},1e3)))}return this},prev:function(){var e=this.index-1;return e<0&&(e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.length-1:0),this.view(e),this},next:function(){var e=this.length-1,t=this.index+1;return this.view(t=e<t?0<arguments.length&&void 0!==arguments[0]&&arguments[0]?0:e:t),this},move:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData;return this.moveTo(_(e)?e:i.x+Number(e),_(t)?t:i.y+Number(t)),this},moveTo:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=this.element,s=this.options,a=this.imageData;if(e=Number(e),i=Number(i),this.viewed&&!this.played&&s.movable){var r=a.x,l=a.y,c=!1;if(S(e)?c=!0:e=r,S(i)?c=!0:i=l,c){if(k(s.move)&&L(o,"move",s.move,{once:!0}),!1===N(o,"move",{x:e,y:i,oldX:r,oldY:l,originalEvent:n}))return this;a.x=e,a.y=i,a.left=e,a.top=i,this.moving=!0,this.renderImage(function(){t.moving=!1,k(s.moved)&&L(o,"moved",s.moved,{once:!0}),N(o,"moved",{x:e,y:i,oldX:r,oldY:l,originalEvent:n},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this,i=this.element,n=this.options,o=this.imageData;if(S(e=Number(e))&&this.viewed&&!this.played&&n.rotatable){var s=o.rotate;if(k(n.rotate)&&L(i,"rotate",n.rotate,{once:!0}),!1===N(i,"rotate",{degree:e,oldDegree:s}))return this;o.rotate=e,this.rotating=!0,this.renderImage(function(){t.rotating=!1,k(n.rotated)&&L(i,ge,n.rotated,{once:!0}),N(i,ge,{degree:e,oldDegree:s},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=this.element,o=this.options,s=this.imageData;if(e=Number(e),i=Number(i),this.viewed&&!this.played&&o.scalable){var a=s.scaleX,r=s.scaleY,l=!1;if(S(e)?l=!0:e=a,S(i)?l=!0:i=r,l){if(k(o.scale)&&L(n,"scale",o.scale,{once:!0}),!1===N(n,"scale",{scaleX:e,scaleY:i,oldScaleX:a,oldScaleY:r}))return this;s.scaleX=e,s.scaleY=i,this.scaling=!0,this.renderImage(function(){t.scaling=!1,k(o.scaled)&&L(n,"scaled",o.scaled,{once:!0}),N(n,"scaled",{scaleX:e,scaleY:i,oldScaleX:a,oldScaleY:r},{cancelable:!1})})}}return this},zoom:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=this.imageData;return e=Number(e),this.zoomTo(n.width*(e=e<0?1/(1-e):1+e)/n.naturalWidth,t,i),this},zoomTo:function(e){var i,n,o,t=this,s=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],l=this.element,c=this.options,u=this.pointers,d=this.imageData,h=d.x,p=d.y,f=d.width,m=d.height,g=d.naturalWidth,y=d.naturalHeight;if(S(e=Math.max(0,e))&&this.viewed&&!this.played&&(r||c.zoomable)){if(r||(r=Math.max(.01,c.minZoomRatio),b=Math.min(100,c.maxZoomRatio),e=Math.min(Math.max(e,r),b)),a)switch(a.type){case"wheel":.055<=c.zoomRatio&&.95<e&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":.99<e&&e<1.01&&(e=1)}var v,r=g*e,b=y*e,g=r-f,y=b-m,w=d.ratio;if(k(c.zoom)&&L(l,"zoom",c.zoom,{once:!0}),!1===N(l,"zoom",{ratio:e,oldRatio:w,originalEvent:a}))return this;this.zooming=!0,a?(v={left:(v=(v=this.viewer).getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:v.top+(window.pageYOffset-document.documentElement.clientTop)},u=u&&0<Object.keys(u).length?(o=n=i=0,x(u,function(e){var t=e.startX;i+=t,n+=e.startY,o+=1}),{pageX:i/=o,pageY:n/=o}):{pageX:a.pageX,pageY:a.pageY},d.x-=(u.pageX-v.left-h)/f*g,d.y-=(u.pageY-v.top-p)/m*y):(d.x-=g/2,d.y-=y/2),d.left=d.x,d.top=d.y,d.width=r,d.height=b,d.oldRatio=w,d.ratio=e,this.renderImage(function(){t.zooming=!1,k(c.zoomed)&&L(l,"zoomed",c.zoomed,{once:!0}),N(l,"zoomed",{ratio:e,oldRatio:w,originalEvent:a},{cancelable:!1})}),s&&this.tooltip()}return this},play:function(){var e,o,s,a,r,l,c,t,i=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.isShown&&!this.played&&(e=this.element,k((o=this.options).play)&&L(e,"play",o.play,{once:!0}),!1!==N(e,"play")&&(s=this.player,a=this.loadImage.bind(this),r=[],c=l=0,this.played=!0,this.onLoadWhenPlay=a,n&&this.requestFullscreen(n),A(s,d),x(this.items,function(e,t){var i=e.querySelector("img"),n=document.createElement("img");n.src=E(i,"originalUrl"),n.alt=i.getAttribute("alt"),n.referrerPolicy=i.referrerPolicy,l+=1,A(n,J),Ie(n,h,o.transition),P(e,X)&&(A(n,u),c=t),r.push(n),L(n,b,a,{once:!0}),s.appendChild(n)}),S(o.interval))&&0<o.interval&&(t=function(){i.playing=setTimeout(function(){D(r[c],u),A(r[c=(c+=1)<l?c:0],u),t()},o.interval)},1<l))&&t(),this},stop:function(){var e,t,i=this;return this.played&&(e=this.element,k((t=this.options).stop)&&L(e,"stop",t.stop,{once:!0}),!1!==N(e,"stop"))&&(t=this.player,this.played=!1,clearTimeout(this.playing),x(t.getElementsByTagName("img"),function(e){O(e,b,i.onLoadWhenPlay)}),D(t,d),t.innerHTML="",this.exitFullscreen()),this},full:function(){var e=this,t=this.options,i=this.viewer,n=this.image,o=this.list;return this.isShown&&!this.played&&!this.fulled&&t.inline&&(this.fulled=!0,this.open(),A(this.button,ie),t.transition&&(D(o,h),this.viewed)&&D(n,h),A(i,ee),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),I(i,{zIndex:t.zIndex}),t.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=T({},this.containerData),this.renderList(),this.viewed)&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){A(n,h),A(o,h)},0)})}),this},exit:function(){var e=this,t=this.options,i=this.viewer,n=this.image,o=this.list;return this.isShown&&!this.played&&this.fulled&&t.inline&&(this.fulled=!1,this.close(),D(this.button,ie),t.transition&&(D(o,h),this.viewed)&&D(n,h),t.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),D(i,ee),I(i,{zIndex:t.zIndexInline}),this.viewerData=T({},this.parentData),this.renderViewer(),this.renderList(),this.viewed)&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){A(n,h),A(o,h)},0)})}),this},tooltip:function(){var e=this,t=this.options,i=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&t.tooltip&&(i.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&N(i,p),A(i,d),A(i,J),A(i,h),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,A(i,u)):(A(i,d),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){t.transition?(L(i,p,function(){D(i,d),D(i,J),D(i,h),i.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),D(i,u),e.fading=!0):(D(i,d),i.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3)),this},toggle:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return 1===this.imageData.ratio?this.zoomTo(this.imageData.oldRatio,!0,e):this.zoomTo(1,!0,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=T({},this.initialImageData),this.renderImage()),this},update:function(){var n,o,t=this,e=this.element,i=this.options,s=this.isImg;return s&&!e.parentNode?this.destroy():(n=[],x(s?[e]:e.querySelectorAll("img"),function(e){k(i.filter)?i.filter.call(t,e)&&n.push(e):t.getImageURL(e)&&n.push(e)}),n.length&&(this.images=n,this.length=n.length,this.ready?(o=[],x(this.items,function(e,t){var e=e.querySelector("img"),i=n[t];i&&e&&i.src===e.src&&i.alt===e.alt||o.push(t)}),I(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(s=o.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(Math.min(this.index-s,this.length-1),0))):(A(e=this.items[this.index],X),e.setAttribute("aria-selected",!0))):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this)},destroy:function(){var e=this.element,t=this.options;return e[f]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||O(e,v,this.onStart),e[f]=void 0),this}},Ve=(i("acd8"),{getImageURL:function(e){var t=this.options.url;return t=_e(t)?e.getAttribute(t):k(t)?t.call(this,e):""},enforceFocus:function(){var n=this;this.clearEnforceFocus(),L(document,ue,this.onFocusin=function(e){var t=n.viewer,i=e.target;if(i!==document&&i!==t&&!t.contains(i)){for(;i;){if(null!==i.getAttribute("tabindex")||"true"===i.getAttribute("aria-modal"))return;i=i.parentElement}t.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(O(document,ue,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;A(e,re),e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var e=this.body;D(e,re),e.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var e=this.element,t=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,t.focus&&(i.focus(),this.enforceFocus()),k(t.shown)&&L(e,"shown",t.shown,{once:!0}),!1!==N(e,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options,i=this.viewer;t.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),A(i,m),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(k(t.hidden)&&L(e,"hidden",t.hidden,{once:!0}),N(e,"hidden",null,{cancelable:!1}))},requestFullscreen:function(e){var t=this.element.ownerDocument;this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&((t=t.documentElement).requestFullscreen?xe(e)?t.requestFullscreen(e):t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t,s,i=this.options,n=this.pointers,o=n[Object.keys(n)[0]];if(o){var a=o.endX-o.startX,r=o.endY-o.startY;switch(this.action){case K:this.move(a,r,e);break;case c:this.zoom((l=n,t=Object(we.a)({},l),s=[],x(l,function(o,e){delete t[e],x(t,function(e){var t=Math.abs(o.startX-e.startX),i=Math.abs(o.startY-e.startY),n=Math.abs(o.endX-e.endX),e=Math.abs(o.endY-e.endY),t=Math.sqrt(t*t+i*i),i=Math.sqrt(n*n+e*e);s.push((i-t)/t)})}),s.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),s[0]),!1,e);break;case"switch":this.action="switched";var l=Math.abs(a);1<l&&l>Math.abs(r)&&(this.pointers={},1<a?this.prev(i.loop):a<-1&&this.next(i.loop))}x(n,function(e){e.startX=e.endX,e.startY=e.endY})}},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return 1<this.length&&0<=e.x&&0<=e.y&&e.width<=t.width&&e.height<=t.height}}),$e=o.Viewer,ze=(je=-1,function(){return je+=1}),o=Object(t.a)(We,[{key:"init",value:function(){var e,t,i,n,o=this,s=this.element,a=this.options;s[f]||(s[f]=this,a.focus&&!a.keyboard&&(a.focus=!1),e="img"===s.localName,t=[],x(e?[s]:s.querySelectorAll("img"),function(e){k(a.filter)?a.filter.call(o,e)&&t.push(e):o.getImageURL(e)&&t.push(e)}),this.isImg=e,this.length=t.length,this.images=t,this.initBody(),_(document.createElement(f).style.transition)&&(a.transition=!1),a.inline?(i=0,n=function(){var e;(i+=1)===o.length&&(o.initializing=!1,o.delaying={abort:function(){clearTimeout(e)}},e=setTimeout(function(){o.delaying=!1,o.build()},0))},this.initializing={abort:function(){x(t,function(e){e.complete||(O(e,b,n),O(e,w,n))})}},x(t,function(e){var t,i;e.complete?n():(L(e,b,t=function(){O(e,w,i),n()},{once:!0}),L(e,w,i=function(){O(e,b,t),n()},{once:!0}))})):L(s,v,this.onStart=function(e){e=e.target;"img"!==e.localName||k(a.filter)&&!a.filter.call(o,e)||o.view(o.images.indexOf(e))}))}},{key:"build",value:function(){var e,s,t,i,n,o,a,r,l,c,u,d,h,p;this.ready||(e=this.element,s=this.options,t=e.parentNode,(h=document.createElement("div")).innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',h=(i=h.querySelector(".".concat(f,"-container"))).querySelector(".".concat(f,"-title")),n=i.querySelector(".".concat(f,"-toolbar")),p=i.querySelector(".".concat(f,"-navbar")),o=i.querySelector(".".concat(f,"-button")),a=i.querySelector(".".concat(f,"-canvas")),this.parent=t,this.viewer=i,this.title=h,this.toolbar=n,this.navbar=p,this.button=o,this.canvas=a,this.footer=i.querySelector(".".concat(f,"-footer")),this.tooltipBox=i.querySelector(".".concat(f,"-tooltip")),this.player=i.querySelector(".".concat(f,"-player")),this.list=i.querySelector(".".concat(f,"-list")),i.id="".concat(f).concat(this.id),h.id="".concat(f,"Title").concat(this.id),A(h,s.title?Fe(Array.isArray(s.title)?s.title[0]:s.title):m),A(p,s.navbar?Fe(s.navbar):m),Ie(o,m,!s.button),s.keyboard&&o.setAttribute("tabindex",0),s.backdrop&&(A(i,"".concat(f,"-backdrop")),s.inline||"static"===s.backdrop||De(a,ye,"hide")),_e(s.className)&&s.className&&s.className.split(ve).forEach(function(e){A(i,e)}),s.toolbar?(r=document.createElement("ul"),l=xe(s.toolbar),c=be.slice(0,3),u=be.slice(7,9),d=be.slice(9),l||A(n,Fe(s.toolbar)),x(l?s.toolbar:be,function(e,t){var i,n=l&&xe(e),t=l?Ae(t):e,o=n&&!_(e.show)?e.show:e;!o||!s.zoomable&&-1!==c.indexOf(t)||!s.rotatable&&-1!==u.indexOf(t)||!s.scalable&&-1!==d.indexOf(t)||(i=n&&!_(e.size)?e.size:e,n=n&&!_(e.click)?e.click:e,e=document.createElement("li"),s.keyboard&&e.setAttribute("tabindex",0),e.setAttribute("role","button"),A(e,"".concat(f,"-").concat(t)),k(n)||De(e,ye,t),S(o)&&A(e,Fe(o)),-1!==["small","large"].indexOf(i)?A(e,"".concat(f,"-").concat(i)):"play"===t&&A(e,"".concat(f,"-large")),k(n)&&L(e,v,n),r.appendChild(e))}),n.appendChild(r)):A(n,m),s.rotatable||(A(h=n.querySelectorAll('li[class*="rotate"]'),g),x(h,function(e){n.appendChild(e)})),s.inline?(A(o,te),I(i,{zIndex:s.zIndexInline}),"static"===window.getComputedStyle(t).position&&I(t,{position:"relative"}),t.insertBefore(i,e.nextSibling)):(A(o,Z),A(i,ee),A(i,J),A(i,m),I(i,{zIndex:s.zIndex}),(p=(p=_e(p=s.container)?e.ownerDocument.querySelector(p):p)||this.body).appendChild(i)),s.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,k(s.ready)&&L(e,"ready",s.ready,{once:!0}),!1!==N(e,"ready")?this.ready&&s.inline&&this.view(this.index):this.ready=!1)}},{key:"renderList",value:function(){M()}},{key:"resetList",value:function(){M()}},{key:"initImage",value:function(){M(function(){M()})}},{key:"resetImage",value:function(){M()}}],[{key:"noConflict",value:function(){return window.Viewer=$e,We}},{key:"setDefaults",value:function(e){T(Q,xe(e)&&e)}}]);function We(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(Object(Y.a)(this,We),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=T({},Q,xe(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=ze(),this.init()}T(o.prototype,M,s,n,Ue,Ve);var He=o,qe=i("b85c");i("a4d3"),i("e01a");"undefined"!=typeof window&&null!==window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&!("isIntersecting"in window.IntersectionObserverEntry.prototype)&&Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});var Ge=Object.prototype.propertyIsEnumerable,Ye=Object.getOwnPropertySymbols;function Qe(e){return"function"==typeof e||"[object Object]"===toString.call(e)}function Ke(e){for(var t,i,n=0,o=arguments.length,s=new Array(1<o?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];for(i=e,e=(e=("object"===Object(Se.a)(i)?null===i:"function"!=typeof i)?s[n++]:e)||{};n<s.length;n++)if(Qe(s[n])){for(var r=0,l=Object.keys(s[n]);r<l.length;r++){var c=l[r];"__proto__"!==(t=c)&&"constructor"!==t&&"prototype"!==t&&(Qe(e[c])&&Qe(s[n][c])?Ke(e[c],s[n][c]):e[c]=s[n][c])}!function(e){if(!Qe(e))throw new TypeError("expected the first argument to be an object");for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(0!==i.length&&"function"==typeof Symbol&&"function"==typeof Ye)for(var o=0,s=i;o<s.length;o++){var a,r=s[o],l=Ye(r),c=Object(qe.a)(l);try{for(c.s();!(a=c.n()).done;){var u=a.value;Ge.call(r,u)&&(e[u]=r[u])}}catch(e){c.e(e)}finally{c.f()}}}(e,s[n])}return e}function Xe(){var e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).images,i=void 0===e?[]:e,t=Ke(void 0===(e=t.options)?{}:e,{inline:!1}),n=new(a.default.extend({render:function(t){return t("div",{style:{display:"none"},class:["__viewer-token"]},i.map(function(e){return t("img",{attrs:"string"==typeof e?{src:e}:e})}))}})),o=(n.$mount(),document.body.appendChild(n.$el),new He(n.$el,t)),s=o.destroy.bind(o);return o.destroy=function(){return s(),n.$destroy(),document.body.removeChild(n.$el),o},o.show(),n.$el.addEventListener("hidden",function(){this.viewer===o&&o.destroy()}),o}t=i("574d"),s=i.n(t),i("04f2"),n={props:{name:{default:"sidebar",type:String},initIndex:{default:0,type:Number},optionList:{default:[],type:Array}},components:{},data:function(){return{selectedIndex:this.initIndex}},created:function(){},methods:{itemClick:function(e){this.selectedIndex=e,this.$emit("onItemClick",this.optionList[e])},setIndex:function(e){this.selectedIndex=e},setSelectById:function(e){if(e)for(var t=0;t<this.optionList.length;t++)this.optionList[t].id==e&&(this.selectedIndex=t)}}};i("2439");Ue=Object(e.a)(n,function(){var i=this,n=i._self._c;return n("div",{staticClass:"my-sidebar-root"},i._l(i.optionList,function(e,t){return e.onlyAdmin&&(e.onlyAdmin,1!=i.$store.state.currentUser.is_admin)?i._e():n("div",{staticClass:"option-item"},[t==i.selectedIndex?n("div",{staticClass:"sign"}):i._e(),n("div",{staticClass:"item-content",on:{click:function(e){return i.itemClick(t)}}},[t==i.selectedIndex?n("span",{staticClass:"item-icon",class:e.font,staticStyle:{"font-size":"24px",width:"24px"}}):n("span",{staticClass:"item-icon-normal",class:e.font,staticStyle:{"font-size":"22px",width:"22px"}}),n("div",{staticClass:"item-title",style:{color:t==i.selectedIndex?"#386DF2":"#99AABF"}},[i._v(" "+i._s(e.title)+" ")])])])}),0)},[],!1,null,"7cd92cc7",null).exports,Ve=i("7cfd"),o={props:{initIndex:{default:0,type:Number},optionList:{default:[],type:Array}},computed:{getLogoImageUrl:function(){return localStorage.customLogoImage?R.a.getCustomFileUrl(localStorage.customLogoImage):i("9743")}},components:{},watch:{selectedIndex:function(e){this.itemClick(e)}},data:function(){return{activeSidebar:!1,selectedIndex:this.initIndex}},created:function(){},methods:{itemClick:function(e){var t=this;this.selectedIndex=e,this.activeSidebar=!1,this.$nextTick(function(){t.$emit("onItemClick",t.optionList[e])})},setIndex:function(e){this.selectedIndex=e},setSelectById:function(e){if(e)for(var t=0;t<this.optionList.length;t++)this.optionList[t].id==e&&(this.selectedIndex=t)}}};i("337a");t=Object(e.a)(o,function(){var i=this,n=i._self._c;return n("div",{staticClass:"my-sidebar-root"},[i.isFromApp?i._e():n("my-btn-icon",{staticClass:"nas-mobile-show",staticStyle:{position:"fixed",bottom:"135px",left:"15px",opacity:"0.8"},attrs:{size:"large",type:"grey",iIcon:"md-home"},on:{click:function(e){return i.goHome()}}}),n("my-btn-icon",{staticClass:"nas-mobile-show",staticStyle:{position:"fixed",bottom:"75px",left:"15px",opacity:"0.8"},attrs:{size:"large",type:"grey",iIcon:"md-reorder"},on:{click:function(e){i.activeSidebar=!i.activeSidebar}}}),n("vs-sidebar",{attrs:{absolute:"",open:i.activeSidebar},on:{"update:open":function(e){i.activeSidebar=e}},scopedSlots:i._u([{key:"logo",fn:function(){return[n("img",{staticClass:"logo",attrs:{src:i.getLogoImageUrl}})]},proxy:!0},{key:"footer",fn:function(){return[n("vs-button",{staticStyle:{position:"fixed",bottom:"15px",left:"15px",width:"120px","border-radius":"20px","margin-bottom":"50px"},attrs:{border:""},on:{click:function(e){i.activeSidebar=!i.activeSidebar}}},[i._v(" "+i._s(i.$t("common.close"))+" ")])]},proxy:!0}]),model:{value:i.selectedIndex,callback:function(e){i.selectedIndex=e},expression:"selectedIndex"}},i._l(i.optionList,function(e,t){return e.onlyAdmin&&(e.onlyAdmin,1!=i.$store.state.currentUser.is_admin)?i._e():n("vs-sidebar-item",{attrs:{id:t+""},scopedSlots:i._u([{key:"icon",fn:function(){return[t==i.selectedIndex?n("span",{staticClass:"item-icon",class:e.font,staticStyle:{"font-size":"26px"}}):n("span",{staticClass:"item-icon-normal",class:e.font,staticStyle:{"font-size":"22px"}})]},proxy:!0}],null,!0)},[n("div",{staticClass:"item-title",style:{color:t==i.selectedIndex?"#386DF2":"#99AABF"}},[i._v(" "+i._s(e.title)+" ")])])}),1)],1)},[],!1,null,"85ec1086",null).exports,n={props:{registeSwitchBg:{default:!1,type:Boolean}},components:{},computed:{bgUrl:function(){return localStorage.customHomeBgImage?R.a.getCustomFileUrl(localStorage.customHomeBgImage):i("341e")("./"+this.bgIndex+".jpg")}},data:function(){return{bgIndex:1}},created:function(){var e=this,t=localStorage.getItem("bgIndex");t&&(t=parseInt(t),this.bgIndex=t),this.registeSwitchBg&&this.$bus.$on("onChangeBg",function(){e.bgIndex<16?e.bgIndex=e.bgIndex+1:e.bgIndex=1,localStorage.setItem("bgIndex",e.bgIndex),e.$forceUpdate()})},beforeDestroy:function(){},methods:{}};i("344c");o=Object(e.a)(n,function(){var e=this._self._c;return e("div",{staticClass:"my-bg-root",style:{"background-image":"url(".concat(this.bgUrl,")")}},[e("div",{staticClass:"subBox"})])},[],!1,null,"64151f2e",null).exports,n={props:{shrinkModeTh:{default:550,type:Number},optionList:{default:[],type:Array},initValue:{default:"",type:String}},components:{},data:function(){return{shrinkMode:!1,sortType:"desc",selectedIndex:0}},created:function(){this.updateShrinkMode(),this.initValue&&this.setSelectedId(this.initValue),window.addEventListener("resize",this.updateShrinkMode)},beforeDestroy:function(){window.removeEventListener("resize",this.updateShrinkMode)},methods:{updateShrinkMode:function(){var e=document.documentElement.clientWidth||window.screen.width;(e=e||screen.width)&&e<this.shrinkModeTh?this.shrinkMode=!0:this.shrinkMode=!1},setSelectedId:function(e){for(var t in this.optionList)this.optionList[t].id==e&&(this.selectedIndex=t)},setSelectedIndex:function(e){this.selectedIndex=e},itemClick:function(e){this.selectedIndex=e,this.$emit("onItemClick",this.optionList[e].id,this.sortType)}}};i("61a9");var n=Object(e.a)(n,function(){var i=this,n=i._self._c;return n("div",{staticClass:"select-root"},[i.shrinkMode?n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":i.itemClick},scopedSlots:i._u([{key:"list",fn:function(){return[n("DropdownMenu",i._l(i.optionList,function(e,t){return n("DropdownItem",{attrs:{name:t}},[i._v(" "+i._s(e.title)+" ")])}),1)]},proxy:!0}],null,!1,3739666871)},[n("a",{attrs:{href:"javascript:void(0)"}},[i._v(" "+i._s(i.optionList[i.selectedIndex].title)+" "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1)])],1):i._l(i.optionList,function(e,t){return n("div",{staticClass:"select-item",on:{click:function(e){return i.itemClick(t)}}},[n("p",{staticClass:"select-text",style:{color:i.selectedIndex==t?"#386DF2":"#99AABF"}},[i._v(" "+i._s(e.title)+" ")])])})],2)},[],!1,null,"60602b10",null).exports,Ze=i("044b"),Je={props:{size:{default:"default",type:String},type:{default:"primary",type:String},iIcon:{default:"md-home",type:String}},components:{},data:function(){return{}},created:function(){},methods:{}};i("7c2e");var Je=Object(e.a)(Je,function(){var t=this;return(0,t._self._c)("Button",{staticClass:"btn",class:t.type,attrs:{shape:"circle",icon:t.iIcon,size:t.size},on:{click:function(e){return t.$emit("click")}}})},[],!1,null,"d09b2ec2",null).exports,et={props:{title:{default:"",type:String},btnTitle:{default:"",type:String}},components:{},data:function(){return{}},created:function(){},methods:{onBtnClick:function(){this.$emit("onBtnClick")}}};i("3473");var et=Object(e.a)(et,function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[t("img",{staticStyle:{width:"145px",height:"145px","object-fit":"contain"},attrs:{src:i("fb68")}}),t("div",{staticClass:"alert-text",staticStyle:{"margin-top":"15px"}},[e._v(e._s(e.title))]),e.btnTitle?t("my-btn",{staticStyle:{"margin-top":"18px"},attrs:{title:e.btnTitle},on:{click:e.onBtnClick}}):e._e()],1)},[],!1,null,"f43b2c04",null).exports,tt=i("e11e"),tt={props:{btnType:{default:"primary",type:String},keepSmall:{default:!1,type:Boolean},placeholder:{default:"",type:String},shrinkModeTh:{default:580,type:Number}},components:{Icon:tt.Icon},data:function(){return{shrinkMode:!1,showMobileSearch:!1,searchValue:""}},created:function(){this.keepSmall,this.keepSmall||window.addEventListener("resize",this.updateShowType),this.updateShowType()},beforeDestroy:function(){this.keepSmall||window.removeEventListener("resize",this.updateShowType)},methods:{updateShowType:function(){var e=document.documentElement.clientWidth||window.screen.width;(e=e||screen.width)&&e<this.shrinkModeTh?this.shrinkMode=!0:this.shrinkMode=!1},clearSearchValue:function(){this.searchValue=""},clearSearch:function(){this.searchValue="",this.doSearch()},doSearch:function(){this.showMobileSearch=!1,this.$emit("onSearch",this.searchValue)},onFocus:function(){this.$bus.$emit("onSerchFocus")},onBlur:function(){this.$bus.$emit("onSerchBlur")}}};i("d2f0");var tt=Object(e.a)(tt,function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-search-root"},[t.shrinkMode||t.keepSmall?t._e():e("Input",{staticStyle:{"border-radius":"20px"},attrs:{autocapitalize:"off",autocorrect:"off",size:"large",clearable:"",search:"","enter-button":"",placeholder:t.placeholder},on:{"on-clear":function(e){return t.doSearch()},"on-search":function(e){return t.doSearch()},"on-focus":t.onFocus,"on-blur":t.onBlur},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t.shrinkMode||t.keepSmall?e("my-btn-icon",{attrs:{type:t.btnType,iIcon:"ios-search"},on:{click:function(e){t.showMobileSearch=!0}}}):t._e(),e("vs-dialog",{scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",{staticClass:"not-margin"},[t._v(" "+t._s(t.$t("common.search"))+" ")])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("Button",{staticStyle:{width:"48%","border-radius":"20px"},attrs:{border:""},on:{click:function(e){return t.clearSearch()}}},[t._v(" "+t._s(t.$t("common.clear"))+" ")]),e("Button",{staticStyle:{width:"48%","border-radius":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.doSearch()}}},[t._v(" "+t._s(t.$t("common.search"))+" ")])],1)]},proxy:!0}]),model:{value:t.showMobileSearch,callback:function(e){t.showMobileSearch=e},expression:"showMobileSearch"}},[e("div",{staticClass:"input-mobile-root"},[e("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("i",{staticClass:"nasIcons icon-search icon-main-color"})]},proxy:!0}]),model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)])],1)},[],!1,null,"b96afffa",null).exports,it={props:{showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},preventClose:{default:!1,type:Boolean},title:{default:"",type:String},content:{default:"",type:String},btTitle:{default:function(){return this.$t("common.iSee")},type:String}},components:{},data:function(){return{active:!1}},created:function(){},methods:{onBtnClick:function(){this.active=!1,this.$emit("onOkClick")},setShow:function(e){this.active=e}}},it=Object(e.a)(it,function(){var t=this,e=t._self._c;return e("div",[e("vs-dialog",{attrs:{"prevent-close":t.preventClose,blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[e("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:i("135a")}}),e("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[t._v(" "+t._s(t.title)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[e("vs-button",{attrs:{block:""},on:{click:t.onBtnClick}},[t._v(" "+t._s(t.btTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("div",{staticStyle:{color:"#99AABF","font-size":"14px","word-break":"break-all"}},[t._v(" "+t._s(t.content)+" ")])])],1)},[],!1,null,"96b5e894",null).exports,nt={props:{showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},preventClose:{default:!1,type:Boolean},title:{default:function(){return this.$t("common.confirm")},type:String},content:{default:"NasCab",type:String},btCancelTitle:{default:function(){return this.$t("common.cancel")},type:String},btOkTitle:{default:function(){return this.$t("common.ok")},type:String}},components:{},data:function(){return{okBtnIsLoading:!1,active:!1,enableTimer:null,isDanger:!1,checkBoxContent:"",isCheck:!1,cacheKey:"dialog-confirm-cb-"}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{onCancelClick:function(){this.active=!1,this.$emit("onCancelClick")},onOkClick:function(){this.active=!1,this.$emit("onOkClick",this.isCheck),this.checkBoxContent&&localStorage.setItem(this.cacheKey+this.checkBoxContent,this.isCheck?1:0)},setShow:function(e,t,i,n){var o=this;this.okBtnIsLoading=!1,this.enableTimer&&clearTimeout(this.enableTimer),t&&0<t&&(this.okBtnIsLoading=!0,this.enableTimer=setTimeout(function(){o.okBtnIsLoading=!1},t)),this.isDanger=!!i,n?(this.checkBoxContent=n.checkBoxContent,this.isCheck=!!n.isCheck,null!=(t=localStorage.getItem(this.cacheKey+this.checkBoxContent))&&(this.isCheck="1"==t)):(this.checkBoxContent="",this.isCheck=!1),this.active=e}}};i("2fa5");var nt=Object(e.a)(nt,function(){var t=this,e=t._self._c;return e("div",[e("vs-dialog",{attrs:{"prevent-close":t.preventClose,blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[e("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:i("135a")}}),e("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[t._v(" "+t._s(t.title)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px",display:"flex","align-items":"center","justify-content":"center"}},[e("vs-button",{staticClass:"cancelBtn",attrs:{block:""},on:{click:t.onCancelClick}},[t._v(" "+t._s(t.btCancelTitle)+" ")]),e("vs-button",{staticClass:"confirmBtn",attrs:{danger:t.isDanger,loading:t.okBtnIsLoading,block:""},on:{click:t.onOkClick}},[t._v(" "+t._s(t.btOkTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("div",{staticStyle:{"max-width":"386px",color:"#99AABF","font-size":"14px","word-break":"break-all"}},[t._v(" "+t._s(t.content)+" ")]),t.checkBoxContent?e("div",{staticStyle:{"margin-top":"6px"}},[e("Checkbox",{model:{value:t.isCheck,callback:function(e){t.isCheck=e},expression:"isCheck"}},[t._v(" "+t._s(t.checkBoxContent))])],1):t._e()])],1)},[],!1,null,"671b1454",null).exports,ot={props:{isPwd:{default:!1,type:Boolean},clearOnOpen:{default:!1,type:Boolean},closeOnClickBtn:{default:!0,type:Boolean},showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},placeholder:{default:"",type:String},placeholderB:{default:"",type:String},preventClose:{default:!1,type:Boolean},title:{default:function(){return this.$t("common.alert")},type:String},content:{default:"",type:String},contentB:{default:"",type:String},initValue:{default:"",type:String},btTitle:{default:function(){return this.$t("common.ok")},type:String}},components:{},data:function(){return{inputValue:"",inputValueB:"",active:!1}},created:function(){},methods:{onBtnClick:function(){this.closeOnClickBtn&&(this.active=!1),this.$emit("onOkClick",this.inputValue,this.inputValueB)},setShow:function(e){var t=this;this.$nextTick(function(){e&&(t.clearOnOpen&&(t.inputValue=""),t.initValue)&&(t.inputValue=t.initValue),t.active=e})}}};i("54ec");var ot=Object(e.a)(ot,function(){var t=this,e=t._self._c;return e("div",[e("vs-dialog",{attrs:{"prevent-close":t.preventClose,blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"20px"}},[e("img",{staticStyle:{width:"22px",height:"22px","margin-right":"10px"},attrs:{src:i("135a")}}),e("p",{staticStyle:{color:"#333333","font-size":"22px","text-align":"center"}},[t._v(" "+t._s(t.title)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[e("vs-button",{attrs:{block:""},on:{click:t.onBtnClick}},[t._v(" "+t._s(t.btTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("div",{staticStyle:{"word-break":"break-all","text-align":"left","max-width":"100%"}},[t._v(" "+t._s(t.content||t.title)+" ")]),e("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:t.isPwd?"password":"text",placeholder:t.placeholder},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onBtnClick.apply(null,arguments)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onBtnClick.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("p",[t._v("?")])]},proxy:!0}]),model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),t.contentB?e("div",{staticStyle:{"word-break":"break-all","text-align":"left","max-width":"100%","margin-top":"10px"}},[t._v(" "+t._s(t.contentB)+" ")]):t._e(),t.contentB?e("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",placeholder:t.placeholderB},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onBtnClick.apply(null,arguments)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onBtnClick.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("p",[t._v("?")])]},proxy:!0}],null,!1,2839257838),model:{value:t.inputValueB,callback:function(e){t.inputValueB=e},expression:"inputValueB"}}):t._e()],1)],1)},[],!1,null,"4d04095a",null).exports,st={props:{showCloseBtn:{default:!1,type:Boolean},isBlur:{default:!1,type:Boolean},title:{default:"NasCab",type:String},placeholder:{default:"",type:String},titleB:{default:"",type:String},options:{default:[],type:Array},btTitle:{default:function(){return this.$t("common.select")},type:String}},components:{},data:function(){return{selectedValue:"",active:!1}},created:function(){},methods:{onBtnClick:function(){this.selectedValue&&(this.active=!1,this.$emit("onOkClick",this.selectedValue))},setShow:function(e){this.active=e}}},st=Object(e.a)(st,function(){var t=this,i=t._self._c;return i("div",[i("vs-dialog",{attrs:{"prevent-close":"",blur:t.isBlur,"not-close":!t.showCloseBtn},scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticStyle:{color:"#333333","font-size":"22px","margin-top":"20px"}},[t._v(" "+t._s(t.title)),i("b",[t._v(t._s(t.titleB))])])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{"margin-top":"30px","margin-bottom":"10px"}},[i("vs-button",{attrs:{block:""},on:{click:t.onBtnClick}},[t._v(" "+t._s(t.btTitle)+" ")])],1)]},proxy:!0}]),model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("div",{staticStyle:{"justify-content":"center","align-items":"center",display:"flex"}},[i("vs-select",{attrs:{placeholder:t.placeholder},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}},t._l(t.options,function(e){return i("vs-option",{attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])}),1)],1)])],1)},[],!1,null,"02dcacda",null).exports,at={props:{optionList:{default:[],type:Array}},components:{},data:function(){return{}},created:function(){},methods:{onItemSelect:function(e){this.$emit("onItemClick",this.optionList[e])}}};i("8354");var e=Object(e.a)(at,function(){var i=this,n=i._self._c;return n("div",{staticStyle:{"padding-top":"5px"}},i._l(i.optionList,function(e,t){return n("div",[n("Button",{staticClass:"shrink-item",attrs:{type:"dashed"},on:{click:function(e){return i.onItemSelect(t)}}},[i._v(i._s(e.text))])],1)}),0)},[],!1,null,"5cf3396a",null).exports,at=i("ccdb"),rt=i("e86f"),lt=i("3452"),ct=i.n(lt),lt=(a.default.prototype.$bridge=r.a,i("cf1c")),ut=i("1fe8"),dt=(a.default.use(z.a,{preLoad:1.2,error:ut,attempt:1,loading:lt}),a.default.use(V.a,{i18n:function(e,t){return $.a.t(e,t)}}),a.default.use(W),a.default.prototype.goPath=function(e){U.a.push({path:e})},a.default.prototype.api=R.a.requests,a.default.prototype.axios=R.a,a.default.prototype.utils=q.a,a.default.prototype.base64=G.a,a.default.prototype.$viewerApi=Xe,a.default.use(s.a,{colors:{primary:"#386DF2",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}}),a.default.prototype.showVsNotification=function(e,t){a.default.prototype.$vs.notification({color:t||null,position:"top-center",title:$.a.t("common.alert"),text:e})},a.default.prototype.$vs.d,a.default.config.productionTip=!1,a.default.component("my-sidebar",Ue),a.default.component("my-header",Ve.a),a.default.component("my-sidebar-mobile",t),a.default.component("my-bg",o),a.default.component("my-menu-select",n),a.default.component("my-btn",Ze.a),a.default.component("my-btn-icon",Je),a.default.component("my-nodata",et),a.default.component("my-search",tt),a.default.component("my-dialog-alert",it),a.default.component("my-dialog-confirm",nt),a.default.component("my-dialog-input",ot),a.default.component("my-dialog-select",st),a.default.component("my-selector-phone",e),a.default.component("file-select",at.default),a.default.component("file-select-bar",rt.a),"nDa!-2k3e1y1-#$d");function ht(e){return e&&ct.a.AES.decrypt(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:dt).toString(ct.a.enc.Utf8)}a.default.prototype.encrypt=function(e){return ct.a.AES.encrypt(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:dt).toString()},a.default.prototype.decrypt=ht,a.default.prototype.getCurrentUser=function(){var e=localStorage.getItem("currentUser");if(e)try{return JSON.parse(ht(e))}catch(e){return null}},a.default.prototype.getToken=function(){var e=localStorage.getItem("token");return e?ht(e):null},new a.default({i18n:$.a,router:U.a,store:F.a,beforeCreate:function(){a.default.prototype.$bus=this},render:function(e){return e(j)}}).$mount("#app")},"58bb":function(e,t,i){},"5bfa":function(e,t,i){e.exports=i.p+"img/2.a371e2e7.jpg"},"5d55":function(e,t,i){i.r(t),i("e25e");var a=i("5530"),n=(i("99af"),i("c975"),i("b0c0"),i("d3b7"),i("acd8"),i("8a79"),i("af7e")),o=i.n(n),n=(i("cb7c"),i("b680"),i("d81d"),i("e9f5"),i("ab43"),i("e11e")),l=i.n(n),c=(i("6cc5"),i("be3b")),n={name:"photo-exif",props:{indexObj:"",serverType:{default:"photo",type:String}},mounted:function(){var e=this;this.$nextTick(function(){e.initExif()})},data:function(){return{currentTilesServer:"",showMap:!1,dateEditing:!1,editDateValue:null,exifInfo:"",exifStr:"",geoStr:null,map:null,imgMaker:null}},watch:{indexObj:function(e,t){var i=this;this.$nextTick(function(){i.initExif()})}},methods:{initExif:function(){var e=this;this.indexObj&&(this.showMap=!1,this.getExifInfo(),this.getPositionStr(),this.dateEditing=!1,this.editDateValue=null,this.indexObj&&1==this.indexObj.type&&(this.showMap=!0),this.indexObj&&2==this.indexObj.type&&this.indexObj.latitude&&"undefined"!=this.indexObj.latitude&&(this.showMap=!0),"photo"!=this.serverType&&(this.showMap=!1),this.$nextTick(function(){e.map&&(e.map.remove(),e.map=null),e.getZoomInfo()}))},getZoomInfo:function(){var t=this;this.api.post("/api/mapApi/getZoom",{hideLoading:!0}).then(function(e){e.code||(e.tileServer&&(t.currentTilesServer=e.tileServer),t.initMap(parseInt(e.zoomInfo.minZoom),parseInt(e.zoomInfo.maxZoom)))}).catch(function(e){})},onDateChange:function(e){this.editDateValue=e},submitNewDate:function(){var e=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("photo.confirmChangePhotoTime"),function(){e.editExifByIndexId(null,null,e.editDateValue)})},addMarker:function(){var e=l.a.icon({iconUrl:"icon_position.png",iconSize:[38,38]}),t=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude);this.imgMaker=l.a.marker([t[1],t[0]],{icon:e}),this.map&&this.imgMaker&&this.imgMaker.addTo(this.map)},initMap:function(e,t){var i,n,o,s,a,r=this;this.showMap&&(i=!0,this.indexObj.latitude&&this.indexObj.longitude&&"undefined"!=this.indexObj.longitude&&"undefined"!=this.indexObj.longitude||(i=!1),a=c.a.mapUrl(),o=null,n=t,o=i?(s=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude),new l.a.LatLng(s[1],s[0])):(n=3,new l.a.LatLng(36,106)),s=new l.a.TileLayer(a,{minZoom:e,maxZoom:t,attribution:"NORMAL"}),a=l.a.latLng(-90,-360),e=l.a.latLng(90,360),t=l.a.latLngBounds(a,e),this.map=new l.a.Map("exifmap",{maxBounds:t,zoom:n,center:o,layers:[s],attributionControl:!1}),this.map.on("click",function(e){if(1!=r.indexObj.type)return r.showVsNotification(r.$t("photo.onlySupportPhoto"));new Date,r.showVsConfirmDialog(r.$t("common.confirm"),r.$t("photo.changePosition"),function(){r.editExifByIndexId(e.latlng.lat,e.latlng.lng)})}),i)&&this.addMarker()},changeExifTime:function(){this.dateEditing=!0},editExifByIndexId:function(e,t,i){var n=this;if(1!=this.indexObj.type||!this.indexObj.filename.toLowerCase().endsWith(".jpeg")&&!this.indexObj.filename.toLowerCase().endsWith(".jpg"))return this.showVsNotification(this.$t("photo.onlySupportPhoto"));this.api.post("/api/photoApi/editExifByIndexId",{latitude:e,longitude:t,newDate:i,id:this.indexObj.id}).then(function(e){e.code||(n.$emit("onIndexUpdate",e.newIndex),n.$bus.$emit("onIndexUpdate",e.newIndex),n.initExif())}).catch(function(e){})},getPositionStr:function(){var t=this;this.indexObj.geohash&&this.api.post("/api/mapApi/getLocationStr",{hideLoading:!0,indexId:this.indexObj.id}).then(function(e){e.code||(t.geoStr=e.geo.name+" "+e.geo.cn_name)}).catch(function(e){})},getExifInfo:function(){var n=this;this.api.post("/api/fileApi/getInfo",{hideLoading:!0,indexId:this.indexObj.id,serverType:"movie"}).then(function(e){var t,e=e.data,i="";e.exifInfo&&(e.exifInfo.FNumber&&(i+="f/"+e.exifInfo.FNumber),e.exifInfo.ExposureTime&&(i+=" 1/"+Math.round(1/e.exifInfo.ExposureTime)),e.exifInfo.FocalLength&&(t=Math.round(e.exifInfo.FocalLength),Math.round(e.exifInfo.FocalLengthIn35mmFormat),i+=" ".concat(t,"mm")),e.exifInfo.ISO)&&(t=Math.round(e.exifInfo.ISO),i+=" ISO:".concat(t)),n.exifInfo=e.exifInfo,n.exifStr=i}).catch(function(e){})},closeExif:function(){this.$emit("closeExif")},clearTinyImg:function(){var t=this;this.api.post("/api/fileApi/clearTinyImg",{indexId:this.indexObj.id}).then(function(e){e.code||t.showVsNotification(t.$t("file.resetTinyImgSuccess"))}).catch(function(e){t.showVsNotification(t.$t("common.operationFail"))})}}},s=(i("cd86"),i("2877")),n=Object(s.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"exif-root"},[e("div",{staticClass:"exif-wrapper"},[e("div",{staticClass:"title-root"},[e("Icon",{staticClass:"exif-close",attrs:{color:"white",type:"md-close",size:"25"},on:{click:t.closeExif}}),e("p",{staticClass:"title"},[t._v(t._s(t.$t("file.fileExifInfo")))])],1),e("Divider",{staticStyle:{color:"white"},attrs:{plain:""}},[t._v(t._s(t.$t("common.detail")))]),t.indexObj&&t.indexObj.original_date?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-calendar",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.original_date))]),t.dateEditing?e("div",{staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[e("DatePicker",{staticStyle:{width:"175px"},attrs:{editable:!0,type:"datetime",placeholder:t.$t("photo.selectPhotoTakeTime")},on:{"on-change":t.onDateChange}}),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-close",size:"24"},on:{click:function(e){t.dateEditing=!1,t.editDateValue=null}}}),t.editDateValue?e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-checkmark",size:"24"},on:{click:t.submitNewDate}}):t._e()],1):t._e(),t.dateEditing?t._e():e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.utils.formatTimeStamp(t.indexObj.original_time))+" "),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-create"},on:{click:t.changeExifTime}})],1)])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-document",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.path))]),e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.filename))]),e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s((t.indexObj.size/1024/1024).toFixed(2))+"MB "+t._s(t.indexObj.width)+"x"+t._s(t.indexObj.height)+" ")])])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode||t.exifStr||t.exifInfo&&t.exifInfo.LensModel?e("Icon",{attrs:{color:"white",type:"ios-aperture",size:"24"}}):t._e(),e("div",{staticClass:"exif-item-right"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode?e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.mode))]):t._e(),t.exifStr?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifStr))]):t._e(),t.exifInfo&&t.exifInfo.LensModel?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifInfo.LensModel)+" ")]):t._e()])],1):t._e(),t.geoStr&&" "!=t.geoStr?e("div",{staticClass:"geo-root"},[e("div",{staticClass:"geo-title-root"},[e("Icon",{attrs:{color:"white",type:"md-pin",size:"24"}}),e("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.geoStr))])],1)]):t._e(),t.showMap?e("div",{staticStyle:{"margin-top":"20px",width:"100%",height:"100%"},attrs:{id:"exifmap"}}):t._e()],1)])},[],!1,null,"916f0e30",null).exports,r=(i("a9e3"),i("d930")),u={name:"photo-exif",props:{currentIndex:{type:Number,default:0},videoList:{type:Array,default:[]}},mounted:function(){this.videoList},data:function(){return{}},methods:{onClose:function(){this.$emit("onClose")},onItemClick:function(e){this.$emit("onItemClick",e)}}};i("d122");var u=Object(s.a)(u,function(){var i=this,n=i._self._c;return n("div",{staticClass:"root"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"title-root"},[n("p",{staticClass:"title"},[i._v(i._s(i.$t("movie.listView")))]),n("div",{staticStyle:{flex:"1"}}),n("Icon",{staticClass:"close",attrs:{color:"white",type:"md-close",size:"25"},on:{click:i.onClose}})],1),n("div",{staticStyle:{width:"100%",height:"1px","background-color":"gray","margin-top":"10px","margin-bottom":"10px"}}),n("div",{staticClass:"video-list-root"},i._l(i.videoList,function(e,t){return n("div",{staticClass:"video-item",on:{click:function(e){return i.onItemClick(t)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"video.url"}],staticClass:"img"}),n("div",{staticStyle:{"margin-left":"6px"}},[n("p",{class:{text:i.currentIndex!=t,"text-current":i.currentIndex==t}},[i._v(i._s(e.filename))]),n("p",{class:{"text-duration":i.currentIndex!=t,"text-duration-current":i.currentIndex==t}},[i._v(i._s(i.utils.formatSeconds(e.duration)))])])])}),0)])])},[],!1,null,"9e318f1c",null).exports,d=i("b85c"),h=i("d4ec"),p=i("bee2"),f=(i("14d9"),i("fb6a"),i("a434"),i("e9c4"),i("b64b"),i("ac1f"),i("00b4"),i("2ca0"),i("4dcf")),m=i("2cc5"),g=(i("caad"),i("466d"),i("498a"),{usingM3u8:!1,usingRawFile:!1}),y=["dca"],v=!1,b=(window.MediaSource&&window.MediaSource.isTypeSupported('audio/mp4; codecs="ac-3"')&&(v=!0),g.isPictureSubtitle=function(e){return!(e&&e.type&&"path"==e.type||!(e&&e.stream&&e.stream.codec_name)||"pgssub"!=e.stream.codec_name.toLowerCase()&&"vobsub"!=e.stream.codec_name.toLowerCase()&&"dvd_subtitle"!=e.stream.codec_name.toLowerCase()&&"hdmv_pgs_subtitle"!=e.stream.codec_name.toLowerCase()&&"dvdsub"!=e.stream.codec_name.toLowerCase()&&"dvb_subtitle"!=e.stream.codec_name.toLowerCase())},g.getCanPlayRawFile=function(e,t,i,n,o){try{if(i&&i.stream){var s=i.stream.codec_name.trim();if(y.includes(s))return!1;if(("ac3"==s||"eac3"==s)&&!v)return!1}if(e&&"hevc"==e.codec_name&&g.isChrome()){var a=g.getChromeVersion(),r=parseInt(a.major);if(r<107)return!1}if(g.isPictureSubtitle(n)&&!o)return!1}catch(e){}return!0},g.getChromeVersion=function(){var e=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);if(null!=e&&5==e.length)return{major:(e=e.map(function(e){return parseInt(e,10)}))[1],minor:e[2],build:e[3],patch:e[4]}},g.setFormatState=function(e){g.usingM3u8="m3u8"==e,g.usingRawFile=0==e},g.getTranscodeFormat=function(e){return"m3u8"},g.isIos=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return/(iPhone|iOS|iPad)/i.test(navigator.userAgent)||e},g.isSafari=function(){return/(Safari)/i.test(navigator.userAgent)&&!/(Chrome)/i.test(navigator.userAgent)},g.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},g.isAndroid=function(){return/(Android)/i.test(navigator.userAgent)},g.getFileExtension=function(e){if("string"==typeof e){e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(e)return e.pop().toLowerCase()}return""},g),w=Object(p.a)(function e(t){var i=this;Object(h.a)(this,e),this.vue=t,this.primaryOptionPlay={size:1920,bitrate:3584,label:"1080p 3mbps"},this.optionsPlay=[{size:4096,bitrate:51200,label:"4k 30mbps"},{size:4096,bitrate:20480,label:"4k 20mbps"},{size:4096,bitrate:10240,label:"4k 10mbps"},{size:4096,bitrate:6144,label:"4k 6mbps"},{size:4096,bitrate:4096,label:"4k 4mbps"},{size:1920,bitrate:8192,label:"1080p 8mbps"},{size:1920,bitrate:6144,label:"1080p 6mbps"},{size:1920,bitrate:4096,label:"1080p 4mbps"},{size:1920,bitrate:3584,label:"1080p 3mbps"},{size:1920,bitrate:2048,label:"1080p 2mbps"},{size:1280,bitrate:3584,label:"720p 3mbps"},{size:1280,bitrate:2048,label:"720p 2mbps"},{size:1280,bitrate:1024,label:"720p 1mbps"},{size:720,bitrate:2048,label:"480p 2mbps"},{size:720,bitrate:1024,label:"480p 1mbps"},{size:1,bitrate:3584,label:this.vue.$t("video.code_raw")}],this.optionsPlaySpeed=[{value:.5,label:"0.5x"},{value:.75,label:"0.75x"},{value:1,label:"1x"},{value:1.25,label:"1.25x"},{value:1.5,label:"1.5x"},{value:2,label:"2x"},{value:3,label:"3x"}],f.a.isEnabled&&f.a.on("change",function(){i.vue.isFullScreen=f.a.isFullscreen}),m.a.setIsShowNavBar(!1)},[{key:"changeVolume",value:function(e){localStorage.setItem("video-volumn",e),this.vue.currentVolume=e,this.vue.vPlayer&&this.vue.vPlayer.volume(e),this.vue.isMuted=!(0<e)}},{key:"resetVolume",value:function(){var e=localStorage.getItem("video-volumn");e&&0<=(e=parseFloat(e))&&e<=1&&(this.vue.currentVolume=e,this.vue.vPlayer.volume(e))}},{key:"setMuted",value:function(e){this.vue.isMuted=e,this.vue.currentVolume=e?0:100*this.vue.vPlayer.volume()}},{key:"setKeyEvent",value:function(e){var i=this;e.onkeydown=function(e){var t;e&&(e.keyCode,!e.isComposing)&&229!==e.keyCode&&(27==e.keyCode?i.vue.isFullScreen?i.switchFullScreen():i.vue.onClose():32==e.keyCode?i.vue.switchPlay():37==e.keyCode?((t=parseInt(i.vue.seekSec)-15)<1&&(t=1),b.usingFlv?i.vue.changeSeekFromSlider(t):i.vue.vPlayer.currentTime(t)):39==e.keyCode?((t=parseInt(i.vue.seekSec)+15)>i.vue.indexObj.duration&&(t=i.vue.indexObj.duration),b.usingFlv?i.vue.changeSeekFromSlider(t):i.vue.vPlayer.currentTime(t)):17==e.keyCode&&i.vue.vPlayer.playbackRate(parseFloat(i.vue.moviePlaylongPressRate)))},e.onkeyup=function(e){e&&17==e.keyCode&&i.vue.vPlayer.playbackRate(1)}}},{key:"stopPlayId",value:function(){if(this.vue.playId){this.vue.api.post("/api/transCode/stopPlay",{playId:this.vue.playId}).then(function(e){});try{var e=sessionStorage.getItem("play-id-list");if(e){for(var t in e=JSON.parse(e))e[t]==this.vue.playId&&e.splice(t,1);sessionStorage.setItem("play-id-list",JSON.stringify(e))}}catch(e){}}}},{key:"genNewPlayId",value:function(){this.stopPlayId(),this.vue.playId=(new Date).getTime()+""+parseInt(10*Math.random()),this.vue.playId;try{var e=sessionStorage.getItem("play-id-list");(e=e?JSON.parse(e):[]).push(this.vue.playId),sessionStorage.setItem("play-id-list",JSON.stringify(e)+"")}catch(e){}}},{key:"download",value:function(){var e=this.vue.indexObj.rawUrl;e.startsWith("http")||(e=window.location.protocol+"//"+window.location.host+e),this.vue.downloadFile([e])}},{key:"destroyFlvPlayer",value:function(){this.vue.flvPlayer&&(this.vue.flvPlayer.pause(),this.vue.flvPlayer.unload(),this.vue.flvPlayer.detachMediaElement(),this.vue.flvPlayer.destroy(),this.vue.flvPlayer=null)}},{key:"disposeKeyEvent",value:function(e){e.onkeydown=null,e.onkeyup=null}},{key:"onSelectServerSubtitlePath",value:function(e){e&&(this.vue.uploadSubtitleName=e,this.vue.uploadSubtitleFilePath=e,this.vue.videoSameNameSubtitleFilePath=null,this.vue.seek=this.vue.seekSec,this.vue.setSubtitleTrackUrl())}},{key:"uploadSubtitleSuc",value:function(e,t,i){if(e.code)return this.uploadSubtitleErr();this.vue.uploadSubtitleName=e.file.filename,this.vue.uploadSubtitleFilePath=e.file.path,this.vue.videoSameNameSubtitleFilePath=null,this.vue.seek=this.vue.seekSec,this.vue.setSubtitleTrackUrl()}},{key:"uploadSubtitleErr",value:function(){this.vue.showVsNotification(this.vue.$t("video.subtitleUploadFailed"))}},{key:"setSuitSizeOptions",value:function(e){e.width&&e.height&&e.width<2e3&&e.height<2e3?this.vue.playSizeList=this.optionsPlay.slice(5):this.vue.playSizeList=this.optionsPlay}},{key:"getVideoSuitResolution",value:function(e){return this.vue.currentSizeOption=this.primaryOptionPlay,this.vue.videoBitRate=this.primaryOptionPlay.bitrate,this.primaryOptionPlay.size}},{key:"changePlaySpeed",value:function(e){e=this.optionsPlaySpeed[e];this.vue.playSpeed=e.value,localStorage.moviePlaySpeed=e.value,this.vue.vPlayer.playbackRate(e.value)}},{key:"resetValue",value:function(){this.vue.indexObj=this.vue.photoList[this.vue.currentIndex],this.vue.transCodeTest=!1,this.vue.seek=0,this.vue.seekSec=0,this.vue.audioStreamIndex=0,this.vue.subtitleStreamIndex=0,this.vue.uploadSubtitleFilePath=null,this.vue.videoSameNameSubtitleFilePath=null,this.vue.playSpeed=1,this.vue.setBurnState()}},{key:"switchFullScreen",value:function(){!/(iPhone|iOS)/i.test(navigator.userAgent)&&this.vue.isFullScreen?this.exitFullscreen():this.enterFullScreen()}},{key:"enterFullScreen",value:function(){var e=document.getElementById("videoDetailWrapper");f.a.isEnabled?f.a.toggle(e):(e=document.getElementById("player_html5_api"))&&e.webkitEnterFullScreen&&(e.webkitEnterFullScreen(),this.vue.isFullScreen=!0),m.a.setScreenDirection("LANDSCAPE")}},{key:"exitFullscreen",value:function(){var e=document.getElementById("videoDetailWrapper");f.a.isEnabled?f.a.toggle(e):document.webkitCancelFullScreen&&(document.webkitCancelFullScreen(),this.vue.isFullScreen=!1),m.a.setScreenDirection("PORTRAIT")}},{key:"onDestroy",value:function(){m.a.setScreenDirection("AUTO"),m.a.setIsShowNavBar(!0)}},{key:"parseAudioAndSubtitles",value:function(e){if(this.vue.indexObj.stream_info){this.vue.currentAudioStreamList=[],this.vue.currentSubtitleStreamList=[];var t=this.vue.indexObj.stream_info;t&&"string"==typeof t&&"undefined"!=t&&(t=JSON.parse(t));for(var i=0;i<t.length;i++){var n,o=t[i],s=o.index;"audio"==o.codec_type?(n=s,o.tags&&o.tags.title?n=o.tags.title:o.tags&&o.tags.handler_name&&(n=o.tags.handler_name),this.vue.currentAudioStreamList.push({label:n,value:s,stream:o})):"subtitle"==o.codec_type?(n=s,o.tags&&o.tags.title&&(n=o.tags.title),this.vue.currentSubtitleStreamList.push({label:n,value:s,language:o.tags&&o.tags.language?o.tags.language:"",stream:o})):"video"==o.codec_type&&(this.vue.currentVideoStream=o)}if(this.vue.currentSubtitleStreamList)for(var a in this.vue.currentSubtitleStreamList,this.vue.currentSubtitleStreamList){var r=this.vue.currentSubtitleStreamList[a];if(r.language&&this.vue.moviePreferLanguage&&r.language==this.vue.moviePreferLanguage){this.vue.subtitleStreamIndex=a;break}}1!=this.vue.movieType&&this.getSameNameSubtitles(this.vue.indexObj.id,e)}}},{key:"setDefaultTranscodeResolution",value:function(e){if(e){var t,i=Object(d.a)(this.vue.playSizeList);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.label==e&&(this.primaryOptionPlay=n)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"setDefaultSubtitleFontSize",value:function(e){e?this.vue.userFontSize=e+"rem":(this.vue.userFontSize="1.5rem",this.vue.userFontSize)}},{key:"getSameNameSubtitles",value:function(e,t){var i,s=this;this.isGettingSameNameSubtties||(this.isGettingSameNameSubtties=!0,i={},e&&(i.id=e),t&&(i.videoPath=t),this.vue.api.post("/api/movieApi/getSameNameSubtitles",i).then(function(e){if(s.isGettingSameNameSubtties=!1,!e.code){var t=e.data;if(0<t.length){var i,n=s.vue.currentSubtitleStreamList.length;for(i in t){var o=t[i];s.vue.currentSubtitleStreamList.push({label:o.fileName,value:o.filePath,type:"path"})}n<1&&s.vue.chooseSubtitle(0)}e.userFontSize?s.setDefaultSubtitleFontSize(e.userFontSize):s.setDefaultSubtitleFontSize(1.5),s.setDefaultTranscodeResolution(e.defaultTranscodeResolution)}}).catch(function(e){s.isGettingSameNameSubtties=!1}))}}]),p=i("4971"),p=i.n(p);i("24df");u={props:{fromFileBrower:{default:!1,type:Boolean},propsServerType:{default:"",type:String}},name:"video-detail",components:{videoPlayList:u,VueSlider:p.a,videoExif:n},computed:{resolutionStr:function(){var e=this.$t("movie.resolution")+":";return 1==this.movieSize?e+this.$t("video.code_raw")+" ["+this.$t("video.rawPlayAlert")+"]":e+(this.currentSizeOption?this.currentSizeOption.label:"")}},data:function(){return{moviePlaylongPressRate:3,showPlayList:!1,moviePreferLanguage:"",burnSubtitle:!1,showChoosePlaySize:!1,isAddingHistory:!1,showChooseSubtitle:!1,canPlayRawFile:!0,vPlayer:null,audioChannel:2,openAsPage:!1,serverType:"photo",isLoading:!1,textTrackUrl:"",textTrackEl:null,showChooseResolution:!1,fromPrivateSpace:!1,playSpeed:1,videoHelper:null,playResolutionList:[],playSpeedList:[],playSizeList:[],movieSize:1,isMuted:!1,playCanUse:!1,token:this.getToken(),videoBitRate:3584,currentSizeOption:null,utils:r.a,baseUrl:c.a.baseUrl,normalUploadUrl:c.a.uploadUrl()+"&uploadSubtitle=1&overMode=over",currentIndex:0,photoList:[],showExif:!1,indexObj:!1,isPlaying:!1,isPlayingM3u8:!1,seek:0,seekSec:0,showCustomController:!0,noMoveTime:0,currentAudioStreamList:[],currentSubtitleStreamList:[],audioStreamIndex:0,subtitleStreamIndex:0,currentVolume:1,uploadSubtitleFilePath:null,videoSameNameSubtitleFilePath:null,uploadSubtitleName:"",isCloseSubtitle:!1,playId:"",isFullScreen:!1,userFontSize:"",ifContinueAlertIndexId:"",skippedEnd:!1,currentVideoStream:!1,clickObj:{firstTime:"",lastTime:"",isClick:!1,isLongPress:!1,longPressSpeedingMsg:null,longPressTimeOut:null}}},mounted:function(){this.videoHelper=new w(this),this.playSpeedList=this.videoHelper.optionsPlaySpeed,this.videoHelper.setKeyEvent(document),this.videoHelper.setDefaultSubtitleFontSize();var e=this.$route.params;if(e.passVideoList)this.serverType=e.serverType,this.playVideo(e.passVideoList,e.passPlayIndex),this.openAsPage=!0;else{if(!this.propsServerType)return this.$router.go(-1);this.serverType=this.propsServerType}},beforeDestroy:function(){this.videoHelper.disposeKeyEvent(document),this.isPlayingM3u8&&this.videoHelper.stopPlayId(),this.videoHelper.onDestroy(),this.vPlayer&&(this.vPlayer.dispose(),this.vPlayer=null),document.onkeydown=null},methods:{onShowHelp:function(){this.showVsAlertDialog(this.$t("common.alert"),this.$t("video.helpContent"))},switchPlayList:function(){this.showPlayList=!this.showPlayList,this.showPlayList},onMouseDown:function(){var e=this;this.clickObj.isLongPress=!1,this.clickObj.firstTime=(new Date).getTime(),this.clickObj.longPressTimeOut=setTimeout(function(){e.isPlaying&&(e.clickObj.longPressSpeedingMsg&&e.clickObj.longPressSpeedingMsg(),e.clickObj.isLongPress=!0,parseFloat(e.moviePlaylongPressRate),e.vPlayer.playbackRate(parseFloat(e.moviePlaylongPressRate)),e.clickObj.longPressSpeedingMsg=e.$Message.loading({content:e.$t("video.speedingPlay"),duration:0}))},300)},onMouseUp:function(){this.clickObj.lastTime=(new Date).getTime(),300<=this.clickObj.lastTime-this.clickObj.firstTime&&this.clickObj.isLongPress&&(this.videoHelper.changePlaySpeed(2),this.clickObj.longPressSpeedingMsg()),this.clickObj.longPressSpeedingMsg&&this.clickObj.longPressSpeedingMsg(),this.clickObj.longPressTimeOut&&clearTimeout(this.clickObj.longPressTimeOut)},showChooseSub:function(){this.showChooseSubtitle=!0},onSubtitleBeforeUpload:function(i){var n=this;return new Promise(function(e,t){return n.normalUploadUrl=c.a.uploadUrl()+"&uploadSubtitle=1&overMode=over&filename="+i.name,e(i)})},onSelectSubtitleFile:function(e){e.endsWith(".ass")||e.endsWith(".srt")||e.endsWith(".vtt")?(this.showChooseSubtitle=!1,this.videoHelper.onSelectServerSubtitlePath(e)):this.showVsAlertDialog(this.$t("common.alert"),this.$t("movie.subtitleNoSupport"))},setVolume:function(e){this.videoHelper.changeVolume(e)},onUploadSuc:function(e){this.videoHelper.uploadSubtitleSuc(e)},onUploadErr:function(){this.videoHelper.uploadSubtitleErr()},closeSubtitle:function(){this.isCloseSubtitle=!0,this.uploadSubtitleFilePath=null,this.videoSameNameSubtitleFilePath=null,this.textTrackUrl="",this.burnSubtitle&&(this.burnSubtitle=!1,this.playIndex(this.indexObj,!0)),this.setSubtitleTrackUrl()},setBurnState:function(){var e;this.currentSubtitleStreamList.length>this.subtitleStreamIndex?(e=b.isPictureSubtitle(this.currentSubtitleStreamList[this.subtitleStreamIndex]),this.burnSubtitle=e):this.burnSubtitle=!1},chooseSubtitle:function(e){this.isCloseSubtitle=!1,this.uploadSubtitleFilePath=null,this.videoSameNameSubtitleFilePath=null,this.subtitleStreamIndex=e;e=this.currentSubtitleStreamList[e],"path"==e.type&&(this.uploadSubtitleName=e.label,this.videoSameNameSubtitleFilePath=e.value),e=b.isPictureSubtitle(this.currentSubtitleStreamList[this.subtitleStreamIndex]);(this.burnSubtitle||e)&&(this.burnSubtitle=e,this.burnSubtitle,this.playIndex(this.indexObj,!0)),this.setSubtitleTrackUrl()},chooseAc:function(){var e=this.currentAudioStreamList[this.audioStreamIndex].stream;if(!e.channels)return this.showVsNotification(this.$t("movie.noOtherChannel"));if(this.audioChannel==e.channels){if(2==this.audioChannel)return this.showVsNotification(this.$t("movie.noOtherChannel"));this.audioChannel=2}else this.audioChannel=e.channels;this.showVsNotification(this.$t("movie.alreadChangeChannelTo",{channels:this.audioChannel})),this.playIndex(this.indexObj,!0)},chooseAudio:function(e){this.audioStreamIndex=e,this.playIndex(this.indexObj,!0)},onMouse:function(e){this.noMoveTime=0},videoClick:function(){if(!this.clickObj.isLongPress)return this.noMoveTime=0,this.showCustomController=!this.showCustomController},onChooseMovieSize:function(e,t,i){if(this.showChoosePlaySize=!1,1==e){if(!this.canPlayRawFile)return this.showVsNotification(this.$t("video.videoIsNotSupportCoding"));localStorage.setItem("lastPlayIsTransCode","0"),this.isPlayingM3u8&&this.videoHelper.stopPlayId(),this.pauseVideo(),this.setMovieSize(e),this.playIndex(this.indexObj,!1,!1,!0),0<this.seekSec&&this.vPlayer.currentTime(this.seekSec),this.vPlayer.autoplay("play")}else this.currentSizeOption=this.playSizeList[i],localStorage.setItem("lastPlayIsTransCode","1"),this.pauseVideo(),this.videoBitRate=t,this.setMovieSize(e),this.playIndex(this.indexObj,!0),localStorage.setItem("lastPlayMovieSize",e)},onPlayListItemClick:function(e){this.currentIndex=e,this.videoHelper.resetValue(),this.vPlayer.autoplay("play"),this.movieSize=this.videoHelper.getVideoSuitResolution(this.indexObj),this.playIndex(this.indexObj,localStorage.lastPlayIsTransCode&&"1"==localStorage.lastPlayIsTransCode)},onPre:function(){this.canPlayRawFile=!0;for(var e=-1,t=this.currentIndex-1;0<=t;t--)if(2==this.photoList[t].type){e=t;break}if(-1==e)return this.showVsNotification(this.$t("video.noMoreVideo"));this.currentIndex=e,this.videoHelper.resetValue(),this.vPlayer.autoplay("play"),this.movieSize=this.videoHelper.getVideoSuitResolution(this.indexObj),this.playIndex(this.indexObj,localStorage.lastPlayIsTransCode&&"1"==localStorage.lastPlayIsTransCode)},onNext:function(){this.canPlayRawFile=!0;for(var e=-1,t=this.currentIndex+1;t<this.photoList.length;t++)if(2==this.photoList[t].type){e=t;break}return-1==e?(this.showVsNotification(this.$t("video.noMoreVideo")),!1):(this.currentIndex=e,this.videoHelper.resetValue(),this.vPlayer.autoplay("play"),this.movieSize=this.videoHelper.getVideoSuitResolution(this.indexObj),this.playIndex(this.indexObj,localStorage.lastPlayIsTransCode&&"1"==localStorage.lastPlayIsTransCode),!0)},errorCb:function(e){},playCb:function(){this.isPlaying=!0},canplayCb:function(e){if(this.playCanUse=!0,localStorage.moviePlaySpeed&&.5<=localStorage.moviePlaySpeed&&localStorage.moviePlaySpeed<=6)for(var t in this.videoHelper.optionsPlaySpeed)this.videoHelper.optionsPlaySpeed[t].value==localStorage.moviePlaySpeed&&this.videoHelper.changePlaySpeed(t)},pauseCb:function(){this.isPlaying=!1},endedCb:function(){this.onNext()},onSeekingCb:function(e){},onSeekedCb:function(e){},onLoadedMetaDataCb:function(e){},onLoadedDataCb:function(e){this.vPlayer,0<this.currentSubtitleStreamList.length&&this.setSubtitleTrackUrl()},onWaitingCb:function(){this.isLoading=!0,this.topLoading&&this.topLoading()},onPlayingCb:function(){this.isLoading=!1,this.isLoading},addHistory:function(e){var t=this;this.isAddingHistory||e<5||this.indexObj&&this.indexObj.id&&(this.isAddingHistory=!0,this.api.post("/api/movieApi/addHistory",{hideLoading:!0,indexId:this.indexObj.id,time:e}).then(function(e){setTimeout(function(){t.isAddingHistory=!1},1e3)}).catch(function(e){t.isAddingHistory=!1}))},onTimeUpdateCb:function(){if(this.isPlaying&&(this.noMoveTime+=1,60<=this.noMoveTime&&this.isPlaying&&(this.showCustomController=!1),this.seekSec=this.vPlayer.currentTime(),this.seekSec&&parseInt(this.seekSec)%15==0&&"movie"==this.serverType&&!this.fromFileBrower&&this.addHistory(this.seekSec),1==this.indexObj.skip_open_end)&&!this.skippedEnd){var e=this.indexObj.duration-this.seekSec;if(0<this.indexObj.end_duration&&this.indexObj.end_duration>e)return this.skippedEnd=!0,this.onNext()}},pauseVideo:function(){this.vPlayer&&this.vPlayer.pause()},resumePlayVideo:function(){this.vPlayer&&this.vPlayer.play()},switchPlay:function(){this.isPlaying?this.pauseVideo():this.resumePlayVideo()},onClose:function(){this.isFullScreen&&this.videoHelper.exitFullscreen(),this.openAsPage?this.$router.go(-1):this.$emit("onClose")},changeSeekFromSlider:function(e){this.vPlayer.currentTime(e)},setPlayerUrl:function(e){var n;this.vPlayer||((n=this).vPlayer=o()(this.$refs.player,{html5:{nativeTextTracks:!!b.isIos()},errorDisplay:!1,suppressNotSupportedError:!1},function(){this.on("play",n.playCb),this.on("pause",n.pauseCb),this.on("ended",n.endedCb),this.on("seeking",n.onSeekingCb),this.on("seeked",n.onSeekedCb),this.on("canplay",n.canplayCb),this.on("loadedmetadata",n.onLoadedMetaDataCb),this.on("loadeddata",n.onLoadedDataCb),this.on("playing",n.onPlayingCb),this.on("timeupdate",n.onTimeUpdateCb),this.on("waiting",n.onWaitingCb),this.on("error",function(e,t){var i=n.vPlayer.error();!i||4!=i.code&&3!=i.code||(n.canPlayRawFile=!1,1==n.movieSize?(n.playIndex(n.indexObj,!0),n.showVsNotification(n.$t("video.autoTranscodeStart"))):n.showVsConfirmDialog(n.$t("common.confirm"),n.$t("video.errorRetryPlay"),function(){n.playIndex(n.indexObj,!0)}))}),this.on("loadstart",function(){}),this.on("canplaythrough",function(){n.vPlayer}),this.on("stalled",function(){})}),this.videoHelper.resetVolume()),-1!=e.indexOf(".m3u8")?(this.isPlayingM3u8=!0,b.setFormatState("m3u8"),this.vPlayer.src({type:"application/x-mpegURL",src:e})):(this.isPlayingM3u8=!1,b.setFormatState(!1),this.vPlayer.src({type:"video/mp4",src:e})),5<this.seekSec&&this.vPlayer.currentTime(this.seekSec)},setMovieSize:function(e){this.movieSize=e},getTransCodeUrl:function(){1==this.movieSize&&this.setMovieSize(this.videoHelper.getVideoSuitResolution(this.indexObj));var e=b.getTranscodeFormat(this.indexObj),t=this.indexObj,i="".concat(c.a.baseUrl,"/api/transCode/play/stream.").concat(e,"?format=").concat(e,"&"),e=("m3u8"==e&&(i+="playId=".concat(this.playId,"&")),"&token=".concat(this.token,"&size=").concat(this.movieSize,"&seek=").concat(this.seek,"&videobit=").concat(this.videoBitRate,"&subtitleIndex=").concat(this.subtitleStreamIndex,"&audioIndex=").concat(this.audioStreamIndex,"&ac=").concat(this.audioChannel)),n=(this.burnSubtitle&&(e+="&burn=1"),"".concat(i,"serverType=").concat(this.serverType,"&indexId=").concat(t.id).concat(e));return this.fromFileBrower&&(n="".concat(i,"filePath=").concat(t.filePath).concat(e)),t.spaceId?(this.fromPrivateSpace=!0,n="".concat(i,"spaceId=").concat(t.spaceId,"&spaceToken=").concat(t.spaceToken,"&spaceIndexId=").concat(t.id,"&filePath=").concat(t.filePath).concat(e)):this.fromPrivateSpace=!1,n},setSubtitleTrackUrl:function(){if(this.textTrackEl&&(this.vPlayer.removeRemoteTextTrack(this.textTrackEl),this.textTrackEl=null),this.isCloseSubtitle)return this.textTrackUrl="";var e,t=this.baseUrl+"/api/transCode/subtitle/subtitle.vtt?token=".concat(this.token,"&subtitleIndex=").concat(this.subtitleStreamIndex);if(this.indexObj.spaceId&&(t+="&spaceId=".concat(this.indexObj.spaceId,"&spaceToken=").concat(this.indexObj.spaceToken,"&spaceIndexId=").concat(this.indexObj.id)),this.fromFileBrower||this.indexObj.spaceId?t+="&filePath=".concat(this.indexObj.filePath):t+="&indexId=".concat(this.indexObj.id,"&serverType=").concat(this.serverType),this.uploadSubtitleFilePath)this.isCloseSubtitle=!1,t+="&subtitleFile=".concat(c.a.encodePath(this.uploadSubtitleFilePath)),this.burnSubtitle&&(this.burnSubtitle=!1,this.playIndex(this.indexObj,!0));else if(this.videoSameNameSubtitleFilePath)this.isCloseSubtitle=!1,t+="&subtitleFile=".concat(c.a.encodePath(this.videoSameNameSubtitleFilePath)),this.burnSubtitle&&(this.burnSubtitle=!1,this.playIndex(this.indexObj,!0));else{if(this.currentSubtitleStreamList.length<=this.subtitleStreamIndex)return this.textTrackUrl="";if(e=this.currentSubtitleStreamList[this.subtitleStreamIndex],b.isPictureSubtitle(e))return void(this.textTrackUrl="")}this.textTrackUrl=t;var t="en",i="subtitle",n=(e&&e.stream&&e.stream.tags&&(e.stream.tags.language&&(t=e.stream.tags.language),e.stream.tags.title)&&(i=e.stream.tags.title),this.textTrackEl=this.vPlayer.addRemoteTextTrack({src:this.textTrackUrl,mode:"showing",srclang:t,kind:"subtitles",label:i,default:!0},!1),this);this.textTrackEl.addEventListener("load",function(){n.userFontSize&&(document.getElementsByTagName("body")[0].style.setProperty("--subtitleFontSize",n.userFontSize),n.userFontSize)})},playIndex:function(t,i,e,n){function o(){if(s.canPlayRawFile=b.getCanPlayRawFile(s.currentVideoStream,s.indexObj,s.currentAudioStreamList[s.audioStreamIndex],s.currentSubtitleStreamList[s.subtitleStreamIndex],s.uploadSubtitleFilePath),s.canPlayRawFile,i){s.videoHelper.genNewPlayId();var e=s.getTransCodeUrl();s.setPlayerUrl(e)}else{if(!n&&!s.canPlayRawFile)return s.setBurnState(),s.playIndex(t,!0);s.movieSize=1,s.setPlayerUrl(t.rawUrl)}"movie"==s.serverType&&s.ifContinueAlertIndexId!=s.indexObj.id&&(s.ifContinueAlertIndexId=s.indexObj.id,s.ifContinuPlay())}var s=this;this.skippedEnd=!1,this.seek=e||this.seekSec,this.videoHelper.setSuitSizeOptions(t),this.playCanUse=!1,this.isPlaying=!1,this.indexObj=t,this.currentAudioStreamList=[],this.currentSubtitleStreamList=[];t.stream_info||this.fromFileBrower?this.fromFileBrower?(e={filePath:t.filePath},t.filename=t.name||t.filename,this.api.post("/api/transCode/getVideoInfoByPath",e).then(function(e){e.code||(e.moviePreferLanguage&&(s.moviePreferLanguage=e.moviePreferLanguage),s.indexObj.stream_info=e.streams,s.indexObj.duration=e.duration,s.videoHelper.parseAudioAndSubtitles(t.filePath),o())})):(this.videoHelper.parseAudioAndSubtitles(),o()):this.api.post("/api/photoApi/getIndexDetail",{id:t.id,serverType:this.serverType}).then(function(e){if(!e.code){if(s.indexObj=Object(a.a)(Object(a.a)({},s.indexObj),e.data),e.moviePreferLanguage&&(s.moviePreferLanguage=e.moviePreferLanguage),e.moviePlaylongPressRate&&(s.moviePlaylongPressRate=e.moviePlaylongPressRate),s.videoHelper.parseAudioAndSubtitles(),e.defaultMoviePlay&&"rawFile"!=e.defaultMoviePlay&&(i=!0),o(),1==s.indexObj.skip_open_end&&0<s.indexObj.open_duration&&s.indexObj.open_duration<s.indexObj.duration-10)return s.indexObj.open_duration,s.changeSeekFromSlider(s.indexObj.open_duration),s.showVsNotification(s.$t("movie.skippingMovieTitle"));0==e.fileExist&&s.showVsAlertDialog(s.$t("common.alert"),s.$t("setting.folderIsNotExist")+e.indexFullPath),s.videoHelper.setDefaultTranscodeResolution(e.defaultTranscodeResolution)}})},ifContinuPlay:function(){var n=this;"photo"!=this.serverType&&this.indexObj&&this.indexObj.id&&this.api.post("/api/movieApi/getHistory",{hideLoading:!0,indexId:this.indexObj.id}).then(function(e){var t,i;e.code||(t=e.data)&&(e=n.indexObj.open_duration?parseInt(n.indexObj.open_duration):30,i=n.indexObj.end_duration?parseInt(n.indexObj.end_duration):30,t.time>e)&&t.time<n.indexObj.duration-i&&n.showVsConfirmDialog(n.$t("common.confirm"),n.$t("movie.continuePlay",{lastTime:r.a.formatSeconds(t.time)}),function(){n.changeSeekFromSlider(t.time)},null,n.$t("movie.resumePlay"),n.$t("movie.playBegain"),null,null,null,5e3)}).catch(function(e){})},playVideo:function(e,t){this.fromFileBrower,this.currentIndex=t,this.photoList=e,this.indexObj=e[t],this.playSizeList=[],this.indexObj.spaceId&&(this.fromPrivateSpace=!0),localStorage.lastPlayIsTransCode="0",this.playIndex(this.indexObj,!1)}}},i("2b90"),p=Object(s.a)(u,function(){var n=this,o=n._self._c;return o("div",{staticClass:"video-detail-root",attrs:{id:"videoDetailWrapper",refs:"rootWrapper",catchtouchmove:!1},on:{mousemove:n.onMouse}},[o("video",{ref:"player",staticClass:"video-js vjs-fill",attrs:{"x5-video-player-type":"h5","object-fit":"fill",width:"100%",height:"100%",preload:"auto",id:"player",duration:n.indexObj.duration,controls:!1,"webkit-playsinline":"",playsinline:"",crossorigin:"anonymous",autoplay:""},domProps:{muted:n.isMuted}}),o("div",{staticStyle:{position:"fixed",width:"100%",height:"100%","z-index":"1"},on:{click:n.videoClick,touchstart:function(e){return e.stopPropagation(),n.onMouseDown.apply(null,arguments)},touchend:function(e){return e.stopPropagation(),n.onMouseUp.apply(null,arguments)},mousedown:function(e){return e.stopPropagation(),n.onMouseDown.apply(null,arguments)},mouseup:function(e){return e.stopPropagation(),n.onMouseUp.apply(null,arguments)}}}),n.showCustomController?o("div",{staticClass:"video-controller-top",on:{click:n.videoClick}},[o("div",{staticClass:"icon-root",staticStyle:{"margin-left":"20px"},on:{click:function(e){return e.stopPropagation(),n.onClose.apply(null,arguments)}}},[o("span",{staticClass:"icon_controller_xxl nasIcons icon-back",staticStyle:{"font-size":"20px"}})]),n.isMobile?n._e():o("div",{staticClass:"icon-root",staticStyle:{"margin-left":"20px"},on:{click:function(e){return e.stopPropagation(),n.onShowHelp()}}},[o("Icon",{staticStyle:{"font-size":"20px",color:"white"},attrs:{type:"ios-help-circle-outline"}})],1),o("div",{on:{click:n.videoClick}},[o("p",{staticClass:"video-name max-line-one",staticStyle:{"word-break":"break-all"}},[n._v(n._s(n.indexObj.filename))])])]):n._e(),n.showCustomController?o("div",{staticClass:"controller-bottom"},[o("div",{on:{click:n.videoClick}},[n.movieSize&&n.videoBitRate?o("p",{staticClass:"video-resolution"},[n.playSpeed&&1!=n.playSpeed?o("span",{staticClass:"video-speed"},[n._v(" "+n._s(n.playSpeed)+"X ")]):n._e(),n._v(" "+n._s(n.resolutionStr)+" ")]):n._e()]),o("div",{staticClass:"controller-slider"},[o("vue-slider",{staticClass:"slider",attrs:{lazy:!0,disabled:n.fromPrivateSpace,height:7,min:0,interval:1,max:n.indexObj.duration?parseInt(n.indexObj.duration):0,"tooltip-formatter":n.utils.formatSeconds},on:{change:n.changeSeekFromSlider},model:{value:n.seekSec,callback:function(e){n.seekSec=e},expression:"seekSec"}}),o("div",{staticClass:"icon-root",on:{click:function(e){return n.videoHelper.switchFullScreen()}}},[o("span",{staticClass:"icon_controller_m nasIcons icon-fullscreen"})])],1),o("div",{staticClass:"controller-slider",staticStyle:{"justify-content":"space-between"}},[o("p",{staticClass:"time"},[n._v(n._s(n.utils.formatSeconds(n.seekSec)))]),o("p",{staticClass:"time"},[n._v(n._s(n.utils.formatSeconds(n.indexObj.duration)))])]),o("div",{staticClass:"nas-mobile-show"},[o("div",{staticClass:"controller-mobile"},[o("div",{staticStyle:{cursor:"pointer"}},[o("span",{staticClass:"icon_controller_xxl nasIcons icon-video-last",on:{click:function(e){return n.onPre()}}})]),o("div",{staticStyle:{"margin-left":"40px","margin-right":"40px"}},[n.isPlaying?n._e():o("span",{staticClass:"icon_controller_xxl nasIcons icon-play",on:{click:function(e){return n.switchPlay()}}}),n.isPlaying?o("span",{staticClass:"icon_controller_xxl nasIcons icon-pause",on:{click:function(e){return n.switchPlay()}}}):n._e()]),o("div",[o("span",{staticClass:"icon_controller_xxl nasIcons icon-video-next",on:{click:function(e){return n.onNext()}}})])])]),o("div",{staticClass:"controller-btns"},[o("div",[n.isLoading?o("Spin",{staticClass:"nas-mobile-show",attrs:{size:"large"}}):n._e(),o("div",{staticClass:"controller-section-l nas-mobile-none"},[o("div",{staticStyle:{cursor:"pointer"}},[o("span",{staticClass:"icon_controller_m nasIcons icon-video-last",on:{click:function(e){return n.onPre()}}})]),o("div",{staticClass:"icon-root"},[n.isPlaying?n._e():o("span",{staticClass:"icon_controller_m nasIcons icon-play",on:{click:function(e){return n.switchPlay()}}}),n.isPlaying?o("span",{staticClass:"icon_controller_m nasIcons icon-pause",on:{click:function(e){return n.switchPlay()}}}):n._e()]),o("div",{staticClass:"icon-root"},[o("span",{staticClass:"icon_controller_m nasIcons icon-video-next",on:{click:function(e){return n.onNext()}}})]),o("div",{staticClass:"icon-root"},[n.fromFileBrower?n._e():o("span",{staticClass:"icon_controller_s nasIcons icon-exif-info",staticStyle:{"margin-left":"10px"},on:{click:function(e){n.showExif=!n.showExif}}})]),o("div",{staticClass:"icon-root"},[n.videoHelper?o("span",{staticClass:"icon_controller_s nasIcons icon-download",staticStyle:{"margin-left":"10px"},on:{click:function(e){return n.videoHelper.download()}}}):n._e()])])],1),o("div",{staticClass:"controller-section-r"},[n.playCanUse?o("Poptip",{staticClass:"nas-mobile-none",attrs:{trigger:"hover",title:n.$t("video.volumn")},scopedSlots:n._u([{key:"content",fn:function(){return[o("div",{staticStyle:{"padding-left":"14px","padding-right":"14px"}},[o("Slider",{attrs:{min:0,max:1,step:.1,"show-tip":"never"},on:{"on-change":n.setVolume},model:{value:n.currentVolume,callback:function(e){n.currentVolume=e},expression:"currentVolume"}})],1)]},proxy:!0}],null,!1,2232665644)},[o("div",{staticClass:"icon-root"},[n.isMuted?o("span",{staticClass:"icon_controller_m nasIcons icon-sound-off",on:{click:function(e){return n.videoHelper.setMuted(!1)}}}):o("span",{staticClass:"icon_controller_m nasIcons icon-sound-on",on:{click:function(e){return n.videoHelper.setMuted(!0)}}})])]):n._e(),n.playCanUse?o("Poptip",{attrs:{title:n.$t("movie.audioIndex")},scopedSlots:n._u([{key:"content",fn:function(){return[o("a",{staticClass:"option-item",on:{click:n.chooseAc}},[n._v(n._s(n.$t("movie.audioChannel"))+":"+n._s(n.audioChannel))]),o("div",{staticStyle:{height:"150px","overflow-y":"scroll"}},n._l(n.currentAudioStreamList,function(e,t){return o("div",{key:e.value,staticClass:"option-item",on:{click:function(e){return n.chooseAudio(t)}}},[o("p",[n._v(n._s(e.label))]),t==n.audioStreamIndex?o("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):n._e()],1)}),0)]},proxy:!0}],null,!1,793861379)},[o("div",{staticClass:"icon-root"},[o("span",{staticClass:"icon_controller_m nasIcons icon-music"})])]):n._e(),n.playCanUse?o("Poptip",{attrs:{title:n.$t("movie.subtitle")},scopedSlots:n._u([{key:"content",fn:function(){return[0<n.currentSubtitleStreamList.length?o("div",{staticClass:"option-item",on:{click:n.closeSubtitle}},[o("p",[n._v(n._s(n.$t("video.closeSubtitle")))]),n.isCloseSubtitle?o("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):n._e()],1):n._e(),n.uploadSubtitleFilePath?o("div",{staticClass:"option-item"},[o("p",{staticClass:"subtitleTitle"},[n._v(n._s(n.uploadSubtitleName))]),o("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}})],1):n._e(),n.currentSubtitleStreamList&&0<n.currentSubtitleStreamList.length?o("div",{staticStyle:{height:"150px","overflow-y":"scroll"}},n._l(n.currentSubtitleStreamList,function(e,t){return o("div",{key:t,staticClass:"option-item",on:{click:function(e){return n.chooseSubtitle(t)}}},[o("p",{staticClass:"subtitleTitle"},[n._v(" "+n._s(15<e.label.length?"..."+e.label.substr(e.label.length-14):e.label)+" ")]),n._v(" "+n._s(e.language?"-"+e.language:"")+" "),t!=n.subtitleStreamIndex||n.uploadSubtitleFilePath||n.isCloseSubtitle?n._e():o("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}})],1)}),0):n._e(),o("Upload",{attrs:{"on-error":n.onUploadErr,"on-success":n.onUploadSuc,"show-upload-list":!1,action:n.normalUploadUrl,"before-upload":n.onSubtitleBeforeUpload,format:["ass","srt","vtt"],accept:".ass,.srt,.vtt",webkitdirectory:!1}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[n._v(n._s(n.$t("movie.selectLocalSubtitles")))])],1),o("Button",{staticStyle:{"margin-top":"10px"},attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(e){return n.showChooseSub()}}},[n._v(n._s(n.$t("movie.selectSubtitleInServer")))])]},proxy:!0}],null,!1,654500102)},[o("div",{staticClass:"icon-root"},[o("span",{staticClass:"icon_controller_l nasIcons icon-subtitles"})])]):n._e(),o("Poptip",{attrs:{title:n.$t("transcode")},scopedSlots:n._u([{key:"content",fn:function(){return[o("div",{staticClass:"size-list-root"},n._l(n.playSizeList,function(t,i){return o("div",{key:t.label,staticClass:"option-item",on:{click:function(e){return n.onChooseMovieSize(t.size,t.bitrate,i)}}},[o("p",[n._v(n._s(t.label))]),t.size==n.movieSize&&t.bitrate==n.videoBitRate?o("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):n._e()],1)}),0)]},proxy:!0}],null,!1,72327521)},[o("div",{staticClass:"icon-root"},[o("span",{staticClass:"icon_controller_l nasIcons icon-hd"})])]),n.playCanUse?o("Poptip",{attrs:{title:n.$t("movie.playRate")},scopedSlots:n._u([{key:"content",fn:function(){return n._l(n.playSpeedList,function(e,t){return o("div",{key:e.value,staticClass:"option-item",on:{click:function(e){return n.videoHelper.changePlaySpeed(t)}}},[o("p",[n._v(n._s(e.label))]),e.value==n.playSpeed?o("Icon",{staticStyle:{"margin-left":"3px"},attrs:{type:"md-checkmark",size:"20",color:"#333"}}):n._e()],1)})},proxy:!0}],null,!1,949452006)},[o("div",{staticClass:"icon-root"},[o("span",{staticClass:"icon_controller_m nasIcons icon-play-speed"})])]):n._e(),o("div",{staticClass:"icon-root",on:{click:n.switchPlayList}},[o("span",{staticClass:"icon_controller_s nasIcons icon-list"})])],1)])]):n._e(),o("vs-dialog",{attrs:{scroll:"","full-screen":n.isMobile},scopedSlots:n._u([{key:"header",fn:function(){return[o("h4",{staticStyle:{"font-size":"16px"}},[n._v(" "+n._s(n.$t("file.chooseFolder")+"["+n.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[o("file-select-bar",{on:{back:function(e){return n.$refs.fileSelector.goBack()},select:function(e){return n.$refs.fileSelector.onSelect()},create:function(e){return n.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:n.showChooseSubtitle,callback:function(e){n.showChooseSubtitle=e},expression:"showChooseSubtitle"}},[n.showChooseSubtitle?o("file-select",{ref:"fileSelector",attrs:{parent:"root",fileType:0,initPath:n.indexObj.path||""},on:{onSelect:n.onSelectSubtitleFile,onCancel:function(e){n.showChooseSubtitle=!1}}}):n._e()],1),n.showExif&&!n.fromFileBrower?o("video-exif",{attrs:{serverType:n.serverType,indexObj:n.indexObj},on:{closeExif:function(e){n.showExif=!1}}}):n._e(),n.showPlayList?o("videoPlayList",{attrs:{videoList:n.photoList,currentIndex:n.currentIndex},on:{onItemClick:n.onPlayListItemClick,onClose:function(e){n.showPlayList=!1}}}):n._e()],1)},[],!1,null,"12dfb180",null);t.default=p.exports},"5e7e7":function(e,t,i){i("30bf")},"60b7":function(e,t,i){e.exports=i.p+"img/icon_folder.3f495959.png"},"619d":function(e,t,i){i("8944")},"61a9":function(e,t,i){i("8007")},"637e":function(e,t,i){e.exports=i.p+"img/6.e70f1be5.jpg"},"67ac":function(e,t,i){i("14d9");var n={data:function(){return{btnCanUse:!0,currentUser:!1,formValidate:{oldPassword:"",newPassword:"",newPasswordConfirm:"",client:"PC"},ruleValidate:{oldPassword:[{required:!0,message:this.$t("registerAdmin.placeholderPassword"),trigger:"blur"},{min:2,message:this.$t("registerAdmin.passwordLengthLimit"),trigger:"blur"}],newPassword:[{required:!0,message:this.$t("registerAdmin.placeholderPassword"),trigger:"blur"},{min:2,message:this.$t("registerAdmin.passwordLengthLimit"),trigger:"blur"}],newPasswordConfirm:[{required:!0,message:this.$t("registerAdmin.placeholderPassword"),trigger:"blur"},{min:2,message:this.$t("registerAdmin.passwordLengthLimit"),trigger:"blur"}]}}},mounted:function(){this.currentUser=this.getCurrentUser()},methods:{handleSubmit:function(e){var t=this;if(this.formValidate.newPassword!=this.formValidate.newPasswordConfirm)return this.showVsNotification(this.$t("header.twoPasswordHaveToSame"));this.$refs[e].validate(function(e){e&&(t.btnCanUse=!1,t.api.post("/api/usersApi/changePassword",t.formValidate).then(function(e){e.code?t.btnCanUse=!0:t.showVsAlertDialog(t.$t("common.alert"),t.$t("header.changePasswordSuccess"),function(){t.$emit("onClose"),localStorage.removeItem("token"),localStorage.removeItem("currentUser"),t.$router.push({path:"/login"})})}).catch(function(e){2==e.code&&t.showVsNotification(t.$t("header.oldPasswordIncorrect")),t.btnCanUse=!0}))})}}},o=(i("d1c6"),i("2877")),n=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"change-pwd-root"},[e("Form",{ref:"formValidate",staticStyle:{width:"100%"},attrs:{model:t.formValidate,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:t.$t("common.username"),prop:"username"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",disabled:""},model:{value:t.currentUser.username,callback:function(e){t.$set(t.currentUser,"username",e)},expression:"currentUser.username"}})],1),e("FormItem",{attrs:{label:t.$t("header.rawPassword"),prop:"oldPassword"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:t.$t("header.rawPassword")},model:{value:t.formValidate.oldPassword,callback:function(e){t.$set(t.formValidate,"oldPassword",e)},expression:"formValidate.oldPassword"}})],1),e("FormItem",{attrs:{label:t.$t("header.newPassword"),prop:"newPassword"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:t.$t("header.newPassword")},model:{value:t.formValidate.newPassword,callback:function(e){t.$set(t.formValidate,"newPassword",e)},expression:"formValidate.newPassword"}})],1),e("FormItem",{attrs:{label:t.$t("header.newPasswordConfirm"),prop:"newPasswordConfirm"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"password",placeholder:t.$t("header.newPasswordConfirm")},model:{value:t.formValidate.newPasswordConfirm,callback:function(e){t.$set(t.formValidate,"newPasswordConfirm",e)},expression:"formValidate.newPasswordConfirm"}})],1)],1),e("vs-button",{staticStyle:{"margin-top":"10px",width:"100%","border-radius":"20px"},attrs:{disabled:!t.btnCanUse,type:"info"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v(" "+t._s(t.$t("common.commit"))+" ")])],1)},[],!1,null,"99720f42",null).exports,s={data:function(){return{btnCanUse:!0,currentUser:!1,formValidate:{newQuestion:"",answer:""},ruleValidate:{newQuestion:[{required:!0,message:this.$t("header.newQuestion"),trigger:"blur"}],answer:[{required:!0,message:this.$t("registerAdmin.placeholderAnswer"),trigger:"blur"}]}}},mounted:function(){this.currentUser=this.getCurrentUser(),this.getCurrentUserInfo()},methods:{getCurrentUserInfo:function(){var t=this;this.api.post("/api/usersApi/getCurrentUserInfo",this.formValidate).then(function(e){e.code||(t.currentUser=e.userInfo)}).catch(function(e){})},handleSubmit:function(e){var t=this;if(this.formValidate.newPassword!=this.formValidate.newPasswordConfirm)return this.showVsNotification(this.$t("header.twoPasswordHaveToSame"));this.$refs[e].validate(function(e){e&&(t.btnCanUse=!1,t.api.post("/api/usersApi/changeQuestion",t.formValidate).then(function(e){e.code?t.btnCanUse=!0:t.showVsAlertDialog(t.$t("common.alert"),t.$t("header.changeQuestionSuccess"),function(){t.$emit("onClose")})}).catch(function(e){t.btnCanUse=!0}))})}}};i("619d");n={components:{changePwd:n,changeQuestion:Object(o.a)(s,function(){var t=this,e=t._self._c;return e("div",{staticClass:"root"},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:t.$t("header.rawQuestion"),prop:"username"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",disabled:""},model:{value:t.currentUser.question,callback:function(e){t.$set(t.currentUser,"question",e)},expression:"currentUser.question"}})],1),e("FormItem",{attrs:{label:t.$t("header.newQuestion"),prop:"newQuestion"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",placeholder:t.$t("header.newQuestion")},model:{value:t.formValidate.newQuestion,callback:function(e){t.$set(t.formValidate,"newQuestion",e)},expression:"formValidate.newQuestion"}})],1),e("FormItem",{attrs:{label:t.$t("header.newAnswer"),prop:"newAnswer"}},[e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",placeholder:t.$t("header.newAnswer")},model:{value:t.formValidate.answer,callback:function(e){t.$set(t.formValidate,"answer",e)},expression:"formValidate.answer"}})],1)],1),e("vs-button",{staticStyle:{"margin-top":"20px",width:"100%","border-radius":"20px"},attrs:{disabled:!t.btnCanUse,type:"info"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v(" "+t._s(t.$t("common.commit"))+" ")])],1)},[],!1,null,"5fcf2bee",null).exports},data:function(){return{currentMenuName:"1"}},mounted:function(){},methods:{menuChange:function(e){this.currentMenuName=e}}},i("8ab6"),s=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-setting-root"},[e("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":"1"},on:{"on-select":t.menuChange}},[e("MenuItem",{attrs:{name:"1"}},[e("Icon",{staticClass:"nas-mobile-none",attrs:{type:"md-help-buoy",size:"16"}}),t._v(" "+t._s(t.$t("header.changePwd"))+" ")],1),e("MenuItem",{attrs:{name:"2"}},[e("Icon",{staticClass:"nas-mobile-none",attrs:{type:"ios-help-circle-outline",size:"16"}}),t._v(" "+t._s(t.$t("header.changeQuestion"))+" ")],1)],1),"1"==t.currentMenuName?e("div",{staticStyle:{width:"100%"}},[e("change-pwd",{on:{onClose:function(e){return t.$emit("onClose")}}})],1):t._e(),"2"==t.currentMenuName?e("div",{staticStyle:{width:"100%"}},[e("change-question",{on:{onClose:function(e){return t.$emit("onClose")}}})],1):t._e()],1)},[],!1,null,"94226e48",null);t.a=s.exports},6999:function(e,t,i){},"6b5d":function(e,t,i){i("2188")},"6f3e":function(e,t,i){},"714e":function(e,t,i){},"75b6":function(e,t,i){e.exports=i.p+"img/10.366dd43c.jpg"},"797c":function(e,t,i){},"7c2e":function(e,t,i){i("714e")},"7ce8":function(e,t,i){i("d3b7"),i("3ca3"),i("ddb0");var n=i("be3b"),o=i("0be9"),s=i("e86f"),s={props:{showAfterAdd:{default:!0,type:Boolean}},mounted:function(){},components:{fileSelectBar:s.a,fileSelect:function(){return Promise.resolve().then(i.bind(null,"ccdb"))},filesQuickShareShowing:o.a},data:function(){return{showAddTempShareFolder:!1,showChooseFolder:!1,tempSharePassword:"",tempShareDays:30,tempSharePath:""}},computed:{},methods:{showAdd:function(e){e&&(this.tempSharePath=e),this.showAddTempShareFolder=!0},onSelectPath:function(e){this.tempSharePath=e,this.showChooseFolder=!1},addPathReq:function(){var t=this;this.tempSharePath?this.api.post("/api/file/tempShare",{operationType:"add",path:n.a.encodePath(this.tempSharePath),password:this.tempSharePassword,days:this.tempShareDays}).then(function(e){e.code||(t.showVsNotification(t.$t("common.operationSuccess")),t.$emit("onAddFinish"),t.showAddTempShareFolder=!1,t.showAfterAdd&&t.$refs.qrCodeShowing.showQrCodeDialog(e.token))}).catch(function(e){}):this.showVsNotification(this.$t("pleaseSelectFolder"))}}},o=(i("ba9f"),i("2877")),o=Object(o.a)(s,function(){var t=this,e=t._self._c;return e("div",[e("vs-dialog",{attrs:{"prevent-close":"",scroll:"","full-screen":t.isMobile},scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.$t("file.addShareTemp"))+" ")])]},proxy:!0}]),model:{value:t.showAddTempShareFolder,callback:function(e){t.showAddTempShareFolder=e},expression:"showAddTempShareFolder"}},[e("div",{staticClass:"add-temp-root"},[e("p",{staticStyle:{width:"100%","text-align":"left"}},[t._v(t._s(t.$t("file.sharePath"))+":"),e("a",{staticStyle:{"margin-left":"5px"},on:{click:function(e){t.showChooseFolder=!0}}},[t._v(t._s(t.tempSharePath||t.$t("share.chooseShareFold")))])]),e("div",{staticClass:"add-item-root"},[e("p",[t._v(t._s(t.$t("file.accessPwd"))+":")]),e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text",placeholder:t.$t("file.shareTempPwdPh")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Icon",{attrs:{color:"#99AABF",type:"ios-key"}})]},proxy:!0}]),model:{value:t.tempSharePassword,callback:function(e){t.tempSharePassword=e},expression:"tempSharePassword"}})],1),e("div",{staticClass:"add-item-root"},[e("p",[t._v(t._s(t.$t("file.validity"))+":")]),e("Input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"number"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Icon",{attrs:{color:"#99AABF",type:"ios-key"}})]},proxy:!0}]),model:{value:t.tempShareDays,callback:function(e){t.tempShareDays=e},expression:"tempShareDays"}})],1),e("my-btn",{staticStyle:{"margin-top":"20px"},attrs:{title:t.$t("file.addShareTemp")},on:{click:function(e){return t.addPathReq()}}})],1)]),e("vs-dialog",{attrs:{"prevent-close":"",scroll:"","full-screen":t.isMobile},scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.$t("file.chooseFolder")+"["+t.$t("file.doubleClickFolderEnter")+"]")+" ")])]},proxy:!0},{key:"footer",fn:function(){return[e("file-select-bar",{on:{back:function(e){return t.$refs.fileSelector.goBack()},select:function(e){return t.$refs.fileSelector.onSelect()},create:function(e){return t.$refs.fileSelector.createNewFolder(e)}}})]},proxy:!0}]),model:{value:t.showChooseFolder,callback:function(e){t.showChooseFolder=e},expression:"showChooseFolder"}},[t.showChooseFolder?e("file-select",{ref:"fileSelector",attrs:{parent:"root",fileType:0},on:{cancel:function(e){t.showChooseFolder=!1},onSelect:t.onSelectPath,onCancel:function(e){t.showChooseFolder=!1}}}):t._e()],1),e("files-quick-share-showing",{ref:"qrCodeShowing"})],1)},[],!1,null,"4eb2ea6d",null);t.a=o.exports},"7cfd":function(e,t,i){i("c7cd");i("14d9");var n=i("67ac"),o=i("c1d1"),s=i("2cc5"),a=i("be3b"),n={props:{bgColor:{default:"transparent",type:String},fixed:{default:!0,type:Boolean}},components:{userSetting:n.a,login:o.default},computed:{getLogoImageUrl:function(){return localStorage.customLogoImage?a.a.getCustomFileUrl(localStorage.customLogoImage):i("9743")}},data:function(){return{customHomeBgImage:localStorage.customHomeBgImage,showHome:!0,lockScreenIsShow:!1,currentUser:"",showUserSetting:!1}},created:function(){"/home"==this.$route.path?this.showHome=!1:this.showHome=!0,this.currentUser=this.getCurrentUser()},methods:{uploadClick:function(){this.isFromApp?this.switchUpload(!0):this.switchUpload()},switchBg:function(){this.$bus.$emit("onChangeBg")},lockScreen:function(){this.lockScreenIsShow=!0},goLogout:function(){var e=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("header.okLogout"),function(){localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("autoLogin"),localStorage.removeItem("cacheLoginUsername"),localStorage.removeItem("cacheLoginPassword"),e.showVsNotification(e.$t("header.logoutSuccess")),setTimeout(function(){e.isFromApp&&s.a?s.a.onClickLogout():e.$router.push({path:"/login"})},500),e.api.post("/api/usersApi/logout",{token:e.$store.state.token,hideLoading:!0}).then(function(e){})})}}},o=(i("1140"),i("2877")),o=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-header-root",style:{"background-color":t.bgColor,position:t.fixed?"fixed":"relative"}},[e("div",{staticClass:"my-header-left"},[e("img",{staticClass:"logo",attrs:{src:t.getLogoImageUrl}}),t.showHome?e("vs-button",{staticClass:"iconBtn",staticStyle:{"margin-left":"10px"},attrs:{"animation-type":"vertical"},on:{click:function(e){return t.goHome()}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("common.home"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"ios-home"}})],1):t._e()],1),e("div",{staticClass:"my-header-right"},[t.showHome?e("vs-button",{staticClass:"iconBtn rightHomeBtn",attrs:{"animation-type":"vertical"},on:{click:function(e){return t.goHome()}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("common.home"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"ios-home"}})],1):t._e(),t.showHome||!t.currentUser||t.customHomeBgImage?t._e():e("vs-button",{staticClass:"iconBtn",attrs:{"animation-type":"vertical"},on:{click:t.switchBg},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("home.refreshBg"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-refresh"}})],1),!t.showHome&&t.currentUser?e("vs-button",{staticClass:"iconBtn",attrs:{id:"switchBg","animation-type":"vertical"},on:{click:t.switchBgTask},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("home.task"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-pulse"}})],1):t._e(),t.currentUser?e("vs-button",{staticClass:"iconBtn",attrs:{"animation-type":"vertical"},on:{click:t.uploadClick},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("common.upload"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-arrow-round-up"}})],1):t._e(),1==t.$store.state.currentUser.is_admin?e("Badge",{attrs:{dot:"",offset:[7,7],"overflow-count":"99",count:t.$store.state.unreadMsgCount}},[e("vs-button",{staticClass:"iconBtn",attrs:{id:"checkMsg","animation-type":"vertical"},on:{click:function(e){t.goPathNewWebView("/noticeCenter",t.$t("notice.info"))}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("notice.info"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"logo-twitch"}})],1)],1):t._e(),t.currentUser?e("vs-button",{staticClass:"iconBtn",attrs:{"animation-type":"vertical"},on:{click:function(e){t.showUserSetting=!0}},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("home.mine"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-key"}})],1):t._e(),e("vs-button",{staticClass:"iconBtn",attrs:{gradient:"","animation-type":"vertical"},on:{click:t.goLogout},scopedSlots:t._u([t.isMobile?null:{key:"animate",fn:function(){return[t._v(" "+t._s(t.$t("user.logout"))+" ")]},proxy:!0}],null,!0)},[e("Icon",{attrs:{type:"md-exit"}})],1)],1),e("vs-dialog",{attrs:{"prevent-close":""},model:{value:t.showUserSetting,callback:function(e){t.showUserSetting=e},expression:"showUserSetting"}},[e("user-setting",{on:{onClose:function(e){t.showUserSetting=!1}}})],1)],1)},[],!1,null,"30e4685c",null);t.a=o.exports},"7ed8":function(e,t,i){},"7f4d":function(e,t,i){i("6999")},"7ffb":function(e,t,i){},8007:function(e,t,i){},8354:function(e,t,i){i("b070")},8822:function(e,t,i){},8944:function(e,t,i){},"89f4":function(e,t,i){},"8ab6":function(e,t,i){i("2a32")},"8b5e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAJ1BMVEUAAADLy8vl5eXLy8vMzMzg4ODMzMzq6ur////m5ubZ2dny8vLi4uLLyCU/AAAABnRSTlMAQN+Av7+R1PH9AAACkElEQVR42u3cTW7TUBTF8VZBHTNizBIYIMZIINZBBZjY7uhO2EH1cOeRLebF8gIiiywgExYFSlQdpc/V63PP6ZfuXUB//vtdW4kq5ehgFm+L7Pl2lDeLYsacvdYZQCwLeTcP+ZGTclzMRHJSXs1FclI+zUZMdreAZKS8uANieiQj5eQuiImWCwhSxIipEaSoERMjSJEjpkWQokdMiyBFj5gWQYoeMS2CFD1iWgQpesS0CFL0iGkRpOgR0yJI0SOmRZCiR0yLIEWPmBJBCh2pYsS0CFL0iLGRIiKQwkN+J1IoyPdECgWpphAjI8U2kUJBzhIpBARHH6VQkWo7lUJCoPzdJlKAcOfUEUccccQRRxxx5AGQoeuGQYt0YTebQYeUY7iaPyqkDBgoPAQGFAnShsNZCZA6XJsLPlKFaNZ0pA/72XS/NkghIgj5uTuIYUQKE6kPDrsa9yQZaQMMmFykwpVHKAXBla+uP5kNFemjbWqRxkLG6LqXuxQ+so7fZJdMZOIv4pQICJYriuMiJc49uoM0pJ5YpVaCNBPIuRgZ2cjyJmRNReKrDmyk7P7PKtpq4gpjNE98ahcuCi3SihEcSaNFeiyXBEFIuJQiPevTSjpkLUV63C0NgpCmUCI1QnTIiBARghAp0mK1ZEiJLyc6pEeIDhkRokHweV6L9FgtHTLi1ShBcLdWWmSJY5cgOJJGiOCDoxjBbumQCkciRhodgg0+FyO1IznI0pEIyfhi94T/6+CII44kZ//EP4d3lyOOOPJInvjn84J0xBFHHHHEEUccccQRRxxx5PbICRv5fB/I+wlkcR/IMRt5mfjRK8Z8jQDBoZxOIgv63ZLfry8TAP3o3yR+VE1joOUjh/hwaPwDtXG3Yt6MeDoAAAAASUVORK5CYII="},"8da8":function(e,t,i){},"8e87":function(e,t,i){},"8ec7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAC8yNnAzd+7ydm7ydm8ytq7ydq+zN+6yNi7ydm7ydm8ydm9ydi7ytu6ydm7ydm6ydm8ytq7yNi6yNj+GZC2AAAAE3RSTlMAZhT1335dJO3LxY9CNNS3oG5PkFF91gAAAKZJREFUOMuVkUkSwyAMBLEEBu+L/v/XBA4J8ghS6es0FMy4P6EYqROPs7yZx9bpEheFzNzLB28Zh1QcmK+iWEE4tXCC4LXgQWAtMAhJCwmESQsTCEELAXti9QSjqasWLmewfPPFmQSWAgd763osXHzbRbFvj+MsD1hdMojB0JoaJ6dkC4mggALUEbklcNQzIQGHNkYn6UC5w56Q+7x7wp0/MXSI7icvoeYkmTRQSXcAAAAASUVORK5CYII="},"902c":function(e,t,i){e.exports=i.p+"img/14.5a8141a1.jpg"},9345:function(e,t,i){e.exports=i.p+"img/11.bb920b5f.jpg"},"952d":function(e,t,i){e.exports=i.p+"img/login-left-img.8df76c52.png"},"969a":function(e,t,i){},9743:function(e,t,i){e.exports=i.p+"img/naslogo.fd98624c.png"},9751:function(e,t,i){},"9ab6":function(e,t,i){e.exports=i.p+"img/13.f0334ead.jpg"},"9b0c":function(e,t,i){i("7ffb")},"9b66":function(e,t,i){e.exports=i.p+"img/icon-folder-word.fe1a71bc.png"},a070:function(e,t,i){i("969a")},a18c:function(e,t,i){var n=i("ade3"),o=(i("caad"),i("14d9"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b0e")),s=i("8c4f"),a=(i("e9c4"),i("e25e"),i("19cb")),r=i.n(a),a={data:function(){return{}},mounted:function(){var e=this.$route.query,t=e.from;t&&"app"==t?(e.rawPlayer&&"1"==e.rawPlayer?localStorage.setItem("rawPlayer","1"):localStorage.removeItem("rawPlayer"),localStorage.setItem("from","app")):localStorage.removeItem("from"),e.username&&localStorage.setItem("username",e.username),e.password&&localStorage.setItem("password",r.a.decode(e.password)),e.answer&&localStorage.setItem("answer",e.answer),e.ios&&1==e.ios&&localStorage.setItem("ios",1),e.iosVersion&&localStorage.setItem("iosVersion",e.iosVersion),this.$store.state.token&&this.$store.state.currentUser?this.goHome():e.token?this.tokenLogin(e.token,e.target):this.hasAdmin()},methods:{tokenLogin:function(e,t){var i=this;this.api.post("/api/usersApi/tokenLogin",{token:e}).then(function(e){e.code||(localStorage.setItem("token",i.encrypt(e.token)),localStorage.setItem("currentUser",i.encrypt(JSON.stringify(e.user))),i.$store.state.currentUser=e.user,i.$store.state.token=e.token,t?setTimeout(function(){i.$router.push({path:"/"+t})},500):setTimeout(function(){i.goHome()},500),jsBridge.onLoginSuc(JSON.stringify({username:i.formInline.username,password:i.base64.encode(i.formInline.password),answer:i.twoStepAnswer})),e.reqIp&&(localStorage.reqIp=e.reqIp))}).catch(function(e){i.hasAdmin()})},hasAdmin:function(){var t=this;this.api.post("/api/usersApi/hasAdmin",{hideLoading:!0}).then(function(e){e.code||(e=e.hasAdmin,0!=parseInt(e)?t.$router.push({path:"/login"}):t.$router.push({path:"/create_admin"}))}).catch(function(e){})}}},l=(i("4d06"),i("2877")),l=Object(l.a)(a,function(){var e=this._self._c;return e("div",{staticClass:"content"},[e("div",{staticStyle:{"margin-top":"50px"}},[this._v(this._s(this.$t("index.title")))])])},[],!1,null,"548efda0",null).exports,c=i("4360"),a=i("d3a4"),l=(i("d930"),o.default.use(s.a),[{path:"/",name:"index",component:l},{path:"/login",name:"login",meta:{level:1,title:a.a.t("security.login")},component:function(){return Promise.resolve().then(i.bind(null,"c1d1"))}},{path:"/forgotPwd",name:"forgotPwd",meta:{level:1},component:function(){return i.e("chunk-c67940b2").then(i.bind(null,"bef6"))}},{path:"/create_admin",name:"create_admin",meta:{level:1,title:a.a.t("registerAdmin.registerAdmin")},component:function(){return i.e("chunk-588b29b8").then(i.bind(null,"5b5c"))}},Object(n.a)({path:"/home",name:"home",meta:{level:2,title:a.a.t("common.home")},component:function(){return Promise.all([i.e("chunk-28da8e79"),i.e("chunk-44bdf4e4")]).then(i.bind(null,"77b8"))}},"meta",{keepAlive:!0}),Object(n.a)({path:"/homeMobile",name:"homeMobile",meta:{level:2,title:a.a.t("common.home")},component:function(){return Promise.all([i.e("chunk-28da8e79"),i.e("chunk-4d593b32")]).then(i.bind(null,"0bbd"))}},"meta",{keepAlive:!0}),{path:"/security",name:"security",meta:{level:3,title:a.a.t("home.securityCenter")},component:function(){return i.e("chunk-1fbedf24").then(i.bind(null,"b485"))}},{path:"/mediaTools",name:"mediaTools",meta:{level:1,title:a.a.t("mediaTools")},component:function(){return i.e("chunk-7e0d0e30").then(i.bind(null,"0b73"))}},{path:"/setting",name:"setting",meta:{level:3,title:a.a.t("home.settingCenter")},component:function(){return i.e("chunk-77ac875a").then(i.bind(null,"e0df"))}},{path:"/photos",name:"photos",meta:{level:3,title:a.a.t("photo.timeline")},component:function(){return Promise.all([i.e("chunk-7dba48b6"),i.e("chunk-121a67f8"),i.e("chunk-0fb43524"),i.e("chunk-31ef417d"),i.e("chunk-58f359e0")]).then(i.bind(null,"ed29"))}},{path:"/movies",name:"movies",meta:{level:3,title:a.a.t("home.movieManage")},component:function(){return Promise.all([i.e("chunk-7dba48b6"),i.e("chunk-121a67f8"),i.e("chunk-629054da"),i.e("chunk-0b652f88")]).then(i.bind(null,"c352"))}},{path:"/movieDetail",name:"movieDetail",meta:{level:4},component:function(){return i.e("chunk-7dba48b6").then(i.bind(null,"4696"))}},{path:"/spaceDetail",name:"spaceDetail",meta:{level:4},component:function(){return i.e("chunk-af491a4a").then(i.bind(null,"ceeb"))}},{path:"/albumDetail",name:"albumDetail",meta:{level:4},component:function(){return i.e("chunk-7fcf4590").then(i.bind(null,"8fad"))}},{path:"/videoDetail",name:"videoDetail",meta:{level:4},component:function(){return Promise.resolve().then(i.bind(null,"5d55"))}},{path:"/filesBrower",name:"filesBrower",meta:{level:3,title:a.a.t("home.fileBrower")},component:function(){return i.e("chunk-896b3a34").then(i.bind(null,"3ecc"))}},{path:"/privateSpace",name:"privateSpace",meta:{level:3,title:a.a.t("photo.privateSpace")},component:function(){return Promise.all([i.e("chunk-af491a4a"),i.e("chunk-26fddaf6")]).then(i.bind(null,"04e6"))}},{path:"/backup",name:"backup",meta:{level:3,title:a.a.t("home.backup")},component:function(){return i.e("chunk-3e7b85e8").then(i.bind(null,"1a8f"))}},{path:"/share",name:"share",meta:{level:3,title:a.a.t("home.sharing")},component:function(){return i.e("chunk-4205e2a0").then(i.bind(null,"ecbb"))}},{path:"/noticeCenter",name:"noticeCenter",meta:{level:3,title:a.a.t("home.sharing")},component:function(){return i.e("chunk-58202272").then(i.bind(null,"f43f"))}},{path:"/shareTemp",name:"shareTemp",meta:{level:3,title:a.a.t("home.shareTemp")},component:function(){return i.e("chunk-8a245596").then(i.bind(null,"4dd8"))}},{path:"/notes",name:"notes",meta:{level:3},component:function(){return i.e("chunk-3ee47ac8").then(i.bind(null,"b336"))}}]),u=s.a.prototype.push,n=(s.a.prototype.push=function(e,t,i){return t||i?u.call(this,e,t,i):u.call(this,e).catch(function(e){return e})},new s.a({mode:"hash",base:"",routes:l})),d=["/","/login","/create_admin","/forgotPwd","/shareTemp"];n.beforeEach(function(e,t,i){if(!d.includes(e.path)&&!c.a.state.token){var n,e=o.default.prototype.getToken();if(c.a.state.currentUser||(n=o.default.prototype.getCurrentUser())&&(c.a.state.currentUser=n),!e)return i({path:"/"});c.a.state.token=e}i()}),n.afterEach(function(e,t){document.title=e.meta.title||"NasCab"}),t.a=n},a342:function(e,t,i){},a467:function(e){e.exports=JSON.parse('{"downloadFileConfirm":"是否确认下载文件?","mvTvDif":"电影类型以文件为单位展示，电视剧类型以文件夹为单位展示","folderName":"文件夹名","zipImgAlert":"将图片上传到您的服务端主机,对图片进行压缩后下载,用于减小图片体积","addMediaArrangeTask":"创建媒体整理任务","selectMRsourcePath":"选择要整理的媒体文件夹","selectMRtargetPath":"选择要保存的目标文件夹","sourceTargetPathCannotSame":"媒体文件夹和目标文件夹不能相同","mediaSourcePath":"媒体文件夹","mediaArrangeAlert":"自动读取源文件夹中所有媒体文件的拍摄日期，随后在目标文件夹内按 [年/月/日] 的层级结构创建对应的三级文件夹，并将文件精准复制到匹配日期的文件夹中，实现媒体文件的有序归类与整理，任务执行期间如果退出服务端将导致任务中断。","selectTransFolder":"添加要转换的文件或文件夹","selectTransTarget":"选择输出目录","selectTransFormat":"选择输出格式","selectTransQuality":"选择输出码率","selectTransSize":"选择输出尺寸","onlySupport":"仅支持","outFormat":"输出格式","outQuality":"输出质量","mediaTools":"媒体工具","outputSize":"输出尺寸","rawSize":"原尺寸","withMetaTitle":"是否保留元数据","withMeta":"保留元数据","withoutMeta":"不保留元数据","optimized":"已优化","downloadAll":"下载全部","tools.defaultFormat":"自动格式","tools.defaultQulity":"自动质量","tools.arrange":"媒体整理","tools.imgZip":"图片压缩","tools.imgTrans":"图片转换","tools.vidTrans":"视频转换","tools.vidTransAlert":"用于批量转换服务端上的视频格式，将目录中的视频按照指定格式和参数进行批量转换并输出到目标目录，任务执行期间重启服务端将导致任务中断","tools.createTransTaskVideo":"创建视频转换任务","tools.zipUploadAlert":"上传图片进行压缩(点击/拖动)","saveByDate":"按日期保存","saveByDateHelp":"开启后,文件将根据照片视频的拍摄时间,或文件创建时间等自动创建[年/月/日]三级文件夹，并将文件上传到日期文件夹中,例如:您上传一张名为[abc.jpg(2020年1月1日拍摄)]的照片到[D:/照片]文件夹,照片将保存到:[D:/照片/2020/1/1/abc.jpg]","selectNewFolderNow":"是否立刻选中新创建的文件夹?","otherRegion":"其他国家或地区","setting.serverRootPath":"服务入口路径","nfoAndPoster":"NFO和海報","setting.serverRootPathPlaceholder":"输入路径如：myweb","setting.serverRootPathHint":"示例:如原访问地址为http://192.168.1.5:80，入口路径设置为abc，则访问地址变为:http://192.168.1.5:80/abc，内网穿透和DDNS同步生效，增强安全性，设置后重启NasCab生效，此设置不影响WebDav和Ftp分享","setting.serverRootPathError":"路径仅支持字母数字且不超过32位","china":"中国(含港澳台) ","addMapServer":"添加瓦片服务器","coordinate":"坐标系","currentUsing":"当前使用","mapSwitchAlert":"切换地图后,页面将刷新并重新加载,是否确认切换?","maxZoom":"缩放级别","tileServerUrl":"瓦片服务器","region":"地区","switchMap":"切换地图","languageAndRegion":"语言和地区(Region&Language)","regionAlert":"不同地区版本之间NasCab会员账号和数据不通用,功能也不完全相同,请根据实际情况选择","defaultPlay":"优先播放","rawFile":"原文件","folderDownloadAlert":"您正在尝试下载文件夹,文件夹将以zip压缩包形式下载,是否确认?","notes":"便签","mix":"混合","copyLink":"复制下载链接","linkCopied":"下载链接已复制","remark":"备注","intervalScan":"间隔扫描","intervalScanAlert":"每隔一段时间扫描磁盘并添加新文件的索引","everyXHour":"每{count}小时","scanAll":"扫描全部目录","addUserRemark":"设置用户备注","userRemarkPh":"用户名/备注搜索","proxy":"代理","quickKey":"快捷键","fileKeyAlert":"[+/=]:放大 [-]:缩小 [c]:切换展示方式 [r]:刷新","photoKeyAlert":"[+/=]:放大 [-]:缩小 [c]:切换展示方式","saveAndTest":"保存并测试","tmdbProxy":"启用TMDB代理","tmdbAlert":"当您的网络环境无法访问到TMDB的服务器时,可以配置使用本机代理,如:http://127.0.0.1:10809等,实际的本机代理地址根据您的代理软件设置而定","protocol":"协议","host":"主机[含协议和端口]","afterScrapeAlert":"请求成功,任务将在后台进行,请稍后刷新页面或查看[刮削日志]确认结果","tryRescrape":"请尝试重新刮削","scrapeSeasonDetail":"请求季详情[TMDB]","scrapeDetail":"请求剧详情[TMDB]","scrapePath":"刮削路径","scrapeType":"刮削类型","result":"结果","resultPath":"保存路径","failReason":"失败原因","scrape":"刮削","scrapeLog":"刮削日志","scrapeEpisode":"刮削缺失剧集","scrapeMissingAlert":"将尝试根据本剧已有NFO文件刮削缺失的剧集信息,确定吗?","poster":"封面","scanWhenStart":"启动时扫描","scanWhenChange":"有变动时自动扫描","scanWhenChangeAlert":"部分操作系统和运行环境可能不支持此功能,如Windows下的Docker,网络磁盘等,在对来源目录进行大量修改时,建议暂时关闭此选项","proxy.smooth":"畅通","proxy.normal":"中等","proxy.busy":"拥挤","book.library":"图书管理","episodeCount":"集数","bestSize":"推荐长宽比例","whiteBg":"透明或白色背景","bestBg":"推荐使用浅色图片","loginWelMsg":"登录页欢迎语","keyword":"关键字","nameRule":"刮削命名规则","alreadyInQueue":"任务已加入执行队列","movieNameRule":"电影命名规则:霸王别姬(1999).mp4,如不知道具体年份也可以不加","tvNameRule":"电视剧命名规则:建议采用3级目录命名方式,如:权力的游戏 > [\'Season 1\' 或 \'s2\' 或 \'第三季\' 或 \'第4季\'] > [\'权力的游戏S01E01.mp4\' 或 \'权力的游戏EP02.mp4\' 或 \'权力的游戏E03.mp4\' 或 \'权力的游戏第4集.mp4\']","loginImg":"登录页图片","sourceIncludeCache":"此路径在您设置的缓存目录下,将不会被扫描,请在【配置中心-系统设置】中修改缓存目录","homeBg":"首页背景图","cantAccess":"无法访问","localNetAlert":"如果此地址无法访问,请按照以下顺序排查:1.访问设备和服务端必须处于同一个IP网段,在同一个路由器下。2.如果您使用的是Windows系统,请确保已经在防火墙把服务端放行。3.如果您的网卡属性是【公有网络】,请尝试切换到【私有网络】。","logoLeft":"左上角LOGO","successAndRestartImgViewer":"设置成功,请重新打开图片浏览器","imgPreviewSize":"大图预览尺寸","longSideMaxPx":"长边最大尺寸(像素)","imgQuality":"图片质量[建议60-90]","imgPreviewAlert":"设置自定义图片预览尺寸,浏览大图片时可以降低网络流量,提升加载速度,此功能不会改变您的图片源文件,建议设置为[自定义][长边3000-8000像素]","rawImage":"原图","episode":"集","dragSelectAlert":"按住鼠标左键拖动多选","yourInputTooLong":"您输入的内容太长,请保持在{count}个字以内","onlySupportCustomImageFormat":"只支持JPG,PNG,WEBP格式","chooseDeleteOption":"选择删除选项","watched":"看过","lastWatched":"上次看到","number":"数字","index.title":"正在初始化...","net.error":"网络连接错误...","cannotBeEmpty":"{content}不能为空","terminal.disconnect":"终端连接已断开","terminal.failConnect":"终端连接失败","terminal.connected":"终端已连接","terminal.start":"启动终端","creator":"创建者","terminal.title":"终端工具","refreshQrcode":"刷新二维码","customUrlAlertA":"您还可以在","customUrlAlertB":"中配置分享URL,用于每次自动替换服务器地址","pleaseSelectFolder":"请选择一个文件夹","itemsCount":"个项目","switch":"切换","imageSize":"图片尺寸","second":"秒","width":"宽度","height":"高度","pixel":"像素","setting":"设置","open":"打开","verify":"验证","dataFrom":"数据来源","theSeason":"第{number}季","season":"季","selectWhichSeason":"您要选择哪一季?","putInSystemTrash":"放入操作系统回收站","fileNotFound":"文件未找到,请检查","openInSystem":"在系统中打开","selectedInSystem":"在系统中选中","file.hidePath":"隐藏文件路径","file.hidePathAlert":"如果您不想让某些文件夹在文件浏览器中显示,可以在这里添加想要隐藏的路径,隐藏后的路径将不会显示在文件浏览模块中,此功能只能在服务端的程序窗口内设置,无法在浏览器或APP中设置,此功能仅支持Windows和Mac平台","file.hidePathPlaceHolder":"输入要隐藏的路径,如:D:\\\\或/Applications等","shareForSubUser":"对所有用户可见","transcodeSpeed":"转码速度","transcodeReadRate":"转码读取速率","transcodeReadRateAlert":"转码时对源文件的最大读取速率倍数,即每1秒读取最多几秒的视频源文件,降低此数值可降低cpu和gpu占用率,过低会影响转码速度,建议设置为2-10之间","transcodeSpeedAlert":"转码速度越快,画面质量越低","decoderErrorAlert":"此解码器为测试状态,如无法解码请切换到其他解码器","ultrafast":"最快","superfast":"超快","veryfast":"非常快","faster":"更快","fast":"快","medium":"中等","slow":"慢","slower":"更慢","veryslow":"非常慢","pageCount":"{count}组/页","transcode":"转码","valueMustBeNum":"值必须是数字","whatModelWillYouUse":"设置首页显示的功能(对所有用户生效)","whatModelWillYouUseSubuser":"为此用户显示哪些菜单?","shareDomainSetting":"分享域名设置","shareDomainAlert":"设置后,将用于自动替换分享链接中的服务器地址,如快速分享等功能,需包含地址和端口以及入口路径","map.currentZoomLevel":"当前缩放等级{zoom}","map.upgradeZoom":"升级版本,解锁12级地图","proxy.switchAlert":"由于DNS缓存时效问题,切换线路将导致最长5-30分钟的域名生效时间,是否确认切换?","proxy.downloadFrp":"下载FRP","proxy.currentRoute":"当前线路","proxy.routeList":"可选线路列表","proxy.pluginState":"插件状态","proxy.installPlugin":"安装插件","proxy.installed":"已安装","proxy.pluginPath":"插件安装路径","proxy.installMsgSent":"安装指令已发送,稍后将自动刷新","proxy.uninstalled":"未安装","proxy.cannotLoginMulti":"同时在多个服务端登录同一个NasCab账号将导致内网穿透无法使用","proxy.firewallAlert":"NasCab使用第三方开源软件FRP进行内网穿透,在Windows下有可能被防火墙误杀,请确保将frpc文件加入白名单,否则可能无法使用","proxy.frpcGithub":"FRP开源地址及相关讨论:https://github.com/fatedier/frp","language.chi":"中文","language.eng":"英文","language.ger":"德文","language.spa":"西班牙文","language.fre":"法文","language.jpn":"日文","language.kor":"韩文","common.menu":"菜单","common.pathExist":"路径已存在","common.fileExist":"文件已存在","common.cancelFavorite":"取消收藏","common.sortField":"排序方式","common.sortType":"排序类型","common.asc":"升序","common.desc":"降序","common.iKnow":"我已了解","common.yes":"是","common.addMore":"增加","common.no":"否","common.nothing":"无","common.download":"下载","common.selectAll":"全选","common.folder":"文件夹","common.file":"文件","common.name":"名称","common.onlyCanUseInApp":"只能在APP内部使用","common.eq":"等于","common.gt":"大于","common.lt":"小于","common.contain":"包含","common.filepath":"文件路径","common.textTooLong":"字符长度超出限制","common.buyVipInPc":"请在PC端购买","common.addPath":"添加路径","common.selectSubuser":"选择子用户","setting.tokenKeepTime":"登录状态保持时间[小时]","setting.tokenKeepMaxAlert":"登录状态保持时间最大值为720小时","sign.tv":"剧","sign.movie":"影","checkTime":"查看时间","file.withoutSharedFile":"未找到共享文件","file.changeToRealUrl":"可将共享链接中的 {url} 部分更换为您实际的服务器地址和端口","file.endDate":"截止日期","file.shareLink":"共享链接","file.validity":"访问有效期[天]","file.accessPwd":"访问密码","file.noNeedPwd":"无需密码","file.shareTempPwdPh":"输入访问密码,留空代表不需要","file.shareTempAlert":"快速分享文件/文件夹,他人无需登录即可访问","file.addShareTemp":"添加快速分享","file.shareFolderAlert":"添加共享文件夹,所有子用户无需授权即可查看","file.addShareFoler":"添加共享文件夹","file.sharePath":"共享路径","holiday.yuandan":"元旦","holiday.chuxi":"除夕","holiday.chuyi":"初一","holiday.yuanxiaojie":"元宵节","holiday.qingrenjie":"情人节","holiday.funvjie":"妇女节","holiday.yurenjie":"愚人节","holiday.laodongjie":"劳动节","holiday.ertongjie":"儿童节","holiday.qixi":"七夕","holiday.duanwujie":"端午节","holiday.jiaoshijie":"教师节","holiday.zhongqiujie":"中秋节","holiday.guoqingjie":"国庆节","holiday.chongyangjie":"重阳节","holiday.wanshengjie":"万圣节","holiday.pinganye":"平安夜","holiday.shengdanjie":"圣诞节","system.sysUpdate":"系统更新","system.systemResetSuc":"系统重置成功,请重新登录","system.copied":"已复制","system.hostName":"主机名","system.update":"更新","system.updateLog":"更新日志","system.updateTo":"更新至","system.currentSystemVersion":"当前系统版本","system.lastestVersion":"最新系统版本","system.updateSent":"安装包下载后将自动进行安装并重启,期间NasCab将停止服务,请耐心等待","system.info.system":"设备概况","system.info.osInfo":"系统信息","system.info.cpu":"CPU","system.info.mem":"内存","system.info.diskLayout":"硬盘","system.info.usb":"USB","system.info.audio":"音频","system.info.networkInterfaces":"网络","system.info.bios":"BIOS","system.info.baseboard":"主板","system.info.graphics":"显示/显卡","system.info.wifiNetworks":"WIFI","system.info.bluetoothDevices":"蓝牙","system.info.osInfo.platform":"平台","system.info.osInfo.distro":"发行版","system.info.osInfo.release":"Release","system.info.osInfo.kernel":"内核","system.info.osInfo.arch":"架构","system.info.osInfo.hostname":"主机名","system.info.osInfo.codepage":"构建版本","system.info.osInfo.logofile":"发行商","system.info.osInfo.serial":"序列号","system.info.osInfo.build":"构建版本号","system.info.osInfo.uefi":"UEFI启动支持","system.info.cpu.manufacturer":"制造商","system.info.cpu.brand":"品牌型号","system.info.cpu.speed":"频率Ghz","system.info.cpu.speedMin":"最小频率","system.info.cpu.speedMax":"最大频率","system.info.cpu.cores":"核心数","system.info.cpu.physicalCores":"物理核心数","system.info.cpu.processors":"处理器数量","system.info.cpu.socket":"接口","system.info.cpu.vendor":"供应商","system.info.cpu.family":"家族","system.info.cpu.model":"型号","system.info.cpu.stepping":"步进","system.info.cpu.revision":"版本号","system.info.cpu.flags":"标记","system.info.cpu.virtualization":"支持虚拟化","system.info.cpu.cache":"缓存","system.info.cpu.performanceCores":"性能核心","system.info.cpu.efficiencyCores":"能效核心","system.info.mem.total":"容量","system.info.mem.free":"可用","system.info.mem.used":"已用","system.info.mem.active":"主动使用(不包括缓冲区/缓存)","system.info.mem.buffcache":"缓冲区/缓存","system.info.bios.vendor":"供应商","system.info.bios.version":"版本","system.info.bios.releaseDate":"发行日期","system.info.bios.revision":"版本号","system.info.bios.serial":"序列号","system.info.baseboard.manufacturer":"制造商","system.info.baseboard.model":"型号","system.info.baseboard.version":"版本","system.info.baseboard.serial":"序列号","system.info.baseboard.assetTag":"资产标签","system.info.diskLayout.device":"设备路径","system.info.diskLayout.type":"类型","system.info.diskLayout.name":"名称","system.info.diskLayout.vendor":"供应商","system.info.diskLayout.size":"容量","system.info.diskLayout.firmwareRevision":"固件版本","system.info.diskLayout.serialNum":"序列号","system.info.diskLayout.interfaceType":"接口类型","system.info.diskLayout.smartStatus":"S.M.A.R.T 状态","system.info.diskLayout.bytesPerSector":"每扇区字节数","system.info.diskLayout.totalCylinders":"总柱面数","system.info.diskLayout.totalHeads":"总磁头数","system.info.diskLayout.totalSectors":"总扇区数","system.info.diskLayout.totalTracks":"总轨道数","system.info.diskLayout.tracksPerCylinder":"每柱面磁道","system.info.diskLayout.sectorsPerTrack":"每磁道扇区数","system.info.diskLayout.temperature":"S.M.A.R.T 温度","system.info.usb.bus":"USB 总线","system.info.usb.deviceId":"总线设备ID","system.info.usb.id":"内部ID","system.info.usb.name":"名称","system.info.usb.type":"类型","system.info.usb.removable":"可移除","system.info.usb.vendor":"供应商","system.info.usb.manufacturer":"制造商","system.info.usb.maxPower":"最大功率","system.info.usb.serialNumber":"序列号","system.info.audio.id":"内部ID","system.info.audio.name":"名称","system.info.audio.manufacturer":"制造商","system.info.audio.revision":"版本号","system.info.audio.driver":"驱动程序","system.info.audio.default":"是否默认","system.info.audio.channel":"通道","system.info.audio.type":"类型","system.info.audio.in":"是否为输入","system.info.audio.out":"是否为输出","system.info.audio.interfaceType":"接口类型","system.info.networkInterfaces.iface":"接口","system.info.networkInterfaces.ifaceName":"接口名称","system.info.networkInterfaces.default":"是否为默认","system.info.networkInterfaces.ip4":"IPV4地址","system.info.networkInterfaces.ip4subnet":"IPV4子网掩码","system.info.networkInterfaces.ip6":"IPV6地址","system.info.networkInterfaces.ip6subnet":"IPV6子网掩码","system.info.networkInterfaces.mac":"Mac地址","system.info.networkInterfaces.internal":"内部","system.info.networkInterfaces.virtual":"是否为虚拟","system.info.networkInterfaces.type":"类型","system.info.networkInterfaces.mtu":"最大传输单元","system.info.networkInterfaces.speed":"速度 MBit/s","system.info.networkInterfaces.dhcp":"DHCP获取的IP地址","system.info.networkInterfaces.dnsSuffix":"DNS 后缀","system.info.bluetoothDevices.device":"设备名称","system.info.bluetoothDevices.name":"名称","system.info.bluetoothDevices.macDevice":"MAC","system.info.bluetoothDevices.macHost":"MAC地址主机","system.info.bluetoothDevices.batteryPercent":"电量","system.info.bluetoothDevices.manufacturer":"制造商","system.info.bluetoothDevices.type":"类型","system.info.bluetoothDevices.connected":"是否已连接","system.info.graphics.vendor":"供应商","system.info.graphics.vendorId":"供应商编号","system.info.graphics.model":"型号","system.info.graphics.name":"名称","system.info.graphics.deviceId":"设备ID","system.info.graphics.bus":"总线","system.info.graphics.vram":"VRAM size (MB)","system.info.graphics.external":"是否外接","system.info.graphics.cores":"核心数","system.info.graphics.deviceName":"设备名称","system.info.graphics.productionYear":"生产年份","system.info.graphics.serial":"序列号","system.info.graphics.displayId":"显示 ID","system.info.graphics.main":"是否为主要","system.info.graphics.builtin":"是否为内置","system.info.graphics.connection":"连接方式","system.info.graphics.sizeX":"水平尺寸 (mm)","system.info.graphics.sizeY":"垂直尺寸 (mm)","system.info.graphics.pixelDepth":"色深 (bits)","system.info.graphics.resolutionX":"水平分辨率","system.info.graphics.resolutionY":"垂直分辨率","system.info.graphics.currentResX":"当前水平分辨率","system.info.graphics.currentResY":"当前垂直分辨率","system.info.graphics.currentRefreshRate":"当前刷新率","system.info.graphics.driverVersion":"驱动版本","system.info.graphics.memoryTotal":"总显存 (MB)","system.info.graphics.memoryUsed":"已用显存 (MB)","system.info.graphics.memoryFree":"可用显存 (MB)","system.info.graphics.temperatureGpu":"温度","system.info.graphics.powerDraw":"功率消耗 (w)","system.info.graphics.utilizationGpu":"GPU利用率 %","system.info.graphics.clockCore":"时钟核心","nascab.online":"在线","reconnect":"重连","home.scanToAccess":"可以使用浏览器/微信等扫码访问","usage":"使用率","sureToClose":"确认关闭吗?","nascab.useNasCabCert":"使用NasCab提供的https证书","nascab.useApiCert":"使用和API服务相同的证书[您在配置中心配置的或DDNS服务提供的]","nascab.useNasCabCertCloseAlert":"关闭后,将使用默认证书作为https协议的api接口证书,您也可以在通用配置中自行配置","nascab.useNasCabCertAlert":"开启后,将使用NasCab提供的HTTPS证书并替换自定义证书(如已设置),程序启动时,用作HTTPS协议的API接口证书,重启应用才能生效","nascab.clearCustomProxy":"清除端口映射配置","nascab.conFromLan":"如果您和服务器处于同一局域网,可以从局域网连接:","nascab.localMachine":" [127.0.0.1代表本机] ","nascab.invalidIp":"请输入正确的IP","nascab.invalidPort":"请输入正确的端口","nascab.pleaseOpenTwoStepsLogin":"开启远程访问后,您的NasCab服务可以从公网访问,请您务必在安全中心开启\'两步登录\'以增强账户安全性","nascab.lanAccessAlert":"在同一个局域网内的任意浏览器,输入此网址可访问到NasCab服务,完全兼容PC/手机浏览器","nascab.proxyDelay":"每次重连后,域名生效可能会有5-30分钟延迟,请耐心等待","nascab.sameAccountLogin":"不能同时在多台电脑的服务端登录同一个nascab微信/手机账号并同时开启内网穿透,否则可能导致冲突","nascab.reconnectSent":"重新连接请求已发送,请稍后刷新查看连接状态","nascab.connectState":"连接状态","nascab.connectLine":"连接线路","nascab.sureEnableDDNS":"确认启用DDNS吗?DDNS用来将NasCab专属域名解析到您的动态公网IP.","nascab.sureDisableDDNS":"确认关闭DDNS吗?","nascab.ddnsIp":"解析IP","nascab.ddnsType":"解析类型","nascab.isEnable":"是否启用","nascab.sureEnableRemote":"确认启用远程访问吗?","nascab.sureDisableRemote":"确认关闭远程访问吗?如果您正在使用远程访问,连接将立即断开","nascab.remoteAccessMenu":"内网穿透","nascab.offline":"离线","nascab.remoteAccess":"远程访问地址","nascab.customServerRemoteUrl":"自定义服务公网访问域名","nascab.setDomain":"设置我的专属域名","nascab.myDomain":"我的域名","nascab.ddnsDomain":"DDNS域名","nascab.proxyDomain":"内网穿透域名","nascab.contactServe":"联系客服","nascab.validUntil":"有效期至","nascab.needUpgrade":"免费版无法使用此功能,请用管理员账号在‘配置中心->NasCab账号’中升级后再试","nascab.version":"当前版本","nascab.renewal":"续期","nascab.loginFirst":"请先登录NasCab账号","nascab.upgrade":"升级","nascab.versionFree":"个人免费版","nascab.versionPro":"专业版","nascab.versionTeam":"白金版","nascab.goToBind":"去绑定","nascab.account":"NasCab账号","nascab.notLogin":"未登录","nascab.switchAccount":"切换账号","nascab.email":"邮箱","nascab.changeToLan":"您和要连接的NasCab服务处于同一个局域网,切换到局域网访问可以大幅加快访问速度,是否切换?","nascab.phone":"手机","nascab.exitAccount":"退出NasCab账号","nascab.accountManage":"管理我的NasCab账号","slogan":"Nas Cab 做最简单易用的多媒体管理软件","common.faq":"常见问题","proxy.faqContent1":"1.内网穿透的作用：让您的NasCab在没有公网IP的情况下可以通过公网访问。开启后请在安全中心开启两步登录增强安全性。","proxy.faqContent2":"2.内网穿透和DDNS的区别：内网穿透不需要公网IP,数据需NasCab服务器中转。DDNS需要公网IP,连接方式为直连无需中转。内网穿透和DDNS可以通过设置不同子域名同时启用。","proxy.faqContent3":"3.内网穿透是否安全：传输采用HTTPS+AES双重加密,NasCab服务器只做中转,不对数据做任何过滤和审核,也无法被中间路由器获取。","proxy.faqContent4":"4.内网穿透的端口：内网穿透域名的端口固定为443(HTTPS)","proxy.faqContent5":"5.Frp在Windows下的杀软误报,相关讨论请见Frp仓库：https://github.com/fatedier/frp","ddns.faqContent1":"1.如何验证ddns是否成功:使用命令行对您的域名进行ping操作,观察解析出来的IP是否和显示的一致","ddns.faqContent2":"2.映射成功后无法访问:如果是IPV4还需要在路由器进行端口转发,把NasCab服务端口转发到NasCab所在设备,IPV6通常不需要","ddns.faqContent3":"3.是否需要加端口访问:如果是默认端口(http:80)(https:443)不需要,非默认端口需要使用 [http(s)://域名:端口] 的形式访问","ddns.faqContent4":"4.如果仍然无法访问,可以切换不同服务端口尝试,部分运营商可能会屏蔽80和443端口","ddns.faqContent5":"5.如何确认是否拥有动态公网IPV4地址:在搜索引擎搜索\'IP\'等关键字,查看自己的公网IP,然后和路由器WAN IP对比是否一致,一致则为公网IP","common.rename":"重命名","common.startTime":"开始时间","common.newVersionReady":"新版本 {version} 已准备好","common.import":"导入","common.export":"导出","common.show":"显示","common.new":"新建","common.multiSelect":"多选","common.longPressShowMenu":"长按可以弹出菜单","common.rightClickShowMenu":"右键点击弹出菜单","upload.success":"上传成功","upload.error":"上传失败","upload.uploading":"上传中...","upload.paused":"已暂停","upload.waiting":"等待中","upload.noTargetPath":"未选择目标上传文件夹","upload.folderAlert":"注意：使用文件夹上传时,无法保持子文件夹结构","common.pleaseInputSearchContent":"请输入搜索内容","common.welcomeToNasCab":"欢迎使用NasCab云可云","common.hide":"隐藏","common.close":"关闭","common.top":"顶部","common.ok":"确定","common.and":"和","common.iSee":"知道了","common.alert":"提示","common.title":"标题","common.search":"搜索","common.resetDefault":"重置为默认","common.default":"默认","common.detail":"详情","common.refresh":"刷新","common.refreshList":"刷新列表","common.confirm":"需要您确认","common.noMore":"没有更多了","common.returnLastLayer":"返回","common.noData":"无数据","common.operationSuccess":"操作成功","common.checkAfter":"操作将在后台进行,稍后刷新可以查看结果","common.operationFail":"操作失败","common.getFail":"获取失败","common.options":"选项","common.all":"全部","common.succesed":"成功","common.faild":"失败","common.uploading":"上传中","common.home":"首页","common.photo":"照片","common.save":"保存","common.video":"视频","common.cancel":"取消","common.cancelled":"已取消","common.select":"选择","common.update":"更新","common.mode":"IP模式","common.blacklistMode":"黑名单模式","common.whitelistMode":"白名单模式","common.edit":"编辑","common.cancelSelect":"取消选择","common.selected":"已选择","common.loadmore":"加载更多","common.username":"用户名","common.password":"密码","common.question":"密保问题","common.answer":"密保答案","common.commit":"提交","common.add":"新增","common.upload":"上传","common.delete":"删除","common.clear":"清除","common.action":"操作","common.deleteSuccess":"删除成功","common.deleteSuccessWithCount":"{sucCount}个文件删除成功,{errCount}个文件删除失败","common.deleteSure":"确认删除吗?","common.change":"修改","common.changeSuccess":"修改成功","common.check":"查看","common.return":"返回","common.unselect":"取消已选","common.noPermission":"无权限","common.tokenExpire":"登录状态过期","common.whatWillYouDo":"您要怎么做?","common.year":"年","common.month":"月","common.day":"日","common.continue":"继续","common.sureSaveChange":"是否保存修改?","common.monday":"星期一","common.tuesday":"星期二","common.wednesday":"星期三","common.thursday":"星期四","common.friday":"星期五","common.saturday":"星期六","common.sunday":"星期日","common.chooseUser":"选择用户","common.noAccess":"无访问权限","common.other":"其他","common.path":"路径","common.state":"状态","common.available":"可用","common.unavailable":"不可用","common.help":"帮助","useWhitePhotoGps":"参考了以下图片的GPS信息","help.howToWork":"此功能如何工作?","help.addGpsHelp":"比如：您在11点用单反相机拍摄了100张没有GPS信息的照片,又在临近时间【如当天12点】用手机拍摄了一张带有GPS信息的照片,您可以利用此功能将手机拍摄的照片的位置信息写入单反拍摄的一系列照片中,此功能仅支持JPEG格式。","security.sameIpOrigin":"IP同源检测","security.sameIpAlert":"客户端IP变更后Token立刻过期,可提升安全性,但在复杂网络条件下可能导致登录状态频繁过期,请根据实际情况决定是否开启,重启NasCab生效","security.blackDesc":"该模式下,黑名单中的IP无法访问","security.whiteDesc":"该模式下,只有白名单中的IP可以访问","security.ipFromatWrong":"IP格式不正确","security.addOne":"添加一个","security.description":"描述","security.removeFromBlackList":"从黑名单中移除","security.removeFromWhiteList":"从白名单中移除","security.blackList":"IP黑名单","security.whiteList":"IP白名单","security.login":"登录","security.changePwd":"修改密码","security.username":"用户名","type":"类型","security.time":"记录时间","security.client":"客户端","security.loginFail":"登录失败 ","security.timesIpBlock":" 次后,IP封禁 ","security.minutes":" 分钟","security.logs":"日志","security.twoStepsDesc":" 开启后,在本机以外的地方登录需要填写密保问题答案","notice.markAllAsRead":"全部标记已读","notice.deleteAll":"全部删除","notice.error":"错误","notice.info":"消息","private.fileWillDeleteForever":"文件将被永久删除","private.spaceInfo":"空间资料","private.shootTime":"拍摄时间","private.chooseExportPathFirst":"请先选择要导出的空间路径和目标路径","private.tokenExpired":"加密空间验证状态过期,请尝试重新进入","private.videoNoTransPlay":"加密空间中的视频由于格式原因无法支持实时转码,在原文件无法播放的情况下,您可以下载解密后的视频到本地进行播放","private.privateSpaceDescA":"加密空间用于加密并保存您的数据,AES加密保障数据安全","private.privateSpaceDescB":"每一个加密空间保存在独立的文件夹中,支持创建多个加密空间","private.deleteSpaceAlert":"确认删除加密空间吗?加密空间对应的文件夹不会被删除,您可以手动删除,如后续需要,可以通过\'导入加密空间\'功能对文件夹进行导入","private.addPrivateSpace":"添加加密空间","private.changeSpaceName":"修改空间名称","private.inputNewName":"输入一个新的空间名称","private.sureDeleteSpace":"确实要删除空间吗?","private.importPrivateSpace":"导入空间","private.importPrivateSpaceDes":"此功能用于导入您之前创建的加密空间","private.createPrivateSpace":"创建加密空间","private.spaceName":"空间名称","private.spaceFolder":"空间目录","private.spacePwd":"空间密码","private.newSpaceName":"导入后空间名称","private.rawSpacePwd":"原空间密码","private.rawSpaceFolderPath":"选择原加密空间所对应的文件夹","private.createDate":"创建日期","private.folderPath":"选择加密空间数据保存位置(所选文件夹必须为空)","private.inputSpacePwd":"输入空间密码","private.uploadFile":"上传文件","private.uploadFileToSpace":"上传文件到加密空间[上传期间不要关闭空间]","private.passwordInvalid":"空间密码过期,请尝试重新进入空间","private.exportSpaceData":"导出空间","private.exportFolder":"导出目标文件夹","private.exportTaskInLine":"导出任务已加入执行队列","private.exportSpaceDataDes":"此功能用于将加密空间的数据全部解密并导出到您指定的文件夹,即使配置文件损坏的空间也可以使用此功能导出数据","ws.indexState":"索引状态","ws.backupState":"备份服务状态","ws.indexing":"索引中...","ws.indexingDone":"索引完成","share.atLeastChooseOneUser":"至少选择一位用户","share.noChooseShareFolder":"您需要选择分享目录","share.WebDav":"WebDav","share.FTP":"FTP","share.shareDesc":"文件分享可以让您把本机文件夹分享给网络上的其他计算机访问,支持WebDav协议,Ftp协议","share.chooseFtpRootPath":"选择FTP根目录","share.ftpRootPath":"FTP根目录","share.urlExample":"访问url示例:","share.addShareFold":"添加共享文件夹","share.updateShareFold":"更新共享文件夹","share.pathSign":"共享路径标识符","share.fullWebDavUrl":"共享URL","share.pathSignPlaceHolder":"仅支持字母和数字","share.chooseShareFold":"选择共享文件夹","share.shareFold":"共享文件夹","share.userAlreadyInList":"用户已存在","share.choosePowerUser":"选择授权用户","share.selectedUserList":"已授权的用户列表","share.restartFileShareAlert":"此操作将重启文件共享服务,所有已有连接客户端将暂时中断,确认吗?","share.restartSuccess":"文件共享服务已重启","share.adminHasPowerDefault":"管理员账户默认拥有所有共享文件夹的访问权限","share.noShareAlert":"还没有共享文件夹,点击底部按钮创建一个","bakcup.noRecords":"无备份记录","backup.cannotUseRoot":"不能使用磁盘根目录,请选择一个文件夹","backup.backupDesc":"备份功能用于将您的本地文件夹备份到不同的磁盘或文件夹","backup.currentStat":"当前状态","backup.running":"正在执行备份...","backup.paused":"已暂停","backup.waiting":"即将执行备份任务...","backup.noRunning":"未在执行","backup.ifRunTask":"是否运行备份任务?","backup.ifStopTask":"是否停止备份任务?","backup.createTask":"创建新的备份任务","backup.orderSent":"指令已发送","backup.noTaskAlert":"还没有备份任务,点击底部按钮创建一个","backup.taskName":"任务名称","backup.backupRate":"备份频率","backup.oneTime":"一次","backup.everyDay":"每天","backup.everyWeek":"每周","backup.everyMonth":"每月","backup.backupDate":"备份日期","backup.lastBackupStat":"上次备份状态","backup.errorInfo":"错误信息","backup.lastBackupTime":"上次备份时间","backup.pleaseChooseBackupDate":"请选择备份日期","backup.pleaseChooseBackupTime":"请选择备份时间","backup.pleaseInputTaskName":"请输入任务名称","backup.backupTime":"备份时间","backup.backupPath":"备份文件夹","backup.targetPath":"目标文件夹","backup.youFileWillBeHere":"注意:备份为单向同步,每次备份任务执行时,源目录中不存在/已删除的文件,也将在备份目标文件夹中同步删除","backup.youFileWillBeHereB":"您的备份将存储在以下位置","backup.chooseWeek":"选择星期","backup.whichDayInMonth":"每月第几日备份","backup.choosePathWantBakcup":"选择要备份的文件夹","backup.addExclude":"添加排除项","backup.excludeList":"排除列表","backup.updateTask":"更新任务","backup.excludeExample":"支持通配符*,例如:xxA代表排除名字为xxA的所有文件和文件夹 *.mp4代表排除所有mp4文件 abc*代表排除所有abc开头的文件和文件夹","backup.chooseTargetPath":"选择目标文件夹","backup.backupSuccess":"备份成功","backup.backupFail":"备份失败","backup.sourceAndTargetPathCantEqual":"备份文件夹和目标文件夹不能相等或包含","backup.records":"备份记录","backup.copySize":"拷贝大小","backup.copyCount":"拷贝文件个数","backup.excludeCount":"排除文件数量","backup.failCount":"错误数量","backup.refreshStatus":"刷新任务状态","backup.copied":"已复制","backup.startTime":"备份开始时间","backup.endTime":"备份结束时间","backup.failList":"错误列表","header.changePwd":"修改密码","header.changeQuestion":"修改密保","header.twoStepsLogin":"两步验证","header.rawPassword":"旧密码","header.newPassword":"新密码","header.newPasswordConfirm":"确认新密码","header.oldPasswordIncorrect":"旧密码不正确","header.twoPasswordHaveToSame":"两次输入的新密码必须一致","header.changePasswordSuccess":"密码修改成功,需要重新登录","header.changeQuestionSuccess":"密保问题修改成功,请您牢记","header.rawQuestion":"原密保问题","header.newQuestion":"新密保问题","header.newAnswer":"新密保答案","header.okLogout":"确认退出账号吗?","header.logoutSuccess":"退出成功","question.petName":"我的宠物叫什么名字?","question.bornStreet":"我出生的街道叫什么?","question.houseNumber":"我家门牌号码是多少?","question.phoneNumber":"我的手机号码是多少?","question.schoolName":"我的小学名字是什么?","question.carType":"我的汽车是什么型号?","registerAdmin.firstUseAlertText":"您需要创建管理员账号用于管理您的NasCab,账号密码加密后保存在您的计算机上","registerAdmin.placeholderUsername":"请输入用户名","registerAdmin.placeholderPassword":"请输入密码","registerAdmin.placeholderQuestion":"输入密保问题,如:宠物名字/门牌号码?","registerAdmin.questionAndAnswerCantSame":"密保问题和答案不能一样","registerAdmin.uesrnameAndPwdCantSame":"用户名和密码不能相同","registerAdmin.placeholderAnswer":"请输入密保答案并牢记,用于找回密码","registerAdmin.btRegisterAdmin":"保存并继续","registerAdmin.labelUsername":"登录名称","registerAdmin.labelPassword":"登录密码","registerAdmin.labelEmail":"电子邮件","registerAdmin.usernameLengthLimit":"用户名长度至少需要2位","registerAdmin.passwordLengthLimit":"密码长度至少需要2位","registerAdmin.checkEmail":"请输入正确的电子邮件格式","registerAdmin.success":"管理员创建成功","registerAdmin.registerAdmin":"创建管理员账号","login.agree":"同意","login.chooseOtherServer":"选择其他服务器","login.privacy":"《隐私政策》","login.agreement":"《用户协议》","login.success":"登录成功","login.btLogin":"登录并继续","login.goLogin":"去登录","login.forgotPwd":"忘记密码?","login.getPwdBack":"找回密码","login.getPwdOnlyForAdmin":"此功能仅用于找回管理员密码,修改普通用户密码请登录管理员帐号后,在【用户管理】中修改","resetPwd.placeholderPassword":"请输入新密码","resetPwd.placeholderAnswer":"请输入密保问题答案","resetPwd.question":"密保问题:","resetPwd.answerIsWrong":"密保答案不正确","home.message":"消息","home.apps":"应用","home.status":"状态","home.quickAccess":"快捷功能","home.others":"其他应用","home.albumBackup":"相册备份","home.refreshBg":"背景","home.bgTask":"后台任务","home.haveNoRunningTasks":"没有正在执行的后台任务","home.sureDeleteBgTask":"确定要删除后台任务吗?","home.task":"任务","home.terminal":"终端工具","home.mine":"我的","home.cloudSyncActiveInfo":"联网同步激活信息","home.currentVersion":"当前版本","home.proCode":"激活码","home.endTime":"截止日期","home.renew":"延期","home.freeVersion":"免费版","home.proVersion":"专业版","home.backup":"文件备份","home.sharing":"文件分享","home.indexCount":"索引数量","home.indexing":"索引中","home.indexingComplete":"索引完成","home.mediaCount":"媒体数量","home.photoManage":"照片管理","home.movieManage":"影视管理","home.musicManage":"音乐管理","home.backupAndShare":"备份和共享","home.backupManage":"备份任务","home.shareManage":"共享管理","home.shareTemp":"快速分享","home.settingCenter":"配置中心","home.mobileSync":"手机同步","home.securityCenter":"安全中心","home.thumbnail":"缩略图","home.hardwareMonitor":"硬件监控","home.disk":"磁盘","home.RAM":"内存","home.upgradeToPro":"升级到专业版","home.fileBrower":"文件浏览","home.activeSuc":"激活成功","home.pleaseEnterCode":"请填写激活码","home.indexAlert":"只有生成缩略图后的文件,才会在照片和影视服务中显示","setting.howToBackup":"重装系统前如何备份数据?","setting.howToBackupContent":"将此目录({path})下的数据拷贝出来,重装系统并安装NasCab后,再将数据拷贝回原位置。","setting.noSetShowAllMenu":"不勾选代表显示所有菜单","setting.ddnsExplain":"DDNS用于将您的NasCab专属域名解析到您的动态公网IPV6/IPV4","setting.sourceFolderDeleteInBg":"索引删除将在后台进行,请您稍后刷新查看结果,在索引清除结束前,请不要添加新的来源文件夹","setting.defaultCert":"不填写时使用默认证书","setting.httpsCert":"HTTPS证书内容","setting.httpsKey":"HTTPS私钥内容","setting.autoLaunch":"开机启动","setting.autoLoginClient":"自动登录客户端","setting.autoShowWindow":"启动客户端时显示窗口","setting.account":"账户","setting.changeCachePath":"更换缓存目录","setting.reLaunchNasCab":"重启NasCab","setting.reLaunchNasCabAlert":"NasCab服务端即将重启,所有连接将暂时断开,是否确认重启?","setting.reLaunchNasCabConfirm":"重启指令已发送,请稍后再访问","setting.resetSystem":"系统重置","setting.downloadPackage":"下载安装包","setting.installationSoon":"即将开始安装...","setting.transcodeTmpPath":"转码临时目录","setting.userDataFolder":"默认数据目录","setting.resetSystemAlert":"所有数据库和缓存图片将被清除,所有用户也将被删除,下次使用您需要重新创建管理员账号,如确认重置,请您输入当前登录账号的密码","setting.crf":"H264编码CRF","setting.crfDesc":"CRF x264 编码器的默认质量设置。您可以设置介于1和51之间的值, 值越低视频质量越好, 但会导致文件体积增大和传输速度变慢。一般介于18-28之间。默认值为 23。","setting.cacheInfo":"缓存信息","setting.cacheCount":"缓存数量","setting.clearCacheAlert":"清除缓存会导致下次访问时重新生成,影响加载速度,如非必须释放磁盘空间,请勿清除","setting.databasePath":"数据库目录","setting.cachePath":"缓存目录","setting.cacheSize":"缓存大小","setting.clearCache":"清除缓存","setting.proSetting":"高级设置","setting.threadCount":"API线程数量","setting.threadCountHint":"提升并发速度,也会增加内存用量","setting.source.directoryMoved":"目录已经移动到其他位置?","setting.source.reChoose":"重新定位,原位置:","setting.security.ipBan":"IP封禁","setting.security.loginNeedAnswer":"两步登录","setting.securitySetting":"安全设置","setting.commonSetting":"通用设置","setting.chooseLanguage":"选择您的语言","setting.language":"语言","setting.photoSourceSetting":"照片来源","setting.photoSourceSettingAlert":"请选择您保存照片的目录,作为\'照片管理\'中内容的来源","setting.movieSourceSetting":"来源目录","setting.movieSourceSettingAlert":"请选择您保存影片的目录,作为“影视管理”中的内容的来源","setting.yourCurrentSources":"您当前设置的照片来源","setting.btAddSource":"新增来源文件夹","setting.ifDeletePath":"是否删除此目录?","setting.noSourceFolderSelected":"您当前还没有添加任何来源文件夹","setting.folderIsNotExist":"文件/文件夹已不存在","setting.userManage":"用户管理","setting.basePort":"基础服务端口[HTTP]","setting.basePortHttps":"基础服务端口[HTTPS]","setting.webDavPort":"WebDav服务端口","setting.FTPPort":"FTP服务端口","setting.transFlvPort":"推流转码服务端口","setting.saveSuccessRestartValid":"保存成功,部分功能需重启客户端生效","setting.saveSuccess":"保存成功","setting.saveSuccessRestart":"保存成功,重启客户端生效","setting.portSetting":"端口设置","setting.videoCodecSetting":"视频转码设置","setting.photoFuncsSetting":"照片管理功能设置","setting.videoSubtitleFontSize":"字幕放大倍率","setting.videoCoder":"视频编解码器","setting.ifPortInUserWillAdd":"如果设定的端口被其他程序占用,会自动向后顺延","setting.changeCachePathAlert":"缓存目录修改后,需要重启客户端才能生效,原缓存数据需要您手动删除,下次访问图片视频等将重新实时生成缩略图缓存,速度较慢,非必要情况不建议您修改","user.updateUserInfo":"更新用户信息","user.addNewUser":"添加新用户","user.noUserToChoose":"无可选用户","user.subCountNum":"最大子用户数量","user.admin":"管理员","user.commonUser":"普通用户","user.logout":"登出","user.powerPhoto":"照片权限","user.powerMovie":"影视权限","user.powerMusic":"音乐权限","user.powerBooks":"图书权限","user.powerFolder":"文件权限","user.addFolderPowerPath":"添加文件浏览权限","user.selectImpowerPath":"选择要授权给用户路径","user.powerSet":"权限","user.goToSetSourcePath":"没有任何来源目录","user.haveAllPower":"拥有全部权限","user.sureDeleteUser":"确定删除用户吗?此操作不可恢复!","user.hadSameUsername":"已有同名用户存在","user.addPhotoPowerPath":"添加照片来源授权目录","user.addMoviePowerPath":"添加影视来源授权目录","user.addMusicPowerPath":"添加音乐来源授权目录","user.addBookPowerPath":"添加图书来源授权目录","user.cancelPathPower":"取消授权","user.sureCancelPathPower":"确定取消用户对此目录的所有权限吗?","photo.camera":"相机型号","photo.help":"空格键:播放视频/Livephoto 左右键:切换上一张/下一张 Del键:放入回收站","photo.cover":"裁切","photo.contain":"缩放","photo.addSourceAlert":"将在后台对来源目录进行扫描以及生成缩略图,稍后可在首页查看进度,请耐心等待。","photo.aiFaceMinPhotoCount":"照片数量低于多少时隐藏人物","photo.changePeople":"人物变更","photo.changePeopleAlert":"这些照片属于谁?","photo.library":"照片合集","photo.solar":"公历","photo.lunar":"农历","photo.leftSimilarGroupCount":"还有{count}组重复照片等待处理","photo.createAlbumByFolder":"以文件夹创建相册","photo.sourcePathUnusable":"来源目录已不可用,请检查{path}","photo.setFacePoster":"设置为相册封面","photo.waitDealCount":"待处理数量:{count}","photo.waitCompareFaceCount":"正在进行人脸比对,剩余数量:{count}","photo.indexingNoAi":"照片索引中,暂停处理AI识别,将在索引结束后继续","photo.removeFromFace":"从人脸相册移出","photo.photoCount":"{photoCount}张照片","photo.andriodPrimaryPlayer":"安卓首选播放器设置","photo.onlySupportPhoto":"只支持修改JPG格式照片","photo.mergePerson":"合并人物","photo.mergePersonAlert":"确认合并这些人物吗?","photo.atleastTwoPersonMerge":"至少选择两个面部信息进行合并","photo.changeName":"修改名字","photo.personNameTooLong":"人物名字过长[小于50个字符]","photo.inputPersonName":"输入人物的名字","photo.deletePerson":"删除这个人物","photo.noPersonPlaceHolder":"将在空闲时自动为您扫描照片中的人物","photo.sameNameMerged":"具有相同名字的人物将被合并","photo.unnamed":"未命名","photo.sureDeletePerson":"确定从【人物】中删除吗?","photo.changeUserName":"将人物的名字改为【{name}】,确定吗?","photo.classes":"在空闲时自动为您的照片分类","photo.tag":"标签","photo.enableClass":"启用照片智能分类","photo.enableSimilarPhoto":"启用重复照片扫描","photo.enableAiFace":"启用人脸识别","photo.aiClasses":"物体","photo.aiFace":"人物","photo.aiSimilarPhoto":"照片去重","photo.noSimilarPhoto":"将在空闲时为您扫描重复照片","photo.checkKeepPhoto":"勾选要保留的照片","photo.keepAll":"保留全部照片","photo.moveSimilarToTrash":"移动重复照片到回收站","photo.deleteAlbum":"删除相册","photo.gpsAddSuccess":"位置添加成功","photo.gpsAdd":"GPS补充","photo.noPendingPhotos":"没有待处理的照片","photo.sureSkipAddGps":"确认不为这些照片添加位置吗?","photo.sureAddGps":"确认将当前选择的位置添加到这些照片吗?","photo.searchPlace":"搜索地点","photo.restorePosition":"恢复到推荐位置","photo.skipAddGps":"跳过这批照片","photo.wirteGps":"将位置写入勾选照片","photo.confirmPhotoLocation":"确认照片拍摄位置(点击地图可以修改)","photo.dealListForAddGps":"勾选要补充位置信息的照片","photo.noCanAddGpsPhoto":"未找到可以补充位置的照片","photo.addPhotoGpsInfo":"补充照片位置","photo.recentCheck":"最近","photo.searchPlaceHolder":"根据文件名和设备搜索","photo.whichAlbumWanToAdd":"要添加到哪个相册?","photo.addToAlbum":"添加到相册","photo.youHaveNoAlbum":"您还没有相册,快去创建一个吧","photo.addAlbumSuc":"已经成功加入相册","photo.removeFromAlbum":"从相册移出","photo.removeFromAlbumSuc":"已从相册移出","photo.changePosition":"是否修改照片位置信息,此操作将对照片exif进行修改,是否确认?","photo.all":"全部","tools":"工具箱","photo.confirmPutInTrash":"放入回收站吗?","photo.putInTrash":"放入回收站","photo.photo":"照片","photo.video":"视频","photo.album":"相册","photo.image":"图片","photo.ordinaryAlbum":"普通相册","photo.smartAlbum":"智能相册","photo.myAlbum":"我的相册","photo.holidays":"节日相册","photo.folder":"文件视图","photo.map":"地图","photo.selectPhotoTakeTime":"选择拍摄时间","photo.confirmChangePhotoTime":"确认修改拍摄时间?","photo.footprint":"我的足迹","photo.fileCount":"个项目","photo.5km":"5km","photo.10km":"10km","photo.80km":"80km","photo.300km":"300km","photo.near":"附近","photo.timeOrder":"时间轴方向","photo.timeline":"时间轴","photo.privateSpace":"加密空间","photo.stillIndexTryLater":"正在为您扫描文件,请稍后再试","photo.sureChangeNewPhoto":"改动将保存为新的文件,保存吗?","photo.saveSucReturnToCheck":"保存成功,请返回到列表查看","photo.setSourceFolder":"设置来源目录","photo.noSourceSetAlert":"您没有设置来源目录,如需使用照片服务,请先设置来源目录","movie.creator":"制作人","movie.deleteNfoPoster":"同时删除nfo和海报","movie.crew":"演职人员","movie.myMedia":"我的媒体","movie.newTv":"最新电视剧","movie.newMovie":"最新电影","movie.defaultRaion":"首选转码分辨率","movie.tvDeleteSure":"您正在删除电视剧,电视剧所在的文件夹将被整体删除,是否确认?","movie.tmdbLinkError":"TMDB连接失败","movie.tmdbLinkSuc":"TMDB连接成功","movie.tmdbKeyAlert":"在https://www.themoviedb.org申请,如不填写将使用默认Token","movie.tmdbUrlAlert":"请求TMDB数据的API地址,通常是https://api.tmdb.org或https://api.themoviedb.org,如果您不知道这是什么意思,请不要修改","movie.infoDatabase":"首选刮削数据库","movie.transcodeSetting":"转码设置","movie.subtitleSetting":"字幕设置","movie.playSetting":"播放设置","movie.longPressSpeed":"长按播放速率","movie.videoInfoSetting":"影音信息设置","movie.score":"评分","movie.primaryLanguage":"首选字幕语言","movie.sureDeletePath":"要删除路径吗?","movie.library":"我的合集","movie.atleastOnePath":"至少选择一个路径","movie.libraryAuthUser":"能看到此合集的子用户","movie.libraryUserAlert":"需在用户管理中同步授权相应的来源路径,子用户才可以看到相应内容","movie.libraryIncludePath":"合集包含的来源路径","movie.favorite":"收藏","movie.lastTime":"上次看到","movie.posterSize":"海报尺寸","movie.useInfo":"使用此信息","movie.addCover":"添加封面","movie.deleteCover":"删除封面","movie.noSourceSetAlert":"您没有设置来源目录,如需使用影片服务,请先设置来源目录","movie.selectSubtitleInServer":"服务器上的字幕","movie.subtitleNoSupport":"只支持.ass和.srt字幕","movie.coverFileNoSupport":"只支持jpeg和png","movie.pleaseInputCollectionName":"请输入名称","movie.pleaseCompleteFilterInfo":"请完善筛选条件","movie.yearLimit":"年份必须在1800-2200之间","movie.deleteNfoFirst":"如修改匹配信息,请先删除nfo文件","setting.addExcludePathPlaceholder":"输入排除关键字,如:/excludeDir","setting.addExcludePath":"添加排除路径","setting.scan":"扫描变动","setting.other":"其他设置","setting.excludePath":"路径排除","setting.excludeFilename":"文件名排除","setting.excludePathAlert":"路径中含有这些关键字的将会被隐藏","setting.excludeFilenameAlert":"文件名中含有这些关键字的将会被隐藏","photo.filterAlubm":"条件相册","photo.filterInfo":"筛选条件","photo.atleastOnefilterInfo":"至少添加一个筛选条件","photo.goToSet":"去设置","photo.genningTinyImage":"生成缩略图...","photo.doingAiFaces":"正在进行人物识别...","photo.doingAiClasses":"正在进行AI分类...","photo.doingPhash":"正在扫描重复照片...","movie.scrap":"重新刮削","movie.scrapAlert":"将对此媒体进行重新刮削nfo和封面等信息,原有nfo文件和封面等将被清除,确定吗?","movie.scrapFailAlert":"刮削失败,未找到媒体信息,请尝试手动搜索","movie.clearNfo":"清理nfo文件和封面","movie.clearNfoAlert":"将删除文件夹下所有nfo文件和封面图片,并重新从网络刮削,是否确认?","movie.conditionFilter":"条件筛选","movie.year":"上映年份","movie.filterValue":"条件值","movie.smartCollectionExample":"例如:您希望筛选文件名中包含\'abc\'的文件,您可以在下方选择 [\'文件名\'] [\'包含\'] [\'abc\'] ","movie.smartCollectionExampleB":"例如:您希望筛选年份大于2000年的的文件,您可以在下方选择 [\'年份\'] [\'大于\'] [\'2000\'] ","movie.smartCollectionExampleC":"根据电影信息筛选需要在来源文件夹配置处打开【电影信息匹配开关】","WhereToMove":"移动到哪?","movie.history":"观看历史","movie.addToCollection":"添加到影集","movie.noCollection":"还没有影集,去创建一个吧","movie.addToCollectionFolderAlert":"将文件夹下所有视频移入影集?","movie.removeFromCollection":"从影集移出","movie.addCollection":"添加影集","movie.addSmartCollection":"添加智能影集","movie.editCollection":"修改影集","movie.addCollectionPlaceholder":"输入影集名称","movie.collectionIsNeedPwd":"访问需要密码","movie.collectionPwdPlaceholder":"输入影集访问密码","movie.addCollectionAlert":"添加影集,然后将影视库中或文件视图中的电影移入影集【右键菜单触发】,影集中的文件将不再显示于影视库中","movie.addLibraryAlert":"将多个不同来源文件夹【或来源文件夹的子文件夹】中的内容集中显示","movie.addLibrary":"添加合集","movie.addLibraryPlaceholder":"输入合集名称","movie.addSmartCollectionAlert":"根据条件筛选电影,电影将自动归纳到智能影集中,智能影集中的电影将仍然显示在影视库","movie.clearHistory":"清空观看历史","movie.collection":"普通影集","movie.smartCollection":"智能影集","movie.mediaType":"媒体类型","movie.parsingSubtitle":"正在解析字幕...","movie.movieSet":"影视设置","movie.relatedPictures":"文件夹内图片","movie.indexDeleted":"索引已删除","movie.movieFilter":"筛选电影","movie.showMatchName":"电影显示名","movie.subtitlePreGen":"字幕预提取","movie.subtitlePreGenAlert":"将视频中的字幕轨预先提取到缓存文件夹,播放的时候可以极大提升字幕加载速度","movie.subtitlePrenGenClose":"可在影视管理->设置中关闭","movie.useSameFolderPoster":"使用同文件夹下的图片作为海报","movie.selectSourceFolder":"筛选来源文件夹","movie.selectLanguage":"电影语言","movie.selectRegion":"发行地区","movie.selectGenres":"电影类型","successAndRefresh":"操作成功,请稍后刷新页面查看结果","movie.privateVideoCannotSeek":"加密空间的视频以流的形式实时解密,暂不支持调节进度","movie.confirmMovieInfo":"使用[{movieName}]的信息吗?","album.youHaveNoAlbumYet":"您还没有相册,点击上方按钮可以添加","movie.confirClearMovieInfo":"电影或电视剧相关的nfo文件,封面文件将被删除,是否确认?","movie.matchMovieInfo":"刮削搜索","movie.channelLayout":"声道布局","movie.channels":"声道","movie.movie":"电影","movie.tvdrama":"电视剧","movie.streamVideo":"视频","movie.otherTv":"集","movie.setAsTv":"标记为电视剧","movie.setAsMovie":"标记为电影","movie.setAsTvAlert":"标记为电视剧后,同文件夹下的视频将合并显示","movie.streamAudio":"音频","movie.mediaInfo":"视频信息","movie.recentPlay":"最近播放","movie.movieName":"名称","movie.actors":"演员","movie.director":"导演","movie.alias":"又名","movie.genres":"风格","movie.resources":"资源类型","movie.enableInfoMatch":"自动从网络刮削媒体信息和封面(.nfo文件)","movie.language":"语言","movie.storyline":"简介","movie.releaseDate":"上映日期","movie.regions":"地区","movie.playRate":"播放速率","movie.continuePlay":"上次播放到{lastTime},是否继续播放?","movie.play":"播放","movie.audioChannel":"声道数","movie.noOtherChannel":"没有其他声道可以选择","movie.alreadChangeChannelTo":"已将声道数量切换为:{channels}","movie.nascabPlayer":"NasCab播放器播放","movie.browserPlayer":"浏览器播放器播放","movie.whatsDifferent":"有什么区别?","movie.differentExplain":"在某些安卓浏览器上播放源文件时,浏览器会强行接管视频,导致您无法选择音轨和字幕,选择NasCab播放器为转码播放,使用浏览器播放器会尝试播放源文件,推荐使用Chrome手机版或微信内置浏览器来避免可能出现的兼容性问题","movie.upgradeAutoMatch":"升级版本,自动匹配电影海报和简介","movie.playBegain":"从头播放","movie.resumePlay":"继续播放","movie.movieHome":"影视库","movie.viewFolder":"文件视图","movie.createTime":"创建时间","movie.filename":"文件名","movie.matchName":"匹配名","movie.listView":"列表","movie.listViewView":"列表视图","movie.gridView":"网格","movie.bitrate":"码率","movie.resolution":"分辨率","movie.displayRatio":"视频比例","movie.codecName":"格式","movie.frameRate":"帧率","movie.pixFmt":"像素格式","movie.subtitle":"字幕","movie.chooseSubtitle":"选择字幕","movie.chooseAudio":"选择音轨","movie.audioIndex":"音轨","movie.continueWatch":"上次看到","movie.openDuration":"片头长度（秒）","movie.endDuration":"片尾长度（秒）","movie.sikpOpenEnd":"自动跳过片头片尾","movie.skippingMovieTitle":"正在跳过片头...","movie.skippingMovieEnd":"正在跳过片尾...","movie.searchPlaceHolder":"输入文件名进行搜索","movie.selectLocalSubtitles":"选择本地的字幕","album.setPhotoAsCover":"是否将图片设置为封面?","album.changeAlbumName":"修改相册名字","album.noAlubmDesc":"智能相册可以根据指定地图区域,智能日期,设备型号等为您筛选照片","album.noOrdinaryAlubmDesc":"普通相册中的照片由您自己管理,您可以将时间轴中的照片添加到相册中","album.addAAlbum":"添加相册","album.addASmartAlbum":"添加智能相册","album.addAOrdinaryAlbum":"添加普通相册","album.geoAlbum":"地理围栏","album.geoAlbumDetail":"选定区域内拍摄的照片","album.aiDateAlbum":"智能日期","album.fixDate":"固定日期","album.sectionDate":"区间日期","album.aiDate":"智能日期","album.dateType":"日期类型","album.memoryDate":"纪念日","album.holidays":"节假日","album.modeAlbum":"设备型号","album.everyYear":"每年","album.everyMonth":"每月","album.January":"1月","album.February":"2月","album.March":"3月","album.April":"4月","album.May":"5月","album.June":"6月","album.July":"7月","album.August":"8月","album.September":"9月","album.October":"10月","album.November":"11月","album.December":"12月","album.chooseDate":"请选择一个日期","album.chooseDateSection":"请选择日期区间","album.albumName":"相册名字","album.pleaseInputAlbumName":"请输入相册名字","album.aiDateExample":"例如：您的生日是1月1日,您可以选择\'每年1月1日\',这样,每年1月1日拍摄的照片将位于此相册中","album.fixDateExample":"例如：您可以设置显示某个固定日期,或某个固定日期之前或之后的照片","album.sectionDateExample":"例如：您可以设置某个日期区间,在此区间拍摄的照片都会显示在此相册","album.geoAlbumExample":"在地图上圈选一块区域,在此区域内拍摄的照片将会出现在相册中,将地图拖动到您需要的区域,然后点击\'开始圈选\'进行区域选择,点击地图并拖动鼠标进行圈选","album.modeAlbumExample":"输入一个设备型号,此设备拍摄的照片都会出现在相册中","album.mode":"设备型号","album.pleaseInputMode":"请输入设备型号","album.selectArea":"开始圈选","album.clearSelectArea":"清除已选","album.takePhotoDate":"拍摄日期","album.pleaseSelectArea":"请选择一个区域","album.eq":"当日","album.gt":"之后","album.lt":"之前","album.createAlbum":"创建相册","file.multiDownloadAlert":"是否下载多个文件？使用浏览器时,请允许弹出窗口,否则下载可能失败,文件夹将以zip格式进行下载","file.cannotCreateHere":"无法在当前位置创建","file.sureClearLog":"要清除所有日志吗?","file.inputPath":"输入路径","file.deletePath":"删除路径","file.addLocalPath":"新增自定义路径或盘符","file.addLocalPathAlert":"例如: G:\\\\ 或  /A/B/C 等","file.zip":"压缩","file.ziped":"已压缩","file.unzip":"解压缩","file.zipAlert":"文件/文件夹将被压缩为zip格式,是否确认?","file.showType":"展示方式","file.switchShowType":"切换展示方式","file.fileCount":"{count}个文件","file.cancelMutipleSelect":"取消多选","file.recordSearchPlaceholder":"路径/文件名/用户名","file.operator":"操作用户","file.maxShowCountAlert":"最多显示6000个文件","file.paste":"黏贴","file.openInNewWindow":"在新窗口打开","file.failReason":"失败原因","file.stateStarted":"已开始","file.stateStoped":"已终止","file.sourcePath":"源路径","file.targetPath":"目标路径","file.operationType":"操作类型","file.attr":"属性","file.inputNewFileName":"输入新的名称","file.rootPath":"根目录","file.size":"大小","file.copy":"复制","file.copied":"{count}个文件已复制","file.cutted":"{count}个文件已剪切","file.cut":"剪切","file.cuttedSize":"已剪切","file.cutToHere":"剪切 \'{path}\' 到这里吗? ","file.copyToHere":"复制 \'{path}\' 到这里吗? ","file.canNotCopyToHere":"您不能复制文件到当前目录","file.sourceAndTargetSame":"当前位置已存在相同名称的文件/文件夹","file.fileDeleteSure":"文件将被彻底删除,无法恢复,是否确认?","file.location":"路径位置","file.modifyTime":"修改时间","file.accessTime":"访问时间","file.cannotCreate":"无法在这个位置创建文件夹","file.putInTrashSuc":"已放入回收站","file.putOutTrashSuc":"已移出回收站","file.deleteSuc":"文件已删除","file.fileDeleteSuc":"个文件已被成功删除","file.trashBin":"回收站","file.delete":"删除","file.deleteFail":"删除失败,文件可能正在被使用","file.deleteAll":"全部删除","file.restore":"恢复","file.restoreAll":"全部恢复","file.doAllRestore":"所有文件全部恢复吗?","file.doAllDelete":"所有源文件将被删除,删除后不可恢复,确认吗?","file.confirmDelete":"文件删除后不可恢复,确认吗?","file.selectIt":"选中","file.goDetail":"查看详情","file.deleteForever":"彻底删除","file.fileExifInfo":"文件元信息","file.resetTinyImg":"重置缩略图","file.chooseFolder":"选择文件夹","file.clickChooseFolder":"点击选择文件夹","file.returnLastPath":"返回上一级","file.currentPath":"当前目录","file.doubleClickFolderEnter":"双击文件夹可进入下一级","file.resetTinyImgSuccess":"缩略图重置成功,下次刷新将使用最新生成的缩略图","file.noSelectAnything":"您没有选择任何路径","file.sureSelectPath":"是否确认选择路径","file.sourcePathRoo":"来源文件夹根目录","file.fileList":"文件列表","file.collect":"收藏","file.recent":"最近","file.logs":"日志","file.deleteAllCollect":"清空收藏夹吗?","file.deleteAllRecent":"清空最近访问吗?","file.cancelCollect":"取消收藏","file.deleteRecent":"删除此条记录","file.newFolder":"新建文件夹","file.check":"查看","file.collectSuccess":"收藏成功","file.deleteFromRecent":"从‘最近’中移除","file.clearCollect":"清除收藏夹","file.clearRecents":"清除最近浏览","file.sureClearCollect":"确认清空收藏夹吗?","file.sureClearRecents":"确认清空最近浏览记录吗?","file.inputNewFolderName":"输入新文件夹名称","file.noFolderSelected":"您还没有选中任何文件夹","file.noAccessPower":"缺少文件夹写入/读取权限","video.helpContent":"空格键:切换暂停播放\\nCtrl:按住加速播放\\n方向键[左右]:快进快退","video.speedingPlay":"加速播放中...","video.rawPlayAlert":"如遇播放异常,请切换分辨率转码播放","video.closeSubtitle":"关闭字幕","video.originalBitrate":"原码率","video.volumn":"音量","video.duration":"时长","video.errorRetryPlay":"播放似乎出现问题,是否需要重新加载?","video.netErrorRetryPlay":"网络连接出现错误,是否重试?","video.subtitleUploadFailed":"字幕上传失败","video.code_raw":"原片","video.noMoreVideo":"没有更多视频","video.autoPlayOn":"自动播放已打开","video.autoPlayOff":"自动播放已关闭","video.videoIsNotSupportCoding":"当前浏览器不支持的[视频/音频/字幕]编码","video.autoTranscodeStart":"原文件编码不支持,已为您自动转码播放","video.playError":"播放出错","video.whatIsBitate":"码率即比特率,即每秒钟传输的数据量,码率越高越清晰,消耗的网络流量越大,转码服务器的运算量也越大,请根据视频实际情况进行选择","video.transcodingIsNotOnline":"转码服务没有启动,请检查客户端状态","state.systemState":"系统状态","state.natAlert":"在没有公网IP的情况下,您可以通过设置内网穿透,从外网访问您的NasCab","state.ddnsAlert":"如果您有公网IP,可以通过设置DDNS和端口映射从外网访问您的NasCab","state.systemInfo":"系统信息","state.appRootPath":"NasCab安装目录","state.run":"运行中","state.netStateNoFound":"未找到网络信息","state.checkIfThePortInUse":"请检查端口是否被其他服务占用","state.runPort":"运行端口","state.apiServer":"基础服务","state.fileShare":"文件共享","state.lanUrl":"局域网访问地址","state.ipv6url":"IPV6访问地址","state.ipv6alert":"在您的网络和路由器都支持并开启ipv6的情况下,ipv6访问地址将在这里显示","state.serverState":"服务状态","state.rtmpServer":"实时推流服务","state.flvServer":"实时转码服务","state.error":"未运行","state.port":"端口","state.lanIp":"局域网访问地址","state.mem":"内存","state.os":"系统","Crop":"裁剪","ZoomIn":"放大","ZoomOut":"缩小","Hand":"拖拽","History":"历史记录","DeleteAll":"全部删除","Delete":"删除","Undo":"撤销","Redo":"反撤销","Reset":"重置","Flip":"镜像","Rotate":"旋转","Draw":"画","Shape":"形状标注","Icon":"图标标注","Text":"文字标注","Mask":"遮罩","Filter":"滤镜","Bold":"加粗","Italic":"斜体","Underline":"下划线","Left":"左对齐","Center":"居中","Right":"右对齐","Color":"颜色","Text size":"字体大小","Custom":"自定义","Square":"正方形","Apply":"应用","Cancel":"取消","Flip X":"X 轴","Flip Y":"Y 轴","Range":"区间","Stroke":"描边","Fill":"填充","Circle":"圆","Triangle":"三角","Rectangle":"矩形","Free":"曲线","Straight":"直线","Arrow":"箭头","Arrow-2":"箭头2","Arrow-3":"箭头3","Star-1":"星星1","Star-2":"星星2","Polygon":"多边形","Location":"定位","Heart":"心形","Bubble":"气泡","Custom icon":"自定义图标","Load Mask Image":"加载蒙层图片","Grayscale":"灰度","Blur":"模糊","Sharpen":"锐化","Emboss":"浮雕","Remove White":"除去白色","Distance":"距离","Brightness":"亮度","Noise":"噪音","Color Filter":"彩色滤镜","Sepia":"棕色","Sepia2":"棕色2","Invert":"负片","Pixelate":"像素化","Threshold":"阈值","Tint":"色调","Multiply":"正片叠底","Blend":"混合色","setting.custom":"个性化","setting.vacuumDb":"碎片清理","setting.vacuumDbAlert":"清理数据库碎片可以压缩数据库中未使用空间,减少数据库文件大小,是否立刻清理?","setting.aiFaceResetAlert":"重置人脸识别后,将重新触发人脸扫描,现有扫描结果将清空,是否确认?","setting.similarPhotoResetAlert":"重置将触发重新扫描重复照片,是否确认?","setting.systemSetting":"系统设置","setting.resetIndex":"重置索引","setting.resetIndexAlert":"此功能将删除所有已经扫描的索引数据,并清除来源文件夹记录,非必要情况下无需使用此功能,确认重置吗?","setting.resetTinyImage":"重置缩略图","setting.resetTinyImageAlert":"此功能将删除所有已经生成的缩略图,并重新生成,非必要情况下无需使用此功能,确认重置缩略图吗?","login.unlockScreen":"解锁屏幕","login.checkConChannel":"选择连接通道","login.saveUsernamePwd":"下次自动登录","login.forgetAnswer":"我忘记了密保答案和用户名","login.forgetAnswerAlert":"如果您忘记了密保答案和用户名,可以通过删除NasCab本地数据库来重置,数据库目录位于用户数据目录下的database文件夹,默认位置是:{dbPath}","upload.clearRecord":"清空记录","upload.onFileNameConflict":"当文件名冲突","upload.skip":"跳过","upload.over":"覆盖","upload.uploadType":"上传类型","upload.files":"文件","upload.folder":"文件夹","upload.rename":"重命名","upload.filenameTooLong":"文件名字长度超过限制","upload.dropFilesUpload":"点击或拖动文件上传","upload.selectFile":"选择文件","upload.selectFolder":"选择","upload.selectTargetFolder":"选择上传目标文件夹","upload.targetFolder":"上传目标文件夹","upload.noSelected":"未选择","upload.upload":"上传","upload.quickUpload":"快速上传","upload.uploadFail":"上传失败","upload.recentUseFolder":"最近使用","upload.useRecentFolder":"使用{recentFolder}作为上传文件夹吗?","coco.person":"人们","coco.bicycle":"自行车","coco.car":"车辆","coco.motorcycle":"摩托车","coco.airplane":"飞机/飞行物","coco.bus":"巴士","coco.train":"火车","coco.truck":"卡车/越野车","coco.boat":"船","coco.traffic light":"交通灯","coco.fire hydrant":"消防栓","coco.stop sign":"停车标志","coco.parking meter":"记时器","coco.bench":"长椅","coco.bird":"鸟/飞行物","coco.cat":"猫科动物","coco.dog":"犬科动物","coco.horse":"马/骆驼","coco.sheep":"羊","coco.cow":"牛","coco.elephant":"大象","coco.bear":"野生动物","coco.zebra":"斑马","coco.giraffe":"长颈鹿","coco.backpack":"背包","coco.umbrella":"伞","coco.handbag":"手提包","coco.tie":"领带","coco.suitcase":"箱子/盒子","coco.frisbee":"飞盘","coco.skis":"滑雪","coco.snowboard":"滑雪板","coco.sports ball":"球类","coco.kite":"风筝","coco.baseball bat":"棒球棒/棒球","coco.baseball glove":"棒球手套","coco.skateboard":"滑板","coco.surfboard":"冲浪/板","coco.tennis racket":"网球拍","coco.bottle":"瓶子","coco.wine glass":"酒杯","coco.cup":"杯","coco.fork":"叉","coco.knife":"刀","coco.spoon":"勺","coco.bowl":"碗碟/菜肴","coco.banana":"香蕉/月牙形","coco.apple":"苹果","coco.sandwich":"夹心面包/三明治","coco.orange":"橙","coco.broccoli":"西兰花/花椰菜","coco.carrot":"胡萝卜","coco.hot dog":"热狗/面包","coco.pizza":"披萨/馅饼","coco.donut":"面包圈/甜甜圈","coco.cake":"蛋糕/甜点","coco.chair":"椅子/凳子","coco.couch":"沙发/长凳/台","coco.potted plant":"盆栽/植物","coco.bed":"床/岩层","coco.dining table":"聚餐","coco.toilet":"马桶/坛","coco.tv":"电视/画框","coco.laptop":"笔记本/显示器","coco.mouse":"鼠标","coco.remote":"遥控","coco.keyboard":"键盘","coco.cell phone":"手机","coco.oven":"烤炉","coco.toaster":"面包炉","coco.sink":"水槽","coco.refrigerator":"冰箱","coco.book":"书/纸","coco.clock":"钟表","coco.vase":"花瓶","coco.scissors":"剪刀","coco.teddy bear":"玩偶","coco.hair drier":"吹风机","coco.toothbrush":"牙刷"}')},a481:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvBAMAAAB5vJNGAAAAMFBMVEUAAAB6eIl5eIqmpbWbmqujobF4eIerq7utq7uXlqeWlqZ5eImtrLygn6+TkqOGhZYj/bzXAAAAC3RSTlMAgL/fwKBAQIDfcJ6L+X8AAAFtSURBVGje7dktbsMwGMZxdyCkZCUlYaUlOUKOkDOMluQIu9IKJk1WW2BHqaZ30g6wI2w3GJhKZhBXsuX3kfrx/GHAT4+sGNmEqqe1Te3NZLSx6e0+092ZzYE/0uE6C5YmGbZ5sNM9iQBLmwjPc2Gv+k8EOHlynQ17FCwtCvYoWFoU7FGwtCjYo2DpUPCAgqVDwQMKlg4Fv6Ng6VHwiIKlR8EjCpYeBY8oWHoUPKJgh4KlQcEOBUuDgh0KlgYFOxQsDQp2OvBeJrUoeEDB0mnAhwg8aMBWInUa8Fdssgb8G52sAO9i8FEBPkis53LYfkcnK8D7hMkBLpaPBXCQfxImB7iwR8I3D2/N+R4IE757ePHf0pyqwoda6Uq/TGYSJkyYMGHChAkTJkyYMGHChAkTJkyYMOErgu3q1PrSn4QIEyZMmDBhwoQJEyZ87/DmwmEzaY6CKxX31UyrdY84NFNwtyZWrTw4tChkV0sT+gONvY6BCGaYFAAAAABJRU5ErkJggg=="},a5cd:function(e,t,i){e.exports=i.p+"img/16.4bbdcd2d.jpg"},aa62:function(e,t,i){var n,a,s,o,r,w,l,c,u,d,h,p,f,m,S,g,y,_,C,k,T,I,P,v,b,A,D=i("7037").default,x=(i("c975"),i("a15b"),i("14d9"),i("d3b7"),i("ac1f"),i("25f0"),i("466d"),i("498a"),E.stringToBytes=(E.stringToBytesFuncs={default:function(e){for(var t=[],i=0;i<e.length;i+=1){var n=e.charCodeAt(i);t.push(255&n)}return t}}).default,E.createStringToBytes=function(l,c){var o=(()=>{for(var t=b(l),e=function(){var e=t.read();if(-1==e)throw"eof";return e},i=0,n={};;){var o=t.read();if(-1==o)break;var s=e(),a=e(),r=e();n[String.fromCharCode(o<<8|s)]=a<<8|r,i+=1}if(i!=c)throw i+" != "+c;return n})(),s="?".charCodeAt(0);return function(e){for(var t=[],i=0;i<e.length;i+=1){var n=e.charCodeAt(i);n<128?t.push(n):"number"==typeof(n=o[e.charAt(i)])?(255&n)==n?t.push(n):(t.push(n>>>8),t.push(255&n)):t.push(s)}return t}},r=8,w={L:a=1,M:0,Q:3,H:s=2},l=0,c=1,u=2,d=3,h=o=4,p=5,m=7,n=[[],[f=6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],(i={}).getBCHTypeInfo=function(e){for(var t=e<<10;0<=O(t)-O(1335);)t^=1335<<O(t)-O(1335);return 21522^(e<<10|t)},i.getBCHTypeNumber=function(e){for(var t=e<<12;0<=O(t)-O(7973);)t^=7973<<O(t)-O(7973);return e<<12|t},i.getPatternPosition=function(e){return n[e-1]},i.getMaskFunction=function(e){switch(e){case l:return function(e,t){return(e+t)%2==0};case c:return function(e,t){return e%2==0};case u:return function(e,t){return t%3==0};case d:return function(e,t){return(e+t)%3==0};case h:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case p:return function(e,t){return e*t%2+e*t%3==0};case f:return function(e,t){return(e*t%2+e*t%3)%2==0};case m:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){for(var t=L([1],0),i=0;i<e;i+=1)t=t.multiply(L([1,g.gexp(i)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case a:return 10;case s:return 9;case o:case r:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case a:return 12;case s:return 11;case o:return 16;case r:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case a:return 14;case s:return 13;case o:return 16;case r:return 12;default:throw"mode:"+e}}},i.getLostPoint=function(e){for(var t=e.getModuleCount(),i=0,n=0;n<t;n+=1)for(var o=0;o<t;o+=1){for(var s=0,a=e.isDark(n,o),r=-1;r<=1;r+=1)if(!(n+r<0||t<=n+r))for(var l=-1;l<=1;l+=1)o+l<0||t<=o+l||0==r&&0==l||a==e.isDark(n+r,o+l)&&(s+=1);5<s&&(i+=3+s-5)}for(n=0;n<t-1;n+=1)for(o=0;o<t-1;o+=1){var c=0;e.isDark(n,o)&&(c+=1),e.isDark(n+1,o)&&(c+=1),e.isDark(n,o+1)&&(c+=1),e.isDark(n+1,o+1)&&(c+=1),0!=c&&4!=c||(i+=3)}for(n=0;n<t;n+=1)for(o=0;o<t-6;o+=1)e.isDark(n,o)&&!e.isDark(n,o+1)&&e.isDark(n,o+2)&&e.isDark(n,o+3)&&e.isDark(n,o+4)&&!e.isDark(n,o+5)&&e.isDark(n,o+6)&&(i+=40);for(o=0;o<t;o+=1)for(n=0;n<t-6;n+=1)e.isDark(n,o)&&!e.isDark(n+1,o)&&e.isDark(n+2,o)&&e.isDark(n+3,o)&&e.isDark(n+4,o)&&!e.isDark(n+5,o)&&e.isDark(n+6,o)&&(i+=40);for(var u=0,o=0;o<t;o+=1)for(n=0;n<t;n+=1)e.isDark(n,o)&&(u+=1);return i+=10*(Math.abs(100*u/t/t-50)/5)},S=i,g=(()=>{for(var t=new Array(256),i=new Array(256),e=0;e<8;e+=1)t[e]=1<<e;for(e=8;e<256;e+=1)t[e]=t[e-4]^t[e-5]^t[e-6]^t[e-8];for(e=0;e<255;e+=1)i[t[e]]=e;return{glog:function(e){if(e<1)throw"glog("+e+")";return i[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return t[e]}}})(),y=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(i={}).getRSBlocks=function(e,t){var i=((e,t)=>{switch(t){case w.L:return y[4*(e-1)+0];case w.M:return y[4*(e-1)+1];case w.Q:return y[4*(e-1)+2];case w.H:return y[4*(e-1)+3];default:return}})(e,t);if(void 0===i)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var n,o,s=i.length/3,a=[],r=0;r<s;r+=1)for(var l=i[3*r+0],c=i[3*r+1],u=i[3*r+2],d=0;d<l;d+=1)a.push((n=u,void 0,(o={}).totalCount=c,o.dataCount=n,o));return a},_=i,C=function(){var i=[],n=0,o={getBuffer:function(){return i},getAt:function(e){var t=Math.floor(e/8);return 1==(i[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i+=1)o.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return n},putBit:function(e){var t=Math.floor(n/8);i.length<=t&&i.push(0),e&&(i[t]|=128>>>n%8),n+=1}};return o},k=function(e){var t=a,n=e,o=function(e){for(var t=0,i=0;i<e.length;i+=1)t=10*t+s(e.charAt(i));return t},s=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return{getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,i=0;i+2<t.length;)e.put(o(t.substring(i,i+3)),10),i+=3;i<t.length&&(t.length-i==1?e.put(o(t.substring(i,i+1)),4):t.length-i==2&&e.put(o(t.substring(i,i+2)),7))}}},T=function(e){var t=s,n=e,o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return{getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,i=0;i+1<t.length;)e.put(45*o(t.charAt(i))+o(t.charAt(i+1)),11),i+=2;i<t.length&&e.put(o(t.charAt(i)),6)}}},I=function(e){var t=o,i=E.stringToBytes(e);return{getMode:function(){return t},getLength:function(e){return i.length},write:function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)}}},P=function(e){var t=r,i=E.stringToBytesFuncs.SJIS;if(!i)throw"sjis not supported.";var n=i("友");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported.";var o=i(e);return{getMode:function(){return t},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,i=0;i+1<t.length;){var n=(255&t[i])<<8|255&t[i+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(i+1)+"/"+n;n-=49472}e.put(n=192*(n>>>8&255)+(255&n),13),i+=2}if(i<t.length)throw"illegal char at "+(i+1)}}},v=function(){var i=[],o={writeByte:function(e){i.push(255&e)},writeShort:function(e){o.writeByte(e),o.writeByte(e>>>8)},writeBytes:function(e,t,i){t=t||0,i=i||e.length;for(var n=0;n<i;n+=1)o.writeByte(e[n+t])},writeString:function(e){for(var t=0;t<e.length;t+=1)o.writeByte(e.charCodeAt(t))},toByteArray:function(){return i},toString:function(){var e="";e+="[";for(var t=0;t<i.length;t+=1)0<t&&(e+=","),e+=i[t];return e+="]"}};return o},b=function(e){var i=e,n=0,o=0,s=0,a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return{read:function(){for(;s<8;){if(n>=i.length){if(0==s)return-1;throw"unexpected end of file./"+s}var e=i.charAt(n);if(n+=1,"="==e)return s=0,-1;e.match(/^\s$/)||(o=o<<6|a(e.charCodeAt(0)),s+=6)}var t=o>>>s-8&255;return s-=8,t}}},A=function(e,t,i){for(var n=M(e,t),o=0;o<t;o+=1)for(var s=0;s<e;s+=1)n.setPixel(s,o,i(s,o));var a=v();n.write(a);for(var r=N(),l=a.toByteArray(),c=0;c<l.length;c+=1)r.writeByte(l[c]);return r.flush(),"data:image/gif;base64,"+r},E);function E(e,t){function a(e,t){d=(e=>{for(var t=new Array(e),i=0;i<e;i+=1){t[i]=new Array(e);for(var n=0;n<e;n+=1)t[i][n]=null}return t})(h=4*r+17),i(0,0),i(h-7,0),i(0,h-7),s(),o(),m(e,t),7<=r&&f(e),null==n&&(n=v(r,u,p)),g(n,t)}var l=236,c=17,r=e,u=w[t],d=null,h=0,n=null,p=[],x={},i=function(e,t){for(var i=-1;i<=7;i+=1)if(!(e+i<=-1||h<=e+i))for(var n=-1;n<=7;n+=1)t+n<=-1||h<=t+n||(d[e+i][t+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},o=function(){for(var e=8;e<h-8;e+=1)null==d[e][6]&&(d[e][6]=e%2==0);for(var t=8;t<h-8;t+=1)null==d[6][t]&&(d[6][t]=t%2==0)},s=function(){for(var e=S.getPatternPosition(r),t=0;t<e.length;t+=1)for(var i=0;i<e.length;i+=1){var n=e[t],o=e[i];if(null==d[n][o])for(var s=-2;s<=2;s+=1)for(var a=-2;a<=2;a+=1)d[n+s][o+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a}},f=function(e){for(var t=S.getBCHTypeNumber(r),i=0;i<18;i+=1){var n=!e&&1==(t>>i&1);d[Math.floor(i/3)][i%3+h-8-3]=n}for(i=0;i<18;i+=1)n=!e&&1==(t>>i&1),d[i%3+h-8-3][Math.floor(i/3)]=n},m=function(e,t){for(var t=u<<3|t,i=S.getBCHTypeInfo(t),n=0;n<15;n+=1){var o=!e&&1==(i>>n&1);n<6?d[n][8]=o:n<8?d[n+1][8]=o:d[h-15+n][8]=o}for(n=0;n<15;n+=1)o=!e&&1==(i>>n&1),n<8?d[8][h-n-1]=o:n<9?d[8][15-n-1+1]=o:d[8][15-n-1]=o;d[h-8][8]=!e},g=function(e,t){for(var i=-1,n=h-1,o=7,s=0,a=S.getMaskFunction(t),r=h-1;0<r;r-=2)for(6==r&&--r;;){for(var l,c,u=0;u<2;u+=1)null==d[n][r-u]&&(l=!1,s<e.length&&(l=1==(e[s]>>>o&1)),c=a(n,r-u),d[n][r-u]=l=c?!l:l,-1==--o)&&(s+=1,o=7);if((n+=i)<0||h<=n){n-=i,i=-i;break}}},y=function(e,t){for(var i=0,n=0,o=0,s=new Array(t.length),a=new Array(t.length),r=0;r<t.length;r+=1){var l=t[r].dataCount,c=t[r].totalCount-l,n=Math.max(n,l),o=Math.max(o,c);s[r]=new Array(l);for(var u=0;u<s[r].length;u+=1)s[r][u]=255&e.getBuffer()[u+i];i+=l;var l=S.getErrorCorrectPolynomial(c),d=L(s[r],l.getLength()-1).mod(l);for(a[r]=new Array(l.getLength()-1),u=0;u<a[r].length;u+=1){var h=u+d.getLength()-a[r].length;a[r][u]=0<=h?d.getAt(h):0}}for(var p=0,u=0;u<t.length;u+=1)p+=t[u].totalCount;var f=new Array(p),m=0;for(u=0;u<n;u+=1)for(r=0;r<t.length;r+=1)u<s[r].length&&(f[m]=s[r][u],m+=1);for(u=0;u<o;u+=1)for(r=0;r<t.length;r+=1)u<a[r].length&&(f[m]=a[r][u],m+=1);return f},v=function(e,t,i){for(var n=_.getRSBlocks(e,t),o=C(),s=0;s<i.length;s+=1){var a=i[s];o.put(a.getMode(),4),o.put(a.getLength(),S.getLengthInBits(a.getMode(),e)),a.write(o)}for(var r=0,s=0;s<n.length;s+=1)r+=n[s].dataCount;if(o.getLengthInBits()>8*r)throw"code length overflow. ("+o.getLengthInBits()+">"+8*r+")";for(o.getLengthInBits()+4<=8*r&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;;){if(o.getLengthInBits()>=8*r)break;if(o.put(l,8),o.getLengthInBits()>=8*r)break;o.put(c,8)}return y(o,n)},b=(x.addData=function(e,t){var i=null;switch(t=t||"Byte"){case"Numeric":i=k(e);break;case"Alphanumeric":i=T(e);break;case"Byte":i=I(e);break;case"Kanji":i=P(e);break;default:throw"mode:"+t}p.push(i),n=null},x.isDark=function(e,t){if(e<0||h<=e||t<0||h<=t)throw e+","+t;return d[e][t]},x.getModuleCount=function(){return h},x.make=function(){if(r<1){for(var e=1;e<40;e++){for(var t=_.getRSBlocks(e,u),i=C(),n=0;n<p.length;n++){var o=p[n];i.put(o.getMode(),4),i.put(o.getLength(),S.getLengthInBits(o.getMode(),e)),o.write(i)}for(var s=0,n=0;n<t.length;n++)s+=t[n].dataCount;if(i.getLengthInBits()<=8*s)break}r=e}a(!1,(()=>{for(var e=0,t=0,i=0;i<8;i+=1){a(!0,i);var n=S.getLostPoint(x);(0==i||n<e)&&(e=n,t=i)}return t})())},x.createTableTag=function(e,t){e=e||2;for(var i=(i=(i=(i="")+'<table style="'+" border-width: 0px; border-style: none;")+" border-collapse: collapse;"+(" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;"))+'">'+"<tbody>",n=0;n<x.getModuleCount();n+=1){i+="<tr>";for(var o=0;o<x.getModuleCount();o+=1)i=(i=(i=(i=(i=(i+='<td style="')+" border-width: 0px; border-style: none;"+" border-collapse: collapse;")+" padding: 0px; margin: 0px;"+(" width: "+e+"px;"))+(" height: "+e+"px;")+" background-color: ")+(x.isDark(n,o)?"#000000":"#ffffff"))+";"+'"/>';i+="</tr>"}return i=i+"</tbody>"+"</table>"},x.createSvgTag=function(e,t,i,n){var o={};"object"==D(arguments[0])&&(e=(o=arguments[0]).cellSize,t=o.margin,i=o.alt,n=o.title),e=e||2,t=void 0===t?4*e:t,(i="string"==typeof i?{text:i}:i||{}).text=i.text||null,i.id=i.text?i.id||"qrcode-description":null,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-title":null;for(var s,a,r=x.getModuleCount()*e+2*t,l="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",c=(c=(c=(c=(c=(c=(c="")+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg"'+(o.scalable?"":' width="'+r+'px" height="'+r+'px"'))+(' viewBox="0 0 '+r+" "+r+'" ')+' preserveAspectRatio="xMinYMin meet"')+(n.text||i.text?' role="img" aria-labelledby="'+b([n.id,i.id].join(" ").trim())+'"':"")+">")+(n.text?'<title id="'+b(n.id)+'">'+b(n.text)+"</title>":""))+(i.text?'<description id="'+b(i.id)+'">'+b(i.text)+"</description>":""))+'<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>'+'<path d="',u=0;u<x.getModuleCount();u+=1)for(a=u*e+t,s=0;s<x.getModuleCount();s+=1)x.isDark(u,s)&&(c+="M"+(s*e+t)+","+a+l);return c=c+'" stroke="transparent" fill="black"/>'+"</svg>"},x.createDataURL=function(i,e){i=i||2,e=void 0===e?4*i:e;var t=x.getModuleCount()*i+2*e,n=e,o=t-e;return A(t,t,function(e,t){return n<=e&&e<o&&n<=t&&t<o&&(e=Math.floor((e-n)/i),t=Math.floor((t-n)/i),x.isDark(t,e))?0:1})},x.createImgTag=function(e,t,i){e=e||2,t=void 0===t?4*e:t;var n=x.getModuleCount()*e+2*t,o=(o=(o=(o=(o=(o="")+"<img"+' src="')+x.createDataURL(e,t)+'"')+' width="'+n)+'"'+' height="')+n+'"';return i&&(o=(o+=' alt="')+b(i)+'"'),o+="/>"},function(e){for(var t="",i=0;i<e.length;i+=1){var n=e.charAt(i);switch(n){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=n}}return t});return x.createASCII=function(e,t){if((e=e||1)<2){var i=t;i=void 0===i?2:i;for(var n,o,s,a,r=+x.getModuleCount()+2*i,l=i,c=r-i,u={"██":"█","█ ":"▀"," █":"▄","  ":" "},d={"██":"▀","█ ":"▀"," █":" ","  ":" "},h="",p=0;p<r;p+=2){for(o=Math.floor(p-l),s=Math.floor(p+1-l),n=0;n<r;n+=1)a="█",l<=n&&n<c&&l<=p&&p<c&&x.isDark(o,Math.floor(n-l))&&(a=" "),l<=n&&n<c&&l<=p+1&&p+1<c&&x.isDark(s,Math.floor(n-l))?a+=" ":a+="█",h+=(i<1&&c<=p+1?d:u)[a];h+="\n"}return r%2&&0<i?h.substring(0,h.length-r-1)+Array(1+r).join("▀"):h.substring(0,h.length-1)}--e,t=void 0===t?2*e:t;for(var f,m,g,y=x.getModuleCount()*e+2*t,v=t,b=y-t,w=Array(e+1).join("██"),S=Array(e+1).join("  "),_="",C="",k=0;k<y;k+=1){for(m=Math.floor((k-v)/e),C="",f=0;f<y;f+=1)g=1,C+=(g=v<=f&&f<b&&v<=k&&k<b&&x.isDark(m,Math.floor((f-v)/e))?0:g)?w:S;for(m=0;m<e;m+=1)_+=C+"\n"}return _.substring(0,_.length-1)},x.renderTo2dContext=function(e,t){t=t||2;for(var i=x.getModuleCount(),n=0;n<i;n++)for(var o=0;o<i;o++)e.fillStyle=x.isDark(n,o)?"black":"white",e.fillRect(n*t,o*t,t,t)},x}function O(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t}function L(n,o){if(void 0===n.length)throw n.length+"/"+o;var t=(()=>{for(var e=0;e<n.length&&0==n[e];)e+=1;for(var t=new Array(n.length-e+o),i=0;i<n.length-e;i+=1)t[i]=n[i+e];return t})(),s={getAt:function(e){return t[e]},getLength:function(){return t.length},multiply:function(e){for(var t=new Array(s.getLength()+e.getLength()-1),i=0;i<s.getLength();i+=1)for(var n=0;n<e.getLength();n+=1)t[i+n]^=g.gexp(g.glog(s.getAt(i))+g.glog(e.getAt(n)));return L(t,0)},mod:function(e){if(s.getLength()-e.getLength()<0)return s;for(var t=g.glog(s.getAt(0))-g.glog(e.getAt(0)),i=new Array(s.getLength()),n=0;n<s.getLength();n+=1)i[n]=s.getAt(n);for(n=0;n<e.getLength();n+=1)i[n]^=g.gexp(g.glog(e.getAt(n))+t);return L(i,0).mod(e)}};return s}function N(){function i(e){a+=String.fromCharCode((e=>{if(!(e<0)){if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e})(63&e))}var n=0,o=0,s=0,a="",e={writeByte:function(e){for(n=n<<8|255&e,o+=8,s+=1;6<=o;)i(n>>>o-6),o-=6},flush:function(){if(0<o&&(i(n<<6-o),o=n=0),s%3!=0)for(var e=3-s%3,t=0;t<e;t+=1)a+="="},toString:function(){return a}};return e}function M(e,t){var n=e,o=t,p=new Array(e*t),s=function(e){for(var t=1<<e,i=1+(1<<e),n=e+1,o=f(),s=0;s<t;s+=1)o.add(String.fromCharCode(s));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(i));var a,r,l,e=v(),c=(a=e,l=r=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;8<=r+t;)a.writeByte(255&(e<<r|l)),t-=8-r,e>>>=8-r,r=l=0;l|=e<<r,r+=t},flush:function(){0<r&&a.writeByte(l)}}),u=(c.write(t,n),0),d=String.fromCharCode(p[u]);for(u+=1;u<p.length;){var h=String.fromCharCode(p[u]);u+=1,o.contains(d+h)?d+=h:(c.write(o.indexOf(d),n),o.size()<4095&&(o.size()==1<<n&&(n+=1),o.add(d+h)),d=h)}return c.write(o.indexOf(d),n),c.write(i,n),c.flush(),e.toByteArray()},f=function(){var t={},i=0,n={add:function(e){if(n.contains(e))throw"dup key:"+e;t[e]=i,i+=1},size:function(){return i},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return n};return{setPixel:function(e,t,i){p[t*n+e]=i},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(o),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(o),e.writeByte(0);for(var t=s(2),i=(e.writeByte(2),0);255<t.length-i;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}}}x.stringToBytesFuncs["UTF-8"]=function(e){for(var t=e,i=[],n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?i.push(o):o<2048?i.push(192|o>>6,128|63&o):o<55296||57344<=o?i.push(224|o>>12,128|o>>6&63,128|63&o):(n++,o=65536+((1023&o)<<10|1023&t.charCodeAt(n)),i.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}return i},void 0!==(t="function"==typeof(i=function(){return x})?i.apply(t,[]):i)&&(e.exports=t)},ab60:function(e,t,i){e.exports=i.p+"img/icon_custom_add.a907c2c1.png"},aea6:function(e,t,i){var i=i("c89a"),n={i:{locale:"zh-CN",select:{placeholder:"请选择",noMatch:"无匹配数据",loading:"加载中"},table:{noDataText:"暂无数据",noFilteredDataText:"暂无筛选结果",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},datepicker:{selectDate:"选择日期",selectTime:"选择时间",startTime:"开始时间",endTime:"结束时间",clear:"清空",ok:"确定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"源列表",target:"目的列表"},filterPlaceholder:"请输入搜索内容",notFoundText:"列表为空"},modal:{okText:"确定",cancelText:"取消"},poptip:{okText:"确定",cancelText:"取消"},page:{prev:"上一页",next:"下一页",total:"共",item:"条",items:"条",prev5:"向前 5 页",next5:"向后 5 页",page:"条/页",goto:"跳至",p:"页"},rate:{star:"星",stars:"星"},time:{before:"前",after:"后",just:"刚刚",seconds:"秒",minutes:"分钟",hours:"小时",days:"天"},tree:{emptyText:"暂无数据"}}};Object(i.a)(n),t.a=n},af5d:function(e,t,i){e.exports=i.p+"img/12.935ef98e.jpg"},af7e:function(t,i,n){!function($h,zh){var e,Wh=n("7037").default;n("a4d3"),n("e01a"),n("d9e2"),n("99af"),n("cb29"),n("4de4"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("14d9"),n("13d5"),n("f4dd"),n("fb6a"),n("4e82"),n("a434"),n("3c65"),n("c19f"),n("2c66"),n("249d"),n("40e9"),n("b0c0"),n("6c57"),n("e9f5"),n("d866"),n("910d"),n("7d54"),n("ab43"),n("9485"),n("a732"),n("e9c4"),n("4ec9"),n("a9e3"),n("aff5"),n("b680"),n("1d1c"),n("7a82"),n("dca8"),n("e439"),n("7039"),n("b64b"),n("131a"),n("d3b7"),n("acd8"),n("e25e"),n("4ae1"),n("f8c9"),n("4d63"),n("c607"),n("ac1f"),n("5377"),n("2c3e"),n("00b4"),n("25f0"),n("6062"),n("1e70"),n("79a4"),n("c1a1"),n("8b00"),n("a4e7"),n("1e5a"),n("72c3"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("498a"),n("143c"),n("5cc6"),n("fb2c"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("6ce5"),n("2834"),n("72f7"),n("4ea1"),n("10d1"),n("81b2"),n("159b"),n("ddb0"),n("0eb6"),n("b7ef"),n("8bd4"),n("c73d"),n("2b3d"),n("bf19"),n("9861"),n("88a7"),n("271a"),n("5494"),e=function(){for(var M,B={},F=function(e,t){return B[e]=B[e]||[],t&&(B[e]=B[e].concat(t)),B[e]},R=function(e,t){return!((t=F(e).indexOf(t))<=-1||(B[e]=B[e].slice(),B[e].splice(t,1),0))},U={prefixed:!0},V=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],$=V[0],z=0;z<V.length;z++)if(V[z][1]in document){M=V[z];break}if(M){for(var W=0;W<M.length;W++)U[$[W]]=M[W];U.prefixed=M[0]!==$[0]}var H=[],u=function t(i){function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r("log",o,t)}var s,a,o="info",r=(s=i,function(e,t,i){var n,o=a.levels[t];t=new RegExp("^("+o+")$"),"log"!==e&&i.unshift(e.toUpperCase()+":"),i.unshift(s+":"),H&&(H.push([].concat(i)),n=H.length-1e3,H.splice(0,0<n?n:0)),window.console&&(n=(n=window.console[e])||"debug"!==e?n:window.console.info||window.console.log)&&o&&t.test(e)&&n[Array.isArray(i)?"apply":"call"](window.console,i)});return(a=n).createLogger=function(e){return t(i+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},n.level=function(e){if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');o=e}return o},(n.history=function(){return H?[].concat(H):[]}).filter=function(t){return(H||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},n.history.clear=function(){H&&(H.length=0)},n.history.disable=function(){null!==H&&(H.length=0,H=null)},n.history.enable=function(){null===H&&(H=[])},n.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",o,t)},n.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",o,t)},n.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",o,t)},n}("VIDEOJS"),q=u.createLogger,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$h?$h:"undefined"!=typeof self?self:{};function G(e,t){return e(t={exports:{}},t.exports),t.exports}function Y(e){return Z(e)?Object.keys(e):[]}var Q=G(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}e.exports=t}),K=Object.prototype.toString;function X(t,i){Y(t).forEach(function(e){return i(t[e],e)})}function d(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Object.assign?Q.apply(void 0,[i].concat(t)):(t.forEach(function(e){e&&X(e,function(e,t){i[t]=e})}),i)}function Z(e){return!!e&&"object"==Wh(e)}function J(e){return Z(e)&&"[object Object]"===K.call(e)&&e.constructor===Object}function ee(e,t){if(!e||!t)return"";if("function"!=typeof window.getComputedStyle)return"";var i;try{i=window.getComputedStyle(e)}catch(e){return""}return i?i.getPropertyValue(t)||i[t]:""}var t=window.navigator&&window.navigator.userAgent||"",i=/AppleWebKit\/([\d.]+)/i.exec(t),n=i?parseFloat(i.pop()):null,o=/iPod/i.test(t),s=(w=t.match(/OS (\d+)_/i))&&w[1]?w[1]:null,te=/Android/i.test(t),ie=(S=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(ce=S[1]&&parseFloat(S[1]),hi=S[2]&&parseFloat(S[2]),ce&&hi?parseFloat(S[1]+"."+S[2]):ce||null):null,ne=te&&ie<5&&n<537,oe=/Firefox/i.test(t),se=/Edg/i.test(t),ae=!se&&(/Chrome/i.test(t)||/CriOS/i.test(t)),re=(hi=t.match(/(Chrome|CriOS)\/(\d+)/))&&hi[2]?parseFloat(hi[2]):null,le=S=!(S=(S=/MSIE\s(\d+)\.\d/.exec(t))&&parseFloat(S[1]))&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)?11:S,ce=/Safari/i.test(t)&&!ae&&!te&&!se,ue=/Windows/i.test(t),de=Boolean(ye()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),a=/iPad/i.test(t)||ce&&de&&!/iPhone/i.test(t),he=/iPhone/i.test(t)&&!a,pe=he||a||o,fe=(ce||pe)&&!ae,t=Object.freeze({__proto__:null,IS_IPOD:o,IOS_VERSION:s,IS_ANDROID:te,ANDROID_VERSION:ie,IS_NATIVE_ANDROID:ne,IS_FIREFOX:oe,IS_EDGE:se,IS_CHROME:ae,CHROME_VERSION:re,IE_VERSION:le,IS_SAFARI:ce,IS_WINDOWS:ue,TOUCH_ENABLED:de,IS_IPAD:a,IS_IPHONE:he,IS_IOS:pe,IS_ANY_SAFARI:fe});function me(e){return"string"==typeof e&&Boolean(e.trim())}function ge(e){if(0<=e.indexOf(" "))throw new Error("class has illegal whitespace characters")}function ye(){return document===window.document}function ve(e){return Z(e)&&1===e.nodeType}function be(){try{return window.parent!==window.self}catch(e){return!0}}function we(i){return function(e,t){return me(e)?(t=ve(t=me(t)?document.querySelector(t):t)?t:document)[i]&&t[i](e):document[i](null)}}function h(e,i,t,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===t&&(t={});var o=document.createElement(e);return Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(u.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),o.setAttribute(e,t)):"textContent"===e?Se(o,t):o[e]===t&&"tabIndex"!==e||(o[e]=t)}),Object.getOwnPropertyNames(t).forEach(function(e){o.setAttribute(e,t[e])}),n&&Ue(o,n),o}function Se(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function _e(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Ce(e,t){return ge(t),e.classList?e.classList.contains(t):new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}function ke(e,t){return e.classList?e.classList.add(t):Ce(e,t)||(e.className=(e.className+" "+t).trim()),e}function xe(e,t){return e?(e.classList?e.classList.remove(t):(ge(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e):(u.warn("removeClass was called with an element that doesn't exist"),null)}function Te(e,t,i){var n=Ce(e,t);if((i="boolean"!=typeof(i="function"==typeof i?i(e,t):i)?!n:i)!==n)return(i?ke:xe)(e,t),e}function Ie(i,n){Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];null==t||!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})}function Pe(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var i=e.attributes,n=i.length-1;0<=n;n--){var o=i[n].name,s=i[n].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(s=null!==s),t[o]=s}return t}function Ae(e,t){return e.getAttribute(t)}function De(e,t,i){e.setAttribute(t,i)}function Ee(e,t){e.removeAttribute(t)}function Oe(){document.body.focus(),document.onselectstart=function(){return!1}}function Le(){document.onselectstart=function(){return!0}}function Ne(e){var t,i;if(e&&e.getBoundingClientRect&&e.parentNode)return t=e.getBoundingClientRect(),i={},["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(ee(e,"height"))),i.width||(i.width=parseFloat(ee(e,"width"))),i}function Me(e){if(!e||!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,i=e.offsetHeight,n=0,o=0;e.offsetParent&&e!==document[U.fullscreenElement];)n+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent;return{left:n,top:o,width:t,height:i}}function Be(e,t){var i={x:0,y:0};if(pe)for(var n=e;n&&"html"!==n.nodeName.toLowerCase();){var o,s=ee(n,"transform");/^matrix/.test(s)?(o=s.slice(7,-1).split(/,\s/).map(Number),i.x+=o[4],i.y+=o[5]):/^matrix3d/.test(s)&&(s=s.slice(9,-1).split(/,\s/).map(Number),i.x+=s[12],i.y+=s[13]),n=n.parentNode}var a={},r=Me(t.target),l=Me(e),c=l.width;return e=t.offsetY-(l.top-r.top),r=t.offsetX-(l.left-r.left),t.changedTouches&&(r=t.changedTouches[0].pageX-l.left,e=t.changedTouches[0].pageY+l.top,pe)&&(r-=i.x,e-=i.y),a.y=1-Math.max(0,Math.min(1,e/l.height)),a.x=Math.max(0,Math.min(1,r/c)),a}function Fe(e){return Z(e)&&3===e.nodeType}function Re(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function je(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return ve(e="function"==typeof e?e():e)||Fe(e)?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0}).filter(function(e){return e})}function Ue(t,e){return je(e).forEach(function(e){return t.appendChild(e)}),t}function Ve(e,t){return Ue(Re(e),t)}function $e(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}function ze(){if(!1!==We.options.autoSetup){var e=Array.prototype.slice.call(document.getElementsByTagName("video")),t=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),n=e.concat(t,i);if(n&&0<n.length)for(var o=0,s=n.length;o<s;o++){var a=n[o];if(!a||!a.getAttribute){Qe(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&We(a)}else Ye||Qe(1)}}var We,He=we("querySelector"),qe=we("querySelectorAll"),Ge=Object.freeze({__proto__:null,isReal:ye,isEl:ve,isInFrame:be,createEl:h,textContent:Se,prependTo:_e,hasClass:Ce,addClass:ke,removeClass:xe,toggleClass:Te,setAttributes:Ie,getAttributes:Pe,getAttribute:Ae,setAttribute:De,removeAttribute:Ee,blockTextSelection:Oe,unblockTextSelection:Le,getBoundingClientRect:Ne,findPosition:Me,getPointerPosition:Be,isTextNode:Fe,emptyEl:Re,normalizeContent:je,appendContent:Ue,insertContent:Ve,isSingleLeftClick:$e,$:He,$$:qe}),Ye=!1;function Qe(e,t){ye()&&(t&&(We=t),window.setTimeout(ze,e))}function Ke(){Ye=!0,window.removeEventListener("load",Ke)}function Xe(e){var t=document.createElement("style");return t.className=e,t}function Ze(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}ye()&&("complete"===document.readyState?Ke():window.addEventListener("load",Ke));var Je=3;function et(){this.vdata="vdata"+Math.floor(window.performance&&window.performance.now()||Date.now()),this.data={}}window.WeakMap||((_=et.prototype).set=function(e,t){var i=e[this.vdata]||Je++;return e[this.vdata]||(e[this.vdata]=i),this.data[i]=t,this},_.get=function(e){var t=e[this.vdata];if(t)return this.data[t];u("We have no data for this element",e)},_.has=function(e){return e[this.vdata]in this.data},_.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},_=et);var tt,it=new(window.WeakMap?WeakMap:_);function nt(e,t){var i;it.has(e)&&(0===(i=it.get(e)).handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length)&&it.delete(e)}function ot(t,i,e,n){e.forEach(function(e){t(i,e,n)})}function st(e){if(!e.fixed_){if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var t,i,n,o=e||window.event;for(t in e={},o)"layerX"===t||"layerY"===t||"keyLocation"===t||"webkitMovementX"===t||"webkitMovementY"===t||"path"===t||"returnValue"===t&&o.preventDefault||(e[t]=o[t]);e.target||(e.target=e.srcElement||document),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){o.preventDefault&&o.preventDefault(),e.returnValue=!1,o.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),e.cancelBubble=!0,o.cancelBubble=!0,e.isPropagationStopped=s},e.isPropagationStopped=a,e.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),e.isImmediatePropagationStopped=s,e.stopPropagation()},e.isImmediatePropagationStopped=a,null!=e.clientX&&(i=document.documentElement,n=document.body,e.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}e.fixed_=!0}return e;function s(){return!0}function a(){return!1}}var at=["touchstart","touchmove"];function rt(a,e,t){if(Array.isArray(e))return ot(rt,a,e,t);it.has(a)||it.set(a,{});var r=it.get(a);r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),t.guid||(t.guid=Je++),r.handlers[e].push(t),r.dispatcher||(r.disabled=!1,r.dispatcher=function(e,t){if(!r.disabled){e=st(e);var i=r.handlers[e.type];if(i)for(var n=i.slice(0),o=0,s=n.length;o<s&&!e.isImmediatePropagationStopped();o++)try{n[o].call(a,e,t)}catch(e){u.error(e)}}}),1===r.handlers[e].length&&(a.addEventListener?(t=!1,(()=>{if("boolean"!=typeof tt){tt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){tt=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}return tt})()&&-1<at.indexOf(e)&&(t={passive:!0}),a.addEventListener(e,r.dispatcher,t)):a.attachEvent&&a.attachEvent("on"+e,r.dispatcher))}function lt(e,t,i){if(it.has(e)){var n=it.get(e);if(n.handlers){if(Array.isArray(t))return ot(lt,e,t,i);var o=function(e,t){n.handlers[t]=[],nt(e,t)};if(void 0!==t){var s=n.handlers[t];if(s)if(i){if(i.guid)for(var a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);nt(e,t)}else o(e,t)}else for(var r in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},r)&&o(e,r)}}}function ct(e,t,i){var n=it.has(e)?it.get(e):{},o=e.parentNode||e.ownerDocument;return"string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=st(t),n.dispatcher&&n.dispatcher.call(e,t,i),o&&!t.isPropagationStopped()&&!0===t.bubbles?ct.call(null,o,t,i):!o&&!t.defaultPrevented&&t.target&&t.target[t.type]&&(it.has(t.target)||it.set(t.target,{}),o=it.get(t.target),t.target[t.type])&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1),!t.defaultPrevented}function ut(e,t,i){if(Array.isArray(t))return ot(ut,e,t,i);function n(){lt(e,t,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||Je++,rt(e,t,n)}function dt(e,t,i){function n(){lt(e,t,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||Je++,rt(e,t,n)}function l(e,t,i){return t.guid||(t.guid=Je++),(e=t.bind(e)).guid=i?i+"_"+t.guid:t.guid,e}function ht(t,i){var n=window.performance.now();return function(){var e=window.performance.now();i<=e-n&&(t.apply(void 0,arguments),n=e)}}function pt(){}var ft,mt=Object.freeze({__proto__:null,fixEvent:st,on:rt,off:lt,trigger:ct,one:ut,any:dt});function gt(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_||(e.constructor&&e.constructor.name?e.constructor.name:Wh(e))}function yt(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&e.length}function vt(e,t,i){if(!e||!e.nodeName&&!Ct(e))throw new Error("Invalid target for "+gt(t)+"#"+i+"; must be a DOM node or evented object.")}function bt(e,t,i){if(!yt(e))throw new Error("Invalid event type for "+gt(t)+"#"+i+"; must be a non-empty string or array.")}function wt(e,t,i){if("function"!=typeof e)throw new Error("Invalid listener for "+gt(t)+"#"+i+"; must be a function.")}function St(e,t,i){var n,o,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return t=s?(n=e.eventBusEl_,3<=t.length&&t.shift(),o=t[0],t[1]):(n=t[0],o=t[1],t[2]),vt(n,e,i),bt(o,e,i),wt(t,e,i),{isTargetingSelf:s,target:n,type:o,listener:t=l(e,t)}}function _t(e,t,i,n){vt(e,e,t),e.nodeName?mt[t](e,i,n):e[t](i,n)}pt.prototype.allowedEvents_={},pt.prototype.addEventListener=pt.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},rt(this,e,t),this.addEventListener=i},pt.prototype.removeEventListener=pt.prototype.off=function(e,t){lt(this,e,t)},pt.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},ut(this,e,t),this.addEventListener=i},pt.prototype.any=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},dt(this,e,t),this.addEventListener=i},pt.prototype.dispatchEvent=pt.prototype.trigger=function(e){var t=e.type||e;e=st(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),ct(this,e)},pt.prototype.queueTrigger=function(e){var t=this,i=(ft=ft||new Map,e.type||e),n=ft.get(this),o=(n||(n=new Map,ft.set(this,n)),n.get(i));n.delete(i),window.clearTimeout(o),o=window.setTimeout(function(){0===n.size&&(n=null,ft.delete(t)),t.trigger(e)},0),n.set(i,o)};var Ct=function(t){return t instanceof pt||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},kt={on:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o,s=St(this,i,"on"),a=s.isTargetingSelf,r=s.target,l=s.type,c=s.listener;_t(r,"on",l,c),a||((o=function(){return e.off(r,l,c)}).guid=c.guid,(a=function(){return e.off("dispose",o)}).guid=c.guid,_t(this,"on","dispose",o),_t(r,"on","dispose",a))},one:function(){for(var o=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=St(this,t,"one"),s=n.isTargetingSelf,a=n.target,r=n.type,l=n.listener;s?_t(a,"one",r,l):((s=function e(){o.off(a,r,e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];l.apply(null,i)}).guid=l.guid,_t(a,"one",r,s))},any:function(){for(var o=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=St(this,t,"any"),s=n.isTargetingSelf,a=n.target,r=n.type,l=n.listener;s?_t(a,"any",r,l):((s=function e(){o.off(a,r,e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];l.apply(null,i)}).guid=l.guid,_t(a,"any",r,s))},off:function(e,t,i){!e||yt(e)?lt(this.eventBusEl_,e,t):(vt(e,this,"off"),bt(t,this,"off"),wt(i,this,"off"),i=l(this,i),this.off("dispose",i),e.nodeName?(lt(e,t,i),lt(e,"dispose",i)):Ct(e)&&(e.off(t,i),e.off("dispose",i)))},trigger:function(e,t){var i;if(vt(this.eventBusEl_,this,"trigger"),!yt(e&&"string"!=typeof e?e.type:e)){if(i="Invalid event type for "+gt(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.",!e)throw new Error(i);(this.log||u).error(i)}return ct(this.eventBusEl_,e,t)}};function xt(e,t){if(t=(t=void 0===t?{}:t).eventBusKey){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=h("span",{className:"vjs-event-bus"});d(e,kt),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&it.has(e)&&it.delete(e)}),window.setTimeout(function(){e.eventBusEl_=null},0)})}var Tt={state:{},setState:function(e){var i,n=this;return X(e="function"==typeof e?e():e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&Ct(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function It(e,t){d(e,Tt),e.state=d({},e.state,t),"function"==typeof e.handleStateChanged&&Ct(e)&&e.on("statechanged",e.handleStateChanged)}function Pt(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})}function p(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function f(){for(var i={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){e&&X(e,function(e,t){J(e)?(J(i[t])||(i[t]={}),i[t]=f(i[t],e)):i[t]=e})}),i}var At,Dt=window.Map||((At=Lt.prototype).has=function(e){return e in this.map_},At.delete=function(e){var t=this.has(e);return delete this.map_[e],t},At.set=function(e,t){return this.map_[e]=t,this},At.forEach=function(e,t){for(var i in this.map_)e.call(t,this.map_[i],i,this)},Lt),Et=window.Set||((At=Ot.prototype).has=function(e){return e in this.set_},At.delete=function(e){var t=this.has(e);return delete this.set_[e],t},At.add=function(e){return this.set_[e]=1,this},At.forEach=function(e,t){for(var i in this.set_)e.call(t,i,i,this)},Ot),r=G(function(e,t){function i(e){var t;return"number"==typeof(e=e&&"object"==Wh(e)&&(t=e.which||e.keyCode||e.charCode)?t:e)?r[e]:(t=String(e),(e=(e=n[t.toLowerCase()])||o[t.toLowerCase()])||(1===t.length?t.charCodeAt(0):void 0))}i.isEventKey=function(e,t){if(e&&"object"==Wh(e)){var i=e.which||e.keyCode||e.charCode;if(null!=i)if("string"==typeof t){if(e=n[t.toLowerCase()])return e===i;if(e=o[t.toLowerCase()])return e===i}else if("number"==typeof t)return t===i;return!1}};for(var n=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var a,r=t.names=t.title={};for(s in n)r[n[s]]=s;for(a in o)n[a]=o[a]});function Ot(){this.set_={}}function Lt(){this.map_={}}r.code;(v=m.prototype).dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},v.isDisposed=function(){return Boolean(this.isDisposed_)},v.player=function(){return this.player_},v.options=function(e){return e&&(this.options_=f(this.options_,e)),this.options_},v.el=function(){return this.el_},v.createEl=function(e,t,i){return h(e,t,i)},v.localize=function(e,i,t){void 0===t&&(t=e);var n=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[n],n=n&&n.split("-")[0];return n=o&&o[n],s&&s[e]?t=s[e]:n&&n[e]&&(t=n[e]),i?t.replace(/\{(\d+)\}/g,function(e,t){return void 0===(t=i[t-1])?e:t}):t},v.handleLanguagechange=function(){},v.contentEl=function(){return this.contentEl_||this.el_},v.id=function(){return this.id_},v.name=function(){return this.name_},v.children=function(){return this.children_},v.getChildById=function(e){return this.childIndex_[e]},v.getChild=function(e){if(e)return this.childNameIndex_[e]},v.getDescendant=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var t=t.reduce(function(e,t){return e.concat(t)},[]),n=this,o=0;o<t.length;o++)if(!(n=n.getChild(t[o]))||!n.getChild)return;return n},v.addChild=function(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i=this.children_.length),"string"==typeof e){var n=p(e),o=t.componentClass||n,s=(t.name=n,m.getComponent(o));if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;s=new s(this.player_||this,t)}else s=e;return s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(i,0,s),s.parentComponent_=this,"function"==typeof s.id&&(this.childIndex_[s.id()]=s),(n=n||s.name&&p(s.name()))&&(this.childNameIndex_[n]=s,this.childNameIndex_[Pt(n)]=s),"function"==typeof s.el&&s.el()&&(n=null,this.children_[i+1]&&(this.children_[i+1].el_?n=this.children_[i+1].el_:ve(this.children_[i+1])&&(n=this.children_[i+1])),this.contentEl().insertBefore(s.el(),n)),s},v.removeChild=function(e){if((e="string"==typeof e?this.getChild(e):e)&&this.children_){for(var t,i=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){i=!0,this.children_.splice(n,1);break}i&&(e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[p(e.name())]=null,this.childNameIndex_[Pt(e.name())]=null,t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}},v.initChildren=function(){var i,t,e,n=this,o=this.options_.children;o&&(i=this.options_,t=m.getComponent("Tech"),(e=Array.isArray(o)?o:Object.keys(o)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t;return e="string"==typeof e?o[t=e]||n.options_[t]||{}:(t=e.name,e),{name:t,opts:e}}).filter(function(e){return(e=m.getComponent(e.opts.componentClass||p(e.name)))&&!t.isTech(e)}).forEach(function(e){var t=e.name;e=e.opts,!1!==(e=void 0!==i[t]?i[t]:e)&&((e=!0===e?{}:e).playerOptions=n.options_.playerOptions,e=n.addChild(t,e))&&(n[t]=e)}))},v.buildCSSClass=function(){return""},v.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},v.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},v.$=function(e,t){return He(e,t||this.contentEl())},v.$$=function(e,t){return qe(e,t||this.contentEl())},v.hasClass=function(e){return Ce(this.el_,e)},v.addClass=function(e){ke(this.el_,e)},v.removeClass=function(e){xe(this.el_,e)},v.toggleClass=function(e,t){Te(this.el_,e,t)},v.show=function(){this.removeClass("vjs-hidden")},v.hide=function(){this.addClass("vjs-hidden")},v.lockShowing=function(){this.addClass("vjs-lock-showing")},v.unlockShowing=function(){this.removeClass("vjs-lock-showing")},v.getAttribute=function(e){return Ae(this.el_,e)},v.setAttribute=function(e,t){De(this.el_,e,t)},v.removeAttribute=function(e){Ee(this.el_,e)},v.width=function(e,t){return this.dimension("width",e,t)},v.height=function(e,t){return this.dimension("height",e,t)},v.dimensions=function(e,t){this.width(e,!0),this.height(t)},v.dimension=function(e,t,i){return void 0!==t?(-1!==(""+(t=null===t||t!=t?0:t)).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"))):this.el_?-1!==(i=(t=this.el_.style[e]).indexOf("px"))?parseInt(t.slice(0,i),10):parseInt(this.el_["offset"+p(e)],10):0},v.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");return t=ee(this.el_,e),0!==(t=parseFloat(t))&&!isNaN(t)||(e="offset"+p(e),t=this.el_[e]),t},v.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},v.currentWidth=function(){return this.currentDimension("width")},v.currentHeight=function(){return this.currentDimension("height")},v.focus=function(){this.el_.focus()},v.blur=function(){this.el_.blur()},v.handleKeyDown=function(e){this.player_&&(r.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},v.handleKeyPress=function(e){this.handleKeyDown(e)},v.emitTapEvents=function(){var i,t=0,n=null;function e(){i=!1}this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=window.performance.now(),i=!0)}),this.on("touchmove",function(e){var t;(1<e.touches.length||n&&(t=e.touches[0].pageX-n.pageX,e=e.touches[0].pageY-n.pageY,10<Math.sqrt(t*t+e*e)))&&(i=!1)}),this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(n=null)===i&&window.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap"))})},v.enableTouchActivity=function(){var t,i,e;this.player()&&this.player().reportUserActivity&&(t=l(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),this.clearInterval(i),i=this.setInterval(t,250)}),e=function(e){t(),this.clearInterval(i)},this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e))},v.setTimeout=function(e,t){var i,n=this;return e=l(this,e),this.clearTimersOnDispose_(),i=window.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i},v.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),window.clearTimeout(e)),e},v.setInterval=function(e,t){return e=l(this,e),this.clearTimersOnDispose_(),t=window.setInterval(e,t),this.setIntervalIds_.add(t),t},v.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),window.clearInterval(e)),e},v.requestAnimationFrame=function(e){var t,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=l(this,e),t=window.requestAnimationFrame(function(){i.rafIds_.has(t)&&i.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},v.requestNamedAnimationFrame=function(e,t){var i,n=this;if(!this.namedRafs_.has(e))return this.clearTimersOnDispose_(),t=l(this,t),i=this.requestAnimationFrame(function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}),this.namedRafs_.set(e,i),e},v.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},v.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),window.cancelAnimationFrame(e)),e):this.clearTimeout(e)},v.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],i=e[1];n[t].forEach(function(e,t){return n[i](t)})}),n.clearingTimersOnDispose_=!1}))},m.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=(n=m.getComponent("Tech"))&&n.isTech(t),n=m===t||m.prototype.isPrototypeOf(t.prototype);if(i||!n)throw s=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+s+".");if(e=p(e),m.components_||(m.components_={}),s=m.getComponent("Player"),"Player"===e&&s&&s.players){var o=s.players,s=Object.keys(o);if(o&&0<s.length&&s.map(function(e){return o[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return m.components_[e]=t,m.components_[Pt(e)]=t},m.getComponent=function(e){if(e&&m.components_)return m.components_[e]};var c=m;function m(e,t,i){var n=this;!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=f({},this.options_),t=this.options_=f(this.options_,t),this.id_=t.id||t.el&&t.el.id,this.id_||(e=e&&e.id&&e.id()||"no_player",this.id_=e+"_component_"+Je++),this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(function(e){return n.addClass(e)}),!1!==t.evented&&(xt(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),It(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Et,this.setIntervalIds_=new Et,this.rafIds_=new Et,this.namedRafs_=new Dt,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}c.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,c.registerComponent("Component",c);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function Nt(e,t,i,n){var o=i.length-1;if("number"!=typeof n||n<0||o<n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+n+") is non-numeric or out of bounds (0-"+o+").");return i[n][t]}function Mt(e){var t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Nt.bind(null,"start",0,e),end:Nt.bind(null,"end",1,e)};return window.Symbol&&window.Symbol.iterator&&(t[window.Symbol.iterator]=function(){return(e||[]).values()}),t}function Bt(e,t){return Array.isArray(e)?Mt(e):void 0===e||void 0===t?Mt():Mt([[e,t]])}function Ft(e,t){var i,n,o=0;if(!t)return 0;e&&e.length||(e=Bt(0,0));for(var s=0;s<e.length;s++)i=e.start(s),o+=(t<(n=e.end(s))?t:n)-i;return o/t}function Rt(e){if(e instanceof Rt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Z(e)&&("number"==typeof e.code&&(this.code=e.code),d(this,e)),this.message||(this.message=Rt.defaultMessages[this.code]||"")}Rt.prototype.code=0,Rt.prototype.message="",Rt.prototype.status=null,Rt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Rt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var jt=0;jt<Rt.errorTypes.length;jt++)Rt[Rt.errorTypes[jt]]=jt,Rt.prototype[Rt.errorTypes[jt]]=jt;function Ut(e){return null!=e&&"function"==typeof e.then}function Vt(e){Ut(e)&&e.then(null,function(e){})}function $t(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,i){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var zt,Wt="vjs-modal-dialog",Ht=(y(qt,zt=c),(v=qt.prototype).createEl=function(){return zt.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},v.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,zt.prototype.dispose.call(this)},v.buildCSSClass=function(){return Wt+" vjs-hidden "+zt.prototype.buildCSSClass.call(this)},v.label=function(){return this.localize(this.options_.label||"Modal Window")},v.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},v.open=function(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},v.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},v.close=function(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary)&&this.dispose()},v.closeable=function(e){var t,i;return"boolean"==typeof e&&(t=this.closeable_=!!e,i=this.getChild("closeButton"),t&&!i&&(e=this.contentEl_,this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(i,"close",this.close_)),!t)&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose()),this.closeable_},v.fill=function(){this.fillWith(this.content())},v.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),Ve(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t),(t=this.getChild("closeButton"))&&i.appendChild(t.el_)},v.empty=function(){this.trigger("beforemodalempty"),Re(this.contentEl()),this.trigger("modalempty")},v.content=function(e){return void 0!==e&&(this.content_=e),this.content_},v.conditionalFocus_=function(){var e=document.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus())},v.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},v.handleKeyDown=function(e){if(e.stopPropagation(),r.isEventKey(e,"Escape")&&this.closeable())e.preventDefault(),this.close();else if(r.isEventKey(e,"Tab")){for(var t,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),o=0;o<i.length;o++)if(n===i[o]){t=o;break}document.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}},v.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof window.HTMLAnchorElement||e instanceof window.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof window.HTMLInputElement||e instanceof window.HTMLSelectElement||e instanceof window.HTMLTextAreaElement||e instanceof window.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof window.HTMLIFrameElement||e instanceof window.HTMLObjectElement||e instanceof window.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},qt);function qt(e,t){var i=zt.call(this,e,t)||this;return i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.close_=function(e){return i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=h("div",{className:Wt+"-content"},{role:"document"}),i.descEl_=h("p",{className:Wt+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),Se(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}Ht.prototype.options_={pauseOnOpen:!0,temporary:!0},c.registerComponent("ModalDialog",Ht);y(Kt,Yt=pt),(v=Kt.prototype).addTrack=function(e){var t=this,i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.tracks_[i]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},Ct(e)&&e.addEventListener("labelchange",e.labelchange_)},v.removeTrack=function(e){for(var t,i=0,n=this.length;i<n;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},v.getTrackById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var o=this[i];if(o.id===e){t=o;break}}return t};var Gt,Yt,Qt=Kt;function Kt(e){var t;void 0===e&&(e=[]),(t=Yt.call(this)||this).tracks_=[],Object.defineProperty(g(t),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)t.addTrack(e[i]);return t}for(Gt in Qt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Qt.prototype.allowedEvents_)Qt.prototype["on"+Gt]=null;function Xt(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)}function Zt(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)}function Jt(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a");i.href=e;for(var n={},o=0;o<t.length;o++)n[t[o]]=i[t[o]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=window.location.protocol),n.host||(n.host=window.location.host),n}function ei(e){var t;return e.match(/^https?:\/\//)||((t=document.createElement("a")).href=e,e=t.href),e}function ti(e){return"string"==typeof e&&(e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e))?e.pop().toLowerCase():""}function ii(e,t){return void 0===t&&(t=window.location),(":"===(e=Jt(e)).protocol?t:e).protocol+e.host!==t.protocol+t.host}y(Si,ai=Qt),(v=Si.prototype).addTrack=function(e){var t=this;e.enabled&&Xt(this,e),ai.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,Xt(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},v.removeTrack=function(e){ai.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)};var ni,oi,si,ai,v=Si,b=(y(wi,si=Qt),(b=wi.prototype).addTrack=function(e){var t=this;e.selected&&Zt(this,e),si.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,Zt(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},b.removeTrack=function(e){si.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},wi),w=(y(bi,oi=Qt),(O=bi.prototype).addTrack=function(e){var t=this;oi.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},O.removeTrack=function(e){oi.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_)&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_)},i=bi,(O=vi.prototype).addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},O.getTrackElementByTrack_=function(e){for(var t,i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},O.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},vi),ri=((O=yi.prototype).setCues_=function(e){var t=this.length||0,i=0,n=e.length;function o(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}if(this.cues_=e,this.length_=e.length,t<n)for(i=t;i<n;i++)o.call(this,i)},O.getCueById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var o=this[i];if(o.id===e){t=o;break}}return t},yi),li={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ci={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ui={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},di={disabled:"disabled",hidden:"hidden",showing:"showing"},hi=(y(gi,ni=pt),n=gi,Object.freeze({__proto__:null,parseUrl:Jt,getAbsoluteURL:ei,getFileExtension:ti,isCrossOrigin:ii})),S="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},pi=S,fi=function(e){var t;return!!e&&("[object Function]"===(t=mi.call(e))||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt))},mi=Object.prototype.toString;function gi(e){void 0===e&&(e={});var t,i=ni.call(this)||this,n={id:e.id||"vjs_track_"+Je++,kind:e.kind||"",language:e.language||""},o=e.label||"";for(t in n)(e=>{Object.defineProperty(g(i),e,{get:function(){return n[e]},set:function(){}})})(t);return Object.defineProperty(g(i),"label",{get:function(){return o},set:function(e){e!==o&&(o=e,this.trigger("labelchange"))}}),i}function yi(e){yi.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}function vi(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}function bi(){return oi.apply(this,arguments)||this}function wi(e){for(var t,i=(e=void 0===e?[]:e).length-1;0<=i;i--)if(e[i].selected){Zt(e,e[i]);break}return(t=si.call(this,e)||this).changing_=!1,Object.defineProperty(g(t),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),t}function Si(e){for(var t,i=(e=void 0===e?[]:e).length-1;0<=i;i--)if(e[i].enabled){Xt(e,e[i]);break}return(t=ai.call(this,e)||this).changing_=!1,t}xi.httpHandler=function(o,s){return void 0===s&&(s=!1),function(e,t,i){if(e)o(e);else if(400<=t.statusCode&&t.statusCode<=599){if(e=i,s)if(pi.TextDecoder){t=(n=void 0===(n=t.headers&&t.headers["content-type"])?"":n).toLowerCase().split(";").reduce(function(e,t){var i=t.split("=");return t=i[0],i=i[1],"charset"===t.trim()?i.trim():e},"utf-8");try{e=new TextDecoder(t).decode(i)}catch(e){}}else e=String.fromCharCode.apply(null,new Uint8Array(i));o({cause:e})}else o(null,i);var n}};var _i=function(e){var n={};return e&&e.trim().split("\n").forEach(function(e){var t=e.indexOf(":"),i=e.slice(0,t).trim().toLowerCase(),t=e.slice(t+1).trim();void 0===n[i]?n[i]=t:Array.isArray(n[i])?n[i].push(t):n[i]=[n[i],t]}),n},Ci=xi;function ki(e,t,i){var n=e;return fi(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=Q({},t,{uri:e}),n.callback=i,n}function xi(e,t,i){return Ti(t=ki(e,t,i))}function Ti(n){if(void 0===n.callback)throw new Error("callback argument missing");function o(e,t,i){s||(s=!0,n.callback(e,t,i))}var s=!1;function a(){var e=void 0,e=c.response||c.responseText||(e=>{try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null})(c);if(m)try{e=JSON.parse(e)}catch(e){}return e}function t(e){return clearTimeout(l),(e=e instanceof Error?e:new Error(""+(e||"Unknown XMLHttpRequest Error"))).statusCode=0,o(e,g)}function e(){var e,t,i;if(!r)return clearTimeout(l),e=n.useXDR&&void 0===c.status?200:1223===c.status?204:c.status,t=g,i=null,0!==e?(t={body:a(),statusCode:e,method:d,headers:{},url:u,rawRequest:c},c.getAllResponseHeaders&&(t.headers=_i(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),o(i,t,t.body)}var i,r,l,c=n.xhr||null,u=(c=c||new(n.cors||n.useXDR?xi.XDomainRequest:xi.XMLHttpRequest)).url=n.uri||n.url,d=c.method=n.method||"GET",h=n.body||n.data,p=c.headers=n.headers||{},f=!!n.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:u,rawRequest:c};if("json"in n&&!1!==n.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d)&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===n.json?h:n.json)),c.onreadystatechange=function(){4===c.readyState&&setTimeout(e,0)},c.onload=e,c.onerror=t,c.onprogress=function(){},c.onabort=function(){r=!0},c.ontimeout=t,c.open(d,u,!f,n.username,n.password),f||(c.withCredentials=!!n.withCredentials),!f&&0<n.timeout&&(l=setTimeout(function(){var e;r||(r=!0,c.abort("timeout"),(e=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",t(e))},n.timeout)),c.setRequestHeader)for(i in p)p.hasOwnProperty(i)&&c.setRequestHeader(i,p[i]);else if(n.headers&&!(e=>{for(var t in e)if(e.hasOwnProperty(t))return;return 1})(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(c.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(c),c.send(h||null),c}function Ii(e,t){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),0<n.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return u.error(e)}),window.console)&&window.console.groupEnd&&window.console.groupEnd(),i.flush()}function Pi(e,n){var t={uri:e};(e=ii(e))&&(t.cors=e),(e="use-credentials"===n.tech_.crossOrigin())&&(t.withCredentials=e),Ci(t,l(this,function(e,t,i){return e?u.error(e,t):(n.loaded_=!0,void("function"!=typeof window.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(e){return"vttjserror"!==e.type?Ii(i,n):void u.error("vttjs failed to load, stopping trying to process "+n.src)}):Ii(i,n)))}))}(o=xi).XMLHttpRequest=pi.XMLHttpRequest||function(){},xi.XDomainRequest="withCredentials"in new xi.XMLHttpRequest?xi.XMLHttpRequest:pi.XDomainRequest;for(var Ai=["get","put","post","patch","head","delete"],Di=0;Di<Ai.length;Di++)(n=>{xi["delete"===n?"del":n]=function(e,t,i){return(t=ki(e,t,i)).method=n.toUpperCase(),Ti(t)}})(Ai[Di]);Ci.default=o;y(Bi,Ei=n),(O=Bi.prototype).startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},O.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},O.addCue=function(e){var t=e;if(window.vttjs&&!(e instanceof window.vttjs.VTTCue)){for(var i in t=new window.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),o=0;o<n.length;o++)n[o]!==this&&n[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},O.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}};var Ei,Oi,Li,Ni,Mi=Bi;function Bi(e){var t;if(!(e=void 0===e?{}:e).tech)throw new Error("A tech was not provided.");e=f(e,{kind:ui[e.kind]||"subtitles",language:e.language||e.srclang||""});var i=di[e.mode]||"disabled",n=e.default,o=("metadata"!==e.kind&&"chapters"!==e.kind||(i="hidden"),(t=Ei.call(this,e)||this).tech_=e.tech,t.cues_=[],t.activeCues_=[],t.preload_=!1!==t.tech_.preloadTextTracks,new ri(t.cues_)),a=new ri(t.activeCues_),r=!1;return t.timeupdateHandler=l(g(t),function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,r)&&(this.trigger("cuechange"),r=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),t.tech_.one("dispose",function(){t.stopTracking()}),"disabled"!==i&&t.startTracking(),Object.defineProperties(g(t),{default:{get:function(){return n},set:function(){}},mode:{get:function(){return i},set:function(e){di[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||Pi(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?o:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0!==this.cues.length){for(var e=this.tech_.currentTime(),t=[],i=0,n=this.cues.length;i<n;i++){var o=this.cues[i];(o.startTime<=e&&o.endTime>=e||o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e)&&t.push(o)}if(r=!1,t.length!==this.activeCues_.length)r=!0;else for(var s=0;s<t.length;s++)-1===this.activeCues_.indexOf(t[s])&&(r=!0);this.activeCues_=t,a.setCues_(this.activeCues_)}return a},set:function(){}}}),e.src?(t.src=e.src,t.preload_||(t.loaded_=!0),(t.preload_||"subtitles"!==e.kind&&"captions"!==e.kind)&&Pi(t.src,g(t))):t.loaded_=!0,t}function Fi(e){void 0===e&&(e={});var t,i=Oi.call(this)||this,n=new Mi(e);return i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,Object.defineProperties(g(i),{readyState:{get:function(){return t}},track:{get:function(){return n}}}),t=0,n.addEventListener("loadeddata",function(){t=2,i.trigger({type:"load",target:g(i)})}),i}function Ri(e){var t=f(e=void 0===e?{}:e,{kind:li[e.kind]||""}),i=(e=Li.call(this,t)||this,!1);return Object.defineProperty(g(e),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),t.selected&&(e.selected=t.selected),e}function ji(e){var t=f(e=void 0===e?{}:e,{kind:ci[e.kind]||""}),i=(e=Ni.call(this,t)||this,!1);return Object.defineProperty(g(e),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(e.enabled=t.enabled),e.loaded_=!0,e}Mi.prototype.allowedEvents_={cuechange:"cuechange"},y(ji,Ni=n),s=ji,y(Ri,Li=n),ce=Ri,y(Fi,Oi=pt),(a=Fi).prototype.allowedEvents_={load:"load"},a.NONE=0,a.LOADING=1,a.LOADED=2,a.ERROR=3;var Ui={audio:{ListClass:v,TrackClass:s,capitalName:"Audio"},video:{ListClass:b,TrackClass:ce,capitalName:"Video"},text:{ListClass:i,TrackClass:Mi,capitalName:"Text"}},Vi=(Object.keys(Ui).forEach(function(e){Ui[e].getterName=e+"Tracks",Ui[e].privateName=e+"Tracks_"}),{remoteText:{ListClass:i,TrackClass:Mi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:w,TrackClass:a,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),$i=Q({},Ui,Vi),_=(Vi.names=Object.keys(Vi),Ui.names=Object.keys(Ui),$i.names=[].concat(Vi.names).concat(Ui.names),void 0!==e?e:"undefined"!=typeof window?window:{}),zi="undefined"!=typeof document?document:(zi=_["__GLOBAL_DOCUMENT_CACHE@4"])||(_["__GLOBAL_DOCUMENT_CACHE@4"]={}),Wi=(S=zi,Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Hi.prototype=e,new Hi});function Hi(){}function qi(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Gi(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}return(e=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/))?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function Yi(){this.values=Wi(null)}function Qi(e,t,i,n){var o,s,a=n?e.split(n):[e];for(o in a)"string"==typeof a[o]&&2===(s=a[o].split(i)).length&&t(s[0].trim(),s[1].trim())}((qi.prototype=Wi(Error.prototype)).constructor=qi).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Yi.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var Ki=S.createElement&&S.createElement("textarea"),Xi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Zi={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Ji={v:"title",lang:"lang"},en={rt:"ruby"};function tn(e,t){for(var i,n,o,s,a,r,l,c=e.document.createElement("div"),u=c,d=[];null!==(l=void 0,l=t?(l=(l=t.match(/^([^<]*)(<[^>]*>?)?/))[1]||l[2],t=t.substr(l.length),l):null);)"<"!==l[0]?u.appendChild(e.document.createTextNode((o=l,Ki.innerHTML=o,o=Ki.textContent,Ki.textContent="",o))):"/"!==l[1]?(o=Gi(l.substr(1,l.length-2)))?(i=e.document.createProcessingInstruction("timestamp",o),u.appendChild(i)):(n=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(s=n[1],a=n[3],r=void 0,r=Xi[s],i=r?(r=e.document.createElement(r),(s=Ji[s])&&a&&(r[s]=a.trim()),r):null)&&(s=u,en[(a=i).localName]&&en[a.localName]!==s.localName||(n[2]&&((o=n[2].split(".")).forEach(function(e){var t=/^bg_/.test(e);e=t?e.slice(3):e,Zi.hasOwnProperty(e)&&(e=Zi[e],i.style[t?"background-color":"color"]=e)}),i.className=o.join(" ")),d.push(n[1]),u.appendChild(i),u=i)):d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);return c}var nn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function on(e){var t=[],i="";if(e&&e.childNodes)for(s(t,e);i=function e(t){var i,n,o;return t&&t.length?(n=(i=t.pop()).textContent||i.innerText)?(o=n.match(/^.*(\n|\r)/))?o[t.length=0]:n:"ruby"===i.tagName?e(t):i.childNodes?(s(t,i),e(t)):void 0:null}(t);)for(var n=0;n<i.length;n++)if((e=>{for(var t=0;t<nn.length;t++){var i=nn[t];if(e>=i[0]&&e<=i[1])return 1}})(i.charCodeAt(n)))return"rtl";return"ltr";function s(e,t){for(var i=t.childNodes.length-1;0<=i;i--)e.push(t.childNodes[i])}}function sn(){}function an(e,t,i){sn.call(this),this.cue=t,this.cueDiv=tn(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"},o=(this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:on(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":o=t.position;break;case"center":o=t.position-t.size/2;break;case"end":o=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function rn(e){var t,i,n,o;e.div&&(t=e.div.offsetHeight,i=e.div.offsetWidth,n=e.div.offsetTop,o=(o=(o=e.div.childNodes)&&o[0])&&o.getClientRects&&o.getClientRects(),e=e.div.getBoundingClientRect(),o=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0),this.left=e.left,this.right=e.right,this.top=e.top||n,this.height=e.height||t,this.bottom=e.bottom||n+(e.height||t),this.width=e.width||i,this.lineHeight=void 0!==o?o:e.lineHeight}function ln(e,t,r,l){var i,n=new rn(t),o=t.cue,s=(()=>{if("number"==typeof o.line&&(o.snapToLines||0<=o.line&&o.line<=100))return o.line;if(!o.track||!o.track.textTrackList||!o.track.textTrackList.mediaElement)return-1;for(var e=o.track,t=e.textTrackList,i=0,n=0;n<t.length&&t[n]!==e;n++)"showing"===t[n].mode&&i++;return-1*++i})(),a=[];if(o.snapToLines){switch(o.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}var c=n.lineHeight,u=c*Math.round(s),d=r[i]+c,h=a[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),s<0&&(u+=""===o.vertical?r.height:r.width,a=a.reverse()),n.move(h,u)}else{var p=n.lineHeight/r.height*100;switch(o.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],n=new rn(t)}n=((e,t)=>{for(var i,n=new rn(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(l);)e.move(t[s]);if(e.within(r))return e;var a=e.intersectPercentage(r);a<o&&(i=new rn(e),o=a),e=new rn(n)}return i||n})(n,a),t.move(n.toCSSCompatValues(r))}function cn(){}sn.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},sn.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(an.prototype=Wi(sn.prototype)).constructor=an,rn.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},rn.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},rn.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},rn.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},rn.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},rn.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},rn.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},rn.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},cn.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},cn.convertCueToDOMTree=function(e,t){return e&&t?tn(e,t):null},cn.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),(e=>{for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1})(t))for(var o,s,a=[],r=rn.getSimpleBoxPosition(n),l={font:Math.round(.05*r.height*100)/100+"px sans-serif"},c=0;c<t.length;c++)o=new an(e,s=t[c],l),n.appendChild(o.div),ln(0,o,r,a),s.displayState=o.div,a.push(rn.getSimpleBoxPosition(o));else for(var u=0;u<t.length;u++)n.appendChild(t[u].displayState)},(cn.Parser=function(e,t,i){i||(i=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof qi))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function i(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var o,s=(o=i()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new qi(qi.Errors.BadSignature);n.state="HEADER"}for(var a=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:o=i(),n.state){case"HEADER":/:/.test(o)?(t=o).match(/X-TIMESTAMP-MAP/)?Qi(t,function(e,t){var i;"X-TIMESTAMP-MAP"===e&&(i=new Yi,Qi(t,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",Gi(t))}},/[^\d]:/,/,/),n.ontimestampmap)&&n.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})},/=/):Qi(t,function(e,t){var o;"Region"===e&&(o=new Yi,Qi(t,function(e,t){switch(e){case"id":o.set(e,t);break;case"width":o.percent(e,t);break;case"lines":o.integer(e,t);break;case"regionanchor":case"viewportanchor":var i,n=t.split(",");2===n.length&&((i=new Yi).percent("x",n[0]),i.percent("y",n[1]),i.has("x")&&i.has("y"))&&(o.set(e+"X",i.get("x")),o.set(e+"Y",i.get("y")));break;case"scroll":o.alt(e,t,["up"])}},/=/,/\s/),o.has("id"))&&((t=new(n.vttjs.VTTRegion||n.window.VTTRegion)).width=o.get("width",100),t.lines=o.get("lines",3),t.regionAnchorX=o.get("regionanchorX",0),t.regionAnchorY=o.get("regionanchorY",100),t.viewportAnchorX=o.get("viewportanchorX",0),t.viewportAnchorY=o.get("viewportanchorY",100),t.scroll=o.get("scroll",""),n.onregion&&n.onregion(t),n.regionList.push({id:o.get("id"),region:t}))},/:/):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(e){n.cue.align="middle"}if(n.state="CUE",-1===o.indexOf("--\x3e")){n.cue.id=o;continue}case"CUE":try{((t,e,s)=>{var i=t;function n(){var e=Gi(t);if(null===e)throw new qi(qi.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=n(),o(),"--\x3e"!==t.substr(0,3))throw new qi(qi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=n(),o();var a=t,r=new Yi;Qi(a,function(e,t){switch(e){case"region":for(var i=s.length-1;0<=i;i--)if(s[i].id===t){r.set(e,s[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),o=n[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===n.length&&r.alt("lineAlign",n[1],["start","center","end"]);break;case"position":n=t.split(","),r.percent(e,n[0]),2===n.length&&r.alt("positionAlign",n[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");try{e.line=r.get("line","auto")}catch(a){}e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100);try{e.align=r.get("align","center")}catch(a){e.align=r.get("align","middle")}try{e.position=r.get("position","auto")}catch(a){e.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)})(o,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var r=-1!==o.indexOf("--\x3e");if(!o||r&&(a=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=o.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":o||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new qi(qi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var un=cn,dn={"":1,lr:1,rl:1},hn={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function pn(e){return"string"==typeof e&&!!hn[e.toLowerCase()]&&e.toLowerCase()}function fn(e,t,i){this.hasBeenReset=!1;var n="",o=!1,s=e,a=t,r=i,l=null,c="",u=!0,d="auto",h="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return r},set:function(e){r=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){if(!1===(e="string"==typeof e&&!!dn[e.toLowerCase()]&&e.toLowerCase()))throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(e){u=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){(e=pn(e))&&(h=e,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){(e=pn(e))&&(f=e,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){if(!(e=pn(e)))throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=e,this.hasBeenReset=!0}}}),this.displayState=void 0}fn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var mn=fn,gn={"":!0,up:!0};function yn(e){return"number"==typeof e&&0<=e&&e<=100}function vn(){var t=100,i=3,n=0,o=100,s=0,a=100,r="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!yn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!yn(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!yn(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!yn(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!yn(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return r},set:function(e){!1!==(e="string"==typeof e&&!!gn[e.toLowerCase()]&&e.toLowerCase())&&(r=e)}}})}var bn,wn=G(function(e){e=e.exports={WebVTT:un,VTTCue:mn,VTTRegion:vn},pi.vttjs=e,pi.WebVTT=e.WebVTT;var t=e.VTTCue,i=e.VTTRegion,n=pi.VTTCue,o=pi.VTTRegion;e.shim=function(){pi.VTTCue=t,pi.VTTRegion=i},e.restore=function(){pi.VTTCue=n,pi.VTTRegion=o},pi.VTTCue||e.shim()}),C=(wn.WebVTT,y(k,bn=c),(O=k.prototype).triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},O.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},O.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},O.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(l(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},O.onDurationChange=function(e){this.duration_=this.duration()},O.buffered=function(){return Bt(0,0)},O.bufferedPercent=function(){return Ft(this.buffered(),this.duration_)},O.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},O.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},O.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},O.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},O.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},O.dispose=function(){this.clearTracks(Ui.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),bn.prototype.dispose.call(this)},O.clearTracks=function(e){var o=this;(e=[].concat(e)).forEach(function(e){for(var t=o[e+"Tracks"]()||[],i=t.length;i--;){var n=t[i];"text"===e&&o.removeRemoteTextTrack(n),t.removeTrack(n)}})},O.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},O.reset=function(){},O.crossOrigin=function(){},O.setCrossOrigin=function(){},O.error=function(e){return void 0!==e&&(this.error_=new Rt(e),this.trigger("error")),this.error_},O.played=function(){return this.hasStarted_?Bt(0,0):Bt()},O.play=function(){},O.setScrubbing=function(){},O.scrubbing=function(){},O.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},O.initTrackListeners=function(){var o=this;Ui.names.forEach(function(e){function t(){o.trigger(e+"trackchange")}var i=Ui[e],n=o[i.getterName]();n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),o.on("dispose",function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})})},O.addWebVttScript_=function(){var e,t=this;window.WebVTT||(document.body.contains(this.el())?!this.options_["vtt.js"]&&J(wn)&&0<Object.keys(wn).length?this.trigger("vttjsloaded"):((e=document.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(e)):this.ready(this.addWebVttScript_))},O.emulateTextTracks=function(){function t(e){return n.addTrack(e.track)}function i(e){return n.removeTrack(e.track)}var e=this,n=this.textTracks(),o=this.remoteTextTracks();function s(){return e.trigger("texttrackchange")}function a(){s();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",s),"showing"===t.mode&&t.addEventListener("cuechange",s)}}o.on("addtrack",t),o.on("removetrack",i),this.addWebVttScript_(),a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){o.off("addtrack",t),o.off("removetrack",i),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",s)})},O.addTextTrack=function(e,t,i){if(e)return e=e,t=t,i=i,void 0===o&&(o={}),s=(n=this).textTracks(),o.kind=e,t&&(o.label=t),i&&(o.language=i),o.tech=n,o=new $i.text.TrackClass(o),s.addTrack(o),o;throw new Error("TextTrack kind is required but was not provided");var n,o,s},O.createRemoteTextTrack=function(e){return e=f(e,{tech:this}),new Vi.remoteTextEl.TrackClass(e)},O.addRemoteTextTrack=function(e,t){var i=this,n=this.createRemoteTextTrack(e=void 0===e?{}:e);return!0!==t&&!1!==t&&(u.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},O.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},O.getVideoPlaybackQuality=function(){return{}},O.requestPictureInPicture=function(){var e=this.options_.Promise||window.Promise;if(e)return e.reject()},O.disablePictureInPicture=function(){return!0},O.setDisablePictureInPicture=function(){},O.requestVideoFrameCallback=function(e){var t=this,i=Je++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",function(){t.queuedHanders_.has(i)&&(t.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i},O.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},O.setPoster=function(){},O.playsinline=function(){},O.setPlaysinline=function(){},O.overrideNativeAudioTracks=function(){},O.overrideNativeVideoTracks=function(){},O.canPlayType=function(){return""},k.canPlayType=function(){return""},k.canPlaySource=function(e,t){return k.canPlayType(e.type)},k.isTech=function(e){return e.prototype instanceof k||e instanceof k||e===k},k.registerTech=function(e,t){if(k.techs_||(k.techs_={}),!k.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!k.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(k.canPlaySource)return e=p(e),k.techs_[e]=t,k.techs_[Pt(e)]=t,"Tech"!==e&&k.defaultTechOrder_.push(e),t;throw new Error("Techs must have a static canPlaySource method on them")},k.getTech=function(e){if(e)return k.techs_&&k.techs_[e]?k.techs_[e]:(e=p(e),window&&window.videojs&&window.videojs[e]?(u.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window.videojs[e]):void 0)},k);function k(t,e){var i;return void 0===e&&(e=function(){}),(t=void 0===t?{}:t).reportTouchActivity=!1,(i=bn.call(this,null,t,e)||this).onDurationChange_=function(e){return i.onDurationChange(e)},i.trackProgress_=function(e){return i.trackProgress(e)},i.trackCurrentTime_=function(e){return i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=function(e){return i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=function(e){return i.disposeSourceHandler(e)},i.queuedHanders_=new Set,i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),$i.names.forEach(function(e){e=$i[e],t&&t[e.getterName]&&(i[e.privateName]=t[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new $i.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}$i.names.forEach(function(e){var t=$i[e];C.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),C.prototype.featuresVolumeControl=!0,C.prototype.featuresMuteControl=!0,C.prototype.featuresFullscreenResize=!1,C.prototype.featuresPlaybackRate=!1,C.prototype.featuresProgressEvents=!1,C.prototype.featuresSourceset=!1,C.prototype.featuresTimeupdateEvents=!1,C.prototype.featuresNativeTextTracks=!1,C.prototype.featuresVideoFrameCallback=!1,C.withSourceHandlers=function(o){o.registerSourceHandler=function(e,t){var i=(i=o.sourceHandlers)||(o.sourceHandlers=[]);void 0===t&&(t=i.length),i.splice(t,0,e)},o.canPlayType=function(e){for(var t,i=o.sourceHandlers||[],n=0;n<i.length;n++)if(t=i[n].canPlayType(e))return t;return""},o.selectSourceHandler=function(e,t){for(var i=o.sourceHandlers||[],n=0;n<i.length;n++)if(i[n].canHandleSource(e,t))return i[n];return null},o.canPlaySource=function(e,t){var i=o.selectSourceHandler(e,t);return i?i.canHandleSource(e,t):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},o.prototype),o.prototype.setSource=function(e){var t=o.selectSourceHandler(e,this.options_);t||(o.nativeSourceHandler?t=o.nativeSourceHandler:u.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),t!==o.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},o.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},c.registerComponent("Tech",C),C.registerTech("Tech",C),C.defaultTechOrder_=[];var Sn={},_n={},Cn={};function kn(e,t,i){e.setTimeout(function(){return function i(n,e,o,s,a,r){void 0===n&&(n={}),void 0===a&&(a=[]),void 0===r&&(r=!1);var t=e=void 0===e?[]:e,l=(e=t[0],t.slice(1));if("string"==typeof e)i(n,Sn[e],o,s,a,r);else if(e){var c=((e,t)=>{var i=_n[e.id()],n=null;if(null==i)n=t(e),_n[e.id()]=[[t,n]];else{for(var o=0;o<i.length;o++){var s=i[o],a=s[0];s=s[1],a===t&&(n=s)}null===n&&(n=t(e),i.push([t,n]))}return n})(s,e);if(!c.setSource)return a.push(c),i(n,l,o,s,a,r);c.setSource(d({},n),function(e,t){return e?i(n,l,o,s,a,r):(a.push(c),void i(t,n.type===t.type?l:Sn[t.type],o,s,a,r))})}else l.length?i(n,l,o,s,a,r):r?o(n,a):i(n,Sn["*"],o,s,a,!0)}(t,Sn[t.type],i,e)},1)}function xn(e,t,i,n){void 0===n&&(n=null);for(var o="call"+p(i),s=(o=(n=(o=e.reduce(An(o),n))===Cn)?null:t[i](o),e),a=i,r=o,l=n,c=s.length-1;0<=c;c--){var u=s[c];u[a]&&u[a](l,r)}return o}var Tn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},In={setCurrentTime:1,setMuted:1,setVolume:1},Pn={play:1,pause:1};function An(i){return function(e,t){return e===Cn?Cn:t[i]?t[i](e):e}}function Dn(e){return e=ti(e=void 0===e?"":e),Nn[e.toLowerCase()]||""}var En,On,Ln,Nn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};function Mn(e){var t;return e.type||(t=Dn(e.src))&&(e.type=t),e}function Bn(e,t){var i=En.call(this,e,t)||this;return i.update(),i.update_=function(e){return i.update(e)},e.on("posterchange",i.update_),i}function Fn(e,t){var i=On.call(this,e,t)||this;return i.options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(e){return i.handleMouseOver(e)},i.handleMouseOut_=function(e){return i.handleMouseOut(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}function Rn(e,t,i){var n=f({createEl:!1},t);if(i=Ln.call(this,e,n,i)||this,t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var o=0,s=t.playerOptions.techOrder;o<s.length;o++){var a=p(s[o]),r=C.getTech(a);if((r=a?r:c.getComponent(a))&&r.isSupported()){e.loadTech_(a);break}}return i}y(Rn,Ln=c),c.registerComponent("MediaLoader",o=Rn),y(Fn,On=c),(O=Fn.prototype).createEl=function(e,t,i){return void 0===e&&(e="div"),void 0===t&&(t={}),void 0===i&&(i={}),t=d({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&u.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=d({role:"button"},i),this.tabIndex_=t.tabIndex,(i=h(e,t,i)).appendChild(h("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},O.dispose=function(){this.controlTextEl_=null,On.prototype.dispose.call(this)},O.createControlTextEl=function(e){return this.controlTextEl_=h("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},O.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,Se(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",i)},O.buildCSSClass=function(){return"vjs-control vjs-button "+On.prototype.buildCSSClass.call(this)},O.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},O.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},O.handleLanguagechange=function(){this.controlText(this.controlText_)},O.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},O.handleKeyDown=function(e){r.isEventKey(e,"Space")||r.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):On.prototype.handleKeyDown.call(this,e)},n=Fn,c.registerComponent("ClickableComponent",n),c.registerComponent("PosterImage",(y(Bn,En=n),(O=Bn.prototype).dispose=function(){this.player().off("posterchange",this.update_),En.prototype.dispose.call(this)},O.createEl=function(){return h("div",{className:"vjs-poster",tabIndex:-1})},O.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},O.setSrc=function(e){this.el_.style.backgroundImage=e?'url("'+e+'")':""},O.handleClick=function(e){var t;this.player_.controls()&&(t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||(le||se)&&t||this.player_.tech(!0).focus(),this.player_.paused()?Vt(this.player_.play()):this.player_.pause())},Bn));var jn,Un,Vn="#222",$n={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function zn(e,t){var i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function Wn(e,t,i){try{e.style[t]=i}catch(e){}}function Hn(){return jn.apply(this,arguments)||this}function qn(i,e,t){function n(e){return o.updateDisplay(e)}var o=Un.call(this,i,e,t)||this;return i.on("loadstart",function(e){return o.toggleDisplay(e)}),i.on("texttrackchange",n),i.on("loadedmetadata",function(e){return o.preselectTrack(e)}),i.ready(l(g(o),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",n),i.on("playerresize",n),window.addEventListener("orientationchange",n),i.on("dispose",function(){return window.removeEventListener("orientationchange",n)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),o}c.registerComponent("TextTrackDisplay",(y(qn,Un=c),(O=qn.prototype).preselectTrack=function(){for(var e,t,i,n={captions:1,subtitles:1},o=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<o.length;a++){var r=o[a];s&&s.enabled&&s.language&&s.language===r.language&&r.kind in n?i=r.kind!==s.kind&&i||r:s&&!s.enabled?t=e=i=null:r.default&&("descriptions"!==r.kind||e?r.kind in n&&!t&&(t=r):e=r)}i?i.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},O.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},O.createEl=function(){return Un.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},O.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)},O.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],n=0;n<e.length;++n){var o=e[n];"showing"===o.mode&&i.push(o)}this.updateForTrack(i)}else{for(var s=null,a=null,r=e.length;r--;){var l=e[r];"showing"===l.mode&&("descriptions"===l.kind?s=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},O.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;n--;){var o,s=i[n];s&&(o=s.displayState,t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&Wn(o.firstChild,"color",zn(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Wn(o.firstChild,"backgroundColor",zn(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Wn(o,"backgroundColor",zn(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Vn:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Vn:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Vn:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Vn)),t.fontPercent&&1!==t.fontPercent&&(s=window.parseFloat(o.style.fontSize),o.style.fontSize=s*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"),t.fontFamily)&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=$n[t.fontFamily])}},O.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof window.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],i=0;i<e.length;++i)for(var n=e[i],o=0;o<n.activeCues.length;++o)t.push(n.activeCues[o]);window.WebVTT.processCues(window,t,this.el_);for(var s=0;s<e.length;++s){for(var a=e[s],r=0;r<a.activeCues.length;++r){var l=a.activeCues[r].displayState;ke(l,"vjs-text-track-cue"),ke(l,"vjs-text-track-cue-"+(a.language||s)),a.language&&De(l,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},qn)),c.registerComponent("LoadingSpinner",(y(Hn,jn=c),Hn.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),e=h("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])});return(t=jn.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})).appendChild(e),t},Hn));y(Zn,Gn=n),(O=Zn.prototype).createEl=function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(i=h("button",t=d({className:this.buildCSSClass()},t),i=d({type:"button"},i))).appendChild(h("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},O.addChild=function(e,t){void 0===t&&(t={});var i=this.constructor.name;return u.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),c.prototype.addChild.call(this,e,t)},O.enable=function(){Gn.prototype.enable.call(this),this.el_.removeAttribute("disabled")},O.disable=function(){Gn.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},O.handleKeyDown=function(e){r.isEventKey(e,"Space")||r.isEventKey(e,"Enter")?e.stopPropagation():Gn.prototype.handleKeyDown.call(this,e)};var Gn,Yn,Qn,Kn,Xn=Zn;function Zn(){return Gn.apply(this,arguments)||this}function Jn(e,t){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),o=Math.floor(e/3600),s=Math.floor(t/60%60);return t=Math.floor(t/3600),(o=0<(o=isNaN(e)||e===1/0?n=i="-":o)||0<t?o+":":"")+(n=((o||10<=s)&&n<10?"0"+n:n)+":")+(i<10?"0"+i:i)}function eo(e,t){var i=Yn.call(this,e,t=void 0===t?{}:t)||this;return t.replay=void 0===t.replay||t.replay,i.on(e,"play",function(e){return i.handlePlay(e)}),i.on(e,"pause",function(e){return i.handlePause(e)}),t.replay&&i.on(e,"ended",function(e){return i.handleEnded(e)}),i}function to(e,t){return(e=Qn.call(this,e,t)||this).controlText(t&&t.controlText||e.localize("Close")),e}function io(e,t){var i=Kn.call(this,e,t)||this;return i.mouseused_=!1,i.on("mousedown",function(e){return i.handleMouseDown(e)}),i}c.registerComponent("Button",Xn),y(io,Kn=Xn),(O=io.prototype).buildCSSClass=function(){return"vjs-big-play-button"},O.handleClick=function(e){var t,i,n=this.player_.play();this.mouseused_&&e.clientX&&e.clientY?(t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,Vt(n),!this.player_.tech(!0)||(le||se)&&t||this.player_.tech(!0).focus()):(i=(t=this.player_.getChild("controlBar"))&&t.getChild("playToggle"))?(t=function(){return i.focus()},Ut(n)?n.then(t,function(){}):this.setTimeout(t,1)):this.player_.tech(!0).focus()},O.handleKeyDown=function(e){this.mouseused_=!1,Kn.prototype.handleKeyDown.call(this,e)},O.handleMouseDown=function(e){this.mouseused_=!0},(v=io).prototype.controlText_="Play Video",c.registerComponent("BigPlayButton",v),c.registerComponent("CloseButton",(y(to,Qn=Xn),(O=to.prototype).buildCSSClass=function(){return"vjs-close-button "+Qn.prototype.buildCSSClass.call(this)},O.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},O.handleKeyDown=function(e){r.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):Qn.prototype.handleKeyDown.call(this,e)},to)),y(eo,Yn=Xn),(O=eo.prototype).buildCSSClass=function(){return"vjs-play-control "+Yn.prototype.buildCSSClass.call(this)},O.handleClick=function(e){this.player_.paused()?Vt(this.player_.play()):this.player_.pause()},O.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},O.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},O.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},O.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(e){return t.handleSeeked(e)})},(b=eo).prototype.controlText_="Play",c.registerComponent("PlayToggle",b);var no,oo,so,ao,ro,lo,co,uo,ho,po,fo,mo,go,yo,vo,bo,wo,So,_o,Co,ko,xo,To,Io=Jn;function Po(e,t){return Io(e,t=void 0===t?e:t)}function Ao(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}function Do(e,t){return Ao(e/t*100,0,100).toFixed(2)+"%"}function Eo(e,t){var i;return void 0!==(t=void 0===t?{}:t).inline?t.inline=t.inline:t.inline=!0,void 0!==t.volumeControl&&!J(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(i=no.call(this,e,t)||this).handleKeyPressHandler_=function(e){return i.handleKeyPress(e)},i.on(e,["loadstart"],function(e){return i.volumePanelState_(e)}),i.on(i.muteToggle,"keyup",function(e){return i.handleKeyPress(e)}),i.on(i.volumeControl,"keyup",function(e){return i.handleVolumeControlKeyUp(e)}),i.on("keydown",function(e){return i.handleKeyPress(e)}),i.on("mouseover",function(e){return i.handleMouseOver(e)}),i.on("mouseout",function(e){return i.handleMouseOut(e)}),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}function Oo(e,t){var i,n=oo.call(this,e,t)||this,o=g(n);return(i=e).tech_&&!i.tech_.featuresMuteControl&&o.addClass("vjs-hidden"),o.on(i,"loadstart",function(){i.tech_.featuresMuteControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")}),n.on(e,["loadstart","volumechange"],function(e){return n.update(e)}),n}function Lo(e,t){var i,n,o;return(t=void 0===t?{}:t).vertical=t.vertical||!1,void 0!==t.volumeBar&&!J(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),i=so.call(this,e,t)||this,n=g(i),(o=e).tech_&&!o.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(o,"loadstart",function(){o.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")}),i.throttledHandleMouseMove=ht(l(g(i),i.handleMouseMove),30),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.on("mousedown",function(e){return i.handleMouseDown(e)}),i.on("touchstart",function(e){return i.handleMouseDown(e)}),i.on("mousemove",function(e){return i.handleMouseMove(e)}),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}function No(e,t){var i=ao.call(this,e,t)||this;return i.on("slideractive",function(e){return i.updateLastVolume_(e)}),i.on(e,"volumechange",function(e){return i.updateARIAAttributes(e)}),e.ready(function(){return i.updateARIAAttributes()}),i}function Mo(e,t){return(t=ro.call(this,e,t)||this).update=ht(l(g(t),t.update),30),t}function Bo(e,t){return(t=lo.call(this,e,t)||this).update=ht(l(g(t),t.update),30),t}function Fo(){return co.apply(this,arguments)||this}function Ro(e,t){var i=uo.call(this,e,t)||this;return i.on(e,"fullscreenchange",function(e){return i.handleFullscreenChange(e)}),!1===document[e.fsApi_.fullscreenEnabled]&&i.disable(),i}function jo(e,t){var i=ho.call(this,e,t)||this;return i.on(e,["enterpictureinpicture","leavepictureinpicture"],function(e){return i.handlePictureInPictureChange(e)}),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],function(e){return i.handlePictureInPictureEnabledChange(e)}),i.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),i.hide()):i.show()}),i.disable(),i}function Uo(e,t){var i=po.call(this,e,t)||this;return i.handleMouseMove=ht(l(g(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=ht(l(g(i),i.handleMouseSeek),30),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.handleMouseDownHandler_=function(e){return i.handleMouseDown(e)},i.enable(),i}function Vo(e,t){return(t=fo.call(this,e,t)||this).setEventHandlers_(),t}function $o(e,t){return(t=mo.call(this,e,t)||this).update=ht(l(g(t),t.update),30),t}function zo(e,t){return(t=go.call(this,e,t)||this).update=ht(l(g(t),t.update),30),t}function Wo(e,t){return(t=yo.call(this,e,t)||this).update=ht(l(g(t),t.update),30),t}function Ho(e,t){var i=vo.call(this,e,t)||this;return i.partEls_=[],i.on(e,"progress",function(e){return i.update(e)}),i}function qo(e,t){var i=bo.call(this,e,t)||this;return i.handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}function Go(e,t){var i=wo.call(this,e,t)||this;return i.updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(e){return i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}function Yo(e,t){var i=So.call(this,e,t)||this;return i.updateShowing(),i.on(i.player(),"durationchange",function(e){return i.updateShowing(e)}),i}function Qo(e,t){var i=_o.call(this,e,t)||this;return i.on(e,"durationchange",function(e){return i.updateContent(e)}),i}function Ko(){return Co.apply(this,arguments)||this}function Xo(e,t){var i=ko.call(this,e,t)||this;return i.on(e,"durationchange",t=function(e){return i.updateContent(e)}),i.on(e,"loadstart",t),i.on(e,"loadedmetadata",t),i}function Zo(){return xo.apply(this,arguments)||this}function Jo(e,t){var i=To.call(this,e,t)||this;return i.on(e,["timeupdate","ended"],function(e){return i.updateContent(e)}),i.updateTextNode_(),i}y(Jo,To=c),(O=Jo.prototype).createEl=function(){var e=this.buildCSSClass(),t=To.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),i=h("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return t.appendChild(i),this.contentEl_=h("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},O.dispose=function(){this.contentEl_=null,this.textNode_=null,To.prototype.dispose.call(this)},O.updateTextNode_=function(e){var t=this;e=Po(e=void 0===e?0:e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){var e;t.contentEl_&&((e=t.textNode_)&&t.contentEl_.firstChild!==e&&(e=null,u.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=document.createTextNode(t.formattedTime_),t.textNode_)&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}))},O.updateContent=function(e){},(i=Jo).prototype.labelText_="Time",i.prototype.controlText_="Time",c.registerComponent("TimeDisplay",i),y(Zo,xo=i),(O=Zo.prototype).buildCSSClass=function(){return"vjs-current-time"},O.updateContent=function(e){var t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(t)},(w=Zo).prototype.labelText_="Current Time",w.prototype.controlText_="Current Time",c.registerComponent("CurrentTimeDisplay",w),y(Xo,ko=i),(O=Xo.prototype).buildCSSClass=function(){return"vjs-duration"},O.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},(a=Xo).prototype.labelText_="Duration",a.prototype.controlText_="Duration",c.registerComponent("DurationDisplay",a),c.registerComponent("TimeDivider",(y(Ko,Co=c),Ko.prototype.createEl=function(){var e=Co.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=Co.prototype.createEl.call(this,"div"),i=Co.prototype.createEl.call(this,"span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e},Ko)),y(Qo,_o=i),(O=Qo.prototype).buildCSSClass=function(){return"vjs-remaining-time"},O.createEl=function(){var e=_o.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(h("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},O.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},(e=Qo).prototype.labelText_="Remaining Time",e.prototype.controlText_="Remaining Time",c.registerComponent("RemainingTimeDisplay",e),c.registerComponent("LiveDisplay",(y(Yo,So=c),(O=Yo.prototype).createEl=function(){var e=So.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(h("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},O.dispose=function(){this.contentEl_=null,So.prototype.dispose.call(this)},O.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},Yo)),y(Go,wo=Xn),(O=Go.prototype).createEl=function(){var e=wo.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=h("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},O.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},O.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},O.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,wo.prototype.dispose.call(this)},(_=Go).prototype.controlText_="Seek to live, currently playing live",c.registerComponent("SeekToLive",_),y(qo,bo=c),(O=qo.prototype).enabled=function(){return this.enabled_},O.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},O.disable=function(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},O.createEl=function(e,t,i){return void 0===i&&(i={}),(t=void 0===t?{}:t).className=t.className+" vjs-slider",t=d({tabIndex:0},t),i=d({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),bo.prototype.createEl.call(this,e,t,i)},O.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ae||e.preventDefault(),Oe(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},O.handleMouseMove=function(e){},O.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Le(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},O.update=function(){var t,i=this;if(this.el_&&this.bar)return(t=this.getProgress())!==this.progress_&&(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",function(){var e=i.vertical()?"height":"width";i.bar.el().style[e]=(100*t).toFixed(2)+"%"})),t},O.getProgress=function(){return Number(Ao(this.getPercent(),0,1).toFixed(4))},O.calculateDistance=function(e){return e=Be(this.el_,e),this.vertical()?e.y:e.x},O.handleKeyDown=function(e){r.isEventKey(e,"Left")||r.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):r.isEventKey(e,"Right")||r.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):bo.prototype.handleKeyDown.call(this,e)},O.handleClick=function(e){e.stopPropagation(),e.preventDefault()},O.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},zi=qo,c.registerComponent("Slider",zi),c.registerComponent("LoadProgressBar",(y(Ho,vo=c),(O=Ho.prototype).createEl=function(){var e=vo.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=h("span",{className:"vjs-control-text"}),i=h("span",{textContent:this.localize("Loaded")}),n=document.createTextNode(": ");return this.percentageEl_=h("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(this.percentageEl_),e},O.dispose=function(){this.partEls_=null,this.percentageEl_=null,vo.prototype.dispose.call(this)},O.update=function(e){var c=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var e=c.player_.liveTracker,t=c.player_.buffered(),i=(e=e&&e.isLive()?e.seekableEnd():c.player_.duration(),c.player_.bufferedEnd()),n=c.partEls_,e=Do(i,e);c.percent_!==e&&(c.el_.style.width=e,Se(c.percentageEl_,e),c.percent_=e);for(var o=0;o<t.length;o++){var s=t.start(o),a=t.end(o),r=n[o];r||(r=c.el_.appendChild(h()),n[o]=r),r.dataset.start===s&&r.dataset.end===a||(r.dataset.start=s,r.dataset.end=a,r.style.left=Do(s,i),r.style.width=Do(a-s,i))}for(var l=n.length;l>t.length;l--)c.el_.removeChild(n[l-1]);n.length=t.length})},Ho)),c.registerComponent("TimeTooltip",(y(Wo,yo=c),(O=Wo.prototype).createEl=function(){return yo.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},O.update=function(e,t,i){var n=Me(this.el_),o=Ne(this.player_.el()),s=e.width*t;o&&n&&(t=e.left-o.left+s,o=e.width-s+(o.right-e.right),t<(e=n.width/2)?e+=e-t:o<e&&(e=o),e<0?e=0:e>n.width&&(e=n.width),e=Math.round(e),this.el_.style.right="-"+e+"px",this.write(i))},O.write=function(e){Se(this.el_,e)},O.updateTime=function(n,o,s,a){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var e,t,i=r.player_.duration(),i=r.player_.liveTracker&&r.player_.liveTracker.isLive()?((t=(e=r.player_.liveTracker.liveWindow())-o*e)<1?"":"-")+Po(t,e):Po(s,i);r.update(n,o,i),a&&a()})},Wo)),y(zo,go=c),(O=zo.prototype).createEl=function(){return go.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},O.update=function(e,t){var i,n=this.getChild("timeTooltip");n&&(i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n.updateTime(e,t,i))},(S=zo).prototype.options_={children:[]},pe||te||S.prototype.options_.children.push("timeTooltip"),c.registerComponent("PlayProgressBar",S),y($o,mo=c),(O=$o.prototype).createEl=function(){return mo.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},O.update=function(e,t){var i=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,function(){i.el_.style.left=e.width*t+"px"})},(o=$o).prototype.options_={children:["timeTooltip"]},c.registerComponent("MouseTimeDisplay",o),y(Vo,fo=zi),(O=Vo.prototype).setEventHandlers_=function(){var t=this;this.update_=l(this,this.update),this.update=ht(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(e){return t.enableInterval_(e)},this.disableIntervalHandler_=function(e){return t.disableInterval_(e)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)},O.toggleVisibility_=function(e){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},O.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},O.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},O.createEl=function(){return fo.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},O.update=function(e){var n,o=this;if("hidden"!==document.visibilityState)return n=fo.prototype.update.call(this),this.requestNamedAnimationFrame("SeekBar#update",function(){var e=o.player_.ended()?o.player_.duration():o.getCurrentTime_(),t=o.player_.liveTracker,i=o.player_.duration();t&&t.isLive()&&(i=o.player_.liveTracker.liveCurrentTime()),o.percent_!==n&&(o.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),o.percent_=n),o.currentTime_===e&&o.duration_===i||(o.el_.setAttribute("aria-valuetext",o.localize("progress bar timing: currentTime={1} duration={2}",[Po(e,i),Po(i,i)],"{1} of {2}")),o.currentTime_=e,o.duration_=i),o.bar&&o.bar.update(Ne(o.el()),o.getProgress())}),n},O.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},O.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},O.getPercent=function(){var e,t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},O.handleMouseDown=function(e){$e(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),fo.prototype.handleMouseDown.call(this,e))},O.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),$e(e)){t||this.player_.scrubbing()||this.player_.scrubbing(!0);var i,n=this.calculateDistance(e),o=this.player_.liveTracker;if(o&&o.isLive()){if(.99<=n)return void o.seekToLiveEdge();if(t=o.seekableStart(),(i=(i=(e=o.liveCurrentTime())<=(i=t+n*o.liveWindow())?e:i)<=t?t+.1:i)===1/0)return}else(i=n*this.player_.duration())===this.player_.duration()&&(i-=.1);this.userSeek_(i)}},O.enable=function(){fo.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},O.disable=function(){fo.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},O.handleMouseUp=function(e){fo.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Vt(this.player_.play()):this.update_()},O.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},O.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},O.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},O.handleKeyDown=function(e){var t,i=this.player_.liveTracker;r.isEventKey(e,"Space")||r.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.handleAction(e)):r.isEventKey(e,"Home")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(0)):r.isEventKey(e,"End")?(e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(r(e))?(e.preventDefault(),e.stopPropagation(),t=10*(r.codes[r(e)]-r.codes[0])/100,i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*t):this.userSeek_(this.player_.duration()*t)):r.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):r.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):fo.prototype.handleKeyDown.call(this,e)},O.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),fo.prototype.dispose.call(this)},(v=Vo).prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},pe||te||v.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),c.registerComponent("SeekBar",v),y(Uo,po=c),(O=Uo.prototype).createEl=function(){return po.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},O.handleMouseMove=function(e){var t,i,n,o,s=this.getChild("seekBar");s&&(t=s.getChild("playProgressBar"),i=s.getChild("mouseTimeDisplay"),t||i)&&(o=Me(n=s.el()),e=Ao(e=Be(n,e).x,0,1),i&&i.update(o,e),t)&&t.update(o,s.getProgress())},O.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},O.enabled=function(){return this.enabled_},O.disable=function(){var e;this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())&&(e=this.getChild("seekBar"),this.player_.scrubbing(!1),e.videoWasPlaying)&&Vt(this.player_.play())},O.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},O.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},O.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},O.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},(b=Uo).prototype.options_={children:["seekBar"]},c.registerComponent("ProgressControl",b),y(jo,ho=Xn),(O=jo.prototype).buildCSSClass=function(){return"vjs-picture-in-picture-control "+ho.prototype.buildCSSClass.call(this)},O.handlePictureInPictureEnabledChange=function(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},O.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},O.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},(w=jo).prototype.controlText_="Picture-in-Picture",c.registerComponent("PictureInPictureToggle",w),y(Ro,uo=Xn),(O=Ro.prototype).buildCSSClass=function(){return"vjs-fullscreen-control "+uo.prototype.buildCSSClass.call(this)},O.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},O.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},(a=Ro).prototype.controlText_="Fullscreen",c.registerComponent("FullscreenToggle",a),c.registerComponent("VolumeLevel",(y(Fo,co=c),Fo.prototype.createEl=function(){var e=co.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(co.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},Fo)),c.registerComponent("VolumeLevelTooltip",(y(Bo,lo=c),(O=Bo.prototype).createEl=function(){return lo.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},O.update=function(e,t,i,n){if(!i){var o=Ne(this.el_),s=Ne(this.player_.el());if(i=e.width*t,!s||!o)return;t=e.left-s.left+i,s=e.width-i+(s.right-e.right),t<(e=o.width/2)?e+=e-t:s<e&&(e=s),e<0?e=0:e>o.width&&(e=o.width),this.el_.style.right="-"+e+"px"}this.write(n+"%")},O.write=function(e){Se(this.el_,e)},O.updateVolume=function(e,t,i,n,o){var s=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){s.update(e,t,i,n.toFixed(0)),o&&o()})},Bo)),y(Mo,ro=c),(O=Mo.prototype).createEl=function(){return ro.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},O.update=function(e,t,i){var n=this,o=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,o,function(){i?n.el_.style.bottom=e.height*t+"px":n.el_.style.left=e.width*t+"px"})},(i=Mo).prototype.options_={children:["volumeLevelTooltip"]},c.registerComponent("MouseVolumeLevelDisplay",i),y(No,ao=zi),(O=No.prototype).createEl=function(){return ao.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},O.handleMouseDown=function(e){$e(e)&&ao.prototype.handleMouseDown.call(this,e)},O.handleMouseMove=function(e){var t,i,n,o=this.getChild("mouseVolumeLevelDisplay");o&&(t=Ne(n=this.el()),i=this.vertical(),n=Be(n,e),n=Ao(i?n.y:n.x,0,1),o.update(t,n,i)),$e(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},O.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},O.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},O.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},O.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},O.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},O.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},O.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},(e=No).prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},pe||te||e.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),e.prototype.playerEvent="volumechange",c.registerComponent("VolumeBar",e),y(Lo,so=c),(O=Lo.prototype).createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),so.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},O.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},O.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},O.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},(_=Lo).prototype.options_={children:["volumeBar"]},c.registerComponent("VolumeControl",_),y(Oo,oo=Xn),(O=Oo.prototype).buildCSSClass=function(){return"vjs-mute-control "+oo.prototype.buildCSSClass.call(this)},O.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();0===t?(this.player_.volume(i<.1?.1:i),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},O.update=function(e){this.updateIcon_(),this.updateControlText_()},O.updateIcon_=function(){var e=this.player_.volume(),t=3;pe&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)xe(this.el_,"vjs-vol-"+i);ke(this.el_,"vjs-vol-"+t)},O.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},(S=Oo).prototype.controlText_="Mute",c.registerComponent("MuteToggle",S),y(Eo,no=c),(O=Eo.prototype).sliderActive_=function(){this.addClass("vjs-slider-active")},O.sliderInactive_=function(){this.removeClass("vjs-slider-active")},O.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},O.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),no.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},O.dispose=function(){this.handleMouseOut(),no.prototype.dispose.call(this)},O.handleVolumeControlKeyUp=function(e){r.isEventKey(e,"Esc")&&this.muteToggle.focus()},O.handleMouseOver=function(e){this.addClass("vjs-hover"),rt(document,"keyup",this.handleKeyPressHandler_)},O.handleMouseOut=function(e){this.removeClass("vjs-hover"),lt(document,"keyup",this.handleKeyPressHandler_)},O.handleKeyPress=function(e){r.isEventKey(e,"Esc")&&this.handleMouseOut()},(o=Eo).prototype.options_={children:["muteToggle","volumeControl"]},c.registerComponent("VolumePanel",o);y(os,es=c),(O=os.prototype).addEventListenerForItem=function(e){e instanceof c&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},O.removeEventListenerForItem=function(e){e instanceof c&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},O.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),es.prototype.removeChild.call(this,e)},O.addItem=function(e){(e=this.addChild(e))&&this.addEventListenerForItem(e)},O.createEl=function(){var e=this.options_.contentElType||"ul";return this.contentEl_=h(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),(e=es.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"})).appendChild(this.contentEl_),rt(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},O.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,es.prototype.dispose.call(this)},O.handleBlur=function(e){var t=e.relatedTarget||document.activeElement;this.children().some(function(e){return e.el()===t})||(e=this.menuButton_)&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()},O.handleTapClick=function(t){var e;this.menuButton_&&(this.menuButton_.unpressButton(),e=this.children(),Array.isArray(e))&&(e=e.filter(function(e){return e.el()===t.target})[0])&&"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus()},O.handleKeyDown=function(e){r.isEventKey(e,"Left")||r.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(r.isEventKey(e,"Right")||r.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},O.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},O.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},O.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())};var es,ts,is,ns=os;function os(e,t){var i=es.call(this,e,t)||this;return t&&(i.menuButton_=t.menuButton),i.focusedChild_=-1,i.on("keydown",function(e){return i.handleKeyDown(e)}),i.boundHandleBlur_=function(e){return i.handleBlur(e)},i.boundHandleTapClick_=function(e){return i.handleTapClick(e)},i}function ss(e,t){var i,n=t.tracks;return(t=ts.call(this,e,t)||this).items.length<=1&&t.hide(),n?(i=l(g(t),t.update),n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),t.player_.on("ready",i),t.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)}),t):g(t)}function as(e,t){var i;return(i=is.call(this,e,t=void 0===t?{}:t)||this).menuButton_=new Xn(e,t),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true"),t=Xn.prototype.buildCSSClass(),i.menuButton_.el_.className=i.buildCSSClass()+" "+t,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,t=function(e){return i.handleClick(e)},i.handleMenuKeyUp_=function(e){return i.handleMenuKeyUp(e)},i.on(i.menuButton_,"tap",t),i.on(i.menuButton_,"click",t),i.on(i.menuButton_,"keydown",function(e){return i.handleKeyDown(e)}),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),rt(document,"keyup",i.handleMenuKeyUp_)}),i.on("mouseleave",function(e){return i.handleMouseLeave(e)}),i.on("keydown",function(e){return i.handleSubmenuKeyDown(e)}),i}c.registerComponent("Menu",ns),y(as,is=c),(O=as.prototype).update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},O.createMenu=function(){var e,t=new ns(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=h("li",{className:"vjs-menu-title",textContent:p(this.options_.title),tabIndex:-1}),e=new c(this.player_,{el:e}),t.addItem(e)),this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},O.createItems=function(){},O.createEl=function(){return is.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},O.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+Xn.prototype.buildCSSClass()+" "+is.prototype.buildCSSClass.call(this)},O.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+is.prototype.buildCSSClass.call(this)},O.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},O.dispose=function(){this.handleMouseLeave(),is.prototype.dispose.call(this)},O.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},O.handleMouseLeave=function(e){this.removeClass("vjs-hover"),lt(document,"keyup",this.handleMenuKeyUp_)},O.focus=function(){this.menuButton_.focus()},O.blur=function(){this.menuButton_.blur()},O.handleKeyDown=function(e){r.isEventKey(e,"Esc")||r.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),r.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):!r.isEventKey(e,"Up")&&!r.isEventKey(e,"Down")||this.buttonPressed_||(e.preventDefault(),this.pressButton())},O.handleMenuKeyUp=function(e){(r.isEventKey(e,"Esc")||r.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},O.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},O.handleSubmenuKeyDown=function(e){(r.isEventKey(e,"Esc")||r.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),r.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},O.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),pe&&be()||this.menu.focus())},O.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},O.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},O.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},v=as,c.registerComponent("MenuButton",v),y(ss,ts=v),b=ss,c.registerComponent("TrackButton",b);var rs,ls=["Tab","Esc","Up","Down","Right","Left"];function cs(e,t){return(e=rs.call(this,e,t)||this).selectable=t.selectable,e.isSelected_=t.selected||!1,e.multiSelectable=t.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute("role","menuitemcheckbox"):e.el_.setAttribute("role","menuitemradio"):e.el_.setAttribute("role","menuitem"),e}y(cs,rs=n),(O=cs.prototype).createEl=function(e,t,i){return this.nonIconControl=!0,(i=rs.prototype.createEl.call(this,"li",d({className:"vjs-menu-item",tabIndex:-1},t),i)).replaceChild(h("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},O.handleKeyDown=function(t){ls.some(function(e){return r.isEventKey(t,e)})||rs.prototype.handleKeyDown.call(this,t)},O.handleClick=function(e){this.selected(!0)},O.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},w=cs,c.registerComponent("MenuItem",w);y(hs,us=w),(O=hs.prototype).handleClick=function(e){var t=this.track,i=this.player_.textTracks();if(us.prototype.handleClick.call(this,e),i)for(var n=0;n<i.length;n++){var o=i[n];-1!==this.kinds.indexOf(o.kind)&&(o===t?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},O.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},O.handleSelectedLanguageChange=function(e){var t;"showing"!==this.track.mode||(t=this.player_.cache_.selectedLanguage)&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})},O.dispose=function(){this.track=null,us.prototype.dispose.call(this)};var us,ds=hs;function hs(e,t){var n,i,o=t.track,s=e.textTracks();function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(g(n),t)}function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleSelectedLanguageChange.apply(g(n),t)}return t.label=o.label||o.language||"Unknown",t.selected="showing"===o.mode,(n=us.call(this,e,t)||this).track=o,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(Boolean),e.on(["loadstart","texttrackchange"],a),s.addEventListener("change",a),s.addEventListener("selectedlanguagechange",r),n.on("dispose",function(){e.off(["loadstart","texttrackchange"],a),s.removeEventListener("change",a),s.removeEventListener("selectedlanguagechange",r)}),void 0===s.onchange&&n.on(["tap","click"],function(){if("object"!=Wh(window.Event))try{i=new window.Event("change")}catch(e){}i||(i=document.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(i)}),n.handleTracksChange(),n}c.registerComponent("TextTrackMenuItem",ds);y(gs,ps=ds),(O=gs.prototype).handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,o=t.length;n<o;n++){var s=t[n];if(-1<this.options_.kinds.indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},O.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,o=t.length;n<o;n++){var s=t[n];if(-1<["captions","descriptions","subtitles"].indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})};var ps,fs,ms=gs;function gs(e,t){return t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.track.label=t.label||t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,ps.call(this,e,t)||this}function ys(e,t){return(t=void 0===t?{}:t).tracks=e.textTracks(),fs.call(this,e,t)||this}c.registerComponent("OffTextTrackMenuItem",ms),y(ys,fs=b),ys.prototype.createItems=function(e,t){void 0===t&&(t=ds),this.label_&&(i=this.label_+" off"),(e=void 0===e?[]:e).push(new ms(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var i,n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<n.length;o++){var s,a=n[o];-1<this.kinds_.indexOf(a.kind)&&((s=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-"+a.kind+"-menu-item"),e.push(s))}return e},a=ys,c.registerComponent("TextTrackButton",a);y(Cs,vs=w),Cs.prototype.handleClick=function(e){vs.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)};var vs,bs,ws,Ss,_s=Cs;function Cs(e,t){var i=t.track,n=t.cue,o=e.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=n.text,t.selected=n.startTime<=o&&o<n.endTime,(t=vs.call(this,e,t)||this).track=i,t.cue=n,t}function ks(e,t,i){return bs.call(this,e,t,i)||this}function xs(e,t,i){i=ws.call(this,e,t,i)||this;var n=e.textTracks(),o=l(g(i),i.handleTracksChange);return n.addEventListener("change",o),i.on("dispose",function(){n.removeEventListener("change",o)}),i}function Ts(e,t,i){var n=Ss.call(this,e,t,i)||this;return n.selectCurrentItem_=function(){n.items.forEach(function(e){e.selected(n.track_.activeCues[0]===e.cue)})},n}c.registerComponent("ChaptersTrackMenuItem",_s),y(Ts,Ss=a),(O=Ts.prototype).buildCSSClass=function(){return"vjs-chapters-button "+Ss.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-chapters-button "+Ss.prototype.buildWrapperCSSClass.call(this)},O.update=function(e){e&&e.track&&"chapters"!==e.track.kind||((e=this.findChaptersTrack())!==this.track_?(this.setTrack(e),Ss.prototype.update.call(this)):(!this.items||e&&e.cues&&e.cues.length!==this.items.length)&&Ss.prototype.update.call(this))},O.setTrack=function(e){var t;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=e,this.track_)&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_))},O.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var i=e[t];if(i.kind===this.kind_)return i}},O.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(p(this.kind_))},O.createMenu=function(){return this.options_.title=this.getMenuCaption(),Ss.prototype.createMenu.call(this)},O.createItems=function(){var e=[];if(this.track_){var t=this.track_.cues;if(t)for(var i=0,n=t.length;i<n;i++){var o=t[i],o=new _s(this.player_,{track:this.track_,cue:o});e.push(o)}}return e},(i=Ts).prototype.kind_="chapters",i.prototype.controlText_="Chapters",c.registerComponent("ChaptersButton",i),y(xs,ws=a),(O=xs.prototype).handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,n=0,o=t.length;n<o;n++){var s=t[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},O.buildCSSClass=function(){return"vjs-descriptions-button "+ws.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+ws.prototype.buildWrapperCSSClass.call(this)},(zi=xs).prototype.kind_="descriptions",zi.prototype.controlText_="Descriptions",c.registerComponent("DescriptionsButton",zi),y(ks,bs=a),(O=ks.prototype).buildCSSClass=function(){return"vjs-subtitles-button "+bs.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+bs.prototype.buildWrapperCSSClass.call(this)},(e=ks).prototype.kind_="subtitles",e.prototype.controlText_="Subtitles",c.registerComponent("SubtitlesButton",e);y(Ds,Is=ds),Ds.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()};var Is,Ps,As=Ds;function Ds(e,t){return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(e=Is.call(this,e,t)||this).addClass("vjs-texttrack-settings"),e.controlText(", opens "+t.kind+" settings dialog"),e}function Es(e,t,i){return Ps.call(this,e,t,i)||this}c.registerComponent("CaptionSettingsMenuItem",As),y(Es,Ps=a),(O=Es.prototype).buildCSSClass=function(){return"vjs-captions-button "+Ps.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-captions-button "+Ps.prototype.buildWrapperCSSClass.call(this)},O.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new As(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),Ps.prototype.createItems.call(this,e)},(_=Es).prototype.kind_="captions",_.prototype.controlText_="Captions",c.registerComponent("CaptionsButton",_);y(Ms,Os=ds),Ms.prototype.createEl=function(e,t,i){return i=(t=Os.prototype.createEl.call(this,e,t,i)).querySelector(".vjs-menu-item-text"),"captions"===this.options_.track.kind&&(i.appendChild(h("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(h("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),t};var Os,Ls,Ns=Ms;function Ms(){return Os.apply(this,arguments)||this}function Bs(e,t){return(t=Ls.call(this,e,t=void 0===t?{}:t)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(t.player_.language_)&&(t.label_="captions"),t.menuButton_.controlText(p(t.label_)),t}c.registerComponent("SubsCapsMenuItem",Ns),y(Bs,Ls=a),(O=Bs.prototype).buildCSSClass=function(){return"vjs-subs-caps-button "+Ls.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+Ls.prototype.buildWrapperCSSClass.call(this)},O.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new As(this.player_,{kind:this.label_})),this.hideThreshold_+=1),Ls.prototype.createItems.call(this,e,Ns)},(S=Bs).prototype.kinds_=["captions","subtitles"],S.prototype.controlText_="Subtitles",c.registerComponent("SubsCapsButton",S);y(Us,Fs=w),(O=Us.prototype).createEl=function(e,t,i){return i=(t=Fs.prototype.createEl.call(this,e,t,i)).querySelector(".vjs-menu-item-text"),"main-desc"===this.options_.track.kind&&(i.appendChild(h("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(h("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),t},O.handleClick=function(e){if(Fs.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var n=t[i];n!==this.track&&(n.enabled=n===this.track)}},O.handleTracksChange=function(e){this.selected(this.track.enabled)};var Fs,Rs,js=Us;function Us(e,t){var n,i=t.track,o=e.audioTracks();function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(g(n),t)}return t.label=i.label||i.language||"Unknown",t.selected=i.enabled,(n=Fs.call(this,e,t)||this).track=i,n.addClass("vjs-"+i.kind+"-menu-item"),o.addEventListener("change",s),n.on("dispose",function(){o.removeEventListener("change",s)}),n}function Vs(e,t){return(t=void 0===t?{}:t).tracks=e.audioTracks(),Rs.call(this,e,t)||this}c.registerComponent("AudioTrackMenuItem",js),y(Vs,Rs=b),(O=Vs.prototype).buildCSSClass=function(){return"vjs-audio-button "+Rs.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-audio-button "+Rs.prototype.buildWrapperCSSClass.call(this)},O.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var n=t[i];e.push(new js(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},(o=Vs).prototype.controlText_="Audio Track",c.registerComponent("AudioTrackButton",o);y(Qs,$s=w),(O=Qs.prototype).handleClick=function(e){$s.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},O.update=function(e){this.selected(this.player().playbackRate()===this.rate)};var $s,zs,Ws,Hs,qs,Gs,Ys=Qs;function Qs(e,t){var i,n=t.rate,o=parseFloat(n,10);return t.label=n,t.selected=o===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,(i=$s.call(this,e,t)||this).label=n,i.rate=o,i.on(e,"ratechange",function(e){return i.update(e)}),i}function Ks(e,t){var i=zs.call(this,e,t)||this;return i.on(e,"error",function(e){return i.open(e)}),i}function Xs(){return Ws.apply(this,arguments)||this}function Zs(){return Hs.apply(this,arguments)||this}function Js(){return qs.apply(this,arguments)||this}function ea(e,t){var i=Gs.call(this,e,t)||this;return i.menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(e,"loadstart",function(e){return i.updateVisibility(e)}),i.on(e,"ratechange",function(e){return i.updateLabel(e)}),i.on(e,"playbackrateschange",function(e){return i.handlePlaybackRateschange(e)}),i}Ys.prototype.contentElType="button",c.registerComponent("PlaybackRateMenuItem",Ys),y(ea,Gs=v),(O=ea.prototype).createEl=function(){var e=Gs.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=h("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},O.dispose=function(){this.labelEl_=null,Gs.prototype.dispose.call(this)},O.buildCSSClass=function(){return"vjs-playback-rate "+Gs.prototype.buildCSSClass.call(this)},O.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Gs.prototype.buildWrapperCSSClass.call(this)},O.createItems=function(){for(var e=this.playbackRates(),t=[],i=e.length-1;0<=i;i--)t.push(new Ys(this.player(),{rate:e[i]+"x"}));return t},O.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},O.handleClick=function(e){var t=this.player().playbackRate(),i=this.playbackRates(),t=(i.indexOf(t)+1)%i.length;this.player().playbackRate(i[t])},O.handlePlaybackRateschange=function(e){this.update()},O.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},O.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},O.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},O.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},(n=ea).prototype.controlText_="Playback Rate",c.registerComponent("PlaybackRateMenuButton",n),y(Js,qs=c),(O=Js.prototype).buildCSSClass=function(){return"vjs-spacer "+qs.prototype.buildCSSClass.call(this)},O.createEl=function(e,t,i){return void 0===e&&(e="div"),void 0===i&&(i={}),(t=void 0===t?{}:t).className||(t.className=this.buildCSSClass()),qs.prototype.createEl.call(this,e,t,i)},i=Js,c.registerComponent("Spacer",i),c.registerComponent("CustomControlSpacer",(y(Zs,Hs=i),(O=Zs.prototype).buildCSSClass=function(){return"vjs-custom-control-spacer "+Hs.prototype.buildCSSClass.call(this)},O.createEl=function(){return Hs.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},Zs)),y(Xs,Ws=c),Xs.prototype.createEl=function(){return Ws.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},(zi=Xs).prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&zi.prototype.options_.children.splice(zi.prototype.options_.children.length-1,0,"pictureInPictureToggle"),c.registerComponent("ControlBar",zi),y(Ks,zs=Ht),(O=Ks.prototype).buildCSSClass=function(){return"vjs-error-display "+zs.prototype.buildCSSClass.call(this)},O.content=function(){var e=this.player().error();return e?this.localize(e.message):""},(e=Ks).prototype.options_=Q({},Ht.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),c.registerComponent("ErrorDisplay",e);var ta,ia,na="vjs-text-track-settings",oa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[_=["#000","Black"],v=["#FFF","White"],w=["#F00","Red"],b=["#0F0","Green"],a=["#00F","Blue"],n=["#FF0","Yellow"],o=["#F0F","Magenta"],S=["#0FF","Cyan"]]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[i=["1","Opaque"],zi=["0.5","Semi-Transparent"],e=["0","Transparent"]]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[v,_,w,b,a,n,o,S]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[i,zi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[e,zi,i]}};function sa(e,t){if((e=t?t(e):e)&&"none"!==e)return e}function aa(e,t){var i,n,o,s,a,r,l=t.ResizeObserver||window.ResizeObserver,c=f({createEl:!(l=null!==t.ResizeObserver&&l),reportTouchActivity:!1},t);return(i=ta.call(this,e,c)||this).ResizeObserver=t.ResizeObserver||window.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=(n=function(){i.resizeHandler()},s=!(o=100),void 0===(a=g(i))&&(a=window),u.cancel=function(){a.clearTimeout(r),r=null},u),l?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){var e,t;i.el_&&i.el_.contentWindow&&(e=i.debouncedHandler_,t=i.unloadListener_=function(){lt(this,"resize",e),lt(this,"unload",t),t=null},rt(i.el_.contentWindow,"unload",t),rt(i.el_.contentWindow,"resize",e))},i.one("load",i.loadListener_)),i;function u(){var e=this,t=arguments,i=function(){i=r=null,s||n.apply(e,t)};!r&&s&&n.apply(e,t),a.clearTimeout(r),r=a.setTimeout(i,o)}}function ra(e,t){var i;return t.temporary=!1,(i=ia.call(this,e,t)||this).updateDisplay=i.updateDisplay.bind(g(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=h("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===t.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),X(oa,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}oa.windowColor.options=oa.backgroundColor.options,c.registerComponent("TextTrackSettings",(y(ra,ia=Ht),(O=ra.prototype).dispose=function(){this.endDialog=null,ia.prototype.dispose.call(this)},O.createElSelect_=function(e,t,i){var n=this,o=(void 0===t&&(t=""),void 0===i&&(i="label"),(e=oa[e]).id.replace("%s",this.id_)),s=[t,o].join(" ").trim();return["<"+i+' id="'+o+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(e.label),"</"+i+">",'<select aria-labelledby="'+s+'">'].concat(e.options.map(function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+s+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},O.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},O.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},O.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},O.createElColors_=function(){return h("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},O.createElFont_=function(){return h("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},O.createElControls_=function(){var e=this.localize("restore all settings to the default values");return h("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},O.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},O.label=function(){return this.localize("Caption Settings Dialog")},O.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},O.buildCSSClass=function(){return ia.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},O.getValues=function(){var i,o=this,n=function(e,t,i){var n=o.$(t.selector);return t=t.parser,void 0!==(t=sa(n.options[n.options.selectedIndex].value,t))&&(e[i]=t),e},e={};return Y(i=oa).reduce(function(e,t){return n(e,i[t],t)},e)},O.setValues=function(a){var r=this;X(oa,function(e,t){var i=r.$(e.selector),n=a[t],o=e.parser;if(n)for(var s=0;s<i.options.length;s++)if(sa(i.options[s].value,o)===n){i.selectedIndex=s;break}})},O.setDefaults=function(){var i=this;X(oa,function(e){var t=e.hasOwnProperty("default")?e.default:0;i.$(e.selector).selectedIndex=t})},O.restoreSettings=function(){var e;try{e=JSON.parse(window.localStorage.getItem(na))}catch(e){u.warn(e)}e&&this.setValues(e)},O.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?window.localStorage.setItem(na,JSON.stringify(e)):window.localStorage.removeItem(na)}catch(e){u.warn(e)}}},O.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},O.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=(t=this.player_.controlBar)&&t.subsCapsButton,t=t&&t.captionsButton;e?e.focus():t&&t.focus()},ra)),c.registerComponent("ResizeManager",(y(aa,ta=c),(v=aa.prototype).createEl=function(){return ta.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},v.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},v.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,ta.prototype.dispose.call(this)},aa));var la,ca={trackingThreshold:20,liveTolerance:15};function ua(e){if((n=e.el()).hasAttribute("src"))return e.triggerSourceset(n.src),1;var t=e.$$("source"),i=[],n="";if(t.length){for(var o=0;o<t.length;o++){var s=t[o].src;s&&-1===i.indexOf(s)&&i.push(s)}return i.length&&(e.triggerSourceset(n=1===i.length?i[0]:n),1)}}function da(e,t){for(var i={},n=0;n<e.length&&!((i=Object.getOwnPropertyDescriptor(e[n],t))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i}function ha(s){var t,e,i,a=s.el();a.resetSourceWatch_||(t={},e=da([s.el(),window.HTMLMediaElement.prototype,window.Element.prototype,ya],"innerHTML"),i=function(o){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=o.apply(a,t);return ua(s),n}},["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=i(t[e]))}),Object.defineProperty(a,"innerHTML",f(e,{set:i(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},s.one("sourceset",a.resetSourceWatch_))}function pa(t,i,n,e){function o(e){return Object.defineProperty(t,i,{value:e,enumerable:!0,writable:!0})}var s={configurable:!0,enumerable:!0,get:function(){var e=n();return o(e),e}};return(e=void 0===e||e)&&(s.set=o),Object.defineProperty(t,i,s)}function fa(e,t){t=f(ca,t,{createEl:!1});var i=la.call(this,e,t)||this;return i.handleVisibilityChange_=function(e){return i.handleVisibilityChange(e)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(e){return i.handlePlay(e)},i.handleFirstTimeupdate_=function(e){return i.handleFirstTimeupdate(e)},i.handleSeeked_=function(e){return i.handleSeeked(e)},i.seekToLiveEdge_=function(e){return i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,"durationchange",function(e){return i.handleDurationchange(e)}),i.on(i.player_,"canplay",function(){return i.toggleTracking()}),le&&"hidden"in document&&"visibilityState"in document&&i.on(document,"visibilitychange",i.handleVisibilityChange_),i}c.registerComponent("LiveTracker",(y(fa,la=c),(w=fa.prototype).handleVisibilityChange=function(){this.player_.duration()===1/0&&(document.hidden?this.stopTracking():this.startTracking())},w.trackLive_=function(){var e,t=this.player_.seekable();t&&t.length&&(e=Number(window.performance.now().toFixed(4)),t=-1===this.lastTime_?0:(e-this.lastTime_)/1e3,this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+t,e=this.liveCurrentTime(),t=this.player_.currentTime(),t=this.player_.paused()||this.seekedBehindLive_||Math.abs(e-t)>this.options_.liveTolerance,(t=!(!this.timeupdateSeen_||e===1/0)&&t)!==this.behindLiveEdge_)&&(this.behindLiveEdge_=t,this.trigger("liveedgechange"))},w.handleDurationchange=function(){this.toggleTracking()},w.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},w.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},w.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},w.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<e,this.nextSeekedFromUser_=!1,this.trackLive_()},w.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},w.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},w.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},w.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},w.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0},w.seekableStart=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0},w.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},w.isLive=function(){return this.isTracking()},w.atLiveEdge=function(){return!this.behindLiveEdge()},w.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},w.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},w.behindLiveEdge=function(){return this.behindLiveEdge_},w.isTracking=function(){return"number"==typeof this.trackingInterval_},w.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},w.dispose=function(){this.off(document,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),la.prototype.dispose.call(this)},fa));var ma,ga,ya=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=document.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=document.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,i),this.innerHTML}}),va=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ei(window.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return window.Element.prototype.setAttribute.call(this,"src",e),e}}),x=(y(ba,ga=C),(b=ba.prototype).dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),ba.disposeMediaElement(this.el_),this.options_=null,ga.prototype.dispose.call(this)},b.setupSourcesetHandling_=function(){var i,n,t,o,s;(i=this).featuresSourceset&&!(n=i.el()).resetSourceset_&&(t=da([i.el(),window.HTMLMediaElement.prototype,va],"src"),o=n.setAttribute,s=n.load,Object.defineProperty(n,"src",f(t,{set:function(e){return e=t.set.call(n,e),i.triggerSourceset(n.src),e}})),n.setAttribute=function(e,t){return t=o.call(n,e,t),/src/i.test(e)&&i.triggerSourceset(n.src),t},n.load=function(){var e=s.call(n);return ua(i)||(i.triggerSourceset(""),ha(i)),e},n.currentSrc?i.triggerSourceset(n.currentSrc):ua(i)||ha(i),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=s,n.setAttribute=o,Object.defineProperty(n,"src",t),n.resetSourceWatch_&&n.resetSourceWatch_()})},b.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){i=[];for(var e=0;e<n.length;e++){var t=n[e];"metadata"===t.kind&&i.push({track:t,storedMode:t.mode})}}var i,n=this.textTracks();function o(){for(var e=0;e<i.length;e++){var t=i[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}n.removeEventListener("change",o)}e(),n.addEventListener("change",e),this.on("dispose",function(){return n.removeEventListener("change",e)}),this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",e),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",e),n.addEventListener("change",e),n.removeEventListener("change",o)})},b.overrideNative_=function(e,t){var i,n=this;t===this["featuresNative"+e+"Tracks"]&&(this[(i=e.toLowerCase())+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i))},b.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},b.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},b.proxyNativeTracksForType_=function(i){var e,t,n=this,o=Ui[i],s=this.el()[o.getterName],a=this[o.getterName]();this["featuresNative"+o.capitalName+"Tracks"]&&s&&s.addEventListener&&(t=function(){for(var e=[],t=0;t<a.length;t++){for(var i=!1,n=0;n<s.length;n++)if(s[n]===a[t]){i=!0;break}i||e.push(a[t])}for(;e.length;)a.removeTrack(e.shift())},this[o.getterName+"Listeners_"]=e={change:function(e){var t={type:"change",target:a,currentTarget:a,srcElement:a};a.trigger(t),"text"===i&&n[Vi.remoteText.getterName]().trigger(t)},addtrack:function(e){a.addTrack(e.track)},removetrack:function(e){a.removeTrack(e.track)}},Object.keys(e).forEach(function(t){var i=e[t];s.addEventListener(t,i),n.on("dispose",function(e){return s.removeEventListener(t,i)})}),this.on("loadstart",t),this.on("dispose",function(e){return n.off("loadstart",t)}))},b.proxyNativeTracks_=function(){var t=this;Ui.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},b.createEl=function(){var e,t=this.options_.tag;t&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(t?(e=t.cloneNode(!0),t.parentNode&&t.parentNode.insertBefore(e,t),ba.disposeMediaElement(t),t=e):(t=document.createElement("video"),e=f({},this.options_.tag&&Pe(this.options_.tag)),de&&!0===this.options_.nativeControlsForTouch||delete e.controls,Ie(t,d(e,{id:this.options_.techId,class:"vjs-tech"}))),t.playerId=this.options_.playerId),void 0!==this.options_.preload&&De(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],n=0;n<i.length;n++){var o=i[n],s=this.options_[o];void 0!==s&&(s?De(t,o,o):Ee(t,o),t[o]=s)}return t},b.handleLateInit_=function(e){var t,i,n,o;0!==e.networkState&&3!==e.networkState&&(0===e.readyState?(t=!1,this.on("loadstart",i=function(){t=!0}),this.on("loadedmetadata",n=function(){t||this.trigger("loadstart")}),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),t||this.trigger("loadstart")})):((o=["loadstart"]).push("loadedmetadata"),2<=e.readyState&&o.push("loadeddata"),3<=e.readyState&&o.push("canplay"),4<=e.readyState&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(e){this.trigger(e)},this)})))},b.setScrubbing=function(e){this.isScrubbing_=e},b.scrubbing=function(){return this.isScrubbing_},b.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&fe?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){u(e,"Video is not ready. (Video.js)")}},b.duration=function(){var t=this;return this.el_.duration===1/0&&te&&ae&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},b.width=function(){return this.el_.offsetWidth},b.height=function(){return this.el_.offsetHeight},b.proxyWebkitFullscreen_=function(){var e,t,i=this;"webkitDisplayingFullscreen"in this.el_&&(e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},this.on("webkitbeginfullscreen",t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))}),this.on("dispose",function(){i.off("webkitbeginfullscreen",t),i.off("webkitendfullscreen",e)}))},b.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},b.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Vt(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},b.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},b.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},b.requestVideoFrameCallback=function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):ga.prototype.requestVideoFrameCallback.call(this,e)},b.cancelVideoFrameCallback=function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):ga.prototype.cancelVideoFrameCallback.call(this,e)},b.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},b.reset=function(){ba.resetMediaElement(this.el_)},b.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},b.setControls=function(e){this.el_.controls=!!e},b.addTextTrack=function(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):ga.prototype.addTextTrack.call(this,e,t,i)},b.createRemoteTextTrack=function(e){var t;return this.featuresNativeTextTracks?(t=document.createElement("track"),e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t):ga.prototype.createRemoteTextTrack.call(this,e)},b.addRemoteTextTrack=function(e,t){return t=ga.prototype.addRemoteTextTrack.call(this,e,t),this.featuresNativeTextTracks&&this.el().appendChild(t),t},b.removeRemoteTextTrack=function(e){if(ga.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),i=t.length;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])},b.getVideoPlaybackQuality=function(){var e;return"function"==typeof this.el().getVideoPlaybackQuality?this.el().getVideoPlaybackQuality():(e={},void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&"function"==typeof window.performance.now?e.creationTime=window.performance.now():window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&(e.creationTime=window.Date.now()-window.performance.timing.navigationStart),e)},ba);function ba(e,t){var i=ga.call(this,e,t)||this,n=(t=e.source,!1);if(i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&&"VIDEO"===i.el_.tagName,t&&(i.el_.currentSrc!==t.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(t):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var o=i.el_.childNodes,s=o.length,a=[];s--;){var r=o[s];"track"===r.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(r),i.remoteTextTracks().addTrack(r.track),i.textTracks().addTrack(r.track),n||i.el_.hasAttribute("crossorigin")||!ii(r.src)||(n=!0)):a.push(r))}for(var l=0;l<a.length;l++)i.el_.removeChild(a[l])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&n&&u.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(de||he||ne)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}pa(x,"TEST_VID",function(){var e,t;if(ye())return e=document.createElement("video"),(t=document.createElement("track")).kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}),x.isSupported=function(){try{x.TEST_VID.volume=.5}catch(e){return!1}return!(!x.TEST_VID||!x.TEST_VID.canPlayType)},x.canPlayType=function(e){return x.TEST_VID.canPlayType(e)},x.canPlaySource=function(e,t){return x.canPlayType(e.type)},x.canControlVolume=function(){try{var e=x.TEST_VID.volume,t=(x.TEST_VID.volume=e/2+.1,e!==x.TEST_VID.volume);return t&&pe?(window.setTimeout(function(){x&&x.prototype&&(x.prototype.featuresVolumeControl=e!==x.TEST_VID.volume)}),!1):t}catch(e){return!1}},x.canMuteVolume=function(){try{var e=x.TEST_VID.muted;return x.TEST_VID.muted=!e,x.TEST_VID.muted?De(x.TEST_VID,"muted","muted"):Ee(x.TEST_VID,"muted"),e!==x.TEST_VID.muted}catch(e){return!1}},x.canControlPlaybackRate=function(){if(te&&ae&&re<58)return!1;try{var e=x.TEST_VID.playbackRate;return x.TEST_VID.playbackRate=e/2+.1,e!==x.TEST_VID.playbackRate}catch(e){return!1}},x.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(document.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},x.supportsNativeTextTracks=function(){return fe||pe&&ae},x.supportsNativeVideoTracks=function(){return!(!x.TEST_VID||!x.TEST_VID.videoTracks)},x.supportsNativeAudioTracks=function(){return!(!x.TEST_VID||!x.TEST_VID.audioTracks)},x.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],i=e[1];pa(x.prototype,t,function(){return x[i]()},!0)}),x.prototype.featuresVolumeControl=x.canControlVolume(),x.prototype.movingMediaElementInDOM=!pe,x.prototype.featuresFullscreenResize=!0,x.prototype.featuresProgressEvents=!0,x.prototype.featuresTimeupdateEvents=!0,x.prototype.featuresVideoFrameCallback=!(!x.TEST_VID||!x.TEST_VID.requestVideoFrameCallback),x.patchCanPlayType=function(){4<=ie&&!oe&&!ae&&(ma=x.TEST_VID&&x.TEST_VID.constructor.prototype.canPlayType,x.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":ma.call(this,e)})},x.unpatchCanPlayType=function(){var e=x.TEST_VID.constructor.prototype.canPlayType;return ma&&(x.TEST_VID.constructor.prototype.canPlayType=ma),e},x.patchCanPlayType(),x.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(e){}}},x.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(e){}}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){x.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){x.prototype["set"+p(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){x.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){x.prototype["set"+p(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){x.prototype[e]=function(){return this.el_[e]()}}),C.withSourceHandlers(x),x.nativeSourceHandler={},x.nativeSourceHandler.canPlayType=function(e){try{return x.TEST_VID.canPlayType(e)}catch(e){return""}},x.nativeSourceHandler.canHandleSource=function(e,t){return e.type?x.nativeSourceHandler.canPlayType(e.type):e.src?(e=ti(e.src),x.nativeSourceHandler.canPlayType("video/"+e)):""},x.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},x.nativeSourceHandler.dispose=function(){},x.registerSourceHandler(x.nativeSourceHandler),C.registerTech("Html5",x);var wa,Sa=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],_a={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ca=["tiny","xsmall","small","medium","large","xlarge","huge"],ka={},xa=(Ca.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;ka[e]="vjs-layout-"+t}),{tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0}),T=(y(Ta,wa=c),(a=Ta.prototype).dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),lt(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),lt(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ta.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),_n[this.id()]=null,$i.names.forEach(function(e){e=$i[e],(e=t[e.getterName]())&&e.off&&e.off()}),wa.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},a.createEl=function(){var t,i=this.tag,e=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();e?t=this.el_=i.parentNode:n||(t=this.el_=wa.prototype.createEl.call(this,"div"));var o,s,a=Pe(i);if(n){for(t=this.el_=i,i=this.tag=document.createElement("video");t.children.length;)i.appendChild(t.firstChild);Ce(t,"video-js")||ke(t,"video-js"),t.appendChild(i),e=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{i[e]=t[e]}catch(e){}})}i.setAttribute("tabindex","-1"),a.tabindex="-1",(le||ae&&ue)&&(i.setAttribute("role","application"),a.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(e){n&&"class"===e||t.setAttribute(e,a[e]),n&&i.setAttribute(e,a[e])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",(i.player=t.player=this).addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Xe("vjs-styles-dimensions"),o=He(".vjs-styles-defaults"),(s=He("head")).insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var r=i.getElementsByTagName("a"),l=0;l<r.length;l++){var c=r.item(l);ke(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!e&&i.parentNode.insertBefore(t,i),_e(i,t),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t},a.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):u.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},a.width=function(e){return this.dimension("width",e)},a.height=function(e){return this.dimension("height",e)},a.dimension=function(e,t){var i,n=e+"_";if(void 0===t)return this[n]||0;""===t||"auto"===t?(this[n]=void 0,this.updateStyleEl_()):(i=parseFloat(t),isNaN(i)?u.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_()))},a.fluid=function(e){var t,i=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Ct(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),t=function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)},Ct(e=this)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){var e,t,i,n;!0!==window.VIDEOJS_NO_DYNAMIC_STYLE?(n=(i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/i[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/n:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*n,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Ze(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*n+"%;\n      }\n    ")):(t="number"==typeof this.width_?this.width_:this.options_.width,i="number"==typeof this.height_?this.height_:this.options_.height,(n=this.tech_&&this.tech_.el())&&(0<=t&&(n.width=t),0<=i)&&(n.height=i))},a.loadTech_=function(e,t){var i,n=this,o=(this.tech_&&this.unloadTech_(),p(e)),s=e.charAt(0).toLowerCase()+e.slice(1),a=("Html5"!==o&&this.tag&&(C.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1,this.autoplay()),r={source:t,autoplay:!("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+s+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};if($i.names.forEach(function(e){e=$i[e],r[e.getterName]=n[e.privateName]}),d(r,this.options_[o]),d(r,this.options_[s]),d(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime),!(e=C.getTech(e)))throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new e(r),this.tech_.ready(l(this,this.handleTechReady_),!0),a=this.textTracksJson_||[],i=this.tech_,a.forEach(function(e){var t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),i.textTracks(),Sa.forEach(function(t){n.on(n.tech_,t,function(e){return n["handleTech"+p(t)+"_"](e)})}),Object.keys(_a).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+_a[t]+"_"].bind(n),event:e}):n["handleTech"+_a[t]+"_"](e)})}),this.on(this.tech_,"loadstart",function(e){return n.handleTechLoadStart_(e)}),this.on(this.tech_,"sourceset",function(e){return n.handleTechSourceset_(e)}),this.on(this.tech_,"waiting",function(e){return n.handleTechWaiting_(e)}),this.on(this.tech_,"ended",function(e){return n.handleTechEnded_(e)}),this.on(this.tech_,"seeking",function(e){return n.handleTechSeeking_(e)}),this.on(this.tech_,"play",function(e){return n.handleTechPlay_(e)}),this.on(this.tech_,"firstplay",function(e){return n.handleTechFirstPlay_(e)}),this.on(this.tech_,"pause",function(e){return n.handleTechPause_(e)}),this.on(this.tech_,"durationchange",function(e){return n.handleTechDurationChange_(e)}),this.on(this.tech_,"fullscreenchange",function(e,t){return n.handleTechFullscreenChange_(e,t)}),this.on(this.tech_,"fullscreenerror",function(e,t){return n.handleTechFullscreenError_(e,t)}),this.on(this.tech_,"enterpictureinpicture",function(e){return n.handleTechEnterPictureInPicture_(e)}),this.on(this.tech_,"leavepictureinpicture",function(e){return n.handleTechLeavePictureInPicture_(e)}),this.on(this.tech_,"error",function(e){return n.handleTechError_(e)}),this.on(this.tech_,"posterchange",function(e){return n.handleTechPosterChange_(e)}),this.on(this.tech_,"textdata",function(e){return n.handleTechTextData_(e)}),this.on(this.tech_,"ratechange",function(e){return n.handleTechRateChange_(e)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===o&&this.tag||_e(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var e,t,i,n=this;$i.names.forEach(function(e){e=$i[e],n[e.privateName]=n[e.getterName]()}),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track}),Array.prototype.map.call(t,function(e){var t=$t(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map($t))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(e){return void 0===e&&u.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},a.manualAutoplay_=function(e){var n=this;if(this.tech_&&"string"==typeof e){var t,i=function(){var e=n.muted();function t(){n.muted(e)}n.muted(!0),n.playTerminatedQueue_.push(t);var i=n.play();if(Ut(i))return i.catch(function(e){throw t(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))})};if("any"!==e||this.muted()?t="muted"!==e||this.muted()?this.play():i():Ut(t=this.play())&&(t=t.catch(i)),Ut(t))return t.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:e})})}},a.updateSourceCaches_=function(e){var t=e=void 0===e?"":e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var n=e.$$("source"),o=0;o<n.length;o++){var s=n[o];if(s.type&&s.src&&s.src===t)return s.type}return Dn(t)})(this,t)),this.cache_.source=f({},e,{src:t,type:i});for(var i=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),n=[],o=this.$$("source"),s=[],a=0;a<o.length;a++){var r=Pe(o[a]);n.push(r),r.src&&r.src===t&&s.push(r.src)}s.length&&!i.length?this.cache_.sources=n:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},a.handleTechSourceset_=function(e){var t,i,n,o=this;this.changingSrc_||(t=function(e){return o.updateSourceCaches_(e)},i=this.currentSource().src,n=e.src,(t=i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)?function(){}:t)(n),e.src)||this.tech_.any(["sourceset","loadstart"],function(e){"sourceset"!==e.type&&(e=o.techGet("currentSrc"),o.lastSource_.tech=e,o.updateSourceCaches_(e))}),this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},a.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this,i=(this.addClass("vjs-waiting"),this.trigger("waiting"),this.currentTime());this.on("timeupdate",function e(){i!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",e))})},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(u.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(e){!this.controls_||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Vt(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){!this.controls_||Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(e){var t=e.target.player;t&&t!==this||(e=this.el(),!(t=document[this.fsApi_.fullscreenElement]===e)&&e.matches?t=e.matches(":"+this.fsApi_.fullscreen):!t&&e.msMatchesSelector&&(t=e.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(t))},a.handleTechFullscreenChange_=function(e,t){var i=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){i.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))},a.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var e=this.tech_.error();this.error(e)},a.handleTechTextData_=function(){this.trigger("textdata",1<arguments.length?arguments[1]:null)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},a.techCall_=function(i,n){this.ready(function(){if(i in In)return e=this.middleware_,(t=this.tech_)[t=i](e.reduce(An(t),n));if(i in Pn)return xn(this.middleware_,this.tech_,i,n);var e,t;try{this.tech_&&this.tech_[i](n)}catch(e){throw u(e),e}},!0)},a.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Tn)return t=this.middleware_,i=this.tech_,t.reduceRight(An(e),i[e]());if(e in Pn)return xn(this.middleware_,this.tech_,e);var t,i;try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?u("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(u("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):u(t),t}}},a.play=function(){var t=this,e=this.options_.Promise||window.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},a.play_=function(e){var t=this;this.playCallbacks_.push(e=void 0===e?Vt:e),e=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),this.isReady_&&e?null===(e=this.techGet_("play"))?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(e):(this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),e||!fe&&!pe||this.load())},a.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},a.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||Bt(0,0)},a.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var e;return(e=this.techGet_("buffered"))&&e.length?e:Bt(0,0)},a.bufferedPercent=function(){return Ft(this.buffered(),this.duration())},a.bufferedEnd=function(){var e=this.buffered(),t=this.duration();return t<(e=e.end(e.length-1))?t:e},a.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},a.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},a.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(e){if(void 0===e)return this.isFullscreen_;var t=this.isFullscreen_;this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()},a.requestFullscreen=function(a){var r,e=this.options_.Promise||window.Promise;return e?(r=this,new e(function(e,i){function n(){r.off("fullscreenerror",o),r.off("fullscreenchange",t)}function t(){n(),e()}function o(e,t){n(),i(t)}r.one("fullscreenchange",t),r.one("fullscreenerror",o);var s=r.requestFullscreenHelper_(a);s&&(s.then(n,n),s.then(e,i))})):this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(e){var t,i=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen)return(t=this.el_[this.fsApi_.requestFullscreen](t))&&t.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),t;this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var a,e=this.options_.Promise||window.Promise;return e?(a=this,new e(function(e,i){function n(){a.off("fullscreenerror",o),a.off("fullscreenchange",t)}function t(){n(),e()}function o(e,t){n(),i(t)}a.one("fullscreenchange",t),a.one("fullscreenerror",o);var s=a.exitFullscreenHelper_();s&&(s.then(n,n),s.then(e,i))})):this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var e,t=this;if(this.fsApi_.requestFullscreen)return(e=document[this.fsApi_.exitFullscreen]())&&Vt(e.then(function(){return t.isFullscreen(!1)})),e;this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,rt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",ke(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(e){r.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,lt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,xe(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document)return document.exitPictureInPicture()},a.handleKeyDown=function(e){var t,i,n=this.options_.userActions;n&&n.hotkeys&&(t=this.el_.ownerDocument.activeElement,i=t.tagName.toLowerCase(),t.isContentEditable||("input"===i?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(i))||("function"==typeof n.hotkeys?n.hotkeys.call(this,e):this.handleHotkeys(e)))},a.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},i=t.fullscreenKey,n=void 0===(n=t.muteKey)?function(e){return r.isEventKey(e,"m")}:n;t=void 0===(t=t.playPauseKey)?function(e){return r.isEventKey(e,"k")||r.isEventKey(e,"Space")}:t,(void 0===i?function(e){return r.isEventKey(e,"f")}:i).call(this,e)?(e.preventDefault(),e.stopPropagation(),i=c.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&i.prototype.handleClick.call(this,e)):n.call(this,e)?(e.preventDefault(),e.stopPropagation(),c.getComponent("MuteToggle").prototype.handleClick.call(this,e)):t.call(this,e)&&(e.preventDefault(),e.stopPropagation(),c.getComponent("PlayToggle").prototype.handleClick.call(this,e))},a.canPlayType=function(e){for(var t=0,i=this.options_.techOrder;t<i.length;t++){var n=i[t],o=C.getTech(n);if(o=o||c.getComponent(n)){if(o.isSupported()&&(o=o.canPlayType(e)))return o}else u.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(e){function t(e,i,n){var o;return e.some(function(t){return i.some(function(e){if(o=n(t,e))return!0})}),o}var i,n=this,o=this.options_.techOrder.map(function(e){return[e,C.getTech(e)]}).filter(function(e){var t=e[0];return(e=e[1])?e.isSupported():(u.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(e,t){var i=e[0];if(e[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?t(e,o,(i=s,function(e,t){return i(t,e)})):t(o,e,s))||!1},a.handleSrc_=function(e,n){var o=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var t,i,s=function t(e){var i;return Array.isArray(e)?(i=[],e.forEach(function(e){e=t(e),Array.isArray(e)?i=i.concat(e):Z(e)&&i.push(e)}),i):"string"==typeof e&&e.trim()?[Mn({src:e})]:Z(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Mn(e)]:[]}(e);s.length?(this.changingSrc_=!0,n||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),kn(this,s[0],function(e,t){var i;return o.middleware_=t,n||(o.cache_.sources=s),o.updateSourceCaches_(e),o.src_(e)?1<s.length?o.handleSrc_(s.slice(1)):(o.changingSrc_=!1,o.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void o.triggerReady()):(i=o.tech_,void t.forEach(function(e){return e.setTech&&e.setTech(i)}))}),this.options_.retryOnError&&1<s.length&&(i=function(){o.off("error",t)},this.one("error",t=function(){o.error(null),o.handleSrc_(s.slice(1),!0)}),this.one("playing",i),this.resetRetryOnError_=function(){o.off("error",t),o.off("playing",i)})):this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)},a.src=function(e){return this.handleSrc_(e,!1)},a.src_=function(e){var t,i,n=this,o=this.selectSource([e]);return!o||(t=o.tech,i=this.techName_,p(t)!==p(i)?(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready(function(){n.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},a.load=function(){this.techCall_("load")},a.reset=function(){var e=this,t=this.options_.Promise||window.Promise;this.paused()||!t?this.doReset_():Vt(this.play().then(function(){return e.doReset_()}))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ct(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var e=(t=this.controlBar||{}).durationDisplay,t=t.remainingTimeDisplay;e&&e.updateContent(),t&&t.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},a.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},a.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},a.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},a.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){var e;(!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster&&(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))},a.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){var e,i=this;if(void 0===t)return this.error_||null;F("beforeerror").forEach(function(e){Z(e=e(i,t))&&!Array.isArray(e)||"string"==typeof e||"number"==typeof e||null===e?t=e:i.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.code?(this.options_.suppressNotSupportedError=!(e=function(){this.error(t)}),this.any(["click","touchstart"],e),this.one("loadstart",function(){this.off(["click","touchstart"],e)})):null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new Rt(t),this.addClass("vjs-error"),u.error("(CODE:"+this.error_.code+" "+Rt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),F("error").forEach(function(e){return e(i,i.error_)}))},a.reportUserActivity=function(e){this.userActivity_=!0},a.userActive=function(e){if(void 0===e)return this.userActive_;(e=!!e)!==this.userActive_&&(this.userActive_=e,this.userActive_?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))},a.listenForUserActivity_=function(){var t,i,n,o,s=l(this,this.reportUserActivity),e=function(e){s(),this.clearInterval(t)};this.on("mousedown",function(){s(),this.clearInterval(t),t=this.setInterval(s,250)}),this.on("mousemove",function(e){e.screenX===i&&e.screenY===n||(i=e.screenX,n=e.screenY,s())}),this.on("mouseup",e),this.on("mouseleave",e),!(e=this.getChild("controlBar"))||pe||te||(e.on("mouseenter",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),e.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s),this.setInterval(function(){var e;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o),(e=this.options_.inactivityTimeout)<=0||(o=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)))},250)},a.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},a.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},a.enableAudioOnlyUI_=function(){var t=this,e=(this.addClass("vjs-audio-only-mode"),this.children()),i=this.getChild("ControlBar"),n=i&&i.currentHeight();e.forEach(function(e){e!==i&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),t.audioOnlyCache_.hiddenChildren.push(e))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")},a.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(e){return e.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},a.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var i,n=this.options_.Promise||window.Promise;if(n)return e?(i=[],this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),n.all(i).then(function(){return t.enableAudioOnlyUI_()})):n.resolve().then(function(){return t.disableAudioOnlyUI_()});e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},a.enablePosterModeUI_=function(){this.tech_.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},a.disablePosterModeUI_=function(){this.tech_.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},a.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var i=this.options_.Promise||window.Promise;return i?e?(this.audioOnlyMode()?this.audioOnlyMode(!1):i.resolve()).then(function(){t.enablePosterModeUI_()}):i.resolve().then(function(){t.disablePosterModeUI_()}):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},a.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},a.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},a.removeRemoteTextTrack=function(e){e=(e=void 0===e?{}:e).track||e;if(this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ct(this))&&this.trigger("languagechange")},a.languages=function(){return f(Ta.prototype.options_.languages,this.languages_)},a.toJSON=function(){var e=f(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var n=t[i];(n=f(n)).player=void 0,e.tracks[i]=n}return e},a.createModal=function(e,t){var i=this,n=((t=t||{}).content=e||"",new Ht(this,t));return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),i=0;i<Ca.length;i++){var n=Ca[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(ka[e]),this.addClass(ka[n]),this.breakpoint_=n;break}}},a.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},a.breakpoints=function(e){return void 0!==e&&(this.breakpoint_="",this.breakpoints_=d({},xa,e),this.updateCurrentBreakpoint_()),d(this.breakpoints_)},a.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return ka[this.breakpoint_]||""},a.loadMedia=function(e,t){var i,n,o,s=this;e&&"object"==Wh(e)&&(this.reset(),this.cache_.media=f(e),i=(o=this.cache_.media).artwork,n=o.poster,e=o.src,o=o.textTracks,!i&&n&&(this.cache_.media.artwork=[{src:n,type:Dn(n)}]),e&&this.src(e),n&&this.poster(n),Array.isArray(o)&&o.forEach(function(e){return s.addRemoteTextTrack(e,!1)}),this.ready(t))},a.getMedia=function(){var e,t;return this.cache_.media?f(this.cache_.media):(e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})},e&&(t.poster=e,t.artwork=[{src:t.poster,type:Dn(t.poster)}]),t)},Ta.getTagSettings=function(e){var t,i={sources:[],tracks:[]},n=Pe(e),o=n["data-setup"];if(Ce(e,"vjs-fill")&&(n.fill=!0),Ce(e,"vjs-fluid")&&(n.fluid=!0),null!==o&&(o=(t=((e,t)=>{var i,n=null;try{i=JSON.parse(e,t)}catch(e){n=e}return[n,i]})(o||"{}"))[0],t=t[1],o&&u.error(o),d(n,t)),d(i,n),e.hasChildNodes())for(var s=e.childNodes,a=0,r=s.length;a<r;a++){var l=s[a],c=l.nodeName.toLowerCase();"source"===c?i.sources.push(Pe(l)):"track"===c&&i.tracks.push(Pe(l))}return i},a.flexNotSupported_=function(){var e=document.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},a.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},a.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(function(e){return"number"==typeof e})&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},Ta);function Ta(e,t,i){var n,o;if(e.id=e.id||t.id||"vjs_video_"+Je++,(t=d(Ta.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var s=e.closest("[lang]");s&&s.getAttribute&&(t.language=s.getAttribute("lang"))}else for(var a=e;a&&1===a.nodeType;){if(Pe(a).hasOwnProperty("lang")){t.language=a.getAttribute("lang");break}a=a.parentNode}if((n=wa.call(this,null,t,i)||this).boundDocumentFullscreenChange_=function(e){return n.documentFullscreenChange_(e)},n.boundFullWindowOnEscKey_=function(e){return n.fullWindowOnEscKey(e)},n.boundUpdateStyleEl_=function(e){return n.updateStyleEl_(e)},n.boundApplyInitTime_=function(e){return n.applyInitTime_(e)},n.boundUpdateCurrentBreakpoint_=function(e){return n.updateCurrentBreakpoint_(e)},n.boundHandleTechClick_=function(e){return n.handleTechClick_(e)},n.boundHandleTechDoubleClick_=function(e){return n.handleTechDoubleClick_(e)},n.boundHandleTechTouchStart_=function(e){return n.handleTechTouchStart_(e)},n.boundHandleTechTouchMove_=function(e){return n.handleTechTouchMove_(e)},n.boundHandleTechTouchEnd_=function(e){return n.handleTechTouchEnd_(e)},n.boundHandleTechTap_=function(e){return n.handleTechTap_(e)},n.isFullscreen_=!1,n.log=q(n.id_),n.fsApi_=U,n.isPosterFromTech_=!1,n.queuedCallbacks_=[],n.isReady_=!1,n.hasStarted_=!1,n.userActive_=!1,n.debugEnabled_=!1,n.audioOnlyMode_=!1,n.audioPosterMode_=!1,n.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},n.options_&&n.options_.techOrder&&n.options_.techOrder.length)return n.tag=e,n.tagAttributes=e&&Pe(e),n.language(n.options_.language),t.languages?(o={},Object.getOwnPropertyNames(t.languages).forEach(function(e){o[e.toLowerCase()]=t.languages[e]}),n.languages_=o):n.languages_=Ta.prototype.options_.languages,n.resetCache_(),n.poster_=t.poster||"",n.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),n.changingSrc_=!1,n.playCallbacks_=[],n.playTerminatedQueue_=[],e.hasAttribute("autoplay")?n.autoplay(!0):n.autoplay(n.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(e){if("function"!=typeof n[e])throw new Error('plugin "'+e+'" does not exist')}),n.scrubbing_=!1,n.el_=n.createEl(),xt(g(n),{eventBusKey:"el_"}),n.fsApi_.requestFullscreen&&(rt(document,n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_),n.on(n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_)),n.fluid_&&n.on(["playerreset","resize"],n.boundUpdateStyleEl_),i=f(n.options_),t.plugins&&Object.keys(t.plugins).forEach(function(e){n[e](t.plugins[e])}),t.debug&&n.debug(!0),n.options_.playerOptions=i,n.middleware_=[],n.playbackRates(t.playbackRates),n.initChildren(),n.isAudio("audio"===e.nodeName.toLowerCase()),n.controls()?n.addClass("vjs-controls-enabled"):n.addClass("vjs-controls-disabled"),n.el_.setAttribute("role","region"),n.isAudio()?n.el_.setAttribute("aria-label",n.localize("Audio Player")):n.el_.setAttribute("aria-label",n.localize("Video Player")),n.isAudio()&&n.addClass("vjs-audio"),n.flexNotSupported_()&&n.addClass("vjs-no-flex"),de&&n.addClass("vjs-touch-enabled"),pe||n.addClass("vjs-workinghover"),Ta.players[n.id_]=g(n),e="7.20.3".split(".")[0],n.addClass("vjs-v"+e),n.userActive(!0),n.reportUserActivity(),n.one("play",function(e){return n.listenForUserActivity_(e)}),n.on("stageclick",function(e){return n.handleStageClick_(e)}),n.on("keydown",function(e){return n.handleKeyDown(e)}),n.on("languagechange",function(e){return n.handleLanguagechange(e)}),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n.on("ready",function(){n.audioPosterMode(n.options_.audioPosterMode),n.audioOnlyMode(n.options_.audioOnlyMode)}),n;throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?")}$i.names.forEach(function(e){var t=$i[e];T.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),T.prototype.crossorigin=T.prototype.crossOrigin,T.players={},i=window.navigator,T.prototype.options_={techOrder:C.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:i&&(i.languages&&i.languages[0]||i.userLanguage||i.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){T.prototype[e]=function(){return this.techGet_(e)}}),Sa.forEach(function(e){T.prototype["handleTech"+p(e)+"_"]=function(){return this.trigger(e)}}),c.registerComponent("Player",T);var Ia=G(function(i){function n(e,t){return i.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}i.exports=n});function Pa(e){return Ba.hasOwnProperty(e)}function Aa(e){return Pa(e)?Ba[e]:void 0}function Da(e,t,i){e.trigger(i=(i?"before":"")+"pluginsetup",t),e.trigger(i+":"+t.name,t)}function Ea(o,s){return s.prototype.name=o,function(){Da(this,{name:o,plugin:s,instance:null},!0);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=La(s,[this].concat(t));return this[o]=function(){return n},Da(this,n.getEventHash()),n}}function Oa(e,t){e[Ma]=e[Ma]||{},e[Ma][t]=!0}var La=G(function(n){function o(e,t,i){return(()=>{if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}})()?n.exports=o=Reflect.construct:n.exports=o=function(e,t,i){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),i&&Ia(n,i.prototype),n},o.apply(null,arguments)}n.exports=o}),Na="plugin",Ma="activePlugins_",Ba={},Fa=((n=Ra.prototype).version=function(){return this.constructor.VERSION},n.getEventHash=function(e){return(e=void 0===e?{}:e).name=this.name,e.plugin=this.constructor,e.instance=this,e},n.trigger=function(e,t){return ct(this.eventBusEl_,e,this.getEventHash(t=void 0===t?{}:t))},n.handleStateChanged=function(e){},n.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Ma][e]=!1,this.player=this.state=null,t[e]=Ea(e,Ba[e])},Ra.isBasic=function(e){return"function"==typeof(e="string"==typeof e?Aa(e):e)&&!Ra.prototype.isPrototypeOf(e.prototype)},Ra.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+Wh(e)+".");if(Pa(e))u.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(T.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+Wh(t)+".");return Ba[e]=t,e!==Na&&(Ra.isBasic(t)?T.prototype[e]=(n=e,o=t,Object.keys(o).forEach(function(e){i[e]=o[e]}),i):T.prototype[e]=Ea(e,t)),t;function i(){Da(this,{name:n,plugin:o,instance:null},!0);var e=o.apply(this,arguments);return Oa(this,n),Da(this,{name:n,plugin:o,instance:e}),e}var n,o},Ra.deregisterPlugin=function(e){if(e===Na)throw new Error("Cannot de-register base plugin.");Pa(e)&&(delete Ba[e],delete T.prototype[e])},Ra.getPlugins=function(e){var i;return(e=void 0===e?Object.keys(Ba):e).forEach(function(e){var t=Aa(e);t&&((i=i||{})[e]=t)}),i},Ra.getPluginVersion=function(e){return(e=Aa(e))&&e.VERSION||""},Ra);function Ra(e){if(this.constructor===Ra)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),xt(this),delete this.trigger,It(this,this.constructor.defaultState),Oa(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}Fa.getPlugin=Aa,Fa.BASE_PLUGIN_NAME=Na,Fa.registerPlugin(Na,Fa),T.prototype.usingPlugin=function(e){return!!this[Ma]&&!0===this[Ma][e]},T.prototype.hasPlugin=function(e){return!!Pa(e)};function ja(e){return 0===e.indexOf("#")?e.slice(1):e}function j(e,t,i){if(o=j.getPlayer(e))t&&u.warn('Player "'+e+'" is already initialised. Options will not be applied.'),i&&o.ready(i);else{var n="string"==typeof e?He("#"+ja(e)):e;if(!ve(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||u.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(n.parentNode&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),F("beforesetup").forEach(function(e){Z(e=e(n,f(t)))&&!Array.isArray(e)?t=f(t,e):u.error("please return an object in beforesetup hooks")});var o=new(c.getComponent("Player"))(n,t,i);F("setup").forEach(function(e){return e(o)})}return o}j.hooks_=B,j.hooks=F,j.hook=function(e,t){F(e,t)},j.hookOnce=function(i,e){F(i,[].concat(e).map(function(t){return function e(){return R(i,e),t.apply(void 0,arguments)}}))},j.removeHook=R,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&ye()&&!($a=He(".vjs-styles-defaults"))&&($a=Xe("vjs-styles-defaults"),(i=He("head"))&&i.insertBefore($a,i.firstChild),Ze($a,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")),Qe(1,j),j.VERSION="7.20.3",j.options=T.prototype.options_,j.getPlayers=function(){return T.players},j.getPlayer=function(e){var t=T.players;if("string"==typeof e){var i=ja(e),n=t[i];if(n)return n;i=He("#"+i)}else i=e;if(ve(i)&&(e=i.player,i=i.playerId,e||t[i]))return e||t[i]},j.getAllPlayers=function(){return Object.keys(T.players).map(function(e){return T.players[e]}).filter(Boolean)},j.players=T.players,j.getComponent=c.getComponent,j.registerComponent=function(e,t){C.isTech(t)&&u.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),c.registerComponent.call(c,e,t)},j.getTech=C.getTech,j.registerTech=C.registerTech,j.use=function(e,t){Sn[e]=Sn[e]||[],Sn[e].push(t)},Object.defineProperty(j,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(j.middleware,"TERMINATOR",{value:Cn,writeable:!1,enumerable:!0}),j.browser=t,j.TOUCH_ENABLED=de,j.extend=function(e,t){var i,n=function(){e.apply(this,arguments)},o={},t=("object"==Wh(t=void 0===t?{}:t)?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),o=t):"function"==typeof t&&(n=t),n),s=e;if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");for(i in t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),s&&Ia(t,s),e&&(n.super_=e),o)o.hasOwnProperty(i)&&(n.prototype[i]=o[i]);return n},j.mergeOptions=f,j.bind=l,j.registerPlugin=Fa.registerPlugin,j.deregisterPlugin=Fa.deregisterPlugin,j.plugin=function(e,t){return u.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Fa.registerPlugin(e,t)},j.getPlugins=Fa.getPlugins,j.getPlugin=Fa.getPlugin,j.getPluginVersion=Fa.getPluginVersion,j.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),j.options.languages=f(j.options.languages,((i={})[e]=t,i)),j.options.languages[e]},j.log=u,j.createLogger=q,j.createTimeRange=j.createTimeRanges=Bt,j.formatTime=Po,j.setFormatTime=function(e){Io=e},j.resetFormatTime=function(){Io=Jn},j.parseUrl=Jt,j.isCrossOrigin=ii,j.EventTarget=pt,j.on=rt,j.one=ut,j.off=lt,j.trigger=ct,j.xhr=Ci,j.TextTrack=Mi,j.AudioTrack=s,j.VideoTrack=ce,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){j[e]=function(){return u.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Ge[e].apply(null,arguments)}}),j.computedStyle=ee,j.dom=Ge,j.url=hi,j.defineLazyProperty=pa,j.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Ua=G(function(e,t){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,s=/^([^\/?#]*)([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),t=t.trim()){if(!(o=a.parseURL(t)))throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var n;if(t=a.parseURL(e))return!t.netLoc&&t.path&&"/"!==t.path[0]&&(n=s.exec(t.path),t.netLoc=n[1],t.path=n[2]),t.netLoc&&!t.path&&(t.path="/"),e={scheme:t.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment},o.netLoc||(e.netLoc=t.netLoc,"/"!==o.path[0]&&(o.path?(n=(n=t.path).substring(0,n.lastIndexOf("/")+1)+o.path,e.path=a.normalizePath(n)):(e.path=t.path,o.params||(e.params=t.params,o.query)||(e.query=t.query)))),null===e.path&&(e.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(e)}else{if(!i.alwaysNormalize)return e;var o=a.parseURL(e);if(o)return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}throw new Error("Error trying to parse base URL.")},parseURL:function(e){return(e=i.exec(e))?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}),Va="http://example.com",$a=((o=za.prototype).on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},o.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},o.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),s=t.length,a=0;a<s;++a)t[a].apply(this,o)},o.dispose=function(){this.listeners={}},o.pipe=function(t){this.on("data",function(e){t.push(e)})},za);function za(){this.listeners={}}function Wa(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||"");return e={},t[1]&&(e.length=parseInt(t[1],10)),t[2]&&(e.offset=parseInt(t[2],10)),e}function Ha(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},o=i.length;o--;)""!==i[o]&&((t=/([^=]*)=(.*)/.exec(i[o]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n}function qa(t){var i={};return Object.keys(t).forEach(function(e){i[e.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})]=t[e]}),i}function Ga(e){var t,i,n,o,s=e.serverControl,a=e.targetDuration,r=e.partTargetDuration;s&&(t="#EXT-X-SERVER-CONTROL",i="holdBack",n="partHoldBack",o=a&&3*a,e=r&&2*r,a&&!s.hasOwnProperty(i)&&(s[i]=o,this.trigger("info",{message:t+" defaulting HOLD-BACK to targetDuration * 3 ("+o+")."})),o&&s[i]<o&&(this.trigger("warn",{message:t+" clamping HOLD-BACK ("+s[i]+") to targetDuration * 3 ("+o+")"}),s[i]=o),r&&!s.hasOwnProperty(n)&&(s[n]=3*r,this.trigger("info",{message:t+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+s[n]+")."})),r)&&s[n]<e&&(this.trigger("warn",{message:t+" clamping PART-HOLD-BACK ("+s[n]+") to partTargetDuration * 2 ("+e+")."}),s[n]=e)}function Ya(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})}function Qa(e){e=(e=void 0===e?"":e).split(",");var s=[];return e.forEach(function(n){var o;n=n.trim(),hr.forEach(function(e){var t,i=dr[e].exec(n.toLowerCase());!i||i.length<=1||(o=e,t=n.substring(0,i[1].length),i=n.replace(t,""),s.push({type:t,details:i,mediaType:e}))}),o||s.push({type:n,details:"",mediaType:"unknown"})}),s}function Ka(e){return dr.audio.test((e=void 0===e?"":e).trim().toLowerCase())}function Xa(e){var t,i,n;if(e&&"string"==typeof e)return i="video",1===(t=e.toLowerCase().split(",").map(function(e){return Ya(e.trim())})).length&&Ka(t[0])?i="audio":1===t.length&&(n=t[0],dr.text.test((n=void 0===n?"":n).trim().toLowerCase()))&&(i="application"),n="mp4",t.every(function(e){return dr.mp4.test(e)})?n="mp4":t.every(function(e){return dr.webm.test(e)})?n="webm":t.every(function(e){return dr.ogg.test(e)})&&(n="ogg"),i+"/"+n+';codecs="'+e+'"'}function Za(e){return void 0===e&&(e=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(Xa(e))}function Ja(e){return(e=void 0===e?"":e).toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<pr.length;t++)if(dr["muxer"+pr[t]].test(e))return!0;return!1})}function er(e){return mr.test(e)?"hls":gr.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}function tr(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer}function I(e){return e instanceof Uint8Array?e:(Array.isArray(e)||yr(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))}function ir(e,t){if("string"!=typeof(e="string"!=typeof e&&e&&"function"==typeof e.toString?e.toString():e))return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function P(i,e,t){var n=void 0===t?{}:t,o=void 0===(t=n.offset)?0:t,s=void 0===(n=n.mask)?[]:n;return i=I(i),n=(e=I(e)).every||Array.prototype.every,e.length&&i.length-o>=e.length&&n.call(e,function(e,t){return e===(s[t]?s[t]&i[o+t]:i[o+t])})}function nr(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,n=/^\/\//.test(e),o=!window.location&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||br):/\/\//i.test(e)||(e=Ua.buildAbsoluteURL(window.location&&window.location.href||"",e)),i?(i=new URL(t,e),o?i.href.slice(br.length):n?i.href.slice(i.protocol.length):i.href):Ua.buildAbsoluteURL(e,t)}y(_r,ar=$a),_r.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)};var or,sr,ar,rr=_r,lr=String.fromCharCode(9),cr=(y(Sr,sr=$a),(S=Sr.prototype).push=function(i){var o,s,a=this;0!==(i=i.trim()).length&&("#"===i[0]?this.tagMappers.reduce(function(e,t){return(t=t(i))===i?e:e.concat([t])},[i]).forEach(function(e){for(var t,i,n=0;n<a.customParsers.length;n++)if(a.customParsers[n].call(a,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),o=/^#EXTM3U/.exec(e))a.trigger("data",{type:"tag",tagType:"m3u"});else if(o=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))s={type:"tag",tagType:"inf"},o[1]&&(s.duration=parseFloat(o[1])),o[2]&&(s.title=o[2]),a.trigger("data",s);else if(o=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))s={type:"tag",tagType:"targetduration"},o[1]&&(s.duration=parseInt(o[1],10)),a.trigger("data",s);else if(o=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))s={type:"tag",tagType:"version"},o[1]&&(s.version=parseInt(o[1],10)),a.trigger("data",s);else if(o=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))s={type:"tag",tagType:"media-sequence"},o[1]&&(s.number=parseInt(o[1],10)),a.trigger("data",s);else if(o=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))s={type:"tag",tagType:"discontinuity-sequence"},o[1]&&(s.number=parseInt(o[1],10)),a.trigger("data",s);else if(o=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))s={type:"tag",tagType:"playlist-type"},o[1]&&(s.playlistType=o[1]),a.trigger("data",s);else if(o=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))s=Q(Wa(o[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",s);else if(o=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))s={type:"tag",tagType:"allow-cache"},o[1]&&(s.allowed=!/NO/.test(o[1])),a.trigger("data",s);else if(o=/^#EXT-X-MAP:?(.*)$/.exec(e))s={type:"tag",tagType:"map"},o[1]&&((t=Ha(o[1])).URI&&(s.uri=t.URI),t.BYTERANGE)&&(s.byterange=Wa(t.BYTERANGE)),a.trigger("data",s);else if(o=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))s={type:"tag",tagType:"stream-inf"},o[1]&&(s.attributes=Ha(o[1]),s.attributes.RESOLUTION&&(i={},(t=s.attributes.RESOLUTION.split("x"))[0]&&(i.width=parseInt(t[0],10)),t[1]&&(i.height=parseInt(t[1],10)),s.attributes.RESOLUTION=i),s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["PROGRAM-ID"])&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10)),a.trigger("data",s);else if(o=/^#EXT-X-MEDIA:?(.*)$/.exec(e))s={type:"tag",tagType:"media"},o[1]&&(s.attributes=Ha(o[1])),a.trigger("data",s);else if(o=/^#EXT-X-ENDLIST/.exec(e))a.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(o=/^#EXT-X-DISCONTINUITY/.exec(e)))return(o=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(s={type:"tag",tagType:"program-date-time"},o[1]&&(s.dateTimeString=o[1],s.dateTimeObject=new Date(o[1])),void a.trigger("data",s)):(o=/^#EXT-X-KEY:?(.*)$/.exec(e))?(s={type:"tag",tagType:"key"},o[1]&&(s.attributes=Ha(o[1]),s.attributes.IV)&&("0x"===s.attributes.IV.substring(0,2).toLowerCase()&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV)),void a.trigger("data",s)):(o=/^#EXT-X-START:?(.*)$/.exec(e))?(s={type:"tag",tagType:"start"},o[1]&&(s.attributes=Ha(o[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),void a.trigger("data",s)):(o=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(s={type:"tag",tagType:"cue-out-cont"},o[1]?s.data=o[1]:s.data="",void a.trigger("data",s)):(o=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(s={type:"tag",tagType:"cue-out"},o[1]?s.data=o[1]:s.data="",void a.trigger("data",s)):(o=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(s={type:"tag",tagType:"cue-in"},o[1]?s.data=o[1]:s.data="",void a.trigger("data",s)):(o=/^#EXT-X-SKIP:(.*)$/.exec(e))&&o[1]?((s={type:"tag",tagType:"skip"}).attributes=Ha(o[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(lr)),void a.trigger("data",s)):(o=/^#EXT-X-PART:(.*)$/.exec(e))&&o[1]?((s={type:"tag",tagType:"part"}).attributes=Ha(o[1]),["DURATION"].forEach(function(e){s.attributes.hasOwnProperty(e)&&(s.attributes[e]=parseFloat(s.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){s.attributes.hasOwnProperty(e)&&(s.attributes[e]=/YES/.test(s.attributes[e]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=Wa(s.attributes.BYTERANGE)),void a.trigger("data",s)):(o=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&o[1]?((s={type:"tag",tagType:"server-control"}).attributes=Ha(o[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){s.attributes.hasOwnProperty(e)&&(s.attributes[e]=parseFloat(s.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(e){s.attributes.hasOwnProperty(e)&&(s.attributes[e]=/YES/.test(s.attributes[e]))}),void a.trigger("data",s)):(o=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&o[1]?((s={type:"tag",tagType:"part-inf"}).attributes=Ha(o[1]),["PART-TARGET"].forEach(function(e){s.attributes.hasOwnProperty(e)&&(s.attributes[e]=parseFloat(s.attributes[e]))}),void a.trigger("data",s)):(o=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&o[1]?((s={type:"tag",tagType:"preload-hint"}).attributes=Ha(o[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(e){var t;s.attributes.hasOwnProperty(e)&&(s.attributes[e]=parseInt(s.attributes[e],10),t="BYTERANGE-LENGTH"===e?"length":"offset",s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[t]=s.attributes[e],delete s.attributes[e])}),void a.trigger("data",s)):(o=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&o[1]?((s={type:"tag",tagType:"rendition-report"}).attributes=Ha(o[1]),["LAST-MSN","LAST-PART"].forEach(function(e){s.attributes.hasOwnProperty(e)&&(s.attributes[e]=parseInt(s.attributes[e],10))}),void a.trigger("data",s)):void a.trigger("data",{type:"tag",data:e.slice(4)});a.trigger("data",{type:"tag",tagType:"discontinuity"})}else a.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:i}))},S.addParser=function(e){var t=this,i=e.expression,n=e.customType,o=e.dataParser,s=e.segment;"function"!=typeof o&&(o=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:o(e),customType:n,segment:s}),!0})},S.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},Sr),ur=(y(wr,or=$a),(e=wr.prototype).warnOnMissingAttributes_=function(e,t,i){var n=[];i.forEach(function(e){t.hasOwnProperty(e)||n.push(e)}),n.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+n.join(", ")})},e.push=function(e){this.lineStream.push(e)},e.end=function(){this.lineStream.push("\n"),this.trigger("end")},e.addParser=function(e){this.parseStream.addParser(e)},e.addTagMapper=function(e){this.parseStream.addTagMapper(e)},wr),dr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},hr=["video","audio","text"],pr=["Video","Audio","Text"],fr="mp4a.40.2",mr=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,gr=/^application\/dash\+xml/i,yr=tr,A=window.BigInt||Number,vr=[A("0x1"),A("0x100"),A("0x10000"),A("0x1000000"),A("0x100000000"),A("0x10000000000"),A("0x1000000000000"),A("0x100000000000000"),A("0x10000000000000000")],br="http://example.com";function wr(){var e=or.call(this)||this;e.lineStream=new rr,e.parseStream=new cr,e.lineStream.pipe(e.parseStream);var n,o,s=g(e),r=[],l={},c=!1,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0,h=(e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},0),p=0;return e.on("end",function(){l.uri||!l.parts&&!l.preloadHints||(!l.map&&n&&(l.map=n),!l.key&&o&&(l.key=o),l.timeline||"number"!=typeof d||(l.timeline=d),e.manifest.preloadSegment=l)}),e.parseStream.on("data",function(a){var t,i;({tag:function(){({version:function(){a.version&&(this.manifest.version=a.version)},"allow-cache":function(){this.manifest.allowCache=a.allowed,"allowed"in a||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in a&&((l.byterange=e).length=a.length,"offset"in a||(a.offset=h)),"offset"in a&&((l.byterange=e).offset=a.offset),h=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<a.duration&&(l.duration=a.duration),0===a.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){if(a.attributes)if("NONE"!==a.attributes.METHOD)if(a.attributes.URI)if("com.apple.streamingkeydelivery"===a.attributes.KEYFORMAT)this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:a.attributes};else{if("com.microsoft.playready"!==a.attributes.KEYFORMAT)return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===a.attributes.KEYFORMAT?-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(a.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===a.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==a.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):a.attributes.KEYID&&"0x"===a.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:a.attributes.KEYFORMAT,keyId:a.attributes.KEYID.substring(2)},pssh:(e=>{e=e;for(var t=window.atob?window.atob(e):zh.from(e,"base64").toString("binary"),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i})(a.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"})):(a.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:a.attributes.METHOD||"AES-128",uri:a.attributes.URI},void(void 0!==a.attributes.IV&&(o.iv=a.attributes.IV)));this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:a.attributes.URI}}else this.trigger("warn",{message:"ignoring key declaration without URI"});else o=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(a.number)?this.manifest.mediaSequence=a.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+a.number})},"discontinuity-sequence":function(){isFinite(a.number)?(this.manifest.discontinuitySequence=a.number,d=a.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+a.number})},"playlist-type":function(){/VOD|EVENT/.test(a.playlistType)?this.manifest.playlistType=a.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+a.playlist})},map:function(){n={},a.uri&&(n.uri=a.uri),a.byterange&&(n.byterange=a.byterange),o&&(n.key=o)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,a.attributes?(l.attributes||(l.attributes={}),Q(l.attributes,a.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var e;this.manifest.mediaGroups=this.manifest.mediaGroups||u,a.attributes&&a.attributes.TYPE&&a.attributes["GROUP-ID"]&&a.attributes.NAME?((e=this.manifest.mediaGroups[a.attributes.TYPE])[a.attributes["GROUP-ID"]]=e[a.attributes["GROUP-ID"]]||{},t=e[a.attributes["GROUP-ID"]],(i={default:/yes/i.test(a.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(a.attributes.AUTOSELECT),a.attributes.LANGUAGE&&(i.language=a.attributes.LANGUAGE),a.attributes.URI&&(i.uri=a.attributes.URI),a.attributes["INSTREAM-ID"]&&(i.instreamId=a.attributes["INSTREAM-ID"]),a.attributes.CHARACTERISTICS&&(i.characteristics=a.attributes.CHARACTERISTICS),a.attributes.FORCED&&(i.forced=/yes/i.test(a.attributes.FORCED)),t[a.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){d+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=a.dateTimeString,this.manifest.dateTimeObject=a.dateTimeObject),l.dateTimeString=a.dateTimeString,l.dateTimeObject=a.dateTimeObject},targetduration:function(){!isFinite(a.duration)||a.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+a.duration}):(this.manifest.targetDuration=a.duration,Ga.call(this,this.manifest))},start:function(){a.attributes&&!isNaN(a.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:a.attributes["TIME-OFFSET"],precise:a.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){l.cueOut=a.data},"cue-out-cont":function(){l.cueOutCont=a.data},"cue-in":function(){l.cueIn=a.data},skip:function(){this.manifest.skip=qa(a.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",a.attributes,["SKIPPED-SEGMENTS"])},part:function(){var i=this,e=(c=!0,this.manifest.segments.length),t=qa(a.attributes),t=(l.parts=l.parts||[],l.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=p),p=t.byterange.offset+t.byterange.length),l.parts.length-1);this.warnOnMissingAttributes_("#EXT-X-PART #"+t+" for segment #"+e,a.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(e,t){e.hasOwnProperty("lastPart")||i.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+t+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var e=this.manifest.serverControl=qa(a.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Ga.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var e=this.manifest.segments.length,t=qa(a.attributes),i=t.type&&"PART"===t.type,n=(l.preloadHints=l.preloadHints||[],l.preloadHints.push(t),!t.byterange||t.byterange.hasOwnProperty("offset")||(t.byterange.offset=i?p:0,i&&(p=t.byterange.offset+t.byterange.length)),l.preloadHints.length-1);if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+n+" for segment #"+e,a.attributes,["TYPE","URI"]),t.type)for(var o=0;o<l.preloadHints.length-1;o++){var s=l.preloadHints[o];s.type&&s.type===t.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+n+" for segment #"+e+" has the same TYPE "+t.type+" as preload hint #"+o})}},"rendition-report":function(){var e=qa(a.attributes),t=(this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e),this.manifest.renditionReports.length-1),e=["LAST-MSN","URI"];c&&e.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+t,a.attributes,e)},"part-inf":function(){this.manifest.partInf=qa(a.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",a.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Ga.call(this,this.manifest)}}[a.tagType]||function(){}).call(s)},uri:function(){l.uri=a.uri,r.push(l),!this.manifest.targetDuration||"duration"in l||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),o&&(l.key=o),l.timeline=d,n&&(l.map=n),p=0,l={}},comment:function(){},custom:function(){a.segment?(l.custom=l.custom||{},l.custom[a.customType]=a.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[a.customType]=a.data)}})[a.type].call(s)}),e}function Sr(){var e=sr.call(this)||this;return e.customParsers=[],e.tagMappers=[],e}function _r(){var e=ar.call(this)||this;return e.buffer="",e}function Cr(e,t){return(t=void 0===t?Object:t)&&"function"==typeof t.freeze?t.freeze(e):e}var kr=Cr({HTML:"text/html",isHTML:function(e){return e===kr.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),xr=Cr({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===xr.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),Tr={freeze:Cr,MIME_TYPE:kr,NAMESPACE:xr},Ir=Tr.NAMESPACE;function Pr(e){return""!==e}function Ar(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function Dr(e){return e?(e=e?e.split(/[\t\n\f\r ]+/).filter(Pr):[],Object.keys(e.reduce(Ar,{}))):[]}function Er(e,t){for(var i in e)t[i]=e[i]}function Or(e,t){var i,n=e.prototype;n instanceof t||((i=function(){}).prototype=t.prototype,Er(n,i=new i),e.prototype=n=i),n.constructor!=e&&(n.constructor=e)}(t={}).ELEMENT_NODE=1,t.ATTRIBUTE_NODE=2,t.TEXT_NODE=3,t.CDATA_SECTION_NODE=4,t.ENTITY_REFERENCE_NODE=5,t.ENTITY_NODE=6,t.PROCESSING_INSTRUCTION_NODE=7,t.COMMENT_NODE=8,t.DOCUMENT_NODE=9,t.DOCUMENT_TYPE_NODE=10,t.DOCUMENT_FRAGMENT_NODE=11;t.NOTATION_NODE=12;var Lr,D={};function Nr(e,t){var i;return t instanceof Error?i=t:(i=this,Error.call(this,D[e]),this.message=D[e],Error.captureStackTrace&&Error.captureStackTrace(this,Nr)),i.code=e,t&&(this.message=this.message+": "+t),i}function Mr(){}function Br(e,t){this._node=e,this._refresh=t,Fr(this)}function Fr(e){var t,i=e._node._inc||e._node.ownerDocument._inc;e._inc!=i&&(t=e._refresh(e._node),fl(e,"length",t.length),Er(t,e),e._inc=i)}function Rr(){}function jr(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function Ur(e,t,i,n){n?t[jr(t,n)]=i:t[t.length++]=i,e&&(t=(i.ownerElement=e).ownerDocument)&&(n&&Gr(t,e,n),t&&t._inc++,i.namespaceURI===Ir.XMLNS)&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function Vr(e,t,i){var n=jr(t,i);if(!(0<=n))throw Nr(8,new Error(e.tagName+"@"+i));for(var o,s=t.length-1;n<s;)t[n]=t[++n];t.length=s,e&&(o=e.ownerDocument)&&(Gr(o,e,i),i.ownerElement=null)}function $r(){}function zr(){}function Wr(e){return("<"==e?"&lt;":">"==e&&"&gt;")||("&"==e?"&amp;":'"'==e&&"&quot;")||"&#"+e.charCodeAt()+";"}function Hr(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(Hr(e,t))return 1}while(e=e.nextSibling)}function qr(){}function Gr(e,t,i){e&&e._inc++,i.namespaceURI===Ir.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function Yr(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var o=t.firstChild,s=0;o;)o=(n[s++]=o).nextSibling;n.length=s}}}function Qr(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,Yr(e.ownerDocument,e),t}function Kr(e,t,i){var n=t.parentNode;if(n&&n.removeChild(t),11===t.nodeType){var o=t.firstChild;if(null==o)return t;var s=t.lastChild}else o=s=t;for(n=i?i.previousSibling:e.lastChild,o.previousSibling=n,s.nextSibling=i,n?n.nextSibling=o:e.firstChild=o,null==i?e.lastChild=s:i.previousSibling=s;o.parentNode=e,o!==s&&(o=o.nextSibling););return Yr(e.ownerDocument||e,e),11==t.nodeType&&(t.firstChild=t.lastChild=null),t}function Xr(){this._nsMap={}}function Zr(){}function Jr(){}function el(){}function tl(){}function il(){}function nl(){}function ol(){}function sl(){}function al(){}function rl(){}function ll(){}function cl(){}function ul(e,t){var i,n=[],o=9==this.nodeType&&this.documentElement||this,s=o.prefix,a=o.namespaceURI;return pl(this,n,e,t,i=a&&null==s&&null==o.lookupPrefix(a)?[{namespace:a,prefix:null}]:i),n.join("")}function dl(e,t,i){var n=e.prefix||"",o=e.namespaceURI;if(o&&("xml"!==n||o!==Ir.XML)&&o!==Ir.XMLNS){for(var s=i.length;s--;){var a=i[s];if(a.prefix===n)return a.namespace!==o}return 1}}function hl(e,t,i){e.push(" ",t,'="',i.replace(/[<&"]/g,Wr),'"')}function pl(e,t,i,n,o){if(o=o||[],n){if(!(e=n(e)))return;if("string"==typeof e)return t.push(e)}switch(e.nodeType){case 1:var s=e.attributes,a=s.length,r=e.firstChild,l=e.tagName,c=l;if(!(i=Ir.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var u,d=0;d<s.length;d++)if("xmlns"===s.item(d).name){u=s.item(d).value;break}if(!u)for(var h=o.length-1;0<=h;h--)if(""===(p=o[h]).prefix&&p.namespace===e.namespaceURI){u=p.namespace;break}if(u!==e.namespaceURI)for(var p,h=o.length-1;0<=h;h--)if((p=o[h]).namespace===e.namespaceURI){p.prefix&&(c=p.prefix+":"+l);break}}t.push("<",c);for(var f,m,g,y=0;y<a;y++)"xmlns"==(f=s.item(y)).prefix?o.push({prefix:f.localName,namespace:f.value}):"xmlns"==f.nodeName&&o.push({prefix:"",namespace:f.value});for(y=0;y<a;y++)dl(f=s.item(y),0,o)&&(hl(t,(m=f.prefix||"")?"xmlns:"+m:"xmlns",g=f.namespaceURI),o.push({prefix:m,namespace:g})),pl(f,t,i,n,o);if(l===c&&dl(e,0,o)&&(hl(t,(m=e.prefix||"")?"xmlns:"+m:"xmlns",g=e.namespaceURI),o.push({prefix:m,namespace:g})),r||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;r;)r.data?t.push(r.data):pl(r,t,i,n,o.slice()),r=r.nextSibling;else for(;r;)pl(r,t,i,n,o.slice()),r=r.nextSibling;t.push("</",c,">")}else t.push("/>");return;case 9:case 11:for(r=e.firstChild;r;)pl(r,t,i,n,o.slice()),r=r.nextSibling;return;case 2:return hl(t,e.name,e.value);case 3:return t.push(e.data.replace(/[<&]/g,Wr).replace(/]]>/g,"]]&gt;"));case 4:return t.push("<![CDATA[",e.data,"]]>");case 8:return t.push("\x3c!--",e.data,"--\x3e");case 10:var v=e.publicId,b=e.systemId;return t.push("<!DOCTYPE ",e.name),v?(t.push(" PUBLIC ",v),b&&"."!=b&&t.push(" ",b),t.push(">")):b&&"."!=b?t.push(" SYSTEM ",b,">"):((b=e.internalSubset)&&t.push(" [",b,"]"),t.push(">"));case 7:return t.push("<?",e.target," ",e.data,"?>");case 5:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function fl(e,t,i){e[t]=i}(s={}).INDEX_SIZE_ERR=(D[1]="Index size error",1),s.DOMSTRING_SIZE_ERR=(D[2]="DOMString size error",2),s.HIERARCHY_REQUEST_ERR=(D[3]="Hierarchy request error",3),s.WRONG_DOCUMENT_ERR=(D[4]="Wrong document",4),s.INVALID_CHARACTER_ERR=(D[5]="Invalid character",5),s.NO_DATA_ALLOWED_ERR=(D[6]="No data allowed",6),s.NO_MODIFICATION_ALLOWED_ERR=(D[7]="No modification allowed",7),s.NOT_FOUND_ERR=(D[8]="Not found",8),s.NOT_SUPPORTED_ERR=(D[9]="Not supported",9),s.INUSE_ATTRIBUTE_ERR=(D[10]="Attribute in use",10),s.INVALID_STATE_ERR=(D[11]="Invalid state",11),s.SYNTAX_ERR=(D[12]="Syntax error",12),s.INVALID_MODIFICATION_ERR=(D[13]="Invalid modification",13),s.NAMESPACE_ERR=(D[14]="Invalid namespace",14),s.INVALID_ACCESS_ERR=(D[15]="Invalid access",15),Nr.prototype=Error.prototype,Er(s,Nr),Mr.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)pl(this[n],i,e,t);return i.join("")}},Br.prototype.item=function(e){return Fr(this),this[e]},Or(Br,Mr),Rr.prototype={length:0,item:Mr.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Nr(10);return t=this.getNamedItem(e.nodeName),Ur(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Nr(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Ur(this._ownerElement,this,e,t),t},removeNamedItem:function(e){return e=this.getNamedItem(e),Vr(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){return t=this.getNamedItemNS(e,t),Vr(this._ownerElement,this,t),t},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},$r.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var n=new qr;return n.implementation=this,n.childNodes=new Mr,n.doctype=i||null,i&&n.appendChild(i),t&&(t=n.createElementNS(e,t),n.appendChild(t)),n},createDocumentType:function(e,t,i){var n=new nl;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=i||"",n}},zr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Kr(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return Qr(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,i,n){var o,s=new i.constructor;for(o in i){var a=i[o];"object"!=Wh(a)&&a!=s[o]&&(s[o]=a)}switch(i.childNodes&&(s.childNodes=new Mr),s.ownerDocument=t,s.nodeType){case 1:var r=i.attributes,l=s.attributes=new Rr,c=r.length;l._ownerElement=s;for(var u=0;u<c;u++)s.setAttributeNode(e(t,r.item(u),!0));break;case 2:n=!0}if(n)for(var d=i.firstChild;d;)s.appendChild(e(t,d,n)),d=d.nextSibling;return s}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&3==t.nodeType&&3==e.nodeType?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var n in i)if(i[n]==e)return n;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&e in i)return i[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},Er(t,zr),Er(t,zr.prototype),qr.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(11!=e.nodeType)null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),Kr(this,e,t),e.ownerDocument=this;else for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),Qr(this,e)},importNode:function(e,t){return function e(t,i,n){var o;switch(i.nodeType){case 1:(o=i.cloneNode(!1)).ownerDocument=t;case 11:break;case 2:n=!0}if((o=o||i.cloneNode(!1)).ownerDocument=t,o.parentNode=null,n)for(var s=i.firstChild;s;)o.appendChild(e(t,s,n)),s=s.nextSibling;return o}(this,e,t)},getElementById:function(t){var i=null;return Hr(this.documentElement,function(e){if(1==e.nodeType&&e.getAttribute("id")==t)return i=e,!0}),i},getElementsByClassName:function(a){var r=Dr(a);return new Br(this,function(o){var s=[];return 0<r.length&&Hr(o.documentElement,function(e){var t,i,n;e!==o&&1===e.nodeType&&(t=e.getAttribute("class"))&&((i=a===t)||(t=Dr(t),i=r.every((n=t,function(e){return n&&-1!==n.indexOf(e)}))),i)&&s.push(e)}),s})},createElement:function(e){var t=new Xr;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Mr,(t.attributes=new Rr)._ownerElement=t},createDocumentFragment:function(){var e=new rl;return e.ownerDocument=this,e.childNodes=new Mr,e},createTextNode:function(e){var t=new el;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new tl;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new il;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new ll;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new Zr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new al;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new Xr,n=t.split(":"),o=i.attributes=new Rr;return i.childNodes=new Mr,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,o._ownerElement=i},createAttributeNS:function(e,t){var i=new Zr,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},Or(qr,zr),qr.prototype.getElementsByTagName=(Xr.prototype={nodeType:1,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){return(e=this.getAttributeNode(e))&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){(e=this.ownerDocument.createAttribute(e)).value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){(e=this.getAttributeNode(e))&&this.removeAttributeNode(e)},appendChild:function(e){return 11===e.nodeType?this.insertBefore(e,null):(t=this,(i=(e=e).parentNode)&&(n=t.lastChild,i.removeChild(e),n=t.lastChild),n=t.lastChild,e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,Yr(t.ownerDocument,t,e),e);var t,i,n},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){(t=this.getAttributeNodeNS(e,t))&&this.removeAttributeNode(t)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){return(t=this.getAttributeNodeNS(e,t))&&t.value||""},setAttributeNS:function(e,t,i){(t=this.ownerDocument.createAttributeNS(e,t)).value=t.nodeValue=""+i,this.setAttributeNode(t)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(n){return new Br(this,function(t){var i=[];return Hr(t,function(e){e===t||1!=e.nodeType||"*"!==n&&e.tagName!=n||i.push(e)}),i})},getElementsByTagNameNS:function(n,o){return new Br(this,function(t){var i=[];return Hr(t,function(e){e===t||1!==e.nodeType||"*"!==n&&e.namespaceURI!==n||"*"!==o&&e.localName!=o||i.push(e)}),i})}}).getElementsByTagName,qr.prototype.getElementsByTagNameNS=Xr.prototype.getElementsByTagNameNS,Or(Xr,zr),Zr.prototype.nodeType=2,Or(Zr,zr),Jr.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(D[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){var n=this.data.substring(0,e);t=this.data.substring(e+t),this.nodeValue=this.data=i=n+i+t,this.length=i.length}},Or(Jr,zr),el.prototype={nodeName:"#text",nodeType:3,splitText:function(e){var t=(i=this.data).substring(e),i=i.substring(0,e);return this.data=this.nodeValue=i,this.length=i.length,t=this.ownerDocument.createTextNode(t),this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}},Or(el,Jr),tl.prototype={nodeName:"#comment",nodeType:8},Or(tl,Jr),il.prototype={nodeName:"#cdata-section",nodeType:4},Or(il,Jr),nl.prototype.nodeType=10,Or(nl,zr),ol.prototype.nodeType=12,Or(ol,zr),sl.prototype.nodeType=6,Or(sl,zr),al.prototype.nodeType=5,Or(al,zr),rl.prototype.nodeName="#document-fragment",rl.prototype.nodeType=11,Or(rl,zr),ll.prototype.nodeType=7,Or(ll,zr),cl.prototype.serializeToString=function(e,t,i){return ul.call(e,t,i)},zr.prototype.toString=ul;try{Object.defineProperty&&(Lr=function e(t){switch(t.nodeType){case 1:case 11:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(e(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}},Object.defineProperty(Br.prototype,"length",{get:function(){return Fr(this),this.$$length}}),Object.defineProperty(zr.prototype,"textContent",{get:function(){return Lr(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),fl=function(e,t,i){e["$$"+t]=i})}catch(M){}var ce={DocumentType:nl,DOMException:Nr,DOMImplementation:$r,Element:Xr,Node:zr,NodeList:Mr,XMLSerializer:cl},ml=G(function(e,t){var i=Tr.freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES}),gl=(ml.XML_ENTITIES,Tr.NAMESPACE),yl=(hi=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$a=new RegExp("[\\-\\.0-9"+hi.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),new RegExp("^"+hi.source+$a.source+"*(?::"+hi.source+$a.source+"*)?$"));function vl(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,vl)}function bl(){}function wl(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Sl(e,t,i){for(var n,o=e.tagName,s=null,a=e.length;a--;){var r=e[a],l=r.qName,c=r.value,l=0<(u=l.indexOf(":"))?(n=r.prefix=l.slice(0,u),d=l.slice(u+1),"xmlns"===n&&d):(n=null,"xmlns"===(d=l)&&"");r.localName=d,!1!==l&&(null==s&&(s={},_l(i,i={})),i[l]=s[l]=c,r.uri=gl.XMLNS,t.startPrefixMapping(l,c))}for(a=e.length;a--;)(n=(r=e[a]).prefix)&&("xml"===n&&(r.uri=gl.XML),"xmlns"!==n)&&(r.uri=i[n||""]);var u,d=0<(u=o.indexOf(":"))?(n=e.prefix=o.slice(0,u),e.localName=o.slice(u+1)):(n=null,e.localName=o),h=e.uri=i[n||""];if(t.startElement(h,d,o,e),!e.closed)return e.currentNSMap=i,e.localNSMap=s,1;if(t.endElement(h,d,o),s)for(n in s)t.endPrefixMapping(n)}function _l(e,t){for(var i in e)t[i]=e[i]}function Cl(){this.attributeNames={}}(vl.prototype=new Error).name=vl.name,bl.prototype={parse:function(e,t,i){var n=this.domBuilder;n.startDocument(),_l(t,t={}),((i,e,n,o,s)=>{function a(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(s.error("entity not found:"+e),e)}function t(e){var t;I<e&&(t=i.substring(I,e).replace(/&#?\w+;/g,a),x&&r(I),o.characters(t,0,e-I),I=e)}function r(e,t){for(;k<=e&&(t=B.exec(i));)C=t.index,k=C+t[0].length,x.lineNumber++;x.columnNumber=e-C+1}for(var l,c,u,d,h,p,f,m,g,y,v,b,w,S,_,C=0,k=0,B=/.*(?:\r\n?|\n)|.*$/g,x=o.locator,T=[{currentNSMap:e}],F={},I=0;;){try{var R,P,A=i.indexOf("<",I);if(A<0)return i.substr(I).match(/^\s*$/)||(P=(R=o.doc).createTextNode(i.substr(I)),R.appendChild(P),o.currentElement=P);switch(I<A&&t(A),i.charAt(A+1)){case"/":var D=i.indexOf(">",A+3),E=i.substring(A+2,D).replace(/[ \t\n\r]+$/g,""),O=T.pop(),j=(D<0?(E=i.substring(A+2).replace(/[\s<].*/,""),s.error("end tag name: "+E+" is not complete:"+O.tagName),D=A+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),s.error("end tag name: "+E+" maybe not complete"),D=A+1+E.length),O.localNSMap),U=O.tagName==E;if(U||O.tagName&&O.tagName.toLowerCase()==E.toLowerCase()){if(o.endElement(O.uri,O.localName,E),j)for(var V in j)o.endPrefixMapping(V);U||s.fatalError("end tag name: "+E+" is not match the current start tagName:"+O.tagName)}else T.push(O);D++;break;case"?":x&&r(A),w=A,S=o,_=void 0,D=(_=(b=i).indexOf("?>",w))&&(w=b.substring(w,_).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(w[0].length,S.processingInstruction(w[1],w[2]),_+2):-1;break;case"!":x&&r(A),f=A,m=o,g=s,v=y=void 0,D="-"===(p=i).charAt(f+2)?"-"!==p.charAt(f+3)?-1:f<(y=p.indexOf("--\x3e",f+4))?(m.comment(p,f+4,y-f-4),y+3):(g.error("Unclosed comment"),-1):"CDATA["==p.substr(f+3,6)?(y=p.indexOf("]]>",f+9),m.startCDATA(),m.characters(p,f+9,y-f-9),m.endCDATA(),y+3):1<(g=(v=((e,t)=>{var i,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);i=o.exec(e);)if(n.push(i),i[1])return n})(p,f)).length)&&/!doctype/i.test(v[0][0])?(y=v[1][0],f=p=!1,3<g&&(/^public$/i.test(v[2][0])?(p=v[3][0],f=4<g&&v[4][0]):/^system$/i.test(v[2][0])&&(f=v[3][0])),g=v[g-1],m.startDTD(y,p,f),m.endDTD(),g.index+g[0].length):-1;break;default:x&&r(A);var L=new Cl,N=T[T.length-1].currentNSMap,$=(D=((e,t,n,i,o,s)=>{function a(e,t,i){n.attributeNames.hasOwnProperty(e)&&s.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,i)}for(var r,l=++t,c=0;;){var u=e.charAt(l);switch(u){case"=":if(1===c)r=e.slice(t,l);else if(2!==c)throw new Error("attribute equal must after attrName");c=3;break;case"'":case'"':if(3===c||1===c){if(1===c&&(s.warning('attribute value must after "="'),r=e.slice(t,l)),!(0<(l=e.indexOf(u,t=l+1))))throw new Error("attribute value no end '"+u+"' match");a(r,d=e.slice(t,l).replace(/&#?\w+;/g,o),t-1)}else{if(4!=c)throw new Error('attribute value must after "="');a(r,d=e.slice(t,l).replace(/&#?\w+;/g,o),t),s.warning('attribute "'+r+'" missed start quot('+u+")!!"),t=l+1}c=5;break;case"/":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,l)),l;case">":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,l)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===c&&(d=r),4==c?(s.warning('attribute "'+d+'" missed quot(")!'),a(r,d.replace(/&#?\w+;/g,o),t)):(gl.isHTML(i[""])&&d.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),a(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":u=" ";default:if(u<=" ")switch(c){case 0:n.setTagName(e.slice(t,l)),c=6;break;case 1:r=e.slice(t,l),c=2;break;case 4:var d=e.slice(t,l).replace(/&#?\w+;/g,o);s.warning('attribute "'+d+'" missed quot(")!!'),a(r,d,t);case 5:c=6}else switch(c){case 2:n.tagName,gl.isHTML(i[""])&&r.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+r+'" missed value!! "'+r+'" instead2!!'),a(r,r,t),t=l,c=1;break;case 5:s.warning('attribute space is required"'+r+'"!!');case 6:c=1,t=l;break;case 3:c=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}})(i,A,L,N,a,s),L.length);if(!L.closed&&(l=i,c=D,u=L.tagName,h=void 0,null==(h=(d=F)[u])&&((h=l.lastIndexOf("</"+u+">"))<c&&(h=l.lastIndexOf("</"+u)),d[u]=h),h<c)&&(L.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),x&&$){for(var z=wl(x,{}),M=0;M<$;M++){var W=L[M];r(W.offset),W.locator=wl(x,{})}o.locator=z,Sl(L,o,N)&&T.push(L),o.locator=x}else Sl(L,o,N)&&T.push(L);gl.isHTML(L.uri)&&!L.closed?D=((e,t,i,n,o)=>{if(/^(?:script|textarea)$/i.test(i)){var s=e.indexOf("</"+i+">",t);if(e=e.substring(t+1,s),/[&<]/.test(e))return/^script$/i.test(i)||(e=e.replace(/&#?\w+;/g,n)),o.characters(e,0,e.length),s}return t+1})(i,D,L.tagName,a,o):D++}}catch(e){if(e instanceof vl)throw e;s.error("element parse error: "+e),D=-1}I<D?I=D:t(Math.max(A,I)+1)}})(e,t,i,n,this.errorHandler),n.endDocument()}},Cl.prototype={setTagName:function(e){if(!yl.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!yl.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var s={XMLReader:bl,ParseError:vl},kl=ce.DOMImplementation,xl=Tr.NAMESPACE,Tl=s.ParseError,Il=s.XMLReader;function Pl(e){this.options=e||{locator:{}}}function Al(){this.cdata=!1}function Dl(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function El(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function Ol(e,t){(e.currentElement||e.doc).appendChild(t)}function Ll(e){return e&&"object"==Wh(e)}function Nl(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(t,i){return"object"==Wh(i)&&Object.keys(i).forEach(function(e){Array.isArray(t[e])&&Array.isArray(i[e])?t[e]=t[e].concat(i[e]):Ll(t[e])&&Ll(i[e])?t[e]=Nl(t[e],i[e]):t[e]=i[e]}),t},{})}function Ml(t){return Object.keys(t).map(function(e){return t[e]})}function Bl(e){return e.reduce(function(e,t){return e.concat(t)},[])}function Fl(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}function Rl(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i;return-1}function jl(e){var t=e.baseUrl,i=void 0===(n=e.source)?"":n,n=void 0===(n=e.range)?"":n;return e=void 0===(e=e.indexRange)?"":e,i={uri:i,resolvedUri:nr((void 0===t?"":t)||"",i)},(n||e)&&(n=(n||e).split("-"),e=window.BigInt?window.BigInt(n[0]):parseInt(n[0],10),n=window.BigInt?window.BigInt(n[1]):parseInt(n[1],10),e<Number.MAX_SAFE_INTEGER&&"bigint"==typeof e&&(e=Number(e)),"bigint"==typeof(n="bigint"==typeof(n=n<Number.MAX_SAFE_INTEGER&&"bigint"==typeof n?Number(n):n)||"bigint"==typeof e?window.BigInt(n)-window.BigInt(e)+window.BigInt(1):n-e+1)&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),i.byterange={length:n,offset:e}),i}function Ul(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e}function Vl(e){var s,t=e.type,i=e.duration,n=e.timescale,o=void 0===n?1:n,a=e.periodDuration,r=e.sourceDuration;return e=((e,t)=>{for(var i=[],n=e;n<t;n++)i.push(n);return i})((n=Pc[t](e)).start,n.end).map((s=e,function(e){var t=s.duration,i=s.timescale,n=s.periodStart,o=s.startNumber;return{number:(void 0===o?1:o)+e,duration:t/(void 0===i?1:i),timeline:n,time:e*t}})),"static"===t&&(e[t=e.length-1].duration=("number"==typeof a?a:r)-i/o*t),e}function $l(e){var t=e.baseUrl,i=void 0===(l=e.initialization)?{}:l,n=e.sourceDuration,o=void 0===(r=e.indexRange)?"":r,s=e.periodStart,a=e.presentationTime,r=void 0===(l=e.number)?0:l,l=e.duration;if(t)return i=jl({baseUrl:t,source:i.sourceURL,range:i.range}),(o=jl({baseUrl:t,source:t,indexRange:o})).map=i,l?(e=Vl(e)).length&&(o.duration=e[0].duration,o.timeline=e[0].timeline):n&&(o.duration=n,o.timeline=s),o.presentationTime=a||s,o.number=r,[o];throw new Error(Tc)}function zl(e,t,i){for(var n=e.sidx.map||null,o=e.sidx.duration,s=e.timeline||0,a=(a=e.sidx.byterange).offset+a.length,r=t.timescale,l=t.references.filter(function(e){return 1!==e.referenceType}),c=[],u=e.endList?"static":"dynamic",d=e.sidx.timeline,h=d,p=e.mediaSequence||0,f="bigint"==typeof t.firstOffset?window.BigInt(a)+t.firstOffset:a+t.firstOffset,m=0;m<l.length;m++){var g=(v=t.references[m]).referencedSize,y=v.subsegmentDuration,v=void 0;v=$l({baseUrl:i,timescale:r,timeline:s,periodStart:d,presentationTime:h,number:p,duration:y,sourceDuration:o,indexRange:f+"-"+(v="bigint"==typeof f?f+window.BigInt(g)-window.BigInt(1):f+g-1),type:u})[0],n&&(v.map=n),c.push(v),f+="bigint"==typeof f?window.BigInt(g):g,h+=y/r,p++}e.segments=c}function Wl(e){return i=function(e){return e.timeline},Ml(e.reduce(function(t,e){return e.forEach(function(e){t[i(e)]=e}),t},{})).sort(function(e,t){return e.timeline>t.timeline?1:-1});var i}function Hl(e){var o=[],n=e,s=function(e,t,i,n){o=o.concat(e.playlists||[])};return Ac.forEach(function(e){for(var t in n.mediaGroups[e])for(var i in n.mediaGroups[e][t]){i=n.mediaGroups[e][t][i];s(i)}}),o}function ql(e){var i=e.playlist;i.mediaSequence=e=e.mediaSequence,i.segments.forEach(function(e,t){e.number=i.mediaSequence+t})}function Gl(e){var o,s,t=e.oldManifest,i=e.newManifest,n=t.playlists.concat(Hl(t));return e=i.playlists.concat(Hl(i)),i.timelineStarts=Wl([t.timelineStarts,i.timelineStarts]),n={oldPlaylists:n,newPlaylists:e,timelineStarts:i.timelineStarts},o=n.oldPlaylists,s=n.timelineStarts,(e=n.newPlaylists).forEach(function(t){t.discontinuitySequence=Rl(s,function(e){return e.timeline===t.timeline});var i,e,n=((e,t)=>{for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===t)return e[i];return null})(o,t.attributes.NAME);n&&!t.sidx&&(i=t.segments[0],-1===(e=Rl(n.segments,function(e){return Math.abs(e.presentationTime-i.presentationTime)<1/60}))?(ql({playlist:t,mediaSequence:n.mediaSequence+n.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),(!n.segments.length&&t.timeline>n.timeline||n.segments.length&&t.timeline>n.segments[n.segments.length-1].timeline)&&t.discontinuitySequence--):(n.segments[e].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),ql({playlist:t,mediaSequence:n.segments[e].number})))}),i}function Yl(e){return e&&e.uri+"-"+(e="bigint"==typeof(t=e.byterange).offset||"bigint"==typeof t.length?window.BigInt(t.offset)+window.BigInt(t.length)-window.BigInt(1):t.offset+t.length-1,t.offset)+"-"+e;var t}function Ql(e){return Ml(e.reduce(function(e,t){var i,n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[n].segments).push.apply(i,t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{})).map(function(e){return e.discontinuityStarts=(e.segments||[]).reduce(function(e,t,i){return t.discontinuity&&e.push(i),e},[]),e})}function Kl(e,t){var i=Yl(e.sidx);return(i=i&&t[i]&&t[i].sidx)&&zl(e,i,e.sidx.resolvedUri),e}function Xl(e){var t=e.attributes,i=e.segments,n=e.sidx,o=e.discontinuityStarts,i={attributes:((e={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuityStarts:o,timelineStarts:t.timelineStarts,segments:i};return t.contentProtection&&(i.contentProtection=t.contentProtection),n&&(i.sidx=n),i}function Zl(e){return"video/mp4"===(e=e.attributes).mimeType||"video/webm"===e.mimeType||"video"===e.contentType}function Jl(e){return"audio/mp4"===(e=e.attributes).mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType}function ec(e){return"text/vtt"===(e=e.attributes).mimeType||"text"===e.contentType}function tc(i){return i?Object.keys(i).reduce(function(e,t){return t=i[t],e.concat(t.playlists)},[]):[]}function ic(e){var t,i,n,o,s,a,r,l,h,p,f,c,u=e.dashPlaylists,d=e.locations,m=void 0===(s=e.sidxMapping)?{}:s,g=e.previousManifest;return u.length?(c=(a=u[0].attributes).sourceDuration,t=a.type,i=a.suggestedPresentationDelay,n=a.minimumUpdatePeriod,o=Ql(u.filter(Zl)).map(Xl),s=Ql(u.filter(Jl)),e=Ql(u.filter(ec)),a=u.map(function(e){return e.attributes.captionServices}).filter(Boolean),c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((u={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},u.SUBTITLES={},u),uri:"",duration:c,playlists:((e,t)=>{if(void 0===t&&(t={}),Object.keys(t).length)for(var i in e)e[i]=Kl(e[i],t);return e})(o,m)},0<=n&&(c.minimumUpdatePeriod=1e3*n),d&&(c.locations=d),"dynamic"===t&&(c.suggestedPresentationDelay=i),i=0===c.playlists.length,i=s.length?(void 0===(h=m)&&(h={}),void 0===(p=i)&&(p=!1),u=(u=s).reduce(function(e,t){var i=t.attributes.role&&t.attributes.role.value||"",n=t.attributes.lang||"",o=t.attributes.label||"main";e[o=n&&!t.attributes.label?t.attributes.lang+(i?" ("+i+")":""):o]||(e[o]={language:n,autoselect:!0,default:"main"===i,playlists:[],uri:""});var s,a,r,l,c,u,d=Kl((a=p,r=(s=t).attributes,d=t.segments,l=t.sidx,c=t.mediaSequence,u=t.discontinuitySequence,n=t.discontinuityStarts,d={attributes:((s={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs})["PROGRAM-ID"]=1,s),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:u,discontinuityStarts:n,timelineStarts:r.timelineStarts,mediaSequence:c,segments:d},r.contentProtection&&(d.contentProtection=r.contentProtection),l&&(d.sidx=l),a&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d),h);return e[o].playlists.push(d),void 0===f&&"main"===i&&((f=t).default=!0),e},{}),f||(u[Object.keys(u)[0]].default=!0),u):null,m=e.length?(void 0===(r=m)&&(r={}),e.reduce(function(e,t){var i,n,o,s,a=t.attributes.lang||"text";return e[a]||(e[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),e[a].playlists.push(Kl((t=(a=t).attributes,n=a.mediaSequence,o=a.discontinuityStarts,s=a.discontinuitySequence,void 0===(i=a.segments)&&(i=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),a={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},t.codecs&&(a.CODECS=t.codecs),{attributes:a,uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:o,discontinuitySequence:s,mediaSequence:n,segments:i}),r)),e},{})):null,o=(e=o.concat(tc(i),tc(m))).map(function(e){return e.timelineStarts}),c.timelineStarts=Wl(o),l=c.timelineStarts,e.forEach(function(t){t.mediaSequence=0,t.discontinuitySequence=Rl(l,function(e){return e.timeline===t.timeline}),t.segments&&t.segments.forEach(function(e,t){e.number=t})}),i&&(c.mediaGroups.AUDIO.audio=i),m&&(c.mediaGroups.SUBTITLES.subs=m),a.length&&(c.mediaGroups["CLOSED-CAPTIONS"].cc=a.reduce(function(n,e){return e&&e.forEach(function(e){var t=e.channel,i=e.language;n[i]={autoselect:!1,default:!1,instreamId:t,language:i},e.hasOwnProperty("aspectRatio")&&(n[i].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(n[i].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(n[i]["3D"]=e["3D"])}),n},{})),g?Gl({oldManifest:g,newManifest:c}):c):{}}function nc(e,t){for(var i,n,o,s,a=e.type,r=e.minimumUpdatePeriod,l=void 0===r?0:r,c=void 0===(r=e.media)?"":r,u=e.sourceDuration,d=void 0===(r=e.timescale)?1:r,h=void 0===(r=e.startNumber)?1:r,p=e.periodStart,f=[],m=-1,g=0;g<t.length;g++){var y=t[g],v=y.d,b=y.r||0,w=y.t||0;m<0&&(m=w),w&&m<w&&(m=w);for(var S,_=b<0?(S=g+1)===t.length?"dynamic"===a&&0<l&&0<c.indexOf("$Number$")?(i=m,0,_=e.NOW,n=e.clientOffset,o=e.availabilityStartTime,s=e.timescale,y=e.periodStart,w=e.minimumUpdatePeriod,Math.ceil((((_+n)/1e3+(void 0===w?0:w)-(o+(void 0===y?0:y)))*(void 0===s?1:s)-i)/v)):(u*d-m)/v:(t[S].t-m)/v:b+1,C=h+f.length+_,k=h+f.length;k<C;)f.push({number:k,duration:v/d,time:m,timeline:p}),m+=v,k++}return f}function oc(e,t){return e.replace(Dc,(o=t,function(e,t,i,n){return"$$"===e?"$":void 0===o[t]||(e=""+o[t],"RepresentationID"===t)||(n=i?parseInt(n,10):1)<=e.length?e:new Array(n-e.length+1).join("0")+e}));var o}function sc(n,e){var o={RepresentationID:n.id,Bandwidth:n.bandwidth||0},t=void 0===(t=n.initialization)?{sourceURL:"",range:""}:t,s=jl({baseUrl:n.baseUrl,source:oc(t.sourceURL,o),range:t.range}),t=e;return((e=n).duration||t?e.duration?Vl(e):nc(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]).map(function(e){o.Number=e.number,o.Time=e.time;var t=oc(n.media||"",o),i=n.periodStart+(e.time-(n.presentationTimeOffset||0))/(n.timescale||1);return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:nr(n.baseUrl||"",t),map:s,number:e.number,presentationTime:i}})}function ac(o,e){var t=o.duration,i=void 0===(i=o.segmentUrls)?[]:i,s=o.periodStart;if(!t&&!e||t&&e)throw new Error(Ic);var n,a=i.map(function(e){return i=e,t=jl({baseUrl:e=o.baseUrl,source:(t=void 0===(t=o.initialization)?{}:t).sourceURL,range:t.range}),(i=jl({baseUrl:e,source:i.media,range:i.mediaRange})).map=t,i;var t,i});return t&&(n=Vl(o)),(n=e?nc(o,e):n).map(function(e,t){var i,n;if(a[t])return i=a[t],n=o.timescale||1,t=o.presentationTimeOffset||0,i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i.presentationTime=s+(e.time-t)/n,i}).filter(function(e){return e})}function rc(e){var t,i,n=e.attributes,o=e.segmentInfo,s=(o.template?(i=sc,t=Nl(n,o.template)):o.base?(i=$l,t=Nl(n,o.base)):o.list&&(i=ac,t=Nl(n,o.list)),{attributes:n});return i&&(e=i(t,o.segmentTimeline),t.duration?(n=t.duration,i=t.timescale,t.duration=n/(void 0===i?1:i)):e.length?t.duration=e.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0,s.attributes=t,s.segments=e,o.base)&&t.indexRange&&(s.sidx=e[0],s.segments=[]),s}function E(e,t){return Fl(e.childNodes).filter(function(e){return e.tagName===t})}function lc(e){return e.textContent.trim()}function cc(e){var t,i,n,o,s;return(o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e))?(t=(s=o.slice(1))[0],i=s[1],n=s[2],e=s[3],o=s[4],s=s[5],31536e3*parseFloat(t||0)+2592e3*parseFloat(i||0)+86400*parseFloat(n||0)+3600*parseFloat(e||0)+60*parseFloat(o||0)+parseFloat(s||0)):0}function uc(e){return e&&e.attributes?Fl(e.attributes).reduce(function(e,t){var i=Ec[t.name]||Ec.DEFAULT;return e[t.name]=i(t.value),e},{}):{}}function dc(e,i){return i.length?Bl(e.map(function(t){return i.map(function(e){return nr(t,lc(e))})})):e}function hc(e){var t=E(e,"SegmentTemplate")[0],i=E(e,"SegmentList")[0],n=i&&E(i,"SegmentURL").map(function(e){return Nl({tag:"SegmentURL"},uc(e))}),o=E(e,"SegmentBase")[0],s=(e=(s=i||t)&&E(s,"SegmentTimeline")[0],(s=i||o||t)&&E(s,"Initialization")[0]),a=((t=t&&uc(t))&&s?t.initialization=s&&uc(s):t&&t.initialization&&(t.initialization={sourceURL:t.initialization}),{template:t,segmentTimeline:e&&E(e,"S").map(uc),list:i&&Nl(uc(i),{segmentUrls:n,initialization:uc(s)}),base:o&&Nl(uc(o),{initialization:uc(s)})});return Object.keys(a).forEach(function(e){a[e]||delete a[e]}),a}function pc(l,c,u){return function(e){var o,s,a,t=uc(e),i=dc(c,E(e,"BaseURL")),n={role:uc(n=E(e,"Role")[0])},t=Nl(l,t,n),r=((n="urn:scte:dash:cc:cea-608:2015"===(n=uc(n=E(e,"Accessibility")[0])).schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(e){var t,i,n;return/^CC\d=/.test(n=e)?(i=(t=e.split("="))[0],n=t[1]):/^CC\d$/.test(e)&&(i=e),{channel:i,language:n}}):"urn:scte:dash:cc:cea-708:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(e){var t,i,n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(e)?(t=(i=e.split("="))[0],i=void 0===(i=i[1])?"":i,n.channel=t,n.language=e,i.split(",").forEach(function(e){var t=e.split(":");e=t[0],t=t[1],"lang"===e?n.language=t:"er"===e?n.easyReader=Number(t):"war"===e?n.aspectRatio=Number(t):"3D"===e&&(n["3D"]=Number(t))})):n.language=e,n.channel&&(n.channel="SERVICE"+n.channel),n}):void 0)&&(t=Nl(t,{captionServices:n})),(n=E(e,"Label")[0])&&n.childNodes.length&&(t=Nl(t,{label:r=n.childNodes[0].nodeValue.trim()})),E(e,"ContentProtection").reduce(function(e,t){var i=uc(t),n=(i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase()),Oc[i.schemeIdUri]);return n&&(e[n]={attributes:i},t=E(t,"cenc:pssh")[0])&&(t=lc(t),e[n].pssh=t&&(e=>{for(var t=window.atob?window.atob(e):zh.from(e,"base64").toString("binary"),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i})(t)),e},{}));return Object.keys(r).length&&(t=Nl(t,{contentProtection:r})),r=hc(e),e=E(e,"Representation"),r=Nl(u,r),Bl(e.map((o=t,s=i,a=r,function(e){var t=E(e,"BaseURL"),i=(t=dc(s,t),Nl(o,uc(e))),n=hc(e);return t.map(function(e){return{segmentInfo:Nl(a,n),attributes:Nl(i,{baseUrl:e})}})})))}}function fc(e){if(""===e)throw new Error(kc);var t,i,n=new _c;try{i=(t=n.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!i||0<i.getElementsByTagName("parsererror").length)throw new Error(xc);return i}function mc(e,t){void 0===t&&(t={});var i=((e,t)=>{var i=t=void 0===t?{}:t,n=void 0===(s=i.manifestUri)?"":s,o=(t=void 0===(o=i.NOW)?Date.now():o,void 0===(s=i.clientOffset)?0:s);if(!(i=E(e,"Period")).length)throw new Error(Cc);var s=E(e,"Location"),a=uc(e);e=dc([n],E(e,"BaseURL")),a.type=a.type||"static",a.sourceDuration=a.mediaPresentationDuration||0,a.NOW=t,a.clientOffset=o,s.length&&(a.locations=s.map(lc));var r,l,c=[];return i.forEach(function(e,t){var i,n=uc(e),o=c[t-1];n.start=(o=(i={attributes:n,priorPeriodAttributes:o?o.attributes:null,mpdType:a.type}).priorPeriodAttributes,"number"==typeof(t=i.attributes).start?t.start:o&&"number"==typeof o.start&&"number"==typeof o.duration?o.start+o.duration:o||"static"!==i.mpdType?null:0),c.push({node:e,attributes:n})}),{locations:a.locations,representationInfo:Bl(c.map((r=a,l=e,function(e,t){var i=dc(l,E(e.node,"BaseURL")),n=Nl(r,{periodStart:e.attributes.start}),o=("number"==typeof e.attributes.duration&&(n.periodDuration=e.attributes.duration),E(e.node,"AdaptationSet"));return e=hc(e.node),Bl(o.map(pc(n,i,e)))})))}})(fc(e),t);return ic({dashPlaylists:e=i.representationInfo.map(rc),locations:i.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})}function gc(e,t){return void 0===t&&(t=0),(e=I(e)).length-t<10||!P(e,Mc,{offset:t})?t:gc(e,t+=(void 0===(i=t)&&(i=0),n=(e=I(e))[i+5],i=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],(16&n)>>4?20+i:10+i));var i,n}function yc(e){return"string"==typeof e?ir(e):e}function vc(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var o,s,a=(e=>{for(var t=1,i=0;i<Fc.length&&!(e&Fc[i]);i++)t++;return t})(e[t]),r=e.subarray(t,t+a);return i&&((r=Array.prototype.slice.call(e,t,t+a))[0]^=Fc[a-1]),{length:a,value:(o=r,i=void 0!==(i=(e=i={signed:n}).signed)&&i,s=void 0!==(e=e.le)&&e,e=((o=I(o))[e=s?"reduce":"reduceRight"]||Array.prototype[e]).call(o,function(e,t,i){return i=s?i:Math.abs(i+1-o.length),e+A(t)*vr[i]},A(0)),i&&(i=vr[o.length]/A(2)-A(1))<(e=A(e))&&(e=(e=e-i-i)-A(2)),Number(e)),bytes:r}}function bc(e){{if("string"==typeof e)return e.match(/.{1,2}/g).map(bc);if("number"!=typeof e)return e;for(var t=e,i=void 0,n=void 0!==(i=(void 0===i?{}:i).le)&&i,o=(i=t=A(t="bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t?0:t),Math.ceil(i.toString(2).length/8)),s=new Uint8Array(new ArrayBuffer(o)),a=0;a<o;a++){var r=n?a:Math.abs(a+1-s.length);s[r]=Number(t/vr[a]&A(255)),t<0&&(s[r]=Math.abs(~s[r]),s[r]-=0===a?1:2)}return s}}function wc(e,t){var i=t,n=(t=Array.isArray(i)?i.map(bc):[bc(i)],e=I(e),[]);if(t.length)for(var o=0;o<e.length;){var s=vc(e,o,!1),a=vc(e,o+s.length),r=o+s.length+a.length,l=(127===a.value&&(a.value=function e(t,i,n){var o;return n>=i.length?i.length:(o=vc(i,n,!1),P(t.bytes,o.bytes)?n:e(t,i,n+(t=vc(i,n+o.length)).length+t.value+o.length))}(s,e,r),a.value!==e.length)&&(a.value-=r),r+a.value>e.length?e.length:r+a.value),l=e.subarray(r,l);P(t[0],s.bytes)&&(1===t.length?n.push(l):n=n.concat(wc(l,t.slice(1)))),o+=s.length+a.length+l.length}return n}function Sc(e,t,i,n){void 0===n&&(n=1/0),e=I(e),i=[].concat(i);for(var o,s=0,a=0;s<e.length&&(a<n||o);){var r=void 0;if(P(e.subarray(s),Rc)?r=4:P(e.subarray(s),jc)&&(r=3),r){if(a++,o){var l=e.subarray(o,s);for(var c=[],u=1;u<l.length-2;)P(l.subarray(u,u+3),Uc)&&(c.push(u+2),u++),u++;if(0===c.length)return l;for(var d=l.length-c.length,h=new Uint8Array(d),p=0,u=0;u<d;p++,u++)p===c[0]&&(p++,c.shift()),h[u]=l[p];return h;return}var f=void 0;"h264"===t?f=31&e[s+r]:"h265"===t&&(f=e[s+r]>>1&63),-1!==i.indexOf(f)&&(o=s+r),s+=r+("h264"===t?1:2)}else s++}return e.subarray(0,0)}Pl.prototype.parseFromString=function(e,t){var i=this.options,n=new Il,a=i.domBuilder||new Al,o=i.errorHandler,s=i.locator,r=i.xmlns||{},l=/\/x?html?$/.test(t);return t=l?ml.HTML_ENTITIES:ml.XML_ENTITIES,s&&a.setDocumentLocator(s),n.errorHandler=((n,o)=>{if(!n){if(a instanceof Al)return a;n=a}var e={},s=n instanceof Function;function t(t){var i=n[t];!i&&s&&(i=2==n.length?function(e){n(t,e)}:n),e[t]=i?function(e){i("[xmldom "+t+"]\t"+e+(e=>{if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"})(o))}:function(){}}return o=o||{},t("warning"),t("error"),t("fatalError"),e})(o,s),n.domBuilder=i.domBuilder||a,l&&(r[""]=xl.HTML),r.xml=r.xml||xl.XML,e&&"string"==typeof e?n.parse(e,r,t):n.errorHandler.error("invalid doc source"),a.doc},Al.prototype={startDocument:function(){this.doc=(new kl).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var o=this.doc,s=o.createElementNS(e,i||t),a=n.length;Ol(this,s),this.currentElement=s,this.locator&&Dl(this.locator,s);for(var r=0;r<a;r++){e=n.getURI(r);var l=n.getValue(r),c=(i=n.getQName(r),o.createAttributeNS(e,i));this.locator&&Dl(n.getLocator(r),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(e,t,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){t=this.doc.createProcessingInstruction(e,t),this.locator&&Dl(this.locator,t),Ol(this,t)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){var n;(e=El.apply(this,arguments))&&(n=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator)&&Dl(this.locator,n)},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=El.apply(this,arguments),e=this.doc.createComment(e),this.locator&&Dl(this.locator,e),Ol(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;n&&n.createDocumentType&&(i=n.createDocumentType(e,t,i),this.locator&&Dl(this.locator,i),Ol(this,i),this.doc.doctype=i)},warning:function(e){},error:function(e){},fatalError:function(e){throw new Tl(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Al.prototype[e]=function(){return null}});var _c=Pl,Cc="INVALID_NUMBER_OF_PERIOD",kc="DASH_EMPTY_MANIFEST",xc="DASH_INVALID_XML",Tc="NO_BASE_URL",Ic="SEGMENT_TIME_UNSPECIFIED",Pc={static:function(e){var t=e.duration,i=void 0===(o=e.timescale)?1:o,n=e.sourceDuration,o=e.periodDuration,i=t/i;return"number"==typeof(e=Ul(e.endNumber))?{start:0,end:e}:"number"==typeof o?{start:0,end:o/i}:{start:0,end:n/i}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,o=e.timescale,s=void 0===o?1:o,a=e.duration,r=void 0===(l=e.periodStart)?0:l,l=void 0===(o=e.minimumUpdatePeriod)?0:o;return o=void 0===(o=e.timeShiftBufferDepth)?1/0:o,e=Ul(e.endNumber),i=(t+i)/1e3,r=n+r,l=Math.ceil((i+l-r)*s/a),o=Math.floor((i-r-o)*s/a),a=Math.floor((i-r)*s/a),{start:Math.max(0,o),end:"number"==typeof e?e:Math.min(l,a)}}},Ac=["AUDIO","SUBTITLES"],Dc=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ec={mediaPresentationDuration:cc,availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)/1e3},minimumUpdatePeriod:cc,suggestedPresentationDelay:cc,type:function(e){return e},timeShiftBufferDepth:cc,start:cc,width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?cc(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Oc={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Lc=Math.pow(2,32),Nc=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.getBigUint64?(e=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:t.getUint32(0)*Lc+t.getUint32(4)},Mc=I([73,68,51]),Bc={EBML:I([26,69,223,163]),DocType:I([66,130]),Segment:I([24,83,128,103]),SegmentInfo:I([21,73,169,102]),Tracks:I([22,84,174,107]),Track:I([174]),TrackNumber:I([215]),DefaultDuration:I([35,227,131]),TrackEntry:I([174]),TrackType:I([131]),FlagDefault:I([136]),CodecID:I([134]),CodecPrivate:I([99,162]),VideoTrack:I([224]),AudioTrack:I([225]),Cluster:I([31,67,182,117]),Timestamp:I([231]),TimestampScale:I([42,215,177]),BlockGroup:I([160]),BlockDuration:I([155]),Block:I([161]),SimpleBlock:I([163])},Fc=[128,64,32,16,8,4,2,1],Rc=I([0,0,0,1]),jc=I([0,0,1]),Uc=I([0,0,3]),Vc={webm:I([119,101,98,109]),matroska:I([109,97,116,114,111,115,107,97]),flac:I([102,76,97,67]),ogg:I([79,103,103,83]),ac3:I([11,119]),riff:I([82,73,70,70]),avi:I([65,86,73]),wav:I([87,65,86,69]),"3gp":I([102,116,121,112,51,103]),mp4:I([102,116,121,112]),fmp4:I([115,116,121,112]),mov:I([102,116,121,112,113,116]),moov:I([109,111,111,118]),moof:I([109,111,111,102])},$c={aac:function(e){return P(e,[255,16],{offset:gc(e),mask:[255,22]})},mp3:function(e){return P(e,[255,2],{offset:gc(e),mask:[255,6]})},webm:function(e){return P(e=wc(e,[Bc.EBML,Bc.DocType])[0],Vc.webm)},mkv:function(e){return P(e=wc(e,[Bc.EBML,Bc.DocType])[0],Vc.matroska)},mp4:function(e){return!$c["3gp"](e)&&!$c.mov(e)&&(!(!P(e,Vc.mp4,{offset:4})&&!P(e,Vc.fmp4,{offset:4}))||!(!P(e,Vc.moof,{offset:4})&&!P(e,Vc.moov,{offset:4}))||void 0)},mov:function(e){return P(e,Vc.mov,{offset:4})},"3gp":function(e){return P(e,Vc["3gp"],{offset:4})},ac3:function(e){var t=gc(e);return P(e,Vc.ac3,{offset:t})},ts:function(e){if(e.length<189&&1<=e.length)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=gc(e);return P(e,Vc.flac,{offset:t})},ogg:function(e){return P(e,Vc.ogg)},avi:function(e){return P(e,Vc.riff)&&P(e,Vc.avi,{offset:8})},wav:function(e){return P(e,Vc.riff)&&P(e,Vc.wav,{offset:8})},h264:function(e){return Sc(e,"h264",7,3).length},h265:function(e){return Sc(e,"h265",[32,33],3).length}},zc=Object.keys($c).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]);function Wc(e){e=I(e);for(var t=0;t<zc.length;t++){var i=zc[t];if(bd[i](e))return i}return""}function Hc(e,t,i){return e&&i&&i.responseURL&&t!==i.responseURL?i.responseURL:t}function qc(e){return j.log.debug?j.log.debug.bind(j,"VHS:",e+" >"):function(){}}function Gc(e,t){var i,n=[];if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return j.createTimeRanges(n)}function Yc(e,i){return Gc(e,function(e,t){return e-.1<=i&&i<=t+.1})}function Qc(e,t){return Gc(e,function(e){return t<=e-Sd})}function Kc(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")}function Xc(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}function Zc(e){if(e&&e.length&&e.end)return e.end(e.length-1)}function Jc(e,t){var i=0;if(e&&e.length)for(var n=0;n<e.length;n++){var o=e.start(n),s=e.end(n);s<t||(i+=o<t&&t<=s?s-t:s-o)}return i}function eu(t,e){var i;return e.preload?(i=0,(e.parts||[]).forEach(function(e){i+=e.duration}),(e.preloadHints||[]).forEach(function(e){"PART"===e.type&&(i+=t.partTargetDuration)}),i):e.duration}function tu(e){return(e.segments||[]).reduce(function(i,n,o){return n.parts?n.parts.forEach(function(e,t){i.push({duration:e.duration,segmentIndex:o,partIndex:t,part:e,segment:n})}):i.push({duration:n.duration,segmentIndex:o,partIndex:null,segment:n,part:null}),i},[])}function iu(e){return(e=e.segments&&e.segments.length&&e.segments[e.segments.length-1])&&e.parts||[]}function nu(e){var t=e.preloadSegment;if(t)return e=t.parts,(t=(t.preloadHints||[]).reduce(function(e,t){return e+("PART"===t.type?1:0)},0))+(e&&e.length?e.length:0)}function ou(e,t){return t.endList?0:e&&e.suggestedPresentationDelay?e.suggestedPresentationDelay:(e=0<iu(t).length)&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:e&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0}function su(e,o,t){var i;return(o=void 0===o?e.mediaSequence+e.segments.length:o)<e.mediaSequence?0:(i=(e=>{var t=0,i=o-e.mediaSequence,n=e.segments[i];if(n){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)return{result:n.end-n.duration,precise:!0}}for(;i--;){if(void 0!==(n=e.segments[i]).end)return{result:t+n.end,precise:!0};if(t+=eu(e,n),void 0!==n.start)return{result:t+n.start,precise:!0}}return{result:t,precise:!1}})(e)).precise?i.result:(o=(e=>{for(var t,i=0,n=o-e.mediaSequence;n<e.segments.length;n++){if(void 0!==(t=e.segments[n]).start)return{result:t.start-i,precise:!0};if(i+=eu(e,t),void 0!==t.end)return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}})(e)).precise?o.result:i.result+t}function au(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return window.Infinity}return su(e,t,i)}function ru(e){var t=e.defaultDuration,i=e.durationList,n=e.startIndex,o=e.endIndex,s=0;if(o<n&&(n=(e=[o,n])[0],o=e[1]),n<0){for(var a=n;a<Math.min(0,o);a++)s+=t;n=0}for(var r=n;r<o;r++)s+=i[r].duration;return s}function lu(e,t,i,n){return e&&e.segments?e.endList?au(e):null===t?null:(t=su(e,e.mediaSequence+e.segments.length,t=t||0),i&&(t-=n="number"==typeof n?n:ou(null,e)),Math.max(0,t)):null}function cu(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function uu(e){return e.excludeUntil&&e.excludeUntil===1/0}function du(e){var t=cu(e);return!e.disabled&&!t}function hu(e,t){return t.attributes&&t.attributes[e]}function pu(e,t){var i;return 1===e.playlists.length||(i=t.attributes.BANDWIDTH||Number.MAX_VALUE,0===e.playlists.filter(function(e){return!!du(e)&&(e.attributes.BANDWIDTH||0)<i}).length)}function fu(e,t){return!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri))}function mu(e,t){var i,n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},o=!1;for(i in n){for(var s in n[i])if(o=t(n[i][s]))break;if(o)break}return!!o}function gu(i){if(!i||!i.playlists||!i.playlists.length)return mu(i,function(e){return e.playlists&&e.playlists.length||e.uri});for(var e=0;e<i.playlists.length;e++){var t=(e=>{var t=i.playlists[e];return(e=t.attributes&&t.attributes.CODECS)&&e.split(",").every(Ka)||mu(i,function(e){return fu(t,e)})?"continue":{v:!1}})(e);if("continue"!==t&&"object"==Wh(t))return t.v}return!0}function yu(e,t){return e+"-"+t}function vu(o,s){o.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(e){if(o.mediaGroups[e])for(var t in o.mediaGroups[e])for(var i in o.mediaGroups[e][t]){var n=o.mediaGroups[e][t][i];s(n,e,t,i)}})}function bu(e){var t=e.playlist,i=e.uri;t.id=e=e.id,t.playlistErrors_=0,i&&(t.uri=i),t.attributes=t.attributes||{}}function wu(r,e){r.uri=e;for(var t=0;t<r.playlists.length;t++)r.playlists[t].uri||(r.playlists[t].uri="placeholder-uri-"+t);for(var i,l=gu(r),n=(vu(r,function(e,t,i,n){var o="placeholder-uri-"+t+"-"+i+"-"+n;if(!e.playlists||!e.playlists.length){if(l&&"AUDIO"===t&&!e.uri)for(var s=0;s<r.playlists.length;s++){var a=r.playlists[s];if(a.attributes&&a.attributes.AUDIO&&a.attributes.AUDIO===i)return}e.playlists=[Q({},e)]}e.playlists.forEach(function(e,t){var i=t+"-"+o;e.uri?e.resolvedUri=e.resolvedUri||wd(r.uri,e.uri):(e.uri=0===t?o:i,e.resolvedUri=e.uri),e.id=e.id||i,e.attributes=e.attributes||{},r.playlists[e.id]=e,r.playlists[e.uri]=e})}),r),o=n.playlists.length;o--;){var s=n.playlists[o];bu({playlist:s,id:o+"-"+s.uri}),s.resolvedUri=wd(n.uri,s.uri),n.playlists[s.id]=s,(n.playlists[s.uri]=s).attributes.BANDWIDTH||kd.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}vu(i=r,function(e){e.uri&&(e.resolvedUri=wd(i.uri,e.uri))})}function Su(e,t,i){var n=e.slice(),o=t.slice();i=i||0;for(var s,a=[],r=0;r<o.length;r++){var l=n[r+i],c=o[r];l?(s=l.map||s,a.push(((e,t)=>{if(!e)return t;var i=xd(e,t);if(e.preloadHints&&!t.preloadHints&&delete i.preloadHints,e.parts&&!t.parts)delete i.parts;else if(e.parts&&t.parts)for(var n=0;n<t.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=xd(e.parts[n],t.parts[n]));return!e.skipped&&t.skipped&&(i.skipped=!1),e.preload&&!t.preload&&(i.preload=!1),i})(l,c))):(s&&!c.map&&(c.map=s),a.push(c))}return a}function _u(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=wd(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=wd(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=wd(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=wd(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(e){e.resolvedUri||(e.resolvedUri=wd(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(e){e.resolvedUri||(e.resolvedUri=wd(t,e.uri))})}function Cu(e){var t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var n=0;n<i.preloadHints.length;n++)if("MAP"===i.preloadHints[n].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t}function ku(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment}function xu(e,s,t){void 0===t&&(t=ku);var i=xd(e,{}),n=i.playlists[s.id];if(!n)return null;if(t(n,s))return null;s.segments=Cu(s);var a=xd(n,s);if(a.preloadSegment&&!s.preloadSegment&&delete a.preloadSegment,n.segments){if(s.skip){s.segments=s.segments||[];for(var o=0;o<s.skip.skippedSegments;o++)s.segments.unshift({skipped:!0})}a.segments=Su(n.segments,s.segments,s.mediaSequence-n.mediaSequence)}a.segments.forEach(function(e){_u(e,a.resolvedUri)});for(var r=0;r<i.playlists.length;r++)i.playlists[r].id===s.id&&(i.playlists[r]=a);return i.playlists[s.id]=a,i.playlists[s.uri]=a,vu(e,function(e,t,i,n){if(e.playlists)for(var o=0;o<e.playlists.length;o++)s.id===e.playlists[o].id&&(e.playlists[o]=a)}),i}function Tu(e,t){var i=e.segments||[],n=(i=(n=i[i.length-1])&&n.parts&&n.parts[n.parts.length-1])&&i.duration||n&&n.duration;return t&&n?1e3*n:500*(e.partTargetDuration||e.targetDuration||10)}function Iu(e,t,i,n){var o="arraybuffer"===e.responseType?e.response:e.responseText;!t&&o&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=o.byteLength||o.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),n(t=t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode?t:new Error("XHR Failed with a response of: "+(e&&(o||e.responseText))),e)}function Pu(){function s(e,i){e=Pd({timeout:45e3},e);var t=s.beforeRequest||j.Vhs.xhr.beforeRequest,n=(t&&"function"==typeof t&&(t=t(e))&&(e=t),(!0===j.Vhs.xhr.original?Id:j.Vhs.xhr)(e,function(e,t){return Iu(n,e,t,i)})),o=n.abort;return n.abort=function(){return n.aborted=!0,o.apply(n,arguments)},n.uri=e.uri,n.requestTime=Date.now(),n}return s.original=!0,s}function Au(e){var t,i={};return e.byterange&&(i.Range="bytes="+(e=(t=e.byterange).offset)+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?window.BigInt(t.offset)+window.BigInt(t.length)-window.BigInt(1):t.offset+t.length-1)),i}function Du(e,t){return e=e.toString(16),"00".substring(0,2-e.length)+e+(t%2?" ":"")}function Eu(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function Ou(i){var n={};return Object.keys(i).forEach(function(e){var t=i[e];tr(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}function Lu(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function Nu(e){return e.resolvedUri}function Mu(e){for(var t=Array.prototype.slice.call(e),i="",n=0;n<t.length/16;n++)i+=t.slice(16*n,16*n+16).map(Du).join("")+" "+t.slice(16*n,16*n+16).map(Eu).join("")+"\n";return i}function Bu(e){var t,i,n=e.playlist,o=e.time,s=void 0===o?void 0:o;if(o=e.callback)return n&&void 0!==s?(e=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;for(var i,n=0,o=0;o<t.segments.length&&!(e<=(n=(i=t.segments[o]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));o++);var s=t.segments[t.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(n<e){if(e>n+.25*s.duration)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}})(s,n))?"estimate"===e.type?o({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:e.estimatedStart}):(n={mediaSeconds:s},(e=(t=e.segment).dateTimeObject?(i=t.videoTimingInfo.transmuxerPrependedSeconds,i=s-(t.videoTimingInfo.transmuxedPresentationStart+i),new Date(t.dateTimeObject.getTime()+1e3*i)):null)&&(n.programDateTime=e.toISOString()),o(null,n)):o({message:"valid programTime was not found"}):o({message:"getProgramTime: playlist and time must be provided"});throw new Error("getProgramTime: callback must be provided")}function Fu(e){var t=e.programTime,i=e.playlist,n=e.retryCount,o=void 0===n?2:n,s=e.seekTo,a=e.pauseAfterSeek,r=void 0===a||a,l=e.tech,c=e.callback;if(c)return void 0!==t&&i&&s?i.endList||l.hasStarted_?(e=>{if(e.segments&&0!==e.segments.length){for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return;return 1}})(i)?(n=((e,t)=>{var i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;if(i<(o=t.segments[0]).dateTimeObject)return null;for(var n=0;n<t.segments.length-1;n++){var o=t.segments[n];if(i<t.segments[n+1].dateTimeObject)break}var s=t.segments[t.segments.length-1],a=(e=s.dateTimeObject,s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+.25*s.duration);return new Date(e.getTime()+1e3*a)<i?null:{segment:o=e<i?s:o,estimatedStart:o.videoTimingInfo?o.videoTimingInfo.transmuxedPresentationStart:Cd.duration(t,t.mediaSequence+t.segments.indexOf(o)),type:o.videoTimingInfo?"accurate":"estimate"}})(t,i))?(e=((e,t)=>{var i;try{n=new Date(e),i=new Date(t)}catch(e){}var n=n.getTime();return(i.getTime()-n)/1e3})((a=n.segment).dateTimeObject,t),"estimate"===n.type?0===o?c({message:t+" is not buffered yet. Try again"}):(s(n.estimatedStart+e),void l.one("seeked",function(){Fu({programTime:t,playlist:i,retryCount:o-1,seekTo:s,pauseAfterSeek:r,tech:l,callback:c})})):(e=a.start+e,l.one("seeked",function(){return c(null,l.currentTime())}),r&&l.pause(),void s(e))):c({message:t+" was not found in the stream"}):c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri}):c({message:"player must be playing a live stream to start buffering"}):c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});throw new Error("seekToProgramTime: callback must be provided")}function Ru(e,t){if(4===e.readyState)return t()}function ju(e,t){if(!ku(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(e.segments||t.segments)for(var i=0;i<e.segments.length;i++){var n=e.segments[i],o=t.segments[i];if(n.uri!==o.uri)return!1;if(n.byterange||o.byterange){if(n=n.byterange,o=o.byterange,n&&!o||!n&&o)return!1;if(n.offset!==o.offset||n.length!==o.length)return!1}}return!0}function Uu(e,t){var i,n={};for(i in e){var o=e[i].sidx;if(o){var s=Yl(o);if(!t[s])break;var a=t[s].sidxInfo;(Boolean(!a.map&&!o.map)||Boolean(a.map&&o.map&&a.map.byterange.offset===o.map.byterange.offset&&a.map.byterange.length===o.map.byterange.length))&&a.uri===o.uri&&a.byterange.offset===o.byterange.offset&&a.byterange.length===o.byterange.length&&(n[s]=t[s])}}return n}function Vu(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e}function $u(d){var h=d.transmuxer,e=d.bytes,t=d.audioAppendStart,i=d.gopsToAlignWith,n=d.remux,p=d.onData,f=d.onTrackInfo,m=d.onAudioTimingInfo,g=d.onVideoTimingInfo,y=d.onVideoSegmentTimingInfo,v=d.onAudioSegmentTimingInfo,b=d.onId3,w=d.onCaptions,S=d.onDone,_=d.onEndedTimeline,C=d.onTransmuxerLog,o=d.isEndOfTimeline,k={buffer:[]},x=o;h.onmessage=function(e){var t,i,n,o,s,a,r,l,c,u;h.currentTransmux!==d||("data"===e.data.action&&(i=k,n=p,o=(u=(t=e).data.segment).type,s=u.initSegment,a=u.captions,r=u.captionStreams,l=u.metadata,c=u.videoFrameDtsTime,u=u.videoFramePtsTime,i.buffer.push({captions:a,captionStreams:r,metadata:l}),t=t.data.segment.boxes||{data:t.data.segment.data},s={type:o,data:new Uint8Array(t.data,t.data.byteOffset,t.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)},void 0!==c&&(s.videoFrameDtsTime=c),void 0!==u&&(s.videoFramePtsTime=u),n(s)),"trackinfo"===e.data.action&&f(e.data.trackInfo),"gopInfo"===e.data.action&&(k.gopInfo=e.data.gopInfo),"audioTimingInfo"===e.data.action&&m(e.data.audioTimingInfo),"videoTimingInfo"===e.data.action&&g(e.data.videoTimingInfo),"videoSegmentTimingInfo"===e.data.action&&y(e.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===e.data.action&&v(e.data.audioSegmentTimingInfo),"id3Frame"===e.data.action&&b([e.data.id3Frame],e.data.id3Frame.dispatchType),"caption"===e.data.action&&w(e.data.caption),"endedtimeline"===e.data.action&&(x=!1,_()),"log"===e.data.action&&C(e.data.log),"transmuxed"!==e.data.type)||x||(h.onmessage=null,e=(i={transmuxedData:k,callback:S}).transmuxedData,i=i.callback,e.buffer=[],i(e),Od(h))},t&&h.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(i)&&h.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==n&&h.postMessage({action:"setRemux",remux:n}),e.byteLength&&(i=e instanceof ArrayBuffer?e:e.buffer,n=e instanceof ArrayBuffer?0:e.byteOffset,h.postMessage({action:"push",data:i,byteOffset:n,byteLength:e.byteLength},[i])),o&&h.postMessage({action:"endTimeline"}),h.postMessage({action:"flush"})}function zu(e,t){e.postMessage({action:t}),Od(e)}function Wu(i){var e,n=i.transmuxer,o=i.endAction||i.action,s=i.callback,t=Q({},i,{endAction:null,transmuxer:null,callback:null});n.addEventListener("message",function e(t){t.data.action===o&&(n.removeEventListener("message",e),t.data.data&&(t.data.data=new Uint8Array(t.data.data,i.byteOffset||0,i.byteLength||t.data.data.byteLength),i.data)&&(i.data=t.data.data),s(t.data))}),i.data?(e=i.data instanceof ArrayBuffer,t.byteOffset=e?0:i.data.byteOffset,t.byteLength=i.data.byteLength,e=[e?i.data:i.data.buffer],n.postMessage(t,e)):n.postMessage(t)}function Hu(e){e.forEach(function(e){e.abort()})}function qu(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Nd,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Md,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Ld,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:Ld,xhr:t}:null}function Gu(s,a,r){return function(e,t){var i=t.response;if(e=qu(e,t))return r(e,s);if(16!==i.byteLength)return r({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Ld,xhr:t},s);for(var i=new DataView(i),n=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]),o=0;o<a.length;o++)a[o].bytes=n;return r(null,s)}}function Yu(i,n){var e,t=Wc(i.map.bytes);if("mp4"!==t)return e=i.map.resolvedUri||i.map.uri,n({internal:!0,message:"Found unsupported "+(t||"unknown")+" container for initialization segment at URL: "+e,code:Ld});Wu({action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:function(e){var t=e.tracks;return i.map.bytes=e=e.data,t.forEach(function(e){i.map.tracks=i.map.tracks||{},i.map.tracks[e.type]||"number"==typeof(i.map.tracks[e.type]=e).id&&e.timescale&&(i.map.timescales=i.map.timescales||{},i.map.timescales[e.id]=e.timescale)}),n(null)}})}function Qu(e){var i=e.segment,n=e.finishProcessingFn,o=e.responseType;return function(e,t){return(e=qu(e,t))?n(e,i):(e="arraybuffer"!==o&&t.responseText?(e=>{for(var t=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer})(t.responseText.substring(i.lastReachedChar||0)):t.response,i.stats={bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0},i.key?i.encryptedBytes=new Uint8Array(e):i.bytes=new Uint8Array(e),n(null,i))}}function Ku(e){var i=e.segment,t=e.bytes,n=e.trackInfoFn,o=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,r=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,f=(e=i.map&&i.map.tracks||{},Boolean(e.audio&&e.video)),m=o.bind(null,i,"audio","start"),g=o.bind(null,i,"audio","end"),y=o.bind(null,i,"video","start"),v=o.bind(null,i,"video","end");Wu({action:"probeTs",transmuxer:i.transmuxer,data:t,baseStartTime:i.baseStartTime,callback:function(e){i.bytes=t=e.data,(e=e.result)&&(n(i,{hasAudio:e.hasAudio,hasVideo:e.hasVideo,isMuxed:f}),n=null,e.hasAudio&&!f&&m(e.audioStart),e.hasVideo&&y(e.videoStart),y=m=null);e={bytes:t,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:f,onData:function(e){e.type="combined"===e.type?"video":e.type,d(i,e)},onTrackInfo:function(e){n&&(f&&(e.isMuxed=!0),n(i,e))},onAudioTimingInfo:function(e){m&&void 0!==e.start&&(m(e.start),m=null),g&&void 0!==e.end&&g(e.end)},onVideoTimingInfo:function(e){y&&void 0!==e.start&&(y(e.start),y=null),v&&void 0!==e.end&&v(e.end)},onVideoSegmentTimingInfo:function(e){s(e)},onAudioSegmentTimingInfo:function(e){a(e)},onId3:function(e,t){r(i,e,t)},onCaptions:function(e){l(i,[e])},isEndOfTimeline:c,onEndedTimeline:function(){u()},onTransmuxerLog:p,onDone:function(e){h&&(e.type="combined"===e.type?"video":e.type,h(null,i,e))}};e.transmuxer.currentTransmux?e.transmuxer.transmuxQueue.push(e):$u(e.transmuxer.currentTransmux=e)}})}function Xu(e){var i=e.segment,n=e.bytes,t=e.trackInfoFn,o=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,r=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,f=new Uint8Array(n);if(0<function e(t,i,n){void 0===n&&(n=!1),o=i,i=Array.isArray(o)?o.map(yc):[yc(o)],t=I(t);var o,s=[];if(i.length)for(var a=0;a<t.length;){var r=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,l=t.subarray(a+4,a+8);if(0==r)break;var c=a+r;if(c>t.length){if(n)break;c=t.length}r=t.subarray(a+8,c),P(l,i[0])&&(1===i.length?s.push(r):s.push.apply(s,e(r,i.slice(1),n))),a=c}return s}(f,["moof"]).length){i.isFmp4=!0;var m=i.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio},y=(m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),t(i,g),function(e){d(i,{data:f,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(i,e),h(null,i,{})});Wu({action:"probeMp4StartTime",timescales:i.map.timescales,data:f,transmuxer:i.transmuxer,callback:function(e){var t=e.data;e=e.startTime,n=t.buffer,i.bytes=f=t,g.hasAudio&&!g.isMuxed&&o(i,"audio","start",e),g.hasVideo&&o(i,"video","start",e),m.video&&t.byteLength&&i.transmuxer?Wu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:f,timescales:i.map.timescales,trackIds:[m.video.id],callback:function(e){n=e.data.buffer,i.bytes=f=e.data,e.logs.forEach(function(e){p(j.mergeOptions(e,{stream:"mp4CaptionParser"}))}),y(e.captions)}}):y()}})}else if(i.transmuxer){if(void 0===i.container&&(i.container=Wc(f)),"ts"!==i.container&&"aac"!==i.container)return t(i,{hasAudio:!1,hasVideo:!1}),h(null,i,{});Ku({segment:i,bytes:n,trackInfoFn:t,timingInfoFn:o,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:r,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:h,onTransmuxerLog:p})}else h(null,i,{})}function Zu(e,i){var n=e.id,t=e.key,o=e.encryptedBytes,s=e.decryptionWorker;s.addEventListener("message",e=function e(t){t.data.source===n&&(s.removeEventListener("message",e),t=t.data.decrypted,i(new Uint8Array(t.bytes,t.byteOffset,t.byteLength)))}),e=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(Ou({source:n,encrypted:o,key:e,iv:t.iv}),[o.buffer,e.buffer])}function Ju(e){var t,i,n,o,m,g,y,v,b,w,S,_,C,k,x,T,s,a,r,l,c,u=e.xhr,d=e.xhrOptions,h=e.decryptionWorker,p=e.segment,B=e.abortFn,F=e.progressFn,f=e.trackInfoFn,I=e.timingInfoFn,P=e.videoSegmentTimingInfoFn,A=e.audioSegmentTimingInfoFn,D=e.id3Fn,E=e.captionsFn,O=e.isEndOfTimeline,L=e.endedTimelineFn,N=e.dataFn,M=[],R=(o=(r={activeXhrs:M,decryptionWorker:h,trackInfoFn:f,timingInfoFn:I,videoSegmentTimingInfoFn:P,audioSegmentTimingInfoFn:A,id3Fn:D,captionsFn:E,isEndOfTimeline:O,endedTimelineFn:L,dataFn:N,doneFn:h=e.doneFn,onTransmuxerLog:e=e.onTransmuxerLog}).activeXhrs,m=r.decryptionWorker,g=r.trackInfoFn,y=r.timingInfoFn,v=r.videoSegmentTimingInfoFn,b=r.audioSegmentTimingInfoFn,w=r.id3Fn,S=r.captionsFn,_=r.isEndOfTimeline,C=r.endedTimelineFn,k=r.dataFn,x=r.doneFn,T=r.onTransmuxerLog,s=0,a=!1,h=function(e,f){if(!a){if(e)return a=!0,Hu(o),x(e,f);if((s+=1)===o.length){var t=function(){var e,t,i,n,o,s,a,r,l,c,u,d,h,p;f.encryptedBytes?(t=(e={decryptionWorker:m,segment:f,trackInfoFn:g,timingInfoFn:y,videoSegmentTimingInfoFn:v,audioSegmentTimingInfoFn:b,id3Fn:w,captionsFn:S,isEndOfTimeline:_,endedTimelineFn:C,dataFn:k,doneFn:x,onTransmuxerLog:T}).decryptionWorker,i=e.segment,n=e.trackInfoFn,o=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,r=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,Zu({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:t},function(e){i.bytes=e,Xu({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:o,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:r,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:h,onTransmuxerLog:p})})):Xu({segment:f,bytes:f.bytes,trackInfoFn:g,timingInfoFn:y,videoSegmentTimingInfoFn:v,audioSegmentTimingInfoFn:b,id3Fn:w,captionsFn:S,isEndOfTimeline:_,endedTimelineFn:C,dataFn:k,doneFn:x,onTransmuxerLog:T})};if(f.endOfAllRequests=Date.now(),f.map&&f.map.encryptedBytes&&!f.map.bytes)return Zu({decryptionWorker:m,id:f.requestId+"-init",encryptedBytes:f.map.encryptedBytes,key:f.map.key},function(e){f.map.bytes=e,Yu(f,function(e){return e?(Hu(o),x(e,f)):void t()})});t()}}},p.key&&!p.key.bytes&&(e=[p.key],p.map&&!p.map.bytes&&p.map.key&&p.map.key.resolvedUri===p.key.resolvedUri&&e.push(p.map.key),e=u(j.mergeOptions(d,{uri:p.key.resolvedUri,responseType:"arraybuffer"}),Gu(p,e,h)),M.push(e)),p.map&&!p.map.bytes&&(!p.map.key||p.key&&p.key.resolvedUri===p.map.key.resolvedUri||(t=u(j.mergeOptions(d,{uri:p.map.key.resolvedUri,responseType:"arraybuffer"}),Gu(p,[p.map.key],h)),M.push(t)),t=u(j.mergeOptions(d,{uri:p.map.resolvedUri,responseType:"arraybuffer",headers:Au(p.map)}),(i=(t={segment:p,finishProcessingFn:h}).segment,n=t.finishProcessingFn,function(e,t){return(e=qu(e,t))?n(e,i):(e=new Uint8Array(t.response),i.map.key?(i.map.encryptedBytes=e,n(null,i)):(i.map.bytes=e,void Yu(i,function(e){return e?(e.xhr=t,e.status=t.status,n(e,i)):void n(null,i)})))})),M.push(t)),(d=u(d=j.mergeOptions(d,{uri:p.part&&p.part.resolvedUri||p.resolvedUri,responseType:"arraybuffer",headers:Au(p)}),Qu({segment:p,finishProcessingFn:h,responseType:d.responseType}))).addEventListener("progress",(l=(r={segment:p,progressFn:F,trackInfoFn:f,timingInfoFn:I,videoSegmentTimingInfoFn:P,audioSegmentTimingInfoFn:A,id3Fn:D,captionsFn:E,isEndOfTimeline:O,endedTimelineFn:L,dataFn:N}).segment,c=r.progressFn,function(e){var t,i=e.target;if(!i.aborted)return l.stats=j.mergeOptions(l.stats,(i=(t=e).target,(i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-i.requestTime||0}).bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i)),!l.stats.firstBytesReceivedAt&&l.stats.bytesReceived&&(l.stats.firstBytesReceivedAt=Date.now()),c(e,l)})),M.push(d),{});return M.forEach(function(e){var t,i;e.addEventListener("loadend",(t=(e={loadendState:R,abortFn:B}).loadendState,i=e.abortFn,function(e){e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}))}),function(){return Hu(M)}}function ed(e,t){return t=t.attributes||{},e&&e.mediaGroups&&e.mediaGroups.AUDIO&&t.AUDIO&&e.mediaGroups.AUDIO[t.AUDIO]}function td(e){var n={};return e.forEach(function(e){var t=e.mediaType,i=e.type;e=e.details,n[t]=n[t]||[],n[t].push(Ya(""+i+e))}),Object.keys(n).forEach(function(e){return 1<n[e].length?(Bd("multiple "+e+" codecs found as attributes: "+n[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(n[e]=null)):void(n[e]=n[e][0])}),n}function id(e){var t=0;return e.audio&&t++,e.video&&t++,t}function nd(n,o){var e=o.attributes||{},t=td((e=>{if((e=o.attributes||{}).CODECS)return Qa(e.CODECS)})()||[]);return ed(n,o)&&!t.audio&&!(e=>{if(!ed(n,o))return 1;e=o.attributes||{};var t,i=n.mediaGroups.AUDIO[e.AUDIO];for(t in i)if(!i[t].uri&&!i[t].playlists)return 1})()&&(e=td(((e,t)=>{if(e.mediaGroups.AUDIO&&t){var i,n=e.mediaGroups.AUDIO[t];if(n)for(i in n){var o=n[i];if(o.default&&o.playlists)return Qa(o.playlists[0].attributes.CODECS)}}return null})(n,e.AUDIO)||[])).audio&&(t.audio=e.audio),t}function od(e){var t;if(e&&e.playlist)return t=e.playlist,JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}function sd(e,t){return(e=e&&window.getComputedStyle(e))?e[t]:""}function ad(e,n){var o=e.slice();e.sort(function(e,t){var i=n(e,t);return 0===i?o.indexOf(e)-o.indexOf(t):i})}function rd(e,t){var i,n;return(i=(i=e.attributes.BANDWIDTH||i)||window.Number.MAX_VALUE)-((n=t.attributes.BANDWIDTH||n)||window.Number.MAX_VALUE)}function ld(e,t,i,n,o,s){if(e){var a,r,l,c,u={bandwidth:t,width:i,height:n,limitRenditionByPlayerDimensions:o},d=e.playlists,h=(Cd.isAudioOnly(e)&&(d=s.getAudioTrackPlaylists_(),u.audioOnly=!0),d.map(function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:t,height:i,playlist:e}})),p=(ad(h,function(e,t){return e.bandwidth-t.bandwidth}),(h=h.filter(function(e){return!Cd.isIncompatible(e.playlist)})).filter(function(e){return Cd.isEnabled(e.playlist)})),f=(e=(p=p.length?p:h.filter(function(e){return!Cd.isDisabled(e.playlist)})).filter(function(e){return e.bandwidth*L.BANDWIDTH_VARIANCE<t}))[e.length-1],d=e.filter(function(e){return e.bandwidth===f.bandwidth})[0];if(!1===o)return(a=d||p[0]||h[0])&&a.playlist?(o=d?"bandwidthBestRep":"sortedPlaylistReps",p[0]&&(o="enabledPlaylistReps"),Fd("choosing "+od(a)+" using "+o+" with options",u),a.playlist):(Fd("could not choose a playlist with options",u),null);ad(a=e.filter(function(e){return e.width&&e.height}),function(e,t){return e.width-t.width}),e=a.filter(function(e){return e.width===i&&e.height===n}),f=e[e.length-1],(e=e.filter(function(e){return e.bandwidth===f.bandwidth})[0])||(l=(r=a.filter(function(e){return e.width>i||e.height>n})).filter(function(e){return e.width===r[0].width&&e.height===r[0].height}),f=l[l.length-1],l=l.filter(function(e){return e.bandwidth===f.bandwidth})[0]),s.experimentalLeastPixelDiffSelector&&(ad(m=a.map(function(e){return e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-n),e}),function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff}),c=m[0]);var m=c||l||e||d||p[0]||h[0];return m&&m.playlist?(h="sortedPlaylistReps",c?h="leastPixelDiffRep":l?h="resolutionPlusOneRep":e?h="resolutionBestRep":d?h="bandwidthBestRep":p[0]&&(h="enabledPlaylistReps"),Fd("choosing "+od(m)+" using "+h+" with options",u),m.playlist):(Fd("could not choose a playlist with options",u),null)}}function cd(e,t,i){var n,o;if(i&&i.cues)for(n=i.cues.length;n--;)(o=i.cues[n]).startTime>=e&&o.endTime<=t&&i.removeCue(o)}function ud(e){return"number"==typeof e&&isFinite(e)}function dd(e){var t=e.startOfSegment,i=e.duration,n=e.segment,o=e.part,s=e.playlist,a=s.mediaSequence,r=s.id,l=s.segments,c=e.mediaIndex,u=e.partIndex,d=e.timeline,h=(void 0===l?[]:l).length-1,p="mediaIndex/partIndex increment";return e.getMediaInfoForTime?p="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent "+e.independent),l=e.segment.uri?"segment":"pre-segment",e=(s="number"==typeof u)?nu({preloadSegment:n})-1:0,l+" ["+(a+c)+"/"+(a+h)+"]"+(s?" part ["+u+"/"+e+"]":"")+" segment start/end ["+n.start+" => "+n.end+"]"+(s?" part start/end ["+o.start+" => "+o.end+"]":"")+" startOfSegment ["+t+"] duration ["+i+"] timeline ["+d+"] selected by ["+p+"] playlist ["+r+"]"}function hd(e){return e+"TimingInfo"}function pd(e){var t=e.timelineChangeController,i=e.currentTimeline,n=e.segmentTimeline,o=e.loaderType;return e=e.audioDisabled,!(i===n||("audio"===o?(i=t.lastTimelineChange({type:"main"}))&&i.to===n:"main"!==o||!e||(t=t.pendingTimelineChange({type:"audio"}))&&t.to===n))}function fd(e){var t=e.segmentDuration;return e=e.maxDuration,!!t&&Math.round(t)>e+Sd}zc.forEach(function(e){var t=$c[e];$c[e]=function(e){return t(I(e))}});function md(e){var t="reset";e.currentTransmux?e.transmuxQueue.push(zu.bind(null,e,t)):(e.currentTransmux=t,zu(e,t))}var gd,yd,vd,O,bd=$c,wd=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,n=/^\/\//.test(e),o=!window.location&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||Va):/\/\//i.test(e)||(e=Ua.buildAbsoluteURL(window.location&&window.location.href||"",e)),i?(i=new URL(t,e),o?i.href.slice(Va.length):n?i.href.slice(i.protocol.length):i.href):Ua.buildAbsoluteURL(e,t)},Sd=1/30,_d=j.createTimeRange,Cd={liveEdgeDelay:ou,duration:au,seekable:function(e,t,i){var n=t||0;return null===(i=lu(e,t,!0,i))?_d():_d(n,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,i=e.currentTime,n=e.startingSegmentIndex,o=e.startingPartIndex,s=e.startTime,a=e.experimentalExactManifestTimings,r=i-s,l=tu(t),c=0,u=0;u<l.length;u++){var d=l[u];if(n===d.segmentIndex&&("number"!=typeof o||"number"!=typeof d.partIndex||o===d.partIndex)){c=u;break}}if(r<0){if(0<c)for(var h=c-1;0<=h;h--){var p=l[h];if(r+=p.duration,a){if(r<0)continue}else if(r+Sd<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:s-ru({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:h})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var f=c;f<0;f++)if((r-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var m=c;m<l.length;m++){var g=l[m];if(r-=g.duration,a){if(0<r)continue}else if(0<=r-Sd)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:s+ru({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},isEnabled:du,isDisabled:function(e){return e.disabled},isBlacklisted:cu,isIncompatible:uu,playlistEnd:lu,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:hu,estimateSegmentRequestTime:function(e,t,i,n){return hu("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*(n=void 0===n?0:n))/t:NaN},isLowestEnabledRendition:pu,isAudioOnly:gu,playlistMatch:fu,segmentDurationWithParts:eu},kd=j.log,xd=j.mergeOptions,Td=(y(Vd,vd=t=j.EventTarget),(O=Vd.prototype).handleMediaupdatetimeout_=function(){var e,t,i,n,o,s,a,r,l=this;"HAVE_METADATA"===this.state&&(i=this.media(),e=wd(this.master.uri,i.uri),this.experimentalLLHLS&&(t=e,!(i=i).endList&&i.serverControl&&(r={},i.serverControl.canBlockReload&&(s=i.preloadSegment,n=i.mediaSequence+i.segments.length,s&&(o=s.parts||[],-1<(s=nu(i)-1)&&s!=o.length-1&&(r._HLS_part=s),-1<s||o.length)&&n--,r._HLS_msn=n),i.serverControl&&i.serverControl.canSkipUntil&&(r._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length)&&(a=new window.URL(t),["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(e){r.hasOwnProperty(e)&&a.searchParams.set(e,r[e])}),t=a.toString()),e=t),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:e,withCredentials:this.withCredentials},function(e,t){if(l.request)return e?l.playlistRequestError(l.request,l.media(),"HAVE_METADATA"):void l.haveMetadata({playlistString:l.request.responseText,url:l.media().uri,id:l.media().id})}))},O.playlistRequestError=function(e,t,i){var n=t.uri;t=t.id,this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+n+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")},O.parseManifest_=function(e){var t,i,n,o,s,a,r,l,c=this,u=e.url;return e={onwarn:function(e){return e=e.message,c.logger_("m3u8-parser warn for "+u+": "+e)},oninfo:function(e){return e=e.message,c.logger_("m3u8-parser info for "+u+": "+e)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS},t=e.onwarn,i=e.oninfo,n=e.manifestString,s=void 0===(o=e.customTagParsers)?[]:o,o=void 0===(o=e.customTagMappers)?[]:o,e=e.experimentalLLHLS,a=new ur,t&&a.on("warn",t),i&&a.on("info",i),s.forEach(function(e){return a.addParser(e)}),o.forEach(function(e){return a.addTagMapper(e)}),a.push(n),a.end(),r=a.manifest,e||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){r.hasOwnProperty(e)&&delete r[e]}),r.segments&&r.segments.forEach(function(t){["parts","preloadHints"].forEach(function(e){t.hasOwnProperty(e)&&delete t[e]})})),r.targetDuration||(l=10,r.segments&&r.segments.length&&(l=r.segments.reduce(function(e,t){return Math.max(e,t.duration)},0)),t&&t("manifest has no targetDuration defaulting to "+l),r.targetDuration=l),(l=iu(r)).length&&!r.partTargetDuration&&(l=l.reduce(function(e,t){return Math.max(e,t.duration)},0),t&&(t("manifest has no partTargetDuration defaulting to "+l),kd.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),r.partTargetDuration=l),r},O.haveMetadata=function(e){var t=e.playlistString,i=e.playlistObject,n=e.url;e=e.id,this.request=null,this.state="HAVE_METADATA",(t=i||this.parseManifest_({url:n,manifestString:t})).lastRequest=Date.now(),bu({playlist:t,uri:n,id:e}),n=xu(this.master,t),this.targetDuration=t.partTargetDuration||t.targetDuration,this.pendingMedia_=null,n?(this.master=n,this.media_=this.master.playlists[e]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Tu(this.media(),!!n)),this.trigger("loadedplaylist")},O.dispose=function(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()},O.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},O.media=function(i,e){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(window.clearTimeout(this.finalRenditionTimeout),e){var t=(i.partTargetDuration||i.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,i,!1),t)}else{var o=this.state;if(e=!this.media_||i.id!==this.media_.id,(t=this.master.playlists[i.id])&&t.endList||i.endList&&i.segments.length)this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,e&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange"));else if(this.updateMediaUpdateTimeout_(Tu(i,!0)),e){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=i,this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(e,t){if(n.request){if(i.lastRequest=Date.now(),i.resolvedUri=Hc(n.handleManifestRedirects,i.resolvedUri,t),e)return n.playlistRequestError(n.request,i,o);n.haveMetadata({playlistString:t.responseText,url:i.uri,id:i.id}),"HAVE_MASTER"===o?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}},O.pause=function(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},O.load=function(e){var t=this,i=(this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media());e?(e=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){t.mediaUpdateTimeout=null,t.load()},e)):this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},O.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)},e))},O.start=function(){var i=this;this.started=!0,"object"==Wh(this.src)?(this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){i.setupInitialPlaylist(i.src)},0)):this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(e,t){if(i.request){if(i.request=null,e)return i.error={status:t.status,message:"HLS playlist request error at URL: "+i.src+".",responseText:t.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");i.src=Hc(i.handleManifestRedirects,i.src,t),t=i.parseManifest_({manifestString:t.responseText,url:i.src}),i.setupInitialPlaylist(t)}})},O.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},O.setupInitialPlaylist=function(e){var t,i,n,o;this.state="HAVE_MASTER",e.playlists?(this.master=e,wu(this.master,this.srcUri()),e.playlists.forEach(function(t){t.segments=Cu(t),t.segments.forEach(function(e){_u(e,t.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0])):(o=this.srcUri()||window.location.href,this.master=(i=yu(0,t=o),(n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]}).playlists[i]=n.playlists[0],n.playlists[t]=n.playlists[0],n),this.haveMetadata({playlistObject:e,url:o,id:this.master.playlists[0].id}),this.trigger("loadedmetadata"))},Vd),Id=j.xhr,Pd=j.mergeOptions,Ad=(hi=Object.freeze({__proto__:null,createTransferableMessage:Ou,initSegmentId:Lu,segmentKeyId:Nu,hexDump:Mu,tagDump:function(e){return Mu(e=e.bytes)},textRanges:function(e){for(var t,i,n="",o=0;o<e.length;o++)n+=(i=o,(t=e).start(i)+"-"+t.end(i)+" ");return n}}),$a=j.EventTarget,j.mergeOptions),Dd=(y(Ud,yd=$a),(v=Ud.prototype).requestErrored_=function(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=Wh(e)||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)},v.addSidxSegments_=function(s,n,o){var a,r,e,l,c,u,d,i,h=this,p=s.sidx&&Yl(s.sidx);function f(e,t,i,n){return t.abort(),d=!0,l(e,t,i,n)}function m(e,t){var i;if(!d)return e?f(e,t,"",u):(i=t.responseText.substring(u&&u.byteLength||0,t.responseText.length),u=function(){for(var e,t,i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(o=o.filter(function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})).length<=1?I(o[0]):(e=o.reduce(function(e,t,i){return e+(t.byteLength||t.length)},0),t=new Uint8Array(e),i=0,o.forEach(function(e){e=I(e),t.set(e,i),i+=e.byteLength}),t)}(u,ir(i,!0)),c=c||gc(u),u.length<10||c&&u.length<c+2||"ts"===(i=Wc(u))&&u.length<188||!i&&u.length<376?Ru(t,function(){return f(e,t,"",u)}):f(null,t,i,u))}s.sidx&&p&&!this.masterPlaylistLoader_.sidxMapping_[p]?(a=Hc(this.handleManifestRedirects,s.sidx.resolvedUri),r=function(e,t){if(!h.requestErrored_(e,t,n)){var i;e=h.masterPlaylistLoader_.sidxMapping_;try{i=(e=>{var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},n=12,o=(0===i.version?(i.earliestPresentationTime=t.getUint32(n),i.firstOffset=t.getUint32(n+4),n+=8):(i.earliestPresentationTime=Nc(e.subarray(n)),i.firstOffset=Nc(e.subarray(n+8)),n+=16),t.getUint16(n+=2));for(n+=2;0<o;n+=12,o--)i.references.push({referenceType:(128&e[n])>>>7,referencedSize:2147483647&t.getUint32(n),subsegmentDuration:t.getUint32(n+4),startsWithSap:!!(128&e[n+8]),sapType:(112&e[n+8])>>>4,sapDeltaTime:268435455&t.getUint32(n+8)});return i})(I(t.response).subarray(8))}catch(e){return void h.requestErrored_(e,t,n)}return e[p]={sidxInfo:s.sidx,sidx:i},zl(s,i,s.sidx.resolvedUri),o(!0)}},this.request=(e=this.vhs_.xhr,l=function(e,t,i,n){var o;return e?r(e,t):i&&"mp4"===i?(i=(o=s.sidx.byterange).offset,n.length>=(o=o.length)+i?r(e,{response:n.subarray(i,i+o),status:t.status,uri:t.uri}):void(h.request=h.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:Au({byterange:s.sidx.byterange})},r))):r({status:t.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:s,internal:!0,blacklistDuration:1/0,code:2},t)},d=!(u=[]),i=e({uri:a,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",function(e){return e.total,Iu(t,null,{statusCode:t.status},m)})}},function(e,t){return Iu(i,e,t,m)}))):this.mediaRequest_=window.setTimeout(function(){return o(!1)},0)},v.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},v.hasPendingRequest=function(){return this.request||this.mediaRequest_},v.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},v.media=function(t){var i=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var e=!this.media_||t.id!==this.media_.id;e&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList?(this.state="HAVE_METADATA",this.media_=t,e&&(this.trigger("mediachanging"),this.trigger("mediachange"))):e&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,n,function(e){i.haveMetadata({startingState:n,playlist:t})}))},v.haveMetadata=function(e){var t=e.startingState;e=e.playlist,this.state="HAVE_METADATA",this.loadedPlaylists_[e.id]=e,this.mediaRequest_=null,this.refreshMedia_(e.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},v.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},v.load=function(e){var t=this,i=(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.media());e?(e=i?i.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){return t.load()},e)):this.started?i&&!i.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},v.start=function(){var i=this;this.started=!0,this.isMaster_?this.requestMaster_(function(e,t){i.haveMaster_(),i.hasPendingRequest()||i.media_||i.media(i.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=window.setTimeout(function(){return i.haveMaster_()},0)},v.requestMaster_=function(n){var o=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(e,t){var i;if(!o.requestErrored_(e,t))return i=t.responseText!==o.masterPlaylistLoader_.masterXml_,o.masterPlaylistLoader_.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?o.masterLoaded_=Date.parse(t.responseHeaders.date):o.masterLoaded_=Date.now(),o.masterPlaylistLoader_.srcUrl=Hc(o.handleManifestRedirects,o.masterPlaylistLoader_.srcUrl,t),i?(o.handleMaster_(),void o.syncClientServerClock_(function(){return n(t,i)})):n(t,i);"HAVE_NOTHING"===o.state&&(o.started=!1)})},v.syncClientServerClock_=function(i){var n=this,o=(e=>{var t=void 0;if(!(t=E(fc(e),"UTCTiming")[0]))return null;var i=uc(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i})(this.masterPlaylistLoader_.masterXml_);return null===o?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),i()):"DIRECT"===o.method?(this.masterPlaylistLoader_.clientOffset_=o.value-Date.now(),i()):void(this.request=this.vhs_.xhr({uri:wd(this.masterPlaylistLoader_.srcUrl,o.value),method:o.method,withCredentials:this.withCredentials},function(e,t){if(n.request){if(e)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),i();t="HEAD"===o.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):n.masterLoaded_:Date.parse(t.responseText),n.masterPlaylistLoader_.clientOffset_=t-Date.now(),i()}}))},v.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},v.handleMaster_=function(){this.mediaRequest_=null;var e=this.masterPlaylistLoader_.master,t=(wu(i=mc((i={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:e}).masterXml,{manifestUri:t=i.srcUrl,clientOffset:i.clientOffset,sidxMapping:i.sidxMapping,previousManifest:i.previousManifest}),t),i),i=(e&&(t=((e,t,i)=>{for(var s=!0,a=Ad(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),n=0;n<t.playlists.length;n++){var o,r=t.playlists[n];r.sidx&&(o=Yl(r.sidx),i)&&i[o]&&i[o].sidx&&zl(r,i[o].sidx,r.sidx.resolvedUri),(r=xu(a,r,ju))&&(a=r,s=!1)}return vu(t,function(e,t,i,n){var o;e.playlists&&e.playlists.length&&(o=e.playlists[0].id,e=xu(a,e.playlists[0],ju))&&((a=e).mediaGroups[t][i][n].playlists[0]=a.playlists[o],s=!1)}),(s=t.minimumUpdatePeriod===e.minimumUpdatePeriod&&s)?null:a})(e,t,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=t||e,this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0]);return i&&i!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=i),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)},v.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_,t=(e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null),e.master&&e.master.minimumUpdatePeriod);0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},v.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=window.setTimeout(function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)},v.refreshXml_=function(){var i=this;this.requestMaster_(function(e,t){var o,s;t&&(i.media_&&(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=(t=i.masterPlaylistLoader_.master,o=i.masterPlaylistLoader_.sidxMapping_,s=Uu(t.playlists,o),vu(t,function(e,t,i,n){e.playlists&&e.playlists.length&&(e=e.playlists,s=Ad(s,Uu(e,o)))}),s),i.addSidxSegments_(i.media(),i.state,function(e){i.refreshMedia_(i.media().id)}))})},v.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var i=this.masterPlaylistLoader_.master.playlists,n=!this.media_||this.media_!==i[e];n?this.media_=i[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function e(){t.media().endList||(t.mediaUpdateTimeout=window.setTimeout(function(){t.trigger("mediaupdatetimeout"),e()},Tu(t.media(),Boolean(n))))}(),this.trigger("loadedplaylist")},Ud),L={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Ed=(s=function(n){return function(){var e=(t=>{try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){var i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}})(n),t=Vu(new Worker(e)),i=(t.objURL=e,t.terminate);return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},t}})((ce=function(e){return"var browserWorkerPolyFill = "+Vu.toString()+";\nbrowserWorkerPolyFill(self);\n"+e})((t=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)})(function(){(C=function(){this.init=function(){var s={};this.on=function(e,t){s[e]||(s[e]=[]),s[e]=s[e].concat(t)},this.off=function(e,t){return!!s[e]&&(t=s[e].indexOf(t),s[e]=s[e].slice(),s[e].splice(t,1),-1<t)},this.trigger=function(e){var t,i,n,o=s[e];if(o)if(2===arguments.length)for(i=o.length,t=0;t<i;++t)o[t].call(this,arguments[1]);else{for(n=[],t=arguments.length,t=1;t<arguments.length;++t)n.push(arguments[t]);for(i=o.length,t=0;t<i;++t)o[t].apply(this,n)}},this.dispose=function(){s={}}}}).prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},C.prototype.push=function(e){this.trigger("data",e)},C.prototype.flush=function(e){this.trigger("done",e)},C.prototype.partialFlush=function(e){this.trigger("partialdone",e)},C.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},C.prototype.reset=function(e){this.trigger("reset",e)};var l,N,F,R,j,U,V,$,t,z,W,H,e=C,q=Math.pow(2,32),G={getUint64:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.getBigUint64?(e=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:t.getUint32(0)*q+t.getUint32(4)},MAX_UINT32:q},Y=G.MAX_UINT32;function h(e){for(var t=[];e--;)t.push(0);return t}if(l={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var i in l)l.hasOwnProperty(i)&&(l[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)]);N=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),R=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),F=new Uint8Array([0,0,0,1]),_=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Be=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),j={video:_,audio:Be},$=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),V=new Uint8Array([0,0,0,0,0,0,0,0]),t=new Uint8Array([0,0,0,0,0,0,0,0]),z=t,W=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),H=t,U=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}function Q(e){return c(l.mdat,e)}function K(e,t,i){return De(i?e:e-t)}function X(e,t,i,n){var o,s,a,r,l,c,u=0,d=0;if(t.length&&(s=Le(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(m/(e.samplerate/1024)),i&&n&&(s=s-Math.max(i,n),d=(u=Math.floor(s/o))*o),!(u<1||m/2<d))){for(te||(i={96e3:[p,[227,64],h(154),[56]],88200:[p,[231],h(170),[56]],64e3:[p,[248,192],h(240),[56]],48e3:[p,[255,192],h(268),[55,148,128],h(54),[112]],44100:[p,[255,192],h(268),[55,163,128],h(84),[112]],32e3:[p,[255,192],h(268),[55,234],h(226),[112]],24e3:[p,[255,192],h(268),[55,255,128],h(268),[111,112],h(126),[224]],16e3:[p,[255,192],h(268),[55,255,128],h(268),[111,255],h(269),[223,108],h(195),[1,192]],12e3:[Ie,h(268),[3,127,248],h(268),[6,255,240],h(268),[13,255,224],h(268),[27,253,128],h(259),[56]],11025:[Ie,h(268),[3,127,248],h(268),[6,255,240],h(268),[13,255,224],h(268),[27,255,192],h(268),[55,175,128],h(108),[112]],8e3:[Ie,h(268),[3,121,16],h(47),[7]]},c=i,te=Object.keys(c).reduce(function(e,t){return e[t]=new Uint8Array(c[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),a=(a=te[e.samplerate])||t[0].data,r=0;r<u;r++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(Ne(d,e.samplerate)),d}}function Z(e){for(var t,i=0,n=new Uint8Array((e=>{for(var t=0,i=0;i<e.length;i++)t+=e[i].data.byteLength;return t})(e)),o=0;o<e.length;o++)n.set((t=e[o]).data,i),i+=t.data.byteLength;return n}function f(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts}function J(e,t){var i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/Me,t=Math.floor(t)),t}function ee(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),e.minSegmentPts=void 0===e.minSegmentPts?t.pts:Math.min(e.minSegmentPts,t.pts),e.maxSegmentPts=void 0===e.maxSegmentPts?t.pts:Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),e.minSegmentDts=void 0===e.minSegmentDts?t.dts:Math.min(e.minSegmentDts,t.dts),e.maxSegmentDts=void 0===e.maxSegmentDts?t.dts:Math.max(e.maxSegmentDts,t.dts))}var te,c=function(e){for(var t,i=[],n=0,o=1;o<arguments.length;o++)i.push(arguments[o]);for(o=i.length;o--;)n+=i[o].byteLength;for(t=new Uint8Array(n+8),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0,t.byteLength),t.set(e,4),o=0,n=8;o<i.length;o++)t.set(i[o],n),n+=i[o].byteLength;return t},ie=function(){return c(l.dinf,c(l.dref,$))},ne=function(e){return c(l.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},oe=function(e){return c(l.hdlr,j[e])},se=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),c(l.mdhd,t)},ae=function(e){return c(l.mdia,se(e),oe(e.type),le(e))},re=function(e){return c(l.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},le=function(e){return c(l.minf,"video"===e.type?c(l.vmhd,U):c(l.smhd,V),ie(),pe(e))},ce=function(e){for(var t=e.length,i=[];t--;)i[t]=be(e[t]);return c.apply(null,[l.moov,de(4294967295)].concat(i).concat(ue(e)))},ue=function(e){for(var t=e.length,i=[];t--;)i[t]=we(e[t]);return c.apply(null,[l.mvex].concat(i))},de=function(e){return e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]),c(l.mvhd,e)},he=function(e){for(var t,i=e.samples||[],n=new Uint8Array(4+i.length),o=0;o<i.length;o++)t=i[o].flags,n[o+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return c(l.sdtp,n)},pe=function(e){return c(l.stbl,fe(e),c(l.stts,H),c(l.stsc,z),c(l.stsz,W),c(l.stco,t))},fe=function(e){return c(l.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===e.type?me:ge)(e))},me=function(e){for(var t,i,n=e.sps||[],o=e.pps||[],s=[],a=[],r=0;r<n.length;r++)s.push((65280&n[r].byteLength)>>>8),s.push(255&n[r].byteLength),s=s.concat(Array.prototype.slice.call(n[r]));for(r=0;r<o.length;r++)a.push((65280&o[r].byteLength)>>>8),a.push(255&o[r].byteLength),a=a.concat(Array.prototype.slice.call(o[r]));return t=[l.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c(l.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length],s,[o.length],a))),c(l.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio&&(i=e.sarRatio[0],e=e.sarRatio[1],t.push(c(l.pasp,new Uint8Array([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])))),c.apply(null,t)},ge=function(e){return c(l.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),ne(e))},ye=function(e){return e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]),c(l.tkhd,e)},ve=function(e){var t,i=c(l.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),n=Math.floor(e.baseMediaDecodeTime/Y),o=Math.floor(e.baseMediaDecodeTime%Y),n=c(l.tfdt,new Uint8Array([1,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,o>>>24&255,o>>>16&255,o>>>8&255,255&o]));return"audio"===e.type?(t=ke(e,92),c(l.traf,i,n,t)):(o=he(e),t=ke(e,o.length+92),c(l.traf,i,n,t,o))},be=function(e){return e.duration=e.duration||4294967295,c(l.trak,ye(e),ae(e))},we=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),c(l.trex,t)},Se=function(e,t){var i=0,n=0,o=0,s=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(o=4),void 0!==e[0].compositionTimeOffset)&&(s=8),[0,0,i|n|o|s,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},_e=function(e,t){var i,n,o,s,a=e.samples||[];for(t+=20+16*a.length,t=Se(a,t),(n=new Uint8Array(t.length+16*a.length)).set(t),i=t.length,s=0;s<a.length;s++)o=a[s],n[i++]=(4278190080&o.duration)>>>24,n[i++]=(16711680&o.duration)>>>16,n[i++]=(65280&o.duration)>>>8,n[i++]=255&o.duration,n[i++]=(4278190080&o.size)>>>24,n[i++]=(16711680&o.size)>>>16,n[i++]=(65280&o.size)>>>8,n[i++]=255&o.size,n[i++]=o.flags.isLeading<<2|o.flags.dependsOn,n[i++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,n[i++]=61440&o.flags.degradationPriority,n[i++]=15&o.flags.degradationPriority,n[i++]=(4278190080&o.compositionTimeOffset)>>>24,n[i++]=(16711680&o.compositionTimeOffset)>>>16,n[i++]=(65280&o.compositionTimeOffset)>>>8,n[i++]=255&o.compositionTimeOffset;return c(l.trun,n)},Ce=function(e,t){var i,n,o,s,a=e.samples||[];for(t+=20+8*a.length,t=Se(a,t),(i=new Uint8Array(t.length+8*a.length)).set(t),n=t.length,s=0;s<a.length;s++)o=a[s],i[n++]=(4278190080&o.duration)>>>24,i[n++]=(16711680&o.duration)>>>16,i[n++]=(65280&o.duration)>>>8,i[n++]=255&o.duration,i[n++]=(4278190080&o.size)>>>24,i[n++]=(16711680&o.size)>>>16,i[n++]=(65280&o.size)>>>8,i[n++]=255&o.size;return c(l.trun,i)},ke=function(e,t){return("audio"===e.type?Ce:_e)(e,t)},xe=function(){return c(l.ftyp,N,F,N,R)},Te=_=function(e,t){for(var i=[],n=t.length;n--;)i[n]=ve(t[n]);return c.apply(null,[l.moof,re(e)].concat(i))},p=[33,16,5,32,164,27],Ie=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Pe=function(e){return 9e4*e},Ae=function(e,t){return e*t},De=function(e){return e/9e4},Ee=function(e,t){return e/t},m=9e4,Oe=Pe,n=De,Le=function(e,t){return Pe(Ee(e,t))},Ne=function(e,t){return Ae(De(e),t)},Me=m,Be=function(e){for(var t=e.byteLength,i=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return e;for(var o=t-i.length,s=new Uint8Array(o),a=0,n=0;n<o;a++,n++)a===i[0]&&(a++,i.shift()),s[n]=e[a];return s},o=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new y(0,0),new y(0,1),new y(1,0),new y(1,1)],this.parse708captions_&&(this.cc708Stream_=new u({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};function r(e){return 32<=e&&e<=127||160<=e&&e<=255}function s(e){this.windowNum=e,this.reset()}(o.prototype=new e).push=function(e){var t;"sei_rbsp"===e.nalUnitType&&(t=(e=>{for(var t=0,i={payloadType:-1,payloadSize:0},n=0,o=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!i.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=n,i.payloadSize=o,i.payload=e.subarray(t,t+o);break}i.payload=void 0}t+=o,o=n=0}return i})(e.escapedRBSP)).payload&&4===t.payloadType&&(t=181!==(t=t).payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1))&&(e.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:e.dts===this.latestDts_&&this.ignoreNextEqualDts_?(this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1)):(t=((e,t)=>{var i,n,o,s,a=[];if(64&t[0])for(n=31&t[0],i=0;i<n;i++)s={type:3&t[2+(o=3*i)],pts:e},4&t[2+o]&&(s.ccData=t[3+o]<<8|t[4+o],a.push(s));return a})(e.pts,t),this.captionPackets_=this.captionPackets_.concat(t),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts))},o.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},o.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},o.prototype.flush=function(){return this.flushStream("flush")},o.prototype.partialFlush=function(){return this.flushStream("partialFlush")},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},o.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},o.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},o.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},o.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},o.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Fe={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};function a(e,t,i){this.serviceNum=e,this.text="",this.currentWindow=new s(-1),this.windows=[],this.stream=i,"string"==typeof t&&this.createTextDecoder(t)}s.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},s.prototype.getText=function(){return this.rows.join("\n")},s.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},s.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},s.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},s.prototype.addText=function(e){this.rows[this.rowIdx]+=e},s.prototype.backspace=function(){var e;this.isEmpty()||(e=this.rows[this.rowIdx],this.rows[this.rowIdx]=e.substr(0,e.length-1))},a.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new s(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},a.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},a.prototype.createTextDecoder=function(t){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(t)}catch(e){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+t+" encoding. "+e})}};var u=function e(t){t=t||{},e.prototype.init.call(this);var i,n=this,o=t.captionServices||{},s={};Object.keys(o).forEach(function(e){i=o[e],/^SERVICE/.test(e)&&(s[e]=i.encoding)}),this.serviceEncodings=s,this.current708Packet=null,this.services={},this.push=function(e){3!==e.type&&null!==n.current708Packet||n.new708Packet(),n.add708Bytes(e)}};function d(e){return null===e?"":(e=Re[e]||e,String.fromCharCode(e))}function g(){for(var e=[],t=15;t--;)e.push("");return e}u.prototype=new e,u.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},u.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8;t&=255,this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(t)},u.prototype.push708Packet=function(){var e,t=this.current708Packet,i=t.data,n=null,o=0,s=i[o++];for(t.seq=s>>6,t.sizeCode=63&s;o<i.length;o++)e=31&(s=i[o++]),7==(n=s>>5)&&0<e&&(n=i[o++]),this.pushServiceBlock(n,o,e),0<e&&(o+=e-1)},u.prototype.pushServiceBlock=function(e,t,i){for(var n,o=t,s=this.current708Packet.data,a=(a=this.services[e])||this.initService(e,o);o<t+i&&o<s.length;o++)r(n=s[o])?o=this.handleText(o,a):24===n?o=this.multiByteCharacter(o,a):16===n?o=this.extendedCommands(o,a):128<=n&&n<=135?o=this.setCurrentWindow(o,a):152<=n&&n<=159?o=this.defineWindow(o,a):136===n?o=this.clearWindows(o,a):140===n?o=this.deleteWindows(o,a):137===n?o=this.displayWindows(o,a):138===n?o=this.hideWindows(o,a):139===n?o=this.toggleWindows(o,a):151===n?o=this.setWindowAttributes(o,a):144===n?o=this.setPenAttributes(o,a):145===n?o=this.setPenColor(o,a):146===n?o=this.setPenLocation(o,a):143===n?a=this.reset(o,a):8===n?a.currentWindow.backspace():12===n?a.currentWindow.clearText():13===n?a.currentWindow.pendingNewLine=!0:14===n?a.currentWindow.clearText():141===n&&o++},u.prototype.extendedCommands=function(e,t){return r(this.current708Packet.data[++e])?this.handleText(e,t,{isExtended:!0}):e},u.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},u.prototype.initService=function(t,e){var i,n="SERVICE"+t,o=this;return n in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[t]=new a(t,i,o),this.services[t].init(this.getPts(e),function(e){o.flushDisplayed(e,o.services[t])}),this.services[t]},u.prototype.handleText=function(e,t,i){var n,o=i&&i.isExtended,s=i&&i.isMultiByte,a=this.current708Packet.data,r=o?4096:0,l=a[e],c=(i=a[e+1],a=t.currentWindow,t.textDecoder_&&!o?(s?(n=[l,i],e++):n=[l],t.textDecoder_.decode(new Uint8Array(n))):(c=Fe[l|=r]||l,4096&l&&l===c?"":String.fromCharCode(c)));return a.pendingNewLine&&!a.isEmpty()&&a.newLine(this.getPts(e)),a.pendingNewLine=!1,a.addText(c),e},u.prototype.multiByteCharacter=function(e,t){var i=(n=this.current708Packet.data)[e+1],n=n[e+2];return r(i)&&r(n)?this.handleText(++e,t,{isMultiByte:!0}):e},u.prototype.setCurrentWindow=function(e,t){var i=this.current708Packet.data[e];return t.setCurrentWindow(7&i),e},u.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,n=i[e];return t.setCurrentWindow(7&n),t=t.currentWindow,n=i[++e],t.visible=(32&n)>>5,t.rowLock=(16&n)>>4,t.columnLock=(8&n)>>3,t.priority=7&n,n=i[++e],t.relativePositioning=(128&n)>>7,t.anchorVertical=127&n,n=i[++e],t.anchorHorizontal=n,n=i[++e],t.anchorPoint=(240&n)>>4,t.rowCount=15&n,n=i[++e],t.columnCount=63&n,n=i[++e],t.windowStyle=(56&n)>>3,t.penStyle=7&n,t.virtualRowCount=t.rowCount+1,e},u.prototype.setWindowAttributes=function(e,t){var i,n=this.current708Packet.data;n[e];return t=t.currentWindow.winAttr,i=n[++e],t.fillOpacity=(192&i)>>6,t.fillRed=(48&i)>>4,t.fillGreen=(12&i)>>2,t.fillBlue=3&i,i=n[++e],t.borderType=(192&i)>>6,t.borderRed=(48&i)>>4,t.borderGreen=(12&i)>>2,t.borderBlue=3&i,i=n[++e],t.borderType+=(128&i)>>5,t.wordWrap=(64&i)>>6,t.printDirection=(48&i)>>4,t.scrollDirection=(12&i)>>2,t.justify=3&i,i=n[++e],t.effectSpeed=(240&i)>>4,t.effectDirection=(12&i)>>2,t.displayEffect=3&i,e},u.prototype.flushDisplayed=function(e,t){for(var i=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&i.push(t.windows[n].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},u.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},u.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var o=0;o<8;o++)i&1<<o&&(t.windows[o].visible=1);return e},u.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var o=0;o<8;o++)i&1<<o&&(t.windows[o].visible=0);return e},u.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var o=0;o<8;o++)i&1<<o&&(t.windows[o].visible^=1);return e},u.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var o=0;o<8;o++)i&1<<o&&t.windows[o].clearText();return e},u.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var o=0;o<8;o++)i&1<<o&&t.windows[o].reset();return e},u.prototype.setPenAttributes=function(e,t){var i,n=this.current708Packet.data;n[e];return t=t.currentWindow.penAttr,i=n[++e],t.textTag=(240&i)>>4,t.offset=(12&i)>>2,t.penSize=3&i,i=n[++e],t.italics=(128&i)>>7,t.underline=(64&i)>>6,t.edgeType=(56&i)>>3,t.fontStyle=7&i,e},u.prototype.setPenColor=function(e,t){var i,n=this.current708Packet.data;n[e];return t=t.currentWindow.penColor,i=n[++e],t.fgOpacity=(192&i)>>6,t.fgRed=(48&i)>>4,t.fgGreen=(12&i)>>2,t.fgBlue=3&i,i=n[++e],t.bgOpacity=(192&i)>>6,t.bgRed=(48&i)>>4,t.bgGreen=(12&i)>>2,t.bgBlue=3&i,i=n[++e],t.edgeRed=(48&i)>>4,t.edgeGreen=(12&i)>>2,t.edgeBlue=3&i,e},u.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,n=(i[e],t.currentWindow.penLoc);return t.currentWindow.pendingNewLine=!0,t=i[++e],n.row=15&t,t=i[++e],n.column=63&t,e},u.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var Re={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},je=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],y=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,o,s=32639&e.ccData;s!==this.lastControlCode_?(4096==(61440&s)?this.lastControlCode_=s:s!==this.PADDING_&&(this.lastControlCode_=null),t=s>>>8,i=255&s,s!==this.PADDING_&&(s===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":s===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),o=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=o,this.startPts_=e.pts):s===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(e.pts)):s===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(e.pts)):s===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(e.pts)):s===this.CARRIAGE_RETURN_?(this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts):s===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):s===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(e.pts),this.displayed_=g()):s===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=g():s===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=g()),this.mode_="paintOn",this.startPts_=e.pts):this.isSpecialCharacter(t,i)?(n=d((t=(3&t)<<8)|i),this[this.mode_](e.pts,n),this.column_++):this.isExtCharacter(t,i)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=d((t=(3&t)<<8)|i),this[this.mode_](e.pts,n),this.column_++):this.isMidRowCode(t,i)?(this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"])):this.isOffsetControlCode(t,i)?this.column_+=3&i:this.isPAC(t,i)?(o=je.indexOf(7968&s),"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&s)&&(this.column_=4*((14&s)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])):this.isNormalChar(t)&&(0===i&&(i=null),n=d(t),n+=d(i),this[this.mode_](e.pts,n),this.column_+=n.length))):this.lastControlCode_=null}};function Ue(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e}y.prototype=new e,y.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},y.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=g(),this.nonDisplayed_=g(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},y.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},y.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},y.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},y.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},y.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},y.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},y.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},y.prototype.isNormalChar=function(e){return 32<=e&&e<=127},y.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=g(),this.displayed_=g()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},y.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t),t=t.reduce(function(e,t){return e+"<"+t+">"},""),this[this.mode_](e,t)},y.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},""),this.formatting_=[],this[this.mode_](e,t))},y.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=i+=t},y.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=t},y.prototype.shiftRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},y.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=t};var v={CaptionStream:o,Cea608Stream:y,Cea708Stream:u},M={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};function Ve(e,t,i){for(var n="",o=t;o<i;o++)n+="%"+("00"+e[o].toString(16)).slice(-2);return n}function b(e,t,i){return decodeURIComponent(Ve(e,t,i))}function w(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}(C=function e(t){var i,n;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=Ue(e.dts,n),e.pts=Ue(e.pts,n),i=e.dts,this.trigger("data",e))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}).prototype=new e;function $e(e){var t,i={descriptor:e&&e.descriptor},l=0,c=[],u=0;if($e.prototype.init.call(this),this.dispatchType=M.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,n,o,s,a,r;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(u=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(c.push(e),u+=e.data.byteLength,1===c.length&&(l=w(e.data.subarray(6,10)),l+=10),!(u<l)){for(t={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},o=0;o<l;)t.data.set(c[0].data.subarray(0,l-o),o),o+=c[0].data.byteLength,u-=c[0].data.byteLength,c.shift();i=10,64&t.data[5]&&(i=(i+=4)+w(t.data.subarray(10,14)),l-=w(t.data.subarray(16,20)));do{if((n=w(t.data.subarray(i+4,i+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."})}while((r={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+n+10)}).key=r.id,He[r.id]&&(He[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)&&(a=(1&(s=r.data)[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,r.timeStamp=a*4+(3&s[7]),void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)),t.frames.push(r),(i=i+10+n)<l);this.trigger("data",t)}}}function ze(){var o=new Uint8Array(188),s=0;ze.prototype.init.call(this),this.push=function(e){var t,i=0,n=188;for(s?((t=new Uint8Array(e.byteLength+s)).set(o.subarray(0,s)),t.set(e,s),s=0):t=e;n<t.byteLength;)71!==t[i]||71!==t[n]?(i++,n++):(this.trigger("data",t.subarray(i,n)),i+=188,n+=188);i<t.byteLength&&(o.set(t.subarray(i),0),s=t.byteLength-i)},this.flush=function(){188===s&&71===o[0]&&(this.trigger("data",o),s=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){s=0,this.trigger("reset")}}var S,We,_=C,He=(o=Ue,{TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=b(e.data,1,t),e.value=b(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=b(e.data,1,t),e.url=b(e.data,t+1,e.data.length);break}},PRIV:function(e){for(var t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=unescape(Ve(e.data,0,t));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}}),C=($e.prototype=new e,$e);ze.prototype=new e,(S=function(){var n,o,s,a;S.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),("pat"===t.type?o:s)(e.subarray(i),t)},o=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},s=function(e,t){var i,n;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var o=e[n],s=(31&e[n+1])<<8|e[n+2];o===M.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=s:o===M.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=s:o===M.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][s]=o),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},i=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(i+=e[i]+1),0===t.pid)t.type="pat",n(e.subarray(i),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(i),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,t]):this.processPes_(e,i,t)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=M.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=M.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new e,S.STREAM_TYPES={h264:27,adts:15},(We=function(){function n(e,t,i){var n,o,s,a,r=new Uint8Array(e.size),l={type:t},c=0,u=0;if(e.data.length&&!(e.size<9)){for(l.trackId=e.data[0].pid,c=0;c<e.data.length;c++)n=e.data[c],r.set(n.data,u),u+=n.data.byteLength;a=(o=r)[0]<<16|o[1]<<8|o[2],(s=l).data=new Uint8Array,1==a&&(s.packetLength=6+(o[4]<<8|o[5]),s.dataAlignmentIndicator=0!=(4&o[6]),192&(a=o[7])&&(s.pts=(14&o[9])<<27|(255&o[10])<<20|(254&o[11])<<12|(255&o[12])<<5|(254&o[13])>>>3,s.pts*=4,s.pts+=(6&o[13])>>>1,s.dts=s.pts,64&a)&&(s.dts=(14&o[14])<<27|(255&o[15])<<20|(254&o[16])<<12|(255&o[17])<<5|(254&o[18])>>>3,s.dts*=4,s.dts+=(6&o[18])>>>1),s.data=o.subarray(9+o[8])),t="video"===t||l.packetLength<=e.size,(i||t)&&(e.size=0,e.data.length=0),t&&d.trigger("data",l)}}var t,d=this,o=!1,s={data:[],size:0},a={data:[],size:0},r={data:[],size:0};We.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case M.H264_STREAM_TYPE:e=s,t="video";break;case M.ADTS_STREAM_TYPE:e=a,t="audio";break;case M.METADATA_STREAM_TYPE:e=r,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&n(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]};null!==(t=i.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),o=!0,d.trigger("data",e)}})[i.type]()},this.reset=function(){s.size=0,s.data.length=0,a.size=0,a.data.length=0,this.trigger("reset")},this.flushStreams_=function(){n(s,"video"),n(a,"audio"),n(r,"timed-metadata")},this.flush=function(){var e;!o&&t&&(e={type:"metadata",tracks:[]},null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),d.trigger("data",e)),o=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new e;var k,qe={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:ze,TransportParseStream:S,ElementaryStream:We,TimestampRolloverStream:_,CaptionStream:v.CaptionStream,Cea608Stream:v.Cea608Stream,Cea708Stream:v.Cea708Stream,MetadataStream:C};for(k in M)M.hasOwnProperty(k)&&(qe[k]=M[k]);function Ge(l){var c,u=0;Ge.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+u+" outside syncword"})},this.push=function(e){var t,i,n,o,s,a,r=0;if(l||(u=0),"audio"===e.type){for(c&&c.length?(n=c,(c=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),c.set(e.data,n.byteLength)):c=e.data;r+7<c.length;)if(255===c[r]&&240==(246&c[r+1])){if("number"==typeof a&&(this.skipWarn_(a,r),a=null),i=2*(1&~c[r+1]),t=(3&c[r+3])<<11|c[r+4]<<3|(224&c[r+5])>>5,s=(o=1024*(1+(3&c[r+6])))*Ye/Qe[(60&c[r+2])>>>2],c.byteLength-r<t)break;this.trigger("data",{pts:e.pts+u*s,dts:e.dts+u*s,sampleCount:o,audioobjecttype:1+(c[r+2]>>>6&3),channelcount:(1&c[r+2])<<2|(192&c[r+3])>>>6,samplerate:Qe[(60&c[r+2])>>>2],samplingfrequencyindex:(60&c[r+2])>>>2,samplesize:16,data:c.subarray(r+7+i,r+t)}),u++,r+=t}else"number"!=typeof a&&(a=r),r++;"number"==typeof a&&(this.skipWarn_(a,r),a=null),c=c.subarray(r)}},this.flush=function(){u=0,this.trigger("done")},this.reset=function(){c=void 0,this.trigger("reset")},this.endTimeline=function(){c=void 0,this.trigger("endedtimeline")}}var x=qe,Ye=m,Qe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ge.prototype=new e;function Ke(n){var o=n.byteLength,s=0,a=0;this.length=function(){return 8*o},this.bitsAvailable=function(){return 8*o+a},this.loadWord=function(){var e=n.byteLength-o,t=new Uint8Array(4),i=Math.min(4,o);if(0===i)throw new Error("no bytes available");t.set(n.subarray(e,e+i)),s=new DataView(t.buffer).getUint32(0),a=8*i,o-=i},this.skipBits=function(e){var t;e<a||(e=(e-=a)-8*(t=Math.floor(e/8)),o-=t,this.loadWord()),s<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),i=s>>>32-t;return 0<(a-=t)?s<<=t:0<o&&this.loadWord(),0<(t=e-t)?i<<t|this.readBits(t):i},this.skipLeadingZeros=function(){for(var e=0;e<a;++e)if(0!=(s&2147483648>>>e))return s<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}function T(){var n,o,s=0;T.prototype.init.call(this),this.push=function(e){for(var t,i=(o=o?((t=new Uint8Array(o.byteLength+e.data.byteLength)).set(o),t.set(e.data,o.byteLength),t):e.data).byteLength;s<i-3;s++)if(1===o[s+2]){n=s+5;break}for(;n<i;)switch(o[n]){case 0:if(0!==o[n-1])n+=2;else if(0!==o[n-2])n++;else{for(s+3!==n-2&&this.trigger("data",o.subarray(s+3,n-2));1!==o[++n]&&n<i;);s=n-2,n+=3}break;case 1:0!==o[n-1]||0!==o[n-2]?n+=3:(this.trigger("data",o.subarray(s+3,n-2)),s=n-2,n+=3);break;default:n+=3}o=o.subarray(s),n-=s,s=0},this.reset=function(){o=null,s=0,this.trigger("reset")},this.flush=function(){o&&3<o.byteLength&&this.trigger("data",o.subarray(s+3)),o=null,s=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}var Xe,Ze,Je=Ge;function et(e,t){var i=0<=(i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9])?i:0;return(16&e[t+5])>>4?20+i:10+i}function tt(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}T.prototype=new e,Ze={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Xe=function(){var i,n,o,s,a,r,m,t=new T;Xe.prototype.init.call(this),(i=this).push=function(e){"video"===e.type&&(n=e.trackId,o=e.pts,s=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:o,dts:s,data:e,nalUnitTypeCode:31&e[0]};switch(t.nalUnitTypeCode){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=r(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",t)}),t.on("done",function(){i.trigger("done")}),t.on("partialdone",function(){i.trigger("partialdone")}),t.on("reset",function(){i.trigger("reset")}),t.on("endedtimeline",function(){i.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},m=function(e,t){for(var i=8,n=8,o=0;o<e;o++)i=0===(n=0!==n?(i+t.readExpGolomb()+256)%256:n)?i:n},a=function(e){for(var t=e.byteLength,i=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return e;for(var o=t-i.length,s=new Uint8Array(o),a=0,n=0;n<o;a++,n++)a===i[0]&&(a++,i.shift()),s[n]=e[a];return s},r=function(e){var t,i,n,o,s,a=0,r=0,l=0,c=0,u=[1,1],d=new Ke(e),h=d.readUnsignedByte(),p=d.readUnsignedByte(),f=d.readUnsignedByte();if(d.skipUnsignedExpGolomb(),Ze[h]&&(3===(i=d.readUnsignedExpGolomb())&&d.skipBits(1),d.skipUnsignedExpGolomb(),d.skipUnsignedExpGolomb(),d.skipBits(1),d.readBoolean()))for(o=3!==i?8:12,s=0;s<o;s++)d.readBoolean()&&m(s<6?16:64,d);if(d.skipUnsignedExpGolomb(),0===(n=d.readUnsignedExpGolomb()))d.readUnsignedExpGolomb();else if(1===n)for(d.skipBits(1),d.skipExpGolomb(),d.skipExpGolomb(),t=d.readUnsignedExpGolomb(),s=0;s<t;s++)d.skipExpGolomb();if(d.skipUnsignedExpGolomb(),d.skipBits(1),e=d.readUnsignedExpGolomb(),i=d.readUnsignedExpGolomb(),0===(n=d.readBits(1))&&d.skipBits(1),d.skipBits(1),d.readBoolean()&&(a=d.readUnsignedExpGolomb(),r=d.readUnsignedExpGolomb(),l=d.readUnsignedExpGolomb(),c=d.readUnsignedExpGolomb()),d.readBoolean()&&d.readBoolean()){switch(d.readUnsignedByte()){case 1:u=[1,1];break;case 2:u=[12,11];break;case 3:u=[10,11];break;case 4:u=[16,11];break;case 5:u=[40,33];break;case 6:u=[24,11];break;case 7:u=[20,11];break;case 8:u=[32,11];break;case 9:u=[80,33];break;case 10:u=[18,11];break;case 11:u=[15,11];break;case 12:u=[64,33];break;case 13:u=[160,99];break;case 14:u=[4,3];break;case 15:u=[3,2];break;case 16:u=[2,1];break;case 255:u=[d.readUnsignedByte()<<8|d.readUnsignedByte(),d.readUnsignedByte()<<8|d.readUnsignedByte()]}u&&(u[0],u[1])}return{profileIdc:h,levelIdc:f,profileCompatibility:p,width:16*(e+1)-2*a-2*r,height:(2-n)*(i+1)*16-2*l-2*c,sarRatio:u}}}).prototype=new e,C={H264Stream:Xe,NalByteStream:T};function it(){var s=new Uint8Array,a=0;it.prototype.init.call(this),this.setTimestamp=function(e){a=e},this.push=function(e){var t,i,n=0,o=0;for(s.length?(i=s.length,(s=new Uint8Array(e.byteLength+i)).set(s.subarray(0,i)),s.set(e,i)):s=e;3<=s.length-o;)if(s[o]!=="I".charCodeAt(0)||s[o+1]!=="D".charCodeAt(0)||s[o+2]!=="3".charCodeAt(0))if(255!=(255&s[o])||240!=(240&s[o+1]))o++;else{if(s.length-o<7)break;if(o+(n=I.parseAdtsSize(s,o))>s.length)break;t={type:"audio",data:s.subarray(o,o+n),pts:a,dts:a},this.trigger("data",t),o+=n}else{if(s.length-o<10)break;if(o+(n=I.parseId3TagSize(s,o))>s.length)break;t={type:"timed-metadata",data:s.subarray(o,o+n)},this.trigger("data",t),o+=n}e=s.length-o,s=0<e?s.subarray(o):new Uint8Array},this.reset=function(){s=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){s=new Uint8Array,this.trigger("endedtimeline")}}var nt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],I={isLikelyAacData:function(e){var t=function e(t,i){return t.length-i<10||t[i]!=="I".charCodeAt(0)||t[i+1]!=="D".charCodeAt(0)||t[i+2]!=="3".charCodeAt(0)?i:e(t,i+=et(t,i))}(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:et,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5;return 6144&e[t+3]|e[t+4]<<3|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return nt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i=10;64&e[5]&&(i=(i+=4)+tt(e.subarray(10,14)));do{if((t=tt(e.subarray(i+4,i+8)))<1)return null;if("PRIV"===String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]))for(var n=e.subarray(i+10,i+t+10),o=0;o<n.byteLength;o++)if(0===n[o]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(((e,t)=>{for(var i="",n=0;n<t;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i})(n,o)))break;var s=n.subarray(o+1),a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return(a*=4)+(3&s[7])}}while((i=i+10+t)<e.byteLength);return null}};function ot(e,t){t.stream=e,this.trigger("log",t)}function st(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var o=i[n];"headOfPipeline"!==o&&t[o].on&&t[o].on("log",ot.bind(e,o))}}function at(e,t){var i;if(e.length===t.length){for(i=0;i<e.length;i++)if(e[i]!==t[i])return;return 1}}function rt(e,t,i,n,o,s){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(o-i)},prependedContentDuration:s,baseMediaDecodeTime:e}}it.prototype=new e;function lt(r,l){var c=[],u=0,d=0,h=1/0,p=(l=l||{}).firstSequenceNumber||0;lt.prototype.init.call(this),this.push=function(t){ee(r,t),r&&ht.forEach(function(e){r[e]=t[e]}),c.push(t)},this.setEarliestDts=function(e){u=e},this.setVideoBaseMediaDecodeTime=function(e){h=e},this.setAudioAppendStart=function(e){d=e},this.flush=function(){var e,t,i,n,o,s,a;0!==c.length&&(o=c,a=u,o=(s=r).minSegmentDts>=a?o:(s.minSegmentDts=1/0,o.filter(function(e){return e.dts>=a&&(s.minSegmentDts=Math.min(s.minSegmentDts,e.dts),s.minSegmentPts=s.minSegmentDts,!0)})),r.baseMediaDecodeTime=J(r,l.keepOriginalTimestamps),n=X(r,o,d,h),r.samples=(e=>{for(var t=[],i=0;i<e.length;i++)t.push({size:e[i].data.byteLength,duration:1024});return t})(o),e=Q(Z(o)),c=[],i=Te(p,[r]),t=new Uint8Array(i.byteLength+e.byteLength),p++,t.set(i),t.set(e,i.byteLength),f(r),i=Math.ceil(1024*gt/r.samplerate),o.length&&(i=o.length*i,this.trigger("segmentTimingInfo",rt(Le(r.baseMediaDecodeTime,r.samplerate),o[0].dts,o[0].pts,o[0].dts+i,o[0].pts+i,n||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+i})),this.trigger("data",{track:r,boxes:t})),this.trigger("done","AudioSegmentStream")},this.reset=function(){f(r),c=[],this.trigger("reset")}}var ct,ut,P,dt=it,ht=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],pt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ft=C.H264Stream,mt=I.isLikelyAacData,gt=m;function yt(e,u){var i=E(e,["moof","traf"]),d=(e=E(e,["mdat"]),{}),n=[];return e.forEach(function(e,t){t=i[t],n.push({mdat:e,traf:t})}),n.forEach(function(e){var t,i,n,o,s,a=e.mdat,r=e.traf,l=E(r,["tfhd"]),c=Dt(l[0]);e=c.trackId,l=0<(l=E(r,["tfdt"])).length?It(l[0]).baseMediaDecodeTime:0,r=E(r,["trun"]),u===e&&0<r.length&&(t=l,i=c.defaultSampleDuration||0,n=c.defaultSampleSize||0,o=c.trackId,s=[],r.forEach(function(e){(e=At(e).samples).forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=n),e.trackId=o,e.dts=t,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof t?(e.pts=t+Et.BigInt(e.compositionTimeOffset),t+=Et.BigInt(e.duration)):(e.pts=t+e.compositionTimeOffset,t+=e.duration)}),s=s.concat(e)}),a=((e,t,i)=>{for(var n,o,s=new DataView(e.buffer,e.byteOffset,e.byteLength),a={logs:[],seiNals:[]},r=0;r+4<e.length;r+=n)if(n=s.getUint32(r),r+=4,!(n<=0))switch(31&e[r]){case 6:var l=e.subarray(r+1,r+1+n),c=(e=>{for(var t=r,i=0;i<e.length;i++){var n=e[i];if(t<n.size)return n;t-=n.size}return null})(t),l={nalUnitType:"sei_rbsp",size:n,data:l,escapedRBSP:Ot(l),trackId:i};if(c)l.pts=c.pts,l.dts=c.dts,o=c;else{if(!o){a.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+i+". See mux.js#223."});break}l.pts=o.pts,l.dts=o.dts}a.seiNals.push(l)}return a})(a,s,e),d[e]||(d[e]={seiNals:[],logs:[]}),d[e].seiNals=d[e].seiNals.concat(a.seiNals),d[e].logs=d[e].logs.concat(a.logs))}),d}function vt(e){var t=31&e[1];return(t<<=8)|e[2]}function bt(e){return!!(64&e[1])}function wt(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function St(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}lt.prototype=new e,(ct=function(r,l){var t,i,c=[],u=[],d=(l=l||{}).firstSequenceNumber||0;ct.prototype.init.call(this),delete r.minPTS,this.gopCache_=[],this.push=function(e){ee(r,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,r.sps=[e.data],pt.forEach(function(e){r[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,r.pps=[e.data]),c.push(e)},this.flush=function(){for(var e,t,i,n,o,s=0;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0!==c.length){if(e=(e=>{var t,i,n=[],o=[];for(o.byteLength=0,o.nalCount=0,t=n.byteLength=o.duration=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,o.byteLength+=n.byteLength,o.nalCount+=n.length,o.duration+=n.duration,o.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return o.length&&(!n.duration||n.duration<=0)&&(n.duration=o[o.length-1].duration),o.byteLength+=n.byteLength,o.nalCount+=n.length,o.duration+=n.duration,o.push(n),o})(c),(t=(e=>{var t,i,n=[],o=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,o.byteLength=0,o.nalCount=0,o.duration=0,o.pts=e[0].pts,o.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(o.push(n),o.byteLength+=n.byteLength,o.nalCount+=n.nalCount,o.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return o.length&&n.duration<=0&&(n.duration=o[o.length-1].duration),o.byteLength+=n.byteLength,o.nalCount+=n.nalCount,o.duration+=n.duration,o.push(n),o})(e))[0][0].keyFrame||((i=this.getGopForFusion_(c[0],r))?(s=i.duration,t.unshift(i),t.byteLength+=i.byteLength,t.nalCount+=i.nalCount,t.pts=i.pts,t.dts=i.dts,t.duration+=i.duration):(!(n=t)[0][0].keyFrame&&1<n.length&&(o=n.shift(),n.byteLength-=o.byteLength,n.nalCount-=o.nalCount,n[0][0].dts=o.dts,n[0][0].pts=o.pts,n[0][0].duration+=o.duration),t=n)),u.length){var a=l.alignGopsAtEnd?this.alignGopsAtEnd_(t):this.alignGopsAtStart_(t);if(!a)return this.gopCache_.unshift({gop:t.pop(),pps:r.pps,sps:r.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");f(r),t=a}ee(r,t),r.samples=((e,t)=>{for(var i,n,o,s,a,r,l=t||0,c=[],u=0;u<e.length;u++)for(n=e[u],i=0;i<n.length;i++)o=n[i],l+=(s=o,a=l,(r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=a,r.compositionTimeOffset=s.pts-s.dts,r.duration=s.duration,r.size=4*s.length,r.size+=s.byteLength,s.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),(o=r).size),c.push(o);return c})(t),e=Q((e=>{for(var t,i,n,o,s,a=0,r=e.byteLength,l=new Uint8Array(r+4*e.nalCount),c=new DataView(l.buffer),u=0;u<e.length;u++)for(n=e[u],t=0;t<n.length;t++)for(o=n[t],i=0;i<o.length;i++)s=o[i],c.setUint32(a,s.data.byteLength),l.set(s.data,a+=4),a+=s.data.byteLength;return l})(t)),r.baseMediaDecodeTime=J(r,l.keepOriginalTimestamps),this.trigger("processedGopsInfo",t.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),i=t[0],a=t[t.length-1],this.trigger("segmentTimingInfo",rt(r.baseMediaDecodeTime,i.dts,i.pts,a.dts+a.duration,a.pts+a.duration,s)),this.trigger("timingInfo",{start:t[0].pts,end:t[t.length-1].pts+t[t.length-1].duration}),this.gopCache_.unshift({gop:t.pop(),pps:r.pps,sps:r.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.trigger("baseMediaDecodeTime",r.baseMediaDecodeTime),this.trigger("timelineStartInfo",r.timelineStartInfo),s=Te(d,[r]),t=new Uint8Array(s.byteLength+e.byteLength),d++,t.set(s),t.set(e,s.byteLength),this.trigger("data",{track:r,boxes:t})}this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),c=[],this.gopCache_.length=0,u.length=0,this.trigger("reset")},this.resetStream_=function(){f(r),i=t=void 0},this.getGopForFusion_=function(e){for(var t,i,n,o=1/0,s=0;s<this.gopCache_.length;s++)i=(n=this.gopCache_[s]).gop,r.pps&&at(r.pps[0],n.pps[0])&&r.sps&&at(r.sps[0],n.sps[0])&&(i.dts<r.timelineStartInfo.dts||-1e4<=(i=e.dts-i.dts-i.duration)&&i<=45e3&&(!t||i<o)&&(t=n,o=i));return t?t.gop:null},this.alignGopsAtStart_=function(e){for(var t,i,n,o,s=e.byteLength,a=e.nalCount,r=e.duration,l=t=0;l<u.length&&t<e.length&&(i=u[l],n=e[t],i.pts!==n.pts);)n.pts>i.pts?l++:(t++,s-=n.byteLength,a-=n.nalCount,r-=n.duration);return 0===t?e:t===e.length?null:((o=e.slice(t)).byteLength=s,o.duration=r,o.nalCount=a,o.pts=o[0].pts,o.dts=o[0].dts,o)},this.alignGopsAtEnd_=function(e){for(var t,i,n,o,s=u.length-1,a=e.length-1,r=null,l=!1;0<=s&&0<=a;){if(t=u[s],i=e[a],t.pts===i.pts){l=!0;break}i.pts<t.pts?s--:(s===u.length-1&&(r=a),a--)}return l||null!==r?0===(o=l?a:r)?e:(o=(n=e.slice(o)).reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0}),n.byteLength=o.byteLength,n.duration=o.duration,n.nalCount=o.nalCount,n.pts=n[0].pts,n.dts=n[0].dts,n):null},this.alignGopsWith=function(e){u=e}}).prototype=new e,(P=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.keepOriginalTimestamps="boolean"==typeof e.keepOriginalTimestamps&&e.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,P.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new e,P.prototype.flush=function(e){var t,i,n,o,s,a,r=0,l={captions:[],captionStreams:{},metadata:[],info:{}},c=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(c=this.videoTrack.timelineStartInfo.pts,pt.forEach(function(e){l.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(c=this.audioTrack.timelineStartInfo.pts,ht.forEach(function(e){l.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?l.type=this.pendingTracks[0].type:l.type="combined",this.emittedTracks+=this.pendingTracks.length,o=this.pendingTracks,s=xe(),a=ce(o),(o=new Uint8Array(s.byteLength+a.byteLength)).set(s),o.set(a,s.byteLength),e=o,l.initSegment=new Uint8Array(e.byteLength),l.initSegment.set(e),l.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)l.data.set(this.pendingBoxes[n],r),r+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(t=this.pendingCaptions[n]).startTime=K(t.startPts,c,this.keepOriginalTimestamps),t.endTime=K(t.endPts,c,this.keepOriginalTimestamps),l.captionStreams[t.stream]=!0,l.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)(i=this.pendingMetadata[n]).cueTime=K(i.pts,c,this.keepOriginalTimestamps),l.metadata.push(i);for(l.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",l),n=0;n<l.captions.length;n++)t=l.captions[n],this.trigger("caption",t);for(n=0;n<l.metadata.length;n++)i=l.metadata[n],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},P.prototype.setRemux=function(e){this.remuxTracks=e},(ut=function(n){var o,s,a=this,i=!0;ut.prototype.init.call(this),this.baseMediaDecodeTime=(n=n||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new x.MetadataStream,t.aacStream=new dt,t.audioTimestampRolloverStream=new x.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new x.TimestampRolloverStream("timed-metadata"),t.adtsStream=new Je,t.coalesceStream=new P(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type&&"audio"!==e.type||t.audioSegmentStream||(s=s||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new lt(s,n),t.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),a.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!o}))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done")),st(this,t)},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new x.MetadataStream,i.packetStream=new x.TransportPacketStream,i.parseStream=new x.TransportParseStream,i.elementaryStream=new x.ElementaryStream,i.timestampRolloverStream=new x.TimestampRolloverStream,i.adtsStream=new Je,i.h264Stream=new ft,i.captionStream=new x.CaptionStream(n),i.coalesceStream=new P(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)o||"video"!==e.tracks[t].type?s||"audio"!==e.tracks[t].type||((s=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(o=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;o&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new ct(o,n),i.videoSegmentStream.on("log",a.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",function(e){s&&!n.keepOriginalTimestamps&&(s.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts-a.baseMediaDecodeTime))}),i.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){s&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),s&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new lt(s,n),i.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!o})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(e){e.dispatchType=i.metadataStream.dispatchType,a.trigger("id3Frame",e)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),st(this,i)},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),s&&(s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,f(s),t.audioTimestampRolloverStream)&&t.audioTimestampRolloverStream.discontinuity(),o&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),o.timelineStartInfo.dts=void 0,o.timelineStartInfo.pts=void 0,f(o),t.captionStream.reset()),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){s&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;n.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){o&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(t){var i=this;return function(e){e.stream=t,i.trigger("log",e)}},this.push=function(e){var t;i&&((t=mt(e))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1),this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new e;function _t(){var t,a,r,l,c,i,n=!1;this.isInitialized=function(){return n},this.init=function(e){t=new Lt,n=!0,i=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/l,e.endTime=e.endPts/l,c.captions.push(e),c.captionStreams[e.stream]=!0}),t.on("log",function(e){c.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==Wh(t)&&0===Object.keys(t).length||r===e[0]&&l===t[r])},this.parse=function(e,t,i){if(!this.isInitialized())return null;if(!t||!i)return null;if(this.isNewInit(t,i))r=t[0],l=i[r];else if(null===r||!l)return a.push(e),null;for(;0<a.length;){var n=a.shift();this.parse(n,t,i)}return s=l,(e=null===(o=r)?null:{seiNals:(o=yt(e,r)[o]||{}).seiNals,logs:o.logs,timescale:s})&&e.logs&&(c.logs=c.logs.concat(e.logs)),null!==e&&e.seiNals?(this.pushNals(e.seiNals),this.flushStream(),c):c.logs.length?{logs:c.logs,captions:[],captionStreams:[]}:null;var o,s},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;i?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){c.captions=[],c.captionStreams={},c.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){a=[],l=r=null,c?this.clearParsedCaptions():c={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()}function A(e){return("00"+e.toString(16)).slice(-2)}var Ct=ut,D=function(e){var t="";return(t+=String.fromCharCode(e[0]))+String.fromCharCode(e[1])+String.fromCharCode(e[2])+String.fromCharCode(e[3])},kt=C=function(e){return e>>>0},E=function e(t,i){var n,o,s,a=[];if(!i.length)return null;for(n=0;n<t.byteLength;)o=kt(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),s=D(t.subarray(n+4,n+8)),o=1<o?n+o:t.byteLength,s===i[0]&&(1===i.length?a.push(t.subarray(n+8,o)):(s=e(t.subarray(n+8,o),i.slice(1))).length&&(a=a.concat(s))),n=o;return a},xt=C,Tt=G.getUint64,It=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return t.baseMediaDecodeTime=1===t.version?Tt(e.subarray(4)):xt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},Pt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},At=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),o=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],r=2&i.flags[1],l=4&i.flags[1],c=8&i.flags[1],u=n.getUint32(4),d=8;for(o&&(i.dataOffset=n.getInt32(d),d+=4),s&&u&&(t={flags:Pt(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),r&&(t.size=n.getUint32(d),d+=4),c&&(t.compositionTimeOffset=1===i.version?n.getInt32(d):n.getUint32(d),d+=4),i.samples.push(t),u--);u--;)t={},a&&(t.duration=n.getUint32(d),d+=4),r&&(t.size=n.getUint32(d),d+=4),l&&(t.flags=Pt(e.subarray(d,d+4)),d+=4),c&&(t.compositionTimeOffset=1===i.version?n.getInt32(d):n.getUint32(d),d+=4),i.samples.push(t);return i},Dt=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},n=1&i.flags[2],o=2&i.flags[2],s=8&i.flags[2],a=16&i.flags[2],r=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,n&&(e+=4,i.baseDataOffset=t.getUint32(12),e+=4),o&&(i.sampleDescriptionIndex=t.getUint32(e),e+=4),s&&(i.defaultSampleDuration=t.getUint32(e),e+=4),a&&(i.defaultSampleSize=t.getUint32(e),e+=4),r&&(i.defaultSampleFlags=t.getUint32(e)),l&&(i.durationIsEmpty=!0),!n&&c&&(i.baseDataOffsetIsMoof=!0),i},Et=(e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$h?$h:"undefined"!=typeof self?self:{},e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}),Ot=Be,Lt=v.CaptionStream,Nt=C,Mt=G.getUint64,Bt=(e=function(e){return E(e,["moov","trak"]).reduce(function(e,t){var i,n,o=E(t,["tkhd"])[0];return o&&(i=o[0],o=Nt(o[n=0===i?12:20]<<24|o[1+n]<<16|o[2+n]<<8|o[3+n]),t=E(t,["mdia","mdhd"])[0])?(i=t[0],e[o]=Nt(t[n=0===i?12:20]<<24|t[1+n]<<16|t[2+n]<<8|t[3+n]),e):null},{})},C=function(e){e=E(e,["moov","trak"]);var n=[];return e.forEach(function(e){var t=E(e,["mdia","hdlr"]),i=E(e,["tkhd"]);t.forEach(function(e,t){e=D(e.subarray(8,12)),t=i[t],"vide"===e&&(t=0===(t=new DataView(t.buffer,t.byteOffset,t.byteLength)).getUint8(0)?t.getUint32(12):t.getUint32(20),n.push(t))})}),n},function(s,e){return"bigint"==typeof(e=E(e,["moof","traf"]).reduce(function(e,t){var i,n=E(t,["tfhd"])[0],o=Nt(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),n=s[o]||9e4,o=E(t,["tfdt"])[0];return t=new DataView(o.buffer,o.byteOffset,o.byteLength),"bigint"==typeof(t=1===o[0]?Mt(o.subarray(4,12)):t.getUint32(4))?i=t/Et.BigInt(n):"number"!=typeof t||isNaN(t)||(i=t/n),(i=i<Number.MAX_SAFE_INTEGER?Number(i):i)<e?i:e},1/0))||isFinite(e)?e:0}),Ft=function(e){e=E(e,["moov","trak"]);var a=[];return e.forEach(function(e){var t={},i=E(e,["tkhd"])[0],n=(i&&(i=(n=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0),t.id=0===i?n.getUint32(12):n.getUint32(20)),E(e,["mdia","hdlr"])[0]);n&&(s=D(n.subarray(8,12)),t.type="vide"===s?"video":"soun"===s?"audio":s);var o,s=E(e,["mdia","minf","stbl","stsd"])[0];s&&(s=s.subarray(8),t.codec=D(s.subarray(4,8)),s=E(s,[t.codec])[0])&&(/^[asm]vc[1-9]$/i.test(t.codec)?(o=s.subarray(78),"avcC"===D(o.subarray(4,8))&&11<o.length?(t.codec+=".",t.codec+=A(o[9]),t.codec+=A(o[10]),t.codec+=A(o[11])):t.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(t.codec)?(o=s.subarray(28),"esds"===D(o.subarray(4,8))&&20<o.length&&0!==o[19]?(t.codec+="."+A(o[19]),t.codec+="."+A(o[20]>>>2&63).replace(/^0/,"")):t.codec="mp4a.40.2"):t.codec=t.codec.toLowerCase()),(e=E(e,["mdia","mdhd"])[0])&&(t.timescale=(n=0===(i=e)[0]?12:20,Nt(i[n]<<24|i[1+n]<<16|i[2+n]<<8|i[3+n]))),a.push(t)}),a},O=o,B={};function Rt(e){for(var t,i,n={pid:null,table:null},o={},s=e,a=n,r=0,l=188;l<s.byteLength;)if(71!==s[r]||71!==s[l])r++,l++;else{switch(i=s.subarray(r,l),B.ts.parseType(i,a.pid)){case"pat":a.pid=B.ts.parsePat(i);break;case"pmt":var c=B.ts.parsePmt(i);a.table=a.table||{},Object.keys(c).forEach(function(e){a.table[e]=c[e]})}r+=188,l+=188}for(t in n.table)if(n.table.hasOwnProperty(t))switch(n.table[t]){case M.H264_STREAM_TYPE:o.video=[],k=C=_=S=y=g=m=f=p=h=d=u=w=b=v=void 0;for(var u,d,h,p,f,m,g,y,v=e,b=n,w=o,S=0,_=188,C=!1,k={data:[],size:0};_<v.byteLength;)if(71!==v[S]||71!==v[_])S++,_++;else{if(u=v.subarray(S,_),"pes"===B.ts.parseType(u,b.pid)&&(d=B.ts.parsePesType(u,b.table),h=B.ts.parsePayloadUnitStartIndicator(u),"video"===d)&&(h&&!C&&(p=B.ts.parsePesTime(u))&&(p.type="video",w.video.push(p),C=!0),!w.firstKeyFrame)){if(h&&0!==k.size){for(f=new Uint8Array(k.size),m=0;k.data.length;)g=k.data.shift(),f.set(g,m),m+=g.byteLength;B.ts.videoPacketContainsKeyFrame(f)&&(y=B.ts.parsePesTime(f))&&(w.firstKeyFrame=y,w.firstKeyFrame.type="video"),k.size=0}k.data.push(u),k.size+=u.byteLength}if(C&&w.firstKeyFrame)break;S+=188,_+=188}for(S=(_=v.byteLength)-188,C=!1;0<=S;)if(71!==v[S]||71!==v[_])S--,_--;else{if(u=v.subarray(S,_),"pes"===B.ts.parseType(u,b.pid)&&(d=B.ts.parsePesType(u,b.table),h=B.ts.parsePayloadUnitStartIndicator(u),"video"===d)&&h&&(p=B.ts.parsePesTime(u))&&(p.type="video",w.video.push(p),C=!0),C)break;S-=188,_-=188}0===o.video.length&&delete o.video;break;case M.ADTS_STREAM_TYPE:o.audio=[],N=L=O=P=I=T=x=E=D=A=void 0;for(var x,T,I,P,A=e,D=n,E=o,O=0,L=188,N=!1;L<=A.byteLength;)if(71!==A[O]||71!==A[L]&&L!==A.byteLength)O++,L++;else{if(x=A.subarray(O,L),"pes"===B.ts.parseType(x,D.pid)&&(T=B.ts.parsePesType(x,D.table),I=B.ts.parsePayloadUnitStartIndicator(x),"audio"===T)&&I&&(P=B.ts.parsePesTime(x))&&(P.type="audio",E.audio.push(P),N=!0),N)break;O+=188,L+=188}for(O=(L=A.byteLength)-188,N=!1;0<=O;)if(71!==A[O]||71!==A[L]&&L!==A.byteLength)O--,L--;else{if(x=A.subarray(O,L),"pes"===B.ts.parseType(x,D.pid)&&(T=B.ts.parsePesType(x,D.table),I=B.ts.parsePayloadUnitStartIndicator(x),"audio"===T)&&I&&(P=B.ts.parsePesTime(x))&&(P.type="audio",E.audio.push(P),N=!0),N)break;O-=188,L-=188}0===o.audio.length&&delete o.audio}return o}B.ts={parseType:function(e,t){return 0===(e=vt(e))?"pat":e===t?"pmt":t?"pes":null},parsePat:function(e){var t=bt(e),i=4+wt(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=bt(e),n=4+wt(e);if(i&&(n+=e[n]+1),1&e[n+5]){for(var o=3+((15&e[n+1])<<8|e[n+2])-4,s=12+((15&e[n+10])<<8|e[n+11]);s<o;){var a=n+s;t[(31&e[a+1])<<8|e[a+2]]=e[a],s+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:bt,parsePesType:function(e,t){switch(t[vt(e)]){case M.H264_STREAM_TYPE:return"video";case M.ADTS_STREAM_TYPE:return"audio";case M.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){var t,i,n;return!bt(e)||(t=4+wt(e))>=e.byteLength?null:(i=null,192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n)&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1),i)},videoPacketContainsKeyFrame:function(e){for(var t=4+wt(e),i=e.subarray(t),n=0,o=0,s=!1;o<i.byteLength-3;o++)if(1===i[o+2]){n=o+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1])n+=2;else if(0!==i[n-2])n++;else{for(o+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===St(31&i[o+3])&&(s=!0);1!==i[++n]&&n<i.length;);o=n-2,n+=3}break;case 1:0!==i[n-1]||0!==i[n-2]?n+=3:("slice_layer_without_partitioning_rbsp_idr"===St(31&i[o+3])&&(s=!0),o=n-2,n+=3);break;default:n+=3}return i=i.subarray(o),n-=o,o=0,!!(i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===St(31&i[o+3]))||s}},B.aac=I;var L=m,jt=((v=Ut.prototype).init=function(){var i,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ct(this.options),i=this.self,(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},e.data=(t=e.data).buffer,i.postMessage({action:"data",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.on("done",function(e){i.postMessage({action:"done"})}),e.on("gopInfo",function(e){i.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){var t={start:{decode:n(e.start.dts),presentation:n(e.start.pts)},end:{decode:n(e.end.dts),presentation:n(e.end.pts)},baseMediaDecodeTime:n(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=n(e.prependedContentDuration)),i.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}),e.on("audioSegmentTimingInfo",function(e){var t={start:{decode:n(e.start.dts),presentation:n(e.start.pts)},end:{decode:n(e.end.dts),presentation:n(e.end.pts)},baseMediaDecodeTime:n(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=n(e.prependedContentDuration)),i.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:t})}),e.on("id3Frame",function(e){i.postMessage({action:"id3Frame",id3Frame:e})}),e.on("caption",function(e){i.postMessage({action:"caption",caption:e})}),e.on("trackinfo",function(e){i.postMessage({action:"trackinfo",trackInfo:e})}),e.on("audioTimingInfo",function(e){i.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:n(e.start),end:n(e.end)}})}),e.on("videoTimingInfo",function(e){i.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:n(e.start),end:n(e.end)}})}),e.on("log",function(e){i.postMessage({action:"log",log:e})})},v.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new _t,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);e=this.captionParser.parse(t,e.trackIds,e.timescales),this.self.postMessage({action:"mp4Captions",captions:e&&e.captions||[],logs:e&&e.logs||[],data:t.buffer},[t.buffer])},v.probeMp4StartTime=function(e){var t=e.timescales,t=Bt(t,e=e.data);this.self.postMessage({action:"probeMp4StartTime",startTime:t,data:e},[e.buffer])},v.probeMp4Tracks=function(e){var t=e.data;e=Ft(t),this.self.postMessage({action:"probeMp4Tracks",tracks:e,data:t},[t.buffer])},v.probeTs=function(e){var t,i,n,o,s,a=e.data,r=e.baseStartTime;e="number"!=typeof r||isNaN(r)?void 0:r*m,t=a,i=e,e=null,(r=(s=(B.aac.isLikelyAacData(t)?function(e){for(var t,i,n=!1,o=0,s=null,a=null,r=0,l=0;3<=e.length-l;){switch(B.aac.parseType(e,l)){case"timed-metadata":e.length-l<10?n=!0:(r=B.aac.parseId3TagSize(e,l))>e.length?n=!0:(null===a&&(t=e.subarray(l,l+r),a=B.aac.parseAacTimestamp(t)),l+=r);break;case"audio":e.length-l<7?n=!0:(r=B.aac.parseAdtsSize(e,l))>e.length?n=!0:(null===s&&(t=e.subarray(l,l+r),s=B.aac.parseSampleRate(t)),o++,l+=r);break;default:l++}if(n)return null}return null===s||null===a?null:{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*o*(i=L/s),pts:a+1024*o*i}]}}:Rt)(t))&&(s.audio||s.video)?(t=i,(i=s).audio&&i.audio.length&&(void 0!==(n=t)&&!isNaN(n)||(n=i.audio[0].dts),i.audio.forEach(function(e){e.dts=O(e.dts,n),e.pts=O(e.pts,n),e.dtsTime=e.dts/L,e.ptsTime=e.pts/L})),i.video&&i.video.length&&(void 0!==(o=t)&&!isNaN(o)||(o=i.video[0].dts),i.video.forEach(function(e){e.dts=O(e.dts,o),e.pts=O(e.pts,o),e.dtsTime=e.dts/L,e.ptsTime=e.pts/L}),i.firstKeyFrame)&&((i=i.firstKeyFrame).dts=O(i.dts,o),i.pts=O(i.pts,o),i.dtsTime=i.dts/L,i.ptsTime=i.pts/L),s):null)&&((e={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1}).hasVideo&&(e.videoStart=r.video[0].ptsTime),e.hasAudio)&&(e.audioStart=r.audio[0].ptsTime),this.self.postMessage({action:"probeTs",result:e,data:a},[a.buffer])},v.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},v.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},v.push=function(e){e=new Uint8Array(e.data,e.byteOffset,e.byteLength),this.transmuxer.push(e)},v.reset=function(){this.transmuxer.reset()},v.setTimestampOffset=function(e){e=e.timestampOffset||0,this.transmuxer.setBaseMediaDecodeTime(Math.round(Oe(e)))},v.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(Oe(e.appendStart)))},v.setRemux=function(e){this.transmuxer.setRemux(e.remux)},v.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},v.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},v.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},Ut);function Ut(e,t){this.options=t||{},this.self=e,this.init()}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new jt(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new jt(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),Od=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():$u(e.currentTransmux))},Ld=2,Nd=-101,Md=-102,Bd=qc("CodecUtils"),Fd=qc("PlaylistSelector"),Rd=($a=function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return ld(this.playlists.master,this.systemBandwidth,parseInt(sd(this.tech_.el(),"width"),10)*e,parseInt(sd(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},y(jd,gd=j.EventTarget),(w=jd.prototype).createTransmuxer_=function(){return e={remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_},(t=new Ed).currentTransmux=null,t.transmuxQueue=[],i=t.terminate,t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)},t.postMessage({action:"init",options:e}),t;var e,t,i},w.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},w.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},w.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},w.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},w.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},w.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},w.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},w.endOfStream=function(){this.ended_=!0,this.transmuxer_&&md(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},w.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return j.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,i=e.hasVideo,e=e.isMuxed;if(i&&t&&!this.audioDisabled_&&!e)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},w.initSegmentForMap=function(e,t){var i,n;return void 0===t&&(t=!1),e?(i=Lu(e),n=this.initSegments_[i],t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e):null},w.segmentKey=function(e,t){var i,n;return void 0===t&&(t=!1),e?(i=Nu(e),n=this.keyCache_[i],this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes}),e={resolvedUri:(n||e).resolvedUri},n&&(e.bytes=n.bytes),e):null},w.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},w.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},w.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},w.playlist=function(e,t){if(void 0===t&&(t={}),e){var i=this.playlist_,n=this.pendingSegment_,o=(this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_)&&this.syncController_.setDateTimeMappingForStart(e),null);if(i&&(i.id?o=i.id:i.uri&&(o=i.uri)),this.logger_("playlist update ["+o+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();i&&i.uri===e.uri?(t=e.mediaSequence-i.mediaSequence,this.logger_("live window shift ["+t+"]"),null!==this.mediaIndex&&(this.mediaIndex-=t,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(o=this.playlist_.segments[this.mediaIndex],!this.partIndex||o.parts&&o.parts.length&&o.parts[this.partIndex]||(o=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=o))),n&&(n.mediaIndex-=t,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(0<=n.mediaIndex&&(n.segment=e.segments[n.mediaIndex]),0<=n.partIndex&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)):(null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate"))}},w.pause=function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},w.paused=function(){return null===this.checkBufferTimeout_},w.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},w.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},w.resyncLoader=function(){this.transmuxer_&&md(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},w.remove=function(r,e,t,i){if(void 0===t&&(t=function(){}),void 0===i&&(i=!1),(e=e===1/0?this.duration_():e)<=r)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var n,o=1,s=function(){0==--o&&t()};for(n in!i&&this.audioDisabled_||(o++,this.sourceUpdater_.removeAudio(r,e,s)),!i&&"main"!==this.loaderType_||(this.gopBuffer_=((e,t,i)=>{for(var n=Math.ceil(9e4*(r-i)),o=Math.ceil(9e4*(t-i)),s=(i=e.slice(),e.length);s--&&!(e[s].pts<=o););if(-1!==s){for(var a=s+1;a--&&!(e[a].pts<=n););a=Math.max(a,0),i.splice(a,s-a+1)}return i})(this.gopBuffer_,e,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(r,e,s)),this.inbandTextTracks_)cd(r,e,this.inbandTextTracks_[n]);cd(r,e,this.segmentMetadataTrack_),s()}else this.logger_("skipping remove because no source updater or starting media info")},w.monitorBuffer_=function(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)},w.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)},w.fillBuffer_=function(){var e;this.sourceUpdater_.updating()||(e=this.chooseNextRequest_())&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))},w.isEndOfStream_=function(e,t,i){var n;return void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===i&&(i=this.partIndex),!(!t||!this.mediaSource_)&&(n="number"==typeof e&&t.segments[e],e=e+1===t.segments.length,n=!n||!n.parts||i+1===n.parts.length,t.endList)&&"open"===this.mediaSource_.readyState&&e&&n},w.chooseNextRequest_=function(){var e,r=this.buffered_(),t=Zc(r)||0,i=Jc(r,this.currentTime_()),n=!this.hasPlayed_()&&1<=i,o=i>=this.goalBufferLength_();if(!(r=this.playlist_.segments).length||n||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()),(n={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)}).isSyncRequest?n.mediaIndex=((e,t,i)=>{t=r||[];for(var n=[],o=0,s=0;s<t.length;s++){var a=t[s];if(e===a.timeline&&(n.push(s),i<(o+=a.duration)))return s}return 0===n.length?0:n[n.length-1]})(this.currentTimeline_,0,t):null!==this.mediaIndex?(o=r[this.mediaIndex],e="number"==typeof this.partIndex?this.partIndex:-1,n.startOfSegment=o.end||t,o.parts&&o.parts[e+1]?(n.mediaIndex=this.mediaIndex,n.partIndex=e+1):n.mediaIndex=this.mediaIndex+1):(e=(a=Cd.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,s=a.startTime,a=a.partIndex,n.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),n.mediaIndex=e,n.startOfSegment=s,n.partIndex=a);var s=r[n.mediaIndex],a=s&&"number"==typeof n.partIndex&&s.parts&&s.parts[n.partIndex];return!s||"number"==typeof n.partIndex&&!a||("number"!=typeof n.partIndex&&s.parts&&(a=s.parts[n.partIndex=0]),i||!a||a.independent||(0===n.partIndex?(a=(i=r[n.mediaIndex-1]).parts&&i.parts.length&&i.parts[i.parts.length-1])&&a.independent&&(--n.mediaIndex,n.partIndex=i.parts.length-1,n.independent="previous segment"):s.parts[n.partIndex-1].independent&&(--n.partIndex,n.independent="previous part")),s=this.mediaSource_&&"ended"===this.mediaSource_.readyState,n.mediaIndex>=r.length-1&&s&&!this.seeking_())?null:this.generateSegmentInfo_(n)},w.generateSegmentInfo_=function(e){var t=e.independent,i=e.playlist,n=e.mediaIndex,o=e.startOfSegment,s=e.isSyncRequest,a=e.partIndex,r=e.forceTimestampOffset,l=e.getMediaInfoForTime,c=i.segments[n];return e="number"==typeof a&&c.parts[a],t={requestId:"segment-loader-"+Math.random(),uri:e&&e.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:e?a:null,isSyncRequest:s,startOfSegment:o,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:e&&e.duration||c.duration,segment:c,part:e,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},r=void 0!==r?r:this.isPendingTimestampOffset_,t.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:r}),"number"==typeof(r=Zc(this.sourceUpdater_.audioBuffered()))&&(t.audioAppendStart=r-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(t.gopsToAlignWith=((e,t,i)=>{if(null==t||!e.length)return[];for(var n=Math.ceil(9e4*(t-i+3)),o=0;o<e.length&&!(e[o].pts>n);o++);return e.slice(o)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),t},w.timestampOffsetForSegment_=function(e){return i=(t=e).segmentTimeline,n=t.currentTimeline,e=t.buffered,t.overrideCheck||i!==n?i<n||!e.length?t.startOfSegment:e.end(e.length-1):null;var t,i,n},w.earlyAbortWhenNeeded_=function(e){var t,i,n,o,s,a,r,l,c,u,d,h,p;this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3||(t=this.currentTime_(),o=e.bandwidth,s=this.pendingSegment_.duration,p=Cd.estimateSegmentRequestTime(s,o,this.playlist_,e.bytesReceived),i=this.buffered_(),n=t,void 0===(e=this.vhs_.tech_.playbackRate())&&(e=1),p<=(e=((i.length?i.end(i.length-1):0)-n)/e-1))||(s=(o={master:this.vhs_.playlists.master,currentTime:t,bandwidth:o,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:e,currentTimeline:this.currentTimeline_,syncController:this.syncController_}).master,a=o.currentTime,r=o.bandwidth,l=o.duration,c=o.segmentDuration,u=o.timeUntilRebuffer,d=o.currentTimeline,h=o.syncController,ad(s=(o=(s=(s=(o=s.playlists.filter(function(e){return!Cd.isIncompatible(e)})).filter(Cd.isEnabled)).length?s:o.filter(function(e){return!Cd.isDisabled(e)})).filter(Cd.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=h.getSyncPoint(e,l,d,a)?1:2;return{playlist:e,rebufferingImpact:Cd.estimateSegmentRequestTime(c,r,e)*t-u}})).filter(function(e){return e.rebufferingImpact<=0}),function(e,t){return rd(t.playlist,e.playlist)}),(o=s.length?s[0]:(ad(o,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),o[0]||null))&&(p=p-e-o.rebufferingImpact,!o.playlist||o.playlist.uri===this.playlist_.uri||p<(e<=Sd?1:.5)||(this.bandwidth=o.playlist.attributes.BANDWIDTH*L.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))))},w.handleAbort_=function(e){this.logger_("Aborting "+dd(e)),this.mediaRequestsAborted+=1},w.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},w.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(((e,t)=>{if(!(!e&&!t||!e&&t||e&&!t)){if(e===t)return 1;var i=Object.keys(e).sort(),n=Object.keys(t).sort();if(i.length===n.length){for(var o=0;o<i.length;o++){var s=i[o];if(s!==n[o])return;if(e[s]!==t[s])return}return 1}}})(this.currentMediaInfo_,t=t||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId))||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},w.handleTimingInfo_=function(e,t,i,n){var o;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((o=this.pendingSegment_)[e=hd(t)]=o[e]||{},o[e][i]=n,this.logger_("timinginfo: "+t+" - "+i+" - "+n),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},w.handleCaptions_=function(e,t){var g,y,v=this;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(0!==t.length?this.pendingSegment_.hasAppendedData_?(g=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),y={},t.forEach(function(e){y[e.stream]=y[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=y[e.stream];t.startTime=Math.min(t.startTime,e.startTime+g),t.endTime=Math.max(t.endTime,e.endTime+g),t.captions.push(e)}),Object.keys(y).forEach(function(e){var t,i,n,o,s,a,r,l,c,u,d=y[e],h=d.startTime,p=d.endTime,f=d.captions,m=v.inbandTextTracks_;v.logger_("adding cues from "+h+" -> "+p+" for "+e),t=m,i=v.vhs_.tech_,t[n=e]||(i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(o=n)&&(o="SERVICE"+n.split("_")[1]),(r=i.textTracks().getTrackById(o))?t[n]=r:(a=s=n,d=!1,(r=(i.options_.vhs&&i.options_.vhs.captionServices||{})[o])&&(s=r.label,a=r.language,d=r.default),t[n]=i.addRemoteTextTrack({kind:"captions",id:o,default:d,label:s,language:a},!1).track)),cd(h,p,m[e]),c=(f={captionArray:f,inbandTextTracks:m,timestampOffset:g}).inbandTextTracks,u=f.timestampOffset,(m=f.captionArray)&&(l=window.WebKitDataCue||window.VTTCue,m.forEach(function(e){var t=e.stream;c[t].addCue(new l(e.startTime+u,e.endTime+u,e.text))}))}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t)):this.logger_("SegmentLoader received no captions from a caption event"))},w.handleId3_=function(e,t,i){var n;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s=this.inbandTextTracks_,a=i,o=this.vhs_.tech_,s.metadataTrack_||(s.metadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,s.metadataTrack_.inBandMetadataTrackDispatchType=a);var o={inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:this.duration_()},s=o.inbandTextTracks,a=o.metadataArray,r=o.timestampOffset,l=o.videoDuration;if(a){var c=window.WebKitDataCue||window.VTTCue,u=s.metadataTrack_;if(u&&(a.forEach(function(e){var n=e.cueTime+r;!("number"!=typeof n||window.isNaN(n)||n<0)&&n<1/0&&e.frames.forEach(function(e){var t,i=new c(n,n,e.value||e.url||e.data||"");i.frame=e,i.value=e,t=i,Object.defineProperties(t.frame,{id:{get:function(){return j.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return j.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return j.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),u.addCue(i)})}),u.cues)&&u.cues.length){for(var d=u.cues,h=[],p=0;p<d.length;p++)d[p]&&h.push(d[p]);var f=h.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),m=Object.keys(f).sort(function(e,t){return Number(e)-Number(t)});m.forEach(function(e,t){e=f[e];var i=Number(m[t+1])||l;e.forEach(function(e){e.endTime=i})})}}}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i))},w.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},w.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(e){return e()})},w.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(e){return e()})},w.hasEnoughInfoToLoad_=function(){var e;return"audio"!==this.loaderType_||!(!(e=this.pendingSegment_)||this.getCurrentMediaInfo_()&&pd({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},w.getCurrentMediaInfo_=function(e){return(e=void 0===e?this.pendingSegment_:e)&&e.trackInfo||this.currentMediaInfo_},w.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},w.hasEnoughInfoToAppend_=function(){var e,t,i,n;return!!this.sourceUpdater_.ready()&&!(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_||(e=this.pendingSegment_,n=this.getCurrentMediaInfo_(),!e)||!n||(t=n.hasAudio,i=n.hasVideo,n=n.isMuxed,i&&!e.videoTimingInfo)||t&&!this.audioDisabled_&&!n&&!e.audioTimingInfo||pd({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},w.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i,n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4?(this.trigger("fmp4"),n.timingInfo.start=n[hd(t.type)].start):(i=this.getCurrentMediaInfo_(),(i="main"===this.loaderType_&&i&&i.hasVideo)&&(o=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:o,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})),this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var o=this.chooseNextRequest_();if(o.mediaIndex!==n.mediaIndex||o.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},w.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},w.getInitSegmentAndUpdateState_=function(e){var t=e.type,i=e.initSegment,n=e.map,o=e.playlist;if(n){if(e=Lu(n),this.activeInitSegmentId_===e)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=e}return i&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=o,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,i):null},w.handleQuotaExceededError_=function(e,t){var i=this,n=e.segmentInfo,o=e.type,s=e.bytes,a=this.sourceUpdater_.audioBuffered(),r=this.sourceUpdater_.videoBuffered(),l=(1<a.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Xc(a).join(", ")),1<r.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Xc(r).join(", ")),a.length?a.start(0):0),c=a.length?a.end(a.length-1):0,u=r.length?r.start(0):0;e=r.length?r.end(r.length-1):0,c-l<=1&&e-u<=1?(this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+s.byteLength+", audio buffer: "+Xc(a).join(", ")+", video buffer: "+Xc(r).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error")):(this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:o,bytes:s})),s=this.currentTime_()-1,this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+s),this.remove(0,s,function(){i.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=window.setTimeout(function(){i.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),i.quotaExceededErrorRetryTimeout_=null,i.processCallQueue_()},1e3)},!0))},w.handleAppendError_=function(e,t){var i=e.segmentInfo,n=e.type;e=e.bytes,t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(n+" append of "+e.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:i,type:n,bytes:e}))},w.appendToSourceBuffer_=function(e){var t,i,n=e.segmentInfo,o=e.type,s=e.initSegment,a=e.data,r=e.bytes;r||(e=[a],a=a.byteLength,s&&(e.unshift(s),a+=s.byteLength),i=0,(e={bytes:a,segments:e}).bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach(function(e){t.set(e,i),i+=e.byteLength})),r=t),this.sourceUpdater_.appendBuffer({segmentInfo:n,type:o,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:n,type:o,bytes:r}))},w.handleSegmentTimingInfo_=function(e,t,i){this.pendingSegment_&&t===this.pendingSegment_.requestId&&((t=this.pendingSegment_.segment)[e+="TimingInfo"]||(t[e]={}),t[e].transmuxerPrependedSeconds=i.prependedContentDuration||0,t[e].transmuxedPresentationStart=i.start.presentation,t[e].transmuxedDecodeStart=i.start.decode,t[e].transmuxedPresentationEnd=i.end.presentation,t[e].transmuxedDecodeEnd=i.end.decode,t[e].baseMediaDecodeTime=i.baseMediaDecodeTime)},w.appendData_=function(e,t){var i=t.type,n=t.data;n&&n.byteLength&&("audio"===i&&this.audioDisabled_||(t=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:t,data:n})))},w.loadSegment_=function(t){var i=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(function(){var e=Q({},t,{forceTimestampOffset:!0});Q(t,i.generateSegmentInfo_(e)),i.isPendingTimestampOffset_=!1,i.updateTransmuxerAndRequestSegment_(t)})},w.updateTransmuxerAndRequestSegment_=function(n){var o=this,e=(this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset})),this.createSimplifiedSegmentObj_(n)),t=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),i=null!==this.mediaIndex,s=n.timeline!==this.currentTimeline_&&0<n.timeline,s=t||i&&s;this.logger_("Requesting "+dd(n)),e.map&&!e.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=Ju({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:function(){o.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(e){var t=e.message,i=e.level;e=e.stream,o.logger_(dd(n)+" logged from transmuxer stream "+e+" as a "+i+": "+t)}})},w.trimBackBuffer_=function(e){t=this.seekable_(),i=this.currentTime_(),n=this.playlist_.targetDuration||10,o=i-L.BACK_BUFFER_LENGTH,t.length&&(o=Math.max(o,t.start(0)));var t,i,n,o=Math.min(i-n,o);0<o&&this.remove(0,o)},w.createSimplifiedSegmentObj_=function(e){var t=e.segment,i=e.part,n={resolvedUri:(i||t).resolvedUri,byterange:(i||t).byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part};return(i=e.playlist.segments[e.mediaIndex-1])&&i.timeline===t.timeline&&(i.videoTimingInfo?n.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(n.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key&&(e=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),n.key=this.segmentKey(t.key),n.key.iv=e),t.map&&(n.map=this.initSegmentForMap(t.map)),n},w.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},w.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},w.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},w.segmentRequestFinished_=function(e,t,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Md?void 0:(this.pause(),e.code===Nd?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));e=this.pendingSegment_,this.saveBandwidthRelatedStats_(e.duration,t.stats),e.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=((e,t,i)=>{if(!t.length)return e;if(i)return t.slice();for(var n=t[0].pts,o=0;o<e.length&&!(e[o].pts>=n);o++);return e.slice(0,o).concat(t)})(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(e)}},w.setTimeMapping_=function(e){null!==(e=this.syncController_.mappingForTimeline(e))&&(this.timeMapping_=e)},w.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},w.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},w.trueSegmentStart_=function(e){var t=e.currentStart,i=e.playlist,n=e.mediaIndex,o=e.firstVideoFrameTimeForData,s=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,r=e.videoTimingInfo;return e=e.audioTimingInfo,void 0!==t?t:a?(i=i.segments[n-1],0!==n&&i&&void 0!==i.start&&i.end===o+s?r.start:o):e.start},w.waitForAppendsToComplete_=function(e){var t,i,n=this.getCurrentMediaInfo_(e);n?(t=n.hasAudio,i=n.hasVideo,n=n.isMuxed,i="main"===this.loaderType_&&i,n=!this.audioDisabled_&&t&&!n,e.waitingOnAppends=0,e.hasAppendedData_?(i&&e.waitingOnAppends++,n&&e.waitingOnAppends++,i&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),n&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))):(e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e))):(this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error"))},w.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},w.checkForIllegalMediaSwitch=function(e){var t=this.loaderType_,i=this.getCurrentMediaInfo_();return!!(e="main"===t&&i&&e?e.hasAudio||e.hasVideo?i.hasVideo&&!e.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&e.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},w.updateSourceBufferTimestampOffset_=function(e){var t;null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_||(t=!1,e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset"))},w.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,i=e.audioTimingInfo;return e=e.timingInfo,this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i&&"number"==typeof i.transmuxedDecodeStart?i.transmuxedDecodeStart:e.start:e.start},w.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_();(t="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo)&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)},w.handleAppendsDone_=function(){var e,t,n,o,i,s,a,r;this.pendingSegment_&&this.trigger("appendsdone"),this.pendingSegment_?(e=this.pendingSegment_,this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_}),r=e,(a="hls"===(t=this.sourceType_)&&(n={audioTimingInfo:r.audioTimingInfo,videoTimingInfo:r.videoTimingInfo},o=0,["video","audio"].forEach(function(e){var t,i=n[e+"TimingInfo"];i&&(e=i.start,i=i.end,"bigint"==typeof e||"bigint"==typeof i?t=window.BigInt(i)-window.BigInt(e):"number"==typeof e&&"number"==typeof i&&(t=i-e),void 0!==t)&&o<t&&(o=t)}),a=o="bigint"==typeof o&&o<Number.MAX_SAFE_INTEGER?Number(o):o)&&(s=fd({segmentDuration:a,maxDuration:2*(i=r.playlist.targetDuration)}),t=fd({segmentDuration:a,maxDuration:i}),i="Segment with index "+r.mediaIndex+" from playlist "+r.playlist.id+" has a duration of "+a+" when the reported duration is "+r.duration+" and the target duration is "+i+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1",s||t)?{severity:s?"warn":"info",message:i}:null)&&("warn"===a.severity?j.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)?(this.logger_("Appended "+dd(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),r=e.segment,a=e.part,r=r.end&&this.currentTime_()-r.end>3*e.playlist.targetDuration,a=a&&a.end&&this.currentTime_()-a.end>3*e.playlist.partTargetDuration,r||a?(this.logger_("bad "+(r?"segment":"part")+" "+dd(e)),this.resetEverything()):(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_())):this.logger_("Throwing away un-appended sync request "+dd(e))):(this.state="READY",this.paused()||this.monitorBuffer_())},w.recordThroughput_=function(e){var t,i;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60):(t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/i*8*1e3),this.throughput.rate+=(i-t)/++this.throughput.count)},w.addSegmentMetadataCue_=function(e){var t,i,n,o;this.segmentMetadataTrack_&&(i=(t=e.segment).start,o=t.end,ud(i))&&ud(o)&&(cd(i,o,this.segmentMetadataTrack_),n=window.WebKitDataCue||window.VTTCue,e={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:o},(o=new n(i,o,JSON.stringify(e))).value=e,this.segmentMetadataTrack_.addCue(o))},jd);function jd(e,t){var i=gd.call(this)||this;if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(e.mediaSource)return i.bandwidth=e.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=e.hasPlayed,i.currentTime_=e.currentTime,i.seekable_=e.seekable,i.seeking_=e.seeking,i.duration_=e.duration,i.mediaSource_=e.mediaSource,i.vhs_=e.vhs,i.loaderType_=e.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=e.segmentMetadataTrack,i.goalBufferLength_=e.goalBufferLength,i.sourceType_=e.sourceType,i.sourceUpdater_=e.sourceUpdater,i.inbandTextTracks_=e.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=e.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=e.parse708captions,i.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,i.captionServices_=e.captionServices,i.experimentalExactManifestTimings=e.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=11<=j.browser.IE_VERSION,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=e.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=e.decrypter,i.syncController_=e.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",function(){i.isEndOfStream_()||(i.ended_=!1)}),i.fetchAtBuffer_=!1,i.logger_=qc("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(g(i),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),i;throw new TypeError("No MediaSource specified")}function Ud(e,t,i,n){var o;if(void 0===i&&(i={}),(o=yd.call(this)||this).masterPlaylistLoader_=n||g(o),n||(o.isMaster_=!0),n=void 0!==(n=i.withCredentials)&&n,i=void 0!==(i=i.handleManifestRedirects)&&i,o.vhs_=t,o.withCredentials=n,o.handleManifestRedirects=i,e)return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=qc("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=e,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=e,o;throw new Error("A non-empty playlist URL or object is required")}function Vd(e,t,i){var n;if(void 0===i&&(i={}),n=vd.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");n.logger_=qc("PlaylistLoader");var o=void 0!==(o=i.withCredentials)&&o;return i=void 0!==(i=i.handleManifestRedirects)&&i,n.src=e,n.vhs_=t,n.withCredentials=o,n.handleManifestRedirects=i,t=t.options_,n.customTagParsers=t&&t.customTagParsers||[],n.customTagMappers=t&&t.customTagMappers||[],n.experimentalLLHLS=t&&t.experimentalLLHLS||!1,j.browser.IE_VERSION&&(n.experimentalLLHLS=!1),n.state="HAVE_NOTHING",n.handleMediaupdatetimeout_=n.handleMediaupdatetimeout_.bind(g(n)),n.on("mediaupdatetimeout",n.handleMediaupdatetimeout_),n}function $d(){}function zd(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function Wd(e,t){var i=t[e+"Buffer"];return i&&i.updating||t.queuePending[e]}function Hd(e,t){if(0!==t.queue.length){var i=0,n=t.queue[i];if("mediaSource"!==n.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!Wd(e,t)){if(n.type!==e){if(null===(i=((e,t)=>{for(var i=0;i<t.length;i++){var n=t[i];if("mediaSource"===n.type)return null;if(n.type===e)return i}return null})(e,t.queue)))return;n=t.queue[i]}t.queue.splice(i,1),(t.queuePending[e]=n).action(e,t),n.doneFn||(t.queuePending[e]=null,Hd(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),n.action(t),n.doneFn&&n.doneFn(),Hd("audio",t),Hd("video",t))}}function qd(e,t){var i=t[e+"Buffer"],n=zd(e);i&&(i.removeEventListener("updateend",t["on"+n+"UpdateEnd_"]),i.removeEventListener("error",t["on"+n+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)}function Gd(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)}function Yd(e){var t=e.type,i=e.sourceUpdater;i.queue.push({type:t,action:e.action,doneFn:e.doneFn,name:e=e.name}),Hd(t,i)}function Qd(i,n){return function(e){var t;n.queuePending[i]&&(t=n.queuePending[i].doneFn,n.queuePending[i]=null,t)&&t(n[i+"Error_"]),Hd(i,n)}}function Kd(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}function Xd(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)}function Zd(e,t){(t.activePlaylistLoader=e).load()}function Jd(s){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){wh[e](e,s)});var e,a=s.mediaTypes,t=s.masterPlaylistLoader,i=s.tech,n=s.vhs,o=s.segmentLoaders,r=o.AUDIO,l=o.main;function c(){a.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})}for(e in["AUDIO","SUBTITLES"].forEach(function(e){var l,c,r,u,t,i,d,h,n,o;a[e].activeGroup=(l=e,c=s,function(t){var e=c.masterPlaylistLoader,i=c.mediaTypes[l].groups,n=e.media();if(!n)return null;var o=null,s=(n.attributes[l]&&(o=i[n.attributes[l]]),Object.keys(i));if(!o)if("AUDIO"===l&&1<s.length&&gu(c.master))for(var a=0;a<s.length;a++){var r=i[s[a]];if(function e(t,i){for(var n=0;n<t.length;n++){if(fu(i,t[n]))return 1;if(t[n].playlists&&e(t[n].playlists,i))return 1}}(r,n)){o=r;break}}else i.main?o=i.main:1===s.length&&(o=i[s[0]]);return void 0===t?o:null!==t&&o&&o.filter(function(e){return e.id===t.id})[0]||null}),a[e].activeTrack=Sh[e](e,s),a[e].onGroupChanged=(r=e,u=s,function(){var e=(a=u.segmentLoaders)[r],t=a.main,i=u.mediaTypes[r],n=i.activeTrack(),o=i.getActiveGroup(),s=i.activePlaylistLoader,a=i.lastGroup_;o&&a&&o.id===a.id||(i.lastGroup_=o,i.lastTrack_=n,Xd(e,i),o&&!o.isMasterPlaylist&&(o.playlistLoader?(e.resyncLoader(),Zd(o.playlistLoader,i)):s&&t.resetEverything()))}),a[e].onGroupChanging=(t=e,i=s,function(){var e=i.segmentLoaders[t];i.mediaTypes[t].lastGroup_=null,e.abort(),e.pause()}),a[e].onTrackChanged=(d=e,h=s,function(){var e,t=h.masterPlaylistLoader,i=h.segmentLoaders,n=i[d],o=i.main,s=h.mediaTypes[d],a=s.activeTrack(),r=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastTrack_;if((!c||!a||c.id!==a.id)&&(s.lastGroup_=r,s.lastTrack_=a,Xd(n,s),r)){if(r.isMasterPlaylist)return!a||!c||a.id===c.id||(i=(e=h.vhs.masterPlaylistController_).selectPlaylist(),e.media()===i)?void 0:(s.logger_("track change. Switching master audio from "+c.id+" to "+a.id),t.pause(),o.resetEverything(),void e.fastQualityChange_(i));if("AUDIO"===d){if(!r.playlistLoader)return o.setAudio(!0),void o.resetEverything();n.setAudio(!0),o.setAudio(!1)}l!==r.playlistLoader&&(n.track&&n.track(a),n.resetEverything()),Zd(r.playlistLoader,s)}}),a[e].getActiveGroup=(n=e,o=s.mediaTypes,function(){var e=o[n].activeTrack();return e?o[n].activeGroup(e):null})}),(o=a.AUDIO.activeGroup())&&(o=(o.filter(function(e){return e.default})[0]||o[0]).id,a.AUDIO.tracks[o].enabled=!0,a.AUDIO.onGroupChanged(),a.AUDIO.onTrackChanged(),(a.AUDIO.getActiveGroup().playlistLoader?(l.setAudio(!1),r):l).setAudio(!0)),t.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return a[e].onGroupChanged()})}),t.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(e){return a[e].onGroupChanging()})}),i.audioTracks().addEventListener("change",c),i.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),n.on("dispose",function(){i.audioTracks().removeEventListener("change",c),i.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),a.AUDIO.tracks)i.audioTracks().addTrack(a.AUDIO.tracks[e])}function eh(e,t,i){var n,o,s,a,r=e.masterPlaylistController_,l=r[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);t.attributes&&(n=t.attributes.RESOLUTION,this.width=n&&n.width,this.height=n&&n.height,this.bandwidth=t.attributes.BANDWIDTH),this.codecs=nd(r.master(),t),this.playlist=t,this.id=i,this.enabled=(o=e.playlists,s=t.id,a=l,function(e){var t=o.master.playlists[s],i=uu(t),n=du(t);return void 0===e?n:(e?delete t.disabled:t.disabled=!0,e===n||i||(a(),e?o.trigger("renditionenabled"):o.trigger("renditiondisabled")),e)})}function th(n,o){return function(e,t){var i=t[e+"Buffer"];if(Gd(t.mediaSource,i)){t.logger_("Removing "+n+" to "+o+" from "+e+"Buffer");try{i.remove(n,o)}catch(i){t.logger_("Remove "+n+" to "+o+" from "+e+"Buffer failed")}}}}function ih(n){return function(e,t){var i=t[e+"Buffer"];Gd(t.mediaSource,i)&&(t.logger_("Setting "+e+"timestampOffset to "+n),i.timestampOffset=n)}}function nh(i){return function(e,t){i()}}var oh,sh,ah,rh,lh,ch,uh=["video","audio"],dh=(y(Oh,ch=j.EventTarget),(b=Oh.prototype).initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},b.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},b.hasInitializedAnyEme=function(){return this.initializedEme_},b.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},b.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},b.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},b.addSourceBuffer=function(e,t){var n,o;Yd({type:"mediaSource",sourceUpdater:this,action:(n=e,o=t,function(e){var t=zd(n),i=Xa(o);e.logger_("Adding "+n+"Buffer with codec "+o+" to mediaSource"),(i=e.mediaSource.addSourceBuffer(i)).addEventListener("updateend",e["on"+t+"UpdateEnd_"]),i.addEventListener("error",e["on"+t+"Error_"]),e.codecs[n]=o,e[n+"Buffer"]=i}),name:"addSourceBuffer"})},b.abort=function(e){Yd({type:e,sourceUpdater:this,action:function(e,t){if("open"===t.mediaSource.readyState){var i=t[e+"Buffer"];if(Gd(t.mediaSource,i)){t.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){j.log.warn("Failed to abort on "+e+"Buffer",t)}}}},name:"abort"})},b.removeSourceBuffer=function(e){var i;this.canRemoveSourceBuffer()?Yd({type:"mediaSource",sourceUpdater:this,action:(i=e,function(e){var t=e[i+"Buffer"];if(qd(i,e),Gd(e.mediaSource,t)){e.logger_("Removing "+i+"Buffer with codec "+e.codecs[i]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(t)}catch(e){j.log.warn("Failed to removeSourceBuffer "+i+"Buffer",e)}}}),name:"removeSourceBuffer"}):j.log.error("removeSourceBuffer is not supported!")},b.canRemoveSourceBuffer=function(){return!j.browser.IE_VERSION&&!j.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer},Oh.canChangeType=function(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType},b.canChangeType=function(){return this.constructor.canChangeType()},b.changeType=function(e,t){var o;this.canChangeType()?Yd({type:e,sourceUpdater:this,action:(o=t,function(e,t){var i=t[e+"Buffer"],n=Xa(o);Gd(t.mediaSource,i)&&t.codecs[e]!==o&&(t.logger_("changing "+e+"Buffer codec from "+t.codecs[e]+" to "+o),i.changeType(n),t.codecs[e]=o)}),name:"changeType"}):j.log.error("changeType is not supported!")},b.addOrChangeSourceBuffers=function(i){var n=this;if(!i||"object"!=Wh(i)||0===Object.keys(i).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(function(e){var t=i[e];if(!n.hasCreatedSourceBuffers())return n.addSourceBuffer(e,t);n.canChangeType()&&n.changeType(e,t)})},b.appendBuffer=function(e,t){var n,o,s,i=this,a=e.segmentInfo,r=e.type,l=e.bytes;this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_?(this.delayedAudioAppendQueue_.push([e,t]),this.logger_("delayed audio append of "+l.length+" until video append")):(Yd({type:r,sourceUpdater:this,action:(n=l,o=a||{mediaIndex:-1},function(e,t){var i=t[e+"Buffer"];if(Gd(t.mediaSource,i)){t.logger_("Appending segment "+o.mediaIndex+"'s "+n.length+" bytes to "+e+"Buffer");try{i.appendBuffer(n)}catch(i){t.logger_("Error with code "+i.code+" "+(22===i.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+o.mediaIndex+" to "+e+"Buffer"),t.queuePending[e]=null,s(i)}}}),doneFn:s=t,name:"appendBuffer"}),"video"===r&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length)&&(r=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+r.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,r.forEach(function(e){i.appendBuffer.apply(i,e)})))},b.audioBuffered=function(){return Gd(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||j.createTimeRange()},b.videoBuffered=function(){return Gd(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||j.createTimeRange()},b.buffered=function(){var e=Gd(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Gd(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;{if(t&&!e)return this.audioBuffered();if(e&&!t)return this.videoBuffered();var i=this.audioBuffered(),n=this.videoBuffered(),o=null,s=null,a=0,r=[],l=[];if(!(i&&i.length&&n&&n.length))return j.createTimeRange();for(var c=i.length;c--;)r.push({time:i.start(c),type:"start"}),r.push({time:i.end(c),type:"end"});for(c=n.length;c--;)r.push({time:n.start(c),type:"start"}),r.push({time:n.end(c),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),c=0;c<r.length;c++)"start"===r[c].type?2==++a&&(o=r[c].time):"end"===r[c].type&&1==--a&&(s=r[c].time),null!==o&&null!==s&&(l.push([o,s]),s=o=null);return j.createTimeRanges(l)}},b.setDuration=function(e,t){var i;Yd({type:"mediaSource",sourceUpdater:this,action:(i=e,function(e){e.logger_("Setting mediaSource duration to "+i);try{e.mediaSource.duration=i}catch(e){j.log.warn("Failed to set media source duration",e)}}),name:"duration",doneFn:t=void 0===t?$d:t})},b.endOfStream=function(e,t){var i;Yd({type:"mediaSource",sourceUpdater:this,action:(i=e="string"!=typeof(e=void 0===e?null:e)?void 0:e,function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(i||"")+")");try{e.mediaSource.endOfStream(i)}catch(e){j.log.warn("Failed to call media source endOfStream",e)}}}),name:"endOfStream",doneFn:t=void 0===t?$d:t})},b.removeAudio=function(e,t,i){void 0===i&&(i=$d),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Yd({type:"audio",sourceUpdater:this,action:th(e,t),doneFn:i,name:"remove"}):i()},b.removeVideo=function(e,t,i){void 0===i&&(i=$d),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Yd({type:"video",sourceUpdater:this,action:th(e,t),doneFn:i,name:"remove"}):i()},b.updating=function(){return!(!Wd("audio",this)&&!Wd("video",this))},b.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Yd({type:"audio",sourceUpdater:this,action:ih(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},b.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Yd({type:"video",sourceUpdater:this,action:ih(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},b.audioQueueCallback=function(e){this.audioBuffer&&Yd({type:"audio",sourceUpdater:this,action:nh(e),name:"callback"})},b.videoQueueCallback=function(e){this.videoBuffer&&Yd({type:"video",sourceUpdater:this,action:nh(e),name:"callback"})},b.dispose=function(){var t=this;this.trigger("dispose"),uh.forEach(function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"](function(){return qd(e,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},Oh),hh=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),ph=(y(Eh,lh=Rd),(a=Eh.prototype).createTransmuxer_=function(){return null},a.buffered_=function(){var e,t;return this.subtitlesTrack_&&this.subtitlesTrack_.cues&&this.subtitlesTrack_.cues.length?(e=(t=this.subtitlesTrack_.cues)[0].startTime,t=t[t.length-1].startTime,j.createTimeRanges([[e,t]])):j.createTimeRanges()},a.initSegmentForMap=function(e,t){var i,n;return void 0===t&&(t=!1),e?(i=Lu(e),n=this.initSegments_[i],t&&!n&&e.bytes&&(t=hh.byteLength+e.bytes.byteLength,(t=new Uint8Array(t)).set(e.bytes),t.set(hh,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:t}),n||e):null},a.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},a.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.track=function(e){return void 0!==e&&(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_())&&this.init_(),this.subtitlesTrack_},a.remove=function(e,t){cd(e,t,this.subtitlesTrack_)},a.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();t&&(null===this.syncController_.timestampOffsetForTimeline(t.timeline)?(this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),this.state="WAITING_ON_TIMELINE"):this.loadSegment_(t))},a.timestampOffsetForSegment_=function(){return null},a.chooseNextRequest_=function(){return this.skipEmptySegments_(lh.prototype.chooseNextRequest_.call(this))},a.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},a.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},a.segmentRequestFinished_=function(e,t,i){var n=this;if(this.subtitlesTrack_)if(this.saveTransferStats_(t.stats),this.pendingSegment_)if(e)e.code===Nd&&this.handleTimeout_(),e.code===Md?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);else{var o,s,a=this.pendingSegment_,r=(this.saveBandwidthRelatedStats_(a.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending"),a.segment);if(r.map&&(r.map.bytes=t.map.bytes),a.bytes=t.bytes,"function"!=typeof window.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_)o=function(){n.subtitlesTrack_.tech_.off("vttjsloaded",s),n.stopForError({message:"Error loading vtt.js"})},s=function(){n.subtitlesTrack_.tech_.off("vttjserror",o),n.segmentRequestFinished_(e,t,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),this.subtitlesTrack_.tech_.one("vttjserror",o);else{r.requested=!0;try{this.parseVTTCues_(a)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(a,this.syncController_.timelines[a.timeline],this.playlist_),a.cues.length?a.timingInfo={start:a.cues[0].startTime,end:a.cues[a.cues.length-1].endTime}:a.timingInfo={start:a.startOfSegment,end:a.startOfSegment+a.duration},a.isSyncRequest)this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";else{a.byteLength=a.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,a.cues.forEach(function(e){n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?new window.VTTCue(e.startTime,e.endTime,e.text):e)});var l=this.subtitlesTrack_,c=l.cues;if(c)for(var u=0;u<c.length;u++){for(var d=[],h=0,p=0;p<c.length;p++)c[u].startTime===c[p].startTime&&c[u].endTime===c[p].endTime&&c[u].text===c[p].text&&1<++h&&d.push(c[p]);d.length&&d.forEach(function(e){return l.removeCue(e)})}this.handleAppendsDone_()}}}else this.state="READY",this.mediaRequestsAborted+=1;else this.state="READY"},a.handleData_=function(){},a.updateTimingInfoEnd_=function(){},a.parseVTTCues_=function(t){var e=!1,i=("function"==typeof window.TextDecoder?i=new window.TextDecoder("utf8"):(i=window.WebVTT.StringDecoder(),e=!0),new window.WebVTT.Parser(window,window.vttjs,i)),n=(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){t.timestampmap=e},i.onparsingerror=function(e){j.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map&&(n=t.segment.map.bytes,e&&(n=Kd(n)),i.parse(n)),t.bytes);e&&(n=Kd(n)),i.parse(n),i.flush()},a.updateTimeMapping_=function(e,t,i){var n,o,s=e.segment;t&&(e.cues.length?(o=e.timestampmap,n=o.MPEGTS/9e4-o.LOCAL+t.mapping,e.cues.forEach(function(e){e.startTime+=n,e.endTime+=n}),i.syncInfo||(o=e.cues[0].startTime,t=e.cues[e.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(o,t-s.duration)})):s.empty=!0)},Eh),fh=[{name:"VOD",run:function(e,t,i,n,o){return i===1/0?null:{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(e,t,i,n,o){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,a=null,r=tu(t);o=o||0;for(var l=0;l<r.length;l++){var c=r[t.endList||0===o?l:r.length-(l+1)],u=c.segment,d=e.timelineToDatetimeMappings[u.timeline];if(d&&u.dateTimeObject){var h=u.dateTimeObject.getTime()/1e3+d;if(u.parts&&"number"==typeof c.partIndex)for(var p=0;p<c.partIndex;p++)h+=u.parts[p].duration;if(d=Math.abs(o-h),null!==a&&(0===d||a<d))break;a=d,s={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return s}},{name:"Segment",run:function(e,t,i,n,o){var s=null,a=null;o=o||0;for(var r=tu(t),l=0;l<r.length;l++){var c=r[t.endList||0===o?l:r.length-(l+1)],u=c.segment,d=c.part&&c.part.start||u&&u.start;if(u.timeline===n&&void 0!==d){if(u=Math.abs(o-d),null!==a&&a<u)break;(!s||null===a||u<=a)&&(a=u,s={time:d,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:function(e,t,i,n,o){var s=null;if(o=o||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,r=0;r<t.discontinuityStarts.length;r++){var l,c=t.discontinuityStarts[r],u=e.discontinuities[t.discontinuitySequence+r+1];if(u){if(l=Math.abs(o-u.time),null!==a&&a<l)break;(!s||null===a||l<=a)&&(a=l,s={time:u.time,segmentIndex:c,partIndex:null})}}return s}},{name:"Playlist",run:function(e,t,i,n,o){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],mh=(y(Dh,rh=j.EventTarget),(n=Dh.prototype).getSyncPoint=function(e,t,i,n){return(i=this.runStrategies_(e,t,i,n)).length?this.selectSyncPoint_(i,{key:"time",value:n}):null},n.getExpiredTime=function(e,t){return e&&e.segments&&(t=this.runStrategies_(e,t,e.discontinuitySequence,0)).length?(0<(t=this.selectSyncPoint_(t,{key:"segmentIndex",value:0})).segmentIndex&&(t.time*=-1),Math.abs(t.time+ru({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.segmentIndex,endIndex:0}))):null},n.runStrategies_=function(e,t,i,n){for(var o=[],s=0;s<fh.length;s++){var a=fh[s],r=a.run(this,e,t,i,n);r&&(r.strategy=a.name,o.push({strategy:a.name,syncPoint:r}))}return o},n.selectSyncPoint_=function(e,t){for(var i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),o=e[0].strategy,s=1;s<e.length;s++){var a=Math.abs(e[s].syncPoint[t.key]-t.value);a<n&&(n=a,i=e[s].syncPoint,o=e[s].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+o+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+("number"==typeof i.partIndex?",partIndex:"+i.partIndex:"")+"]"),i},n.saveExpiredSegmentInfo=function(e,t){var i=t.mediaSequence-e.mediaSequence;if(86400<i)j.log.warn("Not saving expired segment info. Media sequence gap "+i+" is too large.");else for(var n=i-1;0<=n;n--){var o=e.segments[n];if(o&&void 0!==o.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:o.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){var t;this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(e=(t=e.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[t.timeline]=-e)},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,i=e.shouldSaveTimelineMapping,n=this.calculateSegmentTimeMapping_(t,t.timingInfo,i);e=t.segment,n&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:e.start})),t=e.dateTimeObject,e.discontinuity&&i&&t&&(this.timelineToDatetimeMappings[e.timeline]=-t.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,i){var n,o=e.segment,s=e.part,a=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+a.time+"] [mapping: "+a.mapping+"]")),n=e.startOfSegment;else{if(!a)return!1;n=t.start+a.mapping}return i=t.end+a.mapping,s&&(s.start=n,s.end=i),(!o.start||n<o.start)&&(o.start=n),o.end=i,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var o=t.discontinuityStarts[n],s=t.discontinuitySequence+n+1,a=o-e.mediaIndex,r=Math.abs(a);(!this.discontinuities[s]||this.discontinuities[s].accuracy>r)&&(a=a<0?i.start-ru({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:o}):i.end+ru({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[s]={time:a,accuracy:r})}},n.dispose=function(){this.trigger("dispose"),this.off()},Dh),gh=(y(Ah,ah=j.EventTarget),(i=Ah.prototype).clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(e){var t=e.type,i=e.from;return e=e.to,"number"==typeof i&&"number"==typeof e&&(this.pendingTimelineChanges_[t]={type:t,from:i,to:e},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},i.lastTimelineChange=function(e){var t=e.type,i=e.from;return e=e.to,"number"==typeof i&&"number"==typeof e&&(this.lastTimelineChanges_[t]={type:t,from:i,to:e},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},Ah),yh=s(ce(t(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$h?$h:"undefined"!=typeof self?self:{};function t(e,t,i){return e(i={path:t,exports:{},require:function(e,t){throw null==t&&i.path,new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},i.exports),i.exports}function m(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}var i,n,o=t(function(e){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0}),s=t(function(i){function n(e,t){return i.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i.exports.default=i.exports,i.exports.__esModule=!0,n(e,t)}i.exports=n,i.exports.default=i.exports,i.exports.__esModule=!0}),a=t(function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}),r=((n=f.prototype).on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},n.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},n.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),s=t.length,a=0;a<s;++a)t[a].apply(this,o)},n.dispose=function(){this.listeners={}},n.pipe=function(t){this.on("data",function(e){t.push(e)})},f),u=null,g=(p.prototype.decrypt=function(e,t,i,n,o,s){for(var a,r,l,c=this._key[1],u=e^c[0],d=n^c[1],h=i^c[2],p=t^c[3],f=c.length/4-2,m=4,g=(t=this._tables[1])[0],y=t[1],v=t[2],b=t[3],w=t[4],S=0;S<f;S++)a=g[u>>>24]^y[d>>16&255]^v[h>>8&255]^b[255&p]^c[m],r=g[d>>>24]^y[h>>16&255]^v[p>>8&255]^b[255&u]^c[m+1],l=g[h>>>24]^y[p>>16&255]^v[u>>8&255]^b[255&d]^c[m+2],p=g[p>>>24]^y[u>>16&255]^v[d>>8&255]^b[255&h]^c[m+3],m+=4,u=a,d=r,h=l;for(S=0;S<4;S++)o[(3&-S)+s]=w[u>>>24]<<24^w[d>>16&255]<<16^w[h>>8&255]<<8^w[255&p]^c[m++],a=u,u=d,d=h,h=p,p=a},p),l=(a(h,i=r),(n=h.prototype).processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},h),c=(d.prototype.decryptChunk_=function(t,i,n,o){return function(){var e=((e,t,i)=>{for(var n,o,s,a,r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new g(Array.prototype.slice.call(t)),c=(e=new Uint8Array(e.byteLength),new Int32Array(e.buffer)),u=i[0],d=i[1],h=i[2],p=i[3],f=0;f<r.length;f+=4)n=m(r[f]),o=m(r[f+1]),s=m(r[f+2]),a=m(r[f+3]),l.decrypt(n,o,s,a,c,f),c[f]=m(c[f]^u),c[f+1]=m(c[f+1]^d),c[f+2]=m(c[f+2]^h),c[f+3]=m(c[f+3]^p),u=n,d=o,h=s,p=a;return e})(t,i,n);o.set(e,t.byteOffset)}},o(d,null,[{key:"STEP",get:function(){return 32e3}}]),d);function d(e,t,i,n){var o=d.STEP,s=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),r=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(s.subarray(r,r+o),t,i,a)),r=o;r<s.length;r+=o)i=new Uint32Array([m(s[r-4]),m(s[r-3]),m(s[r-2]),m(s[r-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(r,r+o),t,i,a));this.asyncStream_.push(function(){var e;n(null,(e=a).subarray(0,e.byteLength-e[e.byteLength-1]))})}function h(){var e=i.call(this,r)||this;return e.jobs=[],e.delay=1,e.timeout_=null,e}function p(e){u=u||(()=>{for(var e,t,i,n,o,s,a,r=[[[],[],[],[],[]],[[],[],[],[],[]]],l=r[0],c=r[1],u=l[4],d=c[4],h=[],p=[],f=0;f<256;f++)p[(h[f]=f<<1^283*(f>>7))^f]=f;for(e=t=0;!u[e];e^=i||1,t=p[t]||1)for(a=16843009*h[n=h[i=h[d[u[e]=o=(o=t^t<<1^t<<2^t<<3^t<<4)>>8^255&o^99]=e]]]^65537*n^257*i^16843008*e,s=257*h[o]^16843008*o,f=0;f<4;f++)l[f][e]=s=s<<24^s>>>8,c[f][o]=a=a<<24^a>>>8;for(f=0;f<5;f++)l[f]=l[f].slice(0),c[f]=c[f].slice(0);return r})(),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var t,i,n,o=this._tables[0][4],s=this._tables[1],a=e.length,r=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var l=e.slice(0),c=[];for(this._key=[l,c],t=a;t<4*a+28;t++)n=l[t-1],(t%a==0||8===a&&t%a==4)&&(n=o[n>>>24]<<24^o[n>>16&255]<<16^o[n>>8&255]<<8^o[255&n],t%a==0)&&(n=n<<8^n>>>24^r<<24,r=r<<1^283*(r>>7)),l[t]=l[t-a]^n;for(i=0;t;i++,t--)n=l[3&i?t:t-4],c[i]=t<=4||i<4?n:s[0][o[n>>>24]]^s[1][o[n>>16&255]]^s[2][o[n>>8&255]]^s[3][o[255&n]]}function f(){this.listeners={}}(e=(e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).BigInt||Number)("0x1"),e("0x100"),e("0x10000"),e("0x1000000"),e("0x100000000"),e("0x10000000000"),e("0x1000000000000"),e("0x100000000000000"),e("0x10000000000000000"),self.onmessage=function(e){var i=e.data,t=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4);e=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4),new c(t,n,e,function(e,t){var n,o;self.postMessage((n={source:i.source,decrypted:t},o={},Object.keys(n).forEach(function(e){var t=n[e],i=t;("function"===ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)?o[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:o[e]=t}),o),[t.buffer])})}}))),vh={AUDIO:function(a,r){return function(){var e=r.segmentLoaders[a],t=r.mediaTypes[a],i=r.blacklistCurrentPlaylist,n=(Xd(e,t),t.activeTrack()),o=(e=((e=t.activeGroup()).filter(function(e){return e.default})[0]||e[0]).id,t.tracks[e]);if(n!==o){for(var s in j.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[s].enabled=t.tracks[s]===o;t.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(i,n){return function(){var e=n.segmentLoaders[i],t=n.mediaTypes[i];j.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Xd(e,t),(e=t.activeTrack())&&(e.mode="disabled"),t.onTrackChanged()}}},bh={AUDIO:function(e,t,i){var n,o,s;t&&(n=i.tech,o=i.requestOptions,s=i.segmentLoaders[e],t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,o),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),o),n.paused()||s.load()}),t.on("error",vh[e](e,i)))},SUBTITLES:function(e,t,i){var n=i.tech,o=i.requestOptions,s=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,o),s.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),o),n.paused()||s.load()}),t.on("error",vh[e](e,i))}},wh={AUDIO:function(e,t){var i,n,o=t.vhs,s=t.sourceType,a=t.segmentLoaders[e],r=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,d=c.tracks,h=c.logger_,p=t.masterPlaylistLoader,f=gu(p.master);for(i in l[e]&&0!==Object.keys(l[e]).length||(l[e]={main:{default:{default:!0}}},f&&(l[e].main.default.playlists=p.master.playlists)),l[e])for(var m in u[i]||(u[i]=[]),l[e][i]){var g=l[e][i][m],y=void 0,y=f?(h("AUDIO group '"+i+"' label '"+m+"' is a master playlist"),g.isMasterPlaylist=!0,null):"vhs-json"===s&&g.playlists?new Td(g.playlists[0],o,r):g.resolvedUri?new Td(g.resolvedUri,o,r):g.playlists&&"dash"===s?new Dd(g.playlists[0],o,r,p):null,g=j.mergeOptions({id:m,playlistLoader:y},g);bh[e](e,g.playlistLoader,t),u[i].push(g),void 0===d[m]&&(g=new j.AudioTrack({id:m,kind:(n=(y=g).default?"main":"alternative",y.characteristics&&0<=y.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":n),enabled:!1,language:g.language,default:g.default,label:m}),d[m]=g)}a.on("error",vh[e](e,t))},SUBTITLES:function(e,t){var i,n=t.tech,o=t.vhs,s=t.sourceType,a=t.segmentLoaders[e],r=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,d=c.tracks,h=t.masterPlaylistLoader;for(i in l[e])for(var p in u[i]||(u[i]=[]),l[e][i])if(!l[e][i][p].forced){var f=l[e][i][p],m=void 0;if("hls"===s)m=new Td(f.resolvedUri,o,r);else if("dash"===s){if(!f.playlists.filter(function(e){return e.excludeUntil!==1/0}).length)return;m=new Dd(f.playlists[0],o,r,h)}else"vhs-json"===s&&(m=new Td(f.playlists?f.playlists[0]:f.resolvedUri,o,r));f=j.mergeOptions({id:p,playlistLoader:m},f),bh[e](e,f.playlistLoader,t),u[i].push(f),void 0===d[p]&&(f=n.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track,d[p]=f)}a.on("error",vh[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i,n=t.tech,o=t.master.mediaGroups,s=(t=t.mediaTypes[e]).groups,a=t.tracks;for(i in o[e])for(var r in s[i]||(s[i]=[]),o[e][i]){var l,c,u=o[e][i][r];/^(?:CC|SERVICE)/.test(u.instreamId)&&(void 0===(c=(l=n.options_.vhs&&n.options_.vhs.captionServices||{})[(c={label:r,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect}).instreamId]?j.mergeOptions(c,l[c.instreamId]):c).default&&delete c.default,s[i].push(j.mergeOptions({id:r},u)),void 0===a[r])&&(c=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track,a[r]=c)}}},Sh={AUDIO:function(i,n){return function(){var e,t=n.mediaTypes[i].tracks;for(e in t)if(t[e].enabled)return t[e];return null}},SUBTITLES:function(i,n){return function(){var e,t=n.mediaTypes[i].tracks;for(e in t)if("showing"===t[e].mode||"hidden"===t[e].mode)return t[e];return null}}},_h=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Ch=(y(Ph,sh=j.EventTarget),(o=Ph.prototype).mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},o.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},o.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},o.timeToLoadedData_=function(){return this.timeToLoadedData__},o.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},o.switchMedia_=function(e,t,i){var n=(o=this.media())&&(o.id||o.uri),o=e.id||e.uri;n&&n!==o&&(this.logger_("switch media "+n+" -> "+o+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,i)},o.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=window.setInterval(function(){return e.checkABR_()},250)},o.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)},o.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var i,n=e.mediaGroups.AUDIO,o=Object.keys(n);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)i=this.mediaTypes_.AUDIO.activeTrack();else{var s,a=n.main||o.length&&n[o[0]];for(s in a)if(a[s].default){i={label:s};break}}if(!i)return t;var r,l=[];for(r in n)if(n[r][i.label]){var c=n[r][i.label];if(c.playlists&&c.playlists.length)l.push.apply(l,c.playlists);else if(c.uri)l.push(c);else if(e.playlists.length)for(var u=0;u<e.playlists.length;u++){var d=e.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===r&&l.push(d)}}return l.length?l:t},o.setupMasterPlaylistLoaderListeners_=function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;pu(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,e.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load()),Jd({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,vhs:i.vhs_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),e),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger("selectedinitialmedia"):i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){i.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){i.loadOnPlay_&&i.tech_.off("play",i.loadOnPlay_);var e,t=i.masterPlaylistLoader_.media();if(!t){if(i.excludeUnsupportedVariants_(),!(e=(e=i.enableLowInitialPlaylist?i.selectInitialPlaylist():e)||i.selectPlaylist())||!i.shouldSwitchToMedia_(e))return;if(i.initialMedia_=e,i.switchMedia_(i.initialMedia_,"initial"),"vhs-json"!==i.sourceType_||!i.initialMedia_.segments)return;t=i.initialMedia_}i.handleUpdatedMediaPlaylist(t)}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=i.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;pu(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=t,i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=i.masterPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&i.stuckAtPlaylistEnd_(e)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},o.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},o.triggerPresenceUsage_=function(e,t){var i,n=e.mediaGroups||{},o=!0;for(i in e=Object.keys(n.AUDIO),n.AUDIO)for(var s in n.AUDIO[i])n.AUDIO[i][s].uri||(o=!1);o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),oh.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),e.length&&1<Object.keys(n.AUDIO[e[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},o.shouldSwitchToMedia_=function(e){var t,i,n,o,s,a,r=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,l=this.tech_.currentTime(),c=this.bufferLowWaterLine(),u=this.bufferHighWaterLine();return l={buffered:this.tech_.buffered(),currentTime:l,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:c,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_},r=l.currentPlaylist,e=l.buffered,c=l.currentTime,u=l.bufferLowWaterLine,n=l.bufferHighWaterLine,o=l.duration,s=l.experimentalBufferBasedABR,a=l.log,(i=l.nextPlaylist)?(t="allowing switch "+(r&&r.id||"null")+" -> "+i.id,r?!(i.id===r.id||(l=Boolean(Yc(e,c).length),r.endList?(e=Jc(e,c),o<(c=s?L.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:L.MAX_BUFFER_LOW_WATER_LINE)?(a(t+" as duration < max low water line ("+o+" < "+c+")"),0):(c=i.attributes.BANDWIDTH)<(i=r.attributes.BANDWIDTH)&&(!s||e<n)?(r=t+" as next bandwidth < current bandwidth ("+c+" < "+i+")",s&&(r+=" and forwardBuffer < bufferHighWaterLine ("+e+" < "+n+")"),a(r),0):(!s||i<c)&&u<=e?(u=t+" as forwardBuffer >= bufferLowWaterLine ("+e+" >= "+u+")",s&&(u+=" and next bandwidth > current bandwidth ("+c+" > "+i+")"),a(u),0):(a("not "+t+" as no switching criteria met"),1)):l||"number"!=typeof r.partTargetDuration?(a(t+" as current playlist is live"),0):(a("not "+t+" as current playlist is live llhls, but currentTime isn't in buffered."),1))):(a(t+" as current playlist is not set"),!0)):(j.log.warn("We received no playlist to switch to. Please check your stream."),!1)},o.setupSegmentLoaderListeners_=function(){var t=this;function e(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)}this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist();t.shouldSwitchToMedia_(e)&&t.switchMedia_(e,"bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(e){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}),this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},o.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},o.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},o.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},o.fastQualityChange_=function(e){var t=this;(e=void 0===e?this.selectPlaylist():e)!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){j.browser.IE_VERSION||j.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},o.play=function(){var e;if(!this.setupFirstPlay())return this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load(),e=this.tech_.seekable(),this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0},o.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(j.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(i.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},o.handleSourceOpen_=function(){var e;this.tryToCreateSourceBuffers_(),this.tech_.autoplay()&&void 0!==(e=this.tech_.play())&&"function"==typeof e.then&&e.then(null,function(e){}),this.trigger("sourceopen")},o.handleSourceEnded_=function(){var e,t;this.inbandTextTracks_.metadataTrack_&&(e=this.inbandTextTracks_.metadataTrack_.cues)&&e.length&&(t=this.duration(),e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t)},o.handleDurationChange_=function(){this.tech_.trigger("durationchange")},o.onEndOfStream=function(){var e,t=this.mainSegmentLoader_.ended_;(this.mediaTypes_.AUDIO.activePlaylistLoader?((e=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!e.hasVideo||t)&&this.audioSegmentLoader_.ended_:t)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},o.stuckAtPlaylistEnd_=function(e){var t,i;return!!this.seekable().length&&null!==(t=this.syncController_.getExpiredTime(e,this.duration()))&&(i=oh.Playlist.playlistEnd(e,t),e=this.tech_.currentTime(),(t=this.tech_.buffered()).length?(t=t.end(t.length-1))-e<=.1&&i-t<=.1:i-e<=.1)},o.blacklistCurrentPlaylist=function(e,t){var i,n,o,s,a=(e=void 0===e?{}:e).playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,a)return a.playlistErrors_++,s=1===(o=(n=this.masterPlaylistLoader_.master.playlists).filter(du)).length&&o[0]===a,1===n.length&&t!==1/0?(j.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s)):(s&&(i=!1,n.forEach(function(e){var t;e!==a&&void 0!==(t=e.excludeUntil)&&t!==1/0&&(i=!0,delete e.excludeUntil)}),i)&&(j.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist")),o=a.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,a.excludeUntil=o,e.reason&&(a.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),(n=this.selectPlaylist())?(t=e.internal?this.logger_:j.log.warn,o=e.message?" "+e.message:"",t((e.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+o+" Switching to playlist "+n.id+"."),n.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),n.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),o=n.targetDuration/2*1e3||5e3,o="number"==typeof n.lastRequest&&Date.now()-n.lastRequest<=o,this.switchMedia_(n,"exclude",s||o)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error")));this.error=e,"open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network")},o.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},o.delegateLoaders_=function(i,e){var n=this,o=[],t="all"===i,s=(!t&&"main"!==i||o.push(this.masterPlaylistLoader_),[]);!t&&"audio"!==i||s.push("AUDIO"),!t&&"subtitle"!==i||(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(function(e){(e=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader)&&o.push(e)}),["main","audio","subtitle"].forEach(function(e){var t=n[e+"SegmentLoader_"];!t||i!==e&&"all"!==i||o.push(t)}),o.forEach(function(t){return e.forEach(function(e){"function"==typeof t[e]&&t[e]()})})},o.setCurrentTime=function(e){var t=Yc(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},o.duration=function(){var e;return this.masterPlaylistLoader_&&(e=this.masterPlaylistLoader_.media())?e.endList?this.mediaSource?this.mediaSource.duration:oh.Playlist.duration(e):1/0:0},o.seekable=function(){return this.seekable_},o.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var i=this.syncController_.getExpiredTime(t,this.duration());if(null!==i){var n,o,s=this.masterPlaylistLoader_.master,a=oh.Playlist.seekable(t,i,oh.Playlist.liveEdgeDelay(s,t));if(0!==a.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=oh.Playlist.seekable(t,i,oh.Playlist.liveEdgeDelay(s,t))).length)return}this.seekable_&&this.seekable_.length&&(n=this.seekable_.end(0),o=this.seekable_.start(0)),!e||e.start(0)>a.end(0)||a.start(0)>e.end(0)?this.seekable_=a:this.seekable_=j.createTimeRanges([[(e.start(0)>a.start(0)?e:a).start(0),(e.end(0)<a.end(0)?e:a).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===n&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+Kc(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},o.updateDuration=function(e){var t;if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"===this.mediaSource.readyState)return e?(t=this.seekable()).length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))):void 0:(e=this.tech_.buffered(),t=oh.Playlist.duration(this.masterPlaylistLoader_.media()),0<e.length&&(t=Math.max(t,e.end(e.length-1))),void(this.mediaSource.duration!==t&&this.sourceUpdater_.setDuration(t)));this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_)},o.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(e){var t,i=n.mediaTypes_[e].groups;for(t in i)i[t].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},o.master=function(){return this.masterPlaylistLoader_.master},o.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},o.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),e=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return t&&e},o.getCodecsOrExclude_=function(){var n=this,i={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},e=(i.video=i.main,nd(this.master(),this.media())),o={},t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(i.main.hasVideo&&(o.video=e.video||i.main.videoCodec||"avc1.4d400d"),i.main.isMuxed&&(o.video+=","+(e.audio||i.main.audioCodec||fr)),(i.main.hasAudio&&!i.main.isMuxed||i.audio.hasAudio||t)&&(o.audio=e.audio||i.main.audioCodec||i.audio.audioCodec||fr,i.audio.isFmp4=(i.main.hasAudio&&!i.main.isMuxed?i.main:i.audio).isFmp4),o.audio||o.video){var s,a,r={};if(["video","audio"].forEach(function(e){var t;o.hasOwnProperty(e)&&!(i[e].isFmp4?Za:Ja)(t=o[e])&&(t=i[e].isFmp4?"browser":"muxer",r[t]=r[t]||[],r[t].push(o[e]),"audio"===e&&(s=t))}),t&&s&&this.media().attributes.AUDIO&&(a=this.media().attributes.AUDIO,this.master().playlists.forEach(function(e){(e.attributes&&e.attributes.AUDIO)===a&&e!==n.media()&&(e.excludeUntil=1/0)}),this.logger_("excluding audio group "+a+" as "+s+' does not support codec(s): "'+o.audio+'"')),!Object.keys(r).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach(function(e){var t=(Qa(n.sourceUpdater_.codecs[e]||"")[0]||{}).type,i=(Qa(o[e]||"")[0]||{}).type;t&&i&&t.toLowerCase()!==i.toLowerCase()&&l.push('"'+n.sourceUpdater_.codecs[e]+'" -> "'+o[e]+'"')}),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return o}t=Object.keys(r).reduce(function(e,t){return e&&(e+=", "),e+(t+' does not support codec(s): "')+r[t].join(",")+'"'},"")+".",this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:t,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},o.tryToCreateSourceBuffers_=function(){var e;"open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()&&(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))},o.excludeUnsupportedVariants_=function(){var n=this,o=this.master().playlists,s=[];Object.keys(o).forEach(function(e){var t,i=o[e];-1===s.indexOf(i.id)&&(s.push(i.id),t=[],!(e=nd(n.master,i)).audio||Ja(e.audio)||Za(e.audio)||t.push("audio codec "+e.audio),!e.video||Ja(e.video)||Za(e.video)||t.push("video codec "+e.video),e.text&&"stpp.ttml.im1t"===e.text&&t.push("text codec "+e.text),t.length)&&(i.excludeUntil=1/0,n.logger_("excluding "+i.id+" for unsupported: "+t.join(", ")))})},o.excludeIncompatibleVariants_=function(e){var o=this,s=[],a=this.master().playlists,r=id(e=td(Qa(e))),l=e.video&&Qa(e.video)[0]||null,c=e.audio&&Qa(e.audio)[0]||null;Object.keys(a).forEach(function(e){var t,i,n=a[e];-1===s.indexOf(n.id)&&n.excludeUntil!==1/0&&(s.push(n.id),t=[],e=id(i=nd(o.masterPlaylistLoader_.master,n)),i.audio||i.video)&&(e!==r&&t.push('codec count "'+e+'" !== "'+r+'"'),o.sourceUpdater_.canChangeType()||(e=i.video&&Qa(i.video)[0]||null,i=i.audio&&Qa(i.audio)[0]||null,e&&l&&e.type.toLowerCase()!==l.type.toLowerCase()&&t.push('video codec "'+e.type+'" !== "'+l.type+'"'),i&&c&&i.type.toLowerCase()!==c.type.toLowerCase()&&t.push('audio codec "'+i.type+'" !== "'+c.type+'"')),t.length)&&(n.excludeUntil=1/0,o.logger_("blacklisting "+n.id+": "+t.join(" && ")))})},o.updateAdCues_=function(e){var t=0,i=this.seekable(),n=(i.length&&(t=i.start(0)),e),o=this.cueTagsTrack_,i=void 0===t?0:t;if(n.segments)for(var s=i,a=0;a<n.segments.length;a++){var r,l,c,u=n.segments[a];if(c=c||(e=>{for(var t=o.cues,i=0;i<t.length;i++){var n=t[i];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null})(s+u.duration/2)){if("cueIn"in u){c.endTime=s,c.adEndTime=s,s+=u.duration,c=null;continue}if(s<c.endTime){s+=u.duration;continue}c.endTime+=u.duration}else"cueOut"in u&&((c=new window.VTTCue(s,s+u.duration,u.cueOut)).adStartTime=s,c.adEndTime=s+parseFloat(u.cueOut),o.addCue(c)),"cueOutCont"in u&&(r=(l=u.cueOutCont.split("/").map(parseFloat))[0],l=l[1],(c=new window.VTTCue(s,s+u.duration,"")).adStartTime=s-r,c.adEndTime=c.adStartTime+l,o.addCue(c));s+=u.duration}},o.goalBufferLength=function(){var e=this.tech_.currentTime(),t=L.GOAL_BUFFER_LENGTH,i=L.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,L.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)},o.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=L.BUFFER_LOW_WATER_LINE,i=L.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,L.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(t,L.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.experimentalBufferBasedABR?o:n)},o.bufferHighWaterLine=function(){return L.BUFFER_HIGH_WATER_LINE},Ph),kh=["seeking","seeked","pause","playing","error"],xh=((S=Ih.prototype).monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)},S.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];0<this[e+"StalledDownloads_"]&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},S.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,i=t[e+"SegmentLoader_"],n=i.buffered_(),o=((e,t)=>{if(e!==t){if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0}return!1})(this[e+"Buffered_"],n);this[e+"Buffered_"]=n,o?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:Xc(n)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},S.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},S.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},S.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),void 0!==(e=this.beforeSeekableWindow_(t,i)?(s=t.start(0))+(s===t.end(0)?0:.1):e))return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+Kc(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var n=this.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),s=n.audioBuffer?n.audioBuffered():null,a=(t=n.videoBuffer?n.videoBuffered():null,(n=this.media()).partTargetDuration||2*(n.targetDuration-Sd)),r=[s,t],l=0;l<r.length;l++)if(r[l]&&Jc(r[l],i)<a)return!1;return 0!==(o=Qc(o,i)).length&&(e=o.start(0)+.1,this.logger_("Buffered region starts ("+o.start(0)+")  just beyond seek point ("+i+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},S.waiting_=function(){var e,t;this.techWaiting_()||(e=this.tech_.currentTime(),(t=Yc(t=this.tech_.buffered(),e)).length&&e+3<=t.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},S.techWaiting_=function(){var e,t=this.seekable(),i=this.tech_.currentTime();return!(!this.tech_.seeking()&&null===this.timer_)||(this.beforeSeekableWindow_(t,i)?(e=t.end(t.length-1),this.logger_("Fell out of live window at time "+i+". Seeking to live point (seekable end) "+e),this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0):(t=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,e=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:t.audioBuffered(),videoBuffered:t.videoBuffered(),currentTime:i})?(this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<(t=Qc(e,i)).length&&(e=t.start(0)-i,this.logger_("Stopped at "+i+", setting timer for "+e+", seeking to "+t.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*e,i),!0)))},S.afterSeekableWindow_=function(e,t,i,n){var o;return void 0===n&&(n=!1),!!e.length&&(o=e.end(e.length-1)+.1,(o=!i.endList&&n?e.end(e.length-1)+3*i.targetDuration:o)<t)},S.beforeSeekableWindow_=function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-this.liveRangeSafeTimeDelta)},S.videoUnderflow_=function(e){var t,i,n=e.videoBuffered,o=e.audioBuffered,s=e.currentTime;if(n)return n.length&&o.length?(i=Yc(n,s-3),e=Yc(n,s),(o=Yc(o,s)).length&&!e.length&&i.length&&(t={start:i.end(0),end:o.end(0)})):Qc(n,s).length||(t=this.gapFromVideoUnderflow_(n,s)),!!t&&(this.logger_("Encountered a gap in video from "+t.start+" to "+t.end+". Seeking to current time "+s),!0)},S.skipTheGap_=function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),t=Qc(t,i);this.cancelTimer_(),0!==t.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",t.start(0)),this.tech_.setCurrentTime(t.start(0)+Sd),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},S.gapFromVideoUnderflow_=function(e,t){for(var i=(e=>{if(e.length<2)return j.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var n=e.end(i-1),o=e.start(i);t.push([n,o])}return j.createTimeRanges(t)})(e),n=0;n<i.length;n++){var o=i.start(n),s=i.end(n);if(t-o<4&&2<t-o)return{start:o,end:s}}return null},Ih),Th={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},N={PlaylistLoader:Td,Playlist:Cd,utils:hi,STANDARD_PLAYLIST_SELECTOR:$a,INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(Cd.isEnabled);return ad(e,rd),e.filter(function(e){return!!nd(t.playlists.master,e).video})[0]||null},lastBandwidthSelector:$a,movingAverageBandwidthSelector:function(t){var i=-1,n=-1;if(t<0||1<t)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,n=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==n&&(i=t*this.systemBandwidth+(1-t)*i,n=this.systemBandwidth),ld(this.playlists.master,i,parseInt(sd(this.tech_.el(),"width"),10)*e,parseInt(sd(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:rd,comparePlaylistResolution:function(e,t){var i,n;return(i=(i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:i)||window.Number.MAX_VALUE)===(n=(n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:n)||window.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:Pu()};function Ih(e){var i=this;function t(){return i.monitorCurrentTime_()}function n(){return i.monitorCurrentTime_()}function o(){return i.techWaiting_()}function s(){return i.cancelTimer_()}this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=qc("PlaybackWatcher"),this.logger_("initialize");var a=this.masterPlaylistController_,r=["main","subtitle","audio"],l={};function c(t){["main","audio"].forEach(function(e){a[e+"SegmentLoader_"][t]("appended",i.seekingAppendCheck_)})}r.forEach(function(e){l[e]={reset:function(){return i.resetSegmentDownloads_(e)},updateend:function(){return i.checkSegmentDownloads_(e)}},a[e+"SegmentLoader_"].on("appendsdone",l[e].updateend),a[e+"SegmentLoader_"].on("playlistupdate",l[e].reset),i.tech_.on(["seeked","seeking"],l[e].reset)}),this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",o),this.tech_.on(kh,s),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",o),i.tech_.off(kh,s),i.tech_.off("canplay",n),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),r.forEach(function(e){a[e+"SegmentLoader_"].off("appendsdone",l[e].updateend),a[e+"SegmentLoader_"].off("playlistupdate",l[e].reset),i.tech_.off(["seeked","seeking"],l[e].reset)}),i.checkCurrentTimeTimeout_&&window.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}function Ph(e){var t,i,n=sh.call(this)||this,o=e.src,s=e.handleManifestRedirects,a=e.withCredentials,r=e.tech,l=e.bandwidth,c=e.useCueTags,u=e.blacklistDuration,d=e.enableLowInitialPlaylist,h=e.sourceType,p=e.cacheEncryptionKeys,f=e.experimentalLeastPixelDiffSelector,m=e.captionServices;if(o)return null==(i=e.maxPlaylistRetries)&&(i=1/0),oh=e.externVhs,n.experimentalBufferBasedABR=Boolean(e.experimentalBufferBasedABR),n.experimentalLeastPixelDiffSelector=Boolean(f),n.withCredentials=a,n.tech_=r,n.vhs_=r.vhs,n.sourceType_=h,n.useCueTags_=c,n.blacklistDuration=u,n.maxPlaylistRetries=i,n.enableLowInitialPlaylist=d,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:s,maxPlaylistRetries:i,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(t={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:$d,activeTrack:$d,getActiveGroup:$d,onGroupChanged:$d,onTrackChanged:$d,lastTrack_:null,logger_:qc("MediaGroups["+e+"]")}}),t),n.mediaSource=new window.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(g(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(g(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(g(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=j.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new mh(e),n.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new yh,n.sourceUpdater_=new dh(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new gh,p={vhs:n.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:l,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:e.experimentalExactManifestTimings},n.masterPlaylistLoader_=new("dash"===n.sourceType_?Dd:Td)(o,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Rd(j.mergeOptions(p,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new Rd(j.mergeOptions(p,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new ph(j.mergeOptions(p,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),e),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),_h.forEach(function(e){n[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(g(n),e)}),n.logger_=qc("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1,e="none"===n.tech_.preload()?"play":"loadstart",n.tech_.one(e,function(){var e=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n;throw new Error("A non-empty playlist URL or JSON manifest string is required")}function Ah(){var e=ah.call(this)||this;return e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}function Dh(e){var t=rh.call(this)||this;return t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=qc("SyncController"),t}function Eh(e,t){return(t=lh.call(this,e,t=void 0===t?{}:t)||this).mediaSource_=null,t.subtitlesTrack_=null,t.loaderType_="subtitle",t.featuresNativeTextTracks_=e.featuresNativeTextTracks,t.shouldSaveSegmentTimingInfo_=!1,t}function Oh(e){var t=ch.call(this)||this;return t.mediaSource=e,t.sourceopenListener_=function(){return Hd("mediaSource",g(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=qc("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Qd("video",g(t)),t.onAudioUpdateEnd_=Qd("audio",g(t)),t.onVideoError_=function(e){t.videoError_=e},t.onAudioError_=function(e){t.audioError_=e},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}function Lh(e,t){for(var i=t.media(),n=-1,o=0;o<e.length;o++)if(e[o].id===i.id){n=o;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})}Object.keys(L).forEach(function(t){Object.defineProperty(N,t,{get:function(){return j.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),L[t]},set:function(e){j.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?j.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):L[t]=e}})});var Nh,Mh="videojs-vhs";function Bh(e){var t=e.player;return!(!(e=((e,t,i)=>{if(!e)return e;var n={};t&&t.attributes&&t.attributes.CODECS&&(n=td(Qa(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var o,s=Xa(n.video),a=Xa(n.audio),r={};for(o in e)r[o]={},a&&(r[o].audioContentType=a),s&&(r[o].videoContentType=s),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(r[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(r[o].url=e[o]);return j.mergeOptions(e,r)})(e.sourceKeySystems,e.media,e.audioMedia))||(t.currentSource().keySystems=e)&&!t.eme&&(j.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))}function Fh(){if(!window.localStorage)return null;var e=window.localStorage.getItem(Mh);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}N.canPlaySource=function(){return j.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},N.supportsNativeHls=!(!document||!document.createElement||(Nh=document.createElement("video"),!j.getTech("Html5").isSupported()))&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(Nh.canPlayType(e))}),N.supportsNativeDash=!!(document&&document.createElement&&j.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),N.supportsTypeNatively=function(e){return"hls"===e?N.supportsNativeHls:"dash"===e&&N.supportsNativeDash},N.isSupported=function(){return j.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};Rh=j.getComponent("Component"),y(Vh,Rh),(e=Vh.prototype).setOptions_=function(){var e,t=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=Fh())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e)&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"})),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=L.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===L.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},e.src=function(e,t){var n=this;e&&(this.setOptions_(),this.options_.src=0===(e=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e,this.options_.tech=this.tech_,this.options_.externVhs=N,this.options_.sourceType=er(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&j.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Ch(this.options_),t=j.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new xh(t),this.masterPlaylistController_.on("error",function(){var e=j.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=Wh(t)||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}),t=this.options_.experimentalBufferBasedABR?N.movingAverageBandwidthSelector(.55):N.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||t).bind(this),this.masterPlaylistController_.selectInitialPlaylist=N.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return this.options_.useNetworkInformationApi&&t?1e7<=(t=1e3*t.downlink*1e3)&&1e7<=e?Math.max(e,t):t:e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=0<this.throughput?1/this.throughput:0;return Math.floor(1/(e+t))},set:function(){j.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Xc(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Xc(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){if(n.options_.useBandwidthFromLocalStorage){var e={bandwidth:n.bandwidth,throughput:Math.round(n.throughput)};if(window.localStorage){var t=(t=Fh())?j.mergeOptions(t,e):e;try{window.localStorage.setItem(Mh,JSON.stringify(t))}catch(e){}}}}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var i;(i=n).representations=function(){var e=i.masterPlaylistController_.master();return(e=gu(e)?i.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists)?e.filter(function(e){return!uu(e)}).map(function(e,t){return new eh(i,e,e.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){n.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el())&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))},e.createKeySessions_=function(){var t=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),(e=>{var n=e.player,t=e.sourceKeySystems,i=e.audioMedia;if(e=e.mainPlaylists,!n.eme.initializeMediaKeys)return Promise.resolve();e=i?e.concat([i]):e,o=Object.keys(t),e=e.reduce(function(e,n){var t;return n.contentProtection&&(t=o.reduce(function(e,t){var i=n.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e},{}),Object.keys(t).length)&&e.push(t),e},[]);var o,s=[],a=[];return e.forEach(function(e){a.push(new Promise(function(e,t){n.tech_.one("keysessioncreated",e)})),s.push(new Promise(function(t,i){n.eme.initializeMediaKeys({keySystems:e},function(e){e?i(e):t()})}))}),Promise.race([Promise.all(s),Promise.race(a)])})({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(e){t.logger_("error while creating EME key session",e),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},e.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},e.setupEme_=function(){var i=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,e=Bh({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",function(e){var t;"output-restricted"===e.status&&(e=i.masterPlaylistController_.master())&&e.playlists&&(t=[],e.playlists.forEach(function(e){e&&e.attributes&&e.attributes.RESOLUTION&&720<=e.attributes.RESOLUTION.height&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,t.push(e))}),t.length)&&((e=j.log).warn.apply(e,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(t)),i.masterPlaylistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==j.browser.IE_VERSION&&e?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},e.setupQualityLevels_=function(){var i=this,e=j.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t=i.qualityLevels_;(e=i).representations().forEach(function(e){t.addQualityLevel(e)}),Lh(t,e.playlists)}),this.playlists.on("mediachange",function(){Lh(i.qualityLevels_,i.playlists)}))},Vh.version=function(){return{"@videojs/http-streaming":"2.14.3","mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},e.version=function(){return this.constructor.version()},e.canChangeType=function(){return dh.canChangeType()},e.play=function(){this.masterPlaylistController_.play()},e.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},e.duration=function(){return this.masterPlaylistController_.duration()},e.seekable=function(){return this.masterPlaylistController_.seekable()},e.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),Rh.prototype.dispose.call(this)},e.convertToProgramTime=function(e,t){return Bu({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},e.seekToProgramTime=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=2),Fu({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})};var Rh,jh=Vh,Uh={name:"videojs-http-streaming",VERSION:"2.14.3",canHandleSource:function(e,t){return t=j.mergeOptions(j.options,t=void 0===t?{}:t),Uh.canPlayType(e.type,t)},handleSource:function(e,t,i){return i=j.mergeOptions(j.options,i=void 0===i?{}:i),t.vhs=new jh(e,t,i),j.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return j.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Pu(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){var i=j.mergeOptions(j.options,t=void 0===t?{}:t);return t=void 0===(t=(t=void 0===(t=i.vhs)?{}:t).overrideNative)?!j.browser.IS_ANY_SAFARI:t,i=void 0!==(i=(void 0===(i=i.hls)?{}:i).overrideNative)&&i,(e=er(e))&&(!N.supportsTypeNatively(e)||i||t)?"maybe":""}};function Vh(e,t,i){var n=Rh.call(this,t,j.mergeOptions(i.hls,i.vhs))||this;if(i.hls&&Object.keys(i.hls).length&&j.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof i.initialBandwidth&&(n.options_.bandwidth=i.initialBandwidth),n.logger_=qc("VhsHandler"),t.options_&&t.options_.playerId&&((i=j(t.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return j.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),g(n)},configurable:!0}),i.hasOwnProperty("vhs")||Object.defineProperty(i,"vhs",{get:function(){return j.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),g(n)},configurable:!0}),i.hasOwnProperty("dash")||Object.defineProperty(i,"dash",{get:function(){return j.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),g(n)},configurable:!0}),n.player_=i),n.tech_=t,n.source_=e,n.stats={},n.ignoreNextSeekingEvent_=!1,n.setOptions_(),n.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t.contains(n.tech_.el())?n.masterPlaylistController_.fastQualityChange_():n.masterPlaylistController_.checkABR_()}),n.on(n.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),n.on(n.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}return Za("avc1.4d400d,mp4a.40.2")&&j.getTech("Html5").registerSourceHandler(Uh,0),j.VhsHandler=jh,Object.defineProperty(j,"HlsHandler",{get:function(){return j.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),jh},configurable:!0}),j.VhsSourceHandler=Uh,Object.defineProperty(j,"HlsSourceHandler",{get:function(){return j.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Uh},configurable:!0}),j.Vhs=N,Object.defineProperty(j,"Hls",{get:function(){return j.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),N},configurable:!0}),j.use||(j.registerComponent("Hls",N),j.registerComponent("Vhs",N)),j.options.vhs=j.options.vhs||{},j.options.hls=j.options.hls||{},j.getPlugin&&j.getPlugin("reloadSourceOnError")||(j.registerPlugin||j.plugin)("reloadSourceOnError",function(e){!function t(i,e){var n=0,o=0,s=j.mergeOptions(Th,e);function a(){o&&i.currentTime(o)}function r(e){null!=e&&(o=i.duration()!==1/0&&i.currentTime()||0,i.one("loadedmetadata",a),i.src(e),i.trigger({type:"usage",name:"vhs-error-reload"}),i.trigger({type:"usage",name:"hls-error-reload"}),i.play())}function l(){return Date.now()-n<1e3*s.errorInterval?(i.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void i.trigger({type:"usage",name:"hls-error-reload-canceled"})):s.getSource&&"function"==typeof s.getSource?(n=Date.now(),s.getSource.call(i,r)):void j.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}function c(){i.off("loadedmetadata",a),i.off("error",l),i.off("dispose",c)}i.ready(function(){i.trigger({type:"usage",name:"vhs-error-reload-initialized"}),i.trigger({type:"usage",name:"hls-error-reload-initialized"})}),i.on("error",l),i.on("dispose",c),i.reloadSourceOnError=function(e){c(),t(i,e)}}(this,e)}),j},"object"==Wh(i)&&void 0!==t?t.exports=e():void 0!==(e="function"==typeof(e=e)?e.call(i,n,i,t):e)&&(t.exports=e)}.call(this,n("c8ba"),n("b639").Buffer)},b070:function(e,t,i){},b856:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAAA9lBMVEVHcEzcs4nBgjrDejXBeC/AeS/dt4+/djC/ejDfuZPBeC/aroLbsofXqnngu5bBeC/dtY3AeC/BeC/Adi/ZsITPn2var4LBeC/BeDDBeDDYq3vWpnvaq3vBeDDBeC/YrH3WqnrBdy/RZkLBeC/BeTC/eTDBeC/bs4vQq33ZqnzZrH/ZrYLWqHjbsIXZrYHZrX3dtYvbsYbduJHBeC/CdzDBeTDdt43BeDDfsXrXrYHdtY/BeDD////hvZnbWkrv3cvNajzbs4nbfGLRm2TfvZfVYkLHcjbbr4XYblHXp3fYmG3TfFTXjWTaY03TnmrXhmDThFbdt49EOJtMAAAAO3RSTlMAxQdtkCHlXjDyyY+6NPp52D67K6cPn+rg01InXfKxdUhOZEOGFKfOHWWGmECufGzSsutXOJ3d+RaD33vV9LkAAAx5SURBVHgB7NXrTltHFMXxGmFT1xcIGNJgB7siirljjEop/YS6lKrv/0K90EsSMD5nZu9ZZ0vr/wh7/TTzTX7fbn04+u77X9RTNwYnDdre9u5P7PM3rMcRexRO7e137NM3sEecs4ch9OYj++7N7BHosbcp3fER++pN7U8NuGLPU7S23oWV/aUB1+yFCrbNvniT+1sDJuyNStXeZR+80T1pGM7YM5Xp9j373s3uSQO6A/ZQJdIvsaZ/NKAzZk/l3yb72I3vXw2422eP5d2P7Fs3v/80YMFeSxjo/a8BLfZerumbqNBnGtBnL+bYNvvQIfpcAy7Zm7l1y75zjL7QgAP2ak6137PvHKMvNaDH3s2nXfaZg/SVBpyxh/Nom33lKH2tAVP2dPa12UcO0zMNOGWPZ95H9pHD9FzD8JC9nnHH7BvH6bkGdC/Y+9m2y75xnF7QgOWAPaBlehqq95IG3J2wJzTsiH3iQL2oATsb7A3N2mNfOFIva8CcPaJZH9gXjtQKDWixV7TqLfvCkVqlAX32jDYdsw8cqpUaMGIPadIm+8ChWq0BB+wlLXrHPnCoXtGAHnvK/Nrs+8bqNQ24Yo+Z3Rb7vrF6VQOu2Wvmtsm+b6xe14AJe87Mdtn3jdUaDcMZe8+83rLvG6s1GtAdsAfNaZ993mCt04DOmD1pRnvs8wZrrQY83LM3Te8N+7zBWq8BC/am6f3APm+wKmhAiz1qcrfs8warigb02aumtsU+b7AqacANe1ZpKFI1DRixd5WGElXUgHP2sNJQoKoacMZeVhr8q6wBU/a00uBedQ04ZW8rDd7V0DA8ZI8rDc7V0IDujL2uNPhWRwOWA/a80uBaLQ3onLD3lQbP6mnAzj57YGlwrKYGzNkDS4NjdTWgxV5YGvyqrQF99sTS4FZ9DbhkbywNXiVowAF7ZGlwKkUDeuyVpcGnJA34mT2zNLiUpgFT9s7S4FGiBkzYQ0uDQ6kahofspaXBvlQN6F6wp5YG85I1YDlmby0N1qVrwMM9e2xpMC5DAxYb7LWlwbYcDZiz15YG27I0oM+eWxpMy9OAG/be0mBZpgaM2INLg2G5GnDOXlwa7MrWgB57cmkwK18DrtibS4NVBhpwzR5dGoyy0IAJe3VpsMlEw3DGnl0aTDLRgO6Avbs0WGSjAZ0xe3hpMMhIA+722ctLQ35WGrBgLy8N+ZlpQIs9vTRkZ6cBffb20pCboQZcsseXhswsNeCAvb405GWqAT32/NKQla0GnLH3l4acjDVgygYgDRlZa8ApW4A0pGeuYXjIJiANyZlrQPeCbUAaUrPXgOWAjUAaEnPQgLsTtgJpSMtDA3Y22AykISkXDZizGUhDUj4a0GI7kIaUnDSgz4YgDQl5acCILUEa6uemAQdsCtJQOz8N6LEtSEPdHDXgio1BGmrmqQHX0hArVw2YSEOofDUMZ9IQKV8N6A6kIVDOGtAZS0OcvDXg4V4awuSuAQtpCJO/BrSkIUoFNKAvDUEqoQE30hCjIhowkoYQldGAc2mIUCENOJOGAJXSgKk0NL9iGnAqDY2vnIbhoTQ0vXIa0J1JQ8MrqAHLgTQ0u5Ia0DmRhkZXVAN29qWhyf1WVAPm0tDkCmtASxqa26ffC2tAXxoa26dfS2vApTSQ+4O9elmJs4miMIz+8BNplQxMD1QwZGIOJjEOJAfYVCdV1Uft9v5vJp+JZEEg02+vwfuwL+Flr39e2YxeQ51Sg6m+G7+GOqEGT/1bQg31CzVY6iWjhnpBDZbaMiWHc2pw1H6k1HB8Sg2G2i6lhnpwRQ1+yiKnhnpzRg12epsl5fD1MzXYiVVSDfV6nxrctKypqPWSGty09pCWwyE1mOl5U1HrJ2owkzgVtZ5Qg5cey8Qc3lGDlR67xBrqhBqstJhn5vCBGpz02GbWUD9Sg5Pk51DPqcFIj11qDccvqcFI9nM4OKIGHz0WqTXU/8+owUeLVW4Oty+owUaP5K2o19Tgo8c6t4a6Rw0+SmySczikBh8tVsk5vKcGGz1imZzDlBpslGiz5Bwm1GCjxF12Dm+pwUaJxTw5hwtqsGGQwxtqsFGiLXNrOD6lBhslYpObw8EVNdgYcljn5nBzRA02hhzafWoOt6+pwUaP4T3MM3N4vk8NPob3EJuHxBwuqcHIYw6xneXlsEcNRh7XYtiL+7QcDqnBya/3EG27TMrhhBqclN89DEGsUiZjSg1WnnIY3K23q9GfxIQavKiHpyoWi+/j+Y8azPzdw5heUYOdvB6owVFWD9TgqTRqgPSEB0ENxsrYQVCDt3GDoAZ/ZTTPqAF/UAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAGNTwk106RrUUiKIoOrAvVKDzH1N3tn8gwnstWtWszY1vcpabJhpUNKhoUNGgokFFg4oGFQ0qGlQ0qGhQ0aCiQUWDigYVDSoaVDSoaFDRoJpKwz62DxqXv7bbOo63R3qsmTQcn630lIa/Ht5e6alm0rDNqmHb357poSbScMyrYbw900NNpGHQ8HYTabh3ols1bG/P9FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FALa9jGVftVg4bTVtbw/X40nEcDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDUUDDbWyhnHVfhUN5y2sYdz6jYYfGmj4HQ00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA00FA001MIa/mG/QcNpNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQNNBQK2s4vu5eW/9PC2sYt36j4YcGGn5HAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1FAw1Fw7Ia/rBXx6htRFEYhYXBENKEkMYuYjDYK0g6F1NY+19TytNYIqAbvbHyfcwGfu5h3j/41KCGqEEN+cw1vJ+znaOGj33iGi6436aGD6lBDVGDGqIGNUQNaoga1BA1qCFqUEPUoIaoQQ1RgxqiBjVEDWqIGtQQNaghalBD1KCGqEENUYMaogY1RA1qyM3WsJ0z29btuNkaZq0+05WoQQ1RgxqiBjVEDWqIGtQQNaghalBD1KCGqEENUYMaogY1RA1qiBrUEDWoIWpQQ9SghqhBDVGDGqIGNUQNaoga1BA1qCFqUEPUoIaoQQ1RgxqiBjVEDWqIGtQQNaghalBD1KCGqEENUYMaogY1RA1qyI5q2Faf/LRt9ZmuRA1/47j6TFeyoxreV9/8tNVXupYd1fB2XH30U/6XX8Ouang77rKH7X31ka5mVzWwmBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBrIQA2/Vm9gyo/La3hevYEp95fX8Hv1BqbcXV7D/eoNDPl5eQyHu9UjGPI4UMPhYfUKZjxN1PC0egUzXiZqeFm9ghnPEzU8r17BjNeJGl5Xr2DE40QMh8PX1TuY8DJTw7fVO5jwfaaGL6t3MOBhJobdPxV/2qu71AaBKIrjh4ySMi9hlKI+KISoK0jI/ndWQ95KP4xzZ06l54cbOPJnrr41jA4F4NhLJF5tVcP7nT1FYg1WMQAFe4vEutjVULK3SCTDp0GPw+4Fyxqmnj1HYtwsYwAce49E6EvbGlCxF8l2zjgGXNmLZLPZOgbdiv1qJ/saMLNXyTYhQQyAZ8+SLY5JYkDZsIfJ605pYgDelMPuJItBOexPwhiAumPPk1e4lDEAU8UeKKv157QxLAr2RlmpqpPHABx79kxZY8zQwqKc2UPlVz7kiWFx7thj5UeNy9bCg2vZg+Vb99MhawyLo2ePli91LnsLD9eiYS+XT5rbhZHCUxj1QvwdfiSm8HQIrhh8y/4T/1rrh8KF+APxAfrrIkbKnrrBAAAAAElFTkSuQmCC"},ba9f:function(e,t,i){i("7ed8")},be3b:function(e,t,i){var n=i("3835"),o=(i("99af"),i("4de4"),i("c975"),i("baa5"),i("14d9"),i("e9f5"),i("910d"),i("e9c4"),i("d3b7"),i("ac1f"),i("00b4"),i("25f0"),i("8a79"),i("5319"),i("2ca0"),i("bc3a")),s=i.n(o),a=i("2b0e"),r=i("4360"),o=i("d930"),l=i("dc95"),c=i("a18c"),u=i("d3a4"),d=i("19cb"),h=i.n(d),d=i("24f8"),p=i.n(d),d=i("3452"),f=i.n(d),m=I();var g,i=(window.location.protocol.startsWith("https")?"wss":"ws")+"://"+window.location.host;function y(e,t){var i=new p.a.Agent({rejectUnauthorized:!1});g=s.a.create({httpsAgent:i,baseURL:e,timeout:t})}y(m,3e4);function v(e){return e.response&&e.response.data,l.a.Spin.hide(),Promise.reject(e)}function b(){var e;if(a.default&&a.default.prototype)return e=a.default.prototype.getToken(),r.a.state.token=e}var d="@)x#$#1Sx(*".replace("@","a").replace(")","1").replace("*",")"),w="x2@s)S(lkd#$90s".replace("@","-").replace(")","-").replace("(","-"),S="AX@!%(1sx".replace("@","k").replace("!","s").replace("(","^"),_=o.a.generateRandomString(13),C=(new Date).getTime()+"",k=o.a.interleaveStrings(_,C),k=f.a.AES.encrypt(k,d).toString(),d=o.a.extractNumbers(_),x=w+o.a.mergeTimestamp(d,C)+S;function T(e){var t,i;return!e||e.length<1?"":(t=/[`#!@#$%^&*()+=[\]{};':"\\|,<>/?~]/,i=e.substr(e.lastIndexOf(".")+1),t.test(e)&&(e=h.a.encode(e),i)&&!t.test(i)&&(e+="."+i),e)}function I(){var e=window.location.pathname.split("/").filter(Boolean),e=Object(n.a)(e,1)[0];return"".concat(window.location.protocol,"//").concat(window.location.host).concat(e?"/"+e:"")}function P(e){return I()+"/web/viewer.html?file="+encodeURIComponent(e)}g.interceptors.request.use(function(e){var t=b();return e.data&&e.data.hideLoading||l.a.Spin.show(),t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e&&e.data&&(t=JSON.stringify(e.data),e.data={enc:f.a.AES.encrypt(t,x).toString(),iv:k}),e.data&&e.data.hideLoading&&delete e.data.hideLoading,e},v),g.interceptors.response.use(function(e){(t=e)&&t.config&&t.config.url&&(-1!=t.config.url.indexOf("commonApi/getBgTask")||-1!=t.config.url.indexOf("commonApi/getServerState")||-1!=t.config.url.indexOf("commonApi/getSystemState"))||l.a.Spin.hide();var t=e.data;return 0!==t.code&&200!==t.code?(1===t.code?t.message&&("dialog"==t.alertType?a.default.prototype.showVsAlertDialog(null,t.message):a.default.prototype.showVsNotification(t.message)):101===t.code?-1==e.config.url.indexOf("commonApi/getBgTask")&&-1==e.config.url.indexOf("commonApi/getServerState")&&-1==e.config.url.indexOf("commonApi/getSystemState")&&(a.default.prototype.runInElectron?(localStorage.removeItem("token"),localStorage.removeItem("currentUser"),a.default.prototype.api.post("/api/commonApi/refreshHomePage",function(){})):a.default.prototype.showVsAlertDialog(null,u.a.t("common.tokenExpire"),function(){localStorage.removeItem("token"),localStorage.removeItem("currentUser"),r.a.state.token="",c.a.push({path:"/login"})})):102==t.code?a.default.prototype.showVsNotification(u.a.t("common.noPermission")):103==t.code?a.default.prototype.showVsNotification(u.a.t("photo.stillIndexTryLater")):104==t.code?b()&&a.default.prototype.showVsAlertDialog(null,u.a.t("private.tokenExpired")):188==t.code&&a.default.prototype.showVsAlertDialog(null,u.a.t("nascab.needUpgrade")),Promise.reject(t)):t},v),t.a={getBaseByLocation:I,getTmdbImgUrlByUrl:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e=encodeURIComponent(e);(i={}).url=e,i.token=b(),t&&(i.noCache=1);var e=JSON.stringify(i),t=encodeURIComponent(f.a.AES.encrypt(e,x).toString()),i=encodeURIComponent(k);return m+"/api/movieInfoApi/getImdbImg?enc=".concat(t,"&iv=").concat(i)},getBookReadComicUrl:function(e){var t,i,n,o,s=b();return t="token",s=s,o="",(i=1)&&((n=new Date).setTime(n.getTime()+24*i*60*60*1e3),o="; expires="+n.toUTCString()),document.cookie=t+"="+(s||"")+o+"; path=/",I()+"/book/reader/readerComic.html?zPath=".concat(encodeURIComponent(e))},getBookReadUrl:function(e){var t=b();return localStorage.tokenPlain=t,I()+"/book/reader/reader.html?url=".concat(encodeURIComponent(e))},getRawFileZipUrl:function(e,t){e=encodeURIComponent(e),e=h.a.encode(e),t?t.endsWith(".zip")||(t+=".zip"):t="temp.zip";(i={}).token=b();var i=JSON.stringify(i),i=encodeURIComponent(f.a.AES.encrypt(i,x).toString()),n=encodeURIComponent(k);return m+"/api/file/zipFile/".concat(t,"?path=").concat(e,"&enc=").concat(i,"&iv=").concat(n)},createRequestInstance:y,getPrivateSpaceFileUrl:function(e,t,i,n,o){i=T(i);var s={},o=(s.indexId=o,s.spaceId=e,s.spaceToken=t,s.type=n,s.token=b(),JSON.stringify(s)),e=encodeURIComponent(f.a.AES.encrypt(o,x).toString()),t=encodeURIComponent(k);return m+"/api/privateSpaceApi/getDecodeFile/".concat(i,"?enc=").concat(e,"&iv=").concat(t)},getImgFullPath:function(e,t,i,n){n=n||"photo",i=T(i);(o={}).indexId=e,o.token=b(),o.serverType=n;var e=JSON.stringify(o),n=encodeURIComponent(f.a.AES.encrypt(e,x).toString()),o=encodeURIComponent(k);return t?i?m+"/api/fileApi/tinyImg/".concat(i,"?enc=").concat(n,"&iv=").concat(o):m+"/api/fileApi/tinyImg?enc=".concat(n,"&iv=").concat(o):i?m+"/api/fileApi/rawFile/".concat(i,"?enc=").concat(n,"&iv=").concat(o):m+"/api/fileApi/rawFile?enc=".concat(n,"&iv=").concat(o)},baseUrl:m,requests:g,mapUrl:function(){return m+"/api/mapApi/tile?zoom={z}&x={x}&y={y}&token="+r.a.state.token},uploadUrl:function(){return m+"/api/uploadApi/regularUpload?token="+r.a.state.token},privateSpaceUploadUrl:function(){return m+"/api/privateSpaceApi/regularUpload?token="+r.a.state.token},getRawFileUrl:function(e,t,i,n){i=i||"photo";var o=e.endsWith(".txt"),s=(e=encodeURIComponent(e),e=h.a.encode(e),{}),i=(s.serverType=i,n||(s.token=b()),o&&(s.code="utf8"),JSON.stringify(s)),n=encodeURIComponent(f.a.AES.encrypt(i,x).toString()),o=encodeURIComponent(k);return t=t&&T(t),m+"/api/file/rawFile/".concat(t,"?path=").concat(e,"&enc=").concat(n,"&iv=").concat(o)},getCustomFileUrl:function(e){return e=encodeURIComponent(e),e=h.a.encode(e),m+"/api/file/customImageFile?path=".concat(e)},encodePath:function(e){return e=encodeURIComponent(e),e=h.a.encode(e)},getFaceImageUrl:function(e){(t={}).faceId=e,t.token=b();var t=JSON.stringify(t),t=encodeURIComponent(f.a.AES.encrypt(t,x).toString()),i=encodeURIComponent(k),e="/api/photoApi/getFaceImg/".concat(e,".jpg?enc=").concat(t,"&iv=").concat(i);return m+e},getTinyUrlByFilePath:function(e,t,i){i=i?T(i):"tiny.webp",e=encodeURIComponent(e),e=h.a.encode(e);(n={}).fullPath=e,t||(n.token=b());var e=JSON.stringify(n),t=encodeURIComponent(f.a.AES.encrypt(e,x).toString()),n=encodeURIComponent(k);return m+"/api/fileApi/tinyImgByPath/".concat(i,"?enc=").concat(t,"&iv=").concat(n)},webSocketUrl:i,getViewerUrl:function(e,t){return"pdf"==e?P(t):(t=encodeURIComponent(t),I()+"/viewer/".concat(e,".html?fileUrl=")+t)},getImageCompressFileUrl:function(e,t,i,n){e&&(e=encodeURIComponent(e),e=h.a.encode(e));(o={}).token=b();var o=JSON.stringify(o),o=encodeURIComponent(f.a.AES.encrypt(o,x).toString()),s=encodeURIComponent(k),n=m+"/api/mediaToolsApi/getToolsFile/".concat(n?encodeURIComponent(n):"compressImg","?enc=").concat(o,"&iv=").concat(s);return e&&(n+="&path=".concat(e)),i&&(n+="&getAll=1"),t&&(n+="&minTimeStamp="+t),n},getPdfUrl:P}},be62:function(e,t,i){var r,l,n,o,s,a,c,u,d,h;function p(){}function f(e,t){for(var i=[],n=0,o=e.length;n<o;n++)i.push(e[n].substr(0,t));return i}function m(n){return function(e,t,i){i=i[n].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());~i&&(e.month=i)}}function g(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}i("d9e2"),i("c975"),i("14d9"),i("fb6a"),i("d3b7"),i("e25e"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("841c"),r={},l=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,n=/\d\d?/,o=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=f(a=["January","February","March","April","May","June","July","August","September","October","November","December"],3),u=f(s,3),r.i18n={dayNamesShort:u,dayNames:s,monthNamesShort:c,monthNames:a,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][3<e%10?0:(e-e%10!=10)*e%10]}},d={D:function(e){return e.getDay()},DD:function(e){return g(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return g(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return g(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return String(e.getFullYear()).substr(2)},yyyy:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return g(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return g(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return g(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return g(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return g(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return g(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return(e.getHours()<12?t.amPm[0]:t.amPm[1]).toUpperCase()},ZZ:function(e){e=e.getTimezoneOffset();return(0<e?"-":"+")+g(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},h={d:[n,function(e,t){e.day=t}],M:[n,function(e,t){e.month=t-1}],yy:[n,function(e,t){var i=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(68<t?i-1:i)+t}],h:[n,function(e,t){e.hour=t}],m:[n,function(e,t){e.minute=t}],s:[n,function(e,t){e.second=t}],yyyy:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],D:[n,p],ddd:[o,p],MMM:[o,m("monthNamesShort")],MMMM:[o,m("monthNames")],a:[o,function(e,t,i){t=t.toLowerCase();t===i.amPm[0]?e.isPm=!1:t===i.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var i,t=(t+"").match(/([\+\-]|\d\d)/gi);t&&(i=60*t[1]+parseInt(t[2],10),e.timezoneOffset="+"===t[0]?i:-i)}]},h.dddd=h.ddd,h.Do=h.dd=h.d,h.mm=h.m,h.hh=h.H=h.HH=h.h,h.MM=h.M,h.ss=h.s,h.A=h.a,r.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},r.format=function(t,e,i){var n=i||r.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");return(e=r.masks[e]||e||r.masks.default).replace(l,function(e){return e in d?d[e](t,n):e.slice(1,e.length-1)})},r.parse=function(n,e,t){var o,s,a=t||r.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");return e=r.masks[e]||e,!(1e3<n.length||(o=!0,s={},e.replace(l,function(e){var t,i;return h[e]&&(t=h[e],~(i=n.search(t[0]))?n.replace(t[0],function(e){return t[1](s,e,a),n=n.substr(i+e.length),e}):o=!1),h[e]?"":e.slice(1,e.length-1)}),!o))&&(t=new Date,!0===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12==+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,new Date(Date.UTC(s.year||t.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):new Date(s.year||t.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))},e.exports?e.exports=r:void 0!==(u=function(){return r}.call(t,i,t,e))&&(e.exports=u)},bf44:function(e,t,i){e.exports=i.p+"img/1.04453334.jpg"},c0ed:function(e,t,i){e.exports=i.p+"img/icon-folder-excel.139f931e.png"},c1d1:function(e,t,n){n.r(t),n("c975");var a=n("b85c"),i=(n("14d9"),n("e9c4"),n("e25e"),n("be3b")),o=n("2cc5"),s={components:{},props:{lockMode:{default:!1,type:Boolean}},data:function(){return{pagePrivacyUrl:"",pageAgreementUrl:"",gotInitInfo:!1,currentProtocol:"",saveUsernamePwd:!1,agreeValue:!0,showTwoStep:!1,twoStepAnswer:"",question:"",btnCanUse:!0,hostName:"",formInline:{username:"",password:""},waitCheckIpList:[],isNasCabDomain:!1,detectFinishCount:0}},computed:{getLoginTitle:function(){return localStorage.customLoginTitle||this.$t("common.welcomeToNasCab")},getLoginImageUrl:function(){return localStorage.customLoginImage?(localStorage.customLoginImage,i.a.getCustomFileUrl(localStorage.customLoginImage)):n("952d")},getLogoImageUrl:function(){return localStorage.customLogoImage?i.a.getCustomFileUrl(localStorage.customLogoImage):n("9743")}},mounted:function(){this.currentProtocol=window.location.protocol,this.init()},methods:{goUrl:function(e,t){e.url,window.location.origin==e.url?this.showUrlDetectDialog=!1:window.location.href=t?e.urlHttps:e.url},addDetectCountAndCheckIsFinish:function(){this.detectFinishCount+=1,this.detectFinishCount>=this.waitCheckIpList.length&&this.detectFinishCount},init:function(){this.lockMode&&this.$store.state.currentUser&&(this.formInline.username=this.$store.state.currentUser.username),this.hasAdmin();var e=localStorage.getItem("username"),t=(e&&(this.formInline.username=decodeURIComponent(e),localStorage.removeItem("username")),localStorage.getItem("password")),i=(t&&(this.formInline.password=decodeURIComponent(t),localStorage.removeItem("password")),localStorage.getItem("answer"));i&&(this.twoStepAnswer=i,localStorage.removeItem("answer")),e||t||(i=localStorage.getItem("autoLogin"))&&1==i&&(this.saveUsernamePwd=!0,e=localStorage.getItem("cacheLoginUsername"),t=localStorage.getItem("cacheLoginPassword"),i=localStorage.getItem("cacheLoginAnswer"),e&&(this.formInline.username=e),t&&(this.formInline.password=this.base64.decode(t)),i)&&(this.formInline.answer=this.base64.decode(i)),this.formInline.username&&this.formInline.password&&this.handleSubmit(),(new Image).src=n("cf1c")},onChooseOtherServer:function(){o.a&&o.a.onChooseOtherServer()},getFirstKey:function(e){for(var t in e)if(-1==t.indexOf("vEthernet"))return e[t]},hasAdmin:function(){var s=this;this.api.post("/api/usersApi/hasAdmin",{}).then(function(e){if(!e.code){var t=e.hasAdmin;if(0==parseInt(t)&&s.$router.push({path:"/create_admin"}),e.hostName&&(s.hostName=e.hostName),localStorage.removeItem("customHomeBgImage"),localStorage.removeItem("customLoginImage"),localStorage.removeItem("customLoginTitle"),localStorage.removeItem("customLogoImage"),e.customConfig&&0<e.customConfig.length){var i,n=Object(a.a)(e.customConfig);try{for(n.s();!(i=n.n()).done;){var o=i.value;"customHomeBgImage"==o.title&&"-"!=o.value?localStorage.customHomeBgImage=o.value:"customLoginImage"==o.title&&"-"!=o.value?localStorage.customLoginImage=o.value:"customLoginTitle"==o.title&&"-"!=o.value?localStorage.customLoginTitle=o.value:"customLogoImage"==o.title&&"-"!=o.value&&(localStorage.customLogoImage=o.value)}}catch(e){n.e(e)}finally{n.f()}}s.gotInitInfo=!0,e.pagePrivacyUrl&&(s.pagePrivacyUrl=e.pagePrivacyUrl),e.pageAgreementUrl&&(s.pageAgreementUrl=e.pageAgreementUrl)}}).catch(function(e){s.showVsAlertDialog(s.$t("common.alert"),s.$t("net.error"),function(){s.hasAdmin()})})},onAnswerInput:function(e){this.twoStepAnswer=e,this.handleSubmit()},goForgotPwd:function(){this.$router.push({path:"/forgotPwd"})},handleSubmit:function(){var i=this;return this.formInline.username.length<2?this.showVsNotification(this.$t("registerAdmin.usernameLengthLimit")):this.formInline.password.length<2?this.showVsNotification(this.$t("registerAdmin.passwordLengthLimit")):(this.saveUsernamePwd?(localStorage.setItem("cacheLoginUsername",this.formInline.username),localStorage.setItem("cacheLoginPassword",this.base64.encode(this.formInline.password)),this.formInline.answer&&localStorage.setItem("cacheLoginAnswer",this.base64.encode(this.formInline.answer)),localStorage.setItem("autoLogin",1)):(localStorage.removeItem("cacheLoginUsername"),localStorage.removeItem("cacheLoginPassword"),localStorage.removeItem("cacheLoginAnswer"),localStorage.removeItem("autoLogin")),this.btnCanUse=!1,void this.api.post("/api/usersApi/login",{username:this.formInline.username,password:this.base64.encode(this.formInline.password),client:"PC",answer:this.twoStepAnswer}).then(function(e){if(e.code)i.btnCanUse=!0;else{if(i.lockMode)i.$emit("onLogin");else{localStorage.setItem("token",i.encrypt(e.token)),localStorage.setItem("currentUser",i.encrypt(JSON.stringify(e.user))),i.$store.state.currentUser=e.user,i.$store.state.token=e.token,i.showVsNotification(i.$t("login.success"));var t="";try{t=JSON.stringify({username:i.formInline.username,password:i.base64.encode(i.formInline.password),answer:i.twoStepAnswer})}catch(e){}o.a.onLoginSuc(t),i.goHome()}e.reqIp,localStorage.reqIp=e.reqIp}i.twoStepAnswer=""}).catch(function(e){2==e.code&&(i.question=e.question,i.showTwoStep=!0,i.$refs.twoStepDialog.setShow(!0)),i.twoStepAnswer="",i.btnCanUse=!0}))}}},r=(n("1bd4"),n("2877")),r=Object(r.a)(s,function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-root"},[t.gotInitInfo&&!t.isMobile?e("img",{staticStyle:{position:"fixed",left:"60px",top:"40px",height:"32px","object-fit":"contain"},attrs:{src:t.getLogoImageUrl,mode:"widthFix"}}):t._e(),e("div",{staticStyle:{display:"flex",height:"100%",width:"100%","align-items":"center","justify-content":"center"}},[t.gotInitInfo?e("img",{staticClass:"left-img",attrs:{src:t.getLoginImageUrl}}):t._e(),e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticStyle:{"margin-bottom":"50px",width:"100%","padding-left":"10px","padding-right":"10px"}},[t.gotInitInfo?e("div",{staticStyle:{"font-size":"28px"}},[t._v(t._s(t.getLoginTitle))]):t._e()]),e("vs-input",{attrs:{autocapitalize:"off",autocorrect:"off",type:"text",color:"#F6FAFF",placeholder:t.$t("registerAdmin.placeholderUsername")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{staticClass:"input-icon",attrs:{src:n("8ec7")}})]},proxy:!0}]),model:{value:t.formInline.username,callback:function(e){t.$set(t.formInline,"username",e)},expression:"formInline.username"}}),e("vs-input",{staticStyle:{"margin-top":"30px"},attrs:{autocapitalize:"off",autocorrect:"off",type:"password",color:"#F6FAFF",placeholder:t.$t("registerAdmin.placeholderPassword")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit()}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{staticClass:"input-icon",attrs:{src:n("4287")}})]},proxy:!0}]),model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}}),t.pagePrivacyUrl&&t.pageAgreementUrl?e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start",width:"100%","margin-top":"20px","padding-left":"10px"}},[e("Checkbox",{model:{value:t.agreeValue,callback:function(e){t.agreeValue=e},expression:"agreeValue"}}),e("span",[t._v(t._s(t.$t("login.agree")))]),e("a",{attrs:{href:t.pagePrivacyUrl,target:"_blank"}},[t._v(t._s(t.$t("login.privacy")))]),e("span",[t._v(t._s(t.$t("common.and")))]),e("a",{attrs:{href:t.pageAgreementUrl,target:"_blank"}},[t._v(t._s(t.$t("login.agreement")))])],1):t._e(),t.$store.state.runInElectron?t._e():e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start",width:"100%","margin-top":"10px","padding-left":"10px"}},[e("Checkbox",{model:{value:t.saveUsernamePwd,callback:function(e){t.saveUsernamePwd=e},expression:"saveUsernamePwd"}}),e("span",[t._v(t._s(t.$t("login.saveUsernamePwd")))])],1),e("vs-button",{staticStyle:{height:"46px","border-radius":"23px","font-size":"20px","margin-top":"30px",width:"260px"},on:{click:function(e){return t.handleSubmit()}}},[t._v(" "+t._s(t.lockMode?t.$t("login.unlockScreen"):t.$t("login.btLogin"))+" ")]),t.lockMode?t._e():e("vs-button",{staticStyle:{"margin-top":"20px"},attrs:{border:""},on:{click:function(e){return t.$refs.goForgetConfirm.setShow(!0)}}},[t._v(t._s(t.$t("login.forgotPwd"))+" ")]),t.isFromApp?e("a",{staticStyle:{"margin-top":"20px"},on:{click:t.onChooseOtherServer}},[t._v(t._s(t.$t("login.chooseOtherServer")))]):t._e()],1)]),e("my-dialog-confirm",{ref:"goForgetConfirm",attrs:{content:t.$t("login.getPwdOnlyForAdmin")},on:{onOkClick:t.goForgotPwd}}),e("my-dialog-input",{ref:"twoStepDialog",attrs:{placeholder:t.$t("resetPwd.placeholderAnswer"),showCloseBtn:!0,content:t.$t("resetPwd.question")+t.question,title:t.$t("setting.security.loginNeedAnswer")},on:{onOkClick:t.onAnswerInput}})],1)},[],!1,null,"029527dc",null);t.default=r.exports},c1f4:function(e,t,i){e.exports=i.p+"img/8.128189fd.jpg"},c220:function(e,t,i){var n={props:{},components:{},data:function(){return{cursorMinHeight:80,visiable:!1,cursorHeight:50,cursorWidth:10,cursorDefaultWidth:10,cursorFocusWidth:10,cursorTop:0,cursorInFocus:!1,timer:null,scrollTarget:null,cursorTopWhenDown:0,cursorClientYWhenDown:0,lastOnMoveTime:0}},mounted:function(){document.onmousemove=this.onMouseMove,document.onmouseup=this.onMouseUp},beforeDestroy:function(){this.timer&&clearTimeout(this.timer),this.scrollTarget=null,document.onmousemove=null,document.onmouseup=null},methods:{onMouseMove:function(e){this.cursorInFocus&&this.$refs.cursorRoot&&this.setScrollBarPosition(e.clientY)},onMouseUp:function(e){this.cursorInFocus=!1},onMouseDown:function(e){this.cursorWidth=this.cursorFocusWidth,this.cursorTopWhenDown=this.cursorTop,this.cursorClientYWhenDown=e.clientY,this.cursorInFocus=!0},onTouchStart:function(e){this.cursorTopWhenDown=this.cursorTop,this.cursorClientYWhenDown=e.targetTouches[0].pageY,this.cursorInFocus=!0},onTouchEnd:function(e){this.cursorInFocus=!1,this.setVisiableTimer()},onTouchMove:function(e){this.cursorInFocus&&this.$refs.cursorRoot&&e&&e.targetTouches&&(e=e.targetTouches[0].pageY,this.setScrollBarPosition(e))},setScrollBarPosition:function(e){var e=this.cursorTopWhenDown+(e-this.cursorClientYWhenDown),t=this.$refs.cursorRoot.clientHeight,e=((e=e<0?0:e)+this.cursorHeight>t&&(e=t-this.cursorHeight),(this.cursorTop=e)/t);.98<e&&(e=1),this.scrollTarget&&(this.scrollTarget.scrollTop=this.scrollTarget.scrollHeight*e)},setVisiableTimer:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.cursorInFocus||(e.visiable=!1)},5e3)},onScroll:function(e){var t,i,n;e&&e.target&&this.$refs.cursorRoot&&(this.scrollTarget=e.target,t=e.target.scrollTop,i=e.target.scrollHeight,e=e.target.clientHeight,(n=this.$refs.cursorRoot.clientHeight)<1||(this.cursorHeight=e/i*n,this.cursorHeight<this.cursorMinHeight&&(this.cursorHeight=this.cursorMinHeight),this.cursorInFocus||(this.cursorTop=t/i*n),0<this.cursorHeight&&this.cursorHeight>=.8*n?this.visiable=!1:(this.visiable=!0,this.setVisiableTimer())))}}},i=(i("4172"),i("2877")),i=Object(i.a)(n,function(){var e=this,t=e._self._c;return t("div",{ref:"cursorRoot",staticClass:"my-scroll-root"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visiable,expression:"visiable"}],staticClass:"cursor",style:{width:e.cursorWidth+"px",top:e.cursorTop+"px",height:e.cursorHeight+"px","min-height":e.cursorMinHeight+"px"},on:{mousedown:e.onMouseDown,touchend:e.onTouchEnd,touchstart:e.onTouchStart,touchmove:e.onTouchMove}})])},[],!1,null,"0a108cd2",null);t.a=i.exports},c6d6:function(e,t){},c6fd:function(e,t,i){e.exports=i.p+"img/3.e329ba08.jpg"},c70f:function(e,t,i){i("3abf")},c7f3:function(e,t,i){var n=i("ade3"),o=(i("99af"),i("4fe7")),s="ivu-divider",a={name:"Divider",props:{type:{type:String,default:"horizontal",validator:function(e){return Object(o.m)(e,["horizontal","vertical"])}},orientation:{type:String,default:"center",validator:function(e){return Object(o.m)(e,["left","right","center"])}},dashed:{type:Boolean,default:!1},size:{validator:function(e){return Object(o.m)(e,["small","default"])},default:"default"},plain:{type:Boolean,default:!1}},computed:{hasSlot:function(){return!!this.$slots.default},classes:function(){return["".concat(s),"".concat(s,"-").concat(this.type),"".concat(s,"-").concat(this.size),Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},"".concat(s,"-with-text"),this.hasSlot&&"center"===this.orientation),"".concat(s,"-with-text-").concat(this.orientation),this.hasSlot),"".concat(s,"-dashed"),!!this.dashed),"".concat(s,"-plain"),this.plain)]},slotClasses:function(){return["".concat(s,"-inner-text")]}}},i=i("2877"),i=Object(i.a)(a,function(){var e=this._self._c;return e("div",{class:this.classes},[this.hasSlot?e("span",{class:this.slotClasses},[this._t("default")],2):this._e()])},[],!1,null,null,null);t.a=i.exports},c89a:function(e,t,i){var n=i("2b0e").default.prototype.$isServer;t.a=function(e){n||void 0!==window.iview&&("langs"in iview||(iview.langs={}),iview.langs[e.i.locale]=e)}},c8af:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAG1BMVEUAAAA4bfI4bPM4bfI4cO84bPE4bfI4bfI4bfJiJYmoAAAACHRSTlMAn0DfIH+/YHvq5ewAAAOCSURBVHja7ZpNbxMxEIYn26TpMSAQOW4DghyjtgIfFyqhHiMapBxDP3MMokCPTZxs/LOpUMQg0Y0/Zl8fip979HRmPF6PXUokEolEIpFI/K+8+fzkXOnDq+e9gkB8VeYP+vIV3QNSMNe1R9Oemn8oRzWHYR7krM5gvpkKrgucg1kXAAfK8sNs5V0djo/GwoXckRkrN2LJ1C4ppWV5bRxYyxwt48RInixwwnaNI0fhjubUuFJIWwRa+6Yy7swCJSfGwENpGi9muKXFLIE9whSSZkf2St9XsipwZWeG3pJjf8nCWzL2l+hCkC1YvnZCJCtgtpgCly1mKNhSQOvrNkyiC8EhHpCvdteEsqzp7KuVfBFnth1+cCxexE1bqnTeVNKidB1W6bGwKPaS50SZEhVl7NZup6aSUtjnfCZpCSqfKfs+a424I995O9ZDxlKcrNL+96zFR/gJbWgEVr7vFsgGFVT5zNgZuHyeZ7IjvHYaKzqy7+2B07lsKRuqcqcJqfxkOcL7fMBfmiou86Ae4UCYlqpehaPQZl/7/GYUuH6HPgOMvgk6lM79wi/zkGxNPGexsvBvktL7O3rkn62J/9F/5pstTQ+iLDOkX7YGITPfhV8n6jzk9kUXXhvwImx8PfI8bFWQuYbSlMw2p2Ybz7inJBdALcdJdU801I7dNryxw2FLHIqy7yjhoRSOdZ9slzRc8tUQBGLPxNqt7ge9v6ANH3pM36FVuN89vlxdz6F7jJPwMWyKk3C+DEzC20UTJ+EOaOEkXJRdtGTFbYKQ8M5ygpNwp/RxEv4I38IlC254nGQVQ1ICJUxBXbwkpyle0okhmZDBS5YxJIsYkjWpRyJZxZDMYyzhMo6ki5do4PeEiSPpx0jXXgzJTgxJI8YSbseQZDH2LlIxJN0IHy26jSHZgUvuiHbhkgFRGyjhKVuhJTn/ACfhxyycRPMVMnI+uacNltzxXRJGwhfXY/T0y0WBSeg3bfSNhF9R5r0NU///MukbIAO+28WR84UojLnl9VMGlwSYL+4SeL60/UVHzsL+OCVn6PZ2IM8WuvQHRPhQcgKE4v+GL6dDBA9lbn8ylNOxvn7KWfk95MqXFnMK6BFswkqqoKVwyWLe12a5oGr2a3Kc0Tb2Fc7BtGuwPCUbmXQllzfkQO9c4nhRkBvZ96vDgLTpt19+FpRIJBKJRCKReMz8AruemhltlfCIAAAAAElFTkSuQmCC"},cae4:function(e,t,i){e.exports=i.p+"img/9.418f664c.jpg"},cb7c:function(e,t,i){},cc89:function(e,t,i){},ccdb:function(e,t,i){i.r(t);var n=i("ade3"),o=(i("a9e3"),i("0714")),s=i("1ee4"),a=i("e86f"),a={name:"file-select",props:{initPath:{default:"",type:String},fileType:{default:2,type:Number}},components:{fileSelectBar:a.a,folderBrower:o.a,folderBrowerOperationBar:s.a},data:function(){return{disableBack:!1}},methods:Object(n.a)(Object(n.a)(Object(n.a)({goBack:function(){this.$refs.fileBrower.goBack()},onSelect:function(e){this.$emit("onSelect",e)}},"onSelect",function(){var e=this.$refs.fileBrower.getCurrentSelectedPath();e&&this.$emit("onSelect",e)}),"onParentChange",function(e,t){this.disableBack=t}),"createNewFolder",function(e){this.$refs.fileBrower.createNewFolder(e)})},o=(i("1122"),i("2877")),s=Object(o.a)(a,function(){var e=this._self._c;return e("div",{staticClass:"select-root"},[e("div",{staticStyle:{"padding-bottom":"80px"}},[e("folder-brower",{ref:"fileBrower",attrs:{fileType:this.fileType,initPath:this.initPath,selectMode:!0},on:{onSelect:this.onSelect,onParentChange:this.onParentChange}})],1)])},[],!1,null,"cb2f8926",null);t.default=s.exports},cd86:function(e,t,i){i("6f3e")},cf1c:function(e,t,i){e.exports=i.p+"img/loading.d71d8ccb.gif"},d122:function(e,t,i){i("48bc")},d1c5:function(e,t,i){},d1c6:function(e,t,i){i("0335")},d2f0:function(e,t,i){i("5546")},d3a4:function(e,t,i){var n=i("2b0e"),o=i("a925"),s=i("c89a"),a={i:{locale:"en-US",select:{placeholder:"Select",noMatch:"No matching data",loading:"Loading"},table:{noDataText:"No Data",noFilteredDataText:"No filter data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},datepicker:{selectDate:"Select date",selectTime:"Select time",startTime:"Start Time",endTime:"End Time",clear:"Clear",ok:"OK",datePanelLabel:"[mmmm] [yyyy]",month:"Month",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",year:"Year",weekStartDay:"0",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{m1:"Jan",m2:"Feb",m3:"Mar",m4:"Apr",m5:"May",m6:"Jun",m7:"Jul",m8:"Aug",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Dec"}},transfer:{titles:{source:"Source",target:"Target"},filterPlaceholder:"Search here",notFoundText:"Not Found"},modal:{okText:"OK",cancelText:"Cancel"},poptip:{okText:"OK",cancelText:"Cancel"},page:{prev:"Previous Page",next:"Next Page",total:"Total",item:"item",items:"items",prev5:"Previous 5 Pages",next5:"Next 5 Pages",page:"/page",goto:"Goto",p:""},rate:{star:"Star",stars:"Stars"},time:{before:" ago",after:" after",just:"just now",seconds:" seconds",minutes:" minutes",hours:" hours",days:" days"},tree:{emptyText:"No Data"}}},r=(Object(s.a)(a),i("aea6")),l={i:{locale:"zh-TW",select:{placeholder:"請選擇",noMatch:"無匹配資料",loading:"加載中"},table:{noDataText:"暫無資料",noFilteredDataText:"暫無篩選結果",confirmFilter:"篩選",resetFilter:"重置",clearFilter:"全部",sumText:"合計"},datepicker:{selectDate:"選擇日期",selectTime:"選擇時間",startTime:"開始時間",endTime:"結束時間",clear:"清空",ok:"確定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"來源列表",target:"目標列表"},filterPlaceholder:"請輸入搜尋內容",notFoundText:"列表爲空"},modal:{okText:"確定",cancelText:"取消"},poptip:{okText:"確定",cancelText:"取消"},page:{prev:"上一頁",next:"下一頁",total:"共",item:"條",items:"條",prev5:"向前 5 頁",next5:"向後 5 頁",page:"條/頁",goto:"跳至",p:"頁"},rate:{star:"星",stars:"星"},tree:{emptyText:"暫無資料"}}},s=(Object(s.a)(l),l),l=i("2252"),c=i("a467"),i=i("4a03"),n=(n.default.use(o.a),{"zh-CN":Object.assign(c,r.a),"en-US":Object.assign(i,a),"zh-TW":Object.assign(l,s)}),c=new o.a({locale:localStorage.getItem("lang")?localStorage.getItem("lang"):"zh-CN",messages:n});t.a=c},d3ac:function(B,e,t){t.r(e),t("ac1f"),t("5319");var u=t("b85c"),i=(t("99af"),t("caad"),t("14d9"),t("a434"),t("3c65"),t("e9c4"),t("b64b"),t("d3b7"),t("e25e"),t("3ca3"),t("ddb0"),t("8822"),t("4de4"),t("7db0"),t("c975"),t("d81d"),t("fb6a"),t("b0c0"),t("e9f5"),t("d866"),t("910d"),t("f665"),t("7d54"),t("ab43"),t("a732"),t("acd8"),t("00b4"),t("25f0"),t("466d"),t("159b"),function(){return(i=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});var F="lgAfterAppendSlide",R="lgInit",j="lgHasVideo",U="lgContainerResize",o="lgUpdateSlides",V="lgAfterAppendSubHtml",$="lgBeforeOpen",z="lgAfterOpen",W="lgSlideItemLoad",H="lgBeforeSlide",q="lgAfterSlide",r="lgPosterClick",G="lgDragStart",Y="lgDragMove",Q="lgDragEnd",n="lgBeforeNextSlide",s="lgBeforePrevSlide",K="lgBeforeClose",X="lgAfterClose",Z={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"A8FG-E0E1-E412-561S",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"404 not found"}};function J(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}a.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},a.prototype._getSelector=function(e,t){return void 0===t&&(t=document),"string"!=typeof e?e:(t=t||document,"#"===e.substring(0,1)?t.querySelector(e):t.querySelectorAll(e))},a.prototype._each=function(e){return this.selector&&(void 0!==this.selector.length?[].forEach.call(this.selector,e):e(this.selector,0)),this},a.prototype._setCssVendorPrefix=function(e,t,i){t=t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()});-1!==this.cssVenderPrefixes.indexOf(t)?(e.style[t.charAt(0).toLowerCase()+t.slice(1)]=i,e.style["webkit"+t]=i,e.style["moz"+t]=i,e.style["ms"+t]=i,e.style["o"+t]=i):e.style[t]=i},a.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},a.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter(function(e){return e}).every(function(e){return-1!==i.indexOf(e)})},a.prototype.attr=function(t,i){return void 0===i?this.firstElement?this.firstElement.getAttribute(t):"":(this._each(function(e){e.setAttribute(t,i)}),this)},a.prototype.find=function(e){return w(this._getSelector(e,this.selector))},a.prototype.first=function(){return this.selector&&void 0!==this.selector.length?w(this.selector[0]):w(this.selector)},a.prototype.eq=function(e){return w(this.selector[e])},a.prototype.parent=function(){return w(this.selector.parentElement)},a.prototype.get=function(){return this._getFirstEl()},a.prototype.removeAttr=function(e){var i=e.split(" ");return this._each(function(t){i.forEach(function(e){return t.removeAttribute(e)})}),this},a.prototype.wrap=function(e){var t;return this.firstElement&&((t=document.createElement("div")).className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement)),this},a.prototype.addClass=function(e){return void 0===e&&(e=""),this._each(function(t){e.split(" ").forEach(function(e){e&&t.classList.add(e)})}),this},a.prototype.removeClass=function(e){return this._each(function(t){e.split(" ").forEach(function(e){e&&t.classList.remove(e)})}),this},a.prototype.hasClass=function(e){return!!this.firstElement&&this.firstElement.classList.contains(e)},a.prototype.hasAttribute=function(e){return!!this.firstElement&&this.firstElement.hasAttribute(e)},a.prototype.toggleClass=function(e){return this.firstElement&&(this.hasClass(e)?this.removeClass(e):this.addClass(e)),this},a.prototype.css=function(t,i){var n=this;return this._each(function(e){n._setCssVendorPrefix(e,t,i)}),this},a.prototype.on=function(e,t){var i=this;return this.selector&&e.split(" ").forEach(function(e){Array.isArray(a.eventListeners[e])||(a.eventListeners[e]=[]),a.eventListeners[e].push(t),i.selector.addEventListener(e.split(".")[0],t)}),this},a.prototype.once=function(e,t){var i=this;return this.on(e,function(){i.off(e),t(e)}),this},a.prototype.off=function(e){var i=this;return this.selector&&Object.keys(a.eventListeners).forEach(function(t){i.isEventMatched(e,t)&&(a.eventListeners[t].forEach(function(e){i.selector.removeEventListener(t.split(".")[0],e)}),a.eventListeners[t]=[])}),this},a.prototype.trigger=function(e,t){return this.firstElement&&(e=new CustomEvent(e.split(".")[0],{detail:t||null}),this.firstElement.dispatchEvent(e)),this},a.prototype.load=function(e){var t=this;return fetch(e).then(function(e){return e.text()}).then(function(e){t.selector.innerHTML=e}),this},a.prototype.html=function(t){return void 0===t?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(e){e.innerHTML=t}),this)},a.prototype.append=function(t){return this._each(function(e){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):e.appendChild(t)}),this},a.prototype.prepend=function(t){return this._each(function(e){e.insertAdjacentHTML("afterbegin",t)}),this},a.prototype.remove=function(){return this._each(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}),this},a.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},a.prototype.scrollTop=function(e){return void 0!==e?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},a.prototype.scrollLeft=function(e){return void 0!==e?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},a.prototype.offset=function(){var e,t;return this.firstElement?(e=this.firstElement.getBoundingClientRect(),t=w("body").style().marginLeft,{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}):{left:0,top:0}},a.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},a.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},a.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},a.eventListeners={};var ee=a;function a(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}function w(e){return J(),new ee(e)}var te=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];var S=function(e,t,i,n){void 0===i&&(i=0);var o=w(e).attr("data-lg-size")||n;if(o){var s=o.split(",");if(s[1])for(var a=window.innerWidth,r=0;r<s.length;r++){var l=s[r];if(a<parseInt(l.split("-")[2],10)){o=l;break}r===s.length-1&&(o=l)}var e=o.split("-"),n=parseInt(e[0],10),e=parseInt(e[1],10),c=t.width(),t=t.height()-i,i=Math.min(c,n),c=Math.min(t,e),t=Math.min(i/n,c/e);return{width:n*t,height:e*t}}},ie=function(e,t,i,n,o){if(o){var s,a,r,l,e=w(e).find("img").first();if(e.get())return r=(l=t.get().getBoundingClientRect()).width,t=t.height()-(i+n),n=e.width(),s=e.height(),a=e.style(),r=(r-n)/2-e.offset().left+(parseFloat(a.paddingLeft)||0)+(parseFloat(a.borderLeft)||0)+w(window).scrollLeft()+l.left,l=(t-s)/2-e.offset().top+(parseFloat(a.paddingTop)||0)+(parseFloat(a.borderTop)||0)+w(window).scrollTop()+i,"translate3d("+(r*=-1)+"px, "+(l*=-1)+"px, 0) scale3d("+n/o.width+", "+s/o.height+", 1)"}},ne=function(e,t,i,n,o,s){return'<div class="lg-video-cont lg-has-iframe" style="width:'+e+"; max-width:"+i+"; height: "+t+"; max-height:"+n+'">\n                    <iframe class="lg-object" frameborder="0" '+(s?'title="'+s+'"':"")+' src="'+o+'"  allowfullscreen="true"></iframe>\n                </div>'},oe=function(e,t,i,n,o,s){i="<img "+i+" "+(n?'srcset="'+n+'"':"")+"  "+(o?'sizes="'+o+'"':"")+' class="lg-object lg-image" data-index="'+e+'" src="'+t+'" />',n="";return(n=s?("string"==typeof s?JSON.parse(s):s).map(function(t){var i="";return Object.keys(t).forEach(function(e){i+=" "+e+'="'+t[e]+'"'}),"<source "+i+"></source>"}):n)+i},se=function(e){for(var t=[],i=[],n="",o=0;o<e.length;o++){var s=e[o].split(" ");""===s[0]&&s.splice(0,1),i.push(s[0]),t.push(s[1])}for(var a=window.innerWidth,r=0;r<t.length;r++)if(parseInt(t[r],10)>a){n=i[r];break}return n},ae=function(e){return!!e&&!!e.complete&&0!==e.naturalWidth},re=function(e,t,i,n,o){return'<div class="lg-video-cont '+(o&&o.youtube?"lg-has-youtube":o&&o.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+n+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+n+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(t||"")+'\n            <img class="lg-object lg-video-poster" src="'+e+'" />\n        </div>'},le=function(e){e=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return[].filter.call(e,function(e){e=window.getComputedStyle(e);return"none"!==e.display&&"hidden"!==e.visibility})},ce=function(e,t,c,u){var d=[],h=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}(te,t);return[].forEach.call(e,function(e){for(var t={},i=0;i<e.attributes.length;i++){var n,o,s=e.attributes[i];s.specified&&(n="href"===(n=s.name)?"src":n=(n=(n=n.replace("data-","")).charAt(0).toLowerCase()+n.slice(1)).replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),o="",o=-1<h.indexOf(n)?n:o)&&(t[o]=s.value)}var a=w(e),r=a.find("img").first().attr("alt"),l=a.attr("title"),a=u?a.attr(u):a.find("img").first().attr("src");t.thumb=a,c&&!t.subHtml&&(t.subHtml=l||r||""),t.alt=r||l||"",d.push(t)}),d},ue=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},de=function(e,t,i){var n,o;return e?(n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),o=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),e=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/),n?{youtube:n}:o?{vimeo:o}:e?{wistia:e}:void 0):t?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/")},he=0,pe=(l.prototype.generateSettings=function(e){this.settings=i(i({},Z),e),(this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():ue())&&(e=i(i({},this.settings.mobileSettings),this.settings.mobileSettings),this.settings=i(i({},this.settings),e))},l.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},l.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(R,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},l.prototype.openGalleryOnItemClick=function(){for(var o=this,s=this,e=0;e<this.items.length;e++)(t=>{var i=s.items[t],e=w(i),n=ee.generateUUID();e.attr("data-lg-id",n).on("click.lgcustom-item-"+n,function(e){e.preventDefault();e=o.settings.index||t;o.openGallery(e,i)})})(e)},l.prototype.buildModules=function(){var t=this;this.settings.plugins.forEach(function(e){t.plugins.push(new e(t,w))})},l.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},l.prototype.getSlideItem=function(e){return w(this.getSlideItemId(e))},l.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},l.prototype.getIdName=function(e){return e+"-"+this.lgId},l.prototype.getElementById=function(e){return w("#"+this.getIdName(e))},l.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},l.prototype.buildStructure=function(){var e,t,i,n,o,s,a,r,l=this;this.$container&&this.$container.get()||(t=e="",this.settings.controls&&(e='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(t='<div class="lg-sub-html" role="status" aria-live="polite"></div>'),i="",this.settings.allowMediaOverlap&&(i+="lg-media-overlap "),r=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",n=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",a="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),o=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",s=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",a='\n        <div class="'+a+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+r+" "+n+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+i+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+e+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+s+"\n                    "+o+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?t:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?t:"")+"\n                </div>\n            </div>\n        </div>\n        ",w(this.settings.container).append(a),document.body!==this.settings.container&&w(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms"),r=this.settings.mode+" ",this.manageSingleSlideClassName(),this.settings.enableDrag&&(r+="lg-grab "),this.outer.addClass(r),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),w(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){l.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules())},l.prototype.refreshOnResize=function(){var e,t,i;this.lgOpened&&(e=this.galleryItems[this.index].__slideVideoInfo,this.mediaContainerPosition=this.getMediaContainerPosition(),i=(t=this.mediaContainerPosition).top,this.currentImageSize=S(this.items[this.index],this.outer,i+t.bottom,e&&this.settings.videoMaxSize),e&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved&&(i=this.getDummyImgStyles(this.currentImageSize),this.outer.find(".lg-current .lg-dummy-img").first().attr("style",i)),this.LGel.trigger(U))},l.prototype.resizeVideoSlide=function(e,t){t=this.getVideoContStyle(t);this.getSlideItem(e).find(".lg-video-cont").attr("style",t)},l.prototype.updateSlides=function(e,t){var i,n;this.index>e.length-1&&(this.index=e.length-1),1===e.length&&(this.index=0),e.length?(i=this.galleryItems[t].src,this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[],n=0,this.galleryItems.some(function(e,t){return e.src===i&&(n=t,!0)}),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("lg-current"),this.index=n,this.updateCurrentCounter(n),this.LGel.trigger(o)):this.closeGallery()},l.prototype.getItems=function(){var e;return this.items=[],this.settings.dynamic?this.settings.dynamicEl||[]:("this"===this.settings.selector?this.items.push(this.el):this.settings.selector?"string"==typeof this.settings.selector?this.settings.selectWithin?(e=w(this.settings.selectWithin),this.items=e.find(this.settings.selector).get()):this.items=this.el.querySelectorAll(this.settings.selector):this.items=this.settings.selector:this.items=this.el.children,ce(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage))},l.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},l.prototype.hideScrollbar=function(){var e;this.shouldHideScrollbar()&&(this.bodyPaddingRight=parseFloat(w("body").style().paddingRight),e=document.documentElement.getBoundingClientRect(),e=window.innerWidth-e.width,w(document.body).css("padding-right",e+this.bodyPaddingRight+"px"),w(document.body).addClass("lg-overlay-open"))},l.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(w(document.body).css("padding-right",this.bodyPaddingRight+"px"),w(document.body).removeClass("lg-overlay-open"))},l.prototype.openGallery=function(t,e){var i,n,o,s,a,r=this;void 0===t&&(t=this.settings.index),this.lgOpened||(this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show"),s=this.getItemsToBeInsertedToDom(t,t),this.currentItemsInDom=s,i="",s.forEach(function(e){i=i+'<div id="'+e+'" class="lg-item"></div>'}),this.$inner.append(i),this.addHtml(t),n="",this.mediaContainerPosition=this.getMediaContainerPosition(),o=(s=this.mediaContainerPosition).top,s=s.bottom,this.settings.allowMediaOverlap||this.setMediaContainerPosition(o,s),a=this.galleryItems[t].__slideVideoInfo,this.zoomFromOrigin&&e&&(this.currentImageSize=S(e,this.outer,o+s,a&&this.settings.videoMaxSize),n=ie(e,this.outer,o,s,this.currentImageSize)),this.zoomFromOrigin&&n||(this.outer.addClass(this.settings.startClass),this.getSlideItem(t).removeClass("lg-complete")),a=this.settings.zoomFromOrigin?100:this.settings.backdropDuration,setTimeout(function(){r.outer.addClass("lg-components-open")},a),this.index=t,this.LGel.trigger($),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=w(window).scrollTop(),setTimeout(function(){var e;r.zoomFromOrigin&&n&&((e=r.getSlideItem(t)).css("transform",n),setTimeout(function(){e.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",r.settings.startAnimationDuration+"ms"),r.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){e.css("transform","translate3d(0, 0, 0)")},100)),setTimeout(function(){r.$backdrop.addClass("in"),r.$container.addClass("lg-show-in")},10),setTimeout(function(){r.settings.trapFocus&&document.body===r.settings.container&&r.trapFocus()},r.settings.backdropDuration+50),r.zoomFromOrigin&&n||setTimeout(function(){r.outer.addClass("lg-visible")},r.settings.backdropDuration),r.slide(t,!1,!1,!1),r.LGel.trigger(z)}),document.body===this.settings.container&&w("html").addClass("lg-on"))},l.prototype.getMediaContainerPosition=function(){var e,t;return this.settings.allowMediaOverlap?{top:0,bottom:0}:(t=this.$toolbar.get().clientHeight||0,e=this.outer.find(".lg-components .lg-sub-html").get(),e=this.settings.defaultCaptionHeight||e&&e.clientHeight||0,{top:t,bottom:((t=this.outer.find(".lg-thumb-outer").get())?t.clientHeight:0)+e})},l.prototype.setMediaContainerPosition=function(e,t){void 0===t&&(t=0),this.$content.css("top",(e=void 0===e?0:e)+"px").css("bottom",t+"px")},l.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),0<e.settings.hideBarsDelay&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},l.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch(e){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},l.prototype.counter=function(){var e;this.settings.counter&&(e='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>",this.outer.find(this.settings.appendCounterTo).append(e))},l.prototype.addHtml=function(e){var t,i,n;this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,i||(t?"."!==(n=t.substring(0,1))&&"#"!==n||(t=(this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?w(this.items).eq(e).find(t):w(t)).first().html()):t=""),".lg-item"!==this.settings.appendSubHtmlTo?i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(t):(n=w(this.getSlideItemId(e)),i?n.load(i):n.append('<div class="lg-sub-html">'+t+"</div>")),null!=t&&(""===t?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(V,{index:e})},l.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},l.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+"px;\n                margin-left: -"+e.width/2+"px;\n                margin-top: -"+e.height/2+"px;\n                height:"+e.height+"px":""},l.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+"px;\n                height:"+e.height+"px":""},l.prototype.getDummyImageContent=function(e,t,i){var n;return(n=this.settings.dynamic?n:w(this.items).eq(t))&&(t=void 0,t=this.settings.exThumbImage?n.attr(this.settings.exThumbImage):n.find("img").first().attr("src"))?(n="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+t+'" />',e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),n):""},l.prototype.setImgMarkup=function(e,t,i){var n=this.galleryItems[i],o=n.alt,s=n.srcset,a=n.sizes,n=n.sources,o=o?'alt="'+o+'"':"",i='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(t,i,o):oe(i,e,o,s,a,n))+"</picture>";t.prepend(i)},l.prototype.onSlideObjectLoad=function(e,t,i,n){e=e.find(".lg-object").first();ae(e.get())||t?i():(e.on("load.lg error.lg",function(){i&&i()}),e.on("error.lg",function(){n&&n()}))},l.prototype.onLgObjectLoad=function(e,t,i,n,o,s){var a=this;this.onSlideObjectLoad(e,s,function(){a.triggerSlideItemLoad(e,t,i,n,o)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+a.settings.strings.mediaLoadingFailed+"</span>")})},l.prototype.triggerSlideItemLoad=function(e,t,i,n,o){var s=this,a=this.galleryItems[t],a=o&&"video"===this.getSlideType(a)&&!a.poster?n:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),s.LGel.trigger(W,{index:t,delay:i||0,isFirstSlide:o})},a)},l.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},l.prototype.addSlideVideoInfo=function(e){var i=this;e.forEach(function(e,t){e.__slideVideoInfo=de(e.src,!!e.video,t),e.__slideVideoInfo&&i.settings.loadYouTubePoster&&!e.poster&&e.__slideVideoInfo.youtube&&(e.poster="//img.youtube.com/vi/"+e.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},l.prototype.loadContent=function(t,e){var i,n,o,s=this,a=this.galleryItems[t],r=w(this.getSlideItemId(t)),l=a.poster,c=a.srcset,u=a.sizes,d=a.sources,h=a.src,p=a.video,p=p&&"string"==typeof p?JSON.parse(p):p,f=(a.responsive&&(m=a.responsive.split(","),h=se(m)||h),a.__slideVideoInfo),m="",g=!!a.iframe,y=!this.lGalleryOn,v=0,b=(y&&(v=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),r.hasClass("lg-loaded")||(f&&(o=(n=this.mediaContainerPosition).top,o=S(this.items[t],this.outer,o+n.bottom,f&&this.settings.videoMaxSize),m=this.getVideoContStyle(o)),g?(i=ne(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,h,a.iframeTitle),r.prepend(i)):l?(n="",y&&this.zoomFromOrigin&&this.currentImageSize&&(n=this.getDummyImageContent(r,t,"")),i=re(l,n||"",m,this.settings.strings.playVideo,f),r.prepend(i)):f?r.prepend(i='<div class="lg-video-cont " style="'+m+'"></div>'):(this.setImgMarkup(h,r,t),(c||d)&&(o=r.find(".lg-object"),this.initPictureFill(o))),(l||f)&&this.LGel.trigger(j,{index:t,src:h,html5Video:p,hasPoster:!!l}),this.LGel.trigger(F,{index:t}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(t)),0);v&&!w(document.body).hasClass("lg-from-hash")&&(b=v),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){r.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),r.hasClass("lg-loaded")||setTimeout(function(){var e;"image"===s.getSlideType(a)&&(e=(e=a.alt)?'alt="'+e+'"':"",r.find(".lg-img-wrap").append(oe(t,h,e,c,u,a.sources)),c||d)&&(e=r.find(".lg-object"),s.initPictureFill(e)),("image"===s.getSlideType(a)||"video"===s.getSlideType(a)&&l)&&(s.onLgObjectLoad(r,t,v,b,!0,!1),s.onSlideObjectLoad(r,!(!f||!f.html5||l),function(){s.loadContentOnFirstSlideLoad(t,r,b)},function(){s.loadContentOnFirstSlideLoad(t,r,b)}))},this.settings.startAnimationDuration+100)),r.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(a)||l)||this.onLgObjectLoad(r,t,v,b,y,!(!f||!f.html5||l)),this.zoomFromOrigin&&this.currentImageSize||!r.hasClass("lg-complete_")||this.lGalleryOn||setTimeout(function(){r.addClass("lg-complete")},this.settings.backdropDuration),(this.lGalleryOn=!0)===e&&(r.hasClass("lg-complete_")?this.preload(t):r.find(".lg-object").first().on("load.lg error.lg",function(){s.preload(t)}))},l.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var n=this;setTimeout(function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),n.outer.removeClass("lg-first-slide-loading"),n.isDummyImageRemoved=!0,n.preload(e)},i+300)},l.prototype.getItemsToBeInsertedToDom=function(e,t,i){var n=this,o=(void 0===i&&(i=0),[]),s=Math.max(i,3),s=Math.min(s,this.galleryItems.length),i="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)this.galleryItems.forEach(function(e,t){o.push("lg-item-"+n.lgId+"-"+t)});else{if(e<(this.galleryItems.length-1)/2){for(var a=e;e-s/2<a&&0<=a;a--)o.push("lg-item-"+this.lgId+"-"+a);for(var r=o.length,a=0;a<s-r;a++)o.push("lg-item-"+this.lgId+"-"+(e+a+1))}else{for(a=e;a<=this.galleryItems.length-1&&a<e+s/2;a++)o.push("lg-item-"+this.lgId+"-"+a);for(r=o.length,a=0;a<s-r;a++)o.push("lg-item-"+this.lgId+"-"+(e-a-1))}this.settings.loop&&(e===this.galleryItems.length-1?o.push("lg-item-"+this.lgId+"-0"):0===e&&o.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===o.indexOf(i)&&o.push("lg-item-"+this.lgId+"-"+t)}return o},l.prototype.organizeSlideItems=function(e,t){var i=this,n=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return n.forEach(function(e){-1===i.currentItemsInDom.indexOf(e)&&i.$inner.append('<div id="'+e+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(e){-1===n.indexOf(e)&&w("#"+e).remove()}),n},l.prototype.getPreviousSlideIndex=function(){var t=0;try{var e=this.outer.find(".lg-current").first().attr("id"),t=parseInt(e.split("-")[3])||0}catch(e){t=0}return t},l.prototype.setDownloadValue=function(e){var t;this.settings.download&&(!1===(e=this.galleryItems[e]).downloadUrl||"false"===e.downloadUrl?this.outer.addClass("lg-hide-download"):(t=this.getElementById("lg-download"),this.outer.removeClass("lg-hide-download"),t.attr("href",e.downloadUrl||e.src),e.download&&t.attr("download",e.download)))},l.prototype.makeSlideAnimation=function(e,t,i){var n=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout(function(){n.outer.addClass("lg-no-trans"),n.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout(function(){n.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),n.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},l.prototype.slide=function(e,t,i,n){var o,s,a,r,l,c,u=this,d=this.getPreviousSlideIndex();this.currentItemsInDom=this.organizeSlideItems(e,d),this.lGalleryOn&&d===e||(o=this.galleryItems.length,this.lgBusy||(this.settings.counter&&this.updateCurrentCounter(e),s=this.getSlideItem(e),a=this.getSlideItem(d),c=(l=this.galleryItems[e]).__slideVideoInfo,this.outer.attr("data-lg-slide-type",this.getSlideType(l)),this.setDownloadValue(e),c&&(r=(l=this.mediaContainerPosition).top,r=S(this.items[e],this.outer,r+l.bottom,c&&this.settings.videoMaxSize),this.resizeVideoSlide(e,r)),this.LGel.trigger(H,{prevIndex:d,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),n||(e<d?n="prev":d<e&&(n="next")),t?(this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide"),c=l=void 0,2<o?(l=e-1,c=e+1,(0===e&&d===o-1||e===o-1&&0===d)&&(c=0,l=o-1)):(l=0,c=1),"prev"===n?this.getSlideItem(c).addClass("lg-next-slide"):this.getSlideItem(l).addClass("lg-prev-slide"),s.addClass("lg-current")):this.makeSlideAnimation(n,s,a),this.lGalleryOn?setTimeout(function(){u.loadContent(e,!0),".lg-item"!==u.settings.appendSubHtmlTo&&u.addHtml(e)},this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){u.lgBusy=!1,a.removeClass("lg-slide-progress"),u.LGel.trigger(q,{prevIndex:d,index:e,fromTouch:t,fromThumb:i})},(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))),this.index=e)},l.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},l.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},l.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},l.prototype.touchMove=function(e,t,i){var n,o,s=t.pageX-e.pageX,t=t.pageY-e.pageY,e=!1;this.swipeDirection?e=!0:15<Math.abs(s)?(this.swipeDirection="horizontal",e=!0):15<Math.abs(t)&&(this.swipeDirection="vertical",e=!0),e&&(e=this.getSlideItem(this.index),"horizontal"===this.swipeDirection?(null!=i&&i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(e,s,0),n=15*(o=e.get().offsetWidth)/100-Math.abs(10*s/100),this.setTranslate(this.outer.find(".lg-prev-slide").first(),s-o-n,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),o+s+n,0)):"vertical"===this.swipeDirection&&this.settings.swipeToClose&&(null!=i&&i.preventDefault(),this.$container.addClass("lg-dragging-vertical"),o=1-Math.abs(t)/window.innerHeight,this.$backdrop.css("opacity",o),s=1-Math.abs(t)/(2*window.innerWidth),this.setTranslate(e,0,t,s,s),100<Math.abs(t))&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open"))},l.prototype.touchEnd=function(i,n,o){var s,a=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout(function(){a.$container.removeClass("lg-dragging-vertical"),a.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var e=!0;if("horizontal"===a.swipeDirection){s=i.pageX-n.pageX;var t=Math.abs(i.pageX-n.pageX);s<0&&t>a.settings.swipeThreshold?(a.goToNextSlide(!0),e=!1):0<s&&t>a.settings.swipeThreshold&&(a.goToPrevSlide(!0),e=!1)}else if("vertical"===a.swipeDirection){if(s=Math.abs(i.pageY-n.pageY),a.settings.closable&&a.settings.swipeToClose&&100<s)return void a.closeGallery();a.$backdrop.css("opacity",1)}a.outer.find(".lg-item").removeAttr("style"),e&&Math.abs(i.pageX-n.pageX)<5&&(t=w(o.target),a.isPosterElement(t))&&a.LGel.trigger(r),a.swipeDirection=void 0}),setTimeout(function(){a.outer.hasClass("lg-dragging")||"lg-slide"===a.settings.mode||a.outer.removeClass("lg-slide")},this.settings.speed+100)},l.prototype.enableSwipe=function(){var i=this,n={},t={},o=!1,s=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(e){i.dragOrSwipeEnabled=!0;var t=i.getSlideItem(i.index);!w(e.target).hasClass("lg-item")&&!t.get().contains(e.target)||i.outer.hasClass("lg-zoomed")||i.lgBusy||1!==e.touches.length||(s=!0,i.touchAction="swipe",i.manageSwipeClass(),n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(e){s&&"swipe"===i.touchAction&&1===e.touches.length&&(t={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},i.touchMove(n,t,e),o=!0)}),this.$inner.on("touchend.lg",function(e){"swipe"===i.touchAction&&(o?(o=!1,i.touchEnd(t,n,e)):s&&(e=w(e.target),i.isPosterElement(e))&&i.LGel.trigger(r),i.touchAction=void 0,s=!1)}))},l.prototype.enableDrag=function(){var i=this,n={},o={},s=!1,a=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(e){i.dragOrSwipeEnabled=!0;var t=i.getSlideItem(i.index);!w(e.target).hasClass("lg-item")&&!t.get().contains(e.target)||i.outer.hasClass("lg-zoomed")||i.lgBusy||(e.preventDefault(),i.lgBusy)||(i.manageSwipeClass(),n={pageX:e.pageX,pageY:e.pageY},s=!0,i.outer.get().scrollLeft+=1,--i.outer.get().scrollLeft,i.outer.removeClass("lg-grab").addClass("lg-grabbing"),i.LGel.trigger(G))}),w(window).on("mousemove.lg.global"+this.lgId,function(e){s&&i.lgOpened&&(a=!0,o={pageX:e.pageX,pageY:e.pageY},i.touchMove(n,o),i.LGel.trigger(Y))}),w(window).on("mouseup.lg.global"+this.lgId,function(e){var t;i.lgOpened&&(t=w(e.target),a?(a=!1,i.touchEnd(o,n,e),i.LGel.trigger(Q)):i.isPosterElement(t)&&i.LGel.trigger(r),s)&&(s=!1,i.outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},l.prototype.triggerPosterClick=function(){var t=this;this.$inner.on("click.lg",function(e){!t.dragOrSwipeEnabled&&t.isPosterElement(w(e.target))&&t.LGel.trigger(r)})},l.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&2<this.galleryItems.length&&(0===this.index?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),-1<t&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},l.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(n,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(n,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){t.outer.removeClass("lg-right-end")},400)))},l.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(0<this.index?(this.index--,this.LGel.trigger(s,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(s,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){t.outer.removeClass("lg-left-end")},400)))},l.prototype.keyPress=function(){var t=this;w(window).on("keydown.lg.global"+this.lgId,function(e){t.lgOpened&&!0===t.settings.escKey&&27===e.keyCode&&(e.preventDefault(),t.settings.allowMediaOverlap&&t.outer.hasClass("lg-can-toggle")&&t.outer.hasClass("lg-components-open")?t.outer.removeClass("lg-components-open"):t.closeGallery()),t.lgOpened&&1<t.galleryItems.length&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode)&&(e.preventDefault(),t.goToNextSlide())})},l.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},l.prototype.arrowDisable=function(e){var t,i;!this.settings.loop&&this.settings.hideControlOnEnd&&(t=this.getElementById("lg-prev"),i=this.getElementById("lg-next"),e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===e?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled"))},l.prototype.setTranslate=function(e,t,i,n,o){e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+(n=void 0===n?1:n)+", "+(o=void 0===o?1:o)+", 1)")},l.prototype.mousewheel=function(){var i=this,n=0;this.outer.on("wheel.lg",function(e){var t;!e.deltaY||i.galleryItems.length<2||(e.preventDefault(),(t=(new Date).getTime())-n<1e3)||(n=t,0<e.deltaY?i.goToNextSlide():e.deltaY<0&&i.goToPrevSlide())})},l.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")},l.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},l.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},l.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=w(this.items[e]);t.off("click.lgcustom-item-"+t.attr("data-lg-id"))}},l.prototype.trapFocus=function(){var n=this;this.$container.get().focus({preventScroll:!0}),w(window).on("keydown.lg.global"+this.lgId,function(e){var t,i;!n.lgOpened||"Tab"!==e.key&&9!==e.keyCode||(t=(i=le(n.$container.get()))[0],i=i[i.length-1],e.shiftKey?document.activeElement===t&&(i.focus(),e.preventDefault()):document.activeElement===i&&(t.focus(),e.preventDefault()))})},l.prototype.manageCloseGallery=function(){var t,i=this;this.settings.closable&&(t=!1,this.getElementById("lg-close").on("click.lg",function(){i.closeGallery()}),this.settings.closeOnTap)&&(this.outer.on("mousedown.lg",function(e){e=w(e.target);t=!!i.isSlideElement(e)}),this.outer.on("mousemove.lg",function(){t=!1}),this.outer.on("mouseup.lg",function(e){e=w(e.target);i.isSlideElement(e)&&t&&(i.outer.hasClass("lg-dragging")||i.closeGallery())}))},l.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(K),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&w(window).scrollTop(this.prevScrollTop);var i,n,o,s,e=this.items[this.index],a=(this.zoomFromOrigin&&e&&(i=(n=this.mediaContainerPosition).top,o=(a=this.galleryItems[this.index]).__slideVideoInfo,o=S(e,this.outer,i+(n=n.bottom),o&&a.poster&&this.settings.videoMaxSize),s=ie(e,this.outer,i,n,o)),this.zoomFromOrigin&&s?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",s)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,w("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0),this.zoomFromOrigin&&s?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration);return this.$container.removeClass("lg-show-in"),setTimeout(function(){t.zoomFromOrigin&&s&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(X,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1},a+100),a+100},l.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},l.prototype.destroyModules=function(t){this.plugins.forEach(function(e){try{t?e.destroy():e.closeGallery&&e.closeGallery()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},l.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),this.galleryItems=e||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(o)},l.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},l.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),w(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},l.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},l);function l(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},e){if(he++,this.lgId=he,this.el=e,this.LGel=w(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense()}return this}var fe=function(e,t){return new pe(e,t)},c=(t("35b3"),function(){return(c=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),me={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},ge="lgContainerResize",ye="lgBeforeOpen",ve="lgAfterOpen",be="lgSlideItemLoad",we="lgAfterSlide",Se="lgRotateLeft",_e="lgRotateRight",Ce="lgFlipHorizontal",ke="lgFlipVertical",xe=(M.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},M.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index)&&t.setZoomEssentials()},i+30)},M.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(be+".zoom",this.enableZoom.bind(this))},M.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},M.prototype.getSwipeCords=function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},M.prototype.getDragAllowedAxises=function(e,t){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),n=0,o=0;if(i){var s=i.getBoundingClientRect();if(s)return o=e?(n=i.offsetHeight*e,i.offsetWidth*e):t?(n=s.height+t*s.height,s.width+t*s.width):(n=s.height,s.width),i=n>this.containerRect.height,{allowX:o>this.containerRect.width,allowY:i}}},M.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},M.prototype.zoomImage=function(e,t,i,n){var o,s,a,r,l,c,u,d;Math.abs(t)<=0||(c=this.containerRect.width/2+this.containerRect.left,d=this.containerRect.height/2+this.containerRect.top+this.scrollTop,1===e&&(this.positionChanged=!1),(s=this.getDragAllowedAxises(0,t))&&(o=s.allowY,s=s.allowX,this.positionChanged&&(a=this.left/(this.scale-t),l=this.top/(this.scale-t),this.pageX=c-a,this.pageY=d-l,this.positionChanged=!1),a=this.getPossibleSwipeDragCords(t),l=c-this.pageX,c=d-this.pageY,d=1<e-t?(r=(e-t)/Math.abs(t),u=(l=(t<0?-l:l)+this.left*(r+(t<0?-1:1)))/r,(c=(t<0?-c:c)+this.top*(r+(t<0?-1:1)))/r):(u=l*(r=(e-t)*t),c*r),i&&(s?this.isBeyondPossibleLeft(u,a.minX)?u=a.minX:this.isBeyondPossibleRight(u,a.maxX)&&(u=a.maxX):1<e&&(u<a.minX?u=a.minX:u>a.maxX&&(u=a.maxX)),o?this.isBeyondPossibleTop(d,a.minY)?d=a.minY:this.isBeyondPossibleBottom(d,a.maxY)&&(d=a.maxY):1<e&&(d<a.minY?d=a.minY:d>a.maxY&&(d=a.maxY))),this.setZoomStyles({x:u,y:d,scale:e}),this.left=u,this.top=d,n)&&this.setZoomImageSize())},M.prototype.resetImageTranslate=function(e){var t;this.isImageSlide(e)&&(t=this.core.getSlideItem(e).find(".lg-image").first(),this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10))},M.prototype.setZoomImageSize=function(){var t=this,i=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var e=t.getCurrentImageActualSizeScale();t.scale>=e&&(i.addClass("no-transition"),t.imageReset=!0)},500),setTimeout(function(){var e=t.getCurrentImageActualSizeScale();t.scale>=e&&(e=t.getDragAllowedAxises(t.scale),i.css("width",i.get().naturalWidth+"px").css("height",i.get().naturalHeight+"px"),t.core.outer.addClass("lg-actual-size"),e.allowX&&e.allowY?i.addClass("reset-transition"):e.allowX&&!e.allowY?i.addClass("reset-transition-x"):!e.allowX&&e.allowY&&i.addClass("reset-transition-y"))},550)},M.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),n=this.core.outer.find(".lg-current .lg-dummy-img").first(),i=(this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),n.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),"translate3d("+e.x+"px, "+e.y+"px, 0)");t.css("transform",i)},M.prototype.setActualSize=function(e,i){var n,o=this;this.zoomInProgress||(this.zoomInProgress=!0,n=this.core.galleryItems[this.core.index],this.resetImageTranslate(e),setTimeout(function(){var e,t;n.src&&!o.core.outer.hasClass("lg-first-slide-loading")&&(e=o.getCurrentImageActualSizeScale(),t=o.scale,o.core.outer.hasClass("lg-zoomed")?o.scale=1:o.scale=o.getScale(e),o.setPageCords(i),o.beginZoom(o.scale),o.zoomImage(o.scale,o.scale-t,!0,!0))},50),setTimeout(function(){o.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){o.zoomInProgress=!1},610))},M.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),e=this.core.galleryItems[e].width;return e?parseFloat(e):t.get().naturalWidth},M.prototype.getActualSizeScale=function(e,t){e=t<=e?e/t||2:1;return e},M.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,t=this.getNaturalWidth(this.core.index)||e;return this.getActualSizeScale(t,e)},M.prototype.getPageCords=function(e){var t={};return e?(t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY):(e=this.core.$content.get().getBoundingClientRect(),t.x=e.width/2+e.left,t.y=e.height/2+this.scrollTop+e.top),t},M.prototype.setPageCords=function(e){e=this.getPageCords(e);this.pageX=e.x,this.pageY=e.y},M.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},M.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),1<e?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),1<e},M.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:t<e&&(e=t),e},M.prototype.init=function(){var i,n=this;this.settings.zoom&&(this.buildTemplates(),this.enableZoomOnSlideItemLoad(),i=null,this.core.outer.on("dblclick.lg",function(e){n.$LG(e.target).hasClass("lg-image")&&n.setActualSize(n.core.index,e)}),this.core.outer.on("touchstart.lg",function(e){var t=n.$LG(e.target);1===e.touches.length&&t.hasClass("lg-image")&&(i?(clearTimeout(i),i=null,e.preventDefault(),n.setActualSize(n.core.index,e)):i=setTimeout(function(){i=null},300))}),this.core.LGel.on(ge+".zoom "+_e+".zoom "+Se+".zoom "+Ce+".zoom "+ke+".zoom",function(){var e;n.core.lgOpened&&n.isImageSlide(n.core.index)&&!n.core.touchAction&&(e=n.core.getSlideItem(n.core.index).find(".lg-img-wrap").first(),n.top=0,n.left=0,n.setZoomEssentials(),n.setZoomSwipeStyles(e,{x:0,y:0}),n.positionChanged=!0)}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){n.core.lgOpened&&(n.scrollTop=n.$LG(window).scrollTop())}),M.prototype.dealWheelEvent=function(e){var t=e.target;t&&t.className&&t.className.indexOf&&-1!=t.className.indexOf("lg-image")&&(t=n.scale,n.scale-=.002*(0<e.deltaY?100:-100),n.scale!=t)&&(n.beginZoom(n.scale),n.zoomImage(n.scale,n.scale-t,!1,!1))},window.addEventListener("wheel",this.dealWheelEvent),this.core.getElementById("lg-zoom-out").on("click.lg",function(){var e;n.isImageSlide(n.core.index)&&(e=0,n.imageReset&&(n.resetImageTranslate(n.core.index),e=50),setTimeout(function(){var e=n.scale-n.settings.scale;n.beginZoom(e=e<1?1:e),n.zoomImage(e,-n.settings.scale,!0,!n.settings.infiniteZoom)},e))}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){n.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){n.setActualSize(n.core.index)}),this.core.LGel.on(ye+".zoom",function(){n.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(ve+".zoom",function(){n.scrollTop=n.$LG(window).scrollTop(),n.pageX=n.core.outer.width()/2,n.pageY=n.core.outer.height()/2+n.scrollTop,n.scale=1}),this.core.LGel.on(we+".zoom",function(e){e=e.detail.prevIndex;n.scale=1,n.positionChanged=!1,n.zoomInProgress=!1,n.resetZoom(e),n.resetImageTranslate(e),n.isImageSlide(n.core.index)&&n.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1)},M.prototype.zoomIn=function(){var e;this.isImageSlide(this.core.index)&&(e=this.scale+this.settings.scale,this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom))},M.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),e=this.core.getSlideItem(void 0!==e?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),e.find(".lg-img-wrap").first().removeAttr("style"),e.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},M.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},M.prototype.pinchZoom=function(){var t,i=this,n=0,o=!1,s=1,a=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(e){a=i.core.getSlideItem(i.core.index),i.isImageSlide(i.core.index)&&2===e.touches.length&&(e.preventDefault(),i.core.outer.hasClass("lg-first-slide-loading")||(s=i.scale||1,i.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),i.setPageCords(e),i.resetImageTranslate(i.core.index),i.core.touchAction="pinch",n=i.getTouchDistance(e)))}),this.core.$inner.on("touchmove.lg",function(e){2===e.touches.length&&"pinch"===i.core.touchAction&&(i.$LG(e.target).hasClass("lg-item")||a.get().contains(e.target))&&(e.preventDefault(),e=i.getTouchDistance(e),e=n-e,o=!o&&5<Math.abs(e)||o)&&(t=i.scale,e=Math.max(1,s+.02*-e),i.scale=Math.round(100*(e+Number.EPSILON))/100,e=i.scale-t,i.zoomImage(i.scale,Math.round(100*(e+Number.EPSILON))/100,!1,!1))}),this.core.$inner.on("touchend.lg",function(e){var t;"pinch"===i.core.touchAction&&(i.$LG(e.target).hasClass("lg-item")||a.get().contains(e.target))&&(o=!1,n=0,i.scale<=1?i.resetZoom():(e=i.getCurrentImageActualSizeScale(),i.scale>=e&&(t=e-i.scale,i.zoomImage(e,t=0===t?.01:t,!1,!0)),i.manageActualPixelClassNames(),i.core.outer.addClass("lg-zoomed")),i.core.touchAction=void 0)})},M.prototype.touchendZoom=function(e,t,i,n,o){var s=t.x-e.x,t=t.y-e.y,e=Math.abs(s)/o+1,o=Math.abs(t)/o+1,e=(2<e&&(e+=1),2<o&&(o+=1),s*=e,t*=o,this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first()),o={},a=(o.x=this.left+s,o.y=this.top+t,this.getPossibleSwipeDragCords());(15<Math.abs(s)||15<Math.abs(t))&&(n&&(this.isBeyondPossibleTop(o.y,a.minY)?o.y=a.minY:this.isBeyondPossibleBottom(o.y,a.maxY)&&(o.y=a.maxY)),i&&(this.isBeyondPossibleLeft(o.x,a.minX)?o.x=a.minX:this.isBeyondPossibleRight(o.x,a.maxX)&&(o.x=a.maxX)),n?this.top=o.y:o.y=this.top,i?this.left=o.x:o.x=this.left,this.setZoomSwipeStyles(e,o),this.positionChanged=!0)},M.prototype.getZoomSwipeCords=function(e,t,i,n,o){var s={};return n?(s.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(s.y,o.minY)?(n=o.minY-s.y,s.y=o.minY-n/6):this.isBeyondPossibleBottom(s.y,o.maxY)&&(n=s.y-o.maxY,s.y=o.maxY+n/6)):s.y=this.top,i?(s.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(s.x,o.minX)?(n=o.minX-s.x,s.x=o.minX-n/6):this.isBeyondPossibleRight(s.x,o.maxX)&&(i=s.x-o.maxX,s.x=o.maxX+i/6)):s.x=this.left,s},M.prototype.isBeyondPossibleLeft=function(e,t){return t<=e},M.prototype.isBeyondPossibleRight=function(e,t){return e<=t},M.prototype.isBeyondPossibleTop=function(e,t){return t<=e},M.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},M.prototype.isImageSlide=function(e){e=this.core.galleryItems[e];return"image"===this.core.getSlideType(e)},M.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,t=t.get().getBoundingClientRect(),n=t.height,t=t.width;return e&&(n+=e*n,t+=e*t),{minY:(n-this.containerRect.height)/2,maxY:(this.containerRect.height-n)/2+i,minX:(t-this.containerRect.width)/2,maxX:(this.containerRect.width-t)/2}},M.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},M.prototype.zoomSwipe=function(){var i,n,o=this,s={},t={},a=!1,r=!1,l=!1,c=new Date,u=(new Date,this.core.getSlideItem(this.core.index));this.core.$inner.on("touchstart.lg",function(e){var t;o.isImageSlide(o.core.index)&&(u=o.core.getSlideItem(o.core.index),o.$LG(e.target).hasClass("lg-item")||u.get().contains(e.target))&&1===e.touches.length&&o.core.outer.hasClass("lg-zoomed")&&(e.preventDefault(),c=new Date,o.core.touchAction="zoomSwipe",n=o.core.getSlideItem(o.core.index).find(".lg-img-wrap").first(),t=o.getDragAllowedAxises(0),l=t.allowY,((r=t.allowX)||l)&&(s=o.getSwipeCords(e)),i=o.getPossibleSwipeDragCords(),o.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition"))}),this.core.$inner.on("touchmove.lg",function(e){1===e.touches.length&&"zoomSwipe"===o.core.touchAction&&(o.$LG(e.target).hasClass("lg-item")||u.get().contains(e.target))&&(e.preventDefault(),o.core.touchAction="zoomSwipe",t=o.getSwipeCords(e),e=o.getZoomSwipeCords(s,t,r,l,i),15<Math.abs(t.x-s.x)||15<Math.abs(t.y-s.y))&&(a=!0,o.setZoomSwipeStyles(n,e))}),this.core.$inner.on("touchend.lg",function(e){"zoomSwipe"===o.core.touchAction&&(o.$LG(e.target).hasClass("lg-item")||u.get().contains(e.target))&&(e.preventDefault(),o.core.touchAction=void 0,o.core.outer.removeClass("lg-zoom-dragging"),a)&&(a=!1,e=(new Date).valueOf()-c.valueOf(),o.touchendZoom(s,t,r,l,e))})},M.prototype.zoomDrag=function(){var i,t,n,o,s=this,a={},r={},l=!1,c=!1,u=!1,d=!1;this.core.outer.on("mousedown.lg.zoom",function(e){var t;s.isImageSlide(s.core.index)&&(t=s.core.getSlideItem(s.core.index),s.$LG(e.target).hasClass("lg-item")||t.get().contains(e.target))&&(i=new Date,o=s.core.getSlideItem(s.core.index).find(".lg-img-wrap").first(),t=s.getDragAllowedAxises(0))&&(d=t.allowY,u=t.allowX,s.core.outer.hasClass("lg-zoomed"))&&s.$LG(e.target).hasClass("lg-object")&&(u||d)&&(e.preventDefault(),a=s.getDragCords(e),n=s.getPossibleSwipeDragCords(),l=!0,s.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(e){l&&(c=!0,r=s.getDragCords(e),e=s.getZoomSwipeCords(a,r,u,d,n),s.setZoomSwipeStyles(o,e))}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(e){l&&(t=new Date,l=!1,s.core.outer.removeClass("lg-zoom-dragging"),!c||a.x===r.x&&a.y===r.y||(r=s.getDragCords(e),e=t.valueOf()-i.valueOf(),s.touchendZoom(a,r,u,d,e)),c=!1),s.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},M.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},M.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),window.removeEventListener("wheel",this.dealWheelEvent),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},M),d=function(){return(d=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Te="lgSlideItemLoad",Ie="lgBeforeSlide",Pe="lgRotateLeft",Ae="lgRotateRight",De="lgFlipHorizontal",Ee="lgFlipVertical",Oe={rotate:!0,rotateSpeed:400,rotateLeft:!0,rotateRight:!0,flipHorizontal:!0,flipVertical:!0,rotatePluginStrings:{flipVertical:"Flip vertical",flipHorizontal:"Flip horizontal",rotateLeft:"Rotate left",rotateRight:"Rotate right"}};N.prototype.buildTemplates=function(){var e="";this.settings.flipVertical&&(e+='<button type="button" id="lg-flip-ver" aria-label="'+this.settings.rotatePluginStrings.flipVertical+'" class="lg-flip-ver lg-icon"></button>'),this.settings.flipHorizontal&&(e+='<button type="button" id="lg-flip-hor" aria-label="'+this.settings.rotatePluginStrings.flipHorizontal+'" class="lg-flip-hor lg-icon"></button>'),this.settings.rotateLeft&&(e+='<button type="button" id="lg-rotate-left" aria-label="'+this.settings.rotatePluginStrings.rotateLeft+'" class="lg-rotate-left lg-icon"></button>'),this.settings.rotateRight&&(e+='<button type="button" id="lg-rotate-right" aria-label="'+this.settings.rotatePluginStrings.rotateRight+'" class="lg-rotate-right lg-icon"></button>'),this.core.$toolbar.append(e)},N.prototype.init=function(){var t=this;this.settings.rotate&&(this.buildTemplates(),this.rotateValuesList={},this.core.LGel.on(Te+".rotate",function(e){e=e.detail.index;t.core.getSlideItem(e).find(".lg-img-rotate").get()||(t.core.getSlideItem(e).find(".lg-object").first().wrap("lg-img-rotate"),t.core.getSlideItem(t.core.index).find(".lg-img-rotate").css("transition-duration",t.settings.rotateSpeed+"ms"))}),this.core.outer.find("#lg-rotate-left").first().on("click.lg",this.rotateLeft.bind(this)),this.core.outer.find("#lg-rotate-right").first().on("click.lg",this.rotateRight.bind(this)),this.core.outer.find("#lg-flip-hor").first().on("click.lg",this.flipHorizontal.bind(this)),this.core.outer.find("#lg-flip-ver").first().on("click.lg",this.flipVertical.bind(this)),this.core.LGel.on(Ie+".rotate",function(e){t.rotateValuesList[e.detail.index]||(t.rotateValuesList[e.detail.index]={rotate:0,flipHorizontal:1,flipVertical:1})}))},N.prototype.applyStyles=function(){this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().css("transform","rotate("+this.rotateValuesList[this.core.index].rotate+"deg) scale3d("+this.rotateValuesList[this.core.index].flipHorizontal+", "+this.rotateValuesList[this.core.index].flipVertical+", 1)")},N.prototype.rotateLeft=function(){this.rotateValuesList[this.core.index].rotate-=90,this.applyStyles(),this.triggerEvents(Pe,{rotate:this.rotateValuesList[this.core.index].rotate})},N.prototype.rotateRight=function(){this.rotateValuesList[this.core.index].rotate+=90,this.applyStyles(),this.triggerEvents(Ae,{rotate:this.rotateValuesList[this.core.index].rotate})},N.prototype.getCurrentRotation=function(e){if(e){e=this.$LG(e).style(),e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform")||"none";if("none"!==e){var e=e.split("(")[1].split(")")[0].split(",");if(e)return(e=Math.round(Math.atan2(e[1],e[0])*(180/Math.PI)))<0?e+360:e}}return 0},N.prototype.flipHorizontal=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),e=this.getCurrentRotation(e),e=90!==e&&270!==e?"flipHorizontal":"flipVertical";this.rotateValuesList[this.core.index][e]*=-1,this.applyStyles(),this.triggerEvents(De,{flipHorizontal:this.rotateValuesList[this.core.index][e]})},N.prototype.flipVertical=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),e=this.getCurrentRotation(e),e=90!==e&&270!==e?"flipVertical":"flipHorizontal";this.rotateValuesList[this.core.index][e]*=-1,this.applyStyles(),this.triggerEvents(Ee,{flipVertical:this.rotateValuesList[this.core.index][e]})},N.prototype.triggerEvents=function(e,t){var i=this;setTimeout(function(){i.core.LGel.trigger(e,t)},this.settings.rotateSpeed+10)},N.prototype.isImageOrientationChanged=function(){var e,t,i=this.rotateValuesList[this.core.index];if(i)return e=Math.abs(i.rotate)%360!=0,t=i.flipHorizontal<0,i=i.flipVertical<0,e||t||i},N.prototype.closeGallery=function(){this.isImageOrientationChanged()&&this.core.getSlideItem(this.core.index).css("opacity",0),this.rotateValuesList={}},N.prototype.destroy=function(){this.core.LGel.off(".lg.rotate"),this.core.LGel.off(".rotate")};var Le=N,h=function(){return(h=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ne={fullScreen:!0,fullscreenPluginStrings:{toggleFullscreen:"Toggle Fullscreen"}};L.prototype.init=function(){var e;this.settings.fullScreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(e='<button type="button" aria-label="'+this.settings.fullscreenPluginStrings.toggleFullscreen+'" class="lg-fullscreen lg-icon"></button>',this.core.$toolbar.append(e),this.fullScreen())},L.prototype.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},L.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},L.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},L.prototype.fullScreen=function(){var e=this;this.$LG(document).on("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-fullscreen-on")}),this.core.outer.find(".lg-fullscreen").first().on("click.lg",function(){e.isFullScreen()?e.exitFullscreen():e.requestFullscreen()})},L.prototype.closeGallery=function(){this.isFullScreen()&&this.exitFullscreen()},L.prototype.destroy=function(){this.$LG(document).off("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Me=L,p=function(){return(p=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Be={nasDownload:!0,nasdownloadPluginStrings:{download:"Download"}};O.prototype.init=function(){var e;this.settings.nasDownload&&(e='<button type="button" aria-label="'+this.settings.nasdownloadPluginStrings.download+'" class="lg-nasdownload lg-icon"></button>',this.core.$toolbar.append(e),this.nasDownload())},O.prototype.nasDownload=function(){var e=this;this.$LG(document).on("nasdownloadchange.lg.global"+this.core.lgId+" \n            webkitnasdownloadchange.lg.global"+this.core.lgId+" \n            moznasdownloadchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nasdownload-on")}),this.core.outer.find(".lg-nasdownload").first().on("click.lg",function(){e.core.LGel.trigger("onDownloadClick")})},O.prototype.closeGallery=function(){},O.prototype.destroy=function(){this.$LG(document).off("nasdownloadchange.lg.global"+this.core.lgId+" \n            webkitnasdownloadchange.lg.global"+this.core.lgId+" \n            moznasdownloadchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Fe=O,f=function(){return(f=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Re={nasHelp:!0,nashelpPluginStrings:{help:"Help"}};E.prototype.init=function(){var e;this.settings.nasHelp&&(e='<button type="button" aria-label="'+this.settings.nashelpPluginStrings.help+'" class="lg-nashelp lg-icon"></button>',this.core.$toolbar.append(e),this.nasHelp())},E.prototype.nasHelp=function(){var e=this;this.$LG(document).on("nashelpchange.lg.global"+this.core.lgId+" \n            webkitnashelpchange.lg.global"+this.core.lgId+" \n            moznashelpchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nashelp-on")}),this.core.outer.find(".lg-nashelp").first().on("click.lg",function(){e.core.LGel.trigger("onHelpClick")})},E.prototype.closeGallery=function(){},E.prototype.destroy=function(){this.$LG(document).off("nashelpchange.lg.global"+this.core.lgId+" \n            webkitnashelpchange.lg.global"+this.core.lgId+" \n            moznashelpchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var je=E,m=function(){return(m=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ue={nasExif:!0,nasexifPluginStrings:{exif:"Exif"}};D.prototype.init=function(){var e;this.settings.nasExif&&(e='<button type="button" aria-label="'+this.settings.nasexifPluginStrings.exif+'" class="lg-nasexif lg-icon"></button>',this.core.$toolbar.append(e),this.nasExif())},D.prototype.nasExif=function(){var e=this;this.$LG(document).on("nasexifchange.lg.global"+this.core.lgId+" \n            webkitnasexifchange.lg.global"+this.core.lgId+" \n            moznasexifchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nasexif-on")}),this.core.outer.find(".lg-nasexif").first().on("click.lg",function(){e.core.LGel.trigger("onExifClick")})},D.prototype.closeGallery=function(){},D.prototype.destroy=function(){this.$LG(document).off("nasexifchange.lg.global"+this.core.lgId+" \n            webkitnasexifchange.lg.global"+this.core.lgId+" \n            moznasexifchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var Ve=D,g=function(){return(g=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$e={nasRemove:!0,nasremovePluginStrings:{remove:"Remove"}};A.prototype.init=function(){var e;this.settings.nasRemove&&(e='<button type="button" aria-label="'+this.settings.nasremovePluginStrings.remove+'" class="lg-nasremove lg-icon"></button>',this.core.$toolbar.append(e),this.nasRemove())},A.prototype.nasRemove=function(){var e=this;this.$LG(document).on("nasremovechange.lg.global"+this.core.lgId+" \n            webkitnasremovechange.lg.global"+this.core.lgId+" \n            moznasremovechange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){e.core.lgOpened&&e.core.outer.toggleClass("lg-nasremove-on")}),this.core.outer.find(".lg-nasremove").first().on("click.lg",function(){e.core.LGel.trigger("onRemoveClick")})},A.prototype.closeGallery=function(){},A.prototype.destroy=function(){this.$LG(document).off("nasremovechange.lg.global"+this.core.lgId+" \n            webkitnasremovechange.lg.global"+this.core.lgId+" \n            moznasremovechange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)};var ze=A,y=function(){return(y=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},We="lgSlideItemLoad",He="lgBeforeSlide",qe="lgAfterSlide",Ge="lgDragStart",Ye="lgDragEnd",Qe="lgAutoplay",Ke="lgAutoplayStart",Xe="lgAutoplayStop",Ze={autoplay:!0,slideShowAutoplay:!1,slideShowInterval:5e3,progressBar:!0,forceSlideShowAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar",autoplayPluginStrings:{toggleAutoplay:"Toggle Autoplay"}};P.prototype.init=function(){var e=this;this.settings.autoplay&&(this.interval=!1,this.fromAuto=!0,this.pausedOnTouchDrag=!1,this.pausedOnSlideChange=!1,this.settings.autoplayControls&&this.controls(),this.settings.progressBar&&this.core.outer.append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),this.settings.slideShowAutoplay&&this.core.LGel.once(We+".autoplay",function(){e.startAutoPlay()}),this.core.LGel.on(Ge+".autoplay touchstart.lg.autoplay",function(){e.interval&&(e.stopAutoPlay(),e.pausedOnTouchDrag=!0)}),this.core.LGel.on(Ye+".autoplay touchend.lg.autoplay",function(){!e.interval&&e.pausedOnTouchDrag&&(e.startAutoPlay(),e.pausedOnTouchDrag=!1)}),this.core.LGel.on(He+".autoplay",function(){e.showProgressBar(),!e.fromAuto&&e.interval?(e.stopAutoPlay(),e.pausedOnSlideChange=!0):e.pausedOnSlideChange=!1,e.fromAuto=!1}),this.core.LGel.on(qe+".autoplay",function(){e.pausedOnSlideChange&&!e.interval&&e.settings.forceSlideShowAutoplay&&(e.startAutoPlay(),e.pausedOnSlideChange=!1)}),this.showProgressBar())},P.prototype.showProgressBar=function(){var e,t,i=this;this.settings.progressBar&&this.fromAuto&&(e=this.core.outer.find(".lg-progress-bar"),t=this.core.outer.find(".lg-progress"),this.interval)&&(t.removeAttr("style"),e.removeClass("lg-start"),setTimeout(function(){t.css("transition","width "+(i.core.settings.speed+i.settings.slideShowInterval)+"ms ease 0s"),e.addClass("lg-start")},20))},P.prototype.controls=function(){var e=this,t='<button aria-label="'+this.settings.autoplayPluginStrings.toggleAutoplay+'" type="button" class="lg-autoplay-button lg-icon"></button>';this.core.outer.find(this.settings.appendAutoplayControlsTo).append(t),this.core.outer.find(".lg-autoplay-button").first().on("click.lg.autoplay",function(){e.core.outer.hasClass("lg-show-autoplay")?e.stopAutoPlay():e.interval||e.startAutoPlay()})},P.prototype.startAutoPlay=function(){var e=this;this.core.outer.find(".lg-progress").css("transition","width "+(this.core.settings.speed+this.settings.slideShowInterval)+"ms ease 0s"),this.core.outer.addClass("lg-show-autoplay"),this.core.outer.find(".lg-progress-bar").addClass("lg-start"),this.core.LGel.trigger(Ke,{index:this.core.index}),this.interval=setInterval(function(){e.core.index+1<e.core.galleryItems.length?e.core.index++:e.core.index=0,e.core.LGel.trigger(Qe,{index:e.core.index}),e.fromAuto=!0,e.core.slide(e.core.index,!1,!1,"next")},this.core.settings.speed+this.settings.slideShowInterval)},P.prototype.stopAutoPlay=function(){this.interval&&(this.core.LGel.trigger(Xe,{index:this.core.index}),this.core.outer.find(".lg-progress").removeAttr("style"),this.core.outer.removeClass("lg-show-autoplay"),this.core.outer.find(".lg-progress-bar").removeClass("lg-start")),clearInterval(this.interval),this.interval=!1},P.prototype.closeGallery=function(){this.stopAutoPlay()},P.prototype.destroy=function(){this.settings.autoplay&&this.core.outer.find(".lg-progress-bar").remove(),this.core.LGel.off(".lg.autoplay"),this.core.LGel.off(".autoplay")};var Je=P,v=function(){return(v=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},et={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},tt="lgPosterClick",b=!1;I.prototype.init=function(){var t=this;this.core.LGel.on(tt+".video",function(e){b||(b=!0,setTimeout(function(){b=!1},500),e.target,t.core.getSlideItem(t.core.index),t.core.LGel.trigger("onVideoPlayBtnClick",{index:t.core.index}))}),I.prototype.destroy=function(){}};var it=I,_=(t("b680"),t("8a79"),t("e11e")),C=t.n(_),nt=(t("6cc5"),t("be3b")),_={name:"photo-exif",props:{indexObj:"",serverType:{default:"photo",type:String}},mounted:function(){var e=this;this.$nextTick(function(){e.initExif()})},data:function(){return{currentTilesServer:"",showMap:!1,dateEditing:!1,editDateValue:null,exifInfo:"",exifStr:"",geoStr:null,map:null,imgMaker:null}},watch:{indexObj:function(e,t){var i=this;this.$nextTick(function(){i.initExif()})}},methods:{initExif:function(){var e=this;this.indexObj&&(this.showMap=!1,this.getExifInfo(),this.getPositionStr(),this.dateEditing=!1,this.editDateValue=null,this.indexObj&&1==this.indexObj.type&&(this.showMap=!0),this.indexObj&&2==this.indexObj.type&&this.indexObj.latitude&&"undefined"!=this.indexObj.latitude&&(this.showMap=!0),"photo"!=this.serverType&&(this.showMap=!1),this.$nextTick(function(){e.map&&(e.map.remove(),e.map=null),e.getZoomInfo()}))},getZoomInfo:function(){var t=this;this.api.post("/api/mapApi/getZoom",{hideLoading:!0}).then(function(e){e.code||(e.tileServer&&(t.currentTilesServer=e.tileServer),t.initMap(parseInt(e.zoomInfo.minZoom),parseInt(e.zoomInfo.maxZoom)))}).catch(function(e){})},onDateChange:function(e){this.editDateValue=e},submitNewDate:function(){var e=this;this.showVsConfirmDialog(this.$t("common.confirm"),this.$t("photo.confirmChangePhotoTime"),function(){e.editExifByIndexId(null,null,e.editDateValue)})},addMarker:function(){var e=C.a.icon({iconUrl:"icon_position.png",iconSize:[38,38]}),t=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude);this.imgMaker=C.a.marker([t[1],t[0]],{icon:e}),this.map&&this.imgMaker&&this.imgMaker.addTo(this.map)},initMap:function(e,t){var i,n,o,s,a,r=this;this.showMap&&(i=!0,this.indexObj.latitude&&this.indexObj.longitude&&"undefined"!=this.indexObj.longitude&&"undefined"!=this.indexObj.longitude||(i=!1),a=nt.a.mapUrl(),o=null,n=t,o=i?(s=this.utils.transCoordinateForShow(this.currentTilesServer,this.indexObj.longitude,this.indexObj.latitude),new C.a.LatLng(s[1],s[0])):(n=3,new C.a.LatLng(36,106)),s=new C.a.TileLayer(a,{minZoom:e,maxZoom:t,attribution:"NORMAL"}),a=C.a.latLng(-90,-360),e=C.a.latLng(90,360),t=C.a.latLngBounds(a,e),this.map=new C.a.Map("exifmap",{maxBounds:t,zoom:n,center:o,layers:[s],attributionControl:!1}),this.map,this.map.on("click",function(t){if(1!=r.indexObj.type)return r.showVsNotification(r.$t("photo.onlySupportPhoto"));new Date,r.showVsConfirmDialog(r.$t("common.confirm"),r.$t("photo.changePosition"),function(){var e=r.utils.transCoordinateForSet(r.currentTilesServer,t.latlng.lng,t.latlng.lat);r.editExifByIndexId(e[1],e[0])})}),i)&&this.addMarker()},changeExifTime:function(){this.dateEditing=!0},editExifByIndexId:function(e,t,i){var n=this;if(1!=this.indexObj.type||!this.indexObj.filename.toLowerCase().endsWith(".jpeg")&&!this.indexObj.filename.toLowerCase().endsWith(".jpg"))return this.showVsNotification(this.$t("photo.onlySupportPhoto"));this.api.post("/api/photoApi/editExifByIndexId",{latitude:e,longitude:t,newDate:i,id:this.indexObj.id}).then(function(e){e.code||(n.$emit("onIndexUpdate",e.newIndex),n.$bus.$emit("onIndexUpdate",e.newIndex),n.initExif())}).catch(function(e){})},getPositionStr:function(){var t=this;this.indexObj.geohash&&(this.indexObj.id,this.api.post("/api/mapApi/getLocationStr",{hideLoading:!0,indexId:this.indexObj.id}).then(function(e){e.code||(t.geoStr=e.geo.name+" "+e.geo.cn_name)}).catch(function(e){}))},getExifInfo:function(){var n=this;this.api.post("/api/fileApi/getInfo",{hideLoading:!0,indexId:this.indexObj.id}).then(function(e){var t,e=e.data,i="";e.exifInfo&&(e.exifInfo.FNumber&&(i+="f/"+e.exifInfo.FNumber),e.exifInfo.ExposureTime&&(i+=" 1/"+Math.round(1/e.exifInfo.ExposureTime)),e.exifInfo.FocalLength&&(t=Math.round(e.exifInfo.FocalLength),Math.round(e.exifInfo.FocalLengthIn35mmFormat),i+=" ".concat(t,"mm")),e.exifInfo.ISO)&&(t=Math.round(e.exifInfo.ISO),i+=" ISO:".concat(t)),n.exifInfo=e.exifInfo,n.exifStr=i}).catch(function(e){})},closeExif:function(){this.$emit("closeExif")},clearTinyImg:function(){var t=this;this.api.post("/api/fileApi/clearTinyImg",{indexId:this.indexObj.id}).then(function(e){e.code||t.showVsNotification(t.$t("file.resetTinyImgSuccess"))}).catch(function(e){t.showVsNotification(t.$t("common.operationFail"))})}}},k=(t("1903"),t("2877")),_=Object(k.a)(_,function(){var t=this,e=t._self._c;return e("div",{staticClass:"exif-root"},[e("div",{staticClass:"exif-wrapper"},[t.indexObj&&t.indexObj.original_date?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-calendar",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.original_date))]),t.dateEditing?e("div",{staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[e("DatePicker",{staticStyle:{width:"175px"},attrs:{editable:!0,type:"datetime",placeholder:t.$t("photo.selectPhotoTakeTime")},on:{"on-change":t.onDateChange}}),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-close",size:"24"},on:{click:function(e){e.stopPropagation(),t.dateEditing=!1,t.editDateValue=null}}}),t.editDateValue?e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-checkmark",size:"24"},on:{click:function(e){return e.stopPropagation(),t.submitNewDate.apply(null,arguments)}}}):t._e()],1):t._e(),t.dateEditing?t._e():e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.utils.formatTimeStamp(t.indexObj.original_time))+" "),e("Icon",{staticStyle:{cursor:"pointer","margin-left":"5px"},attrs:{color:"white",type:"md-create"},on:{click:function(e){return e.stopPropagation(),t.changeExifTime.apply(null,arguments)}}})],1)])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[e("Icon",{attrs:{color:"white",type:"md-document",size:"24"}}),e("div",{staticClass:"exif-item-right"},[e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.path)+" "),e("Tooltip",{attrs:{disabled:t.isMobile,content:t.$t("openInSystem")}},[t.showOpenInSystem?e("a",{staticStyle:{"margin-left":"5px"},on:{click:function(e){return t.openInSystem(t.indexObj.path,t.indexObj.filename,null,"showItemInFolder")}}},[t._v(t._s(t.$t("open")))]):t._e()])],1),e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.filename)+" "),e("Tooltip",{attrs:{disabled:t.isMobile,content:t.$t("openInSystem")}},[t.showOpenInSystem?e("a",{staticStyle:{"margin-left":"5px"},on:{click:function(e){return t.openInSystem(t.indexObj.path,t.indexObj.filename,null)}}},[t._v(t._s(t.$t("open")))]):t._e()])],1),e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s((t.indexObj.size/1024/1024).toFixed(2))+"MB "),t.indexObj.height&&"undefined"!=t.indexObj.height?e("span",[t._v(t._s(t.indexObj.width)+"x"+t._s(t.indexObj.height))]):t._e()])])],1):t._e(),t.indexObj?e("div",{staticClass:"exif-item-root"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode||t.exifStr||t.exifInfo&&t.exifInfo.LensModel?e("Icon",{attrs:{color:"white",type:"ios-aperture",size:"24"}}):t._e(),e("div",{staticClass:"exif-item-right"},[t.indexObj.mode&&"undefined"!=t.indexObj.mode?e("p",{staticClass:"exif-item-text-top"},[t._v(t._s(t.indexObj.mode))]):t._e(),t.exifStr?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifStr))]):t._e(),t.exifInfo&&t.exifInfo.LensModel?e("p",{staticClass:"exif-item-text-bottom"},[t._v(t._s(t.exifInfo.LensModel)+" ")]):t._e()])],1):t._e(),t.geoStr&&" "!=t.geoStr?e("div",{staticClass:"geo-root"},[e("div",{staticClass:"geo-title-root"},[e("Icon",{attrs:{color:"white",type:"md-pin",size:"24"}}),e("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.geoStr))])],1)]):t._e(),t.showMap?e("div",{staticStyle:{"margin-top":"20px",width:"100%",height:"300px"},attrs:{id:"exifmap"}}):t._e()])])},[],!1,null,"37a546fb",null).exports,ot=t("2cc5"),x=t("5d55"),T=t("af7e"),st=t.n(T);t("cb7c");T={data:function(){return{isPlayingRaw:!0,duration:0,vPlayer:null}},mounted:function(){},beforeDestroy:function(){this.vPlayer&&(this.vPlayer.dispose(),this.vPlayer=null)},methods:{getTransCodeUrl:function(e){var t="".concat(nt.a.baseUrl,"/api/transCode/play/stream.mp4?format=mp4&"),i="&token=".concat(this.getToken()),t="".concat(t,"serverType=photo&indexId=").concat(e.id).concat(i);return t},videoClick:function(){this.$emit("onClose")},initVideoPlayer:function(n){var o=this;this.vPlayer=st()(this.$refs.player,{errorDisplay:!1,suppressNotSupportedError:!1},function(){this.on("error",function(e,t){var i;o.isPlayingRaw&&(i=o.vPlayer.error())&&(4==i.code||3==i.code)&&o.playVideo(n,!0)})})},playVideo:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e&&(this.vPlayer||this.initVideoPlayer(e),t=e.rawUrl,i&&(this.isPlayingRaw=!1,t=this.getTransCodeUrl(e)),this.duration=e.duration,this.vPlayer.src({type:"video/mp4",src:t}),this.vPlayer.loop(!0),this.vPlayer.play())}}};t("e09e");T={name:"photo-detail",components:{livephotoPlay:Object(k.a)(T,function(){var e=this._self._c;return e("div",{staticClass:"root-livephoto-player"},[e("video",{ref:"player",staticClass:"video-js vjs-fill",attrs:{duration:this.duration,"x5-video-player-type":"h5","object-fit":"fill",width:"100%",height:"100%",preload:"auto",id:"player","webkit-playsinline":"",playsinline:"",crossorigin:"anonymous",autoplay:""}}),e("div",{staticStyle:{position:"fixed",width:"100%",height:"100%","z-index":"1"},on:{click:this.videoClick}})])},[],!1,null,"3845ddce",null).exports,videoDetail:x.default,photoExif:_,photoRawDetal:function(){return Promise.resolve().then(t.bind(null,"d3ac"))}},props:{galleryId:{default:"dynamicGallery",type:String},fromSpace:{default:!1,type:Boolean},fromFolderBrower:{default:!1,type:Boolean},serverType:{default:"photo",type:String},fromFileBrower:{default:!1,type:Boolean},enableExif:{default:!0,type:Boolean},enableRemove:{default:!1,type:Boolean}},data:function(){return{imagePreviewType:"RAW",imagePreviewSize:3e3,imagePreviewQuality:77,deleteRawType:"ALL",showDeleteRaw:!1,showLivePhotoVideoDetail:!1,showVideoDetail:!1,imgIndex:0,showExif:!1,indexObj:null,showList:[],galleryEl:null,galleryInstance:null,galleryElList:null}},created:function(){localStorage.imagePreviewType&&["RAW","CUSTOM"].includes(localStorage.imagePreviewType)&&(this.imagePreviewType=localStorage.imagePreviewType),localStorage.imagePreviewSize&&1e3<=localStorage.imagePreviewSize&&localStorage.imagePreviewSize<=1e4&&(this.imagePreviewSize=parseInt(localStorage.imagePreviewSize)),localStorage.imagePreviewQuality&&30<=localStorage.imagePreviewQuality&&localStorage.imagePreviewQuality<=100&&(this.imagePreviewQuality=parseInt(localStorage.imagePreviewQuality))},mounted:function(){var e=this;window.addEventListener("keydown",this.dealEsc),this.$bus.$on("eventCloseLightGallery",function(){e.galleryInstance.closeGallery(),window.activeGallery=null})},beforeDestroy:function(){this.$bus.$off("eventCloseLightGallery"),this.galleryInstance&&this.galleryInstance.destroyGallery(),window.removeEventListener("keydown",this.dealEsc),window.activeGallery=null},methods:{dealEsc:function(e){"Escape"===e.key?(this.historyBack(),e.stopPropagation()):"Delete"===e.key?this.deleteIndex():"Space"===e.code?this.showLivePhotoVideoDetail?this.showLivePhotoVideoDetail=!1:2==this.indexObj.type&&1!=this.indexObj.is_livephoto?this.onPlayBtnClick():1==this.indexObj.is_livephoto&&this.playLivephoto():"Enter"===e.key&&this.onExifClick()},onIndexUpdate:function(e){for(var t in this.showList)this.showList[t].id==e.id&&(this.showList[t]=e,this.indexObj=e)},onClose:function(){window.activeGallery=null,this.$emit("onClose")},closeGallery:function(){this.galleryInstance&&this.galleryInstance.closeGallery()},closeExif:function(){this.showExif=!1,localStorage.setItem("showExif","0")},dealEvent:function(e){var i=this;e&&(e.addEventListener("onExifClick",function(e){i.onExifClick()},!1),e.addEventListener("lgAfterClose",function(e){i.onClose()},!1),e.addEventListener("onHelpClick",function(e){i.showVsAlertDialog(i.$t("common.alert"),i.$t("photo.help"))}),e.addEventListener("lgAfterSlide",function(e){i.showDeleteRaw&&(i.showDeleteRaw=!1),e.target,i.indexObj=i.showList[e.detail.index],i.imgIndex=e.detail.index,i.imgIndex,i.imgIndex==i.showList.length-1&&i.$emit("galleryLoadMoreNext"),0==i.imgIndex&&i.$emit("galleryLoadMorePre");e=document.getElementById("livephotoBtn");e&&(e.onclick=function(){i.playLivephoto()})},!1),e.addEventListener("onVideoPlayBtnClick",function(e){i.onPlayBtnClick()},!1),e.addEventListener("onRemoveClick",function(e){i.deleteIndex()},!1),e.addEventListener("onDownloadClick",function(e){var t=i.indexObj;1==t.is_livephoto&&t.livephotoIndex&&t.livephotoIndex.videoIndex&&t.livephotoIndex.photoIndex?(i.downloadFile([t.livephotoIndex.videoIndex.rawUrl]),i.downloadFile([t.livephotoIndex.photoIndex.rawUrl])):t.raw_filename&&t.rawImageIndex?(i.downloadFile([t.rawUrl]),i.downloadFile([t.rawImageIndex.rawUrl])):i.downloadImg()},!1))},onExifClick:function(){var e=this;this.enableExif&&(this.showExif=!this.showExif,this.$refs.exif)&&this.showExif&&this.$nextTick(function(){e.$refs.exif.getExifInfo(),e.$refs.exif.getPositionStr()})},playLivephoto:function(){var e=this;this.showLivePhotoVideoDetail=!0,setTimeout(function(){e.indexObj,e.$refs.livephotoPlayer.playVideo(e.indexObj.livephotoIndex.videoIndex,!e.isFromApp)},300)},onPlayBtnClick:function(){var e,t=this,i=this.imgIndex,n=[];for(e in this.showList){var o=this.showList[e];e==i&&(i=n.length),2==o.type&&n.push(o)}"1"==localStorage.getItem("rawPlayer")||this.isIosSupportRawPlayer()?ot.a.playVideo({playIndex:i,playList:n,token:this.$store.state.token,fromFileBrower:this.fromFileBrower}):(this.showVideoDetail=!0,this.addModalToList(this.$refs.refModalVideoDetail),this.$nextTick(function(){t.$refs.galleryVideoPlayer.playVideo(n,i)}))},downloadImg:function(){var e=(e=this.indexObj.url).replace("tinyImg","rawFile");this.downloadFile([e])},putInTrash:function(e){var t=this;this.api.post("/api/fileApi/inOutTrash",{ids:e,trash:1}).then(function(e){if(!e.code&&(t.showDeleteRaw=!1,t.$bus.$emit("removeIndexById",t.showList[t.imgIndex].id),t.showVsNotification(t.$t("file.putInTrashSuc")),t.showList)&&t.galleryInstance)if(t.showList.splice(t.imgIndex,1),t.genElList(t.showList),t.elList.length<1)t.galleryInstance.closeGallery();else{e=t.galleryInstance.index;e>t.elList.length-1&&(e=0),t.galleryInstance.refresh(t.elList),t.galleryInstance.updateSlides(t.elList,e);try{t.galleryInstance.$lgComponents.firstElement.children[0].innerHTML=t.elList[e].subHtml}catch(e){}}}).catch(function(e){})},deleteRaw:function(){var e=[],t=this.showList[this.imgIndex];"ALL"==this.deleteRawType?(e.push(t.id),e.push(t.rawImageIndex.id)):"JPG"==this.deleteRawType?e.push(t.id):"RAW"==this.deleteRawType&&e.push(t.rawImageIndex.id),this.putInTrash(e)},deleteIndex:function(){this.fromSpace?this.$emit("onClickDelete",this.showList[this.imgIndex].id):this.fromFileBrower?this.$emit("onClickDelete",this.showList[this.imgIndex].fileFullPath):this.showList[this.imgIndex].rawImageIndex?this.showDeleteRaw=!0:this.putInTrash([this.showList[this.imgIndex].id])},getGalleryElItemFromIndex:function(e){var t,i,n,o,s;return e.url?(o=i=s="",n=null,(t=e.url)?(s=t.replace("tinyImg","rawFile"),"CUSTOM"==this.imagePreviewType&&(this.imagePreviewQuality&&30<=this.imagePreviewQuality&&this.imagePreviewQuality<=100&&(s+="&quality=".concat(this.imagePreviewQuality)),this.imagePreviewSize)&&1e3<=this.imagePreviewSize&&this.imagePreviewSize<=1e4&&(s+="&size=".concat(this.imagePreviewSize)),o=this.fromFolderBrower||this.fromSpace?(i=e.title,""):(i=e.filename,e.original_date),s={photo:e,src:s,poster:n=2==e.type?t:n,subHtml:"<h4>".concat(i,"</h4><p>").concat(o,"</p>")},e.livephotoIndex&&e.livephotoIndex.photoIndex&&e.livephotoIndex.videoIndex&&(i="["+e.livephotoIndex.photoIndex.filename+"] ["+e.livephotoIndex.videoIndex.filename+"]",s.subHtml='\n\n          <div style="margin-bottom:5px;display:flex;flex-direction:row;align-items: center;justify-content: center;">\n            <div id="livephotoBtn" style="display:flex;flex-direction:row;align-items: center;background-color:rgba(255,255,255,0.7);border-radius:3px;padding-left:10px;padding-right:10px;cursor:pointer;margin-right:10px">\n              <span style="font-size: 14px;color: #333333;" class="nasIcons icon-play"></span>\n              <span style="font-size: 12px;color:#333333">LIVE PHOTO</span>\n            </div>\n          </div>\n          <h4>'.concat(o," - ").concat(i,"</h4>\n\n      ")),0==e.is_raw&&e.rawImageIndex&&""!=e.raw_filename&&null!=e.raw_filename&&(this.$t("common.download"),i="["+e.filename+"] ["+e.raw_filename+"]",s.subHtml='\n          <div style="margin-bottom:5px;display:flex;flex-direction:row;align-items: center;justify-content: center;">\n            <div id="rawBtn" style="display:flex;flex-direction:row;align-items: center;background-color:rgba(255,255,255,0.7);border-radius:3px;padding-left:10px;padding-right:10px;cursor:pointer;margin-right:10px">\n              <span style="font-size: 12px;color:#333333">'.concat(e.ext?e.ext.replace(".",""):""," + RAW</span>\n            </div>\n          </div>\n          <h4>").concat(o," - ").concat(i,"</h4>\n      ")),s):void 0):null},genElList:function(e){this.elList=[];var t,i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.getGalleryElItemFromIndex(n);o&&this.elList.push(o)}}catch(e){i.e(e)}finally{i.f()}},updateImageList:function(e,t){t=JSON.parse(JSON.stringify(t));if(e){t.reverse();var i,n=Object(u.a)(t);try{for(n.s();!(i=n.n()).done;){var o=i.value,s=this.getGalleryElItemFromIndex(o);s&&(this.showList.unshift(o),this.elList.unshift(s))}}catch(e){n.e(e)}finally{n.f()}this.galleryInstance.refresh(this.elList),this.galleryInstance.updateSlides(this.elList,this.galleryInstance.index+t.length)}else{var a,r=Object(u.a)(t);try{for(r.s();!(a=r.n()).done;){var l=a.value,c=this.getGalleryElItemFromIndex(l);c&&(this.showList.push(l),this.elList.push(c))}}catch(e){r.e(e)}finally{r.f()}this.galleryInstance.refresh(this.elList)}},showImg:function(e,t){var i=this,n=(this.pushState(),this.elList=[],this.showList=JSON.parse(JSON.stringify(e)),parseInt(t));this.showList,this.genElList(this.showList),this.galleryEl=this.$refs[this.galleryId],this.dealEvent(this.galleryEl),this.elList,this.$nextTick(function(){var e=[je,xe,Me,Le,Je,it,Fe],e=(i.isMobile&&(e=[xe,Me,Le,Je,it,Fe]),i.enableExif&&e.push(Ve),i.enableRemove&&e.push(ze),{speed:300,mode:"lg-fade",loop:!1,preload:1,counter:!0,plugins:e,index:n,dynamic:!0,dynamicEl:i.elList,hideBarsDelay:3e3,thumbnail:!1,actualSize:!1,showZoomInOutIcons:!0,download:!1,mobileSettings:{controls:!0}});i.galleryInstance&&i.galleryInstance.destroy(),i.galleryInstance=fe(i.galleryEl,e),window.activeGallery=i.galleryInstance,i.galleryInstance.openGallery(n)})}}},t("5e7e7"),t("c70f"),x=Object(k.a)(T,function(){var t=this,e=t._self._c;return e("div",{staticClass:"gallery_root"},[e("div",{ref:t.galleryId,staticStyle:{"background-color":"black"},attrs:{id:t.galleryId}}),e("vs-dialog",{attrs:{"not-padding":""},model:{value:t.showExif,callback:function(e){t.showExif=e},expression:"showExif"}},[e("div",{staticClass:"con-form"},[e("photo-exif",{ref:"exif",attrs:{serverType:t.serverType,indexObj:t.indexObj},on:{onIndexUpdate:t.onIndexUpdate,closeExif:t.closeExif}})],1)]),e("Modal",{ref:"refModalVideoDetail",attrs:{fullscreen:"","footer-hide":"",closable:!1,"z-index":61e3},model:{value:t.showVideoDetail,callback:function(e){t.showVideoDetail=e},expression:"showVideoDetail"}},[t.showVideoDetail?e("video-detail",{ref:"galleryVideoPlayer",attrs:{propsServerType:t.serverType,serverType:t.serverType,fromFileBrower:t.fromFileBrower},on:{onClose:function(e){return t.historyBack()}}}):t._e()],1),e("Modal",{ref:"refModalLvVideo",attrs:{"footer-hide":"",closable:!1,"z-index":61e3,fullscreen:""},model:{value:t.showLivePhotoVideoDetail,callback:function(e){t.showLivePhotoVideoDetail=e},expression:"showLivePhotoVideoDetail"}},[t.showLivePhotoVideoDetail?e("livephotoPlay",{ref:"livephotoPlayer",on:{onClose:function(e){t.showLivePhotoVideoDetail=!1}}}):t._e()],1),e("Modal",{attrs:{closable:!0,"z-index":61e3,width:250},scopedSlots:t._u([{key:"header",fn:function(){return[e("p",[e("span",[t._v(t._s(t.$t("chooseDeleteOption")))])])]},proxy:!0},{key:"footer",fn:function(){return[e("Button",{on:{click:function(e){t.showDeleteRaw=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("Button",{attrs:{type:"error"},on:{click:t.deleteRaw}},[t._v(t._s(t.$t("common.delete")))])]},proxy:!0}]),model:{value:t.showDeleteRaw,callback:function(e){t.showDeleteRaw=e},expression:"showDeleteRaw"}},[t.indexObj?e("RadioGroup",{model:{value:t.deleteRawType,callback:function(e){t.deleteRawType=e},expression:"deleteRawType"}},[e("div",[e("Radio",{attrs:{label:"ALL"}},[t._v(t._s(t.$t("common.delete"))+" "+t._s(t.indexObj.ext?t.indexObj.ext.replace(".",""):"")+"+RAW")])],1),e("div",[e("Radio",{attrs:{label:"JPG"}},[t._v(t._s(t.$t("common.delete"))+" "+t._s(t.indexObj.ext?t.indexObj.ext.replace(".",""):""))])],1),e("div",[e("Radio",{attrs:{label:"RAW"}},[t._v(t._s(t.$t("common.delete"))+" RAW")])],1)]):t._e()],1)],1)},[],!1,null,"5c39f100",null);function I(e){return this.core=e,this.settings=v(v({},et),this.core.settings),this}function P(e){return this.core=e,this.settings=y(y({},Ze),this.core.settings),this}function A(e,t){return this.core=e,this.$LG=t,this.settings=g(g({},$e),this.core.settings),this}function D(e,t){return this.core=e,this.$LG=t,this.settings=m(m({},Ue),this.core.settings),this}function E(e,t){return this.core=e,this.$LG=t,this.settings=f(f({},Re),this.core.settings),this}function O(e,t){return this.core=e,this.$LG=t,this.settings=p(p({},Be),this.core.settings),this}function L(e,t){return this.core=e,this.$LG=t,this.settings=h(h({},Ne),this.core.settings),this}function N(e,t){return this.core=e,this.$LG=t,this.settings=d(d({},Oe),this.core.settings),this}function M(e,t){return this.core=e,this.$LG=t,this.settings=c(c({},me),this.core.settings),this}e.default=x.exports},d69a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAINCAMAAACKxrymAAAA7VBMVEVHcEy4t8Gzs72wr7mysbt5eIl4d4p2dol6dIuCgo22tb54d4mqqLR4eIl4eIm6ucO8u8N4eIl3d4p4eImzsrx4eImurbewr7qrqrV4d4p4eIqsrLesrLarq7SmprG3t7+qqrNCUmatrbeioq2trLW5ucG1tb12d4mvrrh5eYp4eIl4eIp4d4p4eImoqLR4d4l2domtrbisqrV4d4l4eIh5eIqpqbN5eIp4eIm9vcUiPlJOWm6zs7taanpkanw2TGCnp7JmcYJBVWivr7lueImcnKmysbtzfY6Jj5yQk6BOYXO2tr8qRFh5gpGTl6OedVnFAAAAOHRSTlMA6MujtyE+XjAH2+k0x5H2+9JJucLzmqxnfIiFG10n4khkexBy79NzjBSxVWeoQN8pklNsNJxQoYvwJ9sAAAsPSURBVHgB7NXpTltXFMXx4iEUx8UEjG3CYOQJFBQ3oBZ1fYkqVeX9H6kDHZKA7XvP2fusu6X1f4S9fjrnu/x+2n//4Ycff1HPdQxOGrTvb05O2edvWE9t9iicumfv2KdvYE8YsYch9OYj++7N7Am4ZW9T3MIJ++pN7U8NmLHnKVpX78LG/tKACXuhgt2wL97k/taAS/ZGperqk9jWs4bBNXumMt2dsu/d7J41YNlnD1WiM/a1m94/GjC9Yk/l3yH72I3vXw3ozdljefcz+9bN7z8NWLHXEgZ6/2vAkL2Xa/omKvSFBnTYizl2xj50iL7UgDF7M7fu2HeO0Vca0Gav5lT3lH3nGH2tAffs3Xw6YZ85SN9owDl7OI9u2FeO0rcasGBPZ1+XfeQwvdCACXs88z6yjxymlxqOHtjrGXfMvnGcXmrAYM3ez7YT9o3j9IoG7PXZA1qmp6F6r2nA9II9oWEf2CcO1Ksa0Dtgb2jWJ/aFI/W6BrTYI5r1nn3hSG3QgCF7Ravesi8cqU0a0GHPaNMx+8Ch2qgBY/aQJh2yDxyqzRowYi9p0Tv2gUO1RQNu2VPm12XfN1bbNGDGHjO7ffZ9Y7VVAxbsNXM7ZN83Vts14JI9Z2Yn7PvGaoeGwSN7z7zesu8bqx0asFyzB83pgH3eYO3SgL0r9qQZfWKfN1g7NaA3Z2+a3hv2eYO1WwNW7E3TO2afN1gVNKDFHjW5O/Z5g1VFA4bsVVPbZ583WJU0YMyeVRqKVE0D2uxdpaFEFTVgxB5WGgpUVQPO2ctKg3+VNWDGnlYa3KuuARP2ttLgXQ0NRw/scaXBuRoaMLhmrysNvtXRgGWfPa80uFZLA6YX7H2lwbN6GtCbsweWBsdqakCLPbA0OFZXA4bshaXBr9oa0GFPLA1u1deAMXtjafAqQQNG7JGlwakUDbhnrywNPiVpwDl7ZmlwKU0DFuydpcGjRA24ZA8tDQ6lajh6ZC8tDfalasByzZ5aGsxL1oC9K/bW0mBdugZML9hjS4NxGRqwOmCvLQ225WhAi722NNiWpQFD9tzSYFqeBnTYe0uDZZka0GYPLg2G5WrAiL24NNiVrQG37Mmlwax8DZixN5cGqww0YMIeXRqMstCAS/bq0mCTiYbBNXt2aTDJRAOWffbu0mCRjQZMr9jDS4NBRhrQm7OXl4b8rDRgxV5eGvIz04Ahe3ppyM5OAzrs7aUhN0MNGLPHl4bMLDWgzV5fGvIy1YB79vzSkJWtBpyz95eGnIw1YMEGIA0ZWWvAhC1AGtIz13D0wCYgDcmZa8BgzTYgDanZa8Ben41AGhJz0IDpBVuBNKTloQG9AzYDaUjKRQNabAbSkJSPBgzZDqQhJScN6LAhSENCXhowZkuQhvq5acCITUEaauenAbdsC9JQN0cNmLExSEPNPDVgIQ2xctWAS2kIla+GwaM0RMpXA5ZraQiUswbsXUlDnLw1oDeXhjC5a8BKGsLkrwEtaYhSAQ0YSkOQSmjAWBpiVEQD2tIQojIaMJKGCBXSgHNpCFApDZhJQ/MrpgETaWh85TQcPUhD0yunAYNraWh4BTVg2ZeGZldSA6YX0tDoimpAby4NTe63ohrQkoYmV1gDhtLQ3D7/WlgDOtLQ2D7/XloDxtJA7g/26mUlri2KwjBeGkcRtCEqeDtJ1NgSTCOw5jJr7fJSZZUx7/842SaSAYF09xyN/2M+ws+Y/7y6nLyGckANptpi+hrKLTV4arOEGsoxNVhqNaOGckENlvqQksMpNTjqTyk17H2lBkP9NaWGcnlDDX7qfU4NZe2MGuy0Pk/K4fyEGuzEMqmGcrVFDW76KquGsk4Nbnp/ScthnxrMtHhOq6FsUoOZfp9XQ9mgBi8thsQcDqjBSovHxBrKNTVY6THPzOEjNThJHodyRA1OksehnFKDkRaz1Bp2/6cGIz2G1Bwud6jBR4uaWkM5P6MGHz2ec3PY/kQNNlrEQ24OV9Tgo8Ust4ayTw0+aiySc9ikBh89lsk5HFKDjRYxJOewQQ02avS75BxuqcFGjft5cg7H1GBjzOEhOYcLarBhkMMRNdio0YfcGva+UIONGvGam8PuDTXYGHOY5eawtkMNNsYc+lNqDucn1GCjxTgPD5k5bG9Rg49xHmLxkpjDOjUYecshFvO8HPapwcjbtxj/xY+0HDapwcmveYj+OCTlcEgNTurvHsYgnu8ycjigBivvOYy+zxbLp6lzuKYGL+rhvYq6Wn2bzGdqMPN3D1P6QA128nqgBkdZPVCDp9qpAdISBoIajNWpg6AGb9MGQQ3+6mT+owb8QQ0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBQg0QaoBQA4QaINQAoQYINUCoAUINEGqAUAOEGiDUAKEGCDVAqAFCDRBqgFADhBog1AChBgg1QKgBYlDDT3bpoAYAAAZCmH/Xe2Jhl7RBAnrDDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDcQNxA3EDbOOvTo2cSsAoij6EwkrcCCDA6kDWRi5/+oc3gL+LLPBOUwDDy7MF5waiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGogaiBqIGshADe/tDUz5d76GX9sbmHI5X8N1ewNTbudruGxvYMjv8zEct+0RDLkP1HB8tlcw4+9EDX+2VzDjMVHDc3sFM94TNby3VzDjNVHDa3sFI+4TMRzHz+0dTHjO1PDY3sGE60wNP7Z3MOAzE8O3fxX/26u7FFeBKIjj9WJ7RVrwBh/iBoLGoKBD9r+zMeRtmA9jn+4amfrhBkr+9NG3hdGhAGb2Egk3WdVQNOwpEqq3igGo2FsklLOrIWNvkUAnuxj0OBye4dMAdA17joS4W8YAXNh7JECT2dYAz14k+w3GMWBhL5LdbtYx6FYc19jZ14A7e5Xs4yLEAHj2LNkjjxIDspI9TF53iRMD8E85HM45VgzAohwOJmIMwFSz58kr5pgxAN2JPVA2a65xY1hV7I2ykZ+ixwDkDXumbNEmaGGV3dhD5UfepYlhda3ZY+Vb5ZyshYdhZA+Wr52LpDGscs/eLJ+q5+QtPCxVyV4uH5RvjpHCk2v1Qvwevv3PS+GpcEPV+5H9J/600ffV7MIPxDumgOQFO91H4AAAAABJRU5ErkJggg=="},d930:function(e,t,i){function n(e){var e=parseInt(e),t=0,i=0,e=(60<=e&&(t=parseInt(e/60),e=parseInt(e%60),60<=t)&&(i=parseInt(t/60),t=parseInt(t%60)),""+(parseInt(e)<10?"0"+parseInt(e):parseInt(e))),e=(parseInt(t)<10?"0"+parseInt(t):parseInt(t))+":"+e;return e=5==(e=0<parseInt(i)?(parseInt(i)<10?"0"+parseInt(i):parseInt(i))+":"+e:e).length?"00:"+e:e}function o(e){return new Date(e).getDay()}var s=i("3835"),a=(i("99af"),i("a15b"),i("baa5"),i("d81d"),i("e9f5"),i("ab43"),i("a9e3"),i("b680"),i("d3b7"),i("acd8"),i("e25e"),i("ac1f"),i("466d"),i("5319"),i("498a"),i("9b3e"));t.a={transCoordinateForSet:function(e,t,i){var n,o=t,s=i;return e&&e.coordinate&&("GCJ-02"==e.coordinate?(o=(n=Object(a.transformGCJ02ToWGS84)(t,i))[0],s=n[1]):"BD-09"==e.coordinate&&(o=(n=Object(a.transformBD09ToWGS84)(t,i))[0],s=n[1])),[o,s]},transCoordinateForShow:function(e,t,i){var n,o=t,s=i;return e&&e.coordinate&&("GCJ-02"==e.coordinate?(o=(n=Object(a.transformWGS84ToGCJ02)(t,i))[0],s=n[1]):"BD-09"==e.coordinate&&(o=(n=Object(a.transformWGS84ToBD09)(t,i))[0],s=n[1])),[o,s]},mergeTimestamp:function(e,t){var i,n="";for(i in e=e||[],t+=""){var o=parseInt(t[i]);n+=o=e.length>i?e[i]+o:o}return n},generateRandomString:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",n=t.length,o=0;o<e;o++)i+=t.charAt(Math.floor(Math.random()*n));return i},interleaveStrings:function(e,t){for(var i="",n=t.split("").reverse().join(""),o=0;o<e.length;o++)i+=e[o]+n[o];return i},extractNumbers:function(e){e=e.match(/\d+/g);return e?e.map(Number):[]},calItemWidth:function(e,t,i){if(e)return(t=parseFloat(e.width/t).toFixed())<1&&(t=1),e=(parseInt(10*e.width)/10-i*t*2)/t,parseInt(10*e)/10},formatSeconds:n,formatSecondsB:function(e){var e=n(e),t=e.split(":").map(Number),t=Object(s.a)(t,3);return 0===t[0]&&0===t[1]?"".concat(t[2],"s"):e},getSizeStr:function(e){var e=parseInt(e/1024*100)/100,t=e+"KB";return t=1024<e&&(t=(e=parseInt(e/1024*100)/100)+"MB",1024<e)?parseInt(e/1024*100)/100+"GB":t},checkDouban:function(e,t){t?window.open("https://movie.douban.com/subject/"+(t+"").trim(),"_blank"):(e=0<(t=(e=e.substr(0,e.lastIndexOf("."))).replace(/[^\u4E00-\u9FA5]/g,"")).length?t:this.filterMovieName(e),window.open("https://search.douban.com/movie/subject_search?search_text="+e,"_blank"))},checkImdb:function(e,t){t?window.open("https://www.imdb.com/title/"+t.trim(),"_blank"):(e=0<(t=(e=e.substr(0,e.lastIndexOf("."))).replace(/[^\u4E00-\u9FA5]/g,"")).length?t:this.filterMovieName(e),window.open("https://www.imdb.com/find?q="+e,"_blank"))},formatTimeStamp:function(e){var t,i,n,o,s;return e?(t=(e=new Date(e)).getFullYear(),i=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),o=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),s=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),e=e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds(),"".concat(t,"-").concat(i,"-").concat(n," ").concat(o,":").concat(s,":").concat(e)):""},getWeekdayNumber:o,getWeekdayString:function(e,t){return[e.$t("common.sunday"),e.$t("common.monday"),e.$t("common.tuesday"),e.$t("common.wednesday"),e.$t("common.thursday"),e.$t("common.friday"),e.$t("common.saturday")][o(t)]}}},d944:function(e,t,i){},dc95:function(B,F,e){var f=e("5530"),l=(e("e9f5"),e("7d54"),e("b64b"),e("d3b7"),e("159b"),e("ade3")),o=(e("a9e3"),e("2b0e")),R=o.default.prototype.$isServer,n=!R&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)},i=!R&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)};function j(e,t){e=e[t?"pageYOffset":"pageXOffset"];return e="number"!=typeof e?window.document.documentElement[t?"scrollTop":"scrollLeft"]:e}var R={name:"Affix",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},useCapture:{type:Boolean,default:!1}},data:function(){return{affix:!1,styles:{},slot:!1,slotStyle:{}}},computed:{offsetType:function(){var e="top";return e=0<=this.offsetBottom?"bottom":e},classes:function(){return[Object(l.a)({},"".concat("ivu-affix"),this.affix)]}},mounted:function(){var e=this;n(window,"scroll",this.handleScroll,this.useCapture),n(window,"resize",this.handleScroll,this.useCapture),this.$nextTick(function(){e.handleScroll()})},beforeDestroy:function(){i(window,"scroll",this.handleScroll,this.useCapture),i(window,"resize",this.handleScroll,this.useCapture)},methods:{handleScroll:function(){var e,t,i=this.affix,n=j(window,!0),o=(a=(a=this.$el).getBoundingClientRect(),o=j(window,!0),e=j(window),t=window.document.body,s=t.clientTop||0,{top:a.top+o-s,left:a.left+e-(t.clientLeft||0)}),s=window.innerHeight,a=this.$el.getElementsByTagName("div")[0].offsetHeight;o.top-this.offsetTop<n&&"top"==this.offsetType&&!i?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:"".concat(this.offsetTop,"px"),left:"".concat(o.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.$emit("on-change",!0)):o.top-this.offsetTop>n&&"top"==this.offsetType&&i&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),o.top+this.offsetBottom+a>n+s&&"bottom"==this.offsetType&&!i?(this.affix=!0,this.styles={bottom:"".concat(this.offsetBottom,"px"),left:"".concat(o.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.$emit("on-change",!0)):o.top+this.offsetBottom+a<n+s&&"bottom"==this.offsetType&&i&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}},t=e("2877"),R=Object(t.a)(R,function(){var e=this._self._c;return e("div",[e("div",{ref:"point",class:this.classes,style:this.styles},[this._t("default")],2),e("div",{directives:[{name:"show",rawName:"v-show",value:this.slot,expression:"slot"}],style:this.slotStyle})])},[],!1,null,null,null).exports,s=(e("99af"),{name:"Icon",props:{type:{type:String,default:""},size:[Number,String],color:String,custom:{type:String,default:""}},computed:{classes:function(){return["".concat("ivu-icon"),Object(l.a)(Object(l.a)({},"".concat("ivu-icon","-").concat(this.type),""!==this.type),"".concat(this.custom),""!==this.custom)]},styles:function(){var e={};return this.size&&(e["font-size"]="".concat(this.size,"px")),this.color&&(e.color=this.color),e}},methods:{handleClick:function(e){this.$emit("click",e)}}}),s=Object(t.a)(s,function(){return(0,this._self._c)("i",{class:this.classes,style:this.styles,on:{click:this.handleClick}})},[],!1,null,null,null).exports,U=s,h=e("4fe7"),V="ivu-alert",$={name:"Alert",components:{Icon:U},props:{type:{validator:function(e){return Object(h.m)(e,["success","info","warning","error"])},default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},banner:{type:Boolean,default:!1},fade:{type:Boolean,default:!0}},data:function(){return{closed:!1,desc:!1}},computed:{wrapClasses:function(){return["".concat(V),"".concat(V,"-").concat(this.type),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(V,"-with-icon"),this.showIcon),"".concat(V,"-with-desc"),this.desc),"".concat(V,"-with-banner"),this.banner)]},messageClasses:function(){return"".concat(V,"-message")},descClasses:function(){return"".concat(V,"-desc")},closeClasses:function(){return"".concat(V,"-close")},iconClasses:function(){return"".concat(V,"-icon")},iconType:function(){var e="";switch(this.type){case"success":e="ios-checkmark-circle";break;case"info":e="ios-information-circle";break;case"warning":e="ios-alert";break;case"error":e="ios-close-circle"}return this.desc&&(e+="-outline"),e}},methods:{close:function(e){this.closed=!0,this.$emit("on-close",e)}},mounted:function(){this.desc=void 0!==this.$slots.desc}},$=Object(t.a)($,function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:e.fade?"fade":""}},[e.closed?e._e():t("div",{class:e.wrapClasses},[e.showIcon?t("span",{class:e.iconClasses},[e._t("icon",function(){return[t("Icon",{attrs:{type:e.iconType}})]})],2):e._e(),t("span",{class:e.messageClasses},[e._t("default")],2),t("span",{class:e.descClasses},[e._t("desc")],2),e.closable?t("a",{class:e.closeClasses,on:{click:e.close}},[e._t("close",function(){return[t("Icon",{attrs:{type:"ios-close"}})]})],2):e._e()])])},[],!1,null,null,null).exports;e("d81d"),e("14d9"),e("ab43"),e("acd8"),e("ac1f"),e("9911");var z={name:"Anchor",provide:function(){return{anchorCom:this}},data:function(){return{prefix:"ivu-anchor",isAffixed:!1,inkTop:0,animating:!1,currentLink:"",currentId:"",scrollContainer:null,scrollElement:null,titlesOffsetArr:[],wrapperTop:0,upperFirstTitle:!0}},props:{affix:{type:Boolean,default:!0},offsetTop:{type:Number,default:0},offsetBottom:Number,bounds:{type:Number,default:5},container:null,showInk:{type:Boolean,default:!1},scrollOffset:{type:Number,default:0}},computed:{wrapperComponent:function(){return this.affix?"Affix":"div"},wrapperStyle:function(){return{maxHeight:this.offsetTop?"calc(100vh - ".concat(this.offsetTop,"px)"):"100vh"}},containerIsWindow:function(){return this.scrollContainer===window}},methods:{handleAffixStateChange:function(e){this.isAffixed=this.affix&&e},handleScroll:function(e){this.upperFirstTitle=e.target.scrollTop<this.titlesOffsetArr[0].offset,this.animating||(this.updateTitleOffset(),e=document.documentElement.scrollTop||document.body.scrollTop||e.target.scrollTop,this.getCurrentScrollAtTitleId(e))},handleHashChange:function(){var e=window.location.href,e=h.q.exec(e);e&&(this.currentLink=e[0],this.currentId=e[1])},handleScrollTo:function(){var e=this,t=document.getElementById(this.currentId),i=document.querySelector('a[data-href="'.concat(this.currentLink,'"]')),n=this.scrollOffset;i&&(n=parseFloat(i.getAttribute("data-scroll-offset"))),t&&(i=t.offsetTop-this.wrapperTop-n,this.animating=!0,Object(h.o)(this.scrollContainer,this.scrollElement.scrollTop,i,600,function(){e.animating=!1}),this.handleSetInkTop())},handleSetInkTop:function(){var e=document.querySelector('a[data-href="'.concat(this.currentLink,'"]'));e&&(e=(e=e.offsetTop)<0?this.offsetTop:e,this.inkTop=e)},updateTitleOffset:function(){var i=this,e=Object(h.h)(this,"AnchorLink").map(function(e){return e.href}).map(function(e){return e.split("#")[1]}),n=[];e.forEach(function(e){var t=document.getElementById(e);t&&n.push({link:"#".concat(e),offset:t.offsetTop-i.scrollElement.offsetTop})}),this.titlesOffsetArr=n},getCurrentScrollAtTitleId:function(e){var t=-1,i=this.titlesOffsetArr.length,n={link:"#",offset:0};for(e+=this.bounds;++t<i;){var o=this.titlesOffsetArr[t],s=this.titlesOffsetArr[t+1];if(e>=o.offset&&e<(s&&s.offset||1/0)){n=this.titlesOffsetArr[t];break}}this.currentLink=n.link,this.handleSetInkTop()},getContainer:function(){this.scrollContainer=this.container?"string"==typeof this.container?document.querySelector(this.container):this.container:window,this.scrollElement=this.container?this.scrollContainer:document.documentElement||document.body},removeListener:function(){i(this.scrollContainer,"scroll",this.handleScroll),i(window,"hashchange",this.handleHashChange)},init:function(){var e=this;this.handleHashChange(),this.$nextTick(function(){e.removeListener(),e.getContainer(),e.wrapperTop=e.containerIsWindow?0:e.scrollElement.offsetTop,e.handleScrollTo(),e.handleSetInkTop(),e.updateTitleOffset(),e.titlesOffsetArr[0]&&(e.upperFirstTitle=e.scrollElement.scrollTop<e.titlesOffsetArr[0].offset),n(e.scrollContainer,"scroll",e.handleScroll),n(window,"hashchange",e.handleHashChange)})}},watch:{$route:function(){var e=this;this.handleHashChange(),this.$nextTick(function(){e.handleScrollTo()})},container:function(){this.init()},currentLink:function(e,t){this.$emit("on-change",e,t)}},mounted:function(){this.init()},beforeDestroy:function(){this.removeListener()}},z=Object(t.a)(z,function(){var e=this,t=e._self._c;return t(e.wrapperComponent,{tag:"component",attrs:{"offset-top":e.offsetTop,"offset-bottom":e.offsetBottom},on:{"on-change":e.handleAffixStateChange}},[t("div",{class:"".concat(e.prefix,"-wrapper"),style:e.wrapperStyle},[t("div",{class:"".concat(e.prefix)},[t("div",{class:"".concat(e.prefix,"-ink")},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.showInk,expression:"showInk"}],class:"".concat(e.prefix,"-ink-ball"),style:{top:"".concat(e.inkTop,"px")}})]),e._t("default")],2)])])},[],!1,null,null,null).exports,W={name:"AnchorLink",inject:["anchorCom"],props:{href:String,title:String,scrollOffset:{type:Number,default:function(){return this.anchorCom.scrollOffset}}},data:function(){return{prefix:"ivu-anchor-link"}},computed:{anchorLinkClasses:function(){return[this.prefix,this.anchorCom.currentLink===this.href?"".concat(this.prefix,"-active"):""]},linkTitleClasses:function(){return["".concat(this.prefix,"-title")]}},methods:{goAnchor:function(){this.currentLink=this.href,this.anchorCom.handleHashChange(),this.anchorCom.handleScrollTo(),this.anchorCom.$emit("on-select",this.href),this.$router?this.$router.push(this.href,function(){}):window.location.href=this.href}},mounted:function(){var e=this;this.$nextTick(function(){e.anchorCom.init()})}},W=Object(t.a)(W,function(){var t=this,e=t._self._c;return e("div",{class:t.anchorLinkClasses},[e("a",{class:t.linkTitleClasses,attrs:{href:t.href,"data-scroll-offset":t.scrollOffset,"data-href":t.href,title:t.title},on:{click:function(e){return e.preventDefault(),t.goAnchor.apply(null,arguments)}}},[t._v(t._s(t.title))]),t._t("default")],2)},[],!1,null,null,null).exports,H=(e("b0c0"),e("4de4"),e("910d"),e("c975"),e("ddb0"),e("3835")),q=e("b85c"),c=e("2909"),G=(e("7db0"),e("c740"),e("caad"),e("13d5"),e("f665"),e("9485"),e("e9c4"),e("f00c"),e("00b4"),e("25f0"),e("2532"),e("498a"),e("e25e"),0),Y=0;function Q(){G++}function K(i,t,n){function o(e){var t=e.el;t===s||t.contains(s)||((t=e.binding).modifiers.stop&&n.stopPropagation(),t.modifiers.prevent&&n.preventDefault(),t.value.call(i,n))}var s=n.target;Object.keys(t).forEach(function(e){return t[e].forEach(o)})}function X(e){K(this,ne,e)}function Z(e){K(this,oe,e)}function J(e){return e?X:Z}var ee=o.default.prototype.$isServer,te=ee?function(){}:e("d2e4"),a={name:"Drop",props:{placement:{type:String,default:"bottom-start"},className:{type:String},transfer:{type:Boolean},eventsEnabled:{type:Boolean,default:!1}},data:function(){return{popper:null,width:"",popperStatus:!1,tIndex:this.handleGetIndex()}},computed:{styles:function(){var e={};return this.width&&(e.minWidth="".concat(this.width,"px")),this.transfer&&(e["z-index"]=1060+this.tIndex),e}},methods:{update:function(){var e=this;ee||this.$nextTick(function(){e.popper?(e.popper.update(),e.popperStatus=!0):e.popper=new te(e.$parent.$refs.reference,e.$el,{eventsEnabled:e.eventsEnabled,placement:e.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:function(){e.resetTransformOrigin(),e.$nextTick(e.popper.update())},onUpdate:function(){e.resetTransformOrigin()}}),"iSelect"===e.$parent.$options.name&&(e.width=parseInt(Object(h.l)(e.$parent.$el,"width"))),e.tIndex=e.handleGetIndex()})},destroy:function(){var e=this;this.popper&&setTimeout(function(){e.popper&&!e.popperStatus&&(e.popper.popper.style.display="none",e.popper.destroy(),e.popper=null),e.popperStatus=!1},300)},resetTransformOrigin:function(){var e,t,i;this.popper&&(t=(e=this.popper.popper.getAttribute("x-placement")).split("-")[0],i=e.split("-")[1],"left"!==e)&&"right"!==e&&(this.popper.popper.style.transformOrigin="bottom"===t||"top"!==t&&"start"===i?"center top":"center bottom")},handleGetIndex:function(){return Q(),G}},created:function(){this.$on("on-update-popper",this.update),this.$on("on-destroy-popper",this.destroy)},beforeDestroy:function(){this.$off("on-update-popper",this.update),this.$off("on-destroy-popper",this.destroy),this.popper&&(this.popper.destroy(),this.popper=null)}},a=Object(t.a)(a,function(){return(0,this._self._c)("div",{staticClass:"ivu-select-dropdown",class:this.className,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,ie=e("53ca"),ne=(e("d9e2"),e("1d1c"),Object.create(null)),oe=Object.create(null),se=[ne,oe],ae=Object.defineProperties({},{$_captureInstances:{value:ne},$_nonCaptureInstances:{value:oe},$_onCaptureEvent:{value:X},$_onNonCaptureEvent:{value:Z},bind:{value:function(e,t){if("function"!=typeof t.value)throw new TypeError("Binding value must be a function.");var i=t.modifiers,i=i.click?"click":i.mousedown?"mousedown":i.touchstart?"touchstart":"click",n=t.arg,t=Object(f.a)(Object(f.a)({},t),{modifiers:Object(f.a)(Object(f.a)({},{capture:!1,prevent:!1,stop:!1}),t.modifiers)}),o=n?ne:oe;Array.isArray(o[i])||(o[i]=[]),1===o[i].push({el:e,binding:t})&&"object"===("undefined"==typeof document?"undefined":Object(ie.a)(document))&&document&&document.addEventListener(i,J(n),n)}},unbind:{value:function(t){function o(e){return e.el!==t}se.forEach(function(i){var n,e=Object.keys(i);e.length&&(n=i===ne,e.forEach(function(e){var t=i[e].filter(o);t.length?i[e]=t:("object"===("undefined"==typeof document?"undefined":Object(ie.a)(document))&&document&&document.removeEventListener(e,J(n),n),delete i[e])}))})}},version:{enumerable:!0,value:"3.7.1"}});function re(e){return!0===(e=void 0===e?document.body:e)?document.body:e instanceof window.Node?e:document.querySelector(e)}e("5319");var r={inserted:function(e,t,i){t=t.value;if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";var n,o,s=e.parentNode;s&&(n=document.createComment(""),(o=!1)!==t&&(s.replaceChild(n,e),re(t).appendChild(e),o=!0),e.__transferDomData||(e.__transferDomData={parentNode:s,home:n,target:re(t),hasMovedOut:o}))},componentUpdated:function(e,t){t=t.value;if(e.dataset&&"true"!==e.dataset.transfer)return!1;var i,n,o=e.__transferDomData;o&&(i=o.parentNode,n=o.home,!(o=o.hasMovedOut)&&t?(i.replaceChild(n,e),re(t).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:re(t)})):o&&!1===t?(i.replaceChild(e,n),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:re(t)})):t&&re(t).appendChild(e))},unbind:function(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom",""),e.__transferDomData&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}};function le(t,i,n){this.$children.forEach(function(e){e.$options.name===t?e.$emit.apply(e,[i].concat(n)):le.apply(e,[t,i].concat([n]))})}function ce(e,t){if(null!=(a=_e.apply(this,arguments)))return a;for(var i=e.split("."),n=we,o=0,s=i.length;o<s;o++){var a=n[i[o]];if(o===s-1)return be(a,t);if(!a)return"";n=a}return""}function ue(){return[]}function de(e,t){if(t(e))return e;for(var i=0,n=e.$children.length;i<n;i++){var o=e.$children[i];if(o=de(o,t))return o}}function he(e){return e.reduce(function(e,t){return e.concat(Pe(t))},[])}function pe(e,t,i){return Object(f.a)(Object(f.a)({},e),{},{componentOptions:Object(f.a)(Object(f.a)({},e.componentOptions),{},{propsData:Object(f.a)(Object(f.a)({},e.componentOptions.propsData),{},Object(l.a)({},t,i))})})}function fe(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]||null},e)}var me,u={methods:{dispatch:function(e,t,i){for(var n=this.$parent||this.$root,o=n.$options.name;n&&(!o||o!==e);)(n=n.$parent)&&(o=n.$options.name);n&&n.$emit.apply(n,[t].concat(i))},broadcast:function(e,t,i){le.call(this,e,t,i)}}},d={inject:{FormInstance:{default:""}},computed:{itemDisabled:function(){var e=this.disabled;return e=!e&&this.FormInstance?this.FormInstance.disabled:e}}},ge=(e("3410"),e("aea6")),ye=e("58dc"),ve=/(%|)\{([0-9a-zA-Z_]+)\}/g,be=(o.default,function(o){for(var e=arguments.length,s=new Array(1<e?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];return(s=1===s.length&&"object"===Object(ie.a)(s[0])?s[0]:s)&&s.hasOwnProperty||(s={}),o.replace(ve,function(e,t,i,n){return"{"===o[n-1]&&"}"===o[n+e.length]?i:(n=s,e=i,null==(n=Object.prototype.hasOwnProperty.call(n,e)?s[i]:null)?"":n)})}),we=ge.a,Se=!1,_e=function(){var e=Object.getPrototypeOf(this||o.default).$t;if("function"==typeof e&&o.default.locale)return Se||(Se=!0,o.default.locale(o.default.config.lang,Object(ye.a)(we,o.default.locale(o.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},Ce={use:function(e){we=e||we},t:ce,i18n:function(e){_e=e||_e}},p={methods:{t:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return ce.apply(this,t)}}},ke="ivu-select",ge={name:"iSelectHead",mixins:[u,p],components:{Icon:U},props:{disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},initialLabel:{type:[String,Number,Array]},values:{type:Array,default:function(){return[]}},clearable:{type:[Function,Boolean],default:!1},inputElementId:{type:String},placeholder:{type:String},queryProp:{type:String,default:""},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean},showCreateItem:{type:Boolean}},data:function(){return{prefixCls:ke,query:"",inputLength:20,remoteInitialLabel:this.initialLabel,preventRemoteCall:!1}},computed:{singleDisplayClasses:function(){var e=this.filterable,t=this.multiple,i=this.showPlaceholder;return[Object(l.a)(Object(l.a)(Object(l.a)({},ke+"-head-with-prefix",this.$slots.prefix||this.prefix),ke+"-placeholder",i&&!e),ke+"-selected-value",!i&&!t&&!e)]},singleDisplayValue:function(){return this.multiple&&0<this.values.length||this.filterable?"":"".concat(this.selectedSingle)||this.localePlaceholder},showPlaceholder:function(){var e,t=!1;return this.multiple?0<!this.values.length&&(t=!0):void 0!==(e=this.values[0])&&""!==String(e).trim()||(t=!this.remoteInitialLabel),t},resetSelect:function(){return!this.showPlaceholder&&this.clearable},inputStyle:function(){var e={};return this.multiple&&(this.showPlaceholder?e.width="100%":e.width="".concat(this.inputLength,"px")),e},localePlaceholder:function(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},selectedSingle:function(){var e=this.values[0];return e?e.label:this.remoteInitialLabel||""},selectedMultiple:function(){return this.multiple?this.values:[]},headCls:function(){return Object(l.a)({},"".concat(ke,"-head-flex"),this.filterable&&(this.$slots.prefix||this.prefix))},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.select.customArrow?e="":this.$IVIEW.select.arrow&&(e=this.$IVIEW.select.arrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.select.customArrow?this.$IVIEW.select.customArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.select.arrowSize?this.$IVIEW.select.arrowSize:e}},methods:{onInputFocus:function(){this.$emit("on-input-focus")},onInputBlur:function(){this.showCreateItem||(this.values.length||(this.query=""),this.$emit("on-input-blur"))},removeTag:function(e){if(this.disabled)return!1;this.dispatch("iSelect","on-select-selected",e)},resetInputState:function(){this.inputLength=12*this.$refs.input.value.length+20,this.$emit("on-keydown")},handleInputDelete:function(e){e=e.target.value;this.multiple&&this.selectedMultiple.length&&""===this.query&&""===e&&this.removeTag(this.selectedMultiple[this.selectedMultiple.length-1])},handleInputEnter:function(e){this.$emit("on-enter"),this.showCreateItem&&e.stopPropagation()},onHeaderClick:function(e){this.filterable&&e.target===this.$el&&this.$refs.input.focus()},onClear:function(){this.$emit("on-clear")}},watch:{values:function(e){var t=this,e=Object(H.a)(e,1)[0];this.filterable&&(this.preventRemoteCall=!0,this.multiple?(this.query="",this.preventRemoteCall=!1):(this.query=void 0===e||""===e||null===e?"":e.label,this.$nextTick(function(){return t.preventRemoteCall=!1})))},query:function(e){this.preventRemoteCall?this.preventRemoteCall=!1:this.$emit("on-query-change",e)},queryProp:function(e){e!==this.query&&(this.query=e)}}},ge=Object(t.a)(ge,function(){var i=this,n=i._self._c;return n("div",{class:i.headCls,on:{click:i.onHeaderClick}},[i.$slots.prefix||i.prefix?n("span",{class:[i.prefixCls+"-prefix"]},[i._t("prefix",function(){return[i.prefix?n("Icon",{attrs:{type:i.prefix}}):i._e()]})],2):i._e(),i._l(i.selectedMultiple,function(t,e){return void 0===i.maxTagCount||e<i.maxTagCount?n("div",{staticClass:"ivu-tag ivu-tag-checked"},[n("span",{staticClass:"ivu-tag-text",class:{"ivu-select-multiple-tag-hidden":t.disabled}},[i._v(i._s(void 0!==t.tag?t.tag:t.label))]),t.disabled?i._e():n("Icon",{attrs:{type:"ios-close"},nativeOn:{click:function(e){return e.stopPropagation(),i.removeTag(t)}}})],1):i._e()}),void 0!==i.maxTagCount&&i.selectedMultiple.length>i.maxTagCount?n("div",{staticClass:"ivu-tag ivu-tag-checked"},[n("span",{staticClass:"ivu-tag-text ivu-select-max-tag"},[i.maxTagPlaceholder?[i._v(i._s(i.maxTagPlaceholder(i.selectedMultiple.length-i.maxTagCount)))]:[i._v("+ "+i._s(i.selectedMultiple.length-i.maxTagCount)+"...")]],2)]):i._e(),n("span",{directives:[{name:"show",rawName:"v-show",value:i.singleDisplayValue,expression:"singleDisplayValue"}],class:i.singleDisplayClasses},[i._v(i._s(i.singleDisplayValue))]),i.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:i.query,expression:"query"}],ref:"input",class:[i.prefixCls+"-input"],style:i.inputStyle,attrs:{id:i.inputElementId,type:"text",disabled:i.disabled,placeholder:i.showPlaceholder?i.localePlaceholder:"",autocomplete:"off",spellcheck:"false"},domProps:{value:i.query},on:{keydown:[i.resetInputState,function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:i.handleInputDelete.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.handleInputEnter.apply(null,arguments)}],focus:i.onInputFocus,blur:i.onInputBlur,input:function(e){e.target.composing||(i.query=e.target.value)}}}):i._e(),i.resetSelect?n("Icon",{class:[i.prefixCls+"-arrow"],attrs:{type:"ios-close-circle"},nativeOn:{click:function(e){return e.stopPropagation(),i.onClear.apply(null,arguments)}}}):i._e(),i.resetSelect||i.remote?i._e():n("Icon",{class:[i.prefixCls+"-arrow"],attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize}})],2)},[],!1,null,null,null).exports,xe={props:{options:{type:Array,default:ue},slotOptions:{type:Array,default:ue},slotUpdateHook:{type:Function,default:function(){}}},render:function(e){return this.slotOptions!==this.$parent.$slots.default&&this.slotUpdateHook(),e("ul",[this.$slots.default,this.options])}},xe=Object(t.a)(xe,void 0,void 0,!1,null,null,null).exports,m="ivu-select",Te=/^i-option$|^Option$/i,Ie=/option-?group/i,Pe=function(e){var t=e.componentOptions;return t&&Te.test(t.tag)?[e]:(e.children||t&&t.children)&&0<(e=[].concat(Object(c.a)(e.children||[]),Object(c.a)(t&&t.children||[])).reduce(function(e,t){return[].concat(Object(c.a)(e),Object(c.a)(Pe(t)))},[]).filter(Boolean)).length?e:[]},xe={name:"iSelect",mixins:[u,p,d],components:{FunctionalOptions:xe,Drop:a,SelectHead:ge,Icon:U},directives:{clickOutside:ae,TransferDom:r},props:{value:{type:[String,Number,Array],default:""},label:{type:[String,Number,Array],default:""},defaultLabel:{type:[String,Number,Array],default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},filterMethod:{type:Function},remoteMethod:{type:Function},loading:{type:Boolean,default:!1},loadingText:{type:String},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},labelInValue:{type:Boolean,default:!1},notFoundText:{type:String},placement:{validator:function(e){return Object(h.m)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"])},default:"bottom-start"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},autoComplete:{type:Boolean,default:!1},name:{type:String},elementId:{type:String},transferClassName:{type:String},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean,default:!1},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},filterByLabel:{type:Boolean,default:!1},eventsEnabled:{type:Boolean,default:!1}},mounted:function(){var e,i=this;this.$on("on-select-selected",this.onOptionClick),!this.remote&&0<this.selectOptions.length&&(this.values=this.getInitialValue().map(function(e){return"number"==typeof e||e?i.getOptionData(e):null}).filter(Boolean)),this.checkUpdateStatus(),this.remote&&this.value&&this.defaultLabel&&(this.multiple?(this.multiple,this.defaultLabel instanceof Array&&this.value.length===this.defaultLabel.length&&(e=this.value.map(function(e,t){return{value:e,label:i.defaultLabel[t]}}),this.$emit("on-set-default-options",JSON.parse(JSON.stringify(e))),setTimeout(function(){i.values=e}))):this.query=this.defaultLabel)},beforeDestroy:function(){this.$off("on-select-selected")},data:function(){return{prefixCls:m,values:[],dropDownWidth:0,visible:!1,focusIndex:-1,isFocused:!1,query:"",initialLabel:this.label,hasMouseHoverHead:!1,slotOptions:this.$slots.default,caretPosition:-1,lastRemoteQuery:"",unchangedQuery:!0,hasExpectedValue:!1,isTyping:!1,preventRemoteCall:!1,filterQueryChange:!1}},computed:{classes:function(){return["".concat(m),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(m,"-visible"),this.visible),"".concat(m,"-disabled"),this.itemDisabled),"".concat(m,"-multiple"),this.multiple),"".concat(m,"-single"),!this.multiple),"".concat(m,"-show-clear"),this.showCloseIcon),"".concat(m,"-").concat(this.size),!!this.size)]},dropdownCls:function(){return Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},m+"-dropdown-transfer",this.transfer),m+"-multiple",this.multiple&&this.transfer),"ivu-auto-complete",this.autoComplete),this.transferClassName,this.transferClassName)},selectionCls:function(){return Object(l.a)(Object(l.a)({},"".concat(m,"-selection"),!this.autoComplete),"".concat(m,"-selection-focused"),this.isFocused)},localeNotFoundText:function(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},localeLoadingText:function(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText},showCreateItem:function(){var e,t=this,i=!1;return i=this.allowCreate&&""!==this.query&&(i=!0,e=Object(h.h)(this,"iOption"))&&e.length&&e.find(function(e){return e.optionLabel===t.query})?!1:i},transitionName:function(){return"bottom"===this.placement?"slide-up":"slide-down"},dropVisible:function(){var e=!0,t=!this.selectOptions||0===this.selectOptions.length;return!this.loading&&this.remote&&""===this.query&&t&&(e=!1),this.autoComplete&&t&&(e=!1),this.visible&&e},showNotFoundLabel:function(){var e=this.loading,t=this.remote,i=this.selectOptions;return i&&0===i.length&&(!t||!e)},publicValue:function(){return this.multiple?this.values.map(function(e){return e.value}):(this.values[0]||{}).value},canBeCleared:function(){var e=this.hasMouseHoverHead||this.active,t=!this.multiple&&!this.itemDisabled&&this.clearable;return e&&t&&this.reset},selectOptions:function(){var i,t,n=this,e=[],o=this.slotOptions||[],s=-1,a=this.focusIndex,r=this.values.filter(Boolean).map(function(e){return e.value});if(this.autoComplete)return i=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{children:(e.children||[]).map(t).map(function(e){return i(e,t)})})},t=he(o)[a],o.map(function(e){return e===t||fe(e,"componentOptions.propsData.value")===n.value?pe(e,"isFocused",!0):i(e,function(e){return e!==t?e:pe(e,"isFocused",!0)})});var l,c=Object(q.a)(o);try{for(c.s();!(l=c.n()).done;){var u=l.value,d=u.componentOptions;if(d)if(Ie.test(d.tag)){var h=d.children;0<(h=(h=this.filterable&&this.isTyping?h.filter(function(e){e=e.componentOptions;return n.validateOption(e)}):h).map(function(e){return s+=1,n.processOption(e,r,s===a)})).length&&e.push(Object(f.a)(Object(f.a)({},u),{},{componentOptions:Object(f.a)(Object(f.a)({},d),{},{children:h})}))}else{if(this.filterQueryChange)if(!(this.filterable?this.validateOption(d):u))continue;s+=1,e.push(this.processOption(u,r,s===a))}}}catch(e){c.e(e)}finally{c.f()}return e},flatOptions:function(){return he(this.selectOptions)},selectTabindex:function(){return this.itemDisabled||this.filterable?-1:0},remote:function(){return"function"==typeof this.remoteMethod}},methods:{setQuery:function(e){e?this.onQueryChange(e):null===e&&(this.onQueryChange(""),this.values=[],this.lastRemoteQuery="")},clearSingleSelect:function(){this.multiple||this.$emit("input",""),this.$emit("on-clear"),this.hideMenu(),this.clearable&&this.reset()},getOptionData:function(t){var e,i,n=this.flatOptions.find(function(e){return e.componentOptions.propsData.value===t});return n?(i=(e=n).componentOptions.propsData.label||(i=(e.componentOptions.children||[]).reduce(function(e,t){return e+(t.text||"")},""),e=fe(e,"data.domProps.innerHTML"),i)||("string"==typeof e?e:""),e=n.componentOptions.propsData.disabled,{value:t,label:i,disabled:e}):null},getInitialValue:function(){var e=this.multiple,t=this.remote,i=this.value,n=Array.isArray(i)?i:[i];return e||void 0!==n[0]&&(""!==String(n[0]).trim()||Number.isFinite(n[0]))||(n=[]),t&&!e&&i&&(t=this.getOptionData(i),this.query=t?t.label:String(i)),n.filter(function(e){return Boolean(e)||0===e})},processOption:function(e,t,i){var n,o;return e.componentOptions?(o=e.componentOptions.propsData.value,n=e.componentOptions.propsData.disabled,t=t.includes(o),o=Object(f.a)(Object(f.a)({},e.componentOptions.propsData),{},{selected:t,isFocused:i,disabled:void 0!==n&&!1!==n}),Object(f.a)(Object(f.a)({},e),{},{componentOptions:Object(f.a)(Object(f.a)({},e.componentOptions),{},{propsData:o})})):e},validateOption:function(e){var t=e.children,i=e.elm,e=e.propsData,n=e.value,e=e.label||"",i=i&&i.textContent||(t||[]).reduce(function(e,t){t=t.elm?t.elm.textContent:t.text;return"".concat(e," ").concat(t)},"")||"",t=(this.filterByLabel?[e]:[n,e,i]).toString(),n=this.query.toLowerCase().trim();return t.toLowerCase().includes(n)},toggleMenu:function(e,t){if(this.itemDisabled)return!1;this.visible=void 0!==t?t:!this.visible,this.visible&&(this.dropDownWidth=this.$el.getBoundingClientRect().width,this.broadcast("Drop","on-update-popper"))},hideMenu:function(){var e=this;this.toggleMenu(null,!1),this.isTyping=!1,setTimeout(function(){return e.unchangedQuery=!0},300)},onClickOutside:function(e){var t,i=this;if(this.visible)if("mousedown"===e.type)e.preventDefault();else{if(this.transfer){var n=this.$refs.dropdown.$el;if(n===e.target||n.contains(e.target))return}this.filterable&&(t=this.$el.querySelector('input[type="text"]'),this.caretPosition=t.selectionStart,this.$nextTick(function(){var e=-1===i.caretPosition?t.value.length:i.caretPosition;t.setSelectionRange(e,e)})),this.autoComplete||e.stopPropagation(),e.preventDefault(),this.hideMenu(),this.isFocused=!0,this.$emit("on-clickoutside",e)}else this.caretPosition=-1,this.isFocused=!1},reset:function(){this.query="",this.focusIndex=-1,this.unchangedQuery=!0,this.values=[],this.filterQueryChange=!1},handleKeydown:function(e){var t=e.key||e.code,i=e.keyCode||e.which;if("Backspace"!==t&&8!==i)if(this.visible){if(e.preventDefault(),"Tab"===t&&e.stopPropagation(),"Escape"===t&&(e.stopPropagation(),this.hideMenu()),"ArrowUp"===t&&this.navigateOptions(-1),"ArrowDown"===t&&this.navigateOptions(1),"Enter"===t){if(-1===this.focusIndex)return this.hideMenu();i=this.flatOptions[this.focusIndex];i?(t=this.getOptionData(i.componentOptions.propsData.value),this.onOptionClick(t)):this.hideMenu()}}else["ArrowUp","ArrowDown"].includes(e.key)&&this.toggleMenu(null,!0)},navigateOptions:function(e){var t=this.flatOptions.length-1;if(!(t<0)){var i=this.focusIndex+e;if(t<(i=i<0?t:i)&&(i=0),0<e){for(var n=-1,o=0;o<this.flatOptions.length;o++)if(i<=(n=!this.flatOptions[o].componentOptions.propsData.disabled?o:n))break;i=n}else{for(var s=this.flatOptions.length,a=t;0<=a;a--)if((s=!this.flatOptions[a].componentOptions.propsData.disabled?a:s)<=i)break;i=s}this.focusIndex=i}},onOptionClick:function(t){var e,i,n=this;this.multiple?(this.remote?this.lastRemoteQuery=this.lastRemoteQuery||this.query:this.lastRemoteQuery="",e=this.values.find(function(e){return e.value===t.value}),this.values=e?this.values.filter(function(e){return e.value!==t.value}):this.values.concat(t),this.isFocused=!0):(this.query=String(t.label).trim(),this.values=[t],this.lastRemoteQuery="",this.hideMenu()),this.focusIndex=this.flatOptions.findIndex(function(e){return!(!e||!e.componentOptions)&&e.componentOptions.propsData.value===t.value}),this.filterable&&(i=this.$el.querySelector('input[type="text"]'),this.autoComplete||this.$nextTick(function(){return i.focus()})),this.$emit("on-select",t),this.broadcast("Drop","on-update-popper"),setTimeout(function(){n.filterQueryChange=!1},300)},onQueryChange:function(e){var t;this.isTyping=!0,0<e.length&&e!==this.query&&(this.autoComplete?(t=document.hasFocus&&document.hasFocus()&&document.activeElement===this.$el.querySelector("input"),this.visible=t):this.visible=!0),this.query=e,this.unchangedQuery=this.visible,this.filterQueryChange=!0},toggleHeaderFocus:function(e){e=e.type;this.itemDisabled||(this.isFocused="focus"===e)},updateSlotOptions:function(){this.slotOptions=this.$slots.default},checkUpdateStatus:function(){0<this.getInitialValue().length&&0===this.selectOptions.length&&(this.hasExpectedValue=!0)},handleCreateItem:function(){var e,t,i=this;this.allowCreate&&""!==this.query&&this.showCreateItem&&(e=this.query,this.$emit("on-create",e),this.query="",t={value:e,label:e,tag:void 0},this.$nextTick(function(){return i.onOptionClick(t)}))}},watch:{value:function(e){var t=this,i=this.getInitialValue,n=this.getOptionData,o=this.publicValue,s=this.values;this.checkUpdateStatus(),""===e?this.values=[]:((e,t,i)=>(e=JSON.stringify(e),t=JSON.stringify(t),i=JSON.stringify(i.map(function(e){return e.value})),e!==t||e!==i||i!==t))(e,o,s)&&(this.$nextTick(function(){return t.values=i().map(n).filter(Boolean)}),this.multiple||this.dispatch("FormItem","on-form-change",this.publicValue))},values:function(e,t){var e=JSON.stringify(e),t=JSON.stringify(t),i=this.publicValue;e!==t&&i!==this.value&&(e=this.publicValue,this.labelInValue&&(e=this.multiple?this.values:this.values[0]),(Array.isArray(i)&&!i.length&&null===this.value||void 0===i&&null===this.value)&&(i=null),this.$emit("input",i),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))},query:function(e){var t=this,i=(this.$emit("on-query-change",e),this.remoteMethod),n=this.lastRemoteQuery,i=i&&(""!==e&&(e!==n||!n))&&!this.preventRemoteCall;this.preventRemoteCall=!1,i&&(this.focusIndex=-1,n=this.remoteMethod(e),this.initialLabel="",n)&&n.then&&n.then(function(e){e&&(t.options=e)}),""!==e&&this.remote&&(this.lastRemoteQuery=e)},loading:function(e){!1===e&&this.updateSlotOptions()},isFocused:function(e){(this.filterable?this.$el.querySelector('input[type="text"]'):this.$el)[this.isFocused?"focus":"blur"]();var t=Object(H.a)(this.values,1)[0];t&&this.filterable&&!this.multiple&&!e&&(e=String(t.label||t.value).trim())&&this.query!==e&&(this.preventRemoteCall=!0,this.query=e)},focusIndex:function(e){var t,i;e<0||this.autoComplete||(t=this.flatOptions[e].componentOptions.propsData.value,i=(e=de(this,function(e){e=e.$options;return"select-item"===e.componentName&&e.propsData.value===t})).$el.getBoundingClientRect().bottom-this.$refs.dropdown.$el.getBoundingClientRect().bottom,e=e.$el.getBoundingClientRect().top-this.$refs.dropdown.$el.getBoundingClientRect().top,0<i&&(this.$refs.dropdown.$el.scrollTop+=i),e<0&&(this.$refs.dropdown.$el.scrollTop+=e))},dropVisible:function(e){this.broadcast("Drop",e?"on-update-popper":"on-destroy-popper")},selectOptions:function(){this.hasExpectedValue&&0<this.selectOptions.length&&(0===this.values.length&&(this.values=this.getInitialValue()),this.values=this.values.map(this.getOptionData).filter(Boolean),this.hasExpectedValue=!1),this.slotOptions&&0===this.slotOptions.length&&(this.query=""),this.broadcast("Drop","on-update-popper")},visible:function(e){this.$emit("on-open-change",e)},slotOptions:function(e,t){var i;this.remote||(i=this.getInitialValue(),this.flatOptions&&this.flatOptions.length&&i.length&&!this.multiple&&(this.values=i.map(this.getOptionData).filter(Boolean))),e&&t&&e.length!==t.length&&this.broadcast("Drop","on-update-popper")}}},ge=Object(t.a)(xe,function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture]",value:t.onClickOutside,expression:"onClickOutside",arg:t.capture},{name:"click-outside",rawName:"v-click-outside:[capture].mousedown",value:t.onClickOutside,expression:"onClickOutside",arg:t.capture,modifiers:{mousedown:!0}},{name:"click-outside",rawName:"v-click-outside:[capture].touchstart",value:t.onClickOutside,expression:"onClickOutside",arg:t.capture,modifiers:{touchstart:!0}}],class:t.classes},[e("div",{ref:"reference",class:t.selectionCls,attrs:{tabindex:t.selectTabindex},on:{blur:t.toggleHeaderFocus,focus:t.toggleHeaderFocus,click:t.toggleMenu,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleKeydown.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeydown.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.handleKeydown.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.handleKeydown.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleKeydown.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.handleKeydown.apply(null,arguments)}],mouseenter:function(e){t.hasMouseHoverHead=!0},mouseleave:function(e){t.hasMouseHoverHead=!1}}},[t._t("input",function(){return[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.publicValue}}),e("select-head",{attrs:{filterable:t.filterable,multiple:t.multiple,values:t.values,clearable:t.canBeCleared,prefix:t.prefix,disabled:t.itemDisabled,remote:t.remote,"input-element-id":t.elementId,"initial-label":t.initialLabel,placeholder:t.placeholder,"query-prop":t.query,"max-tag-count":t.maxTagCount,"max-tag-placeholder":t.maxTagPlaceholder,"allow-create":t.allowCreate,"show-create-item":t.showCreateItem},on:{"on-query-change":t.onQueryChange,"on-input-focus":function(e){t.isFocused=!0},"on-input-blur":function(e){t.isFocused=!1},"on-clear":t.clearSingleSelect,"on-enter":t.handleCreateItem}},[t._t("prefix",null,{slot:"prefix"})],2)]})],2),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.dropVisible,expression:"dropVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"dropdown",class:t.dropdownCls,attrs:{placement:t.placement,"data-transfer":t.transfer,transfer:t.transfer,eventsEnabled:t.eventsEnabled}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.showNotFoundLabel&&!t.allowCreate,expression:"showNotFoundLabel && !allowCreate"}],class:[t.prefixCls+"-not-found"]},[e("li",[t._v(t._s(t.localeNotFoundText))])]),t.remote&&(t.remote,t.loading)?e("ul",{class:t.prefixCls+"-dropdown-list"},[t.showCreateItem?e("li",{class:t.prefixCls+"-item",on:{click:t.handleCreateItem}},[t._v(" "+t._s(t.query)+" "),e("Icon",{class:t.prefixCls+"-item-enter",attrs:{type:"md-return-left"}})],1):t._e()]):e("functional-options",{class:t.prefixCls+"-dropdown-list",attrs:{options:t.selectOptions,"slot-update-hook":t.updateSlotOptions,"slot-options":t.slotOptions}},[t.showCreateItem?e("li",{class:t.prefixCls+"-item",on:{click:t.handleCreateItem}},[t._v(" "+t._s(t.query)+" "),e("Icon",{class:t.prefixCls+"-item-enter",attrs:{type:"md-return-left"}})],1):t._e()]),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],class:[t.prefixCls+"-loading"]},[t._v(t._s(t.localeLoadingText))])],1)],1)],1)},[],!1,null,null,null).exports,Ae="ivu-select-item",xe={name:"iOption",componentName:"select-item",mixins:[u,d],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},tag:{type:[String,Number]}},data:function(){return{searchLabel:"",autoComplete:!1}},computed:{classes:function(){return["".concat(Ae),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Ae,"-disabled"),this.itemDisabled),"".concat(Ae,"-selected"),this.selected&&!this.autoComplete),"".concat(Ae,"-focus"),this.isFocused)]},showLabel:function(){return this.label||this.value},optionLabel:function(){return this.label||this.$el&&this.$el.textContent}},methods:{select:function(){if(this.itemDisabled)return!1;this.dispatch("iSelect","on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag}),this.$emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag})}},mounted:function(){var e=Object(h.g)(this,"iSelect");e&&(this.autoComplete=e.autoComplete)}},xe=Object(t.a)(xe,function(){var t=this;return(0,t._self._c)("li",{class:t.classes,on:{click:function(e){return e.stopPropagation(),t.select.apply(null,arguments)},mousedown:function(e){e.preventDefault()}}},[t._t("default",function(){return[t._v(t._s(t.showLabel))]})],2)},[],!1,null,null,null).exports,De=(e("841c"),e("9129"),e("a15b"),e("aff5"),e("e6e1"),["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"]),Ee={};function Oe(e,t,i,n){var t=1<arguments.length&&void 0!==t?t:null,i=2<arguments.length&&void 0!==i?i:null,n=3<arguments.length&&void 0!==n&&n,n=(me||(me=document.createElement("textarea"),document.body.appendChild(me)),e.getAttribute("wrap")?me.setAttribute("wrap",e.getAttribute("wrap")):me.removeAttribute("wrap"),function(e,t){var i,n,o,t=1<arguments.length&&void 0!==t&&t,s=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");return t&&Ee[s]?Ee[s]:(e=(i=window.getComputedStyle(e)).getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),o=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),n=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),o={sizingStyle:De.map(function(e){return"".concat(e,":").concat(i.getPropertyValue(e))}).join(";"),paddingSize:o,borderSize:n,boxSizing:e},t&&s&&(Ee[s]=o),o)}(e,n)),o=n.paddingSize,s=n.borderSize,a=n.boxSizing;me.setAttribute("style","".concat(n.sizingStyle,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n")),me.value=e.value||e.placeholder||"";var r,l,n=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,c=me.scrollHeight;return"border-box"===a?c+=s:"content-box"===a&&(c-=o),null===t&&null===i||(me.value=" ",l=me.scrollHeight-o,null!==t&&(n=l*t,"border-box"===a&&(n=n+o+s),c=Math.max(n,c)),null!==i&&(e=l*i,r=(e="border-box"===a?e+o+s:e)<c?"":"hidden",c=Math.min(e,c))),i||(r="hidden"),{height:"".concat(c,"px"),minHeight:"".concat(n,"px"),maxHeight:"".concat(e,"px"),overflowY:r}}var g="ivu-input",Le={name:"Input",mixins:[u,d],props:{type:{validator:function(e){return Object(h.m)(e,["text","textarea","password","url","email","date","number","tel"])},default:"text"},value:{type:[String,Number],default:""},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator:function(e){return Object(h.m)(e,["hard","soft"])},default:"soft"},prefix:{type:String,default:""},suffix:{type:String,default:""},search:{type:Boolean,default:!1},enterButton:{type:[Boolean,String],default:!1},showWordLimit:{type:Boolean,default:!1},password:{type:Boolean,default:!1},border:{type:Boolean,default:!0}},data:function(){return{currentValue:this.value,prefixCls:g,slotReady:!1,textareaStyles:{},isOnComposition:!1,showPassword:!1,clearableIconOffset:0}},computed:{currentType:function(){var e=this.type;return e="password"===e&&this.password&&this.showPassword?"text":e},prepend:function(){var e=!1;return e="textarea"!==this.type?void 0!==this.$slots.prepend:e},append:function(){var e=!1;return e="textarea"!==this.type?void 0!==this.$slots.append:e},showPrefix:function(){var e=!1;return e="textarea"!==this.type?""!==this.prefix||void 0!==this.$slots.prefix:e},showSuffix:function(){var e=!1;return e="textarea"!==this.type?""!==this.suffix||void 0!==this.$slots.suffix:e},wrapClasses:function(){return["".concat(g,"-wrapper"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(g,"-wrapper-").concat(this.size),!!this.size),"".concat(g,"-type-").concat(this.type),this.type),"".concat(g,"-group"),this.prepend||this.append||this.search&&this.enterButton),"".concat(g,"-group-").concat(this.size),(this.prepend||this.append||this.search&&this.enterButton)&&!!this.size),"".concat(g,"-group-with-prepend"),this.prepend),"".concat(g,"-group-with-append"),this.append||this.search&&this.enterButton),"".concat(g,"-hide-icon"),this.append),"".concat(g,"-with-search"),this.search&&this.enterButton),"".concat(g,"-wrapper-disabled"),this.itemDisabled)]},inputClasses:function(){return["".concat(g),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(g,"-").concat(this.size),!!this.size),"".concat(g,"-disabled"),this.itemDisabled),"".concat(g,"-no-border"),!this.border),"".concat(g,"-with-prefix"),this.showPrefix),"".concat(g,"-with-suffix"),this.showSuffix||this.search&&!1===this.enterButton)]},textareaClasses:function(){return["".concat(g),Object(l.a)(Object(l.a)({},"".concat(g,"-disabled"),this.itemDisabled),"".concat(g,"-no-border"),!this.border)]},upperLimit:function(){return this.maxlength},textLength:function(){return("number"==typeof this.value?String(this.value):this.value||"").length},clearableStyles:function(){var e={},t=this.clearableIconOffset;return t&&(e.transform="translateX(-".concat(t,"px)")),e}},methods:{handleEnter:function(e){this.$emit("on-enter",e),this.search&&this.$emit("on-search",this.currentValue)},handleKeydown:function(e){this.$emit("on-keydown",e)},handleKeypress:function(e){this.$emit("on-keypress",e)},handleKeyup:function(e){this.$emit("on-keyup",e)},handleIconClick:function(e){this.$emit("on-click",e)},handleFocus:function(e){this.$emit("on-focus",e)},handleBlur:function(e){this.$emit("on-blur",e),Object(h.g)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleComposition:function(e){"compositionstart"===e.type&&(this.isOnComposition=!0),"compositionend"===e.type&&(this.isOnComposition=!1,this.handleInput(e))},handleInput:function(e){var t;this.isOnComposition||(t=e.target.value,this.number&&""!==t&&(t=Number.isNaN(Number(t))?t:Number(t)),this.$emit("input",t),this.setCurrentValue(t),this.$emit("on-change",e))},handleChange:function(e){this.$emit("on-input-change",e)},setCurrentValue:function(e){var t=this;e!==this.currentValue&&(this.$nextTick(function(){t.resizeTextarea()}),this.currentValue=e,Object(h.g)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",e))},resizeTextarea:function(){var e=this.autosize;if(!e||"textarea"!==this.type)return!1;var t=e.minRows;this.textareaStyles=Oe(this.$refs.textarea,t,e.maxRows)},focus:function(e){var t="textarea"===this.type?this.$refs.textarea:this.$refs.input;t.focus(e);e=(e||{}).cursor;if(e){var i=t.value.length;switch(e){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}},blur:function(){("textarea"===this.type?this.$refs.textarea:this.$refs.input).blur()},handleClear:function(){this.$emit("input",""),this.setCurrentValue(""),this.$emit("on-change",{target:{value:""}}),this.$emit("on-clear")},handleSearch:function(){if(this.itemDisabled)return!1;this.$refs.input.focus(),this.$emit("on-search",this.currentValue)},handleToggleShowPassword:function(){var e=this;if(this.itemDisabled)return!1;this.showPassword=!this.showPassword,this.focus();var t=this.currentValue.length;setTimeout(function(){e.$refs.input.setSelectionRange(t,t)},0)},handleCalcIconOffset:function(){var e=this.$el.querySelectorAll(".ivu-input-group-append")[0];this.clearableIconOffset=e?e.offsetWidth:0}},watch:{value:function(e){this.setCurrentValue(e)},type:function(){this.$nextTick(this.handleCalcIconOffset)}},mounted:function(){this.slotReady=!0,this.resizeTextarea(),this.handleCalcIconOffset()},updated:function(){this.$nextTick(this.handleCalcIconOffset)}},Le=Object(t.a)(Le,function(){var t=this,e=t._self._c;return e("div",{class:t.wrapClasses},["textarea"!==t.type?[t.prepend?e("div",{directives:[{name:"show",rawName:"v-show",value:t.slotReady,expression:"slotReady"}],class:[t.prefixCls+"-group-prepend"]},[t._t("prepend")],2):t._e(),t.clearable&&t.currentValue&&!t.itemDisabled?e("i",{staticClass:"ivu-icon",class:["ivu-icon-ios-close-circle",t.prefixCls+"-icon",t.prefixCls+"-icon-clear",t.prefixCls+"-icon-normal"],style:t.clearableStyles,on:{click:t.handleClear}}):t.icon?e("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.icon,t.prefixCls+"-icon",t.prefixCls+"-icon-normal"],on:{click:t.handleIconClick}}):t.search&&!1===t.enterButton?e("i",{staticClass:"ivu-icon ivu-icon-ios-search",class:[t.prefixCls+"-icon",t.prefixCls+"-icon-normal",t.prefixCls+"-search-icon"],on:{click:t.handleSearch}}):t.showSuffix?e("span",{staticClass:"ivu-input-suffix"},[t._t("suffix",function(){return[t.suffix?e("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.suffix]}):t._e()]})],2):t.showWordLimit?e("span",{staticClass:"ivu-input-word-count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t.password?e("span",{staticClass:"ivu-input-suffix",on:{click:t.handleToggleShowPassword}},[t.showPassword?e("i",{staticClass:"ivu-icon ivu-icon-ios-eye-outline"}):e("i",{staticClass:"ivu-icon ivu-icon-ios-eye-off-outline"})]):t._e(),e("transition",{attrs:{name:"fade"}},[t.icon?t._e():e("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop",class:[t.prefixCls+"-icon",t.prefixCls+"-icon-validate"]})]),e("input",{ref:"input",class:t.inputClasses,attrs:{id:t.elementId,autocomplete:t.autocomplete,spellcheck:t.spellcheck,type:t.currentType,placeholder:t.placeholder,disabled:t.itemDisabled,maxlength:t.maxlength,readonly:t.readonly,name:t.name,number:t.number,autofocus:t.autofocus},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},t.handleKeyup],keypress:t.handleKeypress,keydown:t.handleKeydown,focus:t.handleFocus,blur:t.handleBlur,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:t.handleInput,change:t.handleChange}}),t.append?e("div",{directives:[{name:"show",rawName:"v-show",value:t.slotReady,expression:"slotReady"}],class:[t.prefixCls+"-group-append"]},[t._t("append")],2):t.search&&t.enterButton?e("div",{class:[t.prefixCls+"-group-append",t.prefixCls+"-search"],on:{click:t.handleSearch}},[!0===t.enterButton?e("i",{staticClass:"ivu-icon ivu-icon-ios-search"}):[t._v(t._s(t.enterButton))]],2):t.showPrefix?e("span",{staticClass:"ivu-input-prefix"},[t._t("prefix",function(){return[t.prefix?e("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.prefix]}):t._e()]})],2):t._e()]:[e("textarea",{ref:"textarea",class:t.textareaClasses,style:t.textareaStyles,attrs:{id:t.elementId,wrap:t.wrap,autocomplete:t.autocomplete,spellcheck:t.spellcheck,placeholder:t.placeholder,disabled:t.itemDisabled,rows:t.rows,maxlength:t.maxlength,readonly:t.readonly,name:t.name,autofocus:t.autofocus},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},t.handleKeyup],keypress:t.handleKeypress,keydown:t.handleKeydown,focus:t.handleFocus,blur:t.handleBlur,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:t.handleInput}}),t.showWordLimit?e("span",{staticClass:"ivu-input-word-count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()]],2)},[],!1,null,null,null).exports,Ne={name:"AutoComplete",mixins:[u,d],components:{iSelect:ge,iOption:xe,iInput:Le},props:{value:{type:[String,Number],default:""},label:{type:[String,Number],default:""},data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},icon:{type:String},filterMethod:{type:[Function,Boolean],default:!1},placement:{validator:function(e){return Object(h.m)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"])},default:"bottom-start"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},transferClassName:{type:String},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},eventsEnabled:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value,disableEmitChange:!1}},computed:{inputIcon:function(){var e="";return this.clearable&&this.currentValue&&!this.disabled?e="ios-close-circle":this.icon&&(e=this.icon),e},filteredData:function(){var t=this;return this.filterMethod?this.data.filter(function(e){return t.filterMethod(t.currentValue,e)}):this.data}},watch:{value:function(e){this.currentValue!==e&&(this.disableEmitChange=!0),this.currentValue=e},currentValue:function(e){this.$refs.select.setQuery(e),this.$emit("input",e),this.disableEmitChange?this.disableEmitChange=!1:(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}},methods:{remoteMethod:function(e){this.$emit("on-search",e)},handleSelect:function(e){e=e.value;null!=e&&(this.currentValue=e,this.$refs.input.blur(),this.$emit("on-select",e))},handleFocus:function(e){this.$emit("on-focus",e)},handleBlur:function(e){this.$emit("on-blur",e)},handleClear:function(){this.clearable&&(this.currentValue="",this.$refs.select.reset(),this.$emit("on-clear"))},handleClickOutside:function(){var e=this;this.$nextTick(function(){e.$refs.input.blur()})}}},Ne=Object(t.a)(Ne,function(){var t=this,i=t._self._c;return i("i-select",{ref:"select",staticClass:"ivu-auto-complete",attrs:{label:t.label,disabled:t.itemDisabled,clearable:t.clearable,placeholder:t.placeholder,size:t.size,placement:t.placement,value:t.currentValue,"transfer-class-name":t.transferClassName,filterable:"",remote:"","auto-complete":"","remote-method":t.remoteMethod,transfer:t.transfer,capture:t.capture,eventsEnabled:t.eventsEnabled},on:{"on-select":t.handleSelect,"on-clickoutside":t.handleClickOutside}},[t._t("input",function(){return[i("i-input",{ref:"input",attrs:{slot:"input","element-id":t.elementId,name:t.name,placeholder:t.placeholder,disabled:t.itemDisabled,size:t.size,icon:t.inputIcon},on:{"on-click":t.handleClear,"on-focus":t.handleFocus,"on-blur":t.handleBlur},slot:"input",model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})]}),t._t("default",function(){return t._l(t.filteredData,function(e){return i("i-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})})],2)},[],!1,null,null,null).exports,Me="ivu-avatar",Be=["small","large","default"],y={name:"Avatar",components:{Icon:U},props:{shape:{validator:function(e){return Object(h.m)(e,["circle","square"])},default:"circle"},size:{type:[String,Number],default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},src:{type:String},icon:{type:String},customIcon:{type:String,default:""}},data:function(){return{prefixCls:Me,scale:1,childrenWidth:0,isSlotShow:!1,slotTemp:null}},computed:{classes:function(){return["".concat(Me),"".concat(Me,"-").concat(this.shape),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Me,"-image"),!!this.src),"".concat(Me,"-icon"),!!this.icon||!!this.customIcon),"".concat(Me,"-").concat(this.size),Object(h.m)(this.size,Be))]},styles:function(){var e={};return this.size&&!Object(h.m)(this.size,Be)&&(e.width="".concat(this.size,"px"),e.height="".concat(this.size,"px"),e.lineHeight="".concat(this.size,"px"),e.fontSize="".concat(this.size/2,"px")),e},childrenStyle:function(){var e={};return e=this.isSlotShow?{msTransform:"scale(".concat(this.scale,")"),WebkitTransform:"scale(".concat(this.scale,")"),transform:"scale(".concat(this.scale,")"),position:"absolute",display:"inline-block",left:"calc(50% - ".concat(Math.round(this.childrenWidth/2),"px)")}:e}},watch:{size:function(e,t){e!==t&&this.setScale()}},methods:{setScale:function(){var e;this.isSlotShow=!this.src&&!this.icon,this.$refs.children&&(this.childrenWidth=this.$refs.children.offsetWidth,(e=this.$el.getBoundingClientRect().width)-8<this.childrenWidth?this.scale=(e-8)/this.childrenWidth:this.scale=1)},handleError:function(e){this.$emit("on-error",e)}},beforeCreate:function(){this.slotTemp=this.$slots.default},mounted:function(){this.setScale()},updated:function(){this.$slots.default!==this.slotTemp&&(this.slotTemp=this.$slots.default,this.setScale())}},y=Object(t.a)(y,function(){var e=this,t=e._self._c;return t("span",{class:e.classes,style:e.styles},[e.src?t("img",{attrs:{src:e.src},on:{error:e.handleError}}):e.icon||e.customIcon?t("Icon",{attrs:{type:e.icon,custom:e.customIcon}}):t("span",{ref:"children",class:[e.prefixCls+"-string"],style:e.childrenStyle},[e._t("default")],2)],1)},[],!1,null,null,null).exports,Fe=y,Re="ivu-back-top",je={props:{height:{type:Number,default:400},bottom:{type:Number,default:30},right:{type:Number,default:30},duration:{type:Number,default:1e3}},data:function(){return{backTop:!1}},mounted:function(){n(window,"scroll",this.handleScroll),n(window,"resize",this.handleScroll)},beforeDestroy:function(){i(window,"scroll",this.handleScroll),i(window,"resize",this.handleScroll)},computed:{classes:function(){return["".concat(Re),Object(l.a)({},"".concat(Re,"-show"),this.backTop)]},styles:function(){return{bottom:"".concat(this.bottom,"px"),right:"".concat(this.right,"px")}},innerClasses:function(){return"".concat(Re,"-inner")}},methods:{handleScroll:function(){this.backTop=window.pageYOffset>=this.height},back:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;Object(h.o)(window,e,0,this.duration),this.$emit("on-click")}}},je=Object(t.a)(je,function(){var e=this,t=e._self._c;return t("div",{class:e.classes,style:e.styles,on:{click:e.back}},[e._t("default",function(){return[t("div",{class:e.innerClasses},[t("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-up"})])]})],2)},[],!1,null,null,null).exports,Ue=["blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],Ve="ivu-badge",$e={name:"Badge",props:{count:Number,dot:{type:Boolean,default:!1},overflowCount:{type:[Number,String],default:99},className:String,showZero:{type:Boolean,default:!1},text:{type:String,default:""},status:{validator:function(e){return Object(h.m)(e,["success","processing","default","error","warning"])}},type:{validator:function(e){return Object(h.m)(e,["success","primary","normal","error","warning","info"])}},offset:{type:Array},color:{type:String}},computed:{classes:function(){return"".concat(Ve)},dotClasses:function(){return"".concat(Ve,"-dot")},countClasses:function(){return["".concat(Ve,"-count"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(this.className),!!this.className),"".concat(Ve,"-count-alone"),this.alone),"".concat(Ve,"-count-").concat(this.type),!!this.type)]},customCountClasses:function(){return["".concat(Ve,"-count"),"".concat(Ve,"-count-custom"),Object(l.a)({},"".concat(this.className),!!this.className)]},statusClasses:function(){return["".concat(Ve,"-status-dot"),Object(l.a)(Object(l.a)({},"".concat(Ve,"-status-").concat(this.status),!!this.status),"".concat(Ve,"-status-").concat(this.color),!!this.color&&Object(h.m)(this.color,Ue))]},statusStyles:function(){return Object(h.m)(this.color,Ue)?{}:{backgroundColor:this.color}},styles:function(){var e={};return this.offset&&2===this.offset.length&&(e["margin-top"]="".concat(this.offset[0],"px"),e["margin-right"]="".concat(this.offset[1],"px")),e},finalCount:function(){return""!==this.text?this.text:parseInt(this.count)>=parseInt(this.overflowCount)?"".concat(this.overflowCount,"+"):this.count},badge:function(){var e=!1;return this.count&&(e=!(0===parseInt(this.count))),this.dot&&(e=!0,null!==this.count)&&0===parseInt(this.count)&&(e=!1),(e=""!==this.text?!0:e)||this.showZero},hasCount:function(){return!!(this.count||""!==this.text||this.showZero&&0===parseInt(this.count))},alone:function(){return void 0===this.$slots.default}}},$e=Object(t.a)($e,function(){var e=this,t=e._self._c;return e.dot?t("span",{ref:"badge",class:e.classes},[e._t("default"),t("sup",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],class:e.dotClasses,style:e.styles})],2):e.status||e.color?t("span",{ref:"badge",staticClass:"ivu-badge-status",class:e.classes},[t("span",{class:e.statusClasses,style:e.statusStyles}),t("span",{staticClass:"ivu-badge-status-text"},[e._t("text",function(){return[e._v(e._s(e.text))]})],2)]):t("span",{ref:"badge",class:e.classes},[e._t("default"),e.$slots.count?t("sup",{class:e.customCountClasses,style:e.styles},[e._t("count")],2):e.hasCount?t("sup",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],class:e.countClasses,style:e.styles},[e._t("text",function(){return[e._v(e._s(e.finalCount))]})],2):e._e()],2)},[],!1,null,null,null).exports,ze={name:"Breadcrumb",props:{separator:{type:String,default:"/"}},computed:{classes:function(){return"".concat("ivu-breadcrumb")}},mounted:function(){this.updateChildren()},updated:function(){var e=this;this.$nextTick(function(){e.updateChildren()})},methods:{updateChildren:function(){var t=this;this.$children.forEach(function(e){e.separator=t.separator})}},watch:{separator:function(){this.updateChildren()}}},ze=Object(t.a)(ze,function(){return(0,this._self._c)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,We={props:{to:{type:[Object,String]},replace:{type:Boolean,default:!1},target:{type:String,validator:function(e){return Object(h.m)(e,["_blank","_self","_parent","_top"])},default:"_self"},append:{type:Boolean,required:!1,default:!1}},computed:{linkUrl:function(){var e,t;return"string"!==Object(ie.a)(this.to)?null:!this.to.includes("//")&&(t=this.$router)&&(e=this.$route,t=t.resolve(this.to,e,this.append))?t.href:this.to}},methods:{handleOpenTo:function(){var e,t=this.$router,i=this.to;t&&(e=this.$route,i=(t=t.resolve(this.to,e,this.append))?t.href:this.to),"string"!=typeof this.to&&window.open(i)},handleClick:function(){var e=this.$router;0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.handleOpenTo():!e||"string"==typeof this.to&&this.to.includes("//")?window.location.href=this.to:this.replace?this.$router.replace(this.to,function(){}):this.$router.push(this.to,function(){})},handleCheckClick:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.to){if("_blank"===this.target)return this.handleOpenTo(),!1;e.preventDefault(),this.handleClick(t)}}}},He="ivu-breadcrumb-item",qe={name:"BreadcrumbItem",mixins:[We],props:{},data:function(){return{separator:"",showSeparator:!1}},computed:{linkClasses:function(){return"".concat(He,"-link")},separatorClasses:function(){return"".concat(He,"-separator")}},mounted:function(){this.showSeparator=void 0!==this.$slots.separator}},qe=Object(t.a)(qe,function(){var t=this,e=t._self._c;return e("span",[t.to?e("a",{class:t.linkClasses,attrs:{href:t.linkUrl,target:t.target},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handleCheckClick(e,!1)},function(e){return e.ctrlKey?t.handleCheckClick(e,!0):null},function(e){return e.metaKey?t.handleCheckClick(e,!0):null}]}},[t._t("default")],2):e("span",{class:t.linkClasses},[t._t("default")],2),t.showSeparator?e("span",{class:t.separatorClasses},[t._t("separator")],2):e("span",{class:t.separatorClasses,domProps:{innerHTML:t._s(t.separator)}})])},[],!1,null,null,null).exports,qe=(ze.Item=qe,ze),Ge="ivu-btn",ze={name:"Button",mixins:[We,d],components:{Icon:U},props:{type:{validator:function(e){return Object(h.m)(e,["default","primary","dashed","text","info","success","warning","error"])},default:"default"},shape:{validator:function(e){return Object(h.m)(e,["circle","circle-outline"])}},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},loading:Boolean,disabled:Boolean,htmlType:{default:"button",validator:function(e){return Object(h.m)(e,["button","submit","reset"])}},icon:{type:String,default:""},customIcon:{type:String,default:""},long:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1}},computed:{showSlot:function(){return!!this.$slots.default},classes:function(){return["".concat(Ge),"".concat(Ge,"-").concat(this.type),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Ge,"-long"),this.long),"".concat(Ge,"-").concat(this.shape),!!this.shape),"".concat(Ge,"-").concat(this.size),"default"!==this.size),"".concat(Ge,"-loading"),null!=this.loading&&this.loading),"".concat(Ge,"-icon-only"),!this.showSlot&&(!!this.icon||!!this.customIcon||this.loading)),"".concat(Ge,"-ghost"),this.ghost)]},isHrefPattern:function(){return!!this.to},tagName:function(){return this.isHrefPattern?"a":"button"},tagProps:function(){return this.isHrefPattern?{href:this.linkUrl,target:this.target}:{type:this.htmlType}}},methods:{handleClickLink:function(e){this.$emit("click",e);var t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}}},Ye=Object(t.a)(ze,function(){var e=this,t=e._self._c;return t(e.tagName,e._b({tag:"component",class:e.classes,attrs:{disabled:e.itemDisabled},on:{click:e.handleClickLink}},"component",e.tagProps,!1),[e.loading?t("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):e._e(),!e.icon&&!e.customIcon||e.loading?e._e():t("Icon",{attrs:{type:e.icon,custom:e.customIcon}}),e.showSlot?t("span",{ref:"slot"},[e._t("default")],2):e._e()],1)},[],!1,null,null,null).exports,Qe="ivu-btn-group",ze={name:"ButtonGroup",props:{size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},shape:{validator:function(e){return Object(h.m)(e,["circle","circle-outline"])}},vertical:{type:Boolean,default:!1}},computed:{classes:function(){return["".concat(Qe),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Qe,"-").concat(this.size),!!this.size),"".concat(Qe,"-").concat(this.shape),!!this.shape),"".concat(Qe,"-vertical"),this.vertical)]}}},ze=Object(t.a)(ze,function(){return(0,this._self._c)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,ze=(Ye.Group=ze,Ye),Ke="ivu-card",Xe={name:"Card",mixins:[We],components:{Icon:s},props:{bordered:{type:Boolean,default:!0},disHover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},padding:{type:Number,default:16},title:{type:String},icon:{type:String}},data:function(){return{showHead:!0,showExtra:!0}},computed:{classes:function(){return["".concat(Ke),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Ke,"-bordered"),this.bordered&&!this.shadow),"".concat(Ke,"-dis-hover"),this.disHover||this.shadow),"".concat(Ke,"-shadow"),this.shadow)]},headClasses:function(){return"".concat(Ke,"-head")},extraClasses:function(){return"".concat(Ke,"-extra")},bodyClasses:function(){return"".concat(Ke,"-body")},bodyStyles:function(){return 16!==this.padding?{padding:"".concat(this.padding,"px")}:""},isHrefPattern:function(){return!!this.to},tagName:function(){return this.isHrefPattern?"a":"div"},tagProps:function(){return this.isHrefPattern?{href:this.linkUrl,target:this.target}:{}}},methods:{handleClickLink:function(e){var t;this.isHrefPattern&&(t=e.ctrlKey||e.metaKey,this.handleCheckClick(e,t))}},mounted:function(){this.showHead=this.title||void 0!==this.$slots.title,this.showExtra=void 0!==this.$slots.extra}},Xe=Object(t.a)(Xe,function(){var e=this,t=e._self._c;return t(e.tagName,e._b({tag:"component",class:e.classes,on:{click:e.handleClickLink}},"component",e.tagProps,!1),[e.showHead?t("div",{class:e.headClasses},[e._t("title",function(){return[e.title?t("p",[e.icon?t("Icon",{attrs:{type:e.icon}}):e._e(),t("span",[e._v(e._s(e.title))])],1):e._e()]})],2):e._e(),e.showExtra?t("div",{class:e.extraClasses},[e._t("extra")],2):e._e(),t("div",{class:e.bodyClasses,style:e.bodyStyles},[e._t("default")],2)])},[],!1,null,null,null).exports,Ze="ivu-carousel",Je={name:"Carousel",components:{Icon:s},props:{arrow:{type:String,default:"hover",validator:function(e){return Object(h.m)(e,["hover","always","never"])}},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:2e3},loop:{type:Boolean,default:!1},easing:{type:String,default:"ease"},dots:{type:String,default:"inside",validator:function(e){return Object(h.m)(e,["inside","outside","none"])}},radiusDot:{type:Boolean,default:!1},trigger:{type:String,default:"click",validator:function(e){return Object(h.m)(e,["click","hover"])}},value:{type:Number,default:0},height:{type:[String,Number],default:"auto",validator:function(e){return"auto"===e||"[object Number]"===Object.prototype.toString.call(e)}}},data:function(){return{prefixCls:Ze,listWidth:0,trackWidth:0,trackOffset:0,trackCopyOffset:0,showCopyTrack:!1,slides:[],slideInstances:[],timer:null,ready:!1,currentIndex:this.value,trackIndex:this.value,copyTrackIndex:this.value,hideTrackPos:-1}},computed:{classes:function(){return["".concat(Ze)]},trackStyles:function(){var e=-1===this.trackIndex?"hidden":"visible";return{width:"".concat(this.trackWidth,"px"),transform:"translate3d(".concat(-this.trackOffset,"px, 0px, 0px)"),transition:"transform 500ms ".concat(this.easing),visibility:e}},copyTrackStyles:function(){return{width:"".concat(this.trackWidth,"px"),transform:"translate3d(".concat(-this.trackCopyOffset,"px, 0px, 0px)"),transition:"transform 500ms ".concat(this.easing),position:"absolute"}},arrowClasses:function(){return["".concat(Ze,"-arrow"),"".concat(Ze,"-arrow-").concat(this.arrow)]},dotsClasses:function(){return["".concat(Ze,"-dots"),"".concat(Ze,"-dots-").concat(this.dots)]}},methods:{findChild:function(t){function i(e){e.$options.componentName?t(e):e.$children.length&&e.$children.forEach(function(e){i(e)})}this.slideInstances.length||!this.$children?this.slideInstances.forEach(function(e){i(e)}):this.$children.forEach(function(e){i(e)})},initCopyTrackDom:function(){var e=this;this.$nextTick(function(){e.$refs.copyTrack.innerHTML=e.$refs.originTrack.innerHTML})},updateSlides:function(t){var i=this,n=[],o=1;this.findChild(function(e){n.push({$el:e.$el}),e.index=o++,t&&i.slideInstances.push(e)}),this.slides=n,this.updatePos()},updatePos:function(){var t=this;this.findChild(function(e){e.width=t.listWidth,e.height="number"==typeof t.height?"".concat(t.height,"px"):t.height}),this.trackWidth=(this.slides.length||0)*this.listWidth},slotChange:function(){var e=this;this.$nextTick(function(){e.slides=[],e.slideInstances=[],e.updateSlides(!0,!0),e.updatePos(),e.updateOffset()})},handleResize:function(){this.listWidth=parseInt(Object(h.l)(this.$el,"width")),this.updatePos(),this.updateOffset()},updateTrackPos:function(e){this.showCopyTrack?this.trackIndex=e:this.copyTrackIndex=e},updateTrackIndex:function(e){this.showCopyTrack?this.copyTrackIndex=e:this.trackIndex=e,this.currentIndex=e},add:function(e){for(var t=this.slides.length,i=(this.loop&&(this.hideTrackPos=0<e?-1:t,this.updateTrackPos(this.hideTrackPos)),this.showCopyTrack?this.copyTrackIndex:this.trackIndex),n=i+e;n<0;)n+=t;(0<e&&n===t||e<0&&n===t-1)&&this.loop?(this.showCopyTrack=!this.showCopyTrack,this.trackIndex+=e,this.copyTrackIndex+=e):(this.loop||(n%=this.slides.length),this.updateTrackIndex(n)),this.currentIndex=n===this.slides.length?0:n,this.$emit("on-change",i,this.currentIndex),this.$emit("input",this.currentIndex)},arrowEvent:function(e){this.setAutoplay(),this.add(e)},dotsEvent:function(e,t){var i=this.showCopyTrack?this.copyTrackIndex:this.trackIndex,n=this.currentIndex;e===this.trigger&&i!==t&&(this.updateTrackIndex(t),this.$emit("on-change",n,this.currentIndex),this.$emit("input",t),this.setAutoplay())},setAutoplay:function(){var e=this;window.clearInterval(this.timer),this.autoplay&&(this.timer=window.setInterval(function(){e.add(1)},this.autoplaySpeed))},updateOffset:function(){var t=this;this.$nextTick(function(){var e=0<t.copyTrackIndex?-1:1;t.trackOffset=t.trackIndex*t.listWidth,t.trackCopyOffset=t.copyTrackIndex*t.listWidth+e})},handleClick:function(e){this.$emit("on-click",this[e])}},watch:{autoplay:function(){this.setAutoplay()},autoplaySpeed:function(){this.setAutoplay()},trackIndex:function(){this.updateOffset()},copyTrackIndex:function(){this.updateOffset()},height:function(){this.updatePos()},value:function(e){this.updateTrackIndex(e),this.setAutoplay()}},mounted:function(){this.updateSlides(!0),this.handleResize(),this.setAutoplay(),n(window,"resize",this.handleResize)},beforeDestroy:function(){i(window,"resize",this.handleResize)}},Je=Object(t.a)(Je,function(){var i=this,e=i._self._c;return e("div",{class:i.classes},[e("button",{staticClass:"left",class:i.arrowClasses,attrs:{type:"button"},on:{click:function(e){return i.arrowEvent(-1)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1),e("div",{class:[i.prefixCls+"-list"]},[e("div",{ref:"originTrack",class:[i.prefixCls+"-track",i.showCopyTrack?"":"higher"],style:i.trackStyles,on:{click:function(e){return i.handleClick("currentIndex")}}},[i._t("default")],2),i.loop?e("div",{ref:"copyTrack",class:[i.prefixCls+"-track",i.showCopyTrack?"higher":""],style:i.copyTrackStyles,on:{click:function(e){return i.handleClick("copyTrackIndex")}}}):i._e()]),e("button",{staticClass:"right",class:i.arrowClasses,attrs:{type:"button"},on:{click:function(e){return i.arrowEvent(1)}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e("ul",{class:i.dotsClasses},[i._l(i.slides.length,function(t){return[e("li",{class:[t-1===i.currentIndex?i.prefixCls+"-active":""],on:{click:function(e){return i.dotsEvent("click",t-1)},mouseover:function(e){return i.dotsEvent("hover",t-1)}}},[e("button",{class:[i.radiusDot?"radius":""],attrs:{type:"button"}})])]})],2)])},[],!1,null,null,null).exports,et={componentName:"carousel-item",name:"CarouselItem",data:function(){return{prefixCls:"ivu-carousel-item",width:0,height:"auto",left:0}},computed:{styles:function(){return{width:"".concat(this.width,"px"),height:"".concat(this.height),left:"".concat(this.left,"px")}}},mounted:function(){this.$parent.slotChange()},watch:{width:function(e){var t=this;e&&this.$parent.loop&&this.$nextTick(function(){t.$parent.initCopyTrackDom()})},height:function(e){var t=this;e&&this.$parent.loop&&this.$nextTick(function(){t.$parent.initCopyTrackDom()})}},beforeDestroy:function(){this.$parent.slotChange()}},et=Object(t.a)(et,function(){return(0,this._self._c)("div",{class:this.prefixCls,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,et=(Je.Item=et,Je),Je=(e("db9b"),e("4d63"),e("c607"),e("2c3e"),e("a434"),{name:"Casitem",components:{Icon:s},props:{data:Object,prefixCls:String,tmpItem:Object},computed:{classes:function(){return["".concat(this.prefixCls,"-menu-item"),Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-menu-item-active"),this.tmpItem.value===this.data.value),"".concat(this.prefixCls,"-menu-item-disabled"),this.data.disabled)]},showArrow:function(){return this.data.children&&this.data.children.length||"loading"in this.data&&!this.data.loading},showLoading:function(){return"loading"in this.data&&this.data.loading},arrowType:function(){var e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.cascader.customItemArrow?e="":this.$IVIEW.cascader.itemArrow&&(e=this.$IVIEW.cascader.itemArrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.cascader.customItemArrow?this.$IVIEW.cascader.customItemArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.cascader.itemArrowSize?this.$IVIEW.cascader.itemArrowSize:e}}}),Je=Object(t.a)(Je,function(){var e=this,t=e._self._c;return t("li",{class:e.classes},[e._v(" "+e._s(e.data.label)+" "),e.showArrow?t("Icon",{attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}}):e._e(),e.showLoading?t("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop ivu-cascader-menu-item-loading"}):e._e()],1)},[],!1,null,null,null).exports,tt=1,Je={name:"Caspanel",mixins:[u],components:{Casitem:Je},props:{data:{type:Array,default:function(){return[]}},disabled:Boolean,changeOnSelect:Boolean,trigger:String,prefixCls:String},data:function(){return{tmpItem:{},result:[],sublist:[]}},watch:{data:function(){this.sublist=[]}},methods:{handleClickItem:function(e){"click"!==this.trigger&&e.children&&e.children.length||this.handleTriggerItem(e,!1,!0)},handleHoverItem:function(e){"hover"===this.trigger&&e.children&&e.children.length&&this.handleTriggerItem(e,!1,!0)},handleTriggerItem:function(e){var t,i,n=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e.disabled||(t=Object(h.g)(this,"Cascader"),void 0!==e.loading&&!e.children.length&&t&&t.loadData?t.loadData(e,function(){s&&(t.isLoadedChildren=!0),e.children.length&&n.handleTriggerItem(e)}):(i=this.getBaseItem(e),(this.changeOnSelect||i.label!==this.tmpItem.label||i.value!==this.tmpItem.value||i.label===this.tmpItem.label&&i.value===this.tmpItem.value)&&(this.tmpItem=i,this.emitUpdate([i])),e.children&&e.children.length?(this.sublist=e.children,this.dispatch("Cascader","on-result-change",{lastValue:!1,changeOnSelect:this.changeOnSelect,fromInit:o}),this.changeOnSelect&&(i=Object(h.f)(this,"Caspanel"))&&i.$emit("on-clear",!0)):(this.sublist=[],this.dispatch("Cascader","on-result-change",{lastValue:!0,changeOnSelect:this.changeOnSelect,fromInit:o})),t&&t.$refs.drop.update()))},updateResult:function(e){this.result=[this.tmpItem].concat(e),this.emitUpdate(this.result)},getBaseItem:function(e){e=Object.assign({},e);return e.children&&delete e.children,e},emitUpdate:function(e){("Caspanel"===this.$parent.$options.name?this:this.$parent).$parent.updateResult(e)},getKey:function(){return tt++}},mounted:function(){var o=this;this.$on("on-find-selected",function(e){for(var e=e.value,t=Object(c.a)(e),i=0;i<t.length;i++)for(var n=0;n<o.data.length;n++)if(t[i]===o.data[n].value)return o.handleTriggerItem(o.data[n],!0),t.splice(0,1),o.$nextTick(function(){o.broadcast("Caspanel","on-find-selected",{value:t})}),!1}),this.$on("on-clear",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];o.sublist=[],o.tmpItem={},e&&(e=Object(h.f)(o,"Caspanel"))&&e.$emit("on-clear",!0)})}},Je=Object(t.a)(Je,function(){var i=this,e=i._self._c;return e("span",[i.data&&i.data.length?e("ul",{class:[i.prefixCls+"-menu"]},i._l(i.data,function(t){return e("Casitem",{key:i.getKey(),attrs:{"prefix-cls":i.prefixCls,data:t,"tmp-item":i.tmpItem},nativeOn:{click:function(e){return e.stopPropagation(),i.handleClickItem(t)},mouseenter:function(e){return e.stopPropagation(),i.handleHoverItem(t)}}})}),1):i._e(),i.sublist&&i.sublist.length?e("Caspanel",{attrs:{"prefix-cls":i.prefixCls,data:i.sublist,disabled:i.disabled,trigger:i.trigger,"change-on-select":i.changeOnSelect}}):i._e()],1)},[],!1,null,null,null).exports,it={bind:function(t,i,e){function n(e){if(t.contains(e.target))return!1;i.expression&&i.value(e)}t.__vueClickOutside__=n,document.addEventListener("click",n)},update:function(){},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}},nt="ivu-cascader",Je={name:"Cascader",mixins:[u,p,d],components:{iInput:Le,Drop:a,Icon:s,Caspanel:Je},directives:{clickOutside:it,TransferDom:r},props:{data:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},placeholder:{type:String},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},trigger:{validator:function(e){return Object(h.m)(e,["click","hover"])},default:"click"},changeOnSelect:{type:Boolean,default:!1},renderFormat:{type:Function,default:function(e){return e.join(" / ")}},loadData:{type:Function},filterable:{type:Boolean,default:!1},notFoundText:{type:String},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String},eventsEnabled:{type:Boolean,default:!1}},data:function(){return{prefixCls:nt,selectPrefixCls:"ivu-select",visible:!1,selected:[],tmpSelected:[],updatingValue:!1,currentValue:this.value||[],query:"",validDataStr:"",isLoadedChildren:!1,isValueNull:!1}},computed:{classes:function(){return["".concat(nt),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(nt,"-show-clear"),this.showCloseIcon),"".concat(nt,"-size-").concat(this.size),!!this.size),"".concat(nt,"-visible"),this.visible),"".concat(nt,"-disabled"),this.itemDisabled),"".concat(nt,"-not-found"),this.filterable&&""!==this.query&&!this.querySelections.length)]},showCloseIcon:function(){return this.currentValue&&this.currentValue.length&&this.clearable&&!this.itemDisabled},displayRender:function(){for(var e=[],t=0;t<this.selected.length;t++)e.push(this.selected[t].label);return this.renderFormat(e,this.selected)},displayInputRender:function(){return this.filterable?"":this.displayRender},localePlaceholder:function(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},inputPlaceholder:function(){return this.filterable&&this.currentValue.length?null:this.localePlaceholder},localeNotFoundText:function(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},querySelections:function(){var t=this,a=[];return function e(t,i,n){for(var o=0;o<t.length;o++){var s=t[o];s.__label=i?i+" / "+s.label:s.label,s.__value=n?n+","+s.value:s.value,s.children&&s.children.length?(e(s.children,s.__label,s.__value),delete s.__label,delete s.__value):a.push({label:s.__label,value:s.__value,display:s.__label,item:s,disabled:!!s.disabled})}}(this.data),a=a.filter(function(e){return!!e.label&&-1<e.label.indexOf(t.query)}).map(function(e){return e.display=e.display.replace(new RegExp(t.query,"g"),"<span>".concat(t.query,"</span>")),e})},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.cascader.customArrow?e="":this.$IVIEW.cascader.arrow&&(e=this.$IVIEW.cascader.arrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.cascader.customArrow?this.$IVIEW.cascader.customArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.cascader.arrowSize?this.$IVIEW.cascader.arrowSize:e},dropdownCls:function(){return Object(l.a)(Object(l.a)({},nt+"-transfer",this.transfer),this.transferClassName,this.transferClassName)}},methods:{clearSelect:function(){if(this.itemDisabled)return!1;var e=JSON.stringify(this.currentValue);this.currentValue=this.selected=this.tmpSelected=[],this.handleClose(),this.emitValue(this.currentValue,e),this.broadcast("Caspanel","on-clear")},handleClose:function(){this.visible=!1},toggleOpen:function(){if(this.itemDisabled)return!1;this.visible?this.filterable||this.handleClose():this.onFocus()},onFocus:function(){this.visible=!0,this.currentValue.length||this.broadcast("Caspanel","on-clear")},updateResult:function(e){this.tmpSelected=e},updateSelected:function(){(!this.changeOnSelect||0<arguments.length&&void 0!==arguments[0]&&arguments[0]||1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&this.broadcast("Caspanel","on-find-selected",{value:this.currentValue})},emitValue:function(e,t){var i=this;JSON.stringify(e)!==t&&(this.$emit("on-change",this.currentValue,JSON.parse(JSON.stringify(this.selected))),this.$nextTick(function(){i.dispatch("FormItem","on-form-change",{value:i.currentValue,selected:JSON.parse(JSON.stringify(i.selected))})}))},handleInput:function(e){this.query=e.target.value},handleSelectItem:function(e){var t=this,e=this.querySelections[e];if(e.item.disabled)return!1;this.query="",this.$refs.input.currentValue="";var i=JSON.stringify(this.currentValue);this.currentValue=e.value.split(","),setTimeout(function(){t.emitValue(t.currentValue,i),t.handleClose()},0)},handleFocus:function(){this.$refs.input.focus()},getValidData:function(e){return e.map(function e(t){t=Object.assign({},t);return"loading"in t&&delete t.loading,"__value"in t&&delete t.__value,"__label"in t&&delete t.__label,"children"in t&&t.children.length&&(t.children=t.children.map(e)),t})}},created:function(){var o=this;this.validDataStr=JSON.stringify(this.getValidData(this.data)),this.$on("on-result-change",function(e){var t,i=e.lastValue,n=e.fromInit;(i||e.changeOnSelect)&&(e=JSON.stringify(o.currentValue),o.selected=o.tmpSelected,t=[],o.selected.forEach(function(e){t.push(e.value)}),n||(o.updatingValue=!0,o.currentValue=t,o.emitValue(o.currentValue,e))),i&&!n&&o.handleClose()})},mounted:function(){this.updateSelected(!0)},watch:{visible:function(e){e?(this.currentValue.length&&this.updateSelected(),this.transfer&&this.$refs.drop.update(),this.broadcast("Drop","on-update-popper")):(this.filterable&&(this.query="",this.$refs.input.currentValue=""),this.transfer&&this.$refs.drop.destroy(),this.broadcast("Drop","on-destroy-popper")),this.$emit("on-visible-change",e)},value:function(e){null===e&&(this.isValueNull=!0),this.currentValue=e||[],null!==e&&e.length||(this.selected=[])},currentValue:function(){this.isValueNull?(this.isValueNull=!1,this.$emit("input",null)):this.$emit("input",this.currentValue),this.updatingValue?this.updatingValue=!1:this.updateSelected(!0)},data:{deep:!0,handler:function(){var e=this,t=JSON.stringify(this.getValidData(this.data));t!==this.validDataStr&&(this.validDataStr=t,this.isLoadedChildren||this.$nextTick(function(){return e.updateSelected(!1,e.changeOnSelect)}),this.isLoadedChildren=!1)}}}},Je=Object(t.a)(Je,function(){var i=this,n=i._self._c;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:i.handleClose,expression:"handleClose"}],class:i.classes},[n("div",{ref:"reference",class:[i.prefixCls+"-rel"],on:{click:i.toggleOpen}},[n("input",{attrs:{type:"hidden",name:i.name},domProps:{value:i.currentValue}}),i._t("default",function(){return[n("i-input",{ref:"input",attrs:{"element-id":i.elementId,readonly:!i.filterable,disabled:i.itemDisabled,value:i.displayInputRender,size:i.size,placeholder:i.inputPlaceholder},on:{"on-change":i.handleInput}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.filterable&&""===i.query,expression:"filterable && query === ''"}],class:[i.prefixCls+"-label"],on:{click:i.handleFocus}},[i._v(i._s(i.displayRender))]),n("Icon",{directives:[{name:"show",rawName:"v-show",value:i.showCloseIcon,expression:"showCloseIcon"}],class:[i.prefixCls+"-arrow"],attrs:{type:"ios-close-circle"},nativeOn:{click:function(e){return e.stopPropagation(),i.clearSelect.apply(null,arguments)}}}),n("Icon",{class:[i.prefixCls+"-arrow"],attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize}})]})],2),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:i.visible,expression:"visible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:i.dropdownCls,attrs:{eventsEnabled:i.eventsEnabled,"data-transfer":i.transfer,transfer:i.transfer}},[n("div",[n("Caspanel",{directives:[{name:"show",rawName:"v-show",value:!i.filterable||(i.filterable,""===i.query),expression:"!filterable || (filterable && query === '')"}],ref:"caspanel",attrs:{"prefix-cls":i.prefixCls,data:i.data,disabled:i.itemDisabled,"change-on-select":i.changeOnSelect,trigger:i.trigger}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.filterable&&""!==i.query&&i.querySelections.length,expression:"filterable && query !== '' && querySelections.length"}],class:[i.prefixCls+"-dropdown"]},[n("ul",{class:[i.selectPrefixCls+"-dropdown-list"]},i._l(i.querySelections,function(e,t){return n("li",{class:[i.selectPrefixCls+"-item",Object(l.a)({},i.selectPrefixCls+"-item-disabled",e.disabled)],domProps:{innerHTML:i._s(e.display)},on:{click:function(e){return i.handleSelectItem(t)}}})}),0)]),n("ul",{directives:[{name:"show",rawName:"v-show",value:i.filterable&&""!==i.query&&!i.querySelections.length||!i.data.length,expression:"(filterable && query !== '' && !querySelections.length) || !data.length"}],class:[i.prefixCls+"-not-found-tip"]},[n("li",[i._v(i._s(i.localeNotFoundText))])])],1)])],1)],1)},[],!1,null,null,null).exports,v={props:{title:{type:String,default:""},label:{type:String,default:""},extra:{type:String,default:""}}},v=Object(t.a)(v,function(){var e=this,t=e._self._c;return t("div",{staticClass:"ivu-cell-item"},[t("div",{staticClass:"ivu-cell-icon"},[e._t("icon")],2),t("div",{staticClass:"ivu-cell-main"},[t("div",{staticClass:"ivu-cell-title"},[e._t("default",function(){return[e._v(e._s(e.title))]})],2),t("div",{staticClass:"ivu-cell-label"},[e._t("label",function(){return[e._v(e._s(e.label))]})],2)]),t("div",{staticClass:"ivu-cell-footer"},[t("span",{staticClass:"ivu-cell-extra"},[e._t("extra",function(){return[e._v(e._s(e.extra))]})],2)])])},[],!1,null,null,null).exports,ot="ivu-cell",v={name:"Cell",inject:["cellGroup"],mixins:[We],components:{CellItem:v,Icon:s},props:{name:{type:[String,Number]},title:{type:String,default:""},label:{type:String,default:""},extra:{type:String,default:""},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}},data:function(){return{prefixCls:ot}},computed:{classes:function(){return["".concat(ot),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(ot,"-disabled"),this.disabled),"".concat(ot,"-selected"),this.selected),"".concat(ot,"-with-link"),this.to)]},arrowType:function(){var e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.cell.customArrow?e="":this.$IVIEW.cell.arrow&&(e=this.$IVIEW.cell.arrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.cell.customArrow?this.$IVIEW.cell.customArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.cell.arrowSize?this.$IVIEW.cell.arrowSize:e}},methods:{handleClickItem:function(e,t){this.cellGroup.handleClick(this.name),this.handleCheckClick(e,t)}}},v=Object(t.a)(v,function(){var t=this,e=t._self._c;return e("div",{class:t.classes},[t.to?e("a",{staticClass:"ivu-cell-link",attrs:{href:t.linkUrl,target:t.target},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handleClickItem(e,!1)},function(e){return e.ctrlKey?t.handleClickItem(e,!0):null},function(e){return e.metaKey?t.handleClickItem(e,!0):null}]}},[e("CellItem",{attrs:{title:t.title,label:t.label,extra:t.extra}},[t._t("icon",null,{slot:"icon"}),t._t("default",null,{slot:"default"}),t._t("extra",null,{slot:"extra"}),t._t("label",null,{slot:"label"})],2)],1):e("div",{staticClass:"ivu-cell-link",on:{click:t.handleClickItem}},[e("CellItem",{attrs:{title:t.title,label:t.label,extra:t.extra}},[t._t("icon",null,{slot:"icon"}),t._t("default",null,{slot:"default"}),t._t("extra",null,{slot:"extra"}),t._t("label",null,{slot:"label"})],2)],1),t.to?e("div",{staticClass:"ivu-cell-arrow"},[t._t("arrow",function(){return[e("Icon",{attrs:{type:t.arrowType,custom:t.customArrowType,size:t.arrowSize}})]})],2):t._e()])},[],!1,null,null,null).exports,st={name:"CellGroup",provide:function(){return{cellGroup:this}},methods:{handleClick:function(e){this.$emit("on-click",e)}}},st=Object(t.a)(st,function(){return(0,this._self._c)("div",{staticClass:"ivu-cell-group"},[this._t("default")],2)},[],!1,null,null,null).exports,st=(v.Group=st,v),b=(e("fb6a"),"ivu-checkbox"),v={name:"Checkbox",mixins:[u,d],props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},border:{type:Boolean,default:!1}},data:function(){return{model:[],currentValue:this.value,group:!1,showSlot:!0,parent:Object(h.g)(this,"CheckboxGroup"),focusInner:!1}},computed:{wrapClasses:function(){return["".concat(b,"-wrapper"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(b,"-group-item"),this.group),"".concat(b,"-wrapper-checked"),this.currentValue),"".concat(b,"-wrapper-disabled"),this.itemDisabled),"".concat(b,"-").concat(this.size),!!this.size),"".concat(b,"-border"),this.border)]},checkboxClasses:function(){return["".concat(b),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(b,"-checked"),this.currentValue),"".concat(b,"-disabled"),this.itemDisabled),"".concat(b,"-indeterminate"),this.indeterminate)]},innerClasses:function(){return["".concat(b,"-inner"),Object(l.a)({},"".concat(b,"-focus"),this.focusInner)]},inputClasses:function(){return"".concat(b,"-input")}},mounted:function(){this.parent=Object(h.g)(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change:function(e){if(this.itemDisabled)return!1;e=e.target.checked,e=(this.currentValue=e)?this.trueValue:this.falseValue;this.$emit("input",e),this.group?this.parent.change(this.model):(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))},updateModel:function(){this.currentValue=this.value===this.trueValue},onBlur:function(){this.focusInner=!1},onFocus:function(){this.focusInner=!0}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateModel()}}},v=Object(t.a)(v,function(){var s=this,e=s._self._c;return e("label",{class:s.wrapClasses},[e("span",{class:s.checkboxClasses},[e("span",{class:s.innerClasses}),s.group?e("input",{directives:[{name:"model",rawName:"v-model",value:s.model,expression:"model"}],class:s.inputClasses,attrs:{type:"checkbox",disabled:s.itemDisabled,name:s.name},domProps:{value:s.label,checked:Array.isArray(s.model)?-1<s._i(s.model,s.label):s.model},on:{change:[function(e){var t,i,n=s.model,e=e.target,o=!!e.checked;Array.isArray(n)?(t=s.label,i=s._i(n,t),e.checked?i<0&&(s.model=n.concat([t])):-1<i&&(s.model=n.slice(0,i).concat(n.slice(i+1)))):s.model=o},s.change],focus:s.onFocus,blur:s.onBlur}}):e("input",{class:s.inputClasses,attrs:{type:"checkbox",disabled:s.itemDisabled,name:s.name},domProps:{checked:s.currentValue},on:{change:s.change,focus:s.onFocus,blur:s.onBlur}})]),s._t("default",function(){return[s.showSlot?e("span",[s._v(s._s(s.label))]):s._e()]})],2)},[],!1,null,null,null).exports,w={name:"CheckboxGroup",mixins:[u],props:{value:{type:Array,default:function(){return[]}},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}}},data:function(){return{currentValue:this.value||[],children:[]}},computed:{classes:function(){return["".concat("ivu-checkbox-group"),Object(l.a)({},"ivu-checkbox-".concat(this.size),!!this.size)]}},mounted:function(){this.updateModel(!0)},methods:{updateModel:function(t){var i;this.children=Object(h.h)(this,"Checkbox"),this.children&&(i=this.value||[],this.children.forEach(function(e){e.model=i,t&&(e.currentValue=0<=i.indexOf(e.label),e.group=!0)}))},change:function(e){this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}},watch:{value:function(){this.updateModel(!0)}}},w=Object(t.a)(w,function(){return(0,this._self._c)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,at=(v.Group=w,v),rt="ivu-chart-circle",lt={name:"iCircle",props:{percent:{type:Number,default:0},size:{type:Number,default:120},strokeWidth:{type:Number,default:6},strokeColor:{type:[String,Array],default:"#2d8cf0"},strokeLinecap:{validator:function(e){return Object(h.m)(e,["square","round"])},default:"round"},trailWidth:{type:Number,default:5},trailColor:{type:String,default:"#eaeef2"},dashboard:{type:Boolean,default:!1}},data:function(){return{id:"ivu-chart-circle-".concat(function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:32,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",i=t.length,n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*i));return n}(3))}},computed:{circleSize:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px")}},computedStrokeWidth:function(){return 0===this.percent&&this.dashboard?0:this.strokeWidth},radius:function(){return 50-this.strokeWidth/2},pathString:function(){return(this.dashboard?"M 50,50 m 0,".concat(this.radius,"\n                    a ").concat(this.radius,",").concat(this.radius," 0 1 1 0,-").concat(2*this.radius,"\n                    a ").concat(this.radius,",").concat(this.radius," 0 1 1 0,"):"M 50,50 m 0,-".concat(this.radius,"\n                    a ").concat(this.radius,",").concat(this.radius," 0 1 1 0,").concat(2*this.radius,"\n                    a ").concat(this.radius,",").concat(this.radius," 0 1 1 0,-")).concat(2*this.radius)},len:function(){return 2*Math.PI*this.radius},trailStyle:function(){var e={};return e=this.dashboard?{"stroke-dasharray":"".concat(this.len-75,"px ").concat(this.len,"px"),"stroke-dashoffset":"-".concat(37.5,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"}:e},pathStyle:function(){return this.dashboard?{"stroke-dasharray":"".concat(this.percent/100*(this.len-75),"px ").concat(this.len,"px"),"stroke-dashoffset":"-".concat(37.5,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .6s ease 0s, stroke .6s, stroke-width .06s ease .6s"}:{"stroke-dasharray":"".concat(this.len,"px ").concat(this.len,"px"),"stroke-dashoffset":"".concat((100-this.percent)/100*this.len,"px"),transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},wrapClasses:function(){return"".concat(rt)},innerClasses:function(){return"".concat(rt,"-inner")},strokeValue:function(){var e=this.strokeColor;return e="string"!=typeof this.strokeColor?"url(#".concat(this.id,")"):e},showDefs:function(){return"string"!=typeof this.strokeColor}}},lt=Object(t.a)(lt,function(){var e=this,t=e._self._c;return t("div",{class:e.wrapClasses,style:e.circleSize},[t("svg",{attrs:{viewBox:"0 0 100 100"}},[e.showDefs?t("defs",[t("linearGradient",{attrs:{id:e.id,x1:"100%",y1:"0%",x2:"0%",y2:"0%"}},[t("stop",{attrs:{offset:"0%","stop-color":e.strokeColor[0]}}),t("stop",{attrs:{offset:"100%","stop-color":e.strokeColor[1]}})],1)],1):e._e(),t("path",{style:e.trailStyle,attrs:{d:e.pathString,stroke:e.trailColor,"stroke-width":e.trailWidth,"fill-opacity":0,"stroke-linecap":e.strokeLinecap}}),t("path",{style:e.pathStyle,attrs:{d:e.pathString,"stroke-linecap":e.strokeLinecap,stroke:e.strokeValue,"stroke-width":e.computedStrokeWidth,"fill-opacity":"0"}})]),t("div",{class:e.innerClasses},[e._t("default")],2)])},[],!1,null,null,null).exports,ct="ivu-collapse",ut={name:"Collapse",props:{accordion:{type:Boolean,default:!1},value:{type:[Array,String]},simple:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},computed:{classes:function(){return["".concat(ct),Object(l.a)({},"".concat(ct,"-simple"),this.simple)]}},mounted:function(){this.setActive()},methods:{setActive:function(){var n=this.getActiveKey();this.$children.forEach(function(e,t){var i=e.name||t.toString();e.isActive=-1<n.indexOf(i),e.index=t})},getActiveKey:function(){var e=this.currentValue||[],t=this.accordion;Array.isArray(e)||(e=[e]),t&&1<e.length&&(e=[e[0]]);for(var i=0;i<e.length;i++)e[i]=e[i].toString();return e},toggle:function(e){var t,i,n=e.name.toString(),o=[];this.accordion?e.isActive||o.push(n):(i=(t=this.getActiveKey()).indexOf(n),e.isActive?-1<i&&t.splice(i,1):i<0&&t.push(n),o=t),this.currentValue=o,this.$emit("input",o),this.$emit("on-change",o)}},watch:{value:function(e){this.currentValue=e},currentValue:function(){this.setActive()}}},ut=Object(t.a)(ut,function(){return(0,this._self._c)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,dt={beforeEnter:function(e){Object(h.b)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){e.dataset.oldOverflow=e.style.overflow,e.style.height=0!==e.scrollHeight?e.scrollHeight+"px":"",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},afterEnter:function(e){Object(h.n)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&(Object(h.b)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){Object(h.n)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}},ht={name:"CollapseTransition",functional:!0,props:{appear:Boolean},render:function(e,t){var i=t.children;return e("transition",{on:dt,props:{appear:t.props.appear}},i)}},pt="ivu-collapse",ft={name:"Panel",components:{Icon:s,CollapseTransition:ht},props:{name:{type:String},hideArrow:{type:Boolean,default:!1}},data:function(){return{index:0,isActive:!1,mounted:!1}},computed:{itemClasses:function(){return["".concat(pt,"-item"),Object(l.a)({},"".concat(pt,"-item-active"),this.isActive)]},headerClasses:function(){return"".concat(pt,"-header")},contentClasses:function(){return"".concat(pt,"-content")},boxClasses:function(){return"".concat(pt,"-content-box")}},methods:{toggle:function(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}},mounted:function(){this.mounted=!0,this.$parent.setActive()}},ft=Object(t.a)(ft,function(){var e=this,t=e._self._c;return t("div",{class:e.itemClasses},[t("div",{class:e.headerClasses,on:{click:e.toggle}},[e.hideArrow?e._e():t("Icon",{attrs:{type:"ios-arrow-forward"}}),e._t("default")],2),e.mounted?t("collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],class:e.contentClasses},[t("div",{class:e.boxClasses},[e._t("content")],2)])]):e._e()],1)},[],!1,null,null,null).exports,ft=(ut.Panel=ft,ut),ut=e("94c7"),mt=e.n(ut),ut={methods:{handleEscape:function(e){this.dispatch("ColorPicker","on-escape-keydown",e)}}},gt={data:function(){return{prefixCls:"ivu-color-picker",inputPrefixCls:"ivu-input",iconPrefixCls:"ivu-icon",transferPrefixCls:"ivu-transfer"}}};function yt(e,t){var e=mt()(e),i=e._a;return null==i&&e.setAlpha(t||1),e}function vt(e,t){var e=""===e?"#2d8cf0":e,i=(e=>{var t=e&&e.a;if(e){if(e.hsl)return yt(e.hsl,t);if(e.hex&&0<e.hex.length)return yt(e.hex,t)}return yt(e,t)})(e),n=i.toHsl(),o=i.toHsv();return 0===n.s&&(n.h=e.h||e.hsl&&e.hsl.h||t||0,o.h=n.h),o.v<.0164&&(o.h=e.h||e.hsv&&e.hsv.h||0,o.s=e.s||e.hsv&&e.hsv.s||0),n.l<.01&&(n.h=e.h||e.hsl&&e.hsl.h||0,n.s=e.s||e.hsl&&e.hsl.s||0),{hsl:n,hex:i.toHexString().toUpperCase(),rgba:i.toRgb(),hsv:o,oldHue:e.h||t||n.h,source:e.source,a:e.a||i.getAlpha()}}function S(e,t,i){return e<t?t:i<e?i:e}function bt(e,t,i){return Object(h.m)(e,t)?i:0}function wt(e,t){return e.touches?e.touches[0][t]:0}function St(e){var t=e.r,i=e.g,n=e.b,e=e.a;return"rgba(".concat([t,i,n,e].join(","),")")}function _(e){return(e=new Date(e)).setHours(0,0,0,0),e.getTime()}function _t(e,t){return(e=$t(e))?Vt.a.format(e,t||"yyyy-MM-dd"):""}function Ct(e,t){return Vt.a.parse(e,t||"yyyy-MM-dd")}function kt(e,t){return new Date(e,t+1,0).getDate()}function xt(e,t){var t=(e=new Date(e)).getMonth()+t,i=kt(e.getFullYear(),t);return i<e.getDate()&&e.setDate(i),e.setMonth(t),e}function Tt(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e}function It(e,t,i){if(Array.isArray(e)&&2===e.length){var n=e[0],o=e[1];if(n&&o)return _t(n,t)+i+_t(o,t)}else if(!Array.isArray(e)&&e instanceof Date)return _t(e,t);return""}function Pt(e,t,i){return 2===(e=Array.isArray(e)?e:e.split(i)).length?(i=e[0],e=e[1],[i instanceof Date?i:Ct(i,t),e instanceof Date?e:Ct(e,t)]):[]}function At(e,t,i){return"left"===e?-1*t:"right"===e?+t:"up"===e?+i:"down"===e?-1*i:void 0}function Dt(e){return e?[e.getHours(),e.getMinutes(),e.getSeconds()]:[0,0,0]}function Et(e,t,i,n){return(e=new Date(e.getTime())).setHours(t),e.setMinutes(i),e.setSeconds(n),e}function Ot(e,t,i){return i.indexOf(e)===t}function Lt(){return!1}function Nt(e){return e[0].toUpperCase()+e.slice(1)}function Mt(e,t){return e&&t?e.getTime()-t.getTime():0}var Bt,Ft,Rt={name:"RecommendedColors",mixins:[u,ut,gt],props:{list:{type:Array,default:void 0}},data:function(){return{left:-1,right:1,up:-1,down:1,powerKey:"shiftKey",grid:{x:1,y:1},rows:Math.ceil(this.list.length/12),columns:12}},computed:{hideClass:function(){return"".concat(this.prefixCls,"-hide")},linearIndex:function(){return this.getLinearIndex(this.grid)},currentCircle:function(){return this.$refs["color-circle-".concat(this.linearIndex)][0]}},methods:{getLinearIndex:function(e){return this.columns*(e.y-1)+e.x-1},getMaxLimit:function(e){return"x"===e?this.columns:this.rows},handleArrow:function(e,t,i){e.preventDefault(),e.stopPropagation(),this.blurColor();var n=Object(f.a)({},this.grid),e=(e[this.powerKey]?n[t]=i<0?1:this.getMaxLimit(t):n[t]+=i,this.getLinearIndex(n));0<=e&&e<this.list.length&&(this.grid[t]=S(n[t],1,this.getMaxLimit(t))),this.focusColor()},blurColor:function(){this.currentCircle.classList.add(this.hideClass)},focusColor:function(){this.currentCircle.classList.remove(this.hideClass)},handleEnter:function(e){this.handleClick(e,this.currentCircle)},handleClick:function(e,t){e.preventDefault(),e.stopPropagation(),this.$refs.reference.focus();var t=t||e.target,e=t.dataset.colorId||t.parentElement.dataset.colorId;e&&(this.blurColor(),t=Number(e)+1,this.grid.x=t%this.columns||this.columns,this.grid.y=Math.ceil(t/this.columns),this.focusColor(),this.$emit("picker-color",this.list[e]),this.$emit("change",{hex:this.list[e],source:"hex"}))},lineBreak:function(e,t){return!!t&&(t=t+1)<e.length&&t%this.columns==0}}},Rt=Object(t.a)(Rt,function(){var i=this,n=i._self._c;return n("div",{ref:"reference",attrs:{tabindex:"0"},on:{click:i.handleClick,keydown:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:i.handleEscape.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.handleEnter.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:i.handleArrow(e,"x",i.left)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:i.handleArrow(e,"x",i.right)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:i.handleArrow(e,"y",i.up)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:i.handleArrow(e,"y",i.down)}],blur:i.blurColor,focus:i.focusColor}},[i._l(i.list,function(e,t){return[n("div",{key:e+":"+t,class:[i.prefixCls+"-picker-colors-wrapper"]},[n("div",{attrs:{"data-color-id":t}},[n("div",{class:[i.prefixCls+"-picker-colors-wrapper-color"],style:{background:e}}),n("div",{ref:"color-circle-"+t,refInFor:!0,class:[i.prefixCls+"-picker-colors-wrapper-circle",i.hideClass]})])]),i.lineBreak(i.list,t)?n("br"):i._e()]})],2)},[],!1,null,null,null).exports,jt={mixins:[u,ut],props:{focused:{type:Boolean,default:!1},value:{type:Object,default:void 0}},beforeDestroy:function(){this.unbindEventListeners()},created:function(){var e=this;this.focused&&setTimeout(function(){return e.$el.focus()},1)},methods:{handleLeft:function(e){this.handleSlide(e,this.left,"left")},handleRight:function(e){this.handleSlide(e,this.right,"right")},handleUp:function(e){this.handleSlide(e,this.up,"up")},handleDown:function(e){this.handleSlide(e,this.down,"down")},handleMouseDown:function(e){this.dispatch("ColorPicker","on-dragging",!0),this.handleChange(e,!0),n(window,"mousemove",this.handleChange),n(window,"mouseup",this.handleMouseUp)},handleMouseUp:function(){this.unbindEventListeners()},unbindEventListeners:function(){var e=this;i(window,"mousemove",this.handleChange),i(window,"mouseup",this.handleMouseUp),setTimeout(function(){return e.dispatch("ColorPicker","on-dragging",!1)},1)},getLeft:function(e){var t=this.$refs.container.getBoundingClientRect().left+window.pageXOffset;return(e.pageX||wt(e,"PageX"))-t},getTop:function(e){var t=this.$refs.container.getBoundingClientRect().top+window.pageYOffset;return(e.pageY||wt(e,"PageY"))-t}}},ut={name:"Saturation",mixins:[jt,gt],data:function(){return{left:-.01,right:.01,up:.01,down:-.01,multiplier:10,powerKey:"shiftKey"}},computed:{bgColorStyle:function(){return{background:"hsl(".concat(this.value.hsv.h,", 100%, 50%)")}},pointerStyle:function(){return{top:"".concat(-100*this.value.hsv.v+1+100,"%"),left:"".concat(100*this.value.hsv.s,"%")}}},methods:{change:function(e,t,i,n){this.$emit("change",{h:e,s:t,v:i,a:n,source:"hsva"})},handleSlide:function(e,t,i){e.preventDefault(),e.stopPropagation();var e=e[this.powerKey]?t*this.multiplier:t,t=this.value.hsv,n=t.h,o=t.v,s=t.a,t=S(t.s+bt(i,["left","right"],e),0,1),o=S(o+bt(i,["up","down"],e),0,1);this.change(n,t,o,s)},handleChange:function(e){e.preventDefault(),e.stopPropagation();var t=this.$refs.container,i=t.clientWidth,t=t.clientHeight,n=S(this.getLeft(e),0,i),e=S(this.getTop(e),0,t),e=S(1-e/t,0,1);this.change(this.value.hsv.h,n/i,e,this.value.hsv.a)},handleMouseDown:function(e){jt.methods.handleMouseDown.call(this,e),n(window,"mouseup",this.handleChange)},unbindEventListeners:function(e){jt.methods.unbindEventListeners.call(this,e),i(window,"mouseup",this.handleChange)}}},ut=Object(t.a)(ut,function(){var t=this,e=t._self._c;return e("div",{class:[t.prefixCls+"-saturation-wrapper"],attrs:{tabindex:"0"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleLeft.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.handleRight.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.handleUp.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.handleDown.apply(null,arguments)}],click:function(e){return t.$el.focus()}}},[e("div",{ref:"container",class:[t.prefixCls+"-saturation"],style:t.bgColorStyle,on:{mousedown:t.handleMouseDown}},[e("div",{class:[t.prefixCls+"-saturation--white"]}),e("div",{class:[t.prefixCls+"-saturation--black"]}),e("div",{class:[t.prefixCls+"-saturation-pointer"],style:t.pointerStyle},[e("div",{class:[t.prefixCls+"-saturation-circle"]})])])])},[],!1,null,null,null).exports,C={name:"Hue",mixins:[jt,gt],data:function(){var e=1/360*25,t=20*e;return{left:-e,right:e,up:t,down:-t,powerKey:"shiftKey",percent:S(100*this.value.hsl.h/360,0,100)}},watch:{value:function(){this.percent=S(100*this.value.hsl.h/360,0,100)}},methods:{change:function(e){this.percent=S(e,0,100);var t=this.value.hsl,i=t.h,e=S(e/100*360,0,360);i!==e&&this.$emit("change",{h:e,s:t.s,l:t.l,a:t.a,source:"hsl"})},handleSlide:function(e,t){e.preventDefault(),e.stopPropagation(),e[this.powerKey]?this.change(t<0?0:100):this.change(this.percent+t)},handleChange:function(e){e.preventDefault(),e.stopPropagation();var t,e=this.getLeft(e);e<0?this.change(0):(t=this.$refs.container.clientWidth)<e?this.change(100):this.change(100*e/t)}}},C=Object(t.a)(C,function(){var t=this,e=t._self._c;return e("div",{class:[t.prefixCls+"-hue"],attrs:{tabindex:"0"},on:{click:function(e){return t.$el.focus()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleLeft.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.handleRight.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.handleUp.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.handleDown.apply(null,arguments)}]}},[e("div",{ref:"container",class:[t.prefixCls+"-hue-container"],on:{mousedown:t.handleMouseDown,touchmove:t.handleChange,touchstart:t.handleChange}},[e("div",{class:[t.prefixCls+"-hue-pointer"],style:{top:0,left:"".concat(t.percent,"%")}},[e("div",{class:[t.prefixCls+"-hue-picker"]})])])])},[],!1,null,null,null).exports,k={name:"Alpha",mixins:[jt,gt],data:function(){return{left:-1,right:1,up:10,down:-10,powerKey:"shiftKey"}},computed:{gradientStyle:function(){var e=this.value.rgba,t=e.r,i=e.g,e=e.b,n=St({r:t,g:i,b:e,a:0}),t=St({r:t,g:i,b:e,a:1});return{background:"linear-gradient(to right, ".concat(n," 0%, ").concat(t," 100%)")}}},methods:{change:function(e){var t=this.value.hsl,i=t.h;this.value.a!==e&&this.$emit("change",{h:i,s:t.s,l:t.l,a:e,source:"rgba"})},handleSlide:function(e,t){e.preventDefault(),e.stopPropagation(),this.change(S(e[this.powerKey]?t:Math.round(100*this.value.hsl.a+t)/100,0,1))},handleChange:function(e){e.preventDefault(),e.stopPropagation();var t,e=this.getLeft(e);e<0?this.change(0):(t=this.$refs.container.clientWidth)<e?this.change(1):this.change(Math.round(100*e/t)/100)}}},Rt={name:"ColorPicker",components:{Drop:a,RecommendColors:Rt,Saturation:ut,Hue:C,Alpha:Object(t.a)(k,function(){var t=this,e=t._self._c;return e("div",{class:[t.prefixCls+"-alpha"],attrs:{tabindex:"0"},on:{click:function(e){return t.$el.focus()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleLeft.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.handleRight.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.handleUp.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.handleDown.apply(null,arguments)}]}},[e("div",{class:[t.prefixCls+"-alpha-checkboard-wrap"]},[e("div",{class:[t.prefixCls+"-alpha-checkerboard"]})]),e("div",{class:[t.prefixCls+"-alpha-gradient"],style:t.gradientStyle}),e("div",{ref:"container",class:[t.prefixCls+"-alpha-container"],on:{mousedown:t.handleMouseDown,touchmove:t.handleChange,touchstart:t.handleChange}},[e("div",{class:[t.prefixCls+"-alpha-pointer"],style:{top:0,left:"".concat(100*t.value.a,"%")}},[e("div",{class:[t.prefixCls+"-alpha-picker"]})])])])},[],!1,null,null,null).exports,iInput:Le,iButton:Ye,Icon:s},directives:{clickOutside:ae,TransferDom:r},mixins:[u,p,gt,d],props:{value:{type:String,default:void 0},hue:{type:Boolean,default:!0},alpha:{type:Boolean,default:!1},recommend:{type:Boolean,default:!1},format:{type:String,validator:function(e){return Object(h.m)(e,["hsl","hsv","hex","rgb"])},default:void 0},colors:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},hideDropDown:{type:Boolean,default:!1},placement:{type:String,validator:function(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String,default:void 0},editable:{type:Boolean,default:!0},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String},eventsEnabled:{type:Boolean,default:!1}},data:function(){return{val:vt(this.value||""),currentValue:this.value||"",dragging:!1,visible:!1,recommendedColor:["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"]}},computed:{arrowClasses:function(){return["".concat(this.inputPrefixCls,"-icon"),"".concat(this.inputPrefixCls,"-icon-normal")]},transition:function(){return Object(h.m)(this.placement,["bottom-start","bottom","bottom-end"])?"slide-up":"fade"},saturationColors:{get:function(){return this.val},set:function(e){this.val=e,this.$emit("on-active-change",this.formatColor)}},classes:function(){return["".concat(this.prefixCls),Object(l.a)({},"".concat(this.prefixCls,"-transfer"),this.transfer)]},wrapClasses:function(){return["".concat(this.prefixCls,"-rel"),"".concat(this.prefixCls,"-").concat(this.size),"".concat(this.inputPrefixCls,"-wrapper"),"".concat(this.inputPrefixCls,"-wrapper-").concat(this.size),Object(l.a)({},"".concat(this.prefixCls,"-disabled"),this.itemDisabled)]},inputClasses:function(){return["".concat(this.prefixCls,"-input"),"".concat(this.inputPrefixCls),"".concat(this.inputPrefixCls,"-").concat(this.size),Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-focused"),this.visible),"".concat(this.prefixCls,"-disabled"),this.itemDisabled)]},dropClasses:function(){return["".concat(this.transferPrefixCls,"-no-max-height"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-transfer"),this.transfer),"".concat(this.prefixCls,"-hide-drop"),this.hideDropDown),this.transferClassName,this.transferClassName)]},displayedColorStyle:function(){return{backgroundColor:St(this.visible?this.saturationColors.rgba:mt()(this.value).toRgb())}},formatColor:function(){var e=this.format,t=this.saturationColors;if(e){if("hsl"===e)return mt()(t.hsl).toHslString();if("hsv"===e)return mt()(t.hsv).toHsvString();if("hex"===e)return t.hex;if("rgb"===e)return St(t.rgba)}else if(this.alpha)return St(t.rgba);return t.hex},confirmColorClasses:function(){return["".concat(this.prefixCls,"-confirm-color"),Object(l.a)({},"".concat(this.prefixCls,"-confirm-color-editable"),this.editable)]},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.colorPicker.customArrow?e="":this.$IVIEW.colorPicker.arrow&&(e=this.$IVIEW.colorPicker.arrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.colorPicker.customArrow?this.$IVIEW.colorPicker.customArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.colorPicker.arrowSize?this.$IVIEW.colorPicker.arrowSize:e}},watch:{value:function(e){this.val=vt(e||"")},visible:function(e){this.val=vt(this.value||""),this.$refs.drop[e?"update":"destroy"](),this.$emit("on-open-change",Boolean(e))}},mounted:function(){this.$on("on-escape-keydown",this.closer),this.$on("on-dragging",this.setDragging)},methods:{setDragging:function(e){this.dragging=e},handleClose:function(e){if(this.visible)if(this.dragging||"mousedown"===e.type)this.$refs.editColorInput&&e.target!==this.$refs.editColorInput.$el.querySelector("input")&&e.preventDefault();else{if(this.transfer){var t=this.$refs.drop.$el;if(t===e.target||t.contains(e.target))return}this.closer(e)}else this.visible=!1},toggleVisible:function(){this.itemDisabled||(this.visible=!this.visible,this.$refs.input.focus())},childChange:function(e){this.colorChange(e)},colorChange:function(e,t){this.oldHue=this.saturationColors.hsl.h,this.saturationColors=vt(e,t||this.oldHue)},closer:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.visible=!1,this.$refs.input.focus()},handleButtons:function(e,t){this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t),this.closer(e)},handleSuccess:function(e){this.handleButtons(e,this.formatColor),this.$emit("on-pick-success")},handleClear:function(e){this.handleButtons(e,""),this.$emit("on-pick-clear")},handleSelectColor:function(e){this.val=vt(e),this.$emit("on-active-change",this.formatColor)},handleEditColor:function(e){e=e.target.value;this.handleSelectColor(e)},handleFirstTab:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.$refs.ok.$el.focus())},handleLastTab:function(e){e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.$refs.saturation.$el.focus())},onTab:function(e){this.visible&&e.preventDefault()},onEscape:function(e){this.visible&&this.closer(e)},onArrow:function(e){this.visible||(e.preventDefault(),e.stopPropagation(),this.visible=!0)}}},ut=Object(t.a)(Rt,function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture]",value:t.handleClose,expression:"handleClose",arg:t.capture}],class:t.classes},[e("div",{ref:"reference",class:t.wrapClasses,on:{click:t.toggleVisible}},[e("input",{attrs:{name:t.name,type:"hidden"},domProps:{value:t.currentValue}}),e("Icon",{class:t.arrowClasses,attrs:{type:t.arrowType,custom:t.customArrowType,size:t.arrowSize}}),e("div",{ref:"input",class:t.inputClasses,attrs:{tabindex:t.itemDisabled?void 0:0},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.onTab.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onEscape.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrow.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrow.apply(null,arguments)}]}},[e("div",{class:[t.prefixCls+"-color"]},[e("div",{directives:[{name:"show",rawName:"v-show",value:""===t.value&&!t.visible,expression:"value === '' && !visible"}],class:[t.prefixCls+"-color-empty"]},[e("i",{class:[t.iconPrefixCls,t.iconPrefixCls+"-ios-close"]})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.value||t.visible,expression:"value || visible"}],style:t.displayedColorStyle})])])],1),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"},{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"drop",class:t.dropClasses,attrs:{placement:t.placement,"data-transfer":t.transfer,transfer:t.transfer,eventsEnabled:t.eventsEnabled}},[e("transition",{attrs:{name:"fade"}},[t.visible?e("div",{class:[t.prefixCls+"-picker"]},[e("div",{class:[t.prefixCls+"-picker-wrapper"]},[e("div",{class:[t.prefixCls+"-picker-panel"]},[e("Saturation",{ref:"saturation",attrs:{focused:t.visible},on:{change:t.childChange},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleFirstTab.apply(null,arguments)}},model:{value:t.saturationColors,callback:function(e){t.saturationColors=e},expression:"saturationColors"}})],1),t.hue?e("div",{class:[t.prefixCls+"-picker-hue-slider"]},[e("Hue",{on:{change:t.childChange},model:{value:t.saturationColors,callback:function(e){t.saturationColors=e},expression:"saturationColors"}})],1):t._e(),t.alpha?e("div",{class:[t.prefixCls+"-picker-alpha-slider"]},[e("Alpha",{on:{change:t.childChange},model:{value:t.saturationColors,callback:function(e){t.saturationColors=e},expression:"saturationColors"}})],1):t._e(),t.colors.length?e("recommend-colors",{class:[t.prefixCls+"-picker-colors"],attrs:{list:t.colors},on:{"picker-color":t.handleSelectColor}}):t._e(),!t.colors.length&&t.recommend?e("recommend-colors",{class:[t.prefixCls+"-picker-colors"],attrs:{list:t.recommendedColor},on:{"picker-color":t.handleSelectColor}}):t._e()],1),e("div",{class:[t.prefixCls+"-confirm"]},[e("span",{class:t.confirmColorClasses},[t.editable?[e("i-input",{ref:"editColorInput",attrs:{value:t.formatColor,size:"small"},on:{"on-enter":t.handleEditColor,"on-blur":t.handleEditColor}})]:[t._v(t._s(t.formatColor))]],2),e("i-button",{ref:"clear",attrs:{tabindex:0,size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleClear.apply(null,arguments)}},nativeOn:{click:function(e){return t.handleClear.apply(null,arguments)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closer.apply(null,arguments)}}},[t._v(t._s(t.t("i.datepicker.clear")))]),e("i-button",{ref:"ok",attrs:{tabindex:0,size:"small",type:"primary"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSuccess.apply(null,arguments)}},nativeOn:{click:function(e){return t.handleSuccess.apply(null,arguments)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleLastTab.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closer.apply(null,arguments)}]}},[t._v(t._s(t.t("i.datepicker.ok")))])],1)]):t._e()])],1)],1)],1)},[],!1,null,null,null).exports,C={name:"Content",computed:{wrapClasses:function(){return"".concat("ivu-layout","-content")}}},k=Object(t.a)(C,function(){return(0,this._self._c)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,gt=k,Ut=(e("466d"),e("4478")),Rt=(e("4e82"),e("1276"),e("be62")),Vt=e.n(Rt),$t=function(e){var t=new Date(e);return isNaN(t.getTime())&&"string"==typeof e&&((t=e.split("-").map(Number))[1]+=1,t=Object(Ut.a)(Date,Object(c.a)(t))),isNaN(t.getTime())?null:t},zt=(Bt={yyyy:function(e){return e.getFullYear()},m:function(e){return e.getMonth()+1},mm:function(e){return("0"+(e.getMonth()+1)).slice(-2)},mmm:function(e,t){return e.toLocaleDateString(t,{month:"long"}).slice(0,3)},Mmm:function(e,t){e=e.toLocaleDateString(t,{month:"long"});return(e[0].toUpperCase()+e.slice(1).toLowerCase()).slice(0,3)},mmmm:function(e,t){return e.toLocaleDateString(t,{month:"long"})},Mmmm:function(e,t){e=e.toLocaleDateString(t,{month:"long"});return e[0].toUpperCase()+e.slice(1).toLowerCase()}},Ft=new RegExp(["yyyy","Mmmm","mmmm","Mmm","mmm","mm","m"].join("|"),"g"),function(t,e,i){e=e.match(/(\[[^\]]+\])([^\[\]]+)(\[[^\]]+\])/).slice(1);return{separator:e[1],labels:[e[0],e[2]].map(function(e){return{label:e.replace(/\[[^\]]+\]/,function(e){return e.slice(1,-1).replace(Ft,function(e){return Bt[e](i,t)})}),type:-1!=e.indexOf("yy")?"year":"month"}})}}),Wt={date:"yyyy-MM-dd",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},Ht={default:{formatter:function(e){return e?""+e:""},parser:function(e){return void 0===e||""===e?null:e}},date:{formatter:_t,parser:Ct},datetime:{formatter:_t,parser:Ct},daterange:{formatter:It,parser:Pt},datetimerange:{formatter:It,parser:Pt},timerange:{formatter:It,parser:Pt},time:{formatter:_t,parser:Ct},month:{formatter:_t,parser:Ct},year:{formatter:_t,parser:Ct},multiple:{formatter:function(e,t){return e.filter(Boolean).map(function(e){return _t(e,t)}).join(",")},parser:function(e,t){return("string"==typeof e?e.split(","):e).map(function(e){return e instanceof Date?e:("string"==typeof e?e=e.trim():"number"!=typeof e&&(e=e||""),Ct(e,t))})}},number:{formatter:function(e){return e?""+e:""},parser:function(e){var t=Number(e);return isNaN(e)?null:t}}},qt="ivu-date-picker",Gt={40:"up",39:"right",38:"down",37:"left"},C={mixins:[u,d],components:{iInput:Le,Drop:a,Icon:s},directives:{clickOutside:ae,TransferDom:r},props:{format:{type:String},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},confirm:{type:Boolean,default:!1},open:{type:Boolean,default:null},multiple:{type:Boolean,default:!1},timePickerOptions:{default:function(){return{}},type:Object},splitPanels:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},placement:{validator:function(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom-start"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},steps:{type:Array,default:function(){return[]}},value:{type:[Date,String,Array]},options:{type:Object,default:function(){return{}}},separator:{type:String,default:" - "},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String},eventsEnabled:{type:Boolean,default:!1}},data:function(){var e=this.type.includes("range"),t=e?[null,null]:[null],e=((e?this.value:[this.value])||[]).reduce(function(e,t){return e&&!t||"string"==typeof t&&""===t.trim()},!0)?t:this.parseDate(this.value),t=e.map(Dt);return{prefixCls:qt,showClose:!1,visible:!1,internalValue:e,disableClickOutSide:!1,disableCloseUnderTransfer:!1,selectionMode:this.onSelectionModeChange(this.type),forceInputRerender:1,isFocused:!1,focusedDate:e[0]||this.startDate||new Date,focusedTime:{column:0,picker:0,time:t,active:!1},internalFocus:!1,isValueNull:!1}},computed:{wrapperClasses:function(){return[qt,Object(l.a)({},qt+"-focused",this.isFocused)]},publicVModelValue:function(){var e,t;return this.multiple?this.internalValue.slice():(e=this.type.includes("range"),t=this.internalValue.map(function(e){return e instanceof Date?new Date(e):e||""}),this.type.match(/^time/)&&(t=t.map(this.formatDate)),e||this.multiple?t:t[0])},publicStringValue:function(){var e=this.formatDate,t=this.publicVModelValue;return this.type.match(/^time/)?t:!this.multiple&&Array.isArray(t)?t.map(e):e(t)},opened:function(){return null===this.open?this.visible:this.open},transition:function(){return this.placement.match(/^bottom/)?"slide-up":"slide-down"},visualValue:function(){return this.formatDate(this.internalValue)},isConfirm:function(){return this.confirm||"datetime"===this.type||"datetimerange"===this.type||this.multiple},arrowType:function(){var e="";return"time"===this.type||"timerange"===this.type?(e="ios-time-outline",this.$IVIEW&&(this.$IVIEW.timePicker.customIcon?e="":this.$IVIEW.timePicker.icon&&(e=this.$IVIEW.timePicker.icon))):(e="ios-calendar-outline",this.$IVIEW&&(this.$IVIEW.datePicker.customIcon?e="":this.$IVIEW.datePicker.icon&&(e=this.$IVIEW.datePicker.icon))),e=this.showClose?"ios-close-circle":e},customArrowType:function(){var e="";return this.showClose||("time"===this.type||"timerange"===this.type?this.$IVIEW&&this.$IVIEW.timePicker.customIcon&&(e=this.$IVIEW.timePicker.customIcon):this.$IVIEW&&this.$IVIEW.datePicker.customIcon&&(e=this.$IVIEW.datePicker.customIcon)),e},arrowSize:function(){var e="";return this.showClose||("time"===this.type||"timerange"===this.type?this.$IVIEW&&this.$IVIEW.timePicker.iconSize&&(e=this.$IVIEW.timePicker.iconSize):this.$IVIEW&&this.$IVIEW.datePicker.iconSize&&(e=this.$IVIEW.datePicker.iconSize)),e},dropdownCls:function(){return Object(l.a)(Object(l.a)({},qt+"-transfer",this.transfer),this.transferClassName,this.transferClassName)}},methods:{onSelectionModeChange:function(e){return e.match(/^date/)&&(e="date"),this.selectionMode=Object(h.m)(e,["year","month","date","time"])&&e,this.selectionMode},handleTransferClick:function(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose:function(e){var t;return this.disableCloseUnderTransfer?this.disableCloseUnderTransfer=!1:e&&"mousedown"===e.type&&this.visible?(e.preventDefault(),void e.stopPropagation()):this.visible?(t=this.$refs.pickerPanel&&this.$refs.pickerPanel.$el,e&&t&&t.contains(e.target)?void 0:(this.visible=!1,e&&e.preventDefault(),e&&e.stopPropagation(),void this.$emit("on-clickoutside",e))):(this.isFocused=!1,void(this.disableClickOutSide=!1))},handleFocus:function(e){this.readonly||(this.isFocused=!0,e&&"focus"===e.type)||this.itemDisabled||(this.visible=!0)},handleBlur:function(e){this.internalFocus?this.internalFocus=!1:this.visible?e.preventDefault():(this.isFocused=!1,this.onSelectionModeChange(this.type),this.internalValue=this.internalValue.slice(),this.reset(),this.$refs.pickerPanel.onToggleVisibility(!1))},handleKeydown:function(e){var i=this,t=e.keyCode,n=(9===t&&(this.visible?(e.stopPropagation(),e.preventDefault(),this.isConfirm?(n=".".concat("ivu-picker","-confirm > *"),n=this.$refs.drop.$el.querySelectorAll(n),this.internalFocus=!0,Object(c.a)(n)[e.shiftKey?"pop":"shift"]().focus()):this.handleClose()):this.focused=!1),[37,38,39,40]);if(this.visible||!n.includes(t)){if(27===t&&this.visible&&(e.stopPropagation(),this.handleClose()),13===t){var o,s,a,r=Object(h.h)(this,"TimeSpinner");if(0<r.length)return o=r[0].showSeconds?3:2,o=Math.floor(this.focusedTime.column/o),s=this.focusedTime.time[o],void r[o].chooseValue(s);this.type.match(/range/)?this.$refs.pickerPanel.handleRangePick(this.focusedDate,"date"):(r=Object(h.h)(this,"PanelTable"),a=function(e){var t=["year","month","date"].indexOf(i.type)+1;return[e.getFullYear(),e.getMonth(),e.getDate()].slice(0,t).join("-")},r.find(function(e){return e.cells.find(function(e){var t=e.date,e=e.disabled;return a(t)===a(i.focusedDate)&&!e})})&&this.onPick(this.focusedDate,!1,"date"))}n.includes(t)&&(this.focusedTime.active&&e.preventDefault(),this.navigateDatePanel(Gt[t],e.shiftKey))}else this.visible=!0},reset:function(){this.$refs.pickerPanel.reset&&this.$refs.pickerPanel.reset()},navigateTimePanel:function(e){var i,n,o,t=this,s=(this.focusedTime.active=!0,e.match(/left|right/)),a=e.match(/up|down/),r=Object(h.h)(this,"TimeSpinner"),l=(r[0].showSeconds?3:2)*r.length,c=(this.focusedTime.column+(s?"left"===e?-1:1:0)+l)%l,l=l/r.length,u=Math.floor(c/l),d=c%l;s&&(i=this.internalValue.map(Dt),this.focusedTime=Object(f.a)(Object(f.a)({},this.focusedTime),{},{column:c,time:i}),r.forEach(function(e,t){t===u?e.updateFocusedTime(d,i[u]):e.updateFocusedTime(-1,e.focusedTime)})),a&&(l="up"===e?1:-1,c=(s=r[u]["".concat(["hours","minutes","seconds"][d],"List")]).findIndex(function(e){e=e.text;return t.focusedTime.time[u][d]===e}),n=s[(c+l+s.length)%s.length].text,o=this.focusedTime.time.map(function(e,t){return t===u&&(e[d]=n),e}),this.focusedTime=Object(f.a)(Object(f.a)({},this.focusedTime),{},{time:o}),r.forEach(function(e,t){t===u?e.updateFocusedTime(d,o[t]):e.updateFocusedTime(-1,e.focusedTime)}))},navigateDatePanel:function(e,t){var i,n,o,s,a=Object(h.h)(this,"TimeSpinner");0<a.length?this.navigateTimePanel(e,t,a):t?("year"===this.type?this.focusedDate=new Date(this.focusedDate.getFullYear()+At(e,0,10),this.focusedDate.getMonth(),this.focusedDate.getDate()):this.focusedDate=new Date(this.focusedDate.getFullYear()+At(e,0,1),this.focusedDate.getMonth()+At(e,1,0),this.focusedDate.getDate()),a=e.match(/left|down/)?"prev":"next",t=e.match(/up|down/)?"-double":"",(a=this.$refs.drop.$el.querySelector(".ivu-date-picker-".concat(a,"-btn-arrow").concat(t)))&&(s="ivu-date-picker-btn-pulse",(o=a).classList.add(s),setTimeout(function(){return o.classList.remove(s)},200))):(t=this.focusedDate||this.internalValue&&this.internalValue[0]||new Date,a=new Date(t),this.type.match(/^date/)&&(i=kt(t.getFullYear(),t.getMonth()),t=t.getDate(),(n=a.getDate()+At(e,1,7))<1?e.match(/left|right/)?(a.setMonth(a.getMonth()+1),a.setDate(n)):a.setDate(t+7*Math.floor((i-t)/7)):i<n?e.match(/left|right/)?(a.setMonth(a.getMonth()-1),a.setDate(n)):a.setDate(t%7):a.setDate(n)),this.type.match(/^month/)&&a.setMonth(a.getMonth()+At(e,1,3)),this.type.match(/^year/)&&a.setFullYear(a.getFullYear()+At(e,1,3)),this.focusedDate=a)},handleInputChange:function(e){var t=this.type.includes("range")||this.multiple,i=this.visualValue,e=e.target.value,n=this.parseDate(e),o=this.options&&"function"==typeof this.options.disabledDate&&this.options.disabledDate,t=t?n:n[0],o=o&&o(t),t=n.reduce(function(e,t){return e&&t instanceof Date},!0);e!==i&&!o&&t?(this.emitChange(this.type),this.internalValue=n):this.forceInputRerender++},handleInputMouseenter:function(){this.readonly||this.itemDisabled||this.visualValue&&this.clearable&&(this.showClose=!0)},handleInputMouseleave:function(){this.showClose=!1},handleIconClick:function(e){this.showClose?(e&&e.stopPropagation(),this.handleClear()):this.itemDisabled||this.handleFocus()},handleClear:function(){var e=this;this.visible=!1,this.internalValue=this.internalValue.map(function(){return null}),this.$emit("on-clear"),this.dispatch("FormItem","on-form-change",""),this.emitChange(this.type),this.reset(),setTimeout(function(){return e.onSelectionModeChange(e.type)},500)},emitChange:function(e){var t=this;this.$nextTick(function(){t.$emit("on-change",t.publicStringValue,e),t.dispatch("FormItem","on-form-change",t.publicStringValue)})},parseDate:function(e){var t,i=this.type.includes("range"),n=this.type,o=(Ht[n]||Ht.default).parser,s=this.format||Wt[n],a=Ht.multiple.parser;return!e||"time"!==n||e instanceof Date?this.multiple&&e?e=a(e,s,this.separator):i?e?"string"==typeof e?e=o(e,s,this.separator):"timerange"===n?e=o(e,s,this.separator).map(function(e){return e||""}):(a=e,t=(a=Object(H.a)(a,2))[0],a=a[1],t instanceof Date&&a instanceof Date?e=e.map(function(e){return new Date(e)}):"string"==typeof t&&"string"==typeof a?e=o(e.join(this.separator),s,this.separator):t&&a||(e=[null,null])):e=[null,null]:"string"==typeof e&&0!==n.indexOf("time")&&(e=o(e,s)||null):e=o(e,s,this.separator),i||this.multiple?e||[]:[e]},formatDate:function(e){var t=Wt[this.type];return(0,(this.multiple?Ht.multiple:Ht[this.type]||Ht.default).formatter)(e,this.format||t,this.separator)},onPick:function(e){var t,n,i,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=2<arguments.length?arguments[2]:void 0;this.multiple?(t=e.getTime(),n=this.internalValue.findIndex(function(e){return e&&e.getTime()===t}),i=[].concat(Object(c.a)(this.internalValue),[e]).filter(Boolean).map(function(e){return e.getTime()}).filter(function(e,t,i){return i.indexOf(e)===t&&t!==n}),this.internalValue=i.map(function(e){return new Date(e)})):(e=this.parseDate(e),this.internalValue=Array.isArray(e)?e:[e]),this.internalValue[0]&&(this.focusedDate=this.internalValue[0]),this.focusedTime=Object(f.a)(Object(f.a)({},this.focusedTime),{},{time:this.internalValue.map(Dt)}),this.isConfirm||this.onSelectionModeChange(this.type),this.isConfirm||(this.visible=o),this.emitChange(s)},onPickSuccess:function(){this.visible=!1,this.$emit("on-ok"),this.focus(),this.reset()},focus:function(){this.$refs.input&&this.$refs.input.focus()},updatePopper:function(){this.$refs.drop.update()}},watch:{visible:function(e){!1===e&&this.$refs.drop.destroy(),e&&this.$refs.drop.update(),this.$emit("on-open-change",e)},value:function(e){null===e&&(this.isValueNull=!0),this.internalValue=this.parseDate(e)},open:function(e){this.visible=!0===e},type:function(e){this.onSelectionModeChange(e)},publicVModelValue:function(e,t){JSON.stringify(e)===JSON.stringify(t)&&Object(ie.a)(e)===Object(ie.a)(t)||(this.isValueNull?(this.isValueNull=!1,this.$emit("input",null)):this.$emit("input",e))}},mounted:function(){var e=this;null!==this.open&&(this.visible=this.open),this.$on("focus-input",function(){return e.focus()}),this.$on("update-popper",function(){return e.updatePopper()})},beforeDestroy:function(){this.$off("focus-input"),this.$off("update-popper")}},Rt=Object(t.a)(C,function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture].mousedown",value:t.handleClose,expression:"handleClose",arg:t.capture,modifiers:{mousedown:!0}},{name:"click-outside",rawName:"v-click-outside:[capture].touchstart",value:t.handleClose,expression:"handleClose",arg:t.capture,modifiers:{touchstart:!0}},{name:"click-outside",rawName:"v-click-outside:[capture]",value:t.handleClose,expression:"handleClose",arg:t.capture}],class:t.wrapperClasses},[e("div",{ref:"reference",class:[t.prefixCls+"-rel"]},[t._t("default",function(){return[e("i-input",{key:t.forceInputRerender,ref:"input",class:[t.prefixCls+"-editor"],attrs:{"element-id":t.elementId,readonly:!t.editable||t.readonly,disabled:t.itemDisabled,size:t.size,placeholder:t.placeholder,value:t.visualValue,name:t.name},on:{"on-input-change":t.handleInputChange,"on-focus":t.handleFocus,"on-blur":t.handleBlur},nativeOn:{click:function(e){return t.handleFocus.apply(null,arguments)},keydown:function(e){return t.handleKeydown.apply(null,arguments)},mouseenter:function(e){return t.handleInputMouseenter.apply(null,arguments)},mouseleave:function(e){return t.handleInputMouseleave.apply(null,arguments)}}},[e("Icon",{attrs:{slot:"suffix",type:t.arrowType,custom:t.customArrowType,size:t.arrowSize},on:{click:t.handleIconClick},slot:"suffix"})],1)]})],2),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:t.dropdownCls,attrs:{placement:t.placement,eventsEnabled:t.eventsEnabled,"data-transfer":t.transfer,transfer:t.transfer},nativeOn:{click:function(e){return t.handleTransferClick.apply(null,arguments)}}},[e("div",[e(t.panel,t._b({ref:"pickerPanel",tag:"component",attrs:{visible:t.visible,showTime:"datetime"===t.type||"datetimerange"===t.type,confirm:t.isConfirm,selectionMode:t.selectionMode,steps:t.steps,format:t.format,value:t.internalValue,"start-date":t.startDate,"split-panels":t.splitPanels,"show-week-numbers":t.showWeekNumbers,"picker-type":t.type,multiple:t.multiple,"focused-date":t.focusedDate,"time-picker-options":t.timePickerOptions},on:{"on-pick":t.onPick,"on-pick-clear":t.handleClear,"on-pick-success":t.onPickSuccess,"on-pick-click":function(e){t.disableClickOutSide=!0},"on-selection-mode-change":t.onSelectionModeChange}},"component",t.ownPickerProps,!1))],1)])],1)],1)},[],!1,null,null,null).exports,ae=e("571b"),Yt=e.n(ae),C={name:"PanelTable",props:{tableDate:{type:Date,required:!0},disabledDate:{type:Function},selectionMode:{type:String,required:!0},value:{type:Array,required:!0},rangeState:{type:Object,default:function(){return{from:null,to:null,selecting:!1}}},focusedDate:{type:Date,required:!0}},computed:{dates:function(){var e=this.selectionMode,t=this.value,i=this.rangeState;return"range"===e&&i.selecting?[i.from]:t}},methods:{handleClick:function(e,t){t.stopPropagation(),e.disabled||"weekLabel"===e.type||(t=new Date(_(e.date)),this.$emit("on-pick",t),this.$emit("on-pick-click"))},handleMouseMove:function(e){this.rangeState.selecting&&!e.disabled&&(e=e.date,this.$emit("on-change-range",e))}}},x="ivu-date-picker-cells",ae={mixins:[p,C],props:{showWeekNumbers:{type:Boolean,default:!1}},data:function(){return{prefixCls:x}},computed:{classes:function(){return["".concat(x),Object(l.a)({},"".concat(x,"-show-week-numbers"),this.showWeekNumbers)]},calendar:function(){var e=Number(this.t("i.datepicker.weekStartDay"));return new Yt.a.Generator({onlyDays:!this.showWeekNumbers,weekStart:e})},headerDays:function(){var t=this,e=Number(this.t("i.datepicker.weekStartDay")),i=["sun","mon","tue","wed","thu","fri","sat"].map(function(e){return t.t("i.datepicker.weeks."+e)}),i=i.splice(e,7-e).concat(i.splice(0,e));return this.showWeekNumbers?[""].concat(i):i},cells:function(){var e=this.tableDate.getFullYear(),s=this.tableDate.getMonth(),a=_(new Date),r=this.dates.filter(Boolean).map(_),t=this.dates.map(_),t=Object(H.a)(t,2),l=t[0],c=t[1],u=this.rangeState.from&&_(this.rangeState.from),d=this.rangeState.to&&_(this.rangeState.to),h="range"===this.selectionMode,p="function"==typeof this.disabledDate&&this.disabledDate;return this.calendar(e,s,function(e){e.date instanceof Date&&e.date.setTime(e.date.getTime()+6e4*e.date.getTimezoneOffset()+288e5);var t,i,n=e.date&&_(e.date),o=e.date&&s===e.date.getMonth();return Object(f.a)(Object(f.a)({},e),{},{type:n===a?"today":e.type,selected:o&&r.includes(n),disabled:e.date&&p&&p(new Date(n)),range:o&&h&&(e=n,i=d,!(!(t=u)||!i))&&(t=[t,i].sort(),(i=Object(H.a)(t,2))[0]<=e)&&e<=i[1],start:o&&h&&n===l,end:o&&h&&n===c})}).cells.slice(this.showWeekNumbers?8:0)}},methods:{getCellCls:function(e){return["".concat(x,"-cell"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(x,"-cell-selected"),e.selected||e.start||e.end),"".concat(x,"-cell-disabled"),e.disabled),"".concat(x,"-cell-today"),"today"===e.type),"".concat(x,"-cell-prev-month"),"prevMonth"===e.type),"".concat(x,"-cell-next-month"),"nextMonth"===e.type),"".concat(x,"-cell-week-label"),"weekLabel"===e.type),"".concat(x,"-cell-range"),e.range&&!e.start&&!e.end),"".concat(x,"-focused"),_(e.date)===_(this.focusedDate))]}}},ae=Object(t.a)(ae,function(){var i=this,n=i._self._c;return n("div",{class:i.classes},[n("div",{class:[i.prefixCls+"-header"]},i._l(i.headerDays,function(e){return n("span",{key:e},[i._v(" "+i._s(e)+" ")])}),0),i._l(i.cells,function(t,e){return n("span",{key:String(t.date)+e,class:i.getCellCls(t),on:{click:function(e){return i.handleClick(t,e)},mouseenter:function(e){return i.handleMouseMove(t)}}},[n("em",[i._v(i._s(t.desc))])])})],2)},[],!1,null,null,null).exports,T={mixins:[C],props:{},computed:{classes:function(){return["".concat(x),"".concat(x,"-year")]},startYear:function(){return 10*Math.floor(this.tableDate.getFullYear()/10)},cells:function(){for(var e=[],t={text:"",selected:!1,disabled:!1},i=this.dates.filter(Boolean).map(function(e){return _(new Date(e.getFullYear(),0,1))}),n=_(new Date(this.focusedDate.getFullYear(),0,1)),o=0;o<10;o++){var s=Object(h.c)(t),a=(s.date=new Date(this.startYear+o,0,1),s.disabled="function"==typeof this.disabledDate&&this.disabledDate(s.date)&&"year"===this.selectionMode,_(s.date));s.selected=i.includes(a),s.focused=a===n,e.push(s)}return e}},methods:{getCellCls:function(e){return["".concat(x,"-cell"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(x,"-cell-selected"),e.selected),"".concat(x,"-cell-disabled"),e.disabled),"".concat(x,"-cell-focused"),e.focused),"".concat(x,"-cell-range"),e.range&&!e.start&&!e.end)]}}},T=Object(t.a)(T,function(){var i=this,e=i._self._c;return e("div",{class:i.classes},i._l(i.cells,function(t){return e("span",{class:i.getCellCls(t),on:{click:function(e){return i.handleClick(t,e)},mouseenter:function(e){return i.handleMouseMove(t)}}},[e("em",[i._v(i._s(t.date.getFullYear()))])])}),0)},[],!1,null,null,null).exports,C={mixins:[p,C],props:{},computed:{classes:function(){return["".concat(x),"".concat(x,"-month")]},cells:function(){for(var e=[],t={text:"",selected:!1,disabled:!1},i=this.tableDate.getFullYear(),n=this.dates.filter(Boolean).map(function(e){return _(new Date(e.getFullYear(),e.getMonth(),1))}),o=_(new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1)),s=0;s<12;s++){var a=Object(h.c)(t),r=(a.date=new Date(i,s,1),a.text=this.tCell(s+1),_(a.date));a.disabled="function"==typeof this.disabledDate&&this.disabledDate(a.date)&&"month"===this.selectionMode,a.selected=n.includes(r),a.focused=r===o,e.push(a)}return e}},methods:{getCellCls:function(e){return["".concat(x,"-cell"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(x,"-cell-selected"),e.selected),"".concat(x,"-cell-disabled"),e.disabled),"".concat(x,"-cell-focused"),e.focused),"".concat(x,"-cell-range"),e.range&&!e.start&&!e.end)]},tCell:function(e){return this.t("i.datepicker.months.m".concat(e))}}},C=Object(t.a)(C,function(){var i=this,e=i._self._c;return e("div",{class:i.classes},i._l(i.cells,function(t){return e("span",{class:i.getCellCls(t),on:{click:function(e){return i.handleClick(t,e)},mouseenter:function(e){return i.handleMouseMove(t)}}},[e("em",[i._v(i._s(t.text))])])}),0)},[],!1,null,null,null).exports,Qt={props:{disabledHours:{type:Array,default:function(){return[]}},disabledMinutes:{type:Array,default:function(){return[]}},disabledSeconds:{type:Array,default:function(){return[]}},hideDisabledOptions:{type:Boolean,default:!1}}},Kt="ivu-time-picker-cells",Xt=["hours","minutes","seconds"],Zt={name:"TimeSpinner",mixins:[Qt],props:{hours:{type:[Number,String],default:NaN},minutes:{type:[Number,String],default:NaN},seconds:{type:[Number,String],default:NaN},showSeconds:{type:Boolean,default:!0},steps:{type:Array,default:function(){return[]}}},data:function(){var i=this;return{spinerSteps:[1,1,1].map(function(e,t){return Math.abs(i.steps[t])||e}),prefixCls:Kt,compiled:!1,focusedColumn:-1,focusedTime:[0,0,0]}},computed:{classes:function(){return["".concat(Kt),Object(l.a)({},"".concat(Kt,"-with-seconds"),this.showSeconds)]},hoursList:function(){for(var e=[],t=this.spinerSteps[0],i=0===this.focusedColumn&&this.focusedTime[0],n={text:0,selected:!1,disabled:!1,hide:!1},o=0;o<24;o+=t){var s=Object(h.c)(n);s.text=o,s.focused=o===i,this.disabledHours.length&&-1<this.disabledHours.indexOf(o)&&(s.disabled=!0,this.hideDisabledOptions)&&(s.hide=!0),this.hours===o&&(s.selected=!0),e.push(s)}return e},minutesList:function(){for(var e=[],t=this.spinerSteps[1],i=1===this.focusedColumn&&this.focusedTime[1],n={text:0,selected:!1,disabled:!1,hide:!1},o=0;o<60;o+=t){var s=Object(h.c)(n);s.text=o,s.focused=o===i,this.disabledMinutes.length&&-1<this.disabledMinutes.indexOf(o)&&(s.disabled=!0,this.hideDisabledOptions)&&(s.hide=!0),this.minutes===o&&(s.selected=!0),e.push(s)}return e},secondsList:function(){for(var e=[],t=this.spinerSteps[2],i=2===this.focusedColumn&&this.focusedTime[2],n={text:0,selected:!1,disabled:!1,hide:!1},o=0;o<60;o+=t){var s=Object(h.c)(n);s.text=o,s.focused=o===i,this.disabledSeconds.length&&-1<this.disabledSeconds.indexOf(o)&&(s.disabled=!0,this.hideDisabledOptions)&&(s.hide=!0),this.seconds===o&&(s.selected=!0),e.push(s)}return e}},methods:{getCellCls:function(e){return["".concat(Kt,"-cell"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Kt,"-cell-selected"),e.selected),"".concat(Kt,"-cell-focused"),e.focused),"".concat(Kt,"-cell-disabled"),e.disabled)]},chooseValue:function(n){var o=this,e=Xt.reduce(function(e,t,i){i=n[i];return o[t]===i?e:Object(f.a)(Object(f.a)({},e),{},Object(l.a)({},t,i))},{});0<Object.keys(e).length&&this.emitChange(e)},handleClick:function(e,t){t.disabled||(e=Object(l.a)({},e,t.text),this.emitChange(e))},emitChange:function(e){this.$emit("on-change",e),this.$emit("on-pick-click")},scroll:function(e,t){var i=this.$refs[e].scrollTop,t=24*this.getScrollIndex(e,t);Object(h.o)(this.$refs[e],i,t,500)},getScrollIndex:function(e,t){var i,e=Object(h.j)(e),e=this["disabled".concat(e)];return e.length&&this.hideDisabledOptions&&(i=0,e.forEach(function(e){return e<=t?i++:""}),t-=i),t},updateScroll:function(){var i=this;this.$nextTick(function(){Xt.forEach(function(t){i.$refs[t].scrollTop=24*i["".concat(t,"List")].findIndex(function(e){return e.text==i[t]})})})},formatTime:function(e){return e<10?"0"+e:e},updateFocusedTime:function(e,t){this.focusedColumn=e,this.focusedTime=t.slice()}},watch:{hours:function(t){this.compiled&&this.scroll("hours",this.hoursList.findIndex(function(e){return e.text==t}))},minutes:function(t){this.compiled&&this.scroll("minutes",this.minutesList.findIndex(function(e){return e.text==t}))},seconds:function(t){this.compiled&&this.scroll("seconds",this.secondsList.findIndex(function(e){return e.text==t}))},focusedTime:function(n,o){var s=this;Xt.forEach(function(e,t){var i;n[t]!==o[t]&&void 0!==n[t]&&(i=s["".concat(e,"List")].findIndex(function(e){return e.text===n[t]}),s.scroll(e,i))})}},mounted:function(){var e=this;this.$nextTick(function(){return e.compiled=!0})}},Zt=Object(t.a)(Zt,function(){var i=this,e=i._self._c;return e("div",{class:i.classes},[e("div",{ref:"hours",class:[i.prefixCls+"-list"]},[e("ul",{class:[i.prefixCls+"-ul"]},i._l(i.hoursList,function(t){return e("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:i.getCellCls(t),on:{click:function(e){return i.handleClick("hours",t)}}},[i._v(i._s(i.formatTime(t.text)))])}),0)]),e("div",{ref:"minutes",class:[i.prefixCls+"-list"]},[e("ul",{class:[i.prefixCls+"-ul"]},i._l(i.minutesList,function(t){return e("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:i.getCellCls(t),on:{click:function(e){return i.handleClick("minutes",t)}}},[i._v(i._s(i.formatTime(t.text)))])}),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.showSeconds,expression:"showSeconds"}],ref:"seconds",class:[i.prefixCls+"-list"]},[e("ul",{class:[i.prefixCls+"-ul"]},i._l(i.secondsList,function(t){return e("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:i.getCellCls(t),on:{click:function(e){return i.handleClick("seconds",t)}}},[i._v(i._s(i.formatTime(t.text)))])}),0)])])},[],!1,null,null,null).exports,Jt="ivu-picker",ei={mixins:[p,u],components:{iButton:Ye},props:{showTime:!1,isTime:!1,timeDisabled:!1},data:function(){return{prefixCls:Jt}},computed:{timeClasses:function(){return"".concat(Jt,"-confirm-time")},labels:function(){var n=this,o=[this.isTime?"selectDate":"selectTime","clear","ok"];return["time","clear","ok"].reduce(function(e,t,i){return e[t]=n.t("i.datepicker."+o[i]),e},{})}},methods:{handleClear:function(){this.$emit("on-pick-clear")},handleSuccess:function(){this.$emit("on-pick-success")},handleToggleTime:function(){this.timeDisabled||(this.$emit("on-pick-toggle-time"),this.dispatch("CalendarPicker","focus-input"),this.dispatch("CalendarPicker","update-popper"))},handleTab:function(e){var t=Object(c.a)(this.$el.children)[e.shiftKey?"shift":"pop"]();document.activeElement===t&&(e.preventDefault(),e.stopPropagation(),this.dispatch("CalendarPicker","focus-input"))}}},ei=Object(t.a)(ei,function(){var t=this,e=t._self._c;return e("div",{class:[t.prefixCls+"-confirm"],on:{"!keydown":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleTab.apply(null,arguments)}}},[t.showTime?e("i-button",{class:t.timeClasses,attrs:{size:"small",type:"text",disabled:t.timeDisabled},on:{click:t.handleToggleTime}},[t._v(" "+t._s(t.labels.time)+" ")]):t._e(),e("i-button",{attrs:{size:"small"},nativeOn:{click:function(e){return t.handleClear.apply(null,arguments)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleClear.apply(null,arguments)}}},[t._v(" "+t._s(t.labels.clear)+" ")]),e("i-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){return t.handleSuccess.apply(null,arguments)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSuccess.apply(null,arguments)}}},[t._v(" "+t._s(t.labels.ok)+" ")])],1)},[],!1,null,null,null).exports,ti="ivu-date-picker",I={props:{confirm:{type:Boolean,default:!1}},methods:{iconBtnCls:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return["".concat("ivu-picker-panel","-icon-btn"),"".concat(ti,"-").concat(e,"-btn"),"".concat(ti,"-").concat(e,"-btn-arrow").concat(t)]},handleShortcutClick:function(e){e.value&&this.$emit("on-pick",e.value()),e.onClick&&e.onClick(this)},handlePickClear:function(){this.resetView(),this.$emit("on-pick-clear")},handlePickSuccess:function(){this.resetView(),this.$emit("on-pick-success")},handlePickClick:function(){this.$emit("on-pick-click")},resetView:function(){var e=this;setTimeout(function(){return e.currentView=e.selectionMode},500)},handleClear:function(){this.dates=this.dates.map(function(){return null}),this.rangeState={},this.$emit("on-pick",this.dates),this.handleConfirm()},handleConfirm:function(e,t){this.$emit("on-pick",this.dates,e,t||this.type)},onToggleVisibility:function(e){var t=this.$refs,i=t.timeSpinner,t=t.timeSpinnerEnd;e&&i&&i.updateScroll(),e&&t&&t.updateScroll()}}},ii={name:"TimePickerPanel",mixins:[I,p,Qt],components:{TimeSpinner:Zt,Confirm:ei},props:{disabledDate:{type:Function,default:Lt},steps:{type:Array,default:function(){return[]}},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data:function(){return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",date:this.value[0]||Tt(),showDate:!1}},computed:{showSeconds:function(){return!!(this.format||"").match(/ss/)},visibleDate:function(){var e=this.date,t=e.getMonth()+1,i=this.t("i.datepicker.year"),t=this.t("i.datepicker.month".concat(t));return"".concat(e.getFullYear()).concat(i," ").concat(t)},timeSlots:function(){var t=this;return this.value[0]?["getHours","getMinutes","getSeconds"].map(function(e){return t.date[e]()}):[]},disabledHMS:function(){var s,n,a=this,e=["disabledHours","disabledMinutes","disabledSeconds"];return this.disabledDate!==Lt&&this.value[0]?(s=[24,60,60],n=["Hours","Minutes","Seconds"].map(function(e){return a["disabled".concat(e)]}).map(function(e,n){for(var t=s[n],o=e,i=0;i<t;i+=a.steps[n]||1)(i=>{var e=a.timeSlots.map(function(e,t){return t===n?i:e}),e=Et.apply(void 0,[a.date].concat(Object(c.a)(e)));a.disabledDate(e,!0)&&o.push(i)})(i);return o.filter(Ot)}),e.reduce(function(e,t,i){return e[t]=n[i],e},{})):e.reduce(function(e,t){return e[t]=a[t],e},{})}},watch:{value:function(e){e=e[0]||Tt(),e=new Date(e);this.date=e}},methods:{handleChange:function(i){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=new Date(this.date);Object.keys(i).forEach(function(e){return n["set".concat((t=e)[0].toUpperCase()+t.slice(1))](i[e]);var t}),e&&this.$emit("on-pick",n,"time")}},mounted:function(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)}},ii=Object(t.a)(ii,function(){var e=this,t=e._self._c;return t("div",{class:[e.prefixCls+"-body-wrapper"],on:{mousedown:function(e){e.preventDefault()}}},[t("div",{class:[e.prefixCls+"-body"]},[e.showDate?t("div",{class:[e.timePrefixCls+"-header"]},[e._v(e._s(e.visibleDate))]):e._e(),t("div",{class:[e.prefixCls+"-content"]},[t("time-spinner",{ref:"timeSpinner",attrs:{"show-seconds":e.showSeconds,steps:e.steps,hours:e.timeSlots[0],minutes:e.timeSlots[1],seconds:e.timeSlots[2],"disabled-hours":e.disabledHMS.disabledHours,"disabled-minutes":e.disabledHMS.disabledMinutes,"disabled-seconds":e.disabledHMS.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleChange,"on-pick-click":e.handlePickClick}})],1),e.confirm?t("Confirm",{on:{"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},[],!1,null,null,null).exports,ni={props:{datePanelLabel:Object,currentView:String,datePrefixCls:String}},ni=Object(t.a)(ni,function(){var e=this,t=e._self._c;return t("span",[e.datePanelLabel?t("span",{directives:[{name:"show",rawName:"v-show",value:"year"===e.datePanelLabel.labels[0].type||"date"===e.currentView,expression:"datePanelLabel.labels[0].type === 'year' || currentView === 'date'"}],class:[e.datePrefixCls+"-header-label"],on:{click:e.datePanelLabel.labels[0].handler}},[e._v(e._s(e.datePanelLabel.labels[0].label))]):e._e(),e.datePanelLabel&&"date"===e.currentView?[e._v(e._s(e.datePanelLabel.separator))]:e._e(),e.datePanelLabel?t("span",{directives:[{name:"show",rawName:"v-show",value:"year"===e.datePanelLabel.labels[1].type||"date"===e.currentView,expression:"datePanelLabel.labels[1].type === 'year' || currentView === 'date'"}],class:[e.datePrefixCls+"-header-label"],on:{click:e.datePanelLabel.labels[1].handler}},[e._v(e._s(e.datePanelLabel.labels[1].label))]):e._e()],2)},[],!1,null,null,null).exports,oi={props:{showTime:{type:Boolean,default:!1},format:{type:String,default:"yyyy-MM-dd"},selectionMode:{type:String,validator:function(e){return Object(h.m)(e,["year","month","date","time"])},default:"date"},shortcuts:{type:Array,default:function(){return[]}},disabledDate:{type:Function,default:function(){return!1}},value:{type:Array,default:function(){return[Tt(),Tt()]}},timePickerOptions:{default:function(){return{}},type:Object},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},pickerType:{type:String,require:!0},focusedDate:{type:Date,required:!0}},computed:{isTime:function(){return"time"===this.currentView}},methods:{handleToggleTime:function(){this.currentView="time"===this.currentView?"date":"time"}}},si="ivu-picker-panel",ai={name:"DatePickerPanel",mixins:[I,p,oi],components:{Icon:s,DateTable:ae,YearTable:T,MonthTable:C,TimePicker:ii,Confirm:ei,datePanelLabel:ni},props:{multiple:{type:Boolean,default:!1}},data:function(){var e=this.selectionMode,t=this.value.slice().sort();return{prefixCls:si,datePrefixCls:"ivu-date-picker",currentView:e||"date",pickerTable:this.getTableType(e),dates:t,panelDate:this.startDate||t[0]||new Date}},computed:{classes:function(){return["".concat(si,"-body-wrapper"),Object(l.a)({},"".concat(si,"-with-sidebar"),this.shortcuts.length)]},panelPickerHandlers:function(){return this.pickerTable==="".concat(this.currentView,"-table")?this.handlePick:this.handlePreSelection},datePanelLabel:function(){var i=this,e=this.t("i.locale"),t=this.t("i.datepicker.datePanelLabel"),n=this.panelDate,e=zt(e,t,n),t=e.labels;return{separator:e.separator,labels:t.map(function(e){return e.handler=(t=e.type,function(){return i.pickerTable=i.getTableType(t)}),e;var t})}},timeDisabled:function(){return!this.dates[0]}},watch:{value:function(e){this.dates=e;e=this.multiple?this.dates[this.dates.length-1]:this.startDate||this.dates[0];this.panelDate=e||new Date},currentView:function(e){var t=this;this.$emit("on-selection-mode-change",e),"time"===this.currentView&&this.$nextTick(function(){t.$refs.timePicker.$refs.timeSpinner.updateScroll()})},selectionMode:function(e){this.currentView=e,this.pickerTable=this.getTableType(e)},focusedDate:function(e){var t=e.getFullYear()!==this.panelDate.getFullYear(),i=t||e.getMonth()!==this.panelDate.getMonth();!t&&!i||this.multiple||(this.panelDate=e)}},methods:{reset:function(){this.currentView=this.selectionMode,this.pickerTable=this.getTableType(this.currentView)},changeYear:function(e){"year"===this.selectionMode||"year-table"===this.pickerTable?this.panelDate=new Date(this.panelDate.getFullYear()+10*e,0,1):this.panelDate=xt(this.panelDate,12*e)},getTableType:function(e){return e.match(/^time/)?"time-picker":"".concat(e,"-table")},changeMonth:function(e){this.panelDate=xt(this.panelDate,e)},handlePreSelection:function(e){this.panelDate=e,"year-table"===this.pickerTable?this.pickerTable="month-table":this.pickerTable=this.getTableType(this.currentView)},handlePick:function(e,t){var i=this.selectionMode,n=this.panelDate;e="year"===i?new Date(e.getFullYear(),0,1):"month"===i?new Date(n.getFullYear(),e.getMonth(),1):new Date(e),this.dates=[e],this.$emit("on-pick",e,!1,t||i)}}},ai=Object(t.a)(ai,function(){var i=this,e=i._self._c;return e("div",{class:i.classes,on:{mousedown:function(e){e.preventDefault()}}},[i.shortcuts.length?e("div",{class:[i.prefixCls+"-sidebar"]},i._l(i.shortcuts,function(t){return e("div",{class:[i.prefixCls+"-shortcut"],on:{click:function(e){return i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),e("div",{class:[i.prefixCls+"-body"]},[e("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],class:[i.datePrefixCls+"-header"]},[e("span",{class:i.iconBtnCls("prev","-double"),on:{click:function(e){return i.changeYear(-1)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1),"date-table"===i.pickerTable?e("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("prev"),on:{click:function(e){return i.changeMonth(-1)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),e("date-panel-label",{attrs:{"date-panel-label":i.datePanelLabel,"current-view":i.pickerTable.split("-").shift(),"date-prefix-cls":i.datePrefixCls}}),e("span",{class:i.iconBtnCls("next","-double"),on:{click:function(e){return i.changeYear(1)}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1),"date-table"===i.pickerTable?e("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("next"),on:{click:function(e){return i.changeMonth(1)}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e()],1),e("div",{class:[i.prefixCls+"-content"]},["time"!==i.currentView?e(i.pickerTable,{ref:"pickerTable",tag:"component",attrs:{"table-date":i.panelDate,"show-week-numbers":i.showWeekNumbers,value:i.dates,"selection-mode":i.selectionMode,"disabled-date":i.disabledDate,"focused-date":i.focusedDate},on:{"on-pick":i.panelPickerHandlers,"on-pick-click":i.handlePickClick}}):i._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:i.isTime,expression:"isTime"}],class:[i.prefixCls+"-content"]},["time"===i.currentView?e("time-picker",i._b({ref:"timePicker",attrs:{value:i.dates,format:i.format,"time-disabled":i.timeDisabled,"disabled-date":i.disabledDate,"focused-date":i.focusedDate},on:{"on-pick":i.handlePick,"on-pick-click":i.handlePickClick,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess,"on-pick-toggle-time":i.handleToggleTime}},"time-picker",i.timePickerOptions,!1)):i._e()],1),i.confirm?e("Confirm",{attrs:{"show-time":i.showTime,"is-time":i.isTime},on:{"on-pick-toggle-time":i.handleToggleTime,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess}}):i._e()],1)])},[],!1,null,null,null).exports,ri="ivu-picker-panel",li="ivu-time-picker",Zt={name:"RangeTimePickerPanel",mixins:[I,p,Qt],components:{TimeSpinner:Zt,Confirm:ei},props:{steps:{type:Array,default:function(){return[]}},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data:function(){var e=this.value.slice(),e=Object(H.a)(e,2),t=e[0],e=e[1];return{prefixCls:ri,timePrefixCls:li,showDate:!1,dateStart:t||Tt(),dateEnd:e||Tt()}},computed:{classes:function(){return["".concat(ri,"-body-wrapper"),"".concat(li,"-with-range"),Object(l.a)({},"".concat(li,"-with-seconds"),this.showSeconds)]},showSeconds:function(){return!!(this.format||"").match(/ss/)},leftDatePanelLabel:function(){return this.panelLabelConfig(this.date)},rightDatePanelLabel:function(){return this.panelLabelConfig(this.dateEnd)}},watch:{value:function(e){var e=e.slice(),e=Object(H.a)(e,2),t=e[0],e=e[1];this.dateStart=t||Tt(),this.dateEnd=e||Tt()}},methods:{panelLabelConfig:function(e){var t=this.t("i.locale"),i=this.t("i.datepicker.datePanelLabel"),t=zt(t,i,e||Tt()),i=t.labels,e=t.separator;return[i[0].label,e,i[1].label].join("")},handleChange:function(t,i){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=new Date(this.dateStart),o=new Date(this.dateEnd);Object.keys(t).forEach(function(e){n["set".concat(Nt(e))](t[e])}),Object.keys(i).forEach(function(e){o["set".concat(Nt(e))](i[e])}),o<n&&(o=n),e&&this.$emit("on-pick",[n,o],"time")},handleStartChange:function(e){this.handleChange(e,{})},handleEndChange:function(e){this.handleChange({},e)},updateScroll:function(){this.$refs.timeSpinner.updateScroll(),this.$refs.timeSpinnerEnd.updateScroll()}},mounted:function(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)}},Zt=Object(t.a)(Zt,function(){var e=this,t=e._self._c;return t("div",{class:e.classes,on:{mousedown:function(e){e.preventDefault()}}},[t("div",{class:[e.prefixCls+"-body"]},[t("div",{class:[e.prefixCls+"-content",e.prefixCls+"-content-left"]},[t("div",{class:[e.timePrefixCls+"-header"]},[e.showDate?[e._v(e._s(e.leftDatePanelLabel))]:[e._v(e._s(e.t("i.datepicker.startTime")))]],2),t("time-spinner",{ref:"timeSpinner",attrs:{steps:e.steps,"show-seconds":e.showSeconds,hours:e.value[0]&&e.dateStart.getHours(),minutes:e.value[0]&&e.dateStart.getMinutes(),seconds:e.value[0]&&e.dateStart.getSeconds(),"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleStartChange,"on-pick-click":e.handlePickClick}})],1),t("div",{class:[e.prefixCls+"-content",e.prefixCls+"-content-right"]},[t("div",{class:[e.timePrefixCls+"-header"]},[e.showDate?[e._v(e._s(e.rightDatePanelLabel))]:[e._v(e._s(e.t("i.datepicker.endTime")))]],2),t("time-spinner",{ref:"timeSpinnerEnd",attrs:{steps:e.steps,"show-seconds":e.showSeconds,hours:e.value[1]&&e.dateEnd.getHours(),minutes:e.value[1]&&e.dateEnd.getMinutes(),seconds:e.value[1]&&e.dateEnd.getSeconds(),"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleEndChange,"on-pick-click":e.handlePickClick}})],1),e.confirm?t("Confirm",{on:{"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},[],!1,null,null,null).exports,ci="ivu-picker-panel",ui="ivu-date-picker",I={name:"RangeDatePickerPanel",mixins:[I,p,oi],components:{Icon:s,DateTable:ae,YearTable:T,MonthTable:C,TimePicker:Zt,Confirm:ei,datePanelLabel:ni},props:{splitPanels:{type:Boolean,default:!1}},data:function(){var e=this.value.map(function(e){return e||Tt()}),e=Object(H.a)(e,2),t=e[0],i=this.startDate||t;return{prefixCls:ci,datePrefixCls:ui,dates:this.value,rangeState:{from:this.value[0],to:this.value[1],selecting:t&&!e[1]},currentView:this.selectionMode||"range",leftPickerTable:"".concat(this.selectionMode,"-table"),rightPickerTable:"".concat(this.selectionMode,"-table"),leftPanelDate:i,rightPanelDate:new Date(i.getFullYear(),i.getMonth()+1,1)}},computed:{classes:function(){return["".concat(ci,"-body-wrapper"),"".concat(ui,"-with-range"),Object(l.a)(Object(l.a)({},"".concat(ci,"-with-sidebar"),this.shortcuts.length),"".concat(ui,"-with-week-numbers"),this.showWeekNumbers)]},panelBodyClasses:function(){return[ci+"-body",Object(l.a)(Object(l.a)({},ci+"-body-time",this.showTime),ci+"-body-date",!this.showTime)]},leftDatePanelLabel:function(){return this.panelLabelConfig("left")},rightDatePanelLabel:function(){return this.panelLabelConfig("right")},leftDatePanelView:function(){return this.leftPickerTable.split("-").shift()},rightDatePanelView:function(){return this.rightPickerTable.split("-").shift()},timeDisabled:function(){return!(this.dates[0]&&this.dates[1])},preSelecting:function(){var e="".concat(this.currentView,"-table");return{left:this.leftPickerTable!==e,right:this.rightPickerTable!==e}},panelPickerHandlers:function(){return{left:this.preSelecting.left?this.handlePreSelection.bind(this,"left"):this.handleRangePick,right:this.preSelecting.right?this.handlePreSelection.bind(this,"right"):this.handleRangePick}}},watch:{value:function(e){var t=e[0]?$t(e[0]):null,e=e[1]?$t(e[1]):null;this.dates=[t,e].sort(Mt),this.rangeState={from:this.dates[0],to:this.dates[1],selecting:!1},this.setPanelDates(this.startDate||this.dates[0]||new Date)},currentView:function(e){var t=this.leftPanelDate.getMonth(),i=this.rightPanelDate.getMonth(),n=this.leftPanelDate.getFullYear()===this.rightPanelDate.getFullYear();"date"===e&&n&&t===i&&this.changePanelDate("right","Month",1),"month"===e&&n&&this.changePanelDate("right","FullYear",1),"year"===e&&n&&this.changePanelDate("right","FullYear",10)},selectionMode:function(e){this.currentView=e||"range"},focusedDate:function(e){this.setPanelDates(e||new Date)}},methods:{reset:function(){this.currentView=this.selectionMode,this.leftPickerTable="".concat(this.currentView,"-table"),this.rightPickerTable="".concat(this.currentView,"-table")},setPanelDates:function(e){this.leftPanelDate=e;var e=new Date(e.getFullYear(),e.getMonth()+1,1),t=this.dates[1]&&this.dates[1].getTime();this.rightPanelDate=this.splitPanels?new Date(Math.max(t,e.getTime())):e},panelLabelConfig:function(i){var n=this,e=this.t("i.locale"),t=this.t("i.datepicker.datePanelLabel"),o=this["".concat(i,"PanelDate")],e=zt(e,t,o),t=e.labels;return{separator:e.separator,labels:t.map(function(e){return e.handler=(t="month"==e.type?n.showMonthPicker:n.showYearPicker,function(){return t(i)}),e;var t})}},prevYear:function(e){var t="year"===this.currentView?-10:-1;this.changePanelDate(e,"FullYear",t)},nextYear:function(e){var t="year"===this.currentView?10:1;this.changePanelDate(e,"FullYear",t)},prevMonth:function(e){this.changePanelDate(e,"Month",-1)},nextMonth:function(e){this.changePanelDate(e,"Month",1)},changePanelDate:function(e,t,i){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=new Date(this["".concat(e,"PanelDate")]);"FullYear"===t?o["set".concat(t)](o["get".concat(t)]()+i):o["set".concat(t)](o["get".concat(t)]()+i,1),this["".concat(e,"PanelDate")]=o,n&&(this.splitPanels?(o="left"===e?"right":"left","left"===e&&this.leftPanelDate>=this.rightPanelDate&&this.changePanelDate(o,t,1),"right"===e&&this.rightPanelDate<=this.leftPanelDate&&this.changePanelDate(o,t,-1)):(o=this["".concat(n="left"===e?"right":"left","PanelDate")],e=new Date(o),"Month"===t&&(o=new Date(e.getFullYear(),e.getMonth()+i+1,0).getDate(),e.setDate(Math.min(o,e.getDate()))),e["set".concat(t)](e["get".concat(t)]()+i),this["".concat(n,"PanelDate")]=e))},showYearPicker:function(e){this["".concat(e,"PickerTable")]="year-table"},showMonthPicker:function(e){this["".concat(e,"PickerTable")]="month-table"},handlePreSelection:function(e,t){this["".concat(e,"PanelDate")]=t;var i=this["".concat(e,"PickerTable")];this["".concat(e,"PickerTable")]="year-table"===i?"month-table":"".concat(this.currentView,"-table"),this.splitPanels||(this["".concat(i="left"===e?"right":"left","PanelDate")]=t,this.changePanelDate(i,"Month","left"==i?-1:1,!1))},handleRangePick:function(e,t){var i,n;this.rangeState.selecting||"time"===this.currentView?("time"===this.currentView?this.dates=e:(n=[this.rangeState.from,e].sort(Mt),i=(n=Object(H.a)(n,2))[0],this.dates=[i,n=n[1]],this.rangeState={from:i,to:n,selecting:!1}),this.handleConfirm(!1,t||"date")):this.rangeState={from:e,to:null,selecting:!0}},handleChangeRange:function(e){this.rangeState.to=e}}},oi={name:"CalendarPicker",mixins:[Rt],props:{type:{validator:function(e){return Object(h.m)(e,["year","month","date","daterange","datetime","datetimerange"])},default:"date"}},components:{DatePickerPanel:ai,RangeDatePickerPanel:Object(t.a)(I,function(){var i=this,e=i._self._c;return e("div",{class:i.classes,on:{mousedown:function(e){e.preventDefault()}}},[i.shortcuts.length?e("div",{class:[i.prefixCls+"-sidebar"]},i._l(i.shortcuts,function(t){return e("div",{class:[i.prefixCls+"-shortcut"],on:{click:function(e){return i.handleShortcutClick(t)}}},[i._v(i._s(t.text))])}),0):i._e(),e("div",{class:i.panelBodyClasses},[e("div",{directives:[{name:"show",rawName:"v-show",value:!i.isTime,expression:"!isTime"}],class:[i.prefixCls+"-content",i.prefixCls+"-content-left"]},[e("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],class:[i.datePrefixCls+"-header"]},[e("span",{class:i.iconBtnCls("prev","-double"),on:{click:function(e){return i.prevYear("left")}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1),"date-table"===i.leftPickerTable?e("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("prev"),on:{click:function(e){return i.prevMonth("left")}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),e("date-panel-label",{attrs:{"date-panel-label":i.leftDatePanelLabel,"current-view":i.leftDatePanelView,"date-prefix-cls":i.datePrefixCls}}),i.splitPanels||"date-table"!==i.leftPickerTable?e("span",{class:i.iconBtnCls("next","-double"),on:{click:function(e){return i.nextYear("left")}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e(),i.splitPanels&&"date-table"===i.leftPickerTable?e("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("next"),on:{click:function(e){return i.nextMonth("left")}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e()],1),"time"!==i.currentView?e(i.leftPickerTable,{ref:"leftYearTable",tag:"component",attrs:{"table-date":i.leftPanelDate,"selection-mode":"range","disabled-date":i.disabledDate,"range-state":i.rangeState,"show-week-numbers":i.showWeekNumbers,value:i.preSelecting.left?[i.dates[0]]:i.dates,"focused-date":i.focusedDate},on:{"on-change-range":i.handleChangeRange,"on-pick":i.panelPickerHandlers.left,"on-pick-click":i.handlePickClick}}):i._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!i.isTime,expression:"!isTime"}],class:[i.prefixCls+"-content",i.prefixCls+"-content-right"]},[e("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==i.currentView,expression:"currentView !== 'time'"}],class:[i.datePrefixCls+"-header"]},[i.splitPanels||"date-table"!==i.rightPickerTable?e("span",{class:i.iconBtnCls("prev","-double"),on:{click:function(e){return i.prevYear("right")}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),i.splitPanels&&"date-table"===i.rightPickerTable?e("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("prev"),on:{click:function(e){return i.prevMonth("right")}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1):i._e(),e("date-panel-label",{attrs:{"date-panel-label":i.rightDatePanelLabel,"current-view":i.rightDatePanelView,"date-prefix-cls":i.datePrefixCls}}),e("span",{class:i.iconBtnCls("next","-double"),on:{click:function(e){return i.nextYear("right")}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1),"date-table"===i.rightPickerTable?e("span",{directives:[{name:"show",rawName:"v-show",value:"date"===i.currentView,expression:"currentView === 'date'"}],class:i.iconBtnCls("next"),on:{click:function(e){return i.nextMonth("right")}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1):i._e()],1),"time"!==i.currentView?e(i.rightPickerTable,{ref:"rightYearTable",tag:"component",attrs:{"table-date":i.rightPanelDate,"selection-mode":"range","range-state":i.rangeState,"disabled-date":i.disabledDate,"show-week-numbers":i.showWeekNumbers,value:i.preSelecting.right?[i.dates[i.dates.length-1]]:i.dates,"focused-date":i.focusedDate},on:{"on-change-range":i.handleChangeRange,"on-pick":i.panelPickerHandlers.right,"on-pick-click":i.handlePickClick}}):i._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:i.isTime,expression:"isTime"}],class:[i.prefixCls+"-content"]},["time"===i.currentView?e("time-picker",i._b({ref:"timePicker",attrs:{value:i.dates,format:i.format,"time-disabled":i.timeDisabled},on:{"on-pick":i.handleRangePick,"on-pick-click":i.handlePickClick,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess,"on-pick-toggle-time":i.handleToggleTime}},"time-picker",i.timePickerOptions,!1)):i._e()],1),i.confirm?e("Confirm",{attrs:{"show-time":i.showTime,"is-time":i.isTime,"time-disabled":i.timeDisabled},on:{"on-pick-toggle-time":i.handleToggleTime,"on-pick-clear":i.handlePickClear,"on-pick-success":i.handlePickSuccess}}):i._e()],1)])},[],!1,null,null,null).exports},computed:{panel:function(){return"daterange"===this.type||"datetimerange"===this.type?"RangeDatePickerPanel":"DatePickerPanel"},ownPickerProps:function(){return this.options}}},ae=e("c7f3").a,T=(e("a732"),e("a630"),e("d866"),e("3ca3"),{props:{lockScroll:{type:Boolean,default:!0}},methods:{checkScrollBar:function(){var e,t=window.innerWidth;t||(t=(e=document.documentElement.getBoundingClientRect()).right-Math.abs(e.left)),this.bodyIsOverflowing=document.body.clientWidth<t,this.bodyIsOverflowing&&(this.scrollBarWidth=Object(h.k)())},checkMaskInVisible:function(){var e=document.getElementsByClassName("ivu-modal-mask")||[];return Array.from(e).every(function(e){return"none"===e.style.display||e.classList.contains("fade-leave-to")})},setScrollBar:function(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight="".concat(this.scrollBarWidth,"px"))},resetScrollBar:function(){document.body.style.paddingRight=""},addScrollEffect:function(){this.lockScroll&&(this.checkScrollBar(),this.setScrollBar(),document.body.style.overflow="hidden")},removeScrollEffect:function(){this.lockScroll&&this.checkMaskInVisible()&&(document.body.style.overflow="",this.resetScrollBar())}}}),P="ivu-drawer",C={name:"Drawer",mixins:[u,T],components:{Icon:U},directives:{TransferDom:r},props:{value:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},height:{type:[Number,String],default:256},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},maskStyle:{type:Object},styles:{type:Object},scrollable:{type:Boolean,default:!1},placement:{validator:function(e){return Object(h.m)(e,["left","right","top","bottom"])},default:"right"},zIndex:{type:Number,default:1e3},transfer:{type:Boolean,default:function(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},className:{type:String},inner:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},beforeClose:Function},data:function(){return{prefixCls:P,visible:this.value,wrapShow:!1,showHead:!0,canMove:!1,dragWidth:this.width,dragHeight:this.height,wrapperWidth:this.width,wrapperHeight:this.height,wrapperLeft:0,minWidth:256,minHeight:256}},computed:{wrapClasses:function(){return["".concat(P,"-wrap"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(P,"-hidden"),!this.wrapShow),"".concat(this.className),!!this.className),"".concat(P,"-no-mask"),!this.mask),"".concat(P,"-wrap-inner"),this.inner),"".concat(P,"-wrap-dragging"),this.canMove)]},mainStyles:function(){var e,t={};return"left"===this.placement||"right"===this.placement?(e=parseInt(this.dragWidth),e={width:"".concat(e,e<=100?"%":"px")},Object.assign(t,e)):(e=parseInt(this.dragHeight),e={height:"".concat(e,e<=100?"%":"px")},Object.assign(t,e)),t},contentClasses:function(){return["".concat(P,"-content"),Object(l.a)({},"".concat(P,"-content-no-mask"),!this.mask)]},classes:function(){return["".concat(P),"".concat(P,"-").concat(this.placement),Object(l.a)(Object(l.a)({},"".concat(P,"-no-header"),!this.showHead),"".concat(P,"-inner"),this.inner)]},maskClasses:function(){return["".concat(P,"-mask"),Object(l.a)({},"".concat(P,"-mask-inner"),this.inner)]},transitionName:function(){return"left"===this.placement||"right"===this.placement?"move-".concat(this.placement):"top"===this.placement?"move-up":"move-down"}},methods:{close:function(){var e=this;if(!this.beforeClose)return this.handleClose();var t=this.beforeClose();t&&t.then?t.then(function(){e.handleClose()}):this.handleClose()},handleClose:function(){this.visible=!1,this.$emit("input",!1),this.$emit("on-close")},handleMask:function(){this.maskClosable&&this.mask&&this.close()},handleWrapClick:function(e){e=e.target.getAttribute("class");e&&-1<e.indexOf("".concat(P,"-wrap"))&&this.handleMask()},handleMousemove:function(e){var t;this.canMove&&this.draggable&&(this.handleSetWrapperWidth(),t=e.pageX-this.wrapperLeft,t="right"===this.placement?this.wrapperWidth-t:t,t=Math.max(t,parseFloat(this.minWidth)),e.atMin=t===parseFloat(this.minWidth),t<=100&&(t=t/this.wrapperWidth*100),this.dragWidth=t,this.$emit("on-resize-width",parseInt(this.dragWidth)))},handleSetWrapperWidth:function(){var e=this.$el.getBoundingClientRect(),t=e.width,e=e.left;this.wrapperWidth=t,this.wrapperLeft=e},handleMouseup:function(){this.draggable&&(this.canMove=!1)},handleTriggerMousedown:function(){this.canMove=!0,window.getSelection().removeAllRanges()}},mounted:function(){this.visible&&(this.wrapShow=!0);var e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,n(document,"mousemove",this.handleMousemove),n(document,"mouseup",this.handleMouseup),this.handleSetWrapperWidth()},beforeDestroy:function(){i(document,"mousemove",this.handleMousemove),i(document,"mouseup",this.handleMouseup),this.removeScrollEffect()},watch:{value:function(e){this.visible=e},visible:function(e){var i=this;!1===e?this.timer=setTimeout(function(){i.wrapShow=!1;var e=Object(h.e)(i,"Drawer")||[],t=Object(h.i)(i,"Drawer")||[];[].concat(e).concat(t).some(function(e){return e.visible&&!e.scrollable})||i.removeScrollEffect()},300):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e)},scrollable:function(e){e?this.removeScrollEffect():this.addScrollEffect()},title:function(e){void 0===this.$slots.header&&(this.showHead=!!e)},width:function(e){this.dragWidth=e},height:function(e){this.dragHeight=e}}},ei=Object(t.a)(C,function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":e.transfer}},[t("transition",{attrs:{name:"fade"}},[e.mask?t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.maskClasses,style:e.maskStyle,on:{click:e.handleMask}}):e._e()]),t("div",{class:e.wrapClasses,on:{click:e.handleWrapClick}},[t("transition",{attrs:{name:e.transitionName}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.classes,style:e.mainStyles},[t("div",{ref:"content",class:e.contentClasses},[e.closable?t("a",{staticClass:"ivu-drawer-close",on:{click:e.close}},[e._t("close",function(){return[t("Icon",{attrs:{type:"ios-close"}})]})],2):e._e(),e.showHead?t("div",{class:[e.prefixCls+"-header"]},[e._t("header",function(){return[t("div",{class:[e.prefixCls+"-header-inner"]},[e._v(e._s(e.title))])]})],2):e._e(),t("div",{class:[e.prefixCls+"-body"],style:e.styles},[e._t("default")],2)]),!e.draggable||"left"!==e.placement&&"right"!==e.placement?e._e():t("div",{staticClass:"ivu-drawer-drag",class:"ivu-drawer-drag-"+e.placement,on:{mousedown:e.handleTriggerMousedown}},[e._t("trigger",function(){return[t("div",{staticClass:"ivu-drawer-drag-move-trigger"},[t("div",{staticClass:"ivu-drawer-drag-move-trigger-point"},[t("i"),t("i"),t("i"),t("i"),t("i")])])]})],2)])])],1)],1)},[],!1,null,null,null).exports,di="ivu-dropdown",ni={name:"Dropdown",directives:{clickOutside:it,TransferDom:r},components:{Drop:a},props:{trigger:{validator:function(e){return Object(h.m)(e,["click","hover","custom","contextMenu"])},default:"hover"},placement:{validator:function(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},visible:{type:Boolean,default:!1},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},transferClassName:{type:String},stopPropagation:{type:Boolean,default:!1},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},eventsEnabled:{type:Boolean,default:!1}},computed:{transition:function(){return-1<["bottom-start","bottom","bottom-end"].indexOf(this.placement)?"slide-up":"fade"},dropdownCls:function(){return Object(l.a)(Object(l.a)({},di+"-transfer",this.transfer),this.transferClassName,this.transferClassName)},relClasses:function(){return["".concat(di,"-rel"),Object(l.a)({},"".concat(di,"-rel-user-select-none"),"contextMenu"===this.trigger)]}},data:function(){return{prefixCls:di,currentVisible:this.visible}},watch:{visible:function(e){this.currentVisible=e},currentVisible:function(e){e?this.$refs.drop.update():this.$refs.drop.destroy(),this.$emit("on-visible-change",e)}},methods:{handleClick:function(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.hasParent()||(this.currentVisible=!this.currentVisible))},handleRightClick:function(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!this.currentVisible)},handleMouseenter:function(){var e=this;return"custom"!==this.trigger&&"hover"===this.trigger&&(this.timeout&&clearTimeout(this.timeout),void(this.timeout=setTimeout(function(){e.currentVisible=!0},250)))},handleMouseleave:function(){var e=this;return"custom"!==this.trigger&&"hover"===this.trigger&&void(this.timeout&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.currentVisible=!1},150)))},onClickoutside:function(e){this.handleClose(),this.handleRightClose(),this.currentVisible&&this.$emit("on-clickoutside",e)},handleClose:function(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.currentVisible=!1)},handleRightClose:function(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!1)},hasParent:function(){return Object(h.g)(this,"Dropdown")||!1}},mounted:function(){var i=this;this.$on("on-click",function(e){var t;i.stopPropagation||(t=i.hasParent())&&t.$emit("on-click",e)}),this.$on("on-hover-click",function(){var e=i.hasParent();e?(i.$nextTick(function(){if("custom"===i.trigger)return!1;i.currentVisible=!1}),e.$emit("on-hover-click")):i.$nextTick(function(){if("custom"===i.trigger)return!1;i.currentVisible=!1})}),this.$on("on-haschild-click",function(){i.$nextTick(function(){if("custom"===i.trigger)return!1;i.currentVisible=!0});var e=i.hasParent();e&&e.$emit("on-haschild-click")})}},ai=Object(t.a)(ni,function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickoutside,expression:"onClickoutside"}],class:[t.prefixCls],on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{ref:"reference",class:t.relClasses,on:{click:t.handleClick,contextmenu:function(e){return e.preventDefault(),t.handleRightClick.apply(null,arguments)}}},[t._t("default")],2),e("transition",{attrs:{name:"transition-drop"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.currentVisible,expression:"currentVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:t.dropdownCls,attrs:{placement:t.placement,eventsEnabled:t.eventsEnabled,"data-transfer":t.transfer,transfer:t.transfer},nativeOn:{mouseenter:function(e){return t.handleMouseenter.apply(null,arguments)},mouseleave:function(e){return t.handleMouseleave.apply(null,arguments)}}},[t._t("list")],2)],1)],1)},[],!1,null,null,null).exports,I={name:"DropdownMenu"},C=Object(t.a)(I,function(){return(0,this._self._c)("ul",{staticClass:"ivu-dropdown-menu"},[this._t("default")],2)},[],!1,null,null,null).exports,hi="ivu-dropdown-item",ni={name:"DropdownItem",props:{name:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},divided:{type:Boolean,default:!1}},computed:{classes:function(){return["".concat(hi),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(hi,"-disabled"),this.disabled),"".concat(hi,"-selected"),this.selected),"".concat(hi,"-divided"),this.divided)]}},methods:{handleClick:function(){var e;this.disabled||(e=Object(h.g)(this,"Dropdown"),this.$parent&&"Dropdown"===this.$parent.$options.name?this.$parent.$emit("on-haschild-click"):e&&"Dropdown"===e.$options.name&&e.$emit("on-hover-click"),e.$emit("on-click",this.name))}}},I=Object(t.a)(ni,function(){return(0,this._self._c)("li",{class:this.classes,on:{click:this.handleClick}},[this._t("default")],2)},[],!1,null,null,null).exports,ni=(ai.Menu=C,ai.Item=I,ai),I={name:"Footer",computed:{wrapClasses:function(){return"".concat("ivu-layout","-footer")}}},I=Object(t.a)(I,function(){return(0,this._self._c)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,pi=I,fi="ivu-form",mi={name:"iForm",props:{model:{type:Object},rules:{type:Object},labelWidth:{type:Number},labelPosition:{validator:function(e){return Object(h.m)(e,["left","right","top"])},default:"right"},inline:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},autocomplete:{validator:function(e){return Object(h.m)(e,["on","off"])},default:"off"},hideRequiredMark:{type:Boolean,default:!1},labelColon:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1}},provide:function(){return{FormInstance:this}},data:function(){return{fields:[]}},computed:{classes:function(){return["".concat(fi),"".concat(fi,"-label-").concat(this.labelPosition),Object(l.a)(Object(l.a)({},"".concat(fi,"-inline"),this.inline),"".concat(fi,"-hide-required-mark"),this.hideRequiredMark)]},colon:function(){var e="";return e=this.labelColon?"boolean"==typeof this.labelColon?":":this.labelColon:e}},methods:{resetFields:function(){this.fields.forEach(function(e){e.resetField()})},validate:function(o){var s=this;return new Promise(function(t){var i=!0,n=0;0===s.fields.length&&(t(i),"function"==typeof o)&&o(i),s.fields.forEach(function(e){e.validate("",function(e){e&&(i=!1),++n===s.fields.length&&(t(i),"function"==typeof o)&&o(i)})})})},validateField:function(t,e){var i=this.fields.filter(function(e){return e.prop===t})[0];if(!i)throw new Error("[iView warn]: must call validateField with valid prop string!");i.validate("",e)}},watch:{rules:function(){this.validate()}},created:function(){var t=this;this.$on("on-form-item-add",function(e){return e&&t.fields.push(e),!1}),this.$on("on-form-item-remove",function(e){return e.prop&&t.fields.splice(t.fields.indexOf(e),1),!1})}},mi=Object(t.a)(mi,function(){return(0,this._self._c)("form",{class:this.classes,attrs:{autocomplete:this.autocomplete}},[this._t("default")],2)},[],!1,null,null,null).exports,gi=(e("7a82"),e("2a95")),yi="ivu-form-item";function vi(e,t){for(var i=e,n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,s=n.length;o<s-1;++o){var a=n[o];if(!(a in i))throw new Error("[iView warn]: please transfer a valid prop path to form item!");i=i[a]}return{o:i,k:n[o],v:i[n[o]]}}var bi={name:"FormItem",mixins:[u],props:{label:{type:String,default:""},labelWidth:{type:Number},prop:{type:String},required:{type:Boolean,default:!1},rules:{type:[Object,Array]},error:{type:String},validateStatus:{type:Boolean},showMessage:{type:Boolean,default:!0},labelFor:{type:String}},data:function(){return{prefixCls:yi,isRequired:!1,validateState:"",validateMessage:"",validateDisabled:!1,validator:{}}},watch:{error:{handler:function(e){this.validateMessage=e,this.validateState=e?"error":""},immediate:!0},validateStatus:function(e){this.validateState=e},rules:function(){this.setRules()},required:function(e,t){this.isRequired=e,t&&!e&&this.resetField()}},inject:["FormInstance"],computed:{classes:function(){return["".concat(yi),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(yi,"-required"),this.required||this.isRequired),"".concat(yi,"-error"),"error"===this.validateState),"".concat(yi,"-validating"),"validating"===this.validateState)]},fieldValue:function(){var e=this.FormInstance.model;if(e&&this.prop)return vi(e,e=-1!==(e=this.prop).indexOf(":")?e.replace(/:/,"."):e).v},labelStyles:function(){var e={},t=(0===this.labelWidth||this.labelWidth?this:this.FormInstance).labelWidth;return!t&&0!==t||(e.width="".concat(t,"px")),e},contentStyles:function(){var e={},t=(0===this.labelWidth||this.labelWidth?this:this.FormInstance).labelWidth;return!t&&0!==t||(e.marginLeft="".concat(t,"px")),e}},methods:{setRules:function(){var t=this,e=this.getRules();e.length&&this.required||(e.length?e.every(function(e){t.isRequired=e.required}):this.required&&(this.isRequired=this.required),this.$off("on-form-blur",this.onFieldBlur),this.$off("on-form-change",this.onFieldChange),this.$on("on-form-blur",this.onFieldBlur),this.$on("on-form-change",this.onFieldChange))},getRules:function(){var e=this.FormInstance.rules,t=this.rules,e=e?e[this.prop]:[];return[].concat(t||e||[])},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||-1!==e.trigger.indexOf(t)})},validate:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},e=this.getFilteredRule(e);if(!e||0===e.length){if(!this.required)return i(),!0;e=[{required:!0}]}this.validateState="validating";var n={},e=(n[this.prop]=e,new gi.a(n)),n={};n[this.prop]=this.fieldValue,e.validate(n,{firstFields:!0},function(e){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",i(t.validateMessage),t.FormInstance&&t.FormInstance.$emit("on-validate",t.prop,!e,t.validateMessage||null)}),this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var e=this.FormInstance.model,t=this.fieldValue,i=this.prop,e=vi(e,i=-1!==i.indexOf(":")?i.replace(/:/,"."):i);Array.isArray(t)&&null!==this.initialValue?(this.validateDisabled=!0,e.o[e.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,e.o[e.k]=this.initialValue)},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},mounted:function(){this.prop&&(this.dispatch("iForm","on-form-item-add",this),Object.defineProperty(this,"initialValue",{value:this.fieldValue}),this.setRules())},beforeDestroy:function(){this.dispatch("iForm","on-form-item-remove",this)}},bi=Object(t.a)(bi,function(){var e=this,t=e._self._c;return t("div",{class:e.classes},[e.label||e.$slots.label?t("label",{class:[e.prefixCls+"-label"],style:e.labelStyles,attrs:{for:e.labelFor}},[e._t("label",function(){return[e._v(e._s(e.label)+e._s(e.FormInstance.colon))]})],2):e._e(),t("div",{class:[e.prefixCls+"-content"],style:e.contentStyles},[e._t("default"),t("transition",{attrs:{name:"fade"}},["error"===e.validateState&&e.showMessage&&e.FormInstance.showMessage?t("div",{class:[e.prefixCls+"-error-tip"]},[e._v(e._s(e.validateMessage))]):e._e()])],2)])},[],!1,null,null,null).exports,bi=(mi.Item=bi,mi),mi={name:"Header",computed:{wrapClasses:function(){return"".concat("ivu-layout","-header")}}},mi=Object(t.a)(mi,function(){return(0,this._self._c)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,wi=mi,Si=Le,A=(e("b680"),"ivu-input-number"),_i="ivu-icon";function Ci(e,t){var i,n;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}return n=Math.pow(10,Math.max(n,i)),(Math.round(e*n)+Math.round(t*n))/n}function ki(){return Promise.resolve()}var xi={name:"InputNumber",mixins:[u,d],props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},step:{type:Number,default:1},activeChange:{type:Boolean,default:!0},value:{type:Number,default:1},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},name:{type:String},precision:{type:Number},elementId:{type:String},formatter:{type:Function},parser:{type:Function},placeholder:{type:String,default:""},controlsOutside:{type:Boolean,default:!1}},data:function(){return{focused:!1,upDisabled:!1,downDisabled:!1,currentValue:this.value}},computed:{wrapClasses:function(){return["".concat(A),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(A,"-").concat(this.size),!!this.size),"".concat(A,"-disabled"),this.itemDisabled),"".concat(A,"-focused"),this.focused),"".concat(A,"-controls-outside"),this.controlsOutside)]},handlerClasses:function(){return"".concat(A,"-handler-wrap")},upClasses:function(){return["".concat(A,"-handler"),"".concat(A,"-handler-up"),Object(l.a)({},"".concat(A,"-handler-up-disabled"),this.upDisabled)]},innerUpClasses:function(){return"".concat(A,"-handler-up-inner ").concat(_i," ").concat(_i,"-ios-arrow-up")},downClasses:function(){return["".concat(A,"-handler"),"".concat(A,"-handler-down"),Object(l.a)({},"".concat(A,"-handler-down-disabled"),this.downDisabled)]},innerDownClasses:function(){return"".concat(A,"-handler-down-inner ").concat(_i," ").concat(_i,"-ios-arrow-down")},inputWrapClasses:function(){return"".concat(A,"-input-wrap")},inputClasses:function(){return"".concat(A,"-input")},precisionValue:function(){return this.currentValue&&this.precision?this.currentValue.toFixed(this.precision):this.currentValue},formatterValue:function(){return this.formatter&&null!==this.precisionValue?this.formatter(this.precisionValue):this.precisionValue}},methods:{preventDefault:function(e){e.preventDefault()},up:function(e){var t=Number(e.target.value);if(this.upDisabled&&isNaN(t))return!1;this.changeStep("up",e)},down:function(e){var t=Number(e.target.value);if(this.downDisabled&&isNaN(t))return!1;this.changeStep("down",e)},changeStep:function(e,t){if(this.itemDisabled||this.readonly)return!1;var t=Number(t.target.value),i=Number(this.currentValue),n=Number(this.step);if(isNaN(i))return!1;if(!isNaN(t))if("up"===e){if(!(Ci(t,n)<=this.max))return!1;i=t}else if("down"===e){if(!(Ci(t,-n)>=this.min))return!1;i=t}"up"===e?i=Ci(i,n):"down"===e&&(i=Ci(i,-n)),this.setValue(i)},setValue:function(e){var t=this,i=(e&&!isNaN(this.precision)&&(e=Number(Number(e).toFixed(this.precision))),this.min),n=this.max;null!==e&&(n<e?e=n:e<i&&(e=i)),this.$nextTick(function(){t.currentValue=e,t.$emit("input",e),t.$emit("on-change",e),t.dispatch("FormItem","on-form-change",e)})},focus:function(e){this.focused=!0,this.$emit("on-focus",e)},blur:function(){this.focused=!1,this.$emit("on-blur"),Object(h.g)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},keyDown:function(e){38===e.keyCode?(e.preventDefault(),this.up(e)):40===e.keyCode&&(e.preventDefault(),this.down(e))},change:function(e){var t;"change"==e.type&&this.activeChange||"input"==e.type&&!this.activeChange||(t=e.target.value.trim(),0===(t=this.parser?this.parser(t):t).length?this.setValue(null):"input"==e.type&&t.match(/^\-?\.?$|\.$/)||(t=Number(t),isNaN(t)?e.target.value=this.currentValue:(this.currentValue=t,this.setValue(t))))},changeVal:function(e){var t;e=Number(e),isNaN(e)?(this.upDisabled=!0,this.downDisabled=!0):(t=this.step,this.upDisabled=e+t>this.max,this.downDisabled=e-t<this.min)}},mounted:function(){this.changeVal(this.currentValue)},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.changeVal(e)},min:function(){this.changeVal(this.currentValue)},max:function(){this.changeVal(this.currentValue)}}},xi=Object(t.a)(xi,function(){var t=this,e=t._self._c;return e("div",{class:t.wrapClasses},[t.controlsOutside?t._e():e("div",{class:t.handlerClasses},[e("a",{class:t.upClasses,on:{click:t.up}},[e("span",{class:t.innerUpClasses,on:{click:t.preventDefault}})]),e("a",{class:t.downClasses,on:{click:t.down}},[e("span",{class:t.innerDownClasses,on:{click:t.preventDefault}})])]),t.controlsOutside?e("div",{staticClass:"ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-down",class:{"ivu-input-number-controls-outside-btn-disabled":t.downDisabled},on:{click:t.down}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-remove"})]):t._e(),t.controlsOutside?e("div",{staticClass:"ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-up",class:{"ivu-input-number-controls-outside-btn-disabled":t.upDisabled},on:{click:t.up}},[e("i",{staticClass:"ivu-icon ivu-icon-ios-add"})]):t._e(),e("div",{class:t.inputWrapClasses},[e("input",{class:t.inputClasses,attrs:{id:t.elementId,disabled:t.itemDisabled,autocomplete:"off",spellcheck:"false",autofocus:t.autofocus,readonly:t.readonly||!t.editable,name:t.name,placeholder:t.placeholder},domProps:{value:t.formatterValue},on:{focus:t.focus,blur:t.blur,keydown:function(e){return e.stopPropagation(),t.keyDown.apply(null,arguments)},input:t.change,mouseup:t.preventDefault,change:t.change}})])])},[],!1,null,null,null).exports,Ti=xi,Ii=(e("2af1"),e("84a2")),Pi=e.n(Ii),Ai="ivu-spin",Ii={name:"Spin",mixins:[T],props:{size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:function(){return{showText:!1,visible:!1}},computed:{classes:function(){return["".concat(Ai),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Ai,"-").concat(this.size),!!this.size),"".concat(Ai,"-fix"),this.fix),"".concat(Ai,"-show-text"),this.showText),"".concat(Ai,"-fullscreen"),this.fullscreen)]},mainClasses:function(){return"".concat(Ai,"-main")},dotClasses:function(){return"".concat(Ai,"-dot")},textClasses:function(){return"".concat(Ai,"-text")},fullscreenVisible:function(){return!this.fullscreen||this.visible}},watch:{visible:function(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted:function(){this.showText=void 0!==this.$slots.default}},Di=Object(t.a)(Ii,function(){var e=this._self._c;return e("transition",{attrs:{name:"fade"}},[this.fullscreenVisible?e("div",{class:this.classes},[e("div",{class:this.mainClasses},[e("span",{class:this.dotClasses}),e("div",{class:this.textClasses},[this._t("default")],2)])]):this._e()])},[],!1,null,null,null).exports,Ei="ivu-scroll",Ii={props:["text","active","spinnerHeight"],components:{Spin:Di,Icon:s},computed:{wrapperClasses:function(){return["".concat(Ei,"-loader-wrapper"),Object(l.a)({},"".concat(Ei,"-loader-wrapper-active"),this.active)]},spinnerClasses:function(){return"".concat(Ei,"-spinner")},iconClasses:function(){return"".concat(Ei,"-spinner-icon")},textClasses:function(){return"".concat(Ei,"-loader-text")}}},Ii=Object(t.a)(Ii,function(){var e=this,t=e._self._c;return t("div",{class:e.wrapperClasses},[t("div",{class:e.spinnerClasses},[t("Spin",{attrs:{fix:""}},[t("Icon",{class:e.iconClasses,attrs:{type:"ios-loading",size:"18"}}),e.text?t("div",{class:e.textClasses},[e._v(e._s(e.text))]):e._e()],1)],1)])},[],!1,null,null,null).exports,Oi="ivu-scroll",Li=10,Ni=5,Ii={name:"Scroll",mixins:[p],components:{loader:Ii},props:{height:{type:[Number,String],default:300},onReachTop:{type:Function},onReachBottom:{type:Function},onReachEdge:{type:Function},loadingText:{type:String},distanceToEdge:[Number,Array],stopSlide:{type:Boolean,default:!1}},data:function(){var e=this.calculateProximityThreshold();return{showTopLoader:!1,showBottomLoader:!1,showBodyLoader:!1,lastScroll:0,reachedTopScrollLimit:!0,reachedBottomScrollLimit:!1,topRubberPadding:0,bottomRubberPadding:0,rubberRollBackTimeout:!1,isLoading:!1,pointerTouchDown:null,touchScroll:!1,handleScroll:function(){},pointerUpHandler:function(){},pointerMoveHandler:function(){},topProximityThreshold:e[0],bottomProximityThreshold:e[1]}},computed:{wrapClasses:function(){return"".concat(Oi,"-wrapper")},scrollContainerClasses:function(){return["".concat(Oi,"-container"),Object(l.a)({},"".concat(Oi,"-container-loading"),this.showBodyLoader&&this.stopSlide)]},slotContainerClasses:function(){return["".concat(Oi,"-content"),Object(l.a)({},"".concat(Oi,"-content-loading"),this.showBodyLoader)]},loaderClasses:function(){return"".concat(Oi,"-loader")},wrapperPadding:function(){return{paddingTop:this.topRubberPadding+"px",paddingBottom:this.bottomRubberPadding+"px"}},localeLoadingText:function(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText}},methods:{waitOneSecond:function(){return new Promise(function(e){setTimeout(e,1e3)})},calculateProximityThreshold:function(){var e=this.distanceToEdge;return void 0===e?[20,20]:Array.isArray(e)?e:[e,e]},onCallback:function(e){var t=this;if(this.isLoading=!0,this.showBodyLoader=!0,0<e)this.showTopLoader=!0,this.topRubberPadding=20;else{this.showBottomLoader=!0,this.bottomRubberPadding=20;for(var i=0,n=this.$refs.scrollContainer,o=n.scrollTop,s=0;s<20;s++)setTimeout(function(){i=Math.max(i,t.$refs.bottomLoader.getBoundingClientRect().height),n.scrollTop=o+i},50*s)}var a=[this.waitOneSecond(),this.onReachEdge?this.onReachEdge(e):ki()],r=(a.push(0<e?this.onReachTop?this.onReachTop():ki():this.onReachBottom?this.onReachBottom():ki()),setTimeout(function(){t.reset()},5e3));Promise.all(a).then(function(){clearTimeout(r),t.reset()})},reset:function(){var t=this;["showTopLoader","showBottomLoader","showBodyLoader","isLoading","reachedTopScrollLimit","reachedBottomScrollLimit"].forEach(function(e){return t[e]=!1}),this.lastScroll=0,this.topRubberPadding=0,this.bottomRubberPadding=0,clearInterval(this.rubberRollBackTimeout),this.touchScroll&&setTimeout(function(){i(window,"touchend",t.pointerUpHandler),t.$refs.scrollContainer.removeEventListener("touchmove",t.pointerMoveHandler),t.touchScroll=!1},500)},onWheel:function(e){this.isLoading||(e=e.wheelDelta||-(e.detail||e.deltaY),this.stretchEdge(e))},stretchEdge:function(e){var t=this;if(clearTimeout(this.rubberRollBackTimeout),!this.onReachEdge)if(0<e){if(!this.onReachTop)return}else if(!this.onReachBottom)return;this.rubberRollBackTimeout=setTimeout(function(){t.isLoading||t.reset()},250),0<e&&this.reachedTopScrollLimit?(this.topRubberPadding+=5-this.topRubberPadding/5,this.topRubberPadding>this.topProximityThreshold&&this.onCallback(1)):e<0&&this.reachedBottomScrollLimit?(this.bottomRubberPadding+=6-this.bottomRubberPadding/4,this.bottomRubberPadding>this.bottomProximityThreshold&&this.onCallback(-1)):this.onScroll()},onScroll:function(){var e,t,i,n,o=this.$refs.scrollContainer;!this.isLoading&&o&&(e=Math.sign(this.lastScroll-o.scrollTop),t=o.scrollHeight-o.clientHeight-o.scrollTop,i=this.topProximityThreshold<0?this.topProximityThreshold:0,n=this.bottomProximityThreshold<0?this.bottomProximityThreshold:0,-1==e&&t+n<=Li?this.reachedBottomScrollLimit=!0:0<=e&&o.scrollTop+i<=0?this.reachedTopScrollLimit=!0:(this.reachedTopScrollLimit=!1,this.reachedBottomScrollLimit=!1,this.lastScroll=o.scrollTop))},getTouchCoordinates:function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},onPointerDown:function(e){var t,i=this;this.isLoading||("touchstart"==e.type&&(t=this.$refs.scrollContainer,this.reachedTopScrollLimit?t.scrollTop=5:this.reachedBottomScrollLimit&&(t.scrollTop-=5)),"touchstart"==e.type&&0==this.$refs.scrollContainer.scrollTop&&(this.$refs.scrollContainer.scrollTop=5),this.pointerTouchDown=this.getTouchCoordinates(e),n(window,"touchend",this.pointerUpHandler),this.$refs.scrollContainer.parentElement.addEventListener("touchmove",function(e){e.stopPropagation(),i.pointerMoveHandler(e)},{passive:!1,useCapture:!0}))},onPointerMove:function(e){this.pointerTouchDown&&!this.isLoading&&(e=this.getTouchCoordinates(e).y-this.pointerTouchDown.y,this.stretchEdge(e),this.touchScroll||Math.abs(e)>Ni&&(this.touchScroll=!0))},onPointerUp:function(){this.pointerTouchDown=null}},created:function(){this.handleScroll=Pi()(this.onScroll,150,{leading:!1}),this.pointerUpHandler=this.onPointerUp.bind(this),this.pointerMoveHandler=Pi()(this.onPointerMove,50,{leading:!1})}},Ii=Object(t.a)(Ii,function(){var e=this,t=e._self._c;return t("div",{class:e.wrapClasses,staticStyle:{"touch-action":"none"}},[t("div",{ref:"scrollContainer",class:e.scrollContainerClasses,style:{height:e.height+"px"},on:{scroll:e.handleScroll,wheel:e.onWheel,touchstart:e.onPointerDown}},[t("div",{ref:"toploader",class:e.loaderClasses,style:{paddingTop:e.wrapperPadding.paddingTop}},[t("loader",{attrs:{text:e.localeLoadingText,active:e.showTopLoader}})],1),t("div",{ref:"scrollContent",class:e.slotContainerClasses},[e._t("default")],2),t("div",{ref:"bottomLoader",class:e.loaderClasses,style:{paddingBottom:e.wrapperPadding.paddingBottom}},[t("loader",{attrs:{text:e.localeLoadingText,active:e.showBottomLoader}})],1)])])},[],!1,null,null,null).exports,Mi={name:"Trigger",props:{mode:String},data:function(){return{prefix:"ivu-split-trigger",initOffset:0}},computed:{isVertical:function(){return"vertical"===this.mode},classes:function(){return[this.prefix,this.isVertical?"".concat(this.prefix,"-vertical"):"".concat(this.prefix,"-horizontal")]},barConClasses:function(){return["".concat(this.prefix,"-bar-con"),this.isVertical?"vertical":"horizontal"]}}},Mi={name:"Split",components:{Trigger:Object(t.a)(Mi,function(){var e=this._self._c;return e("div",{class:this.classes},[e("div",{class:this.barConClasses},this._m(0),0)])},[function(){var t=this,i=t._self._c;return t._l(8,function(e){return i("i",{key:"trigger-".concat(e),class:"".concat(t.prefix,"-bar")})})}],!1,null,null,null).exports},props:{value:{type:[Number,String],default:.5},mode:{validator:function(e){return Object(h.m)(e,["horizontal","vertical"])},default:"horizontal"},min:{type:[Number,String],default:"40px"},max:{type:[Number,String],default:"40px"}},data:function(){return{prefix:"ivu-split",offset:0,oldOffset:0,isMoving:!1,computedMin:0,computedMax:0,currentValue:.5}},computed:{wrapperClasses:function(){return["".concat(this.prefix,"-wrapper"),this.isMoving?"no-select":""]},paneClasses:function(){return["".concat(this.prefix,"-pane"),Object(l.a)({},"".concat(this.prefix,"-pane-moving"),this.isMoving)]},isHorizontal:function(){return"horizontal"===this.mode},anotherOffset:function(){return 100-this.offset},valueIsPx:function(){return"string"==typeof this.value},offsetSize:function(){return this.isHorizontal?"offsetWidth":"offsetHeight"}},methods:{px2percent:function(e,t){return parseFloat(e)/parseFloat(t)},getComputedThresholdValue:function(e){var t=this.$refs.outerWrapper[this.offsetSize];return this.valueIsPx?"string"==typeof this[e]?this[e]:t*this[e]:"string"==typeof this[e]?this.px2percent(this[e],t):this[e]},getMin:function(e,t){return this.valueIsPx?"".concat(Math.min(parseFloat(e),parseFloat(t)),"px"):Math.min(e,t)},getMax:function(e,t){return this.valueIsPx?"".concat(Math.max(parseFloat(e),parseFloat(t)),"px"):Math.max(e,t)},getAnotherOffset:function(e){return this.valueIsPx?"".concat(this.$refs.outerWrapper[this.offsetSize]-parseFloat(e),"px"):1-e},handleMove:function(e){var t=(this.isHorizontal?e.pageX:e.pageY)-this.initOffset,i=this.$refs.outerWrapper[this.offsetSize],t=this.valueIsPx?"".concat(parseFloat(this.oldOffset)+t,"px"):this.px2percent(i*this.oldOffset+t,i),i=this.getAnotherOffset(t);parseFloat(t)<=parseFloat(this.computedMin)&&(t=this.getMax(t,this.computedMin)),parseFloat(i)<=parseFloat(this.computedMax)&&(t=this.getAnotherOffset(this.getMax(i,this.computedMax))),e.atMin=this.value===this.computedMin,e.atMax=this.valueIsPx?this.getAnotherOffset(this.value)===this.computedMax:this.getAnotherOffset(this.value).toFixed(5)===this.computedMax.toFixed(5),this.$emit("input",t),this.$emit("on-moving",e)},handleUp:function(){this.isMoving=!1,i(document,"mousemove",this.handleMove),i(document,"mouseup",this.handleUp),this.$emit("on-move-end")},handleMousedown:function(e){this.initOffset=this.isHorizontal?e.pageX:e.pageY,this.oldOffset=this.value,this.isMoving=!0,n(document,"mousemove",this.handleMove),n(document,"mouseup",this.handleUp),this.$emit("on-move-start")},computeOffset:function(){var e=this;this.$nextTick(function(){e.computedMin=e.getComputedThresholdValue("min"),e.computedMax=e.getComputedThresholdValue("max"),e.offset=1e4*(e.valueIsPx?e.px2percent(e.value,e.$refs.outerWrapper[e.offsetSize]):e.value)/100})}},watch:{value:function(e){e!==this.currentValue&&(this.currentValue=e,this.computeOffset())}},mounted:function(){var e=this;this.$nextTick(function(){e.computeOffset()}),n(window,"resize",this.computeOffset)},beforeDestroy:function(){i(window,"resize",this.computeOffset)}},Mi=Object(t.a)(Mi,function(){var e=this,t=e._self._c;return t("div",{ref:"outerWrapper",class:e.wrapperClasses},[e.isHorizontal?t("div",{class:"".concat(e.prefix,"-horizontal")},[t("div",{staticClass:"left-pane",class:e.paneClasses,style:{right:"".concat(e.anotherOffset,"%")}},[e._t("left")],2),t("div",{class:"".concat(e.prefix,"-trigger-con"),style:{left:"".concat(e.offset,"%")},on:{mousedown:e.handleMousedown}},[e._t("trigger",function(){return[t("trigger",{attrs:{mode:"vertical"}})]})],2),t("div",{staticClass:"right-pane",class:e.paneClasses,style:{left:"".concat(e.offset,"%")}},[e._t("right")],2)]):t("div",{class:"".concat(e.prefix,"-vertical")},[t("div",{staticClass:"top-pane",class:e.paneClasses,style:{bottom:"".concat(e.anotherOffset,"%")}},[e._t("top")],2),t("div",{class:"".concat(e.prefix,"-trigger-con"),style:{top:"".concat(e.offset,"%")},on:{mousedown:e.handleMousedown}},[e._t("trigger",function(){return[t("trigger",{attrs:{mode:"horizontal"}})]})],2),t("div",{staticClass:"bottom-pane",class:e.paneClasses,style:{top:"".concat(e.offset,"%")}},[e._t("bottom")],2)])])},[],!1,null,null,null).exports,Bi="ivu-layout",D={name:"Layout",data:function(){return{hasSider:!1}},computed:{wrapClasses:function(){return["".concat(Bi),Object(l.a)({},"".concat(Bi,"-has-sider"),this.hasSider)]}},methods:{findSider:function(){return this.$children.some(function(e){return"Sider"===e.$options.name})}},mounted:function(){this.hasSider=this.findSider()}},D=Object(t.a)(D,function(){return(0,this._self._c)("div",{class:this.wrapClasses},[this._t("default")],2)},[],!1,null,null,null).exports,Fi="ivu-layout-sider";Object(h.p)();var Ri={name:"Sider",props:{value:{type:Boolean,default:!1},width:{type:[Number,String],default:200},collapsedWidth:{type:[Number,String],default:64},hideTrigger:{type:Boolean,default:!1},breakpoint:{type:String,validator:function(e){return Object(h.m)(e,["xs","sm","md","lg","xl","xxl"])}},collapsible:{type:Boolean,default:!1},defaultCollapsed:{type:Boolean,default:!1},reverseArrow:{type:Boolean,default:!1}},data:function(){return{prefixCls:Fi,mediaMatched:!1}},computed:{wrapClasses:function(){return["".concat(Fi),this.siderWidth?"":"".concat(Fi,"-zero-width"),this.value?"".concat(Fi,"-collapsed"):""]},wrapStyles:function(){return{width:"".concat(this.siderWidth,"px"),minWidth:"".concat(this.siderWidth,"px"),maxWidth:"".concat(this.siderWidth,"px"),flex:"0 0 ".concat(this.siderWidth,"px")}},triggerClasses:function(){return["".concat(Fi,"-trigger"),this.value?"".concat(Fi,"-trigger-collapsed"):""]},childClasses:function(){return"".concat(this.prefixCls,"-children")},zeroWidthTriggerClasses:function(){return["".concat(Fi,"-zero-width-trigger"),this.reverseArrow?"".concat(Fi,"-zero-width-trigger-left"):""]},triggerIconClasses:function(){return["ivu-icon","ivu-icon-ios-arrow-".concat(this.reverseArrow?"forward":"back"),"".concat(Fi,"-trigger-icon")]},siderWidth:function(){return this.collapsible?this.value?this.mediaMatched?0:parseInt(this.collapsedWidth):parseInt(this.width):this.width},showZeroTrigger:function(){return!!this.collapsible&&(this.mediaMatched&&!this.hideTrigger||0===parseInt(this.collapsedWidth)&&this.value&&!this.hideTrigger)},showBottomTrigger:function(){return!!this.collapsible&&!this.mediaMatched&&!this.hideTrigger}},methods:{toggleCollapse:function(){var e=!!this.collapsible&&!this.value;this.$emit("input",e)},matchMedia:function(){window.matchMedia&&(e=window.matchMedia);var e,t=this.mediaMatched;this.mediaMatched=e("(max-width: ".concat(h.d[this.breakpoint],")")).matches,this.mediaMatched!==t&&this.$emit("input",this.mediaMatched)},onWindowResize:function(){this.matchMedia()}},watch:{value:function(e){this.$emit("on-collapse",e)}},mounted:function(){this.defaultCollapsed&&this.$emit("input",this.defaultCollapsed),void 0!==this.breakpoint&&(n(window,"resize",this.onWindowResize),this.matchMedia())},beforeDestroy:function(){void 0!==this.breakpoint&&i(window,"resize",this.onWindowResize)}},Ri=Object(t.a)(Ri,function(){var e=this,t=e._self._c;return t("div",{class:e.wrapClasses,style:e.wrapStyles},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.showZeroTrigger,expression:"showZeroTrigger"}],class:e.zeroWidthTriggerClasses,on:{click:e.toggleCollapse}},[t("i",{staticClass:"ivu-icon ivu-icon-ios-menu"})]),t("div",{class:e.childClasses},[e._t("default")],2),e._t("trigger",function(){return[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showBottomTrigger,expression:"showBottomTrigger"}],class:e.triggerClasses,style:{width:e.siderWidth+"px"},on:{click:e.toggleCollapse}},[t("i",{class:e.triggerIconClasses})])]})],2)},[],!1,null,null,null).exports,mi=(D.Header=mi,D.Sider=Ri,D.Content=k,D.Footer=I,D),ji="ivu-list",k={name:"List",provide:function(){return{ListInstance:this}},props:{border:{type:Boolean,default:!1},itemLayout:{validator:function(e){return Object(h.m)(e,["horizontal","vertical"])},default:"horizontal"},header:{type:String,default:""},footer:{type:String,default:""},loading:{type:Boolean,default:!1},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},split:{type:Boolean,default:!0}},data:function(){return{}},computed:{classes:function(){return["".concat(ji),"".concat(ji,"-").concat(this.size),"".concat(ji,"-").concat(this.itemLayout),Object(l.a)(Object(l.a)({},"".concat(ji,"-bordered"),this.border),"".concat(ji,"-split"),this.split)]}},methods:{}},I=Object(t.a)(k,function(){var e=this,t=e._self._c;return t("div",{class:e.classes},[e.header||e.$slots.header?t("div",{staticClass:"ivu-list-header"},[e._t("header",function(){return[e._v(e._s(e.header))]})],2):e._e(),t("div",{staticClass:"ivu-list-container"},[t("ul",{staticClass:"ivu-list-items"},[e._t("default")],2)]),e.loading?t("Spin",{attrs:{fix:"",size:"large"}},[e._t("spin")],2):e._e(),e.footer||e.$slots.footer?t("div",{staticClass:"ivu-list-footer"},[e._t("footer",function(){return[e._v(e._s(e.footer))]})],2):e._e()],1)},[],!1,null,null,null).exports,D={name:"ListItem",inject:["ListInstance"],props:{},computed:{itemLayout:function(){return this.ListInstance.itemLayout},isItemContainsTextNode:function(){var t;return this.$slots.default.forEach(function(e){"string"==typeof e&&(t=!0)}),t},isFlexMode:function(){var e=this.$slots.extra;return"vertical"===this.itemLayout?!!e:!this.isItemContainsTextNode},classes:function(){return[{"ivu-list-item-no-flex":!this.isFlexMode}]}}},k=Object(t.a)(D,function(){var e=this,t=e._self._c;return t("li",{staticClass:"ivu-list-item",class:e.classes},["vertical"===e.itemLayout&&e.$slots.extra?[t("div",{staticClass:"ivu-list-item-main"},[e._t("default"),e.$slots.action?t("ul",{staticClass:"ivu-list-item-action"},[e._t("action")],2):e._e()],2),t("div",{staticClass:"ivu-list-item-extra"},[e._t("extra")],2)]:[e._t("default"),e.$slots.action?t("ul",{staticClass:"ivu-list-item-action"},[e._t("action")],2):e._e(),t("div",{staticClass:"ivu-list-item-extra"},[e._t("extra")],2)]],2)},[],!1,null,null,null).exports,D=(e("a4d3"),e("e01a"),{name:"ListItemMeta",components:{Avatar:y},props:{avatar:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""}}}),y=Object(t.a)(D,function(){var e=this,t=e._self._c;return t("div",{staticClass:"ivu-list-item-meta"},[e.avatar||e.$slots.avatar?t("div",{staticClass:"ivu-list-item-meta-avatar"},[e._t("avatar",function(){return[t("Avatar",{attrs:{src:e.avatar}})]})],2):e._e(),t("div",{staticClass:"ivu-list-item-meta-content"},[e.title||e.$slots.title?t("div",{staticClass:"ivu-list-item-meta-title"},[e._t("title",function(){return[e._v(e._s(e.title))]})],2):e._e(),e.description||e.$slots.description?t("div",{staticClass:"ivu-list-item-meta-description"},[e._t("description",function(){return[e._v(e._s(e.description))]})],2):e._e()])])},[],!1,null,null,null).exports,D=(I.Item=k,I.Item.Meta=y,I),Ui="ivu-loading-bar",k={name:"LoadingBar",props:{color:{type:String,default:"primary"},failedColor:{type:String,default:"error"},height:{type:Number,default:2}},data:function(){return{percent:0,status:"success",show:!1}},computed:{classes:function(){return"".concat(Ui)},innerClasses:function(){return["".concat(Ui,"-inner"),Object(l.a)(Object(l.a)({},"".concat(Ui,"-inner-color-primary"),"primary"===this.color&&"success"===this.status),"".concat(Ui,"-inner-failed-color-error"),"error"===this.failedColor&&"error"===this.status)]},outerStyles:function(){return{height:"".concat(this.height,"px")}},styles:function(){var e={width:"".concat(this.percent,"%"),height:"".concat(this.height,"px")};return"primary"!==this.color&&"success"===this.status&&(e.backgroundColor=this.color),"error"!==this.failedColor&&"error"===this.status&&(e.backgroundColor=this.failedColor),e}}},Vi=Object(t.a)(k,function(){var e=this._self._c;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:this.classes,style:this.outerStyles},[e("div",{class:this.innerClasses,style:this.styles})])])},[],!1,null,null,null).exports;Vi.newInstance=function(e){var t=e||{},e=new o.default({data:t,render:function(e){return e(Vi,{props:t})}}),i=e.$mount(),n=(document.body.appendChild(i.$el),e.$children[0]);return{update:function(e){"percent"in e&&(n.percent=e.percent),e.status&&(n.status=e.status),"show"in e&&(n.show=e.show)},component:n,destroy:function(){document.body.removeChild(document.getElementsByClassName("ivu-loading-bar")[0])}}};var $i,zi,Wi=Vi,Hi="primary",qi=800,Gi="error",Yi=2;function Qi(){return $i=$i||Wi.newInstance({color:Hi,failedColor:Gi,height:Yi})}function Ki(e){Qi().update(e)}function Xi(){setTimeout(function(){Ki({show:!1}),setTimeout(function(){Ki({percent:0})},200)},qi)}function Zi(){zi&&(clearInterval(zi),zi=null)}var Ji={start:function(){var e;zi||(Ki({percent:e=0,status:"success",show:!0}),zi=setInterval(function(){95<(e+=Math.floor(3*Math.random()+1))&&Zi(),Ki({percent:e,status:"success",show:!0})},200))},update:function(e){Zi(),Ki({percent:e,status:"success",show:!0})},finish:function(){Zi(),Ki({percent:100,status:"success",show:!0}),Xi()},error:function(){Zi(),Ki({percent:100,status:"error",show:!0}),Xi()},config:function(e){e.color&&(Hi=e.color),e.duration&&(qi=e.duration),e.failedColor&&(Gi=e.failedColor),e.height&&(Yi=e.height)},destroy:function(){Zi();var e=Qi();$i=null,e.destroy()}},en="ivu-menu",y={name:"Menu",mixins:[u],props:{mode:{validator:function(e){return Object(h.m)(e,["horizontal","vertical"])},default:"vertical"},theme:{validator:function(e){return Object(h.m)(e,["light","dark","primary"])},default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default:function(){return[]}},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},data:function(){return{currentActiveName:this.activeName,openedNames:[]}},computed:{classes:function(){var e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),["".concat(en),"".concat(en,"-").concat(e),Object(l.a)({},"".concat(en,"-").concat(this.mode),this.mode)]},styles:function(){var e={};return"vertical"===this.mode&&(e.width=this.width),e}},methods:{updateActiveName:function(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.broadcast("Submenu","on-update-active-name",!1),this.broadcast("MenuItem","on-update-active-name",this.currentActiveName)},updateOpenKeys:function(t){var i,n,e=Object(c.a)(this.openedNames).indexOf(t),e=(this.accordion&&Object(h.h)(this,"Submenu").forEach(function(e){e.opened=!1}),0<=e?(i=null,Object(h.h)(this,"Submenu").forEach(function(e){e.name===t&&((i=e).opened=!1)}),Object(h.i)(i,"Submenu").forEach(function(e){e.opened=!0}),Object(h.h)(i,"Submenu").forEach(function(e){e.opened=!1})):this.accordion?(n=null,Object(h.h)(this,"Submenu").forEach(function(e){e.name===t&&((n=e).opened=!0)}),Object(h.i)(n,"Submenu").forEach(function(e){e.opened=!0})):Object(h.h)(this,"Submenu").forEach(function(e){e.name===t&&(e.opened=!0)}),Object(h.h)(this,"Submenu").filter(function(e){return e.opened}).map(function(e){return e.name}));this.openedNames=Object(c.a)(e),this.$emit("on-open-change",e)},updateOpened:function(){var t=this,e=Object(h.h)(this,"Submenu");e.length&&e.forEach(function(e){-1<t.openedNames.indexOf(e.name)?e.opened=!0:e.opened=!1})},handleEmitSelectEvent:function(e){this.$emit("on-select",e)}},mounted:function(){var t=this;this.openedNames=Object(c.a)(this.openNames),this.updateOpened(),this.$nextTick(function(){return t.updateActiveName()}),this.$on("on-menu-item-select",function(e){t.currentActiveName=e,t.$emit("on-select",e)})},watch:{openNames:function(e){this.openedNames=e},activeName:function(e){this.currentActiveName=e},currentActiveName:function(){this.updateActiveName()}}},I=Object(t.a)(y,function(){return(0,this._self._c)("ul",{class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,k={data:function(){return{menu:Object(h.g)(this,"Menu")}},computed:{hasParentSubmenu:function(){return!!Object(h.g)(this,"Submenu")},parentSubmenuNum:function(){return Object(h.i)(this,"Submenu").length},mode:function(){return this.menu.mode}}},y={name:"MenuGroup",mixins:[k],props:{title:{type:String,default:""}},data:function(){return{prefixCls:"ivu-menu"}},computed:{groupStyle:function(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+28*(this.parentSubmenuNum-1)+"px"}:{}}}},y=Object(t.a)(y,function(){var e=this._self._c;return e("li",{class:[this.prefixCls+"-item-group"]},[e("div",{class:[this.prefixCls+"-item-group-title"],style:this.groupStyle},[this._v(this._s(this.title))]),e("ul",[this._t("default")],2)])},[],!1,null,null,null).exports,tn="ivu-menu",We={name:"MenuItem",mixins:[u,k,We],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1}},computed:{classes:function(){return["".concat(tn,"-item"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(tn,"-item-active"),this.active),"".concat(tn,"-item-selected"),this.active),"".concat(tn,"-item-disabled"),this.disabled)]},itemStyle:function(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}}},methods:{handleClickItem:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.disabled||(i||"_blank"===this.target?(this.handleCheckClick(e,i),(t=Object(h.g)(this,"Menu"))&&t.handleEmitSelectEvent(this.name)):(Object(h.g)(this,"Submenu")?this.dispatch("Submenu","on-menu-item-select",this.name):this.dispatch("Menu","on-menu-item-select",this.name),this.handleCheckClick(e,i)))}},mounted:function(){var t=this;this.$on("on-update-active-name",function(e){t.name===e?(t.active=!0,t.dispatch("Submenu","on-update-active-name",e)):t.active=!1})}},We=Object(t.a)(We,function(){var t=this,e=t._self._c;return t.to?e("a",{class:t.classes,style:t.itemStyle,attrs:{href:t.linkUrl,target:t.target},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handleClickItem(e,!1)},function(e){return e.ctrlKey?t.handleClickItem(e,!0):null},function(e){return e.metaKey?t.handleClickItem(e,!0):null}]}},[t._t("default")],2):e("li",{class:t.classes,style:t.itemStyle,on:{click:function(e){return e.stopPropagation(),t.handleClickItem.apply(null,arguments)}}},[t._t("default")],2)},[],!1,null,null,null).exports,nn="ivu-menu",k={name:"Submenu",mixins:[u,k],components:{Icon:s,Drop:a,CollapseTransition:ht},props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{prefixCls:nn,active:!1,opened:!1,dropWidth:parseFloat(Object(h.l)(this.$el,"width"))}},computed:{classes:function(){return["".concat(nn,"-submenu"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(nn,"-item-active"),this.active&&!this.hasParentSubmenu),"".concat(nn,"-opened"),this.opened),"".concat(nn,"-submenu-disabled"),this.disabled),"".concat(nn,"-submenu-has-parent-submenu"),this.hasParentSubmenu),"".concat(nn,"-child-item-active"),this.active)]},accordion:function(){return this.menu.accordion},dropStyle:function(){var e={};return this.dropWidth&&(e.minWidth="".concat(this.dropWidth,"px")),e},titleStyle:function(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.menu.customArrow?e="":this.$IVIEW.menu.arrow&&(e=this.$IVIEW.menu.arrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.menu.customArrow?this.$IVIEW.menu.customArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.menu.arrowSize?this.$IVIEW.menu.arrowSize:e}},methods:{handleMouseenter:function(){var e=this;this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.menu.updateOpenKeys(e.name),e.opened=!0},250))},handleMouseleave:function(){var e=this;this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.menu.updateOpenKeys(e.name),e.opened=!1},150))},handleClick:function(){var e;this.disabled||"horizontal"===this.mode||(e=this.opened,this.accordion&&this.$parent.$children.forEach(function(e){"Submenu"===e.$options.name&&(e.opened=!1)}),this.opened=!e,this.menu.updateOpenKeys(this.name))}},watch:{mode:function(e){"horizontal"===e&&this.$refs.drop.update()},opened:function(e){"vertical"!==this.mode&&(e?(this.dropWidth=parseFloat(Object(h.l)(this.$el,"width")),this.$refs.drop.update()):this.$refs.drop.destroy())}},mounted:function(){var t=this;this.$on("on-menu-item-select",function(e){return"horizontal"===t.mode&&(t.opened=!1),t.dispatch("Menu","on-menu-item-select",e),!0}),this.$on("on-update-active-name",function(e){Object(h.g)(t,"Submenu")&&t.dispatch("Submenu","on-update-active-name",e),Object(h.h)(t,"Submenu")&&Object(h.h)(t,"Submenu").forEach(function(e){e.active=!1}),t.active=e})}},a=Object(t.a)(k,function(){var t=this,e=t._self._c;return e("li",{class:t.classes,on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{ref:"reference",class:[t.prefixCls+"-submenu-title"],style:t.titleStyle,on:{click:function(e){return e.stopPropagation(),t.handleClick.apply(null,arguments)}}},[t._t("title"),e("Icon",{class:[t.prefixCls+"-submenu-title-icon"],attrs:{type:t.arrowType,custom:t.customArrowType,size:t.arrowSize}})],2),"vertical"===t.mode?e("collapse-transition",[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],class:[t.prefixCls]},[t._t("default")],2)]):e("transition",{attrs:{name:"slide-up"}},[e("Drop",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],ref:"drop",style:t.dropStyle,attrs:{placement:"bottom"}},[e("ul",{class:[t.prefixCls+"-drop-list"]},[t._t("default")],2)])],1)],1)},[],!1,null,null,null).exports,k=(I.Group=y,I.Item=We,I.Sub=a,I),y={name:"RenderCell",functional:!0,props:{render:Function},render:function(e,t){return t.props.render(e)}},We={components:{RenderCell:y},props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},type:{type:String},content:{type:String,default:""},withIcon:Boolean,render:{type:Function},hasTitle:Boolean,styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String},background:{type:Boolean,default:!1},msgType:{type:String}},data:function(){return{withDesc:!1}},computed:{baseClass:function(){return"".concat(this.prefixCls,"-notice")},renderFunc:function(){return this.render||function(){}},classes:function(){return[this.baseClass,Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(this.className),!!this.className),"".concat(this.baseClass,"-closable"),this.closable),"".concat(this.baseClass,"-with-desc"),this.withDesc),"".concat(this.baseClass,"-with-background"),this.background)]},contentClasses:function(){return["".concat(this.baseClass,"-content"),void 0!==this.render?"".concat(this.baseClass,"-content-with-render"):""]},messageContentClasses:function(){return["".concat(this.baseClass,"-content"),Object(l.a)(Object(l.a)({},"".concat(this.baseClass,"-content-").concat(this.msgType),this.msgType),"".concat(this.baseClass,"-content-background"),this.background)]},contentWithIcon:function(){return[this.withIcon?"".concat(this.prefixCls,"-content-with-icon"):"",!this.hasTitle&&this.withIcon?"".concat(this.prefixCls,"-content-with-render-notitle"):""]},messageClasses:function(){return["".concat(this.baseClass,"-content"),void 0!==this.render?"".concat(this.baseClass,"-content-with-render"):""]}},methods:{clearCloseTimer:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close:function(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)},handleEnter:function(e){"message"===this.type&&(e.style.height=e.scrollHeight+"px")},handleLeave:function(e){"message"===this.type&&1!==document.getElementsByClassName("ivu-message-notice").length&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)}},mounted:function(){var e,t=this;this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout(function(){t.close()},1e3*this.duration)),"ivu-notice"===this.prefixCls&&(e=this.$refs.content.querySelectorAll(".".concat(this.prefixCls,"-desc"))[0],this.withDesc=!!this.render||!!e&&""!==e.innerHTML)},beforeDestroy:function(){this.clearCloseTimer()}},a=Object(t.a)(We,function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:e.transitionName,appear:""},on:{enter:e.handleEnter,leave:e.handleLeave}},[t("div",{class:e.classes,style:e.styles},["notice"===e.type?[t("div",{ref:"content",class:e.contentClasses,domProps:{innerHTML:e._s(e.content)}}),t("div",{class:e.contentWithIcon},[t("render-cell",{attrs:{render:e.renderFunc}})],1),e.closable?t("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[t("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]):e._e()]:e._e(),"message"===e.type?[t("div",{ref:"content",class:e.messageContentClasses},[t("div",{class:[e.baseClass+"-content-text"],domProps:{innerHTML:e._s(e.content)}}),t("div",{class:[e.baseClass+"-content-text"]},[t("render-cell",{attrs:{render:e.renderFunc}})],1),e.closable?t("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[t("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]):e._e()])]:e._e()],2)])},[],!1,null,null,null).exports,on=0,sn=Date.now();var I={components:{Notice:a},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data:function(){return{notices:[],tIndex:this.handleGetIndex()}},computed:{classes:function(){return["".concat(this.prefixCls),Object(l.a)({},"".concat(this.className),!!this.className)]},wrapStyles:function(){var e=Object.assign({},this.styles);return e["z-index"]=1010+this.tIndex,e}},methods:{add:function(e){var t=e.name||"ivuNotification_"+sn+"_"+on++,t=Object.assign({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:t},e);this.notices.push(t),this.tIndex=this.handleGetIndex()},close:function(e){for(var t=this.notices,i=0;i<t.length;i++)if(t[i].name===e){this.notices.splice(i,1);break}},closeAll:function(){this.notices=[]},handleGetIndex:function(){return Q(),G}}},an=Object(t.a)(I,function(){var t=this,i=t._self._c;return i("div",{class:t.classes,style:t.wrapStyles},t._l(t.notices,function(e){return i("Notice",{key:e.name,attrs:{"prefix-cls":t.prefixCls,styles:e.styles,type:e.type,content:e.content,duration:e.duration,render:e.render,"has-title":e.hasTitle,withIcon:e.withIcon,closable:e.closable,name:e.name,"transition-name":e.transitionName,background:e.background,"msg-type":e.msgType,"on-close":e.onClose}})}),1)},[],!1,null,null,null).exports;an.newInstance=function(e){var t=e||{},e=new o.default({render:function(e){return e(an,{props:t})}}),i=e.$mount(),n=(document.body.appendChild(i.$el),e.$children[0]);return{notice:function(e){n.add(e)},remove:function(e){n.close(e)},component:n,destroy:function(e){n.closeAll(),setTimeout(function(){document.body.removeChild(document.getElementsByClassName(e)[0])},500)}}};var rn,ln=an,cn="ivu-message",un="ivu_message_key_",dn={top:24,duration:1.5},hn=1,pn={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle",loading:"ios-loading"};function fn(){return rn=rn||ln.newInstance({prefixCls:cn,styles:{top:"".concat(dn.top,"px")}})}var mn={name:"Message",info:function(e){return this.message("info",e)},success:function(e){return this.message("success",e)},warning:function(e){return this.message("warning",e)},error:function(e){return this.message("error",e)},loading:function(e){return this.message("loading",e)},message:function(e,t){return function(e,t,i,n,o,s,a){var r,e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:dn.duration,i=2<arguments.length?i:void 0,n=3<arguments.length&&void 0!==n?n:function(){},o=4<arguments.length&&void 0!==o&&o,s=5<arguments.length&&void 0!==s?s:function(){},a=6<arguments.length&&void 0!==a&&a,l=pn[i],c="loading"===i?" ivu-load-loop":"",u=fn();return u.notice({name:"".concat(un).concat(hn),duration:t,styles:{},transitionName:"move-up",content:'\n            <div class="'.concat(cn,"-custom-content ").concat(cn,"-").concat(i,'">\n                <i class="').concat("ivu-icon"," ").concat("ivu-icon","-").concat(l," ").concat(c,'"></i>\n                <span>').concat(e,"</span>\n            </div>\n        "),render:s,onClose:n,closable:o,type:"message",msgType:i,background:a}),r=hn++,function(){u.remove("".concat(un).concat(r))}}((t="string"==typeof t?{content:t}:t).content,t.duration,e,t.onClose,t.closable,t.render,t.background)},config:function(e){!e.top&&0!==e.top||(dn.top=e.top),!e.duration&&0!==e.duration||(dn.duration=e.duration)},destroy:function(){var e=fn();rn=null,e.destroy("ivu-message")}},E="ivu-modal",gn={x:null,y:null,dragX:null,dragY:null,dragging:!1,rect:null},We={name:"Modal",mixins:[p,u,T],components:{Icon:U,iButton:Ye},directives:{TransferDom:r},props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:function(){return!this.$IVIEW||""===this.$IVIEW.modal.maskClosable||this.$IVIEW.modal.maskClosable}},title:{type:String},width:{type:[Number,String],default:520},okText:{type:String},cancelText:{type:String},loading:{type:Boolean,default:!1},styles:{type:Object,default:function(){return{}}},className:{type:String},footerHide:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},transitionNames:{type:Array,default:function(){return["ease","fade"]}},transfer:{type:Boolean,default:function(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},fullscreen:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},stickyDistance:{type:Number,default:10},resetDragPosition:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3},beforeClose:Function},data:function(){return{prefixCls:E,wrapShow:!1,showHead:!0,buttonLoading:!1,visible:this.value,dragData:Object(h.c)(gn),modalIndex:this.handleGetModalIndex(),isMouseTriggerIn:!1}},computed:{wrapClasses:function(){return["".concat(E,"-wrap"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(E,"-hidden"),!this.wrapShow),"".concat(this.className),!!this.className),"".concat(E,"-no-mask"),!this.showMask)]},wrapStyles:function(){return{zIndex:this.modalIndex+this.zIndex}},maskClasses:function(){return"".concat(E,"-mask")},classes:function(){return["".concat(E),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(E,"-fullscreen"),this.fullscreen),"".concat(E,"-fullscreen-no-header"),this.fullscreen&&!this.showHead),"".concat(E,"-fullscreen-no-footer"),this.fullscreen&&this.footerHide)]},contentClasses:function(){return["".concat(E,"-content"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(E,"-content-no-mask"),!this.showMask),"".concat(E,"-content-drag"),this.draggable&&!this.fullscreen),"".concat(E,"-content-dragging"),this.draggable&&this.dragData.dragging)]},mainStyles:function(){var e={},t=parseInt(this.width),t=null!==this.dragData.x?{top:0}:{width:"".concat(t,t<=100?"%":"px")},i=this.styles||{};return Object.assign(e,t,i),e},contentStyles:function(){var e,t,i={};return this.draggable&&!this.fullscreen&&(t=this.styles.top?parseFloat(this.styles.top):0,e=this.styles.left?parseFloat(this.styles.left):0,null!==this.dragData.x&&(i.left="".concat(this.dragData.x-e,"px")),null!==this.dragData.y&&(i.top="".concat(this.dragData.y,"px")),null!==this.dragData.y&&(i.top="".concat(this.dragData.y-t,"px")),e=parseInt(this.width),t={width:"".concat(e,e<=100?"%":"px")},Object.assign(i,t)),i},localeOkText:function(){return void 0===this.okText?this.t("i.modal.okText"):this.okText},localeCancelText:function(){return void 0===this.cancelText?this.t("i.modal.cancelText"):this.cancelText},showMask:function(){return this.mask}},methods:{close:function(){var e=this;if(!this.beforeClose)return this.handleClose();var t=this.beforeClose();t&&t.then?t.then(function(){e.handleClose()}):this.handleClose()},handleClose:function(){this.visible=!1,this.$emit("input",!1),this.$emit("on-cancel")},handleMask:function(){this.maskClosable&&this.showMask&&this.close()},handleWrapClick:function(e){this.isMouseTriggerIn?this.isMouseTriggerIn=!1:(e=e.target.getAttribute("class"))&&-1<e.indexOf("".concat(E,"-wrap"))&&this.handleMask()},handleMousedown:function(){this.isMouseTriggerIn=!0},cancel:function(){this.close()},ok:function(){this.loading?this.buttonLoading=!0:(this.visible=!1,this.$emit("input",!1)),this.$emit("on-ok")},EscClose:function(e){var t;this.visible&&this.closable&&27===e.keyCode&&(t=Object(h.h)(this.$root,"Modal").filter(function(e){return e.$data.visible&&e.$props.closable}).sort(function(e,t){return e.$data.modalIndex<t.$data.modalIndex?1:-1})[0],setTimeout(function(){t.close()},0))},animationFinish:function(){this.$emit("on-hidden")},handleMoveStart:function(e){if(!this.draggable||this.fullscreen)return!1;var t=this.$refs.content.getBoundingClientRect(),t=(this.dragData.rect=t,this.dragData.x=t.x||t.left,this.dragData.y=t.y||t.top,{x:e.clientX,y:e.clientY});this.dragData.dragX=t.x,this.dragData.dragY=t.y,this.dragData.dragging=!0,n(window,"mousemove",this.handleMoveMove),n(window,"mouseup",this.handleMoveEnd)},handleMoveMove:function(e){if(!this.dragData.dragging||this.fullscreen)return!1;var t,i,e={x:e.clientX,y:e.clientY},n=e.x-this.dragData.dragX,o=e.y-this.dragData.dragY;this.sticky?(t=document.documentElement.clientWidth,i=document.documentElement.clientHeight,this.dragData.x+n<=this.stickyDistance&&n<0?this.dragData.x=0:this.dragData.x+this.dragData.rect.width-t>-this.stickyDistance&&0<n?this.dragData.x=t-this.dragData.rect.width:this.dragData.x+=n,this.dragData.y+o<=this.stickyDistance&&o<0?this.dragData.y=0:this.dragData.y+this.dragData.rect.height-i>-this.stickyDistance&&0<o?this.dragData.y=i-this.dragData.rect.height:this.dragData.y+=o):(this.dragData.x+=n,this.dragData.y+=o),this.dragData.dragX=e.x,this.dragData.dragY=e.y},handleMoveEnd:function(){this.dragData.dragging=!1,i(window,"mousemove",this.handleMoveMove),i(window,"mouseup",this.handleMoveEnd)},handleGetModalIndex:function(){return Q(),G},handleClickModal:function(){this.draggable&&(Y!==this.lastVisibleIndex?this.lastVisibleIndex=Y:this.modalIndex=this.handleGetModalIndex())}},mounted:function(){this.visible&&(this.wrapShow=!0);var e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,document.addEventListener("keydown",this.EscClose)},beforeDestroy:function(){document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},watch:{value:function(e){this.visible=e},visible:function(e){var t=this;!1===e?(this.buttonLoading=!1,this.timer=setTimeout(function(){t.wrapShow=!1,t.removeScrollEffect()},300)):(this.lastVisible!==e&&(this.modalIndex=this.handleGetModalIndex(),Y++),this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e),this.lastVisible=e,this.lastVisibleIndex=Y,e&&this.resetDragPosition&&(this.dragData=Object(h.c)(gn))},loading:function(e){e||(this.buttonLoading=!1)},scrollable:function(e){e?this.removeScrollEffect():this.addScrollEffect()},title:function(e){void 0===this.$slots.header&&(this.showHead=!!e)}}},yn=Object(t.a)(We,function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":t.transfer}},[e("transition",{attrs:{name:t.transitionNames[1]}},[t.showMask?e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.maskClasses,style:t.wrapStyles,on:{click:t.handleMask}}):t._e()]),e("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleWrapClick}},[e("transition",{attrs:{name:t.transitionNames[0]},on:{"after-leave":t.animationFinish}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.classes,style:t.mainStyles,on:{mousedown:t.handleMousedown}},[e("div",{ref:"content",class:t.contentClasses,style:t.contentStyles,on:{click:t.handleClickModal}},[t.closable?e("a",{class:[t.prefixCls+"-close"],on:{click:t.close}},[t._t("close",function(){return[e("Icon",{attrs:{type:"ios-close"}})]})],2):t._e(),t.showHead?e("div",{class:[t.prefixCls+"-header"],on:{mousedown:t.handleMoveStart}},[t._t("header",function(){return[e("div",{class:[t.prefixCls+"-header-inner"]},[t._v(t._s(t.title))])]})],2):t._e(),e("div",{class:[t.prefixCls+"-body"]},[t._t("default")],2),t.footerHide?t._e():e("div",{class:[t.prefixCls+"-footer"]},[t._t("footer",function(){return[e("i-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.cancel.apply(null,arguments)}}},[t._v(t._s(t.localeCancelText))]),e("i-button",{attrs:{type:"primary",loading:t.buttonLoading},nativeOn:{click:function(e){return t.ok.apply(null,arguments)}}},[t._v(t._s(t.localeOkText))])]})],2)])])])],1)],1)},[],!1,null,null,null).exports,vn="ivu-modal-confirm";yn.newInstance=function(e){var s=e||{},e=new o.default({mixins:[p],data:Object.assign({},s,{visible:!1,width:416,title:"",body:"",iconType:"",iconName:"",okText:void 0,cancelText:void 0,showCancel:!1,loading:!1,buttonLoading:!1,scrollable:!1,closable:!1,closing:!1}),render:function(e){var t,i,n=this,o=[];return this.showCancel&&o.push(e(Ye,{props:{type:"text"},on:{click:this.cancel}},this.localeCancelText)),o.push(e(Ye,{props:{type:"primary",loading:this.buttonLoading},on:{click:this.ok}},this.localeOkText)),t=this.render?e("div",{attrs:{class:"".concat(vn,"-body ").concat(vn,"-body-render")}},[this.render(e)]):e("div",{attrs:{class:"".concat(vn,"-body")}},[e("div",{domProps:{innerHTML:this.body}})]),this.title&&(i=e("div",{attrs:{class:"".concat(vn,"-head")}},[e("div",{class:this.iconTypeCls},[e("i",{class:this.iconNameCls})]),e("div",{attrs:{class:"".concat(vn,"-head-title")},domProps:{innerHTML:this.title}})])),e(yn,{props:Object.assign({},s,{width:this.width,scrollable:this.scrollable,closable:this.closable}),domProps:{value:this.visible},on:{input:function(e){n.visible=e},"on-cancel":this.cancel}},[e("div",{attrs:{class:vn}},[i,t,e("div",{attrs:{class:"".concat(vn,"-footer")}},o)])])},computed:{iconTypeCls:function(){return["".concat(vn,"-head-icon"),"".concat(vn,"-head-icon-").concat(this.iconType)]},iconNameCls:function(){return["ivu-icon","ivu-icon-".concat(this.iconName)]},localeOkText:function(){return this.okText||this.t("i.modal.okText")},localeCancelText:function(){return this.cancelText||this.t("i.modal.cancelText")}},methods:{cancel:function(){this.closing||(this.$children[0].visible=!1,this.buttonLoading=!1,this.onCancel(),this.remove())},ok:function(){this.closing||(this.loading?this.buttonLoading=!0:(this.$children[0].visible=!1,this.remove()),this.onOk())},remove:function(){var e=this;this.closing=!0,setTimeout(function(){e.closing=!1,e.destroy()},300)},destroy:function(){this.$destroy(),this.$el&&document.body.removeChild(this.$el),this.onRemove()},onOk:function(){},onCancel:function(){},onRemove:function(){}}}),t=e.$mount(),i=(document.body.appendChild(t.$el),e.$children[0]);return{show:function(e){switch(i.$parent.showCancel=e.showCancel,i.$parent.iconType=e.icon,e.icon){case"info":i.$parent.iconName="ios-information-circle";break;case"success":i.$parent.iconName="ios-checkmark-circle";break;case"warning":i.$parent.iconName="ios-alert";break;case"error":i.$parent.iconName="ios-close-circle";break;case"confirm":i.$parent.iconName="ios-help-circle"}"width"in e&&(i.$parent.width=e.width),"closable"in e&&(i.$parent.closable=e.closable),"title"in e&&(i.$parent.title=e.title),"content"in e&&(i.$parent.body=e.content),"okText"in e&&(i.$parent.okText=e.okText),"cancelText"in e&&(i.$parent.cancelText=e.cancelText),"onCancel"in e&&(i.$parent.onCancel=e.onCancel),"onOk"in e&&(i.$parent.onOk=e.onOk),"loading"in e&&(i.$parent.loading=e.loading),"scrollable"in e&&(i.$parent.scrollable=e.scrollable),i.$parent.onRemove=e.onRemove,i.visible=!0},remove:function(){i.visible=!1,i.$parent.buttonLoading=!1,i.$parent.remove()},component:i}};var bn,wn=yn;function Sn(e,t){return bn=bn||wn.newInstance({closable:!1,maskClosable:!1,footerHide:!0,render:0<arguments.length&&void 0!==e?e:void 0,lockScroll:!(1<arguments.length&&void 0!==t)||t})}function _n(e){var t=Sn("render"in e?e.render:void 0,!("lockScroll"in e)||e.lockScroll);e.onRemove=function(){bn=null},t.show(e)}wn.info=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.icon="info",e.showCancel=!1,_n(e)},wn.success=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.icon="success",e.showCancel=!1,_n(e)},wn.warning=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.icon="warning",e.showCancel=!1,_n(e)},wn.error=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.icon="error",e.showCancel=!1,_n(e)},wn.confirm=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.icon="confirm",e.showCancel=!0,_n(e)},wn.remove=function(){if(!bn)return!1;Sn().remove()};var Cn,kn=wn,xn="ivu-notice",Tn=24,In=4.5,Pn=1,An={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle"};function Dn(){return Cn=Cn||ln.newInstance({prefixCls:xn,styles:{top:"".concat(Tn,"px"),right:0}})}function En(e,t){var i=t.title||"",n=t.desc||"",o=t.name||"".concat("ivu_notice_key_").concat(Pn),s=t.onClose||function(){},a=t.render,r=0===t.duration?0:t.duration||In;Pn++;var l,c,u,d=Dn(),t=(!t.render||i)&&(n||t.render)?" ".concat(xn,"-with-desc"):"";t=("normal"==e?(u=!1,'\n            <div class="'.concat(xn,"-custom-content ").concat(xn,"-with-normal ").concat(t,'">\n                <div class="')):(l=An[e],c=""===t?"":"-outline",u=!0,'\n            <div class="'.concat(xn,"-custom-content ").concat(xn,"-with-icon ").concat(xn,"-with-").concat(e," ").concat(t,'">\n                <span class="').concat(xn,"-icon ").concat(xn,"-icon-").concat(e,'">\n                    <i class="').concat("ivu-icon"," ").concat("ivu-icon","-").concat(l).concat(c,'"></i>\n                </span>\n                <div class="'))).concat(xn,'-title">').concat(i,'</div>\n                <div class="').concat(xn,'-desc">').concat(n,"</div>\n            </div>\n        "),d.notice({name:o.toString(),duration:r,styles:{},transitionName:"move-notice",content:t,withIcon:u,render:a,hasTitle:!!i,onClose:s,closable:!0,type:"notice"})}var On={open:function(e){return En("normal",e)},info:function(e){return En("info",e)},success:function(e){return En("success",e)},warning:function(e){return En("warning",e)},error:function(e){return En("error",e)},config:function(e){e.top&&(Tn=e.top),!e.duration&&0!==e.duration||(In=e.duration)},close:function(e){if(!e)return!1;e=e.toString(),Cn&&Cn.remove(e)},destroy:function(){var e=Dn();Cn=null,e.destroy("ivu-notice")}},Ln="ivu-page";var a={name:"PageOption",mixins:[p],components:{iSelect:ge,iOption:xe},props:{pageSizeOpts:Array,showSizer:Boolean,showElevator:Boolean,current:Number,_current:Number,pageSize:Number,allPages:Number,isSmall:Boolean,placement:String,transfer:Boolean,disabled:Boolean,eventsEnabled:Boolean},data:function(){return{currentPageSize:this.pageSize}},watch:{pageSize:function(e){this.currentPageSize=e}},computed:{size:function(){return this.isSmall?"small":"default"},optsClasses:function(){return["".concat(Ln,"-options")]},sizerClasses:function(){return["".concat(Ln,"-options-sizer")]},ElevatorClasses:function(){return["".concat(Ln,"-options-elevator")]}},methods:{changeSize:function(){this.$emit("on-size",this.currentPageSize)},changePage:function(e){var t,i=e.target.value.trim(),n=0;/^[1-9][0-9]*$/.test(i+"")?(i=Number(i))!=this.current&&(n=(t=this.allPages)<i?t:i):n=1,n&&(this.$emit("on-page",n),e.target.value=n)}}},I=Object(t.a)(a,function(){var t=this,i=t._self._c;return t.showSizer||t.showElevator?i("div",{class:t.optsClasses},[t.showSizer?i("div",{class:t.sizerClasses},[i("i-select",{attrs:{size:t.size,placement:t.placement,transfer:t.transfer,disabled:t.disabled,eventsEnabled:t.eventsEnabled},on:{"on-change":t.changeSize},model:{value:t.currentPageSize,callback:function(e){t.currentPageSize=e},expression:"currentPageSize"}},t._l(t.pageSizeOpts,function(e){return i("i-option",{key:e,staticStyle:{"text-align":"center"},attrs:{value:e}},[t._v(t._s(e)+" "+t._s(t.t("i.page.page")))])}),1)],1):t._e(),t.showElevator?i("div",{class:t.ElevatorClasses},[t._v(" "+t._s(t.t("i.page.goto"))+" "),i("input",{attrs:{type:"text",autocomplete:"off",spellcheck:"false",disabled:t.disabled},domProps:{value:t._current},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePage.apply(null,arguments)}}}),t._v(" "+t._s(t.t("i.page.p"))+" ")]):t._e()]):t._e()},[],!1,null,null,null).exports,O="ivu-page",T={name:"Page",mixins:[p],components:{Options:I},props:{current:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageSizeOpts:{type:Array,default:function(){return[10,20,30,40]}},placement:{validator:function(e){return Object(h.m)(e,["top","bottom"])},default:"bottom"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},size:{validator:function(e){return Object(h.m)(e,["small","default"])}},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showElevator:{type:Boolean,default:!1},showSizer:{type:Boolean,default:!1},className:{type:String},styles:{type:Object},prevText:{type:String,default:""},nextText:{type:String,default:""},disabled:{type:Boolean,default:!1},eventsEnabled:{type:Boolean,default:!1}},data:function(){return{prefixCls:O,currentPage:this.current,currentPageSize:this.pageSize}},watch:{total:function(e){e=Math.ceil(e/this.currentPageSize);e<this.currentPage&&(this.currentPage=0===e?1:e)},current:function(e){this.currentPage=e},pageSize:function(e){this.currentPageSize=e}},computed:{isSmall:function(){return"small"===this.size},allPages:function(){var e=Math.ceil(this.total/this.currentPageSize);return 0===e?1:e},simpleWrapClasses:function(){return["".concat(O),"".concat(O,"-simple"),Object(l.a)({},"".concat(this.className),!!this.className)]},simplePagerClasses:function(){return"".concat(O,"-simple-pager")},wrapClasses:function(){return["".concat(O),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(this.className),!!this.className),"".concat(O,"-with-disabled"),this.disabled),"mini","small"===this.size)]},prevClasses:function(){return["".concat(O,"-prev"),Object(l.a)(Object(l.a)({},"".concat(O,"-disabled"),1===this.currentPage||this.disabled),"".concat(O,"-custom-text"),""!==this.prevText)]},nextClasses:function(){return["".concat(O,"-next"),Object(l.a)(Object(l.a)({},"".concat(O,"-disabled"),this.currentPage===this.allPages||this.disabled),"".concat(O,"-custom-text"),""!==this.nextText)]},firstPageClasses:function(){return["".concat(O,"-item"),Object(l.a)({},"".concat(O,"-item-active"),1===this.currentPage)]},lastPageClasses:function(){return["".concat(O,"-item"),Object(l.a)({},"".concat(O,"-item-active"),this.currentPage===this.allPages)]}},methods:{changePage:function(e){this.disabled||this.currentPage!=e&&(this.currentPage=e,this.$emit("update:current",e),this.$emit("on-change",e))},prev:function(){if(!this.disabled){var e=this.currentPage;if(e<=1)return!1;this.changePage(e-1),this.$emit("on-prev",e-1)}},next:function(){if(!this.disabled){var e=this.currentPage;if(e>=this.allPages)return!1;this.changePage(e+1),this.$emit("on-next",e+1)}},fastPrev:function(){var e;this.disabled||(0<(e=this.currentPage-5)?this.changePage(e):this.changePage(1))},fastNext:function(){var e;this.disabled||((e=this.currentPage+5)>this.allPages?this.changePage(this.allPages):this.changePage(e))},onSize:function(e){this.disabled||(this.currentPageSize=e,this.$emit("on-page-size-change",e),this.changePage(1))},onPage:function(e){this.disabled||this.changePage(e)},keyDown:function(e){var t=e.keyCode;48<=t&&t<=57||96<=t&&t<=105||8===t||37===t||39===t||e.preventDefault()},keyUp:function(e){var t=e.keyCode,i=parseInt(e.target.value);38===t?this.prev():40===t?this.next():13===t&&(t=1,t=i>this.allPages?this.allPages:i<=0||!i?1:i,e.target.value=t,this.changePage(t))}}},We=Object(t.a)(T,function(){var t=this,e=t._self._c;return t.simple?e("ul",{class:t.simpleWrapClasses,style:t.styles},[e("li",{class:t.prevClasses,attrs:{title:t.t("i.page.prev")},on:{click:t.prev}},[t._m(0)]),e("div",{class:t.simplePagerClasses,attrs:{title:t.currentPage+"/"+t.allPages}},[e("input",{attrs:{type:"text",autocomplete:"off",spellcheck:"false",disabled:t.disabled},domProps:{value:t.currentPage},on:{keydown:t.keyDown,keyup:t.keyUp,change:t.keyUp}}),e("span",[t._v("/")]),t._v(" "+t._s(t.allPages)+" ")]),e("li",{class:t.nextClasses,attrs:{title:t.t("i.page.next")},on:{click:t.next}},[t._m(1)])]):e("ul",{class:t.wrapClasses,style:t.styles},[t.showTotal?e("span",{class:[t.prefixCls+"-total"]},[t._t("default",function(){return[t._v(t._s(t.t("i.page.total"))+" "+t._s(t.total)+" "),t.total<=1?[t._v(t._s(t.t("i.page.item")))]:[t._v(t._s(t.t("i.page.items")))]]})],2):t._e(),e("li",{class:t.prevClasses,attrs:{title:t.t("i.page.prev")},on:{click:t.prev}},[e("a",[""!==t.prevText?[t._v(t._s(t.prevText))]:e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})],2)]),e("li",{class:t.firstPageClasses,attrs:{title:"1"},on:{click:function(e){return t.changePage(1)}}},[e("a",[t._v("1")])]),5<t.currentPage?e("li",{class:[t.prefixCls+"-item-jump-prev"],attrs:{title:t.t("i.page.prev5")},on:{click:t.fastPrev}},[t._m(2)]):t._e(),5===t.currentPage?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage-3},on:{click:function(e){return t.changePage(t.currentPage-3)}}},[e("a",[t._v(t._s(t.currentPage-3))])]):t._e(),1<t.currentPage-2?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage-2},on:{click:function(e){return t.changePage(t.currentPage-2)}}},[e("a",[t._v(t._s(t.currentPage-2))])]):t._e(),1<t.currentPage-1?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage-1},on:{click:function(e){return t.changePage(t.currentPage-1)}}},[e("a",[t._v(t._s(t.currentPage-1))])]):t._e(),1!=t.currentPage&&t.currentPage!=t.allPages?e("li",{class:[t.prefixCls+"-item",t.prefixCls+"-item-active"],attrs:{title:t.currentPage}},[e("a",[t._v(t._s(t.currentPage))])]):t._e(),t.currentPage+1<t.allPages?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage+1},on:{click:function(e){return t.changePage(t.currentPage+1)}}},[e("a",[t._v(t._s(t.currentPage+1))])]):t._e(),t.currentPage+2<t.allPages?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage+2},on:{click:function(e){return t.changePage(t.currentPage+2)}}},[e("a",[t._v(t._s(t.currentPage+2))])]):t._e(),t.allPages-t.currentPage==4?e("li",{class:[t.prefixCls+"-item"],attrs:{title:t.currentPage+3},on:{click:function(e){return t.changePage(t.currentPage+3)}}},[e("a",[t._v(t._s(t.currentPage+3))])]):t._e(),5<=t.allPages-t.currentPage?e("li",{class:[t.prefixCls+"-item-jump-next"],attrs:{title:t.t("i.page.next5")},on:{click:t.fastNext}},[t._m(3)]):t._e(),1<t.allPages?e("li",{class:t.lastPageClasses,attrs:{title:t.allPages},on:{click:function(e){return t.changePage(t.allPages)}}},[e("a",[t._v(t._s(t.allPages))])]):t._e(),e("li",{class:t.nextClasses,attrs:{title:t.t("i.page.next")},on:{click:t.next}},[e("a",[""!==t.nextText?[t._v(t._s(t.nextText))]:e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})],2)]),e("Options",{attrs:{"show-sizer":t.showSizer,"page-size":t.currentPageSize,"page-size-opts":t.pageSizeOpts,placement:t.placement,transfer:t.transfer,"show-elevator":t.showElevator,_current:t.currentPage,current:t.currentPage,disabled:t.disabled,"all-pages":t.allPages,"is-small":t.isSmall,eventsEnabled:t.eventsEnabled},on:{"on-size":t.onSize,"on-page":t.onPage}})],1)},[function(){var e=this._self._c;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})])},function(){var e=this._self._c;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})])},function(){var e=this._self._c;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"}),e("i",{staticClass:"ivu-icon ivu-icon-ios-more"})])},function(){var e=this._self._c;return e("a",[e("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"}),e("i",{staticClass:"ivu-icon ivu-icon-ios-more"})])}],!1,null,null,null).exports,Nn=o.default.prototype.$isServer,Mn=Nn?function(){}:e("d2e4"),a={props:{eventsEnabled:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:Object,popper:Object,offset:{default:0},value:{type:Boolean,default:!1},transition:String,options:{type:Object,default:function(){return{modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}}},data:function(){return{visible:this.value}},watch:{value:{immediate:!0,handler:function(e){this.visible=e,this.$emit("input",e)}},visible:function(e){e?(this.handleIndexIncrease&&this.handleIndexIncrease(),this.updatePopper(),this.$emit("on-popper-show")):this.$emit("on-popper-hide"),this.$emit("input",e)}},methods:{createPopper:function(){var e,t,i,n=this;!Nn&&/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)&&(e=this.options,t=this.popper||this.$refs.popper,i=this.reference||this.$refs.reference,t)&&i&&(this.popperJS&&this.popperJS.hasOwnProperty("destroy")&&this.popperJS.destroy(),e.eventsEnabled=this.eventsEnabled,e.placement=this.placement,e.modifiers.offset||(e.modifiers.offset={}),e.modifiers.offset.offset=this.offset,e.onCreate=function(){n.$nextTick(n.updatePopper),n.$emit("created",n)},this.popperJS=new Mn(i,t,e))},updatePopper:function(){Nn||(this.popperJS?this.popperJS.update():this.createPopper())},doDestroy:function(){Nn||this.visible||(this.popperJS.destroy(),this.popperJS=null)}},updated:function(){var e=this;this.$nextTick(function(){return e.updatePopper()})},beforeDestroy:function(){Nn||this.popperJS&&this.popperJS.destroy()}},Bn="ivu-poptip",I={name:"Poptip",mixins:[a,p],directives:{clickOutside:it,TransferDom:r},components:{iButton:Ye},props:{trigger:{validator:function(e){return Object(h.m)(e,["click","focus","hover"])},default:"click"},placement:{validator:function(e){return Object(h.m)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"top"},title:{type:[String,Number]},content:{type:[String,Number],default:""},width:{type:[String,Number]},confirm:{type:Boolean,default:!1},okText:{type:String},cancelText:{type:String},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},popperClass:{type:String},wordWrap:{type:Boolean,default:!1},padding:{type:String},disabled:{type:Boolean,default:!1},capture:{type:Boolean,default:function(){return!!this.$IVIEW&&this.$IVIEW.capture}},transferClassName:{type:String}},data:function(){return{prefixCls:Bn,showTitle:!0,isInput:!1,disableCloseUnderTransfer:!1,tIndex:this.handleGetIndex()}},computed:{classes:function(){return["".concat(Bn),Object(l.a)({},"".concat(Bn,"-confirm"),this.confirm)]},popperClasses:function(){return["".concat(Bn,"-popper"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Bn,"-confirm"),this.transfer&&this.confirm),"".concat(this.popperClass),!!this.popperClass),Bn+"-transfer",this.transfer),this.transferClassName,this.transferClassName)]},styles:function(){var e={};return this.width&&(e.width="".concat(this.width,"px")),this.transfer&&(e["z-index"]=1060+this.tIndex),e},localeOkText:function(){return void 0===this.okText?this.t("i.poptip.okText"):this.okText},localeCancelText:function(){return void 0===this.cancelText?this.t("i.poptip.cancelText"):this.cancelText},contentClasses:function(){return["".concat(Bn,"-body-content"),Object(l.a)({},"".concat(Bn,"-body-content-word-wrap"),this.wordWrap)]},contentPaddingStyle:function(){var e={};return""!==this.padding&&(e.padding=this.padding),e}},methods:{handleClick:function(){if(!this.disabled)return this.confirm?(this.visible=!this.visible,!0):"click"===this.trigger&&void(this.visible=!this.visible)},handleTransferClick:function(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose:function(){return this.disableCloseUnderTransfer?this.disableCloseUnderTransfer=!1:this.confirm?!(this.visible=!1):"click"===this.trigger&&void(this.visible=!1)},handleFocus:function(){if(!this.disabled)return!("focus"!==this.trigger||this.confirm||this.isInput&&!(!(0<arguments.length&&void 0!==arguments[0])||arguments[0]))&&void(this.visible=!0)},handleBlur:function(){if("focus"!==this.trigger||this.confirm||this.isInput&&!(!(0<arguments.length&&void 0!==arguments[0])||arguments[0]))return!1;this.visible=!1},handleMouseenter:function(){var e=this;if(!this.disabled){if("hover"!==this.trigger||this.confirm)return!1;this.enterTimer&&clearTimeout(this.enterTimer),this.enterTimer=setTimeout(function(){e.visible=!0},100)}},handleMouseleave:function(){var e=this;if("hover"!==this.trigger||this.confirm)return!1;this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=setTimeout(function(){e.visible=!1},100))},cancel:function(){this.visible=!1,this.$emit("on-cancel")},ok:function(){this.visible=!1,this.$emit("on-ok")},getInputChildren:function(){var e=this.$refs.reference.querySelectorAll("input"),t=this.$refs.reference.querySelectorAll("textarea"),i=null;return e.length?i=e[0]:t.length&&(i=t[0]),i},handleGetIndex:function(){return Q(),G},handleIndexIncrease:function(){this.tIndex=this.handleGetIndex()}},mounted:function(){var t=this;this.confirm||(this.showTitle=void 0!==this.$slots.title||this.title),"focus"===this.trigger&&this.$nextTick(function(){var e=t.getInputChildren();e&&(t.isInput=!0,e.addEventListener("focus",t.handleFocus,!1),e.addEventListener("blur",t.handleBlur,!1))})},beforeDestroy:function(){var e=this.getInputChildren();e&&(e.removeEventListener("focus",this.handleFocus,!1),e.removeEventListener("blur",this.handleBlur,!1))}},T=Object(t.a)(I,function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleClose,expression:"handleClose"}],class:t.classes,on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{ref:"reference",class:[t.prefixCls+"-rel"],on:{click:t.handleClick,mousedown:function(e){return t.handleFocus(!1)},mouseup:function(e){return t.handleBlur(!1)}}},[t._t("default")],2),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:t.popperClasses,style:t.styles,attrs:{"data-transfer":t.transfer},on:{click:t.handleTransferClick,mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[e("div",{class:[t.prefixCls+"-content"]},[e("div",{class:[t.prefixCls+"-arrow"]}),t.confirm?e("div",{class:[t.prefixCls+"-inner"]},[e("div",{class:[t.prefixCls+"-body"]},[e("i",{staticClass:"ivu-icon ivu-icon-ios-help-circle"}),e("div",{class:[t.prefixCls+"-body-message"]},[t._t("title",function(){return[t._v(t._s(t.title))]})],2)]),e("div",{class:[t.prefixCls+"-footer"]},[e("i-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return t.cancel.apply(null,arguments)}}},[t._v(t._s(t.localeCancelText))]),e("i-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.ok.apply(null,arguments)}}},[t._v(t._s(t.localeOkText))])],1)]):t._e(),t.confirm?t._e():e("div",{class:[t.prefixCls+"-inner"]},[t.showTitle?e("div",{ref:"title",class:[t.prefixCls+"-title"],style:t.contentPaddingStyle},[t._t("title",function(){return[e("div",{class:[t.prefixCls+"-title-inner"]},[t._v(t._s(t.title))])]})],2):t._e(),e("div",{class:[t.prefixCls+"-body"],style:t.contentPaddingStyle},[e("div",{class:t.contentClasses},[t._t("content",function(){return[e("div",{class:[t.prefixCls+"-body-content-inner"]},[t._v(t._s(t.content))])]})],2)])])])])])],1)},[],!1,null,null,null).exports,it=T,Fn="ivu-progress",I={name:"Progress",components:{Icon:U},props:{percent:{type:Number,default:0},successPercent:{type:Number,default:0},status:{validator:function(e){return Object(h.m)(e,["normal","active","wrong","success"])},default:"normal"},hideInfo:{type:Boolean,default:!1},strokeWidth:{type:Number,default:10},vertical:{type:Boolean,default:!1},strokeColor:{type:[String,Array]},textInside:{type:Boolean,default:!1}},data:function(){return{currentStatus:this.status}},computed:{isStatus:function(){return"wrong"==this.currentStatus||"success"==this.currentStatus},statusIcon:function(){var e="";switch(this.currentStatus){case"wrong":e="ios-close-circle";break;case"success":e="ios-checkmark-circle"}return e},bgStyle:function(){var e=this.vertical?{height:"".concat(this.percent,"%"),width:"".concat(this.strokeWidth,"px")}:{width:"".concat(this.percent,"%"),height:"".concat(this.strokeWidth,"px")};return this.strokeColor&&("string"==typeof this.strokeColor?e["background-color"]=this.strokeColor:e["background-image"]="linear-gradient(to right, ".concat(this.strokeColor[0]," 0%, ").concat(this.strokeColor[1]," 100%)")),e},successBgStyle:function(){return this.vertical?{height:"".concat(this.successPercent,"%"),width:"".concat(this.strokeWidth,"px")}:{width:"".concat(this.successPercent,"%"),height:"".concat(this.strokeWidth,"px")}},wrapClasses:function(){return["".concat(Fn),"".concat(Fn,"-").concat(this.currentStatus),Object(l.a)(Object(l.a)({},"".concat(Fn,"-show-info"),!this.hideInfo&&!this.textInside),"".concat(Fn,"-vertical"),this.vertical)]},textClasses:function(){return"".concat(Fn,"-text")},textInnerClasses:function(){return"".concat(Fn,"-text-inner")},outerClasses:function(){return"".concat(Fn,"-outer")},innerClasses:function(){return"".concat(Fn,"-inner")},bgClasses:function(){return"".concat(Fn,"-bg")},successBgClasses:function(){return"".concat(Fn,"-success-bg")}},created:function(){this.handleStatus()},methods:{handleStatus:function(e){e?(this.currentStatus="normal",this.$emit("on-status-change","normal")):100==parseInt(this.percent,10)&&(this.currentStatus="success",this.$emit("on-status-change","success"))}},watch:{percent:function(e,t){e<t?this.handleStatus(!0):this.handleStatus()},status:function(e){this.currentStatus=e}}},I=Object(t.a)(I,function(){var e=this,t=e._self._c;return t("div",{class:e.wrapClasses},[t("div",{class:e.outerClasses},[t("div",{class:e.innerClasses},[t("div",{class:e.bgClasses,style:e.bgStyle},[e.textInside?t("div",{staticClass:"ivu-progress-inner-text"},[e._v(e._s(e.percent)+"%")]):e._e()]),t("div",{class:e.successBgClasses,style:e.successBgStyle})])]),e.hideInfo||e.textInside?e._e():t("span",{class:e.textClasses},[e._t("default",function(){return[e.isStatus?t("span",{class:e.textInnerClasses},[t("Icon",{attrs:{type:e.statusIcon}})],1):t("span",{class:e.textInnerClasses},[e._v(" "+e._s(e.percent)+"% ")])]})],2)])},[],!1,null,null,null).exports,Rn=I,L="ivu-radio",jn={name:"Radio",mixins:[u,d],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},border:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value,group:!1,groupName:this.name,parent:Object(h.g)(this,"RadioGroup"),focusWrapper:!1,focusInner:!1}},computed:{wrapClasses:function(){return["".concat(L,"-wrapper"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(L,"-group-item"),this.group),"".concat(L,"-wrapper-checked"),this.currentValue),"".concat(L,"-wrapper-disabled"),this.itemDisabled),"".concat(L,"-").concat(this.size),!!this.size),"".concat(L,"-focus"),this.focusWrapper),"".concat(L,"-border"),this.border)]},radioClasses:function(){return["".concat(L),Object(l.a)(Object(l.a)({},"".concat(L,"-checked"),this.currentValue),"".concat(L,"-disabled"),this.itemDisabled)]},innerClasses:function(){return["".concat(L,"-inner"),Object(l.a)({},"".concat(L,"-focus"),this.focusInner)]},inputClasses:function(){return"".concat(L,"-input")}},mounted:function(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match Radio Group name."):this.groupName=this.parent.name),(this.group?this.parent:this).updateValue()},methods:{change:function(e){if(this.itemDisabled)return!1;e=e.target.checked,e=(this.currentValue=e)?this.trueValue:this.falseValue;this.$emit("input",e),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}):(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))},updateValue:function(){this.currentValue=this.value===this.trueValue},onBlur:function(){this.focusWrapper=!1,this.focusInner=!1},onFocus:function(){this.group&&"button"===this.parent.type?this.focusWrapper=!0:this.focusInner=!0}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateValue()}}},jn=Object(t.a)(jn,function(){var e=this,t=e._self._c;return t("label",{class:e.wrapClasses},[t("span",{class:e.radioClasses},[t("span",{class:e.innerClasses}),t("input",{class:e.inputClasses,attrs:{type:"radio",disabled:e.itemDisabled,name:e.groupName},domProps:{checked:e.currentValue},on:{change:e.change,focus:e.onFocus,blur:e.onBlur}})]),e._t("default",function(){return[e._v(e._s(e.label))]})],2)},[],!1,null,null,null).exports,Un="ivu-radio-group",Vn=0,$n=Date.now(),zn={name:"RadioGroup",mixins:[u],props:{value:{type:[String,Number],default:""},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},type:{validator:function(e){return Object(h.m)(e,["button"])}},vertical:{type:Boolean,default:!1},name:{type:String,default:function(){return"ivuRadioGroup_".concat($n,"_").concat(Vn++)}},buttonStyle:{validator:function(e){return Object(h.m)(e,["default","solid"])},default:"default"}},data:function(){return{currentValue:this.value,children:[]}},computed:{classes:function(){return["".concat(Un),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Un,"-").concat(this.size),!!this.size),"ivu-radio-".concat(this.size),!!this.size),"".concat(Un,"-").concat(this.type),!!this.type),"".concat(Un,"-button-").concat(this.buttonStyle),"button"===this.type&&"default"!==this.buttonStyle),"".concat(Un,"-vertical"),this.vertical)]}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var t=this;this.children=Object(h.h)(this,"Radio"),this.children&&this.children.forEach(function(e){e.currentValue=t.currentValue===e.label,e.group=!0})},change:function(e){this.currentValue=e.value,this.updateValue(),this.$emit("input",e.value),this.$emit("on-change",e.value),this.dispatch("FormItem","on-form-change",e.value)}},watch:{value:function(){var e=this;this.currentValue!==this.value&&(this.currentValue=this.value,this.$nextTick(function(){e.updateValue()}))}}},zn=Object(t.a)(zn,function(){return(0,this._self._c)("div",{class:this.classes,attrs:{name:this.name}},[this._t("default")],2)},[],!1,null,null,null).exports,zn=(jn.Group=zn,jn),Wn="ivu-rate",jn={name:"Rate",mixins:[p,u,d],components:{Icon:s},props:{count:{type:Number,default:5},value:{type:Number,default:0},allowHalf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},name:{type:String},clearable:{type:Boolean,default:!1},character:{type:String,default:""},icon:{type:String,default:""},customIcon:{type:String,default:""}},data:function(){var e=this.value||0;return{prefixCls:Wn,hoverIndex:-1,isHover:!1,isHalf:this.allowHalf&&0<=e.toString().indexOf("."),currentValue:e}},computed:{classes:function(){return["".concat(Wn),Object(l.a)({},"".concat(Wn,"-disabled"),this.itemDisabled)]},iconClasses:function(){return["ivu-icon",Object(l.a)(Object(l.a)({},"ivu-icon-".concat(this.icon),""!==this.icon),"".concat(this.customIcon),""!==this.customIcon)]},showCharacter:function(){return""!==this.character||""!==this.icon||""!==this.customIcon}},watch:{value:function(e){this.currentValue=e||0},currentValue:function(e){this.setHalf(e)}},methods:{starCls:function(e){var t=this.hoverIndex,t=this.isHover?t:this.currentValue,i=!1;return e<=t&&(i=!0),t=this.isHover?t===e:Math.ceil(this.currentValue)===e,[Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Wn,"-star"),!this.showCharacter),"".concat(Wn,"-star-chart"),this.showCharacter),"".concat(Wn,"-star-full"),!t&&i||t&&!this.isHalf),"".concat(Wn,"-star-half"),t&&this.isHalf),"".concat(Wn,"-star-zero"),!i)]},handleMousemove:function(e,t){this.itemDisabled||(this.isHover=!0,this.allowHalf?(t=t.target.getAttribute("type")||!1,this.isHalf="half"===t):this.isHalf=!1,this.hoverIndex=e)},handleMouseleave:function(){this.itemDisabled||(this.isHover=!1,this.setHalf(this.currentValue),this.hoverIndex=-1)},setHalf:function(e){this.isHalf=this.allowHalf&&0<=e.toString().indexOf(".")},handleClick:function(e){this.itemDisabled||(this.isHalf&&(e-=.5),this.clearable&&Math.abs(e-this.currentValue)<.01&&(e=0),this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}}},jn=Object(t.a)(jn,function(){var i=this,e=i._self._c;return e("div",{class:i.classes,on:{mouseleave:i.handleMouseleave}},[e("input",{attrs:{type:"hidden",name:i.name},domProps:{value:i.currentValue}}),i._l(i.count,function(t){return e("div",{key:t,class:i.starCls(t),on:{mousemove:function(e){return i.handleMousemove(t,e)},click:function(e){return i.handleClick(t)}}},[i.showCharacter?[e("span",{class:[i.prefixCls+"-star-first"],attrs:{type:"half"}},[""!==i.character?[i._v(i._s(i.character))]:e("i",{class:i.iconClasses,attrs:{type:"half"}})],2),e("span",{class:[i.prefixCls+"-star-second"]},[""!==i.character?[i._v(i._s(i.character))]:e("i",{class:i.iconClasses})],2)]:[e("span",{class:[i.prefixCls+"-star-content"],attrs:{type:"half"}})]],2)}),i.showText?e("div",{directives:[{name:"show",rawName:"v-show",value:0<i.currentValue,expression:"currentValue > 0"}],class:[i.prefixCls+"-text"]},[i._t("default",function(){return[e("span",[i._v(i._s(i.currentValue))]),i._v(" "),i.currentValue<=1?e("span",[i._v(i._s(i.t("i.rate.star")))]):e("span",[i._v(i._s(i.t("i.rate.stars")))])]})],2):i._e()],2)},[],!1,null,null,null).exports,Hn="ivu-tooltip",r={name:"Tooltip",directives:{TransferDom:r},mixins:[a],props:{placement:{validator:function(e){return Object(h.m)(e,["top","auto","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},content:{type:[String,Number],default:""},delay:{type:Number,default:100},disabled:{type:Boolean,default:!1},controlled:{type:Boolean,default:!1},always:{type:Boolean,default:!1},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},theme:{validator:function(e){return Object(h.m)(e,["dark","light"])},default:"dark"},maxWidth:{type:[String,Number]},transferClassName:{type:String}},data:function(){return{prefixCls:Hn,tIndex:this.handleGetIndex()}},computed:{innerStyles:function(){var e={};return this.maxWidth&&(e["max-width"]="".concat(this.maxWidth,"px")),e},innerClasses:function(){return["".concat(Hn,"-inner"),Object(l.a)({},"".concat(Hn,"-inner-with-width"),!!this.maxWidth)]},dropStyles:function(){var e={};return this.transfer&&(e["z-index"]=1060+this.tIndex),e},dropdownCls:function(){return["".concat(Hn,"-popper"),"".concat(Hn,"-").concat(this.theme),Object(l.a)(Object(l.a)({},Hn+"-transfer",this.transfer),this.transferClassName,this.transferClassName)]}},watch:{content:function(){this.updatePopper()}},methods:{handleShowPopper:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.visible=!0},this.delay),this.tIndex=this.handleGetIndex()},handleClosePopper:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.controlled||(this.timeout=setTimeout(function(){e.visible=!1},100)))},handleGetIndex:function(){return Q(),G}},mounted:function(){this.always&&this.updatePopper()}},a=Object(t.a)(r,function(){var e=this,t=e._self._c;return t("div",{class:[e.prefixCls],on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[t("div",{ref:"reference",class:[e.prefixCls+"-rel"]},[e._t("default")],2),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&(e.visible||e.always),expression:"!disabled && (visible || always)"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:e.dropdownCls,style:e.dropStyles,attrs:{"data-transfer":e.transfer},on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[t("div",{class:[e.prefixCls+"-content"]},[t("div",{class:[e.prefixCls+"-arrow"]}),t("div",{class:e.innerClasses,style:e.innerStyles},[e._t("content",function(){return[e._v(e._s(e.content))]})],2)])])])],1)},[],!1,null,null,null).exports,r={name:"SliderMarker",props:{mark:{type:[String,Object]}},render:function(e){var t="string"==typeof this.mark?this.mark:[this.mark.label];return e("div",{class:"ivu-slider-marks-item",style:this.mark.style||{}},t)}},qn=e("eec4"),Gn=e.n(qn),Yn="ivu-slider",qn={name:"Slider",mixins:[u,d],components:{InputNumber:xi,Tooltip:a,SliderMarker:r},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},range:{type:Boolean,default:!1},value:{type:[Number,Array],default:0},disabled:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},inputSize:{type:String,default:"default",validator:function(e){return Object(h.m)(e,["small","large","default"])}},showStops:{type:Boolean,default:!1},tipFormat:{type:Function,default:function(e){return e}},showTip:{type:String,default:"hover",validator:function(e){return Object(h.m)(e,["hover","always","never"])}},name:{type:String},activeChange:{type:Boolean,default:!0},marks:{type:Object}},data:function(){var e=this.checkLimits(Array.isArray(this.value)?this.value:[this.value]);return this.range&&null===this.value&&(e=[0,0]),{prefixCls:Yn,currentValue:e,dragging:!1,pointerDown:"",startX:0,currentX:0,startPos:0,oldValue:Object(c.a)(e),valueIndex:{min:0,max:1},sliderWidth:0,isValueNull:!1}},watch:{value:function(e){null===e&&(this.isValueNull=!0),e=this.checkLimits(Array.isArray(e)?e:[e]),this.dragging||e[0]===this.currentValue[0]&&e[1]===this.currentValue[1]||(this.isValueNull&&this.range?this.currentValue=[0,0]:this.currentValue=e)},exportValue:function(e){var t=this,e=(this.$nextTick(function(){t.$refs.minTooltip.updatePopper(),t.range&&t.$refs.maxTooltip.updatePopper()}),this.range?e:e[0]);this.isValueNull?(this.isValueNull=!1,this.$emit("input",null)):this.$emit("input",e),this.$emit("on-input",e)}},computed:{classes:function(){return["".concat(Yn),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Yn,"-input"),this.showInput&&!this.range),"".concat(Yn,"-range"),this.range),"".concat(Yn,"-disabled"),this.itemDisabled)]},minButtonClasses:function(){return["".concat(Yn,"-button"),Object(l.a)({},"".concat(Yn,"-button-dragging"),"min"===this.pointerDown)]},maxButtonClasses:function(){return["".concat(Yn,"-button"),Object(l.a)({},"".concat(Yn,"-button-dragging"),"max"===this.pointerDown)]},exportValue:function(){var t=(String(this.step).split(".")[1]||"").length;return this.currentValue.map(function(e){return Number(e.toFixed(t))})},minPosition:function(){return(this.currentValue[0]-this.min)/this.valueRange*100},maxPosition:function(){return(this.currentValue[1]-this.min)/this.valueRange*100},barStyle:function(){var e={width:(this.currentValue[0]-this.min)/this.valueRange*100+"%"};return this.range&&(e.left=(this.currentValue[0]-this.min)/this.valueRange*100+"%",e.width=(this.currentValue[1]-this.currentValue[0])/this.valueRange*100+"%"),e},stops:function(){for(var e=this.valueRange/this.step,t=[],i=100*this.step/this.valueRange,n=1;n<e;n++)t.push(n*i);return t},markList:function(){var t=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(e,t){return e-t}).filter(function(e){return e<=t.max&&e>=t.min}).map(function(e){return{point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}}):[]},tipDisabled:function(){return null===this.tipFormat(this.currentValue[0])||"never"===this.showTip},valueRange:function(){return this.max-this.min},firstPosition:function(){return this.currentValue[0]},secondPosition:function(){return this.currentValue[1]}},methods:{getPointerX:function(e){return(-1!==e.type.indexOf("touch")?e.touches[0]:e).clientX},checkLimits:function(e){var e=Object(H.a)(e,2),t=e[0],e=e[1],t=Math.max(this.min,t);return t=Math.min(this.max,t),e=Math.max(this.min,t,e),[t,Math.min(this.max,e)]},getCurrentValue:function(e,t){if(!this.itemDisabled){t=this.valueIndex[t];if(void 0!==t)return this.currentValue[t]}},onKeyLeft:function(e,t){e=this.getCurrentValue(e,t);Number.isFinite(e)&&this.changeButtonPosition(e-this.step,t)},onKeyRight:function(e,t){e=this.getCurrentValue(e,t);Number.isFinite(e)&&this.changeButtonPosition(e+this.step,t)},onPointerDown:function(e,t){this.itemDisabled||(e.preventDefault(),this.pointerDown=t,this.onPointerDragStart(e),n(window,"mousemove",this.onPointerDrag),n(window,"touchmove",this.onPointerDrag),n(window,"mouseup",this.onPointerDragEnd),n(window,"touchend",this.onPointerDragEnd))},onPointerDragStart:function(e){this.dragging=!1,this.startX=this.getPointerX(e),this.startPos=this["".concat(this.pointerDown,"Position")]*this.valueRange/100+this.min},onPointerDrag:function(e){this.dragging=!0,this.$refs["".concat(this.pointerDown,"Tooltip")].visible=!0,this.currentX=this.getPointerX(e);e=(this.currentX-this.startX)/this.sliderWidth*this.valueRange;this.changeButtonPosition(this.startPos+e)},onPointerDragEnd:function(){this.dragging&&(this.dragging=!1,this.$refs["".concat(this.pointerDown,"Tooltip")].visible=!1,this.emitChange()),this.pointerDown="",i(window,"mousemove",this.onPointerDrag),i(window,"touchmove",this.onPointerDrag),i(window,"mouseup",this.onPointerDragEnd),i(window,"touchend",this.onPointerDragEnd)},changeButtonPosition:function(e,t){var t=t||this.pointerDown,i="min"===t?0:1,n=(e="min"===t?this.checkLimits([e,this.max])[0]:this.checkLimits([this.min,e])[1],this.handleDecimal(e,this.step)),o=this.currentValue;o[i]=e-n,this.range&&("min"===t&&o[0]>o[1]&&(o[1]=o[0]),"max"===t)&&o[0]>o[1]&&(o[0]=o[1]),this.currentValue=Object(c.a)(o),this.dragging||this.currentValue[i]!==this.oldValue[i]&&(this.emitChange(),this.oldValue[i]=this.currentValue[i])},handleDecimal:function(e,t){if(t<1){var i,n=t.toString();try{i=n.split(".")[1].length}catch(e){i=0}return e*(n=Math.pow(10,i))%(t*n)/n}return e%t},emitChange:function(){var e=this.range?this.exportValue:this.exportValue[0];this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)},sliderClick:function(e){var t;this.itemDisabled||(t=(e=(this.getPointerX(e)-this.$refs.slider.getBoundingClientRect().left)/this.sliderWidth*this.valueRange+this.min)/this.valueRange*100,!this.range||t<=this.minPosition?this.changeButtonPosition(e,"min"):t>=this.maxPosition?this.changeButtonPosition(e,"max"):this.changeButtonPosition(e,e-this.firstPosition<=this.secondPosition-e?"min":"max"))},handleInputChange:function(e){this.currentValue=[0===e?0:e||this.min,this.currentValue[1]],this.emitChange()},handleFocus:function(e){this.$refs["".concat(e,"Tooltip")].handleShowPopper()},handleBlur:function(e){this.$refs["".concat(e,"Tooltip")].handleClosePopper()},handleSetSliderWidth:function(){this.sliderWidth=parseInt(Object(h.l)(this.$refs.slider,"width"),10)}},mounted:function(){var t=this;this.$on("on-visible-change",function(e){e&&"always"===t.showTip&&(t.$refs.minTooltip.doDestroy(),t.range&&t.$refs.maxTooltip.doDestroy(),t.$nextTick(function(){t.$refs.minTooltip.updatePopper(),t.range&&t.$refs.maxTooltip.updatePopper()}))}),this.observer=Gn()(),this.observer.listenTo(this.$refs.slider,this.handleSetSliderWidth)},beforeDestroy:function(){this.observer.removeListener(this.$refs.slider,this.handleSetSliderWidth)}},xi=Object(t.a)(qn,function(){var i=this,n=i._self._c;return n("div",{class:i.classes},[!i.range&&i.showInput?n("Input-number",{attrs:{min:i.min,size:i.inputSize,max:i.max,step:i.step,value:i.exportValue[0],disabled:i.itemDisabled,"active-change":i.activeChange},on:{"on-change":i.handleInputChange}}):i._e(),n("div",{ref:"slider",class:[i.prefixCls+"-wrap"],on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick.apply(null,arguments)}}},[n("input",{attrs:{type:"hidden",name:i.name},domProps:{value:i.exportValue}}),n("div",{class:[i.prefixCls+"-bar"],style:i.barStyle,on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick.apply(null,arguments)}}}),i.showStops?i._l(i.stops,function(e){return n("div",{class:[i.prefixCls+"-stop"],style:{left:e+"%"},on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick.apply(null,arguments)}}})}):i._e(),0<i.markList.length?[i._l(i.markList,function(e,t){return n("div",{key:t,class:[i.prefixCls+"-stop"],style:{left:e.position+"%"},on:{click:function(e){return e.target!==e.currentTarget?null:i.sliderClick.apply(null,arguments)}}})}),n("div",{staticClass:"ivu-slider-marks"},i._l(i.markList,function(e,t){return n("SliderMarker",{key:t,style:{left:e.position+"%"},attrs:{mark:e.mark},nativeOn:{click:function(e){return i.sliderClick.apply(null,arguments)}}})}),1)]:i._e(),n("div",{class:[i.prefixCls+"-button-wrap"],style:{left:i.minPosition+"%"},on:{touchstart:function(e){return i.onPointerDown(e,"min")},mousedown:function(e){return i.onPointerDown(e,"min")}}},[n("Tooltip",{ref:"minTooltip",attrs:{controlled:"min"===i.pointerDown,placement:"top",content:i.tipFormat(i.exportValue[0]),disabled:i.tipDisabled,always:"always"===i.showTip}},[n("div",{class:i.minButtonClasses,attrs:{tabindex:"0"},on:{focus:function(e){return i.handleFocus("min")},blur:function(e){return i.handleBlur("min")},keydown:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:i.onKeyLeft(e,"min")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:i.onKeyLeft(e,"min")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:i.onKeyRight(e,"min")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:i.onKeyRight(e,"min")}]}})])],1),i.range?n("div",{class:[i.prefixCls+"-button-wrap"],style:{left:i.maxPosition+"%"},on:{touchstart:function(e){return i.onPointerDown(e,"max")},mousedown:function(e){return i.onPointerDown(e,"max")}}},[n("Tooltip",{ref:"maxTooltip",attrs:{controlled:"max"===i.pointerDown,placement:"top",content:i.tipFormat(i.exportValue[1]),disabled:i.tipDisabled,always:"always"===i.showTip}},[n("div",{class:i.maxButtonClasses,attrs:{tabindex:"0"},on:{focus:function(e){return i.handleFocus("max")},blur:function(e){return i.handleBlur("max")},keydown:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:i.onKeyLeft(e,"max")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:i.onKeyLeft(e,"max")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:i.onKeyRight(e,"max")},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:i.onKeyRight(e,"max")}]}})])],1):i._e()],2)],1)},[],!1,null,null,null).exports;function Qn(){return Q(),G}var Kn=Qn();Di.newInstance=function(e){var e=new o.default({data:Object.assign({},e||{},{}),render:function(e){var t=this.render?e(Di,{props:{fix:!0,fullscreen:!0}},[this.render(e)]):e(Di,{props:{size:"large",fix:!0,fullscreen:!0}});return e("div",{class:"ivu-spin-fullscreen ivu-spin-fullscreen-wrapper",style:{"z-index":2010+Kn}},[t])}}),t=e.$mount(),i=(document.body.appendChild(t.$el),e.$children[0]);return{show:function(){i.visible=!0,Kn=Qn()},remove:function(e){i.visible=!1,setTimeout(function(){i.$parent.$destroy(),void 0!==document.getElementsByClassName("ivu-spin-fullscreen")[0]&&document.body.removeChild(document.getElementsByClassName("ivu-spin-fullscreen")[0]),e()},500)},component:i}};var Xn,Zn=Di;function Jn(e){return Xn=Xn||Zn.newInstance({render:0<arguments.length&&void 0!==e?e:void 0})}Zn.show=function(){var e;Jn("render"in(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})?e.render:void 0).show(e)},Zn.hide=function(){if(!Xn)return!1;Jn().remove(function(){Xn=null})};var eo=Zn,to="ivu-steps";var r={name:"Steps",props:{current:{type:Number,default:0},status:{validator:function(e){return Object(h.m)(e,["wait","process","finish","error"])},default:"process"},size:{validator:function(e){return Object(h.m)(e,["small"])}},direction:{validator:function(e){return Object(h.m)(e,["horizontal","vertical"])},default:"horizontal"}},computed:{classes:function(){return["".concat(to),"".concat(to,"-").concat(this.direction),Object(l.a)({},"".concat(to,"-").concat(this.size),!!this.size)]}},methods:{updateChildProps:function(i){var n=this,o=this.$children.length;this.$children.forEach(function(e,t){e.stepNumber=t+1,"horizontal"===n.direction&&(e.total=o),i&&e.currentStatus||(t===n.current?"error"!==n.status&&(e.currentStatus="process"):t<n.current?e.currentStatus="finish":e.currentStatus="wait"),"error"!==e.currentStatus&&0!==t&&(n.$children[t-1].nextError=!1)})},setNextError:function(){var i=this;this.$children.forEach(function(e,t){"error"===e.currentStatus&&0!==t&&(i.$children[t-1].nextError=!0)})},updateCurrent:function(e){this.current<0||this.current>=this.$children.length||e&&this.$children[this.current].currentStatus||(this.$children[this.current].currentStatus=this.status)},debouncedAppendRemove:function(){return i=function(){this.updateSteps()},function(){var e,t;n||(n=!0,e=this,t=arguments,this.$nextTick(function(){n=!1,i.apply(e,t)}))};var i,n},updateSteps:function(){this.updateChildProps(!0),this.setNextError(),this.updateCurrent(!0)}},mounted:function(){this.updateSteps(),this.$on("append",this.debouncedAppendRemove()),this.$on("remove",this.debouncedAppendRemove())},watch:{current:function(){this.updateChildProps()},status:function(){this.updateCurrent()}}},qn=Object(t.a)(r,function(){return(0,this._self._c)("div",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,io="ivu-steps",r={name:"Step",mixins:[u],props:{status:{validator:function(e){return Object(h.m)(e,["wait","process","finish","error"])}},title:{type:String,default:""},content:{type:String},icon:{type:String}},data:function(){return{prefixCls:io,stepNumber:"",nextError:!1,total:1,currentStatus:""}},computed:{wrapClasses:function(){return["".concat(io,"-item"),"".concat(io,"-status-").concat(this.currentStatus),Object(l.a)(Object(l.a)({},"".concat(io,"-custom"),!!this.icon||!!this.$slots.icon),"".concat(io,"-next-error"),this.nextError)]},iconClasses:function(){var e="";return this.icon?e=this.icon:"finish"===this.currentStatus?e="ios-checkmark":"error"===this.currentStatus&&(e="ios-close"),["".concat(io,"-icon"),"".concat("ivu-icon"),Object(l.a)({},"".concat("ivu-icon","-").concat(e),""!==e)]}},watch:{status:function(e){this.currentStatus=e,"error"===this.currentStatus&&this.$parent.setNextError()}},created:function(){this.currentStatus=this.status},mounted:function(){this.dispatch("Steps","append")},beforeDestroy:function(){this.dispatch("Steps","remove")}},r=Object(t.a)(r,function(){var e=this,t=e._self._c;return t("div",{class:e.wrapClasses},[t("div",{class:[e.prefixCls+"-tail"]},[t("i")]),t("div",{class:[e.prefixCls+"-head"]},[t("div",{class:[e.prefixCls+"-head-inner"]},[e.icon||e.$slots.icon||"finish"===e.currentStatus||"error"===e.currentStatus?e.$slots.icon?t("span",{staticClass:"ivu-steps-icon"},[e._t("icon")],2):t("span",{class:e.iconClasses}):t("span",[e._v(e._s(e.stepNumber))])])]),t("div",{class:[e.prefixCls+"-main"]},[t("div",{class:[e.prefixCls+"-title"]},[e._t("title",function(){return[e._v(e._s(e.title))]})],2),e.content||e.$slots.content?t("div",{class:[e.prefixCls+"-content"]},[e._t("content",function(){return[e._v(e._s(e.content))]})],2):e._e()])])},[],!1,null,null,null).exports;qn.Step=r;function no(e,t,i){var n=i.separator,o=i.quoted,i=t.map(function(e){return o?(e="string"==typeof e?e.replace(/"/g,'"'):e,'"'.concat(e,'"')):e});e.push(i.join(n))}var r=qn,oo="ivu-switch",qn={name:"iSwitch",mixins:[u,d],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},size:{validator:function(e){return Object(h.m)(e,["large","small","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},loading:{type:Boolean,default:!1},trueColor:{type:String},falseColor:{type:String},beforeChange:Function},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){return["".concat(oo),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(oo,"-checked"),this.currentValue===this.trueValue),"".concat(oo,"-disabled"),this.itemDisabled),"".concat(oo,"-").concat(this.size),!!this.size),"".concat(oo,"-loading"),this.loading)]},wrapStyles:function(){var e={};return this.trueColor&&this.currentValue===this.trueValue?(e["border-color"]=this.trueColor,e["background-color"]=this.trueColor):this.falseColor&&this.currentValue===this.falseValue&&(e["border-color"]=this.falseColor,e["background-color"]=this.falseColor),e},innerClasses:function(){return"".concat(oo,"-inner")}},methods:{handleToggle:function(){var e=this.currentValue===this.trueValue?this.falseValue:this.trueValue;this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)},toggle:function(e){var t=this;return e.preventDefault(),!this.itemDisabled&&!this.loading&&(this.beforeChange?void((e=this.beforeChange())&&e.then?e.then(function(){t.handleToggle()}):this.handleToggle()):this.handleToggle())}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue&&null!==e)throw"Value should be trueValue or falseValue.";this.currentValue=e}}},qn=Object(t.a)(qn,function(){var t=this,e=t._self._c;return e("span",{class:t.wrapClasses,style:t.wrapStyles,attrs:{tabindex:"0"},on:{click:t.toggle,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.toggle.apply(null,arguments)}}},[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.currentValue}}),e("span",{class:t.innerClasses},[t.currentValue===t.trueValue?t._t("open"):t._e(),t.currentValue===t.falseValue?t._t("close"):t._e()],2)])},[],!1,null,null,null).exports,so=(e("6062"),e("1e70"),e("79a4"),e("c1a1"),e("8b00"),e("a4e7"),e("1e5a"),e("72c3"),e("c7cd"),{name:"TableRenderHeader",functional:!0,props:{render:Function,column:Object,index:Number},render:function(e,t){var i={column:t.props.column,index:t.props.index};return t.props.render(e,i)}}),ao={methods:{alignCls:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i="";return t.cellClassName&&e.key&&t.cellClassName[e.key]&&(i=t.cellClassName[e.key]),["".concat(this.prefixCls,"-column-").concat(e.__id),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(i),i),"".concat(e.className),e.className),"".concat(this.prefixCls,"-column-").concat(e.align),e.align),"".concat(this.prefixCls,"-hidden"),"left"===this.fixed&&"left"!==e.fixed||"right"===this.fixed&&"right"!==e.fixed||!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed))]},isPopperShow:function(e){return e.filters&&(!this.fixed&&!e.fixed||"left"===this.fixed&&"left"===e.fixed||"right"===this.fixed&&"right"===e.fixed)},setCellWidth:function(e){var t="";return e.width?t=e.width:this.columnsWidth[e._index]&&(t=this.columnsWidth[e._index].width),t="0"===t?"":t}}},w={name:"TableHead",mixins:[ao,p],components:{CheckboxGroup:w,Checkbox:v,Poptip:T,iButton:Ye,renderHeader:so},props:{prefixCls:String,styleObject:Object,columns:Array,objData:Object,data:Array,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1},columnRows:Array,fixedColumnRows:Array},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}},computed:{styles:function(){var e=Object.assign({},this.styleObject),t=parseInt(this.styleObject.width);return e.width="".concat(t,"px"),e},isSelectAll:function(){var e,t=!0,i=(this.data.length||(t=!1),!0);for(e in this.objData){var n=this.objData[e];if(!n._isChecked&&!n._isDisabled){t=!1;break}n.children&&n.children.length&&(t=this.isChildrenSelected(n,t)),!n._isDisabled||n._isChecked?i=!1:n.children&&n.children.length&&(i=this.isChildrenAllDisabledAndUnSelected(n,i))}return t=i?!1:t},headRows:function(){return 1<this.columnRows.length?this.fixed?this.fixedColumnRows:this.columnRows:[this.columns]},isSelectDisabled:function(){var e=!0;if(this.data.length)for(var t in this.objData){t=this.objData[t];t._isDisabled?t.children&&t.children.length&&(e=this.isChildrenDisabled(t,e)):e=!1}return e}},methods:{cellClasses:function(e){return["".concat(this.prefixCls,"-cell"),Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-hidden"),!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed)),"".concat(this.prefixCls,"-cell-with-selection"),"selection"===e.type)]},scrollBarCellClass:function(){var e,t=!1;for(e in this.headRows)for(var i in this.headRows[e]){if("right"===this.headRows[e][i].fixed){t=!0;break}if(t)break}return[Object(l.a)({},"".concat(this.prefixCls,"-hidden"),t)]},itemClasses:function(e,t){return["".concat(this.prefixCls,"-filter-select-item"),Object(l.a)({},"".concat(this.prefixCls,"-filter-select-item-selected"),e._filterChecked[0]===t.value)]},itemAllClasses:function(e){return["".concat(this.prefixCls,"-filter-select-item"),Object(l.a)({},"".concat(this.prefixCls,"-filter-select-item-selected"),!e._filterChecked.length)]},selectAll:function(){var e=!this.isSelectAll;this.$parent.selectAll(e)},handleSort:function(t,e){var i=this.columns.find(function(e){return e._index===t}),n=i._index;this.$parent.handleSort(n,e=i._sortType===e?"normal":e)},handleSortByHead:function(t){var e=this.columns.find(function(e){return e._index===t});e.sortable&&("normal"===(e=e._sortType)?this.handleSort(t,"asc"):"asc"===e?this.handleSort(t,"desc"):this.handleSort(t,"normal"))},handleFilter:function(e){this.$parent.handleFilter(e)},handleSelect:function(e,t){this.$parent.handleFilterSelect(e,t)},handleReset:function(e){this.$parent.handleFilterReset(e)},handleFilterHide:function(e){this.$parent.handleFilterHide(e)},getColumn:function(e,t){var i;return 1<this.columnRows.length?(i=this.headRows[e][t].__id,this.columns.filter(function(e){return e.__id===i})[0]):this.headRows[e][t]},handleMouseDown:function(o,s){var a,e,t,i,r,l,c,u=this;!this.$isServer&&this.draggingColumn&&(this.dragging=!0,e=(a=this.$parent).$el.getBoundingClientRect().left,t=this.$el.querySelector("th.ivu-table-column-".concat(o.__id)).getBoundingClientRect(),i=t.left-e+30,a.showResizeLine=!0,this.dragState={startMouseLeft:s.clientX,startLeft:t.right-e,startColumnLeft:t.left-e,tableLeft:e},(r=a.$refs.resizeLine).style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},l=function(e){e=e.clientX-u.dragState.startMouseLeft,e=u.dragState.startLeft+e;r.style.left=Math.max(i,e)+"px"},c=function(){var e,t,i,n;u.dragging&&(e=(t=u.dragState).startColumnLeft,t=t.startLeft,i=parseInt(r.style.left,10)-e,(n=a.columns.find(function(e){return e.__id===o.__id}))&&(n.width=i),a.$emit("on-column-width-resize",n.width,t-e,o,s),document.body.style.cursor="",u.dragging=!1,u.draggingColumn=null,u.dragState={},a.showResizeLine=!1),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c),document.onselectstart=null,document.ondragstart=null},document.addEventListener("mousemove",l),document.addEventListener("mouseup",c))},handleMouseMove:function(e,t){for(var i,n,o=t.target;o&&"TH"!==o.tagName;)o=o.parentNode;e&&e.resizable&&!this.dragging&&(i=o.getBoundingClientRect(),n=document.body.style,12<i.width&&i.right-t.pageX<8?(n.cursor="col-resize",this.draggingColumn=e):this.dragging||(n.cursor="",this.draggingColumn=null))},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},isChildrenSelected:function(e,t){var i=this,n=t;return e.children&&e.children.length&&e.children.forEach(function(e){e._isChecked||e._isDisabled?e.children&&e.children.length&&(n=i.isChildrenSelected(e,n)):n=!1}),n},isChildrenAllDisabledAndUnSelected:function(e,t){var i=this,n=t;return e.children&&e.children.length&&e.children.forEach(function(e){!e._isDisabled||e._isChecked?n=!1:e.children&&e.children.length&&(n=i.isChildrenAllDisabledAndUnSelected(e,n))}),n},isChildrenDisabled:function(e,t){var i=this,n=t;return e.children&&e.children.length&&e.children.forEach(function(e){e._isDisabled?e.children&&e.children.length&&(n=i.isChildrenDisabled(e,n)):n=!1}),n}}},T=Object(t.a)(w,function(){var o=this,s=o._self._c;return s("table",{style:o.styles,attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",[o._l(o.columns,function(e,t){return s("col",{attrs:{width:o.setCellWidth(e)}})}),o.$parent.showVerticalScrollBar?s("col",{attrs:{width:o.$parent.scrollBarWidth}}):o._e()],2),s("thead",o._l(o.headRows,function(e,n){return s("tr",[o._l(e,function(t,i){return s("th",{class:o.alignCls(t),attrs:{colspan:t.colSpan,rowspan:t.rowSpan}},[s("div",{class:o.cellClasses(t)},["expand"===t.type?[t.renderHeader?s("render-header",{attrs:{render:t.renderHeader,column:t,index:i}}):s("span",[o._v(o._s(t.title||""))])]:"selection"===t.type?[t.hideSelectAll?o._e():s("Checkbox",{attrs:{value:o.isSelectAll,disabled:o.isSelectDisabled},on:{"on-change":o.selectAll}})]:[t.renderHeader?s("render-header",{attrs:{render:t.renderHeader,column:t,index:i}}):s("span",{class:Object(l.a)({},o.prefixCls+"-cell-sort",t.sortable),on:{click:function(e){t.sortable&&o.handleSortByHead(o.getColumn(n,i)._index)}}},[o._v(o._s(t.title||"#"))]),t.sortable?s("span",{class:[o.prefixCls+"-sort"]},[s("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropup",class:{on:"asc"===o.getColumn(n,i)._sortType},on:{click:function(e){o.handleSort(o.getColumn(n,i)._index,"asc")}}}),s("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropdown",class:{on:"desc"===o.getColumn(n,i)._sortType},on:{click:function(e){o.handleSort(o.getColumn(n,i)._index,"desc")}}})]):o._e(),o.isPopperShow(t)?s("Poptip",{attrs:{placement:"bottom","popper-class":"ivu-table-popper",transfer:"",capture:!1},on:{"on-popper-hide":function(e){o.handleFilterHide(o.getColumn(n,i)._index)}},model:{value:o.getColumn(n,i)._filterVisible,callback:function(e){o.$set(o.getColumn(n,i),"_filterVisible",e)},expression:"getColumn(rowIndex, index)._filterVisible"}},[s("span",{class:[o.prefixCls+"-filter"]},[s("i",{staticClass:"ivu-icon ivu-icon-ios-funnel",class:{on:o.getColumn(n,i)._isFiltered}})]),o.getColumn(n,i)._filterMultiple?s("div",{class:[o.prefixCls+"-filter-list"],attrs:{slot:"content"},slot:"content"},[s("div",{class:[o.prefixCls+"-filter-list-item"]},[s("checkbox-group",{model:{value:o.getColumn(n,i)._filterChecked,callback:function(e){o.$set(o.getColumn(n,i),"_filterChecked",e)},expression:"getColumn(rowIndex, index)._filterChecked"}},o._l(t.filters,function(e,t){return s("checkbox",{key:t,attrs:{label:e.value}},[o._v(o._s(e.label))])}),1)],1),s("div",{class:[o.prefixCls+"-filter-footer"]},[s("i-button",{attrs:{type:"text",size:"small",disabled:!o.getColumn(n,i)._filterChecked.length},nativeOn:{click:function(e){o.handleFilter(o.getColumn(n,i)._index)}}},[o._v(o._s(o.t("i.table.confirmFilter")))]),s("i-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){o.handleReset(o.getColumn(n,i)._index)}}},[o._v(o._s(o.t("i.table.resetFilter")))])],1)]):s("div",{class:[o.prefixCls+"-filter-list"],attrs:{slot:"content"},slot:"content"},[s("ul",{class:[o.prefixCls+"-filter-list-single"]},[s("li",{class:o.itemAllClasses(o.getColumn(n,i)),on:{click:function(e){o.handleReset(o.getColumn(n,i)._index)}}},[o._v(o._s(o.t("i.table.clearFilter")))]),o._l(t.filters,function(t){return s("li",{class:o.itemClasses(o.getColumn(n,i),t),on:{click:function(e){o.handleSelect(o.getColumn(n,i)._index,t.value)}}},[o._v(o._s(t.label))])})],2)])]):o._e()]],2),t.resizable?s("div",{staticClass:"ivu-table-header-resizable",on:{mousedown:function(e){return o.handleMouseDown(t,e)},mousemove:function(e){return o.handleMouseMove(t,e)},mouseout:o.handleMouseOut}}):o._e()])}),o.$parent.showVerticalScrollBar&&0===n?s("th",{class:o.scrollBarCellClass(),attrs:{rowspan:o.headRows.length}}):o._e()],2)}),0)])},[],!1,null,null,null).exports,so={props:{row:Object,prefixCls:String,draggable:Boolean,isChildren:Boolean},computed:{objData:function(){return this.$parent.objData}},methods:{onDrag:function(e,t){e.dataTransfer.setData("index",t)},onDrop:function(e,t){var i=e.dataTransfer.getData("index");this.$parent.$parent.dragAndDrop(i,t),e.preventDefault()},allowDrop:function(e){e.preventDefault()},rowClasses:function(e){var t=this.isChildren?this.$parent.$parent.getDataByRowKey(this.row._rowKey):this.objData[e];return["".concat(this.prefixCls,"-row"),this.rowClsName(e),Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-row-highlight"),t&&t._isHighlight),"".concat(this.prefixCls,"-row-hover"),t&&t._isHover)]},rowClsName:function(e){return this.$parent.$parent.rowClassName(this.objData[e],e)}}},ro=Object(t.a)(so,function(){var t=this,e=t._self._c;return e("tr",t.draggable?{class:t.rowClasses(t.row._index),attrs:{draggable:t.draggable},on:{dragstart:function(e){return t.onDrag(e,t.row._index)},drop:function(e){return t.onDrop(e,t.row._index)},dragover:function(e){return t.allowDrop(e)}}}:{class:t.rowClasses(t.row._index),attrs:{draggable:!1}},[t._t("default")],2)},[],!1,null,null,null).exports,lo={name:"TableExpand",functional:!0,props:{row:Object,render:Function,index:Number,column:{type:Object,default:null}},render:function(e,t){var i={row:t.props.row,index:t.props.index};return t.props.column&&(i.column=t.props.column),t.props.render(e,i)}},w={name:"TableSlot",functional:!0,inject:["tableRoot"],props:{row:Object,index:Number,column:{type:Object,default:null},display:{type:String,default:"block"}},render:function(e,t){return e("div",{class:{"ivu-table-cell-slot":!0,"ivu-table-cell-slot-inline":"inline"===t.props.display,"ivu-table-cell-slot-inline-block":"inline-block"===t.props.display}},t.injections.tableRoot.$scopedSlots[t.props.column.slot]({row:t.props.row,column:t.props.column,index:t.props.index}))}},so={name:"TableCell",components:{Icon:s,Checkbox:v,TableExpand:lo,TableSlot:w,Tooltip:a},inject:["tableRoot"],props:{prefixCls:String,row:Object,column:Object,naturalIndex:Number,index:Number,checked:Boolean,disabled:Boolean,expanded:Boolean,fixed:{type:[Boolean,String],default:!1},treeNode:Boolean,treeLevel:{type:Number,default:0}},data:function(){return{renderType:"",uid:-1,context:this.$parent.$parent.$parent.currentContext,showTooltip:!1}},computed:{classes:function(){return["".concat(this.prefixCls,"-cell"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-hidden"),!this.fixed&&this.column.fixed&&("left"===this.column.fixed||"right"===this.column.fixed)),"".concat(this.prefixCls,"-cell-ellipsis"),this.column.ellipsis||!1),"".concat(this.prefixCls,"-cell-with-expand"),"expand"===this.renderType),"".concat(this.prefixCls,"-cell-with-selection"),"selection"===this.renderType)]},expandCls:function(){return["".concat(this.prefixCls,"-cell-expand"),Object(l.a)({},"".concat(this.prefixCls,"-cell-expand-expanded"),this.expanded)]},showChildren:function(){var e,t=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||((e=this.row).children&&e.children.length||"_loading"in e)&&this.column.tree&&(t=!0),t},showTreeNode:function(){var e=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||this.column.tree&&this.treeNode&&(e=!0),e},showLevel:function(){var e=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||this.column.tree&&this.treeNode&&(e=!0),e},treeLevelStyle:function(){return{"padding-left":this.treeLevel*this.tableRoot.indentSize+"px"}},childrenExpand:function(){return this.tableRoot.getDataByRowKey(this.row._rowKey)._isShowChildren},childrenLoading:function(){var e=this.tableRoot.getDataByRowKey(this.row._rowKey);return"_loading"in e&&e._loading}},methods:{toggleSelect:function(){this.treeNode?this.$parent.$parent.$parent.toggleSelect(this.index,this.row._rowKey):this.$parent.$parent.$parent.toggleSelect(this.index)},toggleExpand:function(){this.$parent.$parent.$parent.toggleExpand(this.index)},handleClick:function(){},handleTooltipIn:function(){var e=this.$refs.content,t=document.createRange(),t=(t.setStart(e,0),t.setEnd(e,e.childNodes.length),t.getBoundingClientRect().width);this.showTooltip=t>e.offsetWidth},handleToggleTree:function(){this.$parent.$parent.$parent.toggleTree(this.row._rowKey)}},created:function(){"index"===this.column.type?this.renderType="index":"selection"===this.column.type?this.renderType="selection":"html"===this.column.type?this.renderType="html":"expand"===this.column.type?this.renderType="expand":this.column.render?this.renderType="render":this.column.slot?this.renderType="slot":this.renderType="normal"}},co=Object(t.a)(so,function(){var t=this,e=t._self._c;return e("div",{ref:"cell",class:t.classes},["index"===t.renderType?[e("span",[t._v(t._s(t.column.indexMethod?t.column.indexMethod(t.row,t.naturalIndex):t.naturalIndex+1))])]:t._e(),"selection"===t.renderType?[e("Checkbox",{attrs:{value:t.checked,disabled:t.disabled},on:{"on-change":t.toggleSelect},nativeOn:{click:function(e){return e.stopPropagation(),t.handleClick.apply(null,arguments)}}})]:t._e(),t.showLevel?e("div",{staticClass:"ivu-table-cell-tree-level",style:t.treeLevelStyle}):t._e(),t.showChildren?e("div",{staticClass:"ivu-table-cell-tree",class:{"ivu-table-cell-tree-loading":t.childrenLoading},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleToggleTree.apply(null,arguments)}}},[t.childrenLoading?e("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):t.childrenExpand?e("Icon",{attrs:{type:"ios-remove"}}):e("Icon",{attrs:{type:"ios-add"}})],1):t.showTreeNode?e("div",{staticClass:"ivu-table-cell-tree ivu-table-cell-tree-empty"}):t._e(),"html"===t.renderType?[e("span",{domProps:{innerHTML:t._s(t.row[t.column.key])}})]:t._e(),"normal"===t.renderType?[t.column.tooltip?[e("Tooltip",{staticClass:"ivu-table-cell-tooltip",attrs:{transfer:"",content:t.row[t.column.key],theme:t.column.tooltipTheme||t.tableRoot.tooltipTheme,disabled:!t.showTooltip,"max-width":t.column.tooltipMaxWidth||t.tableRoot.tooltipMaxWidth}},[e("span",{ref:"content",staticClass:"ivu-table-cell-tooltip-content",on:{mouseenter:t.handleTooltipIn}},[t._v(t._s(t.row[t.column.key]))])])]:e("span",[t._v(t._s(t.row[t.column.key]))])]:t._e(),"expand"!==t.renderType||t.row._disableExpand?t._e():[e("div",{class:t.expandCls,on:{click:t.toggleExpand}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],"render"===t.renderType?e("table-expand",{attrs:{row:t.row,column:t.column,index:t.index,render:t.column.render}}):t._e(),"slot"===t.renderType?e("table-slot",{attrs:{row:t.row,column:t.column,display:t.column.display||"block",index:t.index}}):t._e()],2)},[],!1,null,null,null).exports,w={name:"TableBody",mixins:[ao],components:{TableCell:co,Expand:lo,TableTr:ro},props:{prefixCls:String,styleObject:Object,columns:Array,data:Array,objData:Object,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1},rowKey:{type:[Boolean,String],default:!1}},computed:{expandRender:function(){for(var e=function(){return""},t=0;t<this.columns.length;t++){var i=this.columns[t];i.type&&"expand"===i.type&&i.render&&(e=i.render)}return e}},methods:{rowChecked:function(e){return this.objData[e]&&this.objData[e]._isChecked},rowDisabled:function(e){return this.objData[e]&&this.objData[e]._isDisabled},rowExpanded:function(e){return this.objData[e]&&this.objData[e]._isExpanded},rowStatusByRowKey:function(e,t){return this.$parent.getDataByRowKey(t)[e]},handleMouseIn:function(e,t,i){t.stopPropagation(),this.$parent.handleMouseIn(e,i)},handleMouseOut:function(e,t,i){t.stopPropagation(),this.$parent.handleMouseOut(e,i)},clickCurrentRow:function(e,t,i){this.$parent.clickCurrentRow(e,i)},dblclickCurrentRow:function(e,t,i){t.stopPropagation(),this.$parent.dblclickCurrentRow(e,i)},clickCell:function(e,t,i,n){this.$parent.$emit("on-cell-click",e,t,e[i],n)},contextmenuCurrentRow:function(e,t,i){t.stopPropagation(),this.$parent.contextMenu&&t.preventDefault(),this.$parent.contextmenuCurrentRow(e,i,t)},selectStartCurrentRow:function(){this.$parent.contextMenu},getSpan:function(e,t,i,n){var o=this.$parent.spanMethod;return"function"==typeof o?(o=o({row:e,column:t,rowIndex:i,columnIndex:n}),t=e=1,Array.isArray(o)?(e=o[0],t=o[1]):"object"===Object(ie.a)(o)&&(e=o.rowspan,t=o.colspan),{rowspan:e,colspan:t}):{}},showWithSpan:function(e,t,i,n){e=this.getSpan(e,t,i,n);return!("rowspan"in e&&0===e.rowspan||"colspan"in e&&0===e.colspan)},isTrShow:function(e){var t,i=!0;for(t in this.objData){var n=this.objData[t],o=n._isShowChildren;if(n._rowKey===e){i=i&&o;break}if(n.children&&n.children.length&&(n=this.getTrStatus(e,n,i&&o))[0]&&n[0]._rowKey===e)return n[1]}return i},getTrStatus:function(e,t,i){var n,o=i;if(t.children&&t.children.length)for(var s=0;s<t.children.length;s++){var a=t.children[s],r=a._isShowChildren;if(a._rowKey===e){n=a,o=o&&r;break}if(a.children&&a.children.length){a=this.getTrStatus(e,a,o&&r);if(a[0]&&a[0]._rowKey===e)return a}}return[n,o]},getLevel:function(e){for(var t,i=0;i<this.data.length;i++){var n=this.data[i];if(n[this.rowKey]===e){t=0;break}if(n.children&&n.children.length&&(n=this.getChildLevel(n,e,1))[0]&&n[0][this.rowKey]===e)return n[1]}return t},getChildLevel:function(e,t,i){var n,o;if(e.children&&e.children.length)for(var s=0;s<e.children.length;s++){var a=e.children[s];if(a[this.rowKey]===t){o=a,n=i;break}if(a.children&&a.children.length){a=this.getChildLevel(a,t,i+1);if(a[0]&&a[0][this.rowKey]===t)return a}}return[o,n]},getChildNode:function(a,t,i){var r=this;return t.children&&t.children.length&&t.children.forEach(function(n,o){var s=[],e=(r.columns.forEach(function(t,e){var i;r.showWithSpan(n,t,o,e)&&(i=a(co,{props:{fixed:r.fixed,"prefix-cls":r.prefixCls,row:n,column:t,"natural-index":o,index:n._index,checked:r.rowStatusByRowKey("_isChecked",n._rowKey),disabled:r.rowStatusByRowKey("_isDisabled",n._rowKey),expanded:r.rowStatusByRowKey("_isExpanded",n._rowKey),treeNode:!0,treeLevel:r.getLevel(n._rowKey)},key:t._columnKey}),e=a("td",{class:r.alignCls(t,n),attrs:r.getSpan(n,t,o,e),on:{click:function(e){return r.clickCell(n,t,t.key,e)}}},[i]),s.push(e))}),{}),e=(r.isTrShow(t._rowKey)||(e.display="none"),a(ro,{props:{draggable:!1,row:n,"prefix-cls":r.prefixCls,isChildren:!0},style:e,key:r.rowKey?n._rowKey:o,nativeOn:{mouseenter:function(e){return r.handleMouseIn(n._index,e,n._rowKey)},mouseleave:function(e){return r.handleMouseOut(n._index,e,n._rowKey)},click:function(e){return r.clickCurrentRow(n._index,e,n._rowKey)},dblclick:function(e){return r.dblclickCurrentRow(n._index,e,n._rowKey)},contextmenu:function(e){return r.contextmenuCurrentRow(n._index,e,n._rowKey)},selectstart:function(e){return r.selectStartCurrentRow(n._index,e,n._rowKey)}}},s));i.push(e),n.children&&n.children.length&&r.getChildNode(a,n,i)}),i}},render:function(a){var r=this,t=[],e=(this.columns.forEach(function(e){e=a("col",{attrs:{width:r.setCellWidth(e)}});t.push(e)}),a("colgroup",{},t)),i=[],n=(this.data.forEach(function(n,o){var s=[],e=(r.columns.forEach(function(t,e){var i;r.showWithSpan(n,t,o,e)&&(i=a(co,{props:{fixed:r.fixed,"prefix-cls":r.prefixCls,row:n,column:t,"natural-index":o,index:n._index,checked:r.rowChecked(n._index),disabled:r.rowDisabled(n._index),expanded:r.rowExpanded(n._index)},key:t._columnKey}),e=a("td",{class:r.alignCls(t,n),attrs:r.getSpan(n,t,o,e),on:{click:function(e){return r.clickCell(n,t,t.key,e)}}},[i]),s.push(e))}),a(ro,{props:{draggable:r.draggable,row:n,"prefix-cls":r.prefixCls},key:r.rowKey?n._rowKey:o,nativeOn:{mouseenter:function(e){return r.handleMouseIn(n._index,e)},mouseleave:function(e){return r.handleMouseOut(n._index,e)},click:function(e){return r.clickCurrentRow(n._index,e)},dblclick:function(e){return r.dblclickCurrentRow(n._index,e)},contextmenu:function(e){return r.contextmenuCurrentRow(n._index,e)},selectstart:function(e){return r.selectStartCurrentRow(n._index,e)}}},s));i.push(e),r.rowExpanded(n._index)&&(e=a(lo,{props:{row:n,render:r.expandRender,index:n._index},key:r.rowKey?n._rowKey:o}),e=a("td",{attrs:{colspan:r.columns.length},class:r.prefixCls+"-expanded-cell"},[e]),e=a("tr",{class:Object(l.a)({},r.prefixCls+"-expanded-hidden",r.fixed)},[e]),i.push(e)),n.children&&n.children.length&&r.getChildNode(a,n,[]).forEach(function(e){i.push(e)})}),a("tbody",{class:this.prefixCls+"-tbody"},[i]));return a("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"},style:this.styleObject},[e,n])}},so=Object(t.a)(w,void 0,void 0,!1,null,null,null).exports,w={name:"TableSummary",mixins:[ao],props:{prefixCls:String,styleObject:Object,columns:Array,data:Object,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1}},methods:{cellCls:function(e){return[Object(l.a)({},"ivu-table-hidden","left"===this.fixed&&"left"!==e.fixed||"right"===this.fixed&&"right"!==e.fixed||!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed))]}}},ao=Object(t.a)(w,function(){var i=this,n=i._self._c;return n("div",{staticStyle:{overflow:"hidden"}},[n("table",{staticClass:"ivu-table-summary",style:i.styleObject,attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",i._l(i.columns,function(e,t){return n("col",{attrs:{width:i.setCellWidth(e)}})}),0),n("tbody",{class:[i.prefixCls+"-tbody"]},[n("tr",{staticClass:"ivu-table-row"},i._l(i.columns,function(e,t){return n("td",{class:i.alignCls(e)},[n("div",{staticClass:"ivu-table-cell",class:i.cellCls(e)},[n("span",[i._v(i._s(i.data[e.key].value))])])])}),0)])])])},[],!1,null,null,null).exports,uo={separator:",",quoted:!1};function ho(e){var t=navigator.userAgent;return"ie"===e?-1<t.indexOf("compatible")&&-1<t.indexOf("MSIE")&&(new RegExp("MSIE (\\d+\\.\\d+);").test(t),parseFloat(RegExp.$1)):-1<t.indexOf(e)}e("2b3d"),e("bf19"),e("9861"),e("88a7"),e("271a"),e("5494");function po(e,t){var i=[],n=[];return e.forEach(function(e){(e.fixed&&e.fixed===t?i:n).push(e)}),i.concat(n)}function fo(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=Object(h.c)(e),i=[];return e.forEach(function(e){e.children?(t&&i.push(e),i.push.apply(i,fo(e.children,t))):i.push(e)}),i}function mo(e){function n(t,e){var i;e&&(t.level=e.level+1,o<t.level)&&(o=t.level),t.children?(i=0,t.children.forEach(function(e){n(e,t),i+=e.colSpan}),t.colSpan=i):t.colSpan=1}var t=(t=1<arguments.length&&void 0!==arguments[1]&&arguments[1])?"left"===t?Object(h.c)(po(e,"left")):Object(h.c)(po(e,"right")):Object(h.c)(e),o=1;t.forEach(function(e){e.level=1,n(e)});for(var i=[],s=0;s<o;s++)i.push([]);return fo(t,!0).forEach(function(e){e.children?e.rowSpan=1:e.rowSpan=o-e.level+1,i[e.level-1].push(e)}),i}function go(e,t,i,n){var o=e.findIndex(function(e){return e.name===t});return(o=e[(o+i+e.length)%e.length]).disabled?go(e,o.name,i,n):o}function yo(e,t){try{e.focus()}catch(e){}if(document.activeElement==e&&e!==t)return!0;var i,e=e.children,n=Object(q.a)(e);try{for(n.s();!(i=n.n()).done;)if(yo(i.value,t))return!0}catch(e){n.e(e)}finally{n.f()}return!1}function vo(e,t){return e=e,t=t,i=(new Date).getTime(),n=xo(e,i),i-=e,n||(i=-i),o=n?t("i.time.before")||"前":t("i.time.after")||"后",i<1e3?t("i.time.just")||"刚刚":i<6e4?parseInt(i/1e3)+(t("i.time.seconds")||"秒")+o:6e4<=i&&i<36e5?Math.floor(i/6e4)+(t("i.time.minutes")||"分钟")+o:36e5<=i&&i<864e5?Math.floor(i/36e5)+(t("i.time.hours")||"小时")+o:864e5<=i&&i<262386e4?Math.floor(i/864e5)+(t("i.time.days")||"天")+o:262386e4<=i&&i<=3156786e4&&n?Io(e):Io(e,"year");var i,n,o}var bo={_isIE11:function(){var e=0,t=/MSIE (\d+\.\d+);/.test(navigator.userAgent),i=!!navigator.userAgent.match(/Trident\/7.0/),n=navigator.userAgent.indexOf("rv:11.0");return t&&(e=Number(RegExp.$1)),-1!==navigator.appVersion.indexOf("MSIE 10")&&(e=10),11===(e=i&&-1!==n?11:e)},_isEdge:function(){return/Edge/.test(navigator.userAgent)},_getDownloadUrl:function(e){var t;return window.Blob&&window.URL&&window.URL.createObjectURL?(t=new Blob(["\ufeff"+e],{type:"text/csv"}),URL.createObjectURL(t)):"data:attachment/csv;charset=utf-8,\ufeff"+encodeURIComponent(e)},download:function(e,t){var i;ho("ie")&&ho("ie")<10?((i=window.top.open("about:blank","_blank")).document.charset="utf-8",i.document.write(t),i.document.close(),i.document.execCommand("SaveAs",e),i.close()):10===ho("ie")||this._isIE11()||this._isEdge()?(i=new Blob(["\ufeff"+t],{type:"text/csv"}),navigator.msSaveBlob(i,e)):((i=document.createElement("a")).download=e,i.href=this._getDownloadUrl(t),document.body.appendChild(i),i.click(),document.body.removeChild(i))}},N="ivu-table",wo=1,So=1,w={name:"Table",mixins:[p],components:{tableHead:T,tableBody:so,tableSummary:ao,Spin:Di,Dropdown:ai,DropdownMenu:C},provide:function(){return{tableRoot:this}},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},size:{validator:function(e){return Object(h.m)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},width:{type:[Number,String]},height:{type:[Number,String]},maxHeight:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tooltipTheme:{validator:function(e){return Object(h.m)(e,["dark","light"])},default:"dark"},tooltipMaxWidth:{type:Number,default:300},rowKey:{type:[Boolean,String],default:!1},spanMethod:{type:Function},showSummary:{type:Boolean,default:!1},summaryMethod:{type:Function},sumText:{type:String},indentSize:{type:Number,default:16},loadData:{type:Function},updateShowChildren:{type:Boolean,default:!1},contextMenu:{type:Boolean,default:!1},showContextMenu:{type:Boolean,default:!1},fixedShadow:{validator:function(e){return Object(h.m)(e,["auto","show","hide"])},default:"show"}},data:function(){var e=this.makeColumnsId(this.columns);return{ready:!1,tableWidth:0,columnsWidth:{},prefixCls:N,compiledUids:[],objData:this.makeObjData(),rebuildData:[],cloneColumns:this.makeColumns(e),columnRows:this.makeColumnRows(!1,e),leftFixedColumnRows:this.makeColumnRows("left",e),rightFixedColumnRows:this.makeColumnRows("right",e),allColumns:fo(e),showSlotHeader:!0,showSlotFooter:!0,bodyHeight:0,scrollBarWidth:Object(h.k)(),currentContext:this.context,cloneData:Object(h.c)(this.data),showVerticalScrollBar:!1,showHorizontalScrollBar:!1,headerWidth:0,headerHeight:0,showResizeLine:!1,contextMenuVisible:!1,contextMenuStyles:{top:0,left:0},scrollOnTheLeft:!1,scrollOnTheRight:!1}},computed:{localeNoDataText:function(){return void 0===this.noDataText?this.t("i.table.noDataText"):this.noDataText},localeNoFilteredDataText:function(){return void 0===this.noFilteredDataText?this.t("i.table.noFilteredDataText"):this.noFilteredDataText},localeSumText:function(){return void 0===this.sumText?this.t("i.table.sumText"):this.sumText},wrapClasses:function(){return["".concat(N,"-wrapper"),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(N,"-hide"),!this.ready),"".concat(N,"-with-header"),this.showSlotHeader),"".concat(N,"-with-footer"),this.showSlotFooter),"".concat(N,"-with-summary"),this.showSummary),"".concat(N,"-wrapper-with-border"),this.border)]},classes:function(){return["".concat(N),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(N,"-").concat(this.size),!!this.size),"".concat(N,"-border"),this.border),"".concat(N,"-stripe"),this.stripe),"".concat(N,"-with-fixed-top"),!!this.height)]},fixedTableClasses:function(){return["".concat(N,"-fixed"),Object(l.a)({},"".concat(N,"-fixed-shadow"),"show"===this.fixedShadow||"auto"===this.fixedShadow&&!this.scrollOnTheLeft)]},fixedRightTableClasses:function(){return["".concat(N,"-fixed-right"),Object(l.a)({},"".concat(N,"-fixed-shadow"),"show"===this.fixedShadow||"auto"===this.fixedShadow&&!this.scrollOnTheRight)]},fixedHeaderClasses:function(){return["".concat(N,"-fixed-header"),Object(l.a)({},"".concat(N,"-fixed-header-with-empty"),!this.rebuildData.length)]},styles:function(){var e,t={},i=0;return this.showSummary&&(i="small"===this.size?40:"large"===this.size?60:48),this.height&&(e=parseInt(this.height)+i,t.height="".concat(e,"px")),this.maxHeight&&(e=parseInt(this.maxHeight)+i,t.maxHeight="".concat(e,"px")),this.width&&(t.width="".concat(this.width,"px")),t},tableStyle:function(){var e,t={};return 0!==this.tableWidth&&(e="",e=0===this.bodyHeight?this.tableWidth:this.tableWidth-(this.showVerticalScrollBar?this.scrollBarWidth:0),t.width="".concat(e,"px")),t},tableHeaderStyle:function(){var e,t={};return 0!==this.tableWidth&&(e="",e=this.tableWidth,t.width="".concat(e,"px")),t},fixedTableStyle:function(){var e={},t=0;return this.leftFixedColumns.forEach(function(e){e.fixed&&"left"===e.fixed&&(t+=e._width)}),e.width="".concat(t,"px"),e},fixedRightTableStyle:function(){var e={},t=0;return this.rightFixedColumns.forEach(function(e){e.fixed&&"right"===e.fixed&&(t+=e._width)}),e.width="".concat(t,"px"),e.right="".concat(this.showVerticalScrollBar?this.scrollBarWidth:0,"px"),e},fixedRightHeaderStyle:function(){var e={},t=0,i=this.headerHeight+1;return this.showVerticalScrollBar&&(t=this.scrollBarWidth),e.width="".concat(t,"px"),e.height="".concat(i,"px"),e},bodyStyle:function(){var e,t={};return 0!==this.bodyHeight&&(e=this.bodyHeight,this.height?t.height="".concat(e,"px"):this.maxHeight&&(t.maxHeight="".concat(e,"px"))),t},fixedBodyStyle:function(){var e,t={};return 0!==this.bodyHeight&&(e=this.bodyHeight-(this.showHorizontalScrollBar?this.scrollBarWidth:0),e=this.showHorizontalScrollBar?"".concat(e,"px"):"".concat(e-1,"px"),this.height?t.height=e:this.maxHeight&&(t.maxHeight=e)),t},leftFixedColumns:function(){return po(this.cloneColumns,"left")},rightFixedColumns:function(){return po(this.cloneColumns,"right")},isLeftFixed:function(){return this.columns.some(function(e){return e.fixed&&"left"===e.fixed})},isRightFixed:function(){return this.columns.some(function(e){return e.fixed&&"right"===e.fixed})},summaryData:function(){var a,r=this;return this.showSummary?(a={},this.summaryMethod?a=this.summaryMethod({columns:this.cloneColumns,data:this.rebuildData}):this.cloneColumns.forEach(function(t,e){var i,n,o,s=t.key;0!==e?(e=r.rebuildData.map(function(e){return Number(e[t.key])}),i=[],n=!0,e.forEach(function(e){isNaN(e)||(n=!1,e=(""+e).split(".")[1],i.push(e?e.length:0))}),o=Math.max.apply(null,i),n?a[s]={key:t.key,value:""}:(e=e.reduce(function(e,t){var i=Number(t);return isNaN(i)?e:parseFloat((e+t).toFixed(Math.min(o,20)))},0),a[s]={key:t.key,value:e})):a[s]={key:t.key,value:r.localeSumText}}),a):{}}},methods:{rowClsName:function(e){return this.rowClassName(this.data[e],e)},handleResize:function(){var t=this,e=this.$el.offsetWidth-1,i={},n=0,o=[],s=[],a=[],r=[];this.cloneColumns.forEach(function(e){(e.width?o:(s.push(e),e.minWidth&&(n+=e.minWidth),e.maxWidth?a:r)).push(e),e._width=null});var l=e-o.map(function(e){return e.width}).reduce(function(e,t){return e+t},0)-n-(this.showVerticalScrollBar?this.scrollBarWidth:0)-1,c=s.length,u=0;0<l&&0<c&&(u=parseInt(l/c));for(var d=0;d<this.cloneColumns.length;d++){var h=this.cloneColumns[d],p=u+(h.minWidth||0);h.width?p=h.width:h._width?p=h._width:(h.minWidth>p?p=h.minWidth:h.maxWidth<p&&(p=h.maxWidth),u=0<l&&(l-=p-(h.minWidth||0),0<--c)?parseInt(l/c):0),h._width=p,i[h._index]={width:p}}if(0<l){c=r.length,u=parseInt(l/c);for(var f=0;f<r.length;f++){var m=r[f],g=m._width+u,u=1<c?(c--,l-=u,parseInt(l/c)):0;m._width=g,i[m._index]={width:g}}}this.tableWidth=this.cloneColumns.map(function(e){return e._width}).reduce(function(e,t){return e+t},0)+(this.showVerticalScrollBar?this.scrollBarWidth:0)+1,this.columnsWidth=i,this.fixedHeader(),"auto"===this.fixedShadow&&this.$nextTick(function(){var e=t.$refs.body;t.scrollOnTheLeft=0===e.scrollLeft,t.scrollOnTheRight=e.scrollWidth===e.scrollLeft+e.clientWidth})},handleMouseIn:function(e,t){this.disabledHover||(t=t?this.getDataByRowKey(t):this.objData[e])._isHover||(t._isHover=!0)},handleMouseOut:function(e,t){this.disabledHover||((t?this.getDataByRowKey(t):this.objData[e])._isHover=!1)},handleCurrentRow:function(e,t,i){var n,o,s=i?this.getDataByRowKey(i):this.objData[t],a=null,r=-1;for(n in this.objData){if(this.objData[n]._isHighlight){r=parseInt(n),this.objData[n]._isHighlight=!1;break}this.objData[n].children&&this.objData[n].children.length&&(o=this.handleResetChildrenRow(this.objData[n]))&&(a=JSON.parse(JSON.stringify(o)))}"highlight"===e&&(s._isHighlight=!0),0<=r&&(a=JSON.parse(JSON.stringify(this.cloneData[r])));s="highlight"===e?i?JSON.parse(JSON.stringify(this.getBaseDataByRowKey(i))):JSON.parse(JSON.stringify(this.cloneData[t])):null;this.$emit("on-current-change",s,a)},handleResetChildrenRow:function(e){var t=null;if(e.children&&e.children.length)for(var i=0;i<e.children.length;i++){var n=e.children[i];if(n._isHighlight){n._isHighlight=!1,t=n;break}n.children&&n.children.length&&(t=this.handleResetChildrenRow(n))}return t},highlightCurrentRow:function(e,t){var i=t?this.getDataByRowKey(t):this.objData[e];this.highlightRow&&!i._isHighlight&&this.handleCurrentRow("highlight",e,t)},clearCurrentRow:function(){this.highlightRow&&this.handleCurrentRow("clear")},clickCurrentRow:function(e,t){this.highlightCurrentRow(e,t),t?this.$emit("on-row-click",JSON.parse(JSON.stringify(this.getBaseDataByRowKey(t)))):this.$emit("on-row-click",JSON.parse(JSON.stringify(this.cloneData[e])),e)},dblclickCurrentRow:function(e,t){this.highlightCurrentRow(e,t),t?this.$emit("on-row-dblclick",JSON.parse(JSON.stringify(this.getBaseDataByRowKey(t)))):this.$emit("on-row-dblclick",JSON.parse(JSON.stringify(this.cloneData[e])),e)},contextmenuCurrentRow:function(t,i,n){var o=this;this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(function(){var e=o.$refs.tableWrap.getBoundingClientRect(),e={left:"".concat(n.clientX-e.left,"px"),top:"".concat(n.clientY-e.top,"px")};o.contextMenuStyles=e,o.contextMenuVisible=!0,i?o.$emit("on-contextmenu",JSON.parse(JSON.stringify(o.getBaseDataByRowKey(i))),n,e):o.$emit("on-contextmenu",JSON.parse(JSON.stringify(o.cloneData[t])),n,e)})},getSelection:function(){var e,i=this,n=[],o=[];for(e in this.objData){var t=this.objData[e];t._isChecked&&n.push(parseInt(e)),t.children&&t.children.length&&(o=o.concat(this.getSelectionChildrenRowKeys(t,o)))}var o=Object(c.a)(new Set(o)),s=[];return this.data.forEach(function(e,t){-1<n.indexOf(t)&&(s=s.concat(e)),e.children&&e.children.length&&o.length&&(s=s.concat(i.getSelectionChildren(e,s,o)))}),s=Object(c.a)(new Set(s)),JSON.parse(JSON.stringify(s))},getSelectionChildrenRowKeys:function(e,t){var i=this;return e.children&&e.children.length&&e.children.forEach(function(e){e._isChecked&&t.push(e._rowKey),e.children&&e.children.length&&(t=t.concat(i.getSelectionChildrenRowKeys(e,t)))}),t},getSelectionChildren:function(e,t,i){var n=this;return e.children&&e.children.length&&e.children.forEach(function(e){-1<i.indexOf(e[n.rowKey])&&(t=t.concat(e)),e.children&&e.children.length&&(t=t.concat(n.getSelectionChildren(e,t,i)))}),t},toggleSelect:function(e,t){var i={};if(t)i=this.getDataByRowKey(t);else for(var n in this.objData)if(parseInt(n)===e){i=this.objData[n];break}var o=!i._isChecked,s=(i._isChecked=o,this.getSelection()),t=t?this.getBaseDataByRowKey(t,this.data):this.data[e];this.$emit(o?"on-select":"on-select-cancel",s,JSON.parse(JSON.stringify(t))),this.$emit("on-selection-change",s)},toggleExpand:function(e){var t,i=this,n={};for(t in this.objData)if(parseInt(t)===e){n=this.objData[t];break}var o=!n._isExpanded;this.objData[e]._isExpanded=o,this.$emit("on-expand",JSON.parse(JSON.stringify(this.cloneData[e])),o),(this.height||this.maxHeight)&&this.$nextTick(function(){return i.fixedBody()})},toggleTree:function(t){var i,n=this,e=this.getDataByRowKey(t);"_loading"in e&&e._loading||("_loading"in e&&!e._loading&&0===e.children.length?(i=this.getBaseDataByRowKey(t,this.data),this.$set(i,"_loading",!0),this.loadData(i,function(e){n.$set(i,"_loading",!1),e.length&&(n.$set(i,"children",e),n.$nextTick(function(){var e=n.getDataByRowKey(t);e._isShowChildren=!e._isShowChildren,n.updateDataStatus(t,"_showChildren",e._isShowChildren)}))})):(e._isShowChildren=!e._isShowChildren,this.updateShowChildren&&this.updateDataStatus(t,"_showChildren",e._isShowChildren),this.$emit("on-expand-tree",t,e._isShowChildren)))},updateDataStatus:function(e,t,i){e=this.getBaseDataByRowKey(e,this.data);this.$set(e,t,i)},getDataByRowKey:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.objData,n=null;for(t in i){var o=i[t];if(o._rowKey===e){n=o;break}if(o.children&&o.children.length&&(n=this.getChildrenByRowKey(e,o)))break}return n},getChildrenByRowKey:function(e,t){var i=null;if(t.children&&t.children.length)for(var n=0;n<t.children.length;n++){var o=t.children[n];if(o._rowKey===e){i=o;break}if(o.children&&o.children.length&&(i=this.getChildrenByRowKey(e,o)))break}return i},getBaseDataByRowKey:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.cloneData,i=null,n=0;n<t.length;n++){var o=t[n];if(o[this.rowKey]===e){i=o;break}if(o.children&&o.children.length&&(i=this.getChildrenDataByRowKey(e,o))&&i[this.rowKey]===e)return i}return i},getChildrenDataByRowKey:function(e,t){var i=null;if(t.children&&t.children.length)for(var n=0;n<t.children.length;n++){var o=t.children[n];if(o[this.rowKey]===e){i=o;break}if(o.children&&o.children.length&&(i=this.getChildrenDataByRowKey(e,o)))break}return i},selectAll:function(e){var t,i=Object(q.a)(this.rebuildData);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.objData[n._index];o._isDisabled||(o._isChecked=e),n.children&&n.children.length&&this.selectAllChildren(o,e)}}catch(e){i.e(e)}finally{i.f()}var s=this.getSelection();e?this.$emit("on-select-all",s):this.$emit("on-select-all-cancel",s),this.$emit("on-selection-change",s)},selectAllChildren:function(e,t){var i=this;e.children&&e.children.length&&e.children.map(function(e){e._isDisabled||(e._isChecked=t),e.children&&e.children.length&&i.selectAllChildren(e,t)})},fixedHeader:function(){var n=this;this.height||this.maxHeight?this.$nextTick(function(){var e=parseInt(Object(h.l)(n.$refs.title,"height"))||0,t=parseInt(Object(h.l)(n.$refs.header,"height"))||0,i=parseInt(Object(h.l)(n.$refs.footer,"height"))||0;n.height?n.bodyHeight=n.height-e-t-i:n.maxHeight&&(n.bodyHeight=n.maxHeight-e-t-i),n.$nextTick(function(){return n.fixedBody()})}):(this.bodyHeight=0,this.$nextTick(function(){return n.fixedBody()}))},fixedBody:function(){var e,t,i,n;this.$refs.header&&(this.headerWidth=this.$refs.header.children[0].offsetWidth,this.headerHeight=this.$refs.header.children[0].offsetHeight),this.$refs.tbody&&this.data&&0!==this.data.length?(t=(e=this.$refs.tbody.$el).parentElement,i=e.offsetHeight,n=t.offsetHeight,this.showHorizontalScrollBar=t.offsetWidth<e.offsetWidth+(this.showVerticalScrollBar?this.scrollBarWidth:0),this.showVerticalScrollBar=!!this.bodyHeight&&n-(this.showHorizontalScrollBar?this.scrollBarWidth:0)<i,this.showVerticalScrollBar?t.classList.add(this.prefixCls+"-overflowY"):t.classList.remove(this.prefixCls+"-overflowY"),this.showHorizontalScrollBar?t.classList.add(this.prefixCls+"-overflowX"):t.classList.remove(this.prefixCls+"-overflowX")):this.showVerticalScrollBar=!1},hideColumnFilter:function(){this.cloneColumns.forEach(function(e){return e._filterVisible=!1})},handleBodyScroll:function(e){this.scrollOnTheLeft=0===e.target.scrollLeft,this.scrollOnTheRight=e.target.scrollWidth===e.target.scrollLeft+e.target.clientWidth,this.showHeader&&(this.$refs.header.scrollLeft=e.target.scrollLeft),this.isLeftFixed&&(this.$refs.fixedBody.scrollTop=e.target.scrollTop),this.isRightFixed&&(this.$refs.fixedRightBody.scrollTop=e.target.scrollTop),this.showSummary&&this.$refs.summary&&(this.$refs.summary.$el.scrollLeft=e.target.scrollLeft),this.hideColumnFilter()},handleFixedMousewheel:function(e){var t,i,n,o,s=e.deltaY;(s=!(s=!(s=!s&&e.detail?40*e.detail:s)&&e.wheelDeltaY?-e.wheelDeltaY:s)&&e.wheelDelta?-e.wheelDelta:s)&&(i=(t=this.$refs.body).scrollTop,s<0&&0!==i&&e.preventDefault(),0<s&&t.scrollHeight-t.clientHeight>i&&e.preventDefault(),n=0,o=setInterval(function(){n+=5,0<s?t.scrollTop+=2:t.scrollTop-=2,n>=Math.abs(s)&&clearInterval(o)},5))},handleMouseWheel:function(e){var e=e.deltaX,t=this.$refs.body;t.scrollLeft=0<e?t.scrollLeft+10:t.scrollLeft-10},sortData:function(e,i,n){var o=this,s=this.cloneColumns[n].key;e.sort(function(e,t){return o.cloneColumns[n].sortMethod?o.cloneColumns[n].sortMethod(e[s],t[s],i):"asc"===i?e[s]>t[s]?1:-1:"desc"===i?e[s]<t[s]?1:-1:void 0});for(var t=0;t<e.length;t++)e[t].children&&e[t].children.length&&(e[t].children=this.sortData(e[t].children,i,n));return e},handleSort:function(e,t){var e=this.GetOriginalIndex(e),i=(this.cloneColumns.forEach(function(e){return e._sortType="normal"}),this.cloneColumns[e].key);"custom"!==this.cloneColumns[e].sortable&&(this.rebuildData="normal"===t?this.makeDataWithFilter():this.sortData(this.rebuildData,t,e)),this.cloneColumns[e]._sortType=t,this.$emit("on-sort-change",{column:JSON.parse(JSON.stringify(this.allColumns[this.cloneColumns[e]._index])),key:i,order:t})},handleFilterHide:function(e){this.cloneColumns[e]._isFiltered||(this.cloneColumns[e]._filterChecked=[])},filterData:function(e,n){return e.filter(function(e){if("function"==typeof n.filterRemote)return!0;for(var t=!n._filterChecked.length,i=0;i<n._filterChecked.length&&!(t=n.filterMethod(n._filterChecked[i],e));i++);return t})},filterOtherData:function(i,n){var o=this,e=this.cloneColumns[n];return"function"==typeof e.filterRemote&&e.filterRemote.call(this.$parent,e._filterChecked,e.key,e),this.cloneColumns.forEach(function(e,t){t!==n&&(i=o.filterData(i,e))}),i},handleFilter:function(e){var t=this.cloneColumns[e],i=this.makeDataWithSort(),i=this.filterOtherData(i,e);this.rebuildData=this.filterData(i,t),this.cloneColumns[e]._isFiltered=!0,this.cloneColumns[e]._filterVisible=!1,this.$emit("on-filter-change",t)},GetOriginalIndex:function(t){return this.cloneColumns.findIndex(function(e){return e._index===t})},handleFilterSelect:function(e,t){e=this.GetOriginalIndex(e);this.cloneColumns[e]._filterChecked=[t],this.handleFilter(e)},handleFilterReset:function(e){var e=this.GetOriginalIndex(e),t=(this.cloneColumns[e]._isFiltered=!1,this.cloneColumns[e]._filterVisible=!1,this.cloneColumns[e]._filterChecked=[],this.makeDataWithSort()),t=this.filterOtherData(t,e);this.rebuildData=t,this.$emit("on-filter-change",this.cloneColumns[e])},makeData:function(){var i=this,e=Object(h.c)(this.data);return e.forEach(function(e,t){e._index=t,e._rowKey="string"==typeof i.rowKey?e[i.rowKey]:wo++,e.children&&e.children.length&&(e.children=i.makeChildrenData(e))}),e},makeChildrenData:function(e){var i=this;return e.children&&e.children.length?e.children.map(function(e,t){e=Object(h.c)(e);return e._index=t,e._rowKey="string"==typeof i.rowKey?e[i.rowKey]:wo++,e.children&&e.children.length&&(e.children=i.makeChildrenData(e)),e}):e},makeDataWithSort:function(){for(var e=this.makeData(),t="normal",i=-1,n=!1,o=0;o<this.cloneColumns.length;o++)if("normal"!==this.cloneColumns[o]._sortType){t=this.cloneColumns[o]._sortType,i=o,n="custom"===this.cloneColumns[o].sortable;break}return e="normal"===t||n?e:this.sortData(e,t,i)},makeDataWithFilter:function(){var t=this,i=this.makeData();return this.cloneColumns.forEach(function(e){return i=t.filterData(i,e)}),i},makeDataWithSortAndFilter:function(){var t=this,i=this.makeDataWithSort();return this.cloneColumns.forEach(function(e){return i=t.filterData(i,e)}),i},makeObjBaseData:function(e){e=Object(h.c)(e);return"string"==typeof this.rowKey&&(e._rowKey=e[this.rowKey]),e._isHover=!1,e._isDisabled=e._disabled||!1,e._isChecked=e._checked||!1,e._isExpanded=e._expanded||!1,e._isHighlight=e._highlight||!1,e},makeObjData:function(){var i=this,n={};return this.data.forEach(function(e,t){e=i.makeObjBaseData(e);e.children&&e.children.length&&(e._showChildren?e._isShowChildren=e._showChildren:e._isShowChildren=!1,e.children=i.makeChildrenObjData(e)),n[t]=e}),n},makeChildrenObjData:function(e){var t=this;return e.children&&e.children.length?e.children.map(function(e){e=t.makeObjBaseData(e);return e._showChildren?e._isShowChildren=e._showChildren:e._isShowChildren=!1,e.children&&e.children.length&&(e.children=t.makeChildrenObjData(e)),e}):e},makeColumnsId:function(e){var t=this;return e.map(function(e){return"children"in e&&t.makeColumnsId(e.children),e.__id=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:32,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",i=t.length,n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*i));return n}(6),e})},makeColumns:function(e){var e=Object(h.c)(fo(e)),i=[],n=[],o=[];return e.forEach(function(e,t){e._index=t,e._columnKey=So++,e.width=parseInt(e.width),e._width=e.width||"",e._sortType="normal",e._filterVisible=!1,e._isFiltered=!1,e._filterChecked=[],e._filterMultiple=!("filterMultiple"in e)||e.filterMultiple,"filteredValue"in e&&(e._filterChecked=e.filteredValue,e._isFiltered=!0),"sortType"in e&&(e._sortType=e.sortType),(e.fixed&&"left"===e.fixed?i:e.fixed&&"right"===e.fixed?n:o).push(e)}),i.concat(o).concat(n)},makeColumnRows:function(e,t){return mo(t,e)},exportCsv:function(e){e.filename?-1===e.filename.indexOf(".csv")&&(e.filename+=".csv"):e.filename="table.csv";var t=[],i=[],i=e.columns&&e.data?(t=e.columns,e.data):(t=this.allColumns,"original"in e||(e.original=!0),e.original?this.data:this.rebuildData),n=!1,t=function(e,t,i,n){var o,s=3<arguments.length&&void 0!==n&&n,a=(i=Object.assign({},uo,i),[]),r=[];return e?(o=e.map(function(e){return"string"==typeof e?e:(s||r.push(void 0!==e.title?e.title:e.key),e.key)}),0<r.length&&no(a,r,i)):(o=[],t.forEach(function(e){Array.isArray(e)||(o=o.concat(Object.keys(e)))}),0<o.length&&(o=o.filter(function(e,t,i){return i.indexOf(e)===t}),s||no(a,o,i))),Array.isArray(t)&&t.forEach(function(t){Array.isArray(t)||(t=o.map(function(e){return void 0!==t[e]?t[e]:""})),no(a,t,i)}),a.join("\r\n")}(t,i,e,n="noHeader"in e?e.noHeader:n);e.callback?e.callback(t):bo.download(e.filename,t)},dragAndDrop:function(e,t){this.$emit("on-drag-drop",e,t)},handleClickContextMenuOutside:function(){this.contextMenuVisible=!1}},created:function(){this.context||(this.currentContext=this.$parent),this.showSlotHeader=void 0!==this.$slots.header,this.showSlotFooter=void 0!==this.$slots.footer,this.rebuildData=this.makeDataWithSortAndFilter()},mounted:function(){var t=this;this.handleResize(),this.$nextTick(function(){return t.ready=!0}),n(window,"resize",this.handleResize),this.observer=Gn()(),this.observer.listenTo(this.$el,this.handleResize),this.$on("on-visible-change",function(e){e&&t.$nextTick(function(){t.handleResize()})})},beforeDestroy:function(){this.$off("on-visible-change"),i(window,"resize",this.handleResize),this.observer.removeAllListeners(this.$el),this.observer.uninstall(this.$el),this.observer=null},watch:{data:{handler:function(){var e=this,t=this.rebuildData.length;this.objData=this.makeObjData(),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize(),t||this.fixedHeader(),setTimeout(function(){e.cloneData=Object(h.c)(e.data)},0)},deep:!0},columns:{handler:function(){var e=this.makeColumnsId(this.columns);this.allColumns=fo(e),this.cloneColumns=this.makeColumns(e),this.columnRows=this.makeColumnRows(!1,e),this.leftFixedColumnRows=this.makeColumnRows("left",e),this.rightFixedColumnRows=this.makeColumnRows("right",e),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize()},deep:!0},height:function(){this.handleResize()},maxHeight:function(){this.handleResize()},showHorizontalScrollBar:function(){this.handleResize()},showVerticalScrollBar:function(){this.handleResize()}}},e=Object(t.a)(w,function(){var e=this,t=e._self._c;return t("div",{ref:"tableWrap",class:e.wrapClasses,style:e.styles},[t("div",{class:e.classes},[e.showSlotHeader?t("div",{ref:"title",class:[e.prefixCls+"-title"]},[e._t("header")],2):e._e(),e.showHeader?t("div",{ref:"header",class:[e.prefixCls+"-header"],on:{mousewheel:e.handleMouseWheel}},[t("table-head",{attrs:{"prefix-cls":e.prefixCls,styleObject:e.tableHeaderStyle,columns:e.cloneColumns,"column-rows":e.columnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:!(e.localeNoDataText&&(!e.data||0===e.data.length)||e.localeNoFilteredDataText&&(!e.rebuildData||0===e.rebuildData.length)),expression:"!((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"}],ref:"body",class:[e.prefixCls+"-body"],style:e.bodyStyle,on:{scroll:e.handleBodyScroll}},[t("table-body",{ref:"tbody",attrs:{draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.tableStyle,columns:e.cloneColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e.showSummary&&e.data&&e.data.length?t("table-summary",{ref:"summary",attrs:{"prefix-cls":e.prefixCls,styleObject:e.tableStyle,columns:e.cloneColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:!((!e.localeNoDataText||e.data&&0!==e.data.length)&&(!e.localeNoFilteredDataText||e.rebuildData&&0!==e.rebuildData.length)),expression:"((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"}],class:[e.prefixCls+"-tip"],style:e.bodyStyle,on:{scroll:e.handleBodyScroll}},[t("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("tbody",[t("tr",[t("td",{style:{height:e.bodyStyle.height,width:"".concat(this.headerWidth,"px")}},[e.data&&0!==e.data.length?t("span",{domProps:{innerHTML:e._s(e.localeNoFilteredDataText)}}):t("span",{domProps:{innerHTML:e._s(e.localeNoDataText)}})])])])])]),e.isLeftFixed?t("div",{class:e.fixedTableClasses,style:e.fixedTableStyle},[e.showHeader?t("div",{class:e.fixedHeaderClasses},[t("table-head",{attrs:{fixed:"left","prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,"column-rows":e.columnRows,"fixed-column-rows":e.leftFixedColumnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),t("div",{ref:"fixedBody",class:[e.prefixCls+"-fixed-body"],style:e.fixedBodyStyle,on:{mousewheel:e.handleFixedMousewheel,DOMMouseScroll:e.handleFixedMousewheel}},[t("table-body",{attrs:{fixed:"left",draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e.showSummary&&e.data&&e.data.length?t("table-summary",{style:{"margin-top":e.showHorizontalScrollBar?e.scrollBarWidth+"px":0},attrs:{fixed:"left","prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e()],1):e._e(),e.isRightFixed?t("div",{class:e.fixedRightTableClasses,style:e.fixedRightTableStyle},[e.showHeader?t("div",{class:e.fixedHeaderClasses},[t("table-head",{attrs:{fixed:"right","prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,"column-rows":e.columnRows,"fixed-column-rows":e.rightFixedColumnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),t("div",{ref:"fixedRightBody",class:[e.prefixCls+"-fixed-body"],style:e.fixedBodyStyle,on:{mousewheel:e.handleFixedMousewheel,DOMMouseScroll:e.handleFixedMousewheel}},[t("table-body",{attrs:{fixed:"right",draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e.showSummary&&e.data&&e.data.length?t("table-summary",{style:{"margin-top":e.showHorizontalScrollBar?e.scrollBarWidth+"px":0},attrs:{fixed:"right","prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e()],1):e._e(),e.isRightFixed?t("div",{class:[e.prefixCls+"-fixed-right-header"],style:e.fixedRightHeaderStyle}):e._e(),e.showSlotFooter?t("div",{ref:"footer",class:[e.prefixCls+"-footer"]},[e._t("footer")],2):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showResizeLine,expression:"showResizeLine"}],ref:"resizeLine",staticClass:"ivu-table-resize-line"}),e.showContextMenu?t("div",{staticClass:"ivu-table-context-menu",style:e.contextMenuStyles},[t("Dropdown",{attrs:{trigger:"custom",visible:e.contextMenuVisible,transfer:""},on:{"on-clickoutside":e.handleClickContextMenuOutside}},[t("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._t("contextMenu")],2)],1)],1):e._e(),e.loading?t("Spin",{attrs:{fix:"",size:"large"}},[e._t("loading")],2):e._e()],1)},[],!1,null,null,null).exports,M="ivu-tabs",T={name:"Tabs",mixins:[u],components:{Icon:s,Render:y,Dropdown:ai,DropdownMenu:C},provide:function(){return{TabsInstance:this}},props:{value:{type:[String,Number]},type:{validator:function(e){return Object(h.m)(e,["line","card"])},default:"line"},size:{validator:function(e){return Object(h.m)(e,["small","default"])},default:"default"},animated:{type:Boolean,default:!0},captureFocus:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},beforeRemove:Function,name:{type:String},draggable:{type:Boolean,default:!1}},data:function(){return{prefixCls:M,navList:[],barWidth:0,barOffset:0,activeKey:this.value,focusedKey:this.value,showSlot:!1,navStyle:{transform:""},scrollable:!1,transitioning:!1,contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},computed:{classes:function(){return["".concat(M),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(M,"-card"),"card"===this.type),"".concat(M,"-mini"),"small"===this.size&&"line"===this.type),"".concat(M,"-no-animation"),!this.animated)]},contentClasses:function(){return["".concat(M,"-content"),Object(l.a)({},"".concat(M,"-content-animated"),this.animated)]},barClasses:function(){return["".concat(M,"-ink-bar"),Object(l.a)({},"".concat(M,"-ink-bar-animated"),this.animated)]},contentStyle:function(){var e=this.getTabIndex(this.activeKey),t=0===e?"0%":"-".concat(e,"00%"),i={};return i=-1<e?{transform:"translateX(".concat(t,") translateZ(0px)")}:i},barStyle:function(){var e={visibility:"hidden",width:"".concat(this.barWidth,"px")};return"line"===this.type&&(e.visibility="visible"),this.animated?e.transform="translate3d(".concat(this.barOffset,"px, 0px, 0px)"):e.left="".concat(this.barOffset,"px"),e},arrowType:function(){var e="ios-close";return this.$IVIEW&&(this.$IVIEW.tabs.customCloseIcon?e="":this.$IVIEW.tabs.closeIcon&&(e=this.$IVIEW.tabs.closeIcon)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.tabs.customCloseIcon?this.$IVIEW.tabs.customCloseIcon:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.tabs.closeIconSize?this.$IVIEW.tabs.closeIconSize:e}},methods:{getTabs:function(){var t=this,e=Object(h.h)(this,"TabPane"),i=[];return e.forEach(function(e){e.tab&&t.name&&e.tab!==t.name||i.push(e)}),i.sort(function(e,t){if(e.index&&t.index)return e.index>t.index?1:-1}),i},updateNav:function(){var i=this;this.navList=[],this.getTabs().forEach(function(e,t){i.navList.push({labelType:Object(ie.a)(e.label),label:e.label,icon:e.icon||"",name:e.currentName||t,disabled:e.disabled,closable:e.closable,contextMenu:e.contextMenu}),e.currentName||(e.currentName=t),0!==t||i.activeKey||(i.activeKey=e.currentName||t)}),this.updateStatus(),this.updateBar()},updateBar:function(){var a=this;this.$nextTick(function(){var e=a.getTabIndex(a.activeKey);if(a.$refs.nav){var t=a.$refs.nav.querySelectorAll(".".concat(M,"-tab")),i=t[e];if(a.barWidth=i?parseFloat(i.offsetWidth):0,0<e){for(var n=0,o="small"===a.size?0:16,s=0;s<e;s++)n+=parseFloat(t[s].offsetWidth)+o;a.barOffset=n}else a.barOffset=0;a.updateNavScroll()}})},updateStatus:function(){var t=this;this.getTabs().forEach(function(e){return e.show=e.currentName===t.activeKey||t.animated})},tabCls:function(e){return["".concat(M,"-tab"),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(M,"-tab-disabled"),e.disabled),"".concat(M,"-tab-active"),e.name===this.activeKey),"".concat(M,"-tab-focused"),e.name===this.focusedKey)]},handleChange:function(e){var t=this;this.transitioning||(this.transitioning=!0,setTimeout(function(){return t.transitioning=!1},300),(e=this.navList[e])&&!e.disabled&&(this.activeKey=e.name,this.$emit("input",e.name),this.$emit("on-click",e.name)))},handleDblclick:function(e){e=this.navList[e];e&&!e.disabled&&this.$emit("on-dblclick",e.name)},handleContextmenu:function(i,n){var o=this;this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(function(){var e,t=o.navList[i];t&&!t.disabled&&t.contextMenu&&(n.preventDefault(),e=o.$refs.tabsWrap.getBoundingClientRect(),e={left:"".concat(n.clientX-e.left,"px"),top:"".concat(n.clientY-e.top,"px")},o.contextMenuStyles=e,o.contextMenuVisible=!0,o.$emit("on-contextmenu",t,n,e))})},handleClickContextMenuOutside:function(){this.contextMenuVisible=!1},handlePreventSelect:function(e,t){e=this.navList[e];e&&!e.disabled&&e.contextMenu&&t.preventDefault()},handleTabKeyNavigation:function(e){37!==e.keyCode&&39!==e.keyCode||(e=39===e.keyCode?1:-1,e=go(this.navList,this.focusedKey,e),this.focusedKey=e.name)},handleTabKeyboardSelect:function(){var e;0<arguments.length&&void 0!==arguments[0]&&arguments[0]||(e=this.focusedKey||0,e=this.getTabIndex(e),this.handleChange(e))},handleRemove:function(e){var t=this;if(!this.beforeRemove)return this.handleRemoveTab(e);var i=this.beforeRemove(e);i&&i.then?i.then(function(){t.handleRemoveTab(e)}):this.handleRemoveTab(e)},handleRemoveTab:function(i){var e,t,n,o=this.getTabs(),s=o[i];s.$destroy(),s.currentName===this.activeKey&&(n=-1,(e=this.getTabs()).length&&(t=o.filter(function(e,t){return!e.disabled&&t<i}),n=((o=o.filter(function(e,t){return!e.disabled&&i<t})).length?o[0]:t.length?t[t.length-1]:e[0]).currentName),this.activeKey=n,this.$emit("input",n)),this.$emit("on-tab-remove",s.currentName),this.updateNav()},showClose:function(e){return"card"===this.type&&(null!==e.closable?e:this).closable},scrollPrev:function(){var e=this.$refs.navScroll.offsetWidth,t=this.getCurrentScrollOffset();t&&this.setOffset(e<t?t-e:0)},scrollNext:function(){var e=this.$refs.nav.offsetWidth,t=this.$refs.navScroll.offsetWidth,i=this.getCurrentScrollOffset();e-i<=t||this.setOffset(2*t<e-i?i+t:e-t)},getCurrentScrollOffset:function(){var e=this.navStyle;return e.transform?Number(e.transform.match(/translateX\(-(\d+(\.\d+)*)px\)/)[1]):0},getTabIndex:function(t){return this.navList.findIndex(function(e){return e.name===t})},setOffset:function(e){this.navStyle.transform="translateX(-".concat(e,"px)")},scrollToActiveTab:function(){var e,t,i,n,o,s;this.scrollable&&(e=this.$refs.nav,t=this.$el.querySelector(".".concat(M,"-tab-active")))&&(i=this.$refs.navScroll,t=t.getBoundingClientRect(),i=i.getBoundingClientRect(),n=e.getBoundingClientRect(),s=o=this.getCurrentScrollOffset(),n.right<i.right&&(s=e.offsetWidth-i.width),t.left<i.left?s=o-(i.left-t.left):t.right>i.right&&(s=o+t.right-i.right),o!==s)&&this.setOffset(Math.max(s,0))},updateNavScroll:function(){var e=this.$refs.nav.offsetWidth,t=this.$refs.navScroll.offsetWidth,i=this.getCurrentScrollOffset();t<e?(this.scrollable=!0,e-i<t&&this.setOffset(e-t)):(this.scrollable=!1,0<i&&this.setOffset(0))},handleScroll:function(e){e.preventDefault(),e.stopPropagation();var t=e.type,i=0;0<(i="DOMMouseScroll"!==t&&"mousewheel"!==t?i:e.wheelDelta||40*-(e.detail||0))?this.scrollPrev():this.scrollNext()},handleResize:function(){this.updateNavScroll()},isInsideHiddenElement:function(){for(var e=this.$el.parentNode;e&&e!==document.body;){if(e.style&&"none"===e.style.display)return e;e=e.parentNode}return!1},updateVisibility:function(i){var n=this;Object(c.a)(this.$refs.panes.querySelectorAll(".".concat(M,"-tabpane"))).forEach(function(e,t){i===t?(Object(c.a)(e.children).filter(function(e){return e.classList.contains("".concat(M,"-tabpane"))}).forEach(function(e){return e.style.visibility="visible"}),n.captureFocus&&setTimeout(function(){return yo(e,e)},300)):setTimeout(function(){Object(c.a)(e.children).filter(function(e){return e.classList.contains("".concat(M,"-tabpane"))}).forEach(function(e){return e.style.visibility="hidden"})},300)})},handleDrag:function(e,t){e=this.navList[e];e&&t.dataTransfer.setData("tab-name",e.name)},handleDrop:function(e,t){var i,n,o=this.navList[e];o&&(i=t.dataTransfer.getData("tab-name"),t.preventDefault(),e=this.navList.map(function(e){return e.name}),t=parseInt(e.findIndex(function(e){return e===i})),n=parseInt(e.findIndex(function(e){return e===o.name})),e.splice.apply(e,[n,1].concat(Object(c.a)(e.splice(t,1,e[n])))),this.$emit("on-drag-drop",i,o.name,t,n,e))}},watch:{value:function(e){this.activeKey=e,this.focusedKey=e},activeKey:function(e){var t=this,e=(this.focusedKey=e,this.updateBar(),this.updateStatus(),this.broadcast("Table","on-visible-change",!0),this.$nextTick(function(){t.scrollToActiveTab()}),Math.max(this.getTabIndex(this.focusedKey),0));this.updateVisibility(e)}},mounted:function(){var e=this,t=(this.showSlot=void 0!==this.$slots.extra,this.observer=Gn()(),this.observer.listenTo(this.$refs.navWrap,this.handleResize),this.isInsideHiddenElement());t&&(this.mutationObserver=new h.a(function(){"none"!==t.style.display&&(e.updateBar(),e.mutationObserver.disconnect())}),this.mutationObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,attributeFilter:["style"]})),this.handleTabKeyboardSelect(!0),this.updateVisibility(this.getTabIndex(this.activeKey))},beforeDestroy:function(){this.observer.removeListener(this.$refs.navWrap,this.handleResize),this.mutationObserver&&this.mutationObserver.disconnect()}},so=Object(t.a)(T,function(){var i=this,n=i._self._c;return n("div",{ref:"tabsWrap",class:i.classes},[n("div",{class:[i.prefixCls+"-bar"]},[i.showSlot?n("div",{class:[i.prefixCls+"-nav-right"]},[i._t("extra")],2):i._e(),n("div",{ref:"navContainer",class:[i.prefixCls+"-nav-container"],attrs:{tabindex:"0"},on:{keydown:[i.handleTabKeyNavigation,function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),i.handleTabKeyboardSelect(!1))}]}},[n("div",{ref:"navWrap",class:[i.prefixCls+"-nav-wrap",i.scrollable?i.prefixCls+"-nav-scrollable":""]},[n("span",{class:[i.prefixCls+"-nav-prev",i.scrollable?"":i.prefixCls+"-nav-scroll-disabled"],on:{click:i.scrollPrev}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1),n("span",{class:[i.prefixCls+"-nav-next",i.scrollable?"":i.prefixCls+"-nav-scroll-disabled"],on:{click:i.scrollNext}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),n("div",{ref:"navScroll",class:[i.prefixCls+"-nav-scroll"],on:{DOMMouseScroll:i.handleScroll,mousewheel:i.handleScroll}},[n("div",{ref:"nav",class:[i.prefixCls+"-nav"],style:i.navStyle},[n("div",{class:i.barClasses,style:i.barStyle}),i._l(i.navList,function(e,t){return n("div",{class:i.tabCls(e),attrs:{draggable:i.draggable},on:{click:function(e){return i.handleChange(t)},dblclick:function(e){return i.handleDblclick(t)},contextmenu:function(e){return e.stopPropagation(),i.handleContextmenu(t,e)},selectstart:function(e){return e.stopPropagation(),i.handlePreventSelect(t,e)},dragstart:function(e){return i.handleDrag(t,e)},drop:function(e){return i.handleDrop(t,e)},dragover:function(e){e.preventDefault()}}},[""!==e.icon?n("Icon",{attrs:{type:e.icon}}):i._e(),"function"===e.labelType?n("Render",{attrs:{render:e.label}}):[i._v(i._s(e.label))],i.showClose(e)?n("Icon",{class:[i.prefixCls+"-close"],attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize},nativeOn:{click:function(e){return e.stopPropagation(),i.handleRemove(t)}}}):i._e()],2)})],2)])])])]),n("div",{ref:"panes",class:i.contentClasses,style:i.contentStyle},[i._t("default")],2),n("div",{staticClass:"ivu-tabs-context-menu",style:i.contextMenuStyles},[n("Dropdown",{attrs:{trigger:"custom",visible:i.contextMenuVisible,transfer:""},on:{"on-clickoutside":i.handleClickContextMenuOutside}},[n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i._t("contextMenu")],2)],1)],1)])},[],!1,null,null,null).exports,ao={name:"TabPane",inject:["TabsInstance"],props:{name:{type:String},label:{type:[String,Function],default:""},icon:{type:String},disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:null},tab:{type:String},index:{type:Number},contextMenu:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tabs-tabpane",show:!0,currentName:this.name}},computed:{contentStyle:function(){return{visibility:this.TabsInstance.activeKey!==this.currentName?"hidden":"visible"}}},methods:{updateNav:function(){this.TabsInstance.updateNav()}},watch:{name:function(e){this.currentName=e,this.updateNav()},label:function(){this.updateNav()},icon:function(){this.updateNav()},disabled:function(){this.updateNav()}},mounted:function(){this.updateNav()},destroyed:function(){this.updateNav()}},w=Object(t.a)(ao,function(){return(0,this._self._c)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:this.prefixCls,style:this.contentStyle},[this._t("default")],2)},[],!1,null,null,null).exports,y=(so.Pane=w,so),_o="ivu-tag",Co=["default","primary","success","warning","error","blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],ko=["pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],T={name:"Tag",components:{Icon:U},props:{closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},color:{type:String,default:"default"},type:{validator:function(e){return Object(h.m)(e,["border","dot"])}},name:{type:[String,Number]},fade:{type:Boolean,default:!0},size:{validator:function(e){return Object(h.m)(e,["default","medium","large"])},default:"default"}},data:function(){return{isChecked:this.checked}},computed:{classes:function(){return["".concat(_o),"".concat(_o,"-size-").concat(this.size),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(_o,"-").concat(this.color),!!this.color&&Object(h.m)(this.color,Co)),"".concat(_o,"-").concat(this.type),!!this.type),"".concat(_o,"-closable"),this.closable),"".concat(_o,"-checked"),this.isChecked)]},wraperStyles:function(){return Object(h.m)(this.color,Co)?{}:{background:this.isChecked?this.defaultTypeColor:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"dot"!==this.type&&"border"!==this.type&&this.isChecked?this.borderColor:this.lineColor,color:this.lineColor}},textClasses:function(){return["".concat(_o,"-text"),"border"===this.type&&Object(h.m)(this.color,Co)?"".concat(_o,"-color-").concat(this.color):"","dot"!==this.type&&"border"!==this.type&&"default"!==this.color&&this.isChecked&&ko.indexOf(this.color)<0?"".concat(_o,"-color-white"):""]},dotClasses:function(){return"".concat(_o,"-dot-inner")},iconClass:function(){return"dot"===this.type?"":"border"===this.type?Object(h.m)(this.color,Co)?"".concat(_o,"-color-").concat(this.color):"":void 0===this.color||"default"===this.color?"":"rgb(255, 255, 255)"},showDot:function(){return!!this.type&&"dot"===this.type},lineColor:function(){return"dot"===this.type?"":"border"===this.type?void 0===this.color||Object(h.m)(this.color,Co)?"":this.color:void 0===this.color||"default"===this.color?"":"rgb(255, 255, 255)"},borderColor:function(){return void 0===this.color||"default"===this.color?"":this.color},dotColor:function(){return void 0===this.color||Object(h.m)(this.color,Co)?"":this.color},textColorStyle:function(){return!Object(h.m)(this.color,Co)&&("dot"===this.type||"border"===this.type||this.isChecked)?{color:this.lineColor}:{}},bgColorStyle:function(){return Object(h.m)(this.color,Co)?{}:{background:this.dotColor}},defaultTypeColor:function(){return"dot"===this.type||"border"===this.type||void 0===this.color||Object(h.m)(this.color,Co)?"":this.color}},methods:{close:function(e){void 0===this.name?this.$emit("on-close",e):this.$emit("on-close",e,this.name)},check:function(){var e;this.checkable&&(e=!this.isChecked,this.isChecked=e,void 0===this.name?this.$emit("on-change",e):this.$emit("on-change",e,this.name))}},watch:{checked:function(e){this.isChecked=e}}},ao=Object(t.a)(T,function(){var t=this,e=t._self._c;return t.fade?e("transition",{attrs:{name:"fade"}},[e("div",{class:t.classes,style:t.wraperStyles,on:{click:function(e){return e.stopPropagation(),t.check.apply(null,arguments)}}},[t.showDot?e("span",{class:t.dotClasses,style:t.bgColorStyle}):t._e(),e("span",{class:t.textClasses,style:t.textColorStyle},[t._t("default")],2),t.closable?e("Icon",{class:t.iconClass,attrs:{color:t.lineColor,type:"ios-close"},nativeOn:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}}):t._e()],1)]):e("div",{class:t.classes,style:t.wraperStyles,on:{click:function(e){return e.stopPropagation(),t.check.apply(null,arguments)}}},[t.showDot?e("span",{class:t.dotClasses,style:t.bgColorStyle}):t._e(),e("span",{class:t.textClasses,style:t.textColorStyle},[t._t("default")],2),t.closable?e("Icon",{class:t.iconClass,attrs:{color:t.lineColor,type:"ios-close"},nativeOn:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}}):t._e()],1)},[],!1,null,null,null).exports,xo=function(e,t){return e<=t},To=function(e){return e<10?"0"+e:e},Io=function(e,t){var e=new Date(e),i=e.getFullYear(),n=To(e.getMonth()+1),o=To(e.getDate()),s=To(e.getHours()),a=To(e.getMinutes()),e=To(e.getSeconds());return"year"===t?i+"-"+n+"-"+o+" "+s+":"+a+":"+e:n+"-"+o+" "+s+":"+a},Po=o.default.prototype.$isServer,w={name:"Time",mixins:[p],props:{time:{type:[Number,Date,String],required:!0},type:{type:String,validator:function(e){return Object(h.m)(e,["relative","date","datetime"])},default:"relative"},hash:{type:String,default:""},interval:{type:Number,default:60}},data:function(){return{date:""}},computed:{classes:function(){return["".concat("ivu-time"),Object(l.a)({},"".concat("ivu-time","-with-hash"),this.hash)]}},watch:{time:function(){Po||this.setTime()}},methods:{handleClick:function(){""!==this.hash&&(window.location.hash=this.hash)},setTime:function(){var e,t,i,n,o,s=Object(ie.a)(this.time);"number"===s?(e=10<this.time.toString().length?this.time:1e3*this.time,e=new Date(e).getTime()):"object"===s?e=this.time.getTime():"string"===s&&(e=new Date(this.time).getTime()),"relative"===this.type?this.date=vo(e,this.t):(e=(s=new Date(this.time)).getFullYear(),t=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,i=s.getDate()<10?"0"+s.getDate():s.getDate(),n=s.getHours()<10?"0"+s.getHours():s.getHours(),o=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),s=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds(),"datetime"===this.type?this.date="".concat(e,"-").concat(t,"-").concat(i," ").concat(n,":").concat(o,":").concat(s):"date"===this.type&&(this.date="".concat(e,"-").concat(t,"-").concat(i)))}},mounted:function(){var e=this;this.setTime(),Po||(this.timer=setInterval(function(){e.setTime()},1e3*this.interval))},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},so=Object(t.a)(w,function(){return(0,this._self._c)("span",{class:this.classes,on:{click:this.handleClick}},[this._v(this._s(this.date))])},[],!1,null,null,null).exports,Ao="ivu-timeline",T={name:"Timeline",props:{pending:{type:Boolean,default:!1}},computed:{classes:function(){return["".concat(Ao),Object(l.a)({},"".concat(Ao,"-pending"),this.pending)]}}},w=Object(t.a)(T,function(){return(0,this._self._c)("ul",{class:this.classes},[this._t("default")],2)},[],!1,null,null,null).exports,Do="ivu-timeline",T={name:"TimelineItem",props:{color:{type:String,default:"blue"}},data:function(){return{dot:!1}},mounted:function(){this.dot=!!this.$refs.dot.innerHTML.length},computed:{itemClasses:function(){return"".concat(Do,"-item")},tailClasses:function(){return"".concat(Do,"-item-tail")},headClasses:function(){return["".concat(Do,"-item-head"),Object(l.a)(Object(l.a)({},"".concat(Do,"-item-head-custom"),this.dot),"".concat(Do,"-item-head-").concat(this.color),this.headColorShow)]},headColorShow:function(){return"blue"==this.color||"red"==this.color||"green"==this.color},customColor:function(){var e={};return e=!this.color||this.headColorShow?e:{color:this.color,"border-color":this.color}},contentClasses:function(){return"".concat(Do,"-item-content")}}},T=Object(t.a)(T,function(){var e=this._self._c;return e("li",{class:this.itemClasses},[e("div",{class:this.tailClasses}),e("div",{ref:"dot",class:this.headClasses,style:this.customColor},[this._t("dot")],2),e("div",{class:this.contentClasses},[this._t("default")],2)])},[],!1,null,null,null).exports;w.Item=T;var T=w,w={mixins:[Rt,Qt],components:{TimePickerPanel:ii,RangeTimePickerPanel:Zt},props:{type:{validator:function(e){return Object(h.m)(e,["time","timerange"])},default:"time"}},computed:{panel:function(){return"timerange"===this.type?"RangeTimePickerPanel":"TimePickerPanel"},ownPickerProps:function(){return{disabledHours:this.disabledHours,disabledMinutes:this.disabledMinutes,disabledSeconds:this.disabledSeconds,hideDisabledOptions:this.hideDisabledOptions}}},watch:{visible:function(e){var t=this;e&&this.$nextTick(function(){Object(h.h)(t,"TimeSpinner").forEach(function(e){return e.updateScroll()})})}}},Rt=a,Qt={name:"Search",components:{iInput:Le},props:{prefixCls:String,placeholder:String,query:String},data:function(){return{currentQuery:this.query}},watch:{query:function(e){this.currentQuery=e},currentQuery:function(e){this.$emit("on-query-change",e)}},computed:{icon:function(){return""===this.query?"ios-search":"ios-close-circle"}},methods:{handleClick:function(){""!==this.currentQuery&&(this.currentQuery="",this.$emit("on-query-clear"))}}},ii={name:"TransferList",components:{Search:Object(t.a)(Qt,function(){var t=this,e=t._self._c;return e("div",{class:t.prefixCls},[e("i-input",{attrs:{size:"small",icon:t.icon,placeholder:t.placeholder},on:{"on-click":t.handleClick},model:{value:t.currentQuery,callback:function(e){t.currentQuery=e},expression:"currentQuery"}})],1)},[],!1,null,null,null).exports,Checkbox:v},props:{prefixCls:String,data:Array,renderFormat:Function,checkedKeys:Array,listStyle:Object,title:[String,Number],filterable:Boolean,filterPlaceholder:String,filterMethod:Function,notFoundText:String,validKeysCount:Number},data:function(){return{showItems:[],query:"",showFooter:!0}},watch:{data:function(){this.updateFilteredData()}},computed:{classes:function(){return["".concat(this.prefixCls),Object(l.a)({},"".concat(this.prefixCls,"-with-footer"),this.showFooter)]},bodyClasses:function(){return["".concat(this.prefixCls,"-body"),Object(l.a)(Object(l.a)({},"".concat(this.prefixCls,"-body-with-search"),this.filterable),"".concat(this.prefixCls,"-body-with-footer"),this.showFooter)]},count:function(){var e=this.validKeysCount;return(0<e?"".concat(e,"/"):"")+"".concat(this.data.length)},checkedAll:function(){return this.filterData.filter(function(e){return!e.disabled}).length===this.validKeysCount&&0!==this.validKeysCount},checkedAllDisabled:function(){return this.filterData.filter(function(e){return!e.disabled}).length<=0},filterData:function(){var t=this;return this.showItems.filter(function(e){return t.filterMethod(e,t.query)})}},methods:{itemClasses:function(e){return["".concat(this.prefixCls,"-content-item"),Object(l.a)({},"".concat(this.prefixCls,"-content-item-disabled"),e.disabled)]},showLabel:function(e){return this.renderFormat(e)},isCheck:function(t){return this.checkedKeys.some(function(e){return e===t.key})},select:function(e){var t;e.disabled||(-1<(t=this.checkedKeys.indexOf(e.key))?this.checkedKeys.splice(t,1):this.checkedKeys.push(e.key),this.$parent.handleCheckedKeys())},updateFilteredData:function(){this.showItems=this.data},toggleSelectAll:function(e){var t=this,e=e?this.filterData.filter(function(e){return!e.disabled||-1<t.checkedKeys.indexOf(e.key)}).map(function(e){return e.key}):this.filterData.filter(function(e){return e.disabled&&-1<t.checkedKeys.indexOf(e.key)}).map(function(e){return e.key});this.$emit("on-checked-keys-change",e)},handleQueryClear:function(){this.query=""},handleQueryChange:function(e){this.query=e}},created:function(){this.updateFilteredData()},mounted:function(){this.showFooter=void 0!==this.$slots.default}},Eo=Object(t.a)(ii,function(){var i=this,e=i._self._c;return e("div",{class:i.classes,style:i.listStyle},[e("div",{class:i.prefixCls+"-header"},[e("Checkbox",{attrs:{value:i.checkedAll,disabled:i.checkedAllDisabled},on:{"on-change":i.toggleSelectAll}}),e("span",{class:i.prefixCls+"-header-title",on:{click:function(e){return i.toggleSelectAll(!i.checkedAll)}}},[i._v(i._s(i.title))]),e("span",{class:i.prefixCls+"-header-count"},[i._v(i._s(i.count))])],1),e("div",{class:i.bodyClasses},[i.filterable?e("div",{class:i.prefixCls+"-body-search-wrapper"},[e("Search",{attrs:{"prefix-cls":i.prefixCls+"-search",query:i.query,placeholder:i.filterPlaceholder},on:{"on-query-clear":i.handleQueryClear,"on-query-change":i.handleQueryChange}})],1):i._e(),e("ul",{class:i.prefixCls+"-content"},[i._l(i.filterData,function(t){return e("li",{class:i.itemClasses(t),on:{click:function(e){return e.preventDefault(),i.select(t)}}},[e("Checkbox",{attrs:{value:i.isCheck(t),disabled:t.disabled}}),e("span",{domProps:{innerHTML:i._s(i.showLabel(t))}})],1)}),e("li",{class:i.prefixCls+"-content-not-found"},[i._v(i._s(i.notFoundText))])],2)]),i.showFooter?e("div",{class:i.prefixCls+"-footer"},[i._t("default")],2):i._e()])},[],!1,null,null,null).exports,Zt={name:"Operation",components:{iButton:Ye,Icon:s},props:{prefixCls:String,operations:Array,leftActive:Boolean,rightActive:Boolean,reverseOperation:Boolean},methods:{moveToLeft:function(){this.$parent.moveTo("left")},moveToRight:function(){this.$parent.moveTo("right")}}},Oo=Object(t.a)(Zt,function(){var t=this,e=t._self._c;return e("div",{class:t.prefixCls+"-operation"},[t.reverseOperation?[e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.leftActive},nativeOn:{click:function(e){return t.moveToRight.apply(null,arguments)}}},[e("span",[t._v(t._s(t.operations[1]))]),t._v(" "),e("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.rightActive},nativeOn:{click:function(e){return t.moveToLeft.apply(null,arguments)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}}),t._v(" "),e("span",[t._v(t._s(t.operations[0]))])],1)]:[e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.rightActive},nativeOn:{click:function(e){return t.moveToLeft.apply(null,arguments)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}}),t._v(" "),e("span",[t._v(t._s(t.operations[0]))])],1),e("i-button",{attrs:{type:"primary",size:"small",disabled:!t.leftActive},nativeOn:{click:function(e){return t.moveToRight.apply(null,arguments)}}},[e("span",[t._v(t._s(t.operations[1]))]),t._v(" "),e("Icon",{attrs:{type:"ios-arrow-forward"}})],1)]],2)},[],!1,null,null,null).exports,Lo="ivu-transfer",a={name:"Transfer",mixins:[u,p],render:function(n){var e=void 0===this.$slots.default?[]:this.$slots.default,t=void 0===this.$slots.default?[]:e.map(function e(t){var i=t.children&&t.children.map(e),i=n(t.tag,t.data,i);return i.text=t.text,i.isComment=t.isComment,i.componentOptions=t.componentOptions,i.elm=t.elm,i.context=t.context,i.ns=t.ns,i.isStatic=t.isStatic,i.key=t.key,i});return n("div",{class:this.classes},[n(Eo,{ref:"left",props:{prefixCls:this.prefixCls+"-list",data:this.leftData,renderFormat:this.renderFormat,checkedKeys:this.leftCheckedKeys,validKeysCount:this.leftValidKeysCount,listStyle:this.listStyle,title:this.localeTitles[0],filterable:this.filterable,filterPlaceholder:this.localeFilterPlaceholder,filterMethod:this.filterMethod,notFoundText:this.localeNotFoundText},on:{"on-checked-keys-change":this.handleLeftCheckedKeysChange}},e),n(Oo,{props:{prefixCls:this.prefixCls,operations:this.operations,leftActive:0<this.leftValidKeysCount,rightActive:0<this.rightValidKeysCount,reverseOperation:this.reverseOperation}}),n(Eo,{ref:"right",props:{prefixCls:this.prefixCls+"-list",data:this.rightData,renderFormat:this.renderFormat,checkedKeys:this.rightCheckedKeys,validKeysCount:this.rightValidKeysCount,listStyle:this.listStyle,title:this.localeTitles[1],filterable:this.filterable,filterPlaceholder:this.localeFilterPlaceholder,filterMethod:this.filterMethod,notFoundText:this.localeNotFoundText},on:{"on-checked-keys-change":this.handleRightCheckedKeysChange}},t)])},props:{data:{type:Array,default:function(){return[]}},renderFormat:{type:Function,default:function(e){return e.label||e.key}},targetKeys:{type:Array,default:function(){return[]}},selectedKeys:{type:Array,default:function(){return[]}},listStyle:{type:Object,default:function(){return{}}},titles:{type:Array},operations:{type:Array,default:function(){return[]}},filterable:{type:Boolean,default:!1},filterPlaceholder:{type:String},filterMethod:{type:Function,default:function(e,t){return-1<e["label"in e?"label":"key"].indexOf(t)}},notFoundText:{type:String},reverseOperation:{type:Boolean,default:!1}},data:function(){return{prefixCls:Lo,leftData:[],rightData:[],leftCheckedKeys:[],rightCheckedKeys:[]}},computed:{classes:function(){return["".concat(Lo)]},leftValidKeysCount:function(){return this.getValidKeys("left").length},rightValidKeysCount:function(){return this.getValidKeys("right").length},localeFilterPlaceholder:function(){return void 0===this.filterPlaceholder?this.t("i.transfer.filterPlaceholder"):this.filterPlaceholder},localeNotFoundText:function(){return void 0===this.notFoundText?this.t("i.transfer.notFoundText"):this.notFoundText},localeTitles:function(){return void 0===this.titles?[this.t("i.transfer.titles.source"),this.t("i.transfer.titles.target")]:this.titles}},methods:{getValidKeys:function(t){var i=this;return this["".concat(t,"Data")].filter(function(e){return!e.disabled&&-1<i["".concat(t,"CheckedKeys")].indexOf(e.key)}).map(function(e){return e.key})},splitData:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.leftData=Object(c.a)(this.data),this.rightData=[],0<this.targetKeys.length&&this.targetKeys.forEach(function(i){var e=n.leftData.filter(function(e,t){return e.key===i&&(n.leftData.splice(t,1),!0)});e&&0<e.length&&n.rightData.push(e[0])}),e&&this.splitSelectedKey()},splitSelectedKey:function(){var t=this.selectedKeys;0<t.length&&(this.leftCheckedKeys=this.leftData.filter(function(e){return-1<t.indexOf(e.key)}).map(function(e){return e.key}),this.rightCheckedKeys=this.rightData.filter(function(e){return-1<t.indexOf(e.key)}).map(function(e){return e.key}))},moveTo:function(e){var t=this.targetKeys,i="left"===e?"right":"left",n=this.getValidKeys(i),t="right"===e?n.concat(t):t.filter(function(t){return!n.some(function(e){return t===e})});this.$refs[i].toggleSelectAll(!1),this.$emit("on-change",t,e,n),this.dispatch("FormItem","on-form-change",{tarketKeys:t,direction:e,moveKeys:n})},handleLeftCheckedKeysChange:function(e){this.leftCheckedKeys=e},handleRightCheckedKeysChange:function(e){this.rightCheckedKeys=e},handleCheckedKeys:function(){var e=this.getValidKeys("left"),t=this.getValidKeys("right");this.$emit("on-selected-change",e,t)}},watch:{targetKeys:function(){this.splitData(!1)},data:function(){this.splitData(!1)}},mounted:function(){this.splitData(!0)}},Le=Object(t.a)(a,void 0,void 0,!1,null,null,null).exports,Qt={name:"RenderCell",functional:!0,props:{render:Function,data:Object,node:Array},render:function(e,t){var i={root:t.props.node[0],node:t.props.node[1],data:t.props.data};return t.props.render(e,i)}},No="ivu-tree",ii={name:"TreeNode",mixins:[u],inject:["TreeInstance"],components:{Checkbox:v,Icon:s,CollapseTransition:ht,Render:Qt},props:{data:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},childrenKey:{type:String,default:"children"},showCheckbox:{type:Boolean,default:!1},appear:{type:Boolean,default:!1}},data:function(){return{prefixCls:No,appearByClickArrow:!1}},computed:{classes:function(){return["".concat(No,"-children")]},selectedCls:function(){return[Object(l.a)({},"".concat(No,"-node-selected"),this.data.selected)]},arrowClasses:function(){return["".concat(No,"-arrow"),Object(l.a)(Object(l.a)({},"".concat(No,"-arrow-disabled"),this.data.disabled),"".concat(No,"-arrow-open"),this.data.expand)]},titleClasses:function(){return["".concat(No,"-title"),Object(l.a)({},"".concat(No,"-title-selected"),this.data.selected)]},showArrow:function(){return this.data[this.childrenKey]&&this.data[this.childrenKey].length||"loading"in this.data&&!this.data.loading},showLoading:function(){return"loading"in this.data&&this.data.loading},isParentRender:function(){var e=Object(h.g)(this,"Tree");return e&&e.render},parentRender:function(){var e=Object(h.g)(this,"Tree");return e&&e.render?e.render:null},node:function(){var t=this,e=Object(h.g)(this,"Tree");return e?[e.flatState,e.flatState.find(function(e){return e.nodeKey===t.data.nodeKey})]:[]},children:function(){return this.data[this.childrenKey]},arrowType:function(){var e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.tree.customArrow?e="":this.$IVIEW.tree.arrow&&(e=this.$IVIEW.tree.arrow)),e},customArrowType:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.tree.customArrow?this.$IVIEW.tree.customArrow:e},arrowSize:function(){var e="";return e=this.$IVIEW&&this.$IVIEW.tree.arrowSize?this.$IVIEW.tree.arrowSize:e}},methods:{handleExpand:function(){var t=this,e=this.data;if(this.appearByClickArrow=!0,0===e[this.childrenKey].length){var i=Object(h.g)(this,"Tree");if(i&&i.loadData)return this.$set(this.data,"loading",!0),void i.loadData(e,function(e){t.$set(t.data,"loading",!1),e.length&&(t.$set(t.data,t.childrenKey,e),t.$nextTick(function(){return t.handleExpand()}))})}e[this.childrenKey]&&e[this.childrenKey].length&&(this.$set(this.data,"expand",!this.data.expand),this.dispatch("Tree","toggle-expand",this.data))},handleClickNode:function(){this.TreeInstance.expandNode?this.showArrow&&this.handleExpand():this.TreeInstance.selectNode&&this.handleSelect()},handleSelect:function(){this.data.disabled||(this.TreeInstance.showCheckbox&&this.TreeInstance.checkDirectly?this.handleCheck():this.dispatch("Tree","on-selected",this.data.nodeKey))},handleCheck:function(){var e;this.data.disabled||(e={checked:!this.data.checked&&!this.data.indeterminate,nodeKey:this.data.nodeKey},this.dispatch("Tree","on-check",e))},handleContextmenu:function(e,t){e.contextmenu&&(t.preventDefault(),this.dispatch("Tree","contextmenu",{data:e,event:t}))},handlePreventSelect:function(e,t){e.contextmenu&&t.preventDefault()}}},Zt=Object(t.a)(ii,function(){var i=this,n=i._self._c;return n("collapse-transition",{attrs:{appear:i.appear}},[n("ul",{class:i.classes},[n("li",{on:{contextmenu:function(e){return e.stopPropagation(),i.handleContextmenu(i.data,e)},selectstart:function(e){return e.stopPropagation(),i.handlePreventSelect(i.data,e)}}},[n("span",{class:i.arrowClasses,on:{click:i.handleExpand}},[i.showArrow?n("Icon",{attrs:{type:i.arrowType,custom:i.customArrowType,size:i.arrowSize}}):i._e(),i.showLoading?n("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):i._e()],1),i.showCheckbox?n("Checkbox",{attrs:{value:i.data.checked,indeterminate:i.data.indeterminate,disabled:i.data.disabled||i.data.disableCheckbox},nativeOn:{click:function(e){return e.preventDefault(),i.handleCheck.apply(null,arguments)}}}):i._e(),n("span",{class:i.titleClasses,on:{click:i.handleClickNode}},[i.data.render?n("Render",{attrs:{render:i.data.render,data:i.data,node:i.node}}):i.isParentRender?n("Render",{attrs:{render:i.parentRender,data:i.data,node:i.node}}):[i._v(i._s(i.data.title))]],2),i._l(i.children,function(e,t){return i.data.expand?n("Tree-node",{key:t,attrs:{appear:i.appearByClickArrow,data:e,multiple:i.multiple,"show-checkbox":i.showCheckbox,"children-key":i.childrenKey}}):i._e()})],2)])])},[],!1,null,null,null).exports,a={name:"Tree",mixins:[u,p],components:{TreeNode:Zt,Dropdown:ai,DropdownMenu:C},provide:function(){return{TreeInstance:this}},props:{data:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},checkDirectly:{type:Boolean,default:!1},emptyText:{type:String},childrenKey:{type:String,default:"children"},loadData:{type:Function},render:{type:Function},selectNode:{type:Boolean,default:!0},expandNode:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tree",stateTree:this.data,flatState:[],contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},watch:{data:{deep:!0,handler:function(){this.stateTree=this.data,this.flatState=this.compileFlatState(),this.rebuildTree()}}},computed:{localeEmptyText:function(){return void 0===this.emptyText?this.t("i.tree.emptyText"):this.emptyText}},methods:{compileFlatState:function(){var n=0,o=this.childrenKey,s=[];return this.stateTree.forEach(function(e){!function t(i,e){i.nodeKey=n++,s[i.nodeKey]={node:i,nodeKey:i.nodeKey},void 0!==e&&(s[i.nodeKey].parent=e.nodeKey,s[e.nodeKey][o].push(i.nodeKey)),i[o]&&(s[i.nodeKey][o]=[],i[o].forEach(function(e){return t(e,i)}))}(e)}),s},updateTreeUp:function(e){var t,i=this.flatState[e].parent;void 0===i||this.checkStrictly||(e=this.flatState[e].node,t=this.flatState[i].node,e.checked==t.checked&&e.indeterminate==t.indeterminate)||(1==e.checked?(this.$set(t,"checked",t[this.childrenKey].every(function(e){return e.checked})),this.$set(t,"indeterminate",!t.checked)):(this.$set(t,"checked",!1),this.$set(t,"indeterminate",t[this.childrenKey].some(function(e){return e.checked||e.indeterminate}))),this.updateTreeUp(i))},rebuildTree:function(){var i=this;this.getCheckedNodes().forEach(function(e){i.updateTreeDown(e,{checked:!0});var t=i.flatState[e.nodeKey].parent;(t||0===t)&&(t=i.flatState[t].node,void 0!==e.checked)&&e.checked&&t.checked!=e.checked&&i.updateTreeUp(e.nodeKey)})},getSelectedNodes:function(){return this.flatState.filter(function(e){return e.node.selected}).map(function(e){return e.node})},getCheckedNodes:function(){return this.flatState.filter(function(e){return e.node.checked}).map(function(e){return e.node})},getCheckedAndIndeterminateNodes:function(){return this.flatState.filter(function(e){return e.node.checked||e.node.indeterminate}).map(function(e){return e.node})},updateTreeDown:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.checkStrictly){for(var n in i)this.$set(e,n,i[n]);e[this.childrenKey]&&e[this.childrenKey].forEach(function(e){t.updateTreeDown(e,i)})}},handleSelect:function(e){var t,i;this.flatState[e]&&(t=this.flatState[e].node,this.multiple||0<=(i=this.flatState.findIndex(function(e){return e.node.selected}))&&i!==e&&this.$set(this.flatState[i].node,"selected",!1),this.$set(t,"selected",!t.selected),this.$emit("on-select-change",this.getSelectedNodes(),t))},handleCheck:function(e){var t,i=e.checked,e=e.nodeKey;this.flatState[e]&&(t=this.flatState[e].node,this.$set(t,"checked",i),this.$set(t,"indeterminate",!1),this.updateTreeUp(e),this.updateTreeDown(t,{checked:i,indeterminate:!1}),this.$emit("on-check-change",this.getCheckedNodes(),t))},handleContextmenu:function(e){var t=this,i=e.data,n=e.event;this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(function(){var e=t.$refs.treeWrap.getBoundingClientRect(),e={left:"".concat(n.clientX-e.left,"px"),top:"".concat(n.clientY-e.top,"px")};t.contextMenuStyles=e,t.contextMenuVisible=!0,t.$emit("on-contextmenu",i,n,e)})},handleClickContextMenuOutside:function(){this.contextMenuVisible=!1}},created:function(){this.flatState=this.compileFlatState(),this.rebuildTree()},mounted:function(){var t=this;this.$on("on-check",this.handleCheck),this.$on("on-selected",this.handleSelect),this.$on("toggle-expand",function(e){return t.$emit("on-toggle-expand",e)}),this.$on("contextmenu",this.handleContextmenu)}},v=Object(t.a)(a,function(){var i=this,n=i._self._c;return n("div",{ref:"treeWrap",class:i.prefixCls},[i._l(i.stateTree,function(e,t){return n("Tree-node",{key:t,attrs:{data:e,visible:"",multiple:i.multiple,"show-checkbox":i.showCheckbox,"children-key":i.childrenKey}})}),i.stateTree.length?i._e():n("div",{class:[i.prefixCls+"-empty"]},[i._v(i._s(i.localeEmptyText))]),n("div",{staticClass:"ivu-tree-context-menu",style:i.contextMenuStyles},[n("Dropdown",{attrs:{trigger:"custom",visible:i.contextMenuVisible,transfer:""},on:{"on-clickoutside":i.handleClickContextMenuOutside}},[n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i._t("contextMenu")],2)],1)],1)],2)},[],!1,null,null,null).exports,Mo="ivu-upload",ht={name:"UploadList",components:{Icon:s,iProgress:I},props:{files:{type:Array,default:function(){return[]}}},data:function(){return{prefixCls:Mo}},methods:{fileCls:function(e){return["".concat(Mo,"-list-file"),Object(l.a)({},"".concat(Mo,"-list-file-finish"),"finished"===e.status)]},handleClick:function(e){this.$emit("on-file-click",e)},handlePreview:function(e){this.$emit("on-file-preview",e)},handleRemove:function(e){this.$emit("on-file-remove",e)},format:function(e){var e=e.name.split(".").pop().toLocaleLowerCase()||"",t="ios-document-outline";return-1<["gif","jpg","jpeg","png","bmp","webp"].indexOf(e)&&(t="ios-image"),-1<["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(e)&&(t="ios-film"),-1<["mp3","wav","wma","ogg","aac","flac"].indexOf(e)&&(t="ios-musical-notes"),-1<["doc","txt","docx","pages","epub","pdf"].indexOf(e)&&(t="md-document"),-1<["numbers","csv","xls","xlsx"].indexOf(e)&&(t="ios-stats"),t=-1<["keynote","ppt","pptx"].indexOf(e)?"ios-videocam":t},parsePercentage:function(e){return parseInt(e,10)}}},Qt=Object(t.a)(ht,function(){var i=this,e=i._self._c;return e("ul",{class:[i.prefixCls+"-list"]},i._l(i.files,function(t){return e("li",{class:i.fileCls(t),on:{click:function(e){return i.handleClick(t)}}},[e("span",{on:{click:function(e){return i.handlePreview(t)}}},[e("Icon",{attrs:{type:i.format(t)}}),i._v(" "+i._s(t.name)+" ")],1),e("Icon",{directives:[{name:"show",rawName:"v-show",value:"finished"===t.status,expression:"file.status === 'finished'"}],class:[i.prefixCls+"-list-remove"],attrs:{type:"ios-close"},nativeOn:{click:function(e){return i.handleRemove(t)}}}),e("transition",{attrs:{name:"fade"}},[t.showProgress?e("i-progress",{attrs:{"stroke-width":2,percent:i.parsePercentage(t.percentage),status:"finished"===t.status&&t.showProgress?"success":"normal"}}):i._e()],1)],1)}),0)},[],!1,null,null,null).exports;function Bo(t){t=t.responseText||t.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function Fo(n){if("undefined"!=typeof XMLHttpRequest){var e,o=new XMLHttpRequest,s=n.action,t=(o.upload&&(o.upload.onprogress=function(e){0<e.total&&(e.percent=e.loaded/e.total*100),n.onProgress(e)}),new FormData),i=(n.data&&Object.keys(n.data).map(function(e){t.append(e,n.data[e])}),t.append(n.filename,n.file),o.onerror=function(e){n.onError(e)},o.onload=function(){if(o.status<200||300<=o.status)return n.onError((t=o,i="fail to post ".concat(e=s," ").concat(t.status,"'"),(i=new Error(i)).status=t.status,i.method="post",i.url=e,i),Bo(o));var e,t,i;n.onSuccess(Bo(o))},o.open("post",s,!0),n.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0),n.headers||{});for(e in i)i.hasOwnProperty(e)&&null!==i[e]&&o.setRequestHeader(e,i[e]);return o.send(t),o}}var Ro="ivu-upload",ii={name:"Upload",mixins:[u,d],components:{UploadList:Qt},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},withCredentials:{type:Boolean,default:!1},showUploadList:{type:Boolean,default:!0},type:{type:String,validator:function(e){return Object(h.m)(e,["select","drag"])},default:"select"},format:{type:Array,default:function(){return[]}},accept:{type:String},maxSize:{type:Number},beforeUpload:Function,onProgress:{type:Function,default:function(){return{}}},onSuccess:{type:Function,default:function(){return{}}},onError:{type:Function,default:function(){return{}}},onRemove:{type:Function,default:function(){return{}}},onPreview:{type:Function,default:function(){return{}}},onExceededSize:{type:Function,default:function(){return{}}},onFormatError:{type:Function,default:function(){return{}}},defaultFileList:{type:Array,default:function(){return[]}},paste:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},webkitdirectory:{type:Boolean,default:!0}},data:function(){return{dealOverCount:0,maxCountSameTime:3,waitList:[],prefixCls:Ro,dragOver:!1,fileList:[],tempIndex:1}},computed:{classes:function(){return["".concat(Ro),Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Ro,"-select"),"select"===this.type),"".concat(Ro,"-drag"),"drag"===this.type),"".concat(Ro,"-dragOver"),"drag"===this.type&&this.dragOver)]}},methods:{handleClick:function(){this.itemDisabled||this.$refs.input.click()},addUploadFile:function(e){this.uploadFiles([e])},handleChange:function(e){e=e.target.files;e&&(this.uploadFiles(e),this.$refs.input.value=null)},onDrop:function(e){"drag"==this.type&&(this.dragOver=!1,this.itemDisabled||this.uploadFiles(e.dataTransfer.files))},handlePaste:function(e){this.itemDisabled||this.paste&&this.uploadFiles(e.clipboardData.files)},uploadFiles:function(e){var t=this,i=!1,e=(this.waitList.length<1&&(i=!0),Array.prototype.slice.call(e));0!==(e=this.multiple?e:e.slice(0,1)).length&&(e.forEach(function(e){t.waitList.push(e)}),i)&&this.startUpload()},startUpload:function(){for(var e,t=this.dealOverCount=0;t<this.maxCountSameTime;t++)0<this.waitList.length&&(e=this.waitList[0],this.waitList.splice(0,1),this.upload(e))},upload:function(t){var i=this;if(!this.beforeUpload)return this.post(t);var e=this.beforeUpload(t);e&&e.then?e.then(function(e){"[object File]"===Object.prototype.toString.call(e)?i.post(e):i.post(t)},function(){i.dealOverCount+=1}):!1!==e&&this.post(t)},post:function(i){var n=this;if(this.format.length){var t=i.name.split(".").pop().toLocaleLowerCase();if(!this.format.some(function(e){return e.toLocaleLowerCase()===t}))return this.onFormatError(i,this.fileList),!1}if(this.maxSize&&i.size>1024*this.maxSize)return this.onExceededSize(i,this.fileList),!1;this.handleStart(i);(new FormData).append(this.name,i);var e=Fo({headers:this.headers,withCredentials:this.withCredentials,file:i,data:this.data,filename:this.name,action:i.uploadUrl||this.action,onProgress:function(e){n.handleProgress(e,i)},onSuccess:function(e){n.handleSuccess(e,i),n.dealOverCount+=1,n.dealOverCount,(n.dealOverCount>=n.maxCountSameTime||n.waitList.length<1)&&n.startUpload()},onError:function(e,t){n.handleError(e,t,i),n.dealOverCount+=1,n.dealOverCount,(n.dealOverCount>=n.maxCountSameTime||n.waitList.length<1)&&n.startUpload()}}),o=this.getFileIndex(i);-1!=o&&(this.fileList[o].xhr=e)},handleStart:function(e){e.uid=Date.now()+this.tempIndex++;e={status:"uploading",name:e.name,size:e.size,percentage:0,uid:e.uid,showProgress:!0};this.fileList.push(e)},getFile:function(t){var i;return this.fileList.every(function(e){return!(i=t.uid===e.uid?e:null)}),i},getFileIndex:function(e){var t,i=this.fileList;for(t in i)if(i[t].uid==e.uid)return t;return-1},handleProgress:function(e,t){t=this.getFile(t);this.onProgress(e,t,this.fileList),t.percentage=e.percent||0},handleSuccess:function(e,t){var i=this.getFile(t);i&&(i.status="finished",i.response=e,this.onSuccess(e,i,this.fileList,t),this.dispatch("FormItem","on-form-change",i),setTimeout(function(){i.showProgress=!1},1e3))},handleError:function(e,t,i){var n=this.getFile(i),o=this.fileList;n.status="fail",o.splice(o.indexOf(n),1),this.onError(e,t,i)},handleRemove:function(e){var t=this.fileList;t.splice(t.indexOf(e),1),this.onRemove(e,t)},handlePreview:function(e){"finished"===e.status&&this.onPreview(e)},clearFiles:function(){this.fileList=[]}},watch:{defaultFileList:{immediate:!0,handler:function(e){var t=this;this.fileList=e.map(function(e){return e.status="finished",e.percentage=100,e.uid=Date.now()+t.tempIndex++,e})}}}},Zt=Object(t.a)(ii,function(){var t=this,e=t._self._c;return e("div",{class:[t.prefixCls]},[e("div",{class:t.classes,on:{click:t.handleClick,drop:function(e){return e.preventDefault(),t.onDrop.apply(null,arguments)},paste:t.handlePaste,dragover:function(e){e.preventDefault(),t.dragOver=!0},dragleave:function(e){e.preventDefault(),t.dragOver=!1}}},[e("input",{ref:"input",class:[t.prefixCls+"-input"],attrs:{type:"file",multiple:t.multiple,webkitdirectory:t.webkitdirectory,accept:t.accept},on:{change:t.handleChange}}),t._t("default")],2),t._t("tip"),t.showUploadList?e("upload-list",{attrs:{files:t.fileList},on:{"on-file-remove":t.handleRemove,"on-file-preview":t.handlePreview}}):t._e()],2)},[],!1,null,null,null).exports,jo="ivu-row",ai={name:"Row",props:{type:{validator:function(e){return Object(h.m)(e,["flex"])}},align:{validator:function(e){return Object(h.m)(e,["top","middle","bottom"])}},justify:{validator:function(e){return Object(h.m)(e,["start","end","center","space-around","space-between"])}},gutter:{type:Number,default:0},className:String,wrap:{type:Boolean,default:!0}},computed:{classes:function(){return["".concat(jo),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(jo,"-").concat(this.type),!!this.type),"".concat(jo,"-").concat(this.type,"-").concat(this.align),!!this.align&&this.type),"".concat(jo,"-").concat(this.type,"-").concat(this.justify),!!this.justify&&this.type),"".concat(jo,"-").concat(this.align),!!this.align),"".concat(jo,"-").concat(this.justify),!!this.justify),"".concat(this.className),!!this.className),"".concat(jo,"-no-wrap"),!this.wrap)]},styles:function(){var e={};return e=0!==this.gutter?{marginLeft:this.gutter/-2+"px",marginRight:this.gutter/-2+"px"}:e}},methods:{updateGutter:function(t){var e=Object(h.f)(this,"iCol"),e=Object(h.e)(e,"iCol",!1);e.length&&e.forEach(function(e){0!==t&&(e.gutter=t)})}},watch:{gutter:function(e){this.updateGutter(e)}}},C=Object(t.a)(ai,function(){return(0,this._self._c)("div",{class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,Uo="ivu-col";function Vo(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Vo.installed||(Ce.use(e.locale),Ce.i18n(e.i18n),Object.keys($o).forEach(function(e){t.component(e,$o[e])}),t.prototype.$IVIEW={size:e.size||"",transfer:"transfer"in e?e.transfer:"",capture:!("capture"in e)||e.capture,select:{arrow:e.select&&e.select.arrow?e.select.arrow:"",customArrow:e.select&&e.select.customArrow?e.select.customArrow:"",arrowSize:e.select&&e.select.arrowSize?e.select.arrowSize:""},cell:{arrow:e.cell&&e.cell.arrow?e.cell.arrow:"",customArrow:e.cell&&e.cell.customArrow?e.cell.customArrow:"",arrowSize:e.cell&&e.cell.arrowSize?e.cell.arrowSize:""},menu:{arrow:e.menu&&e.menu.arrow?e.menu.arrow:"",customArrow:e.menu&&e.menu.customArrow?e.menu.customArrow:"",arrowSize:e.menu&&e.menu.arrowSize?e.menu.arrowSize:""},tree:{arrow:e.tree&&e.tree.arrow?e.tree.arrow:"",customArrow:e.tree&&e.tree.customArrow?e.tree.customArrow:"",arrowSize:e.tree&&e.tree.arrowSize?e.tree.arrowSize:""},cascader:{arrow:e.cascader&&e.cascader.arrow?e.cascader.arrow:"",customArrow:e.cascader&&e.cascader.customArrow?e.cascader.customArrow:"",arrowSize:e.cascader&&e.cascader.arrowSize?e.cascader.arrowSize:"",itemArrow:e.cascader&&e.cascader.itemArrow?e.cascader.itemArrow:"",customItemArrow:e.cascader&&e.cascader.customItemArrow?e.cascader.customItemArrow:"",itemArrowSize:e.cascader&&e.cascader.itemArrowSize?e.cascader.itemArrowSize:""},colorPicker:{arrow:e.colorPicker&&e.colorPicker.arrow?e.colorPicker.arrow:"",customArrow:e.colorPicker&&e.colorPicker.customArrow?e.colorPicker.customArrow:"",arrowSize:e.colorPicker&&e.colorPicker.arrowSize?e.colorPicker.arrowSize:""},datePicker:{icon:e.datePicker&&e.datePicker.icon?e.datePicker.icon:"",customIcon:e.datePicker&&e.datePicker.customIcon?e.datePicker.customIcon:"",iconSize:e.datePicker&&e.datePicker.iconSize?e.datePicker.iconSize:""},timePicker:{icon:e.timePicker&&e.timePicker.icon?e.timePicker.icon:"",customIcon:e.timePicker&&e.timePicker.customIcon?e.timePicker.customIcon:"",iconSize:e.timePicker&&e.timePicker.iconSize?e.timePicker.iconSize:""},tabs:{closeIcon:e.tabs&&e.tabs.closeIcon?e.tabs.closeIcon:"",customCloseIcon:e.tabs&&e.tabs.customCloseIcon?e.tabs.customCloseIcon:"",closeIconSize:e.tabs&&e.tabs.closeIconSize?e.tabs.closeIconSize:""},modal:{maskClosable:e.modal&&"maskClosable"in e.modal?e.modal.maskClosable:""}},t.prototype.$Loading=Ji,t.prototype.$Message=mn,t.prototype.$Modal=kn,t.prototype.$Notice=On,t.prototype.$Spin=eo)}var a={name:"iCol",props:{span:[Number,String],order:[Number,String],offset:[Number,String],push:[Number,String],pull:[Number,String],className:String,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object],xxl:[Number,Object],flex:{type:[Number,String],default:""}},data:function(){return{gutter:0}},computed:{classes:function(){var e=this,n=["".concat(Uo),Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"".concat(Uo,"-span-").concat(this.span),this.span),"".concat(Uo,"-order-").concat(this.order),this.order),"".concat(Uo,"-offset-").concat(this.offset),this.offset),"".concat(Uo,"-push-").concat(this.push),this.push),"".concat(Uo,"-pull-").concat(this.pull),this.pull),"".concat(this.className),!!this.className)];return["xs","sm","md","lg","xl","xxl"].forEach(function(t){var i;"number"==typeof e[t]?n.push("".concat(Uo,"-span-").concat(t,"-").concat(e[t])):"object"===Object(ie.a)(e[t])&&(i=e[t],Object.keys(i).forEach(function(e){n.push(("span"!==e?"".concat(Uo,"-").concat(t,"-").concat(e,"-"):"".concat(Uo,"-span-").concat(t,"-")).concat(i[e]))}))}),n},styles:function(){var e,t={};return 0!==this.gutter&&(t={paddingLeft:this.gutter/2+"px",paddingRight:this.gutter/2+"px"}),this.flex&&(t.flex="number"==typeof(e=this.flex)?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e),t}},methods:{updateGutter:function(){var e=Object(h.g)(this,"Row");e&&e.updateGutter(e.gutter)}},mounted:function(){this.updateGutter()},beforeDestroy:function(){this.updateGutter()}},s=Object(t.a)(a,function(){return(0,this._self._c)("div",{class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,null,null,null).exports,I={name:"OptionGroup",props:{label:{type:String,default:""}},data:function(){return{prefixCls:"ivu-select-group",hidden:!1}},methods:{queryChange:function(){var n=this;this.$nextTick(function(){for(var e=n.$refs.options.querySelectorAll(".ivu-select-item"),t=!1,i=0;i<e.length;i++)if("none"!==e[i].style.display){t=!0;break}n.hidden=!t})}},mounted:function(){var e=this;this.$on("on-query-change",function(){return e.queryChange(),!0})},beforeDestroy:function(){this.$off("on-query-change")}},ht=Object(t.a)(I,function(){var e=this._self._c;return e("li",{directives:[{name:"show",rawName:"v-show",value:!this.hidden,expression:"!hidden"}],class:[this.prefixCls+"-wrap"]},[e("div",{class:[this.prefixCls+"-title"]},[this._v(this._s(this.label))]),e("ul",[e("li",{ref:"options",class:[this.prefixCls]},[this._t("default")],2)])])},[],!1,null,null,null).exports,u={Affix:R,Alert:$,Anchor:z,AnchorLink:W,AutoComplete:Ne,Avatar:Fe,BackTop:je,Badge:$e,Breadcrumb:qe,BreadcrumbItem:qe.Item,Button:ze,ButtonGroup:ze.Group,Card:Xe,Carousel:et,CarouselItem:et.Item,Cascader:Je,Cell:st,CellGroup:st.Group,Checkbox:at,CheckboxGroup:at.Group,Col:s,Collapse:ft,ColorPicker:ut,Content:gt,DatePicker:oi,Divider:ae,Drawer:ei,Dropdown:ni,DropdownItem:ni.Item,DropdownMenu:ni.Menu,Footer:pi,Form:bi,FormItem:bi.Item,Header:wi,Icon:U,Input:Si,InputNumber:Ti,Scroll:Ii,Sider:Ri,Split:Mi,Submenu:k.Sub,Layout:mi,List:D,ListItem:D.Item,ListItemMeta:D.Item.Meta,LoadingBar:Ji,Menu:k,MenuGroup:k.Group,MenuItem:k.Item,Message:mn,Modal:kn,Notice:On,Option:xe,OptionGroup:ht,Page:We,Panel:ft.Panel,Poptip:it,Progress:Rn,Radio:zn,RadioGroup:zn.Group,Rate:jn,Row:C,Select:ge,Slider:xi,Spin:eo,Step:r.Step,Steps:r,Table:e,Tabs:y,TabPane:y.Pane,Tag:ao,Time:so,Timeline:T,TimelineItem:T.Item,TimePicker:w,Tooltip:Rt,Transfer:Le,Tree:v,Upload:Zt},$o=Object(f.a)(Object(f.a)({},u),{},{iButton:ze,iCircle:lt,iCol:s,iContent:gt,iForm:bi,iFooter:pi,iHeader:wi,iInput:Si,iMenu:k,iOption:xe,iProgress:Rn,iSelect:ge,iSwitch:qn,iTable:e,iTime:so}),d=("undefined"!=typeof window&&window.Vue&&Vo(window.Vue),Object(f.a)({version:Object({NODE_ENV:"production",BASE_URL:""}).VERSION,locale:Ce.use,i18n:Ce.i18n,install:Vo,Circle:lt,Switch:qn},u));d.lang=function(e){var t=window["iview/locale"].default;e===t.i.locale?Ce.use(t):"The ".concat(e," language pack is not loaded.")},F.a=d},de35:function(e,t,i){},de5c:function(e,t,i){},e09e:function(e,t,i){i("f1e6")},e0f1:function(e,t,i){},e5b3:function(e,t,i){e.exports=i.p+"img/7.a04308ca.jpg"},e86f:function(e,t,i){var n=i("1ee4"),n={name:"file-select-bar",props:{fileBrower:{default:null,type:Object}},components:{folderBrowerOperationBar:n.a},data:function(){return{disableBack:!1}},methods:{createNewFolder:function(e){this.$emit("create",e)},onChoose:function(){this.$emit("select")}}},i=(i("2a7b"),i("2877")),i=Object(i.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-root"},[e("div",{staticClass:"nas-mobile-none"},[e("div",{staticClass:"operation-bar"},[e("my-btn",{attrs:{type:"white",title:t.$t("file.returnLastPath")},on:{click:function(e){return t.$emit("back")}}}),e("my-btn",{attrs:{title:t.$t("file.newFolder")},on:{click:function(e){return t.$refs.newFolderDialog.setShow(!0)}}}),e("my-btn",{attrs:{type:"red",title:t.$t("common.select")},on:{click:function(e){return t.onChoose()}}})],1)]),e("div",{staticClass:"nas-mobile-show"},[e("div",{staticClass:"operation-bar"},[e("my-btn",{attrs:{type:"white",title:t.$t("file.returnLastPath")},on:{click:function(e){return t.$emit("back")}}}),e("my-btn",{attrs:{title:t.$t("file.newFolder")},on:{click:function(e){return t.$refs.newFolderDialog.setShow(!0)}}}),e("my-btn",{attrs:{type:"red",title:t.$t("common.select")},on:{click:function(e){return t.onChoose()}}})],1)]),e("my-dialog-input",{ref:"newFolderDialog",attrs:{showCloseBtn:!0,title:t.$t("file.newFolder"),content:t.$t("file.inputNewFolderName")},on:{onOkClick:t.createNewFolder}})],1)},[],!1,null,"501f87f8",null);t.a=i.exports},f1e6:function(e,t,i){},f265:function(e,t,i){!function(a){i("7a82"),i("d3b7"),i("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,i=t%4;if(!i)return e;var n=t,o=4-i,s=a.alloc(t+o);for(s.write(e);o--;)s.write("=",n++);return s.toString()}}.call(this,i("b639").Buffer)},f6e1:function(e,t,i){},fb68:function(e,t,i){e.exports=i.p+"img/icon-no-data.ffd09904.png"},fe64:function(e,t,i){i("416c")}});