const _0x3bc2ff=_0x4ff2;(function(_0x500729,_0x3f44f1){const _0xbb6881=_0x4ff2,_0x5221c0=_0x500729();while(!![]){try{const _0x59d31a=parseInt(_0xbb6881(0x8b))/0x1*(-parseInt(_0xbb6881(0xa5))/0x2)+-parseInt(_0xbb6881(0xb9))/0x3+-parseInt(_0xbb6881(0x94))/0x4*(parseInt(_0xbb6881(0xb3))/0x5)+parseInt(_0xbb6881(0xe6))/0x6+parseInt(_0xbb6881(0xdf))/0x7*(parseInt(_0xbb6881(0xa7))/0x8)+parseInt(_0xbb6881(0xcf))/0x9+-parseInt(_0xbb6881(0x8d))/0xa;if(_0x59d31a===_0x3f44f1)break;else _0x5221c0['push'](_0x5221c0['shift']());}catch(_0x481c1b){_0x5221c0['push'](_0x5221c0['shift']());}}}(_0x1a0c,0x845e9));let sha256=require('sha256'),path=require(_0x3bc2ff(0x95)),fs=require('fs');const dbConfigTable=require(_0x3bc2ff(0xd2)),os=require('os'),packageInfo=require(_0x3bc2ff(0x98)),mediaType=require('./mediaType');let userDataFolder=process[_0x3bc2ff(0xf1)][_0x3bc2ff(0xc8)];if(!userDataFolder)try{const {app}=require(_0x3bc2ff(0xae));if(app)userDataFolder=app[_0x3bc2ff(0x97)](_0x3bc2ff(0xc1));console['log']('NasCab\x20User\x20Data\x20Folder:',userDataFolder);}catch(_0x518b4d){}function _0x1a0c(){const _0x56947f=['nascabsaccountinfo112u2','videoTypeList','dbFileIndex.db','exe','nascabslskjwoaljwejkjq112u2','5711715bjVayJ','dbOther.db','value','../db/dbConfigTable','dirname','mtime','subtitle','prepare','frpc.exe','torrents','posterPath','nascabconfig','nascab','heicExt','accessSync','join','5109188kBArdc','music_cover','frpc','subtitlePath','mkdirSync','SELECT\x20*\x20FROM\x20config\x20where\x20title=?','imgTypeList','3726444gMQkKn','platform','musicCoverPath','nascabPublicUser','tokenPwdEncryptKey','m3u8segmentDuration','database','m3u8TmpPath','ctime','getLanguage','get','env','185511tQTecQ','language','4725000OlDnRR','getMediaCoverCachePath','appRootPath','rawImgTypeList','W_OK','bookTypeList','filename','304932qxbpnx','path','subtitleUploadPath','getPath','../../package.json','stat','transcodePath','ctimeMs','win32','musicTypeList','darwin','nascloudapikey123aaddbc','procodenascabSD012012093uUh0','exports','cacheParentPath','mtimeMs','R_OK','2koawvc','getPrivateDbPath','8fBkQXY','APPDATA','facesPath','better-sqlite3','nascab.tmp.','close','getFileHashNameByPathAndStat','electron','linux','size','nascabisthebest','tempFiles','5kNRiJm','tempFilePath','nasAccountInfo','isPackaged','prisssdSlskjwoaljwejkjq112u2','constants','2127492kywnrn','isDocker','existsSync','upload','cache_images','temp.','../../','defaultLanguage','userData','/Library/Preferences','cachePath','.jpeg','torrentPath','cache','/.local/share','userDataFolder','plugin'];_0x1a0c=function(){return _0x56947f;};return _0x1a0c();}!userDataFolder&&(userDataFolder=process[_0x3bc2ff(0xf1)][_0x3bc2ff(0xa8)]||(process[_0x3bc2ff(0xe7)]==_0x3bc2ff(0x9e)?process[_0x3bc2ff(0xf1)]['HOME']+_0x3bc2ff(0xc2):process[_0x3bc2ff(0xf1)]['HOME']+_0x3bc2ff(0xc7)),userDataFolder=path[_0x3bc2ff(0xde)](userDataFolder,_0x3bc2ff(0xdb)));!fs[_0x3bc2ff(0xbb)](userDataFolder)&&fs[_0x3bc2ff(0xe3)](userDataFolder,{'recursive':!![]});let appRootPath=process[_0x3bc2ff(0xf1)][_0x3bc2ff(0x8f)];if(!appRootPath)try{const {app}=require(_0x3bc2ff(0xae));app&&app[_0x3bc2ff(0xb6)]?(appRootPath=path[_0x3bc2ff(0xd3)](app[_0x3bc2ff(0x97)](_0x3bc2ff(0xcd))),os[_0x3bc2ff(0xe7)]()==_0x3bc2ff(0x9e)&&(appRootPath=path[_0x3bc2ff(0xd3)](appRootPath))):appRootPath=path[_0x3bc2ff(0xde)](__dirname,_0x3bc2ff(0xbf));}catch(_0x5834f0){appRootPath=path[_0x3bc2ff(0xde)](__dirname,_0x3bc2ff(0xbf));}let m3u8Path='',userSetCachePath='';const Database=require(_0x3bc2ff(0xaa));let dbPath=path['join'](userDataFolder,_0x3bc2ff(0xec));if(fs[_0x3bc2ff(0xbb)](dbPath)){let dbOther=new Database(path[_0x3bc2ff(0xde)](dbPath,'dbOther.db'),{});try{let configM3u8TmpPath=dbOther[_0x3bc2ff(0xd6)](_0x3bc2ff(0xe4))[_0x3bc2ff(0xf0)](_0x3bc2ff(0x9a));configM3u8TmpPath&&configM3u8TmpPath[_0x3bc2ff(0xd1)]&&(fs[_0x3bc2ff(0xdd)](configM3u8TmpPath[_0x3bc2ff(0xd1)],fs[_0x3bc2ff(0xb8)]['W_OK']|fs['constants']['R_OK']),m3u8Path=configM3u8TmpPath[_0x3bc2ff(0xd1)],dbOther[_0x3bc2ff(0xac)]());}catch(_0xad373d){dbOther[_0x3bc2ff(0xac)]();}dbOther=new Database(path[_0x3bc2ff(0xde)](dbPath,'dbOther.db'),{});try{let cacheParentPath=dbOther[_0x3bc2ff(0xd6)](_0x3bc2ff(0xe4))[_0x3bc2ff(0xf0)](_0x3bc2ff(0xa2));cacheParentPath&&cacheParentPath[_0x3bc2ff(0xd1)]&&(fs['accessSync'](cacheParentPath['value'],fs[_0x3bc2ff(0xb8)][_0x3bc2ff(0x91)]|fs[_0x3bc2ff(0xb8)][_0x3bc2ff(0xa4)]),userSetCachePath=cacheParentPath[_0x3bc2ff(0xd1)],dbOther['close']());}catch(_0x36f4b8){dbOther[_0x3bc2ff(0xac)]();}}let frpcFolder=path[_0x3bc2ff(0xde)](userDataFolder,_0x3bc2ff(0xc9),'frpc','0.51.3'),config={'maxPsdSize':0x400*0x400*0x12c,'dbPath':dbPath,'frpcFolder':frpcFolder,'frpcPath':path[_0x3bc2ff(0xde)](frpcFolder,os[_0x3bc2ff(0xe7)]()=='win32'?'frpc.exe':_0x3bc2ff(0xe1)),'frpcTempPath':path[_0x3bc2ff(0xde)](frpcFolder,_0x3bc2ff(0xbe)+os[_0x3bc2ff(0xe7)]()==_0x3bc2ff(0x9c)?_0x3bc2ff(0xd7):_0x3bc2ff(0xe1)),'publicUserName':_0x3bc2ff(0xe9),'exifMinTimeStamp':0x259e9d80,'nasAccountInfoPwd':_0x3bc2ff(0xca),'nasAccountInfoConfigKey':_0x3bc2ff(0xb5),'apiTokenKey':_0x3bc2ff(0x9f),'apiPort':os[_0x3bc2ff(0xe7)]()=='linux'&&!packageInfo[_0x3bc2ff(0xba)]?parseInt(0xc08):parseInt(0x50),'apiPortHttps':os[_0x3bc2ff(0xe7)]()==_0x3bc2ff(0xaf)&&!packageInfo[_0x3bc2ff(0xba)]?parseInt(0xd73):parseInt(0x1bb),'webDavPort':parseInt(0x5a),'webDavPortHttps':parseInt(0x24e3),'FTPPort':parseInt(0x15),'appRootPath':appRootPath,'userDataFolder':userDataFolder,'dbFileIndex':path[_0x3bc2ff(0xde)](userDataFolder,_0x3bc2ff(0xec),_0x3bc2ff(0xcc)),'dbOther':path[_0x3bc2ff(0xde)](userDataFolder,_0x3bc2ff(0xec),_0x3bc2ff(0xd0)),'uploadTempFilePrefix':_0x3bc2ff(0xab),'privateSpaceKey':_0x3bc2ff(0xb7),'passwordKey':_0x3bc2ff(0xce),'proCodeKey':_0x3bc2ff(0xa0),'heicExt':mediaType[_0x3bc2ff(0xdc)],'imgTypeList':mediaType[_0x3bc2ff(0xe5)],'rawImgTypeList':mediaType[_0x3bc2ff(0x90)],'videoTypeList':mediaType[_0x3bc2ff(0xcb)],'musicTypeList':mediaType[_0x3bc2ff(0x9d)],'bookTypeList':mediaType[_0x3bc2ff(0x92)]};config[_0x3bc2ff(0xad)]=function(_0x1fe344,_0x22bb4e,_0x1c2dc2){const _0x11f672=_0x3bc2ff;fs[_0x11f672(0x99)](_0x22bb4e,(_0x3a3136,_0x226843)=>{const _0x374ae0=_0x11f672;if(_0x3a3136)_0x1c2dc2(![]);let _0x43e83c=_0x22bb4e+_0x226843[_0x374ae0(0x9b)]+_0x226843[_0x374ae0(0xa3)]+_0x226843['size']+'',_0x4186bd=sha256(_0x43e83c)+_0x374ae0(0xc4);_0x1fe344&&(_0x4186bd=_0x1fe344+_0x4186bd),_0x1c2dc2(_0x4186bd);});},config['getFileHashName']=function(_0x4b8006){const _0x5c4ed4=_0x3bc2ff;let _0x2d72bb=path[_0x5c4ed4(0xde)](_0x4b8006['path'],_0x4b8006[_0x5c4ed4(0x93)])+_0x4b8006[_0x5c4ed4(0xee)]+_0x4b8006[_0x5c4ed4(0xd4)]+_0x4b8006['size']+'',_0x2feea8=sha256(_0x2d72bb)+_0x5c4ed4(0xc4);return _0x2feea8;};function _0x4ff2(_0x226d73,_0x1b650e){const _0x1a0c3c=_0x1a0c();return _0x4ff2=function(_0x4ff25e,_0x5a4616){_0x4ff25e=_0x4ff25e-0x8b;let _0x31db69=_0x1a0c3c[_0x4ff25e];return _0x31db69;},_0x4ff2(_0x226d73,_0x1b650e);}let cacheParentPath=userSetCachePath?userSetCachePath:path[_0x3bc2ff(0xde)](userDataFolder,_0x3bc2ff(0xbd));config[_0x3bc2ff(0xa2)]=cacheParentPath,config[_0x3bc2ff(0xc3)]=path['join'](cacheParentPath,_0x3bc2ff(0xc6)),config[_0x3bc2ff(0xd9)]=path[_0x3bc2ff(0xde)](cacheParentPath,'poster'),config[_0x3bc2ff(0xa9)]=path[_0x3bc2ff(0xde)](cacheParentPath,'faces'),config[_0x3bc2ff(0xe8)]=path[_0x3bc2ff(0xde)](cacheParentPath,_0x3bc2ff(0xe0)),config[_0x3bc2ff(0xe2)]=path[_0x3bc2ff(0xde)](cacheParentPath,_0x3bc2ff(0xd5)),config[_0x3bc2ff(0xc5)]=path[_0x3bc2ff(0xde)](cacheParentPath,_0x3bc2ff(0xd8)),config[_0x3bc2ff(0x96)]=path['join'](cacheParentPath,_0x3bc2ff(0xd5),_0x3bc2ff(0xbc)),config[_0x3bc2ff(0xb4)]=path['join'](cacheParentPath,_0x3bc2ff(0xb2)),config[_0x3bc2ff(0x8e)]=function(_0xe71912,_0x2db0f4){const _0x1fe0d5=_0x3bc2ff;let _0x44b891=path[_0x1fe0d5(0xde)](_0xe71912['path'],_0xe71912[_0x1fe0d5(0x93)])+_0xe71912[_0x1fe0d5(0xee)]+_0xe71912[_0x1fe0d5(0xd4)]+_0xe71912[_0x1fe0d5(0xb0)]+'',_0x4ab2ac=sha256(_0x44b891)+'.jpeg';return _0x2db0f4&&(_0x4ab2ac=_0x2db0f4+_0x4ab2ac),path[_0x1fe0d5(0xde)](config[_0x1fe0d5(0xe8)],_0x4ab2ac);};m3u8Path?config[_0x3bc2ff(0xed)]=path[_0x3bc2ff(0xde)](m3u8Path,'NasCabTransCodeTempPath'):packageInfo[_0x3bc2ff(0xba)]?config[_0x3bc2ff(0xed)]=path[_0x3bc2ff(0xde)]('/NasCabTransCodeTempPath'):config['m3u8TmpPath']=path[_0x3bc2ff(0xde)](userDataFolder,'NasCabTransCodeTempPath');config[_0x3bc2ff(0xeb)]=0x3,config[_0x3bc2ff(0xa6)]=function(_0x4051aa){const _0x272f80=_0x3bc2ff;return path[_0x272f80(0xde)](_0x4051aa,_0x272f80(0xda),'dbnascab');};let defaultLanguage='zh-CN';config[_0x3bc2ff(0xef)]=function(_0x227fbc){const _0x150578=_0x3bc2ff;let _0xb69848=dbConfigTable['findByTitle'](_0x227fbc,_0x150578(0x8c)),_0x31820d=defaultLanguage;return _0xb69848&&(_0x31820d=_0xb69848[_0x150578(0xd1)]),_0x31820d;},config[_0x3bc2ff(0xc0)]=defaultLanguage,config[_0x3bc2ff(0xea)]=_0x3bc2ff(0xb1),module[_0x3bc2ff(0xa1)]=config;