'use strict';const _0x1ad56f=_0x5530;(function(_0x352b99,_0x27c6ba){const _0x2c0a4a=_0x5530,_0x5c4b55=_0x352b99();while(!![]){try{const _0x145770=-parseInt(_0x2c0a4a(0x130))/0x1+parseInt(_0x2c0a4a(0x2b1))/0x2*(-parseInt(_0x2c0a4a(0x328))/0x3)+parseInt(_0x2c0a4a(0x15c))/0x4+parseInt(_0x2c0a4a(0x1e1))/0x5*(parseInt(_0x2c0a4a(0x36e))/0x6)+-parseInt(_0x2c0a4a(0x369))/0x7*(parseInt(_0x2c0a4a(0x29b))/0x8)+parseInt(_0x2c0a4a(0x11f))/0x9*(parseInt(_0x2c0a4a(0x1c9))/0xa)+-parseInt(_0x2c0a4a(0x225))/0xb*(-parseInt(_0x2c0a4a(0x2d3))/0xc);if(_0x145770===_0x27c6ba)break;else _0x5c4b55['push'](_0x5c4b55['shift']());}catch(_0x4c6445){_0x5c4b55['push'](_0x5c4b55['shift']());}}}(_0x4830,0xcb77e));var __create=Object[_0x1ad56f(0x2f5)],__defProp=Object['defineProperty'],__getOwnPropDesc=Object[_0x1ad56f(0x326)],__getOwnPropNames=Object[_0x1ad56f(0x1ee)],__getProtoOf=Object[_0x1ad56f(0x254)],__hasOwnProp=Object['prototype'][_0x1ad56f(0x364)],__commonJS=(_0x5a2f31,_0x1de2a9)=>function _0x5d1070(){const _0x5ef9b3=_0x1ad56f;return _0x1de2a9||(0x0,_0x5a2f31[__getOwnPropNames(_0x5a2f31)[0x0]])((_0x1de2a9={'exports':{}})[_0x5ef9b3(0x227)],_0x1de2a9),_0x1de2a9[_0x5ef9b3(0x227)];},__export=(_0x394a6d,_0x1db070)=>{for(var _0x39d115 in _0x1db070)__defProp(_0x394a6d,_0x39d115,{'get':_0x1db070[_0x39d115],'enumerable':!![]});},__copyProps=(_0x37f966,_0x3e95ea,_0x2e0f5c,_0x4b584e)=>{const _0x454169=_0x1ad56f;if(_0x3e95ea&&typeof _0x3e95ea===_0x454169(0x316)||typeof _0x3e95ea==='function'){for(let _0x198757 of __getOwnPropNames(_0x3e95ea))if(!__hasOwnProp[_0x454169(0x1bd)](_0x37f966,_0x198757)&&_0x198757!==_0x2e0f5c)__defProp(_0x37f966,_0x198757,{'get':()=>_0x3e95ea[_0x198757],'enumerable':!(_0x4b584e=__getOwnPropDesc(_0x3e95ea,_0x198757))||_0x4b584e[_0x454169(0x117)]});}return _0x37f966;},__toESM=(_0x33014e,_0x696196,_0x39bc0e)=>(_0x39bc0e=_0x33014e!=null?__create(__getProtoOf(_0x33014e)):{},__copyProps(_0x696196||!_0x33014e||!_0x33014e[_0x1ad56f(0x27f)]?__defProp(_0x39bc0e,_0x1ad56f(0x2e7),{'value':_0x33014e,'enumerable':!![]}):_0x39bc0e,_0x33014e)),__toCommonJS=_0x350d47=>__copyProps(__defProp({},_0x1ad56f(0x27f),{'value':!![]}),_0x350d47),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0xa9a0ec,_0x433317){'use strict';const _0x24e278=_0x1ad56f;var _0x4a5161=Object[_0x24e278(0x1cb)],_0x4fa939=Object[_0x24e278(0x326)],_0xba6c25=Object[_0x24e278(0x1ee)],_0x151b54=Object[_0x24e278(0x167)]['hasOwnProperty'],_0x5c4c94=(_0x107dc0,_0x421dcb,_0x3f55b0,_0x38a6e6)=>{const _0x1f8580=_0x24e278;if(_0x421dcb&&typeof _0x421dcb===_0x1f8580(0x316)||typeof _0x421dcb===_0x1f8580(0x299)){for(let _0x30617a of _0xba6c25(_0x421dcb))if(!_0x151b54['call'](_0x107dc0,_0x30617a)&&_0x30617a!==_0x3f55b0)_0x4a5161(_0x107dc0,_0x30617a,{'get':()=>_0x421dcb[_0x30617a],'enumerable':!(_0x38a6e6=_0x4fa939(_0x421dcb,_0x30617a))||_0x38a6e6[_0x1f8580(0x117)]});}return _0x107dc0;},_0x1d1120=(_0xa28629,_0x20d711,_0x5e8a2f)=>(_0x5c4c94(_0xa28629,_0x20d711,_0x24e278(0x2e7)),_0x5e8a2f&&_0x5c4c94(_0x5e8a2f,_0x20d711,_0x24e278(0x2e7))),_0x4fbe36=_0x4545e9=>_0x5c4c94(_0x4a5161({},_0x24e278(0x27f),{'value':!![]}),_0x4545e9),_0xc65ec3={};_0x433317[_0x24e278(0x227)]=_0x4fbe36(_0xc65ec3),_0x1d1120(_0xc65ec3,require('@tensorflow/tfjs-node'),_0x433317[_0x24e278(0x227)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x1ad56f(0x227)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x4a5483,_0x448eac,_0x3ae833=![]){const _0x368732=_0x1ad56f;_0x4a5483['beginPath'](),_0x448eac[_0x368732(0x22d)](0x1)[_0x368732(0x234)](({x:_0xa54562,y:_0x5ea1af},_0x5e8f64)=>{const _0x5ec19e=_0x368732,_0x4e35b0=_0x448eac[_0x5e8f64];_0x4a5483[_0x5ec19e(0x10c)](_0x4e35b0['x'],_0x4e35b0['y']),_0x4a5483[_0x5ec19e(0x29a)](_0xa54562,_0x5ea1af);});if(_0x3ae833){const _0x4685ce=_0x448eac[_0x448eac[_0x368732(0x194)]-0x1],_0x2f8fd0=_0x448eac[0x0];if(!_0x4685ce||!_0x2f8fd0)return;_0x4a5483[_0x368732(0x10c)](_0x4685ce['x'],_0x4685ce['y']),_0x4a5483[_0x368732(0x29a)](_0x2f8fd0['x'],_0x2f8fd0['y']);}_0x4a5483['stroke']();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x24c89e,_0x17ba8d){const _0x842ae4=_0x1ad56f;if(!isValidNumber(_0x24c89e)||!isValidNumber(_0x17ba8d))throw new Error(_0x842ae4(0x17f)+JSON[_0x842ae4(0x290)]({'width':_0x24c89e,'height':_0x17ba8d}));this['_width']=_0x24c89e,this[_0x842ae4(0x2f2)]=_0x17ba8d;}get['width'](){return this['_width'];}get[_0x1ad56f(0x262)](){return this['_height'];}[_0x1ad56f(0x115)](){const _0x91f906=_0x1ad56f;return new Dimensions(0x1/this[_0x91f906(0x2ba)],0x1/this[_0x91f906(0x262)]);}};function isTensor(_0x4191dc,_0x2bf6ea){const _0x36a937=_0x1ad56f;return _0x4191dc instanceof tf[_0x36a937(0x1e5)]&&_0x4191dc[_0x36a937(0x1b2)][_0x36a937(0x194)]===_0x2bf6ea;}function isTensor1D(_0x4e5079){return isTensor(_0x4e5079,0x1);}function isTensor2D(_0x4d8bd8){return isTensor(_0x4d8bd8,0x2);}function isTensor3D(_0x236aa2){return isTensor(_0x236aa2,0x3);}function isTensor4D(_0x213d6b){return isTensor(_0x213d6b,0x4);}function isFloat(_0x13035c){return _0x13035c%0x1!==0x0;}function isEven(_0x4b9fa5){return _0x4b9fa5%0x2===0x0;}function round(_0x543ef9,_0x4ce3e5=0x2){const _0xf19481=_0x1ad56f,_0x3c25a9=0xa**_0x4ce3e5;return Math[_0xf19481(0x21c)](_0x543ef9*_0x3c25a9)/_0x3c25a9;}function isDimensions(_0x4365c3){const _0x4ca1c5=_0x1ad56f;return _0x4365c3&&_0x4365c3[_0x4ca1c5(0x2ba)]&&_0x4365c3['height'];}function computeReshapedDimensions({width:_0x8b6225,height:_0x383a05},_0x53862c){const _0x268309=_0x1ad56f,_0x259b40=_0x53862c/Math['max'](_0x383a05,_0x8b6225);return new Dimensions(Math['round'](_0x8b6225*_0x259b40),Math[_0x268309(0xe6)](_0x383a05*_0x259b40));}function getCenterPoint(_0x46a687){const _0x419061=_0x1ad56f;return _0x46a687[_0x419061(0x353)]((_0x5cdb9c,_0x219858)=>_0x5cdb9c[_0x419061(0x123)](_0x219858),new Point(0x0,0x0))[_0x419061(0x30b)](new Point(_0x46a687['length'],_0x46a687[_0x419061(0x194)]));}function range(_0x490ecc,_0x44692e,_0xbaa90e){const _0x3a40fe=_0x1ad56f;return Array(_0x490ecc)[_0x3a40fe(0x281)](0x0)[_0x3a40fe(0x248)]((_0x56c91e,_0x727db7)=>_0x44692e+_0x727db7*_0xbaa90e);}function isValidNumber(_0x2be94b){return!!_0x2be94b&&_0x2be94b!==Infinity&&_0x2be94b!==-Infinity&&!Number['isNaN'](_0x2be94b)||_0x2be94b===0x0;}function isValidProbablitiy(_0x2ee319){return isValidNumber(_0x2ee319)&&_0x2ee319>=0x0&&_0x2ee319<=0x1;}var Point=class{constructor(_0x4b44f2,_0x5b7740){this['_x']=_0x4b44f2,this['_y']=_0x5b7740;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x1ad56f(0x123)](_0x176b8b){return new Point(this['x']+_0x176b8b['x'],this['y']+_0x176b8b['y']);}[_0x1ad56f(0x185)](_0x36fe94){return new Point(this['x']-_0x36fe94['x'],this['y']-_0x36fe94['y']);}['mul'](_0x4533f6){return new Point(this['x']*_0x4533f6['x'],this['y']*_0x4533f6['y']);}[_0x1ad56f(0x30b)](_0x261960){return new Point(this['x']/_0x261960['x'],this['y']/_0x261960['y']);}[_0x1ad56f(0x2de)](){const _0x3cf7d9=_0x1ad56f;return new Point(Math[_0x3cf7d9(0x2de)](this['x']),Math[_0x3cf7d9(0x2de)](this['y']));}[_0x1ad56f(0x212)](){const _0x5caffc=_0x1ad56f;return Math[_0x5caffc(0x292)](this['x']**0x2+this['y']**0x2);}[_0x1ad56f(0x21c)](){const _0x32b2a5=_0x1ad56f;return new Point(Math[_0x32b2a5(0x21c)](this['x']),Math['floor'](this['y']));}},Box=class{static[_0x1ad56f(0x2db)](_0x9fe9a0){const _0x441a6b=_0x1ad56f;return!!_0x9fe9a0&&[_0x9fe9a0['x'],_0x9fe9a0['y'],_0x9fe9a0[_0x441a6b(0x2ba)],_0x9fe9a0['height']][_0x441a6b(0x2a0)](isValidNumber);}static[_0x1ad56f(0x2d6)](_0x2836be,_0x3be8e5,_0x3fc385=![]){const _0x646141=_0x1ad56f;if(!Box[_0x646141(0x2db)](_0x2836be))throw new Error(_0x3be8e5+_0x646141(0x2f0)+JSON[_0x646141(0x290)](_0x2836be)+_0x646141(0x14b));if(!_0x3fc385&&(_0x2836be[_0x646141(0x2ba)]<0x0||_0x2836be[_0x646141(0x262)]<0x0))throw new Error(_0x3be8e5+'\x20-\x20width\x20('+_0x2836be[_0x646141(0x2ba)]+')\x20and\x20height\x20('+_0x2836be[_0x646141(0x262)]+_0x646141(0x327));}constructor(_0x1d35be,_0x46349e=!![]){const _0xb5812d=_0x1ad56f,_0x318cbd=_0x1d35be||{},_0x4e7aca=[_0x318cbd['left'],_0x318cbd[_0xb5812d(0xea)],_0x318cbd[_0xb5812d(0x15a)],_0x318cbd[_0xb5812d(0x2bc)]][_0xb5812d(0x2a0)](isValidNumber),_0x522f2d=[_0x318cbd['x'],_0x318cbd['y'],_0x318cbd['width'],_0x318cbd['height']][_0xb5812d(0x2a0)](isValidNumber);if(!_0x522f2d&&!_0x4e7aca)throw new Error(_0xb5812d(0x2ae)+JSON[_0xb5812d(0x290)](_0x318cbd));const [_0x27404b,_0x685332,_0x32c0ee,_0x10cc23]=_0x522f2d?[_0x318cbd['x'],_0x318cbd['y'],_0x318cbd[_0xb5812d(0x2ba)],_0x318cbd[_0xb5812d(0x262)]]:[_0x318cbd[_0xb5812d(0x1a4)],_0x318cbd['top'],_0x318cbd[_0xb5812d(0x15a)]-_0x318cbd[_0xb5812d(0x1a4)],_0x318cbd[_0xb5812d(0x2bc)]-_0x318cbd['top']];Box['assertIsValidBox']({'x':_0x27404b,'y':_0x685332,'width':_0x32c0ee,'height':_0x10cc23},_0xb5812d(0x1f7),_0x46349e),this['_x']=_0x27404b,this['_y']=_0x685332,this[_0xb5812d(0x11c)]=_0x32c0ee,this['_height']=_0x10cc23;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get['width'](){const _0x51ab85=_0x1ad56f;return this[_0x51ab85(0x11c)];}get['height'](){const _0x3abd1d=_0x1ad56f;return this[_0x3abd1d(0x2f2)];}get[_0x1ad56f(0x1a4)](){return this['x'];}get[_0x1ad56f(0xea)](){return this['y'];}get[_0x1ad56f(0x15a)](){return this['x']+this['width'];}get[_0x1ad56f(0x2bc)](){const _0x103f87=_0x1ad56f;return this['y']+this[_0x103f87(0x262)];}get[_0x1ad56f(0x1a9)](){const _0xe59d6e=_0x1ad56f;return this[_0xe59d6e(0x2ba)]*this['height'];}get[_0x1ad56f(0x122)](){return new Point(this['left'],this['top']);}get[_0x1ad56f(0x13a)](){const _0x2e5d44=_0x1ad56f;return new Point(this['right'],this[_0x2e5d44(0xea)]);}get['bottomLeft'](){const _0xd6fb59=_0x1ad56f;return new Point(this['left'],this[_0xd6fb59(0x2bc)]);}get[_0x1ad56f(0x24a)](){const _0x34caec=_0x1ad56f;return new Point(this[_0x34caec(0x15a)],this[_0x34caec(0x2bc)]);}['round'](){const _0x5d8491=_0x1ad56f,[_0x464a1f,_0x238328,_0x3d06ff,_0x5535c1]=[this['x'],this['y'],this[_0x5d8491(0x2ba)],this[_0x5d8491(0x262)]]['map'](_0x568a14=>Math[_0x5d8491(0xe6)](_0x568a14));return new Box({'x':_0x464a1f,'y':_0x238328,'width':_0x3d06ff,'height':_0x5535c1});}['floor'](){const _0x2ce58d=_0x1ad56f,[_0x50dfca,_0x4073b4,_0x54f328,_0x2f91bd]=[this['x'],this['y'],this['width'],this[_0x2ce58d(0x262)]][_0x2ce58d(0x248)](_0x2048a8=>Math['floor'](_0x2048a8));return new Box({'x':_0x50dfca,'y':_0x4073b4,'width':_0x54f328,'height':_0x2f91bd});}[_0x1ad56f(0x259)](){const _0x2da71d=_0x1ad56f;let {x:_0x405b74,y:_0x240b84,width:_0x1d1f27,height:_0x2eba64}=this;const _0x477306=Math[_0x2da71d(0x2de)](_0x1d1f27-_0x2eba64);return _0x1d1f27<_0x2eba64&&(_0x405b74-=_0x477306/0x2,_0x1d1f27+=_0x477306),_0x2eba64<_0x1d1f27&&(_0x240b84-=_0x477306/0x2,_0x2eba64+=_0x477306),new Box({'x':_0x405b74,'y':_0x240b84,'width':_0x1d1f27,'height':_0x2eba64});}[_0x1ad56f(0x296)](_0x2f9664){const _0x591727=_0x1ad56f,_0x4d4e9d=isDimensions(_0x2f9664)?_0x2f9664[_0x591727(0x2ba)]:_0x2f9664,_0x2e6648=isDimensions(_0x2f9664)?_0x2f9664[_0x591727(0x262)]:_0x2f9664;return new Box({'x':this['x']*_0x4d4e9d,'y':this['y']*_0x2e6648,'width':this[_0x591727(0x2ba)]*_0x4d4e9d,'height':this[_0x591727(0x262)]*_0x2e6648});}[_0x1ad56f(0x27c)](_0xfa589b,_0xf86d02){const _0x1121ee=_0x1ad56f,[_0x3f76b5,_0x15755c,_0x159118,_0x4b5a7b]=[this['x']-_0xfa589b/0x2,this['y']-_0xf86d02/0x2,this[_0x1121ee(0x2ba)]+_0xfa589b,this['height']+_0xf86d02];return new Box({'x':_0x3f76b5,'y':_0x15755c,'width':_0x159118,'height':_0x4b5a7b});}[_0x1ad56f(0x1de)](_0x441f91,_0x5a4746){const _0x911225=_0x1ad56f,{x:_0x4e219b,y:_0x2177d8,right:_0x4c26bd,bottom:_0x167a5b}=this,_0x360cc2=Math[_0x911225(0x170)](_0x4e219b,0x0),_0x589390=Math['max'](_0x2177d8,0x0),_0x1fb315=_0x4c26bd-_0x360cc2,_0x2042b1=_0x167a5b-_0x589390,_0x4fe2a2=Math['min'](_0x1fb315,_0x441f91-_0x360cc2),_0x5f1efb=Math[_0x911225(0x229)](_0x2042b1,_0x5a4746-_0x589390);return new Box({'x':_0x360cc2,'y':_0x589390,'width':_0x4fe2a2,'height':_0x5f1efb})[_0x911225(0x21c)]();}['shift'](_0xcbe0cb,_0x3be644){const {width:_0x3f8ba3,height:_0x258926}=this,_0x27d783=this['x']+_0xcbe0cb,_0x44847f=this['y']+_0x3be644;return new Box({'x':_0x27d783,'y':_0x44847f,'width':_0x3f8ba3,'height':_0x258926});}['padAtBorders'](_0x18c510,_0x2969bd){const _0x446bcb=_0x1ad56f,_0x4515f8=this[_0x446bcb(0x2ba)]+0x1,_0x28dab7=this[_0x446bcb(0x262)]+0x1,_0x3b7c27=0x1,_0xebf488=0x1;let _0x238672=_0x4515f8,_0x52e0de=_0x28dab7,_0x5073f5=this[_0x446bcb(0x1a4)],_0x5ddfaa=this['top'],_0x228a5b=this[_0x446bcb(0x15a)],_0x5a1a71=this['bottom'];return _0x228a5b>_0x2969bd&&(_0x238672=-_0x228a5b+_0x2969bd+_0x4515f8,_0x228a5b=_0x2969bd),_0x5a1a71>_0x18c510&&(_0x52e0de=-_0x5a1a71+_0x18c510+_0x28dab7,_0x5a1a71=_0x18c510),_0x5073f5<0x1&&(_0x52e0de=0x2-_0x5073f5,_0x5073f5=0x1),_0x5ddfaa<0x1&&(_0x52e0de=0x2-_0x5ddfaa,_0x5ddfaa=0x1),{'dy':_0xebf488,'edy':_0x52e0de,'dx':_0x3b7c27,'edx':_0x238672,'y':_0x5ddfaa,'ey':_0x5a1a71,'x':_0x5073f5,'ex':_0x228a5b,'w':_0x4515f8,'h':_0x28dab7};}[_0x1ad56f(0x301)](_0x23a4a3){const _0xdf1932=_0x1ad56f;return new Box({'left':this[_0xdf1932(0x1a4)]+_0x23a4a3[_0xdf1932(0x1a4)]*this[_0xdf1932(0x2ba)],'top':this['top']+_0x23a4a3['top']*this[_0xdf1932(0x262)],'right':this[_0xdf1932(0x15a)]+_0x23a4a3[_0xdf1932(0x15a)]*this[_0xdf1932(0x2ba)],'bottom':this[_0xdf1932(0x2bc)]+_0x23a4a3[_0xdf1932(0x2bc)]*this['height']})[_0xdf1932(0x259)]()[_0xdf1932(0xe6)]();}},BoundingBox=class extends Box{constructor(_0x2f83f5,_0x47a64f,_0x4918fb,_0x14d026,_0x23d0b2=![]){super({'left':_0x2f83f5,'top':_0x47a64f,'right':_0x4918fb,'bottom':_0x14d026},_0x23d0b2);}},ObjectDetection=class{constructor(_0x1e854d,_0x46b9d6,_0x286fdb,_0x523ccd,_0x3c4107){const _0x3267a4=_0x1ad56f;this[_0x3267a4(0x168)]=new Dimensions(_0x3c4107[_0x3267a4(0x2ba)],_0x3c4107[_0x3267a4(0x262)]),this[_0x3267a4(0x137)]=_0x1e854d,this[_0x3267a4(0x325)]=_0x46b9d6,this[_0x3267a4(0x14f)]=_0x286fdb,this[_0x3267a4(0x297)]=new Box(_0x523ccd)[_0x3267a4(0x296)](this['_imageDims']);}get[_0x1ad56f(0x232)](){const _0x422af9=_0x1ad56f;return this[_0x422af9(0x137)];}get[_0x1ad56f(0x33b)](){return this['_classScore'];}get[_0x1ad56f(0x11b)](){return this['_className'];}get['box'](){return this['_box'];}get['imageDims'](){const _0x36020c=_0x1ad56f;return this[_0x36020c(0x168)];}get[_0x1ad56f(0x1e6)](){const _0x40a95d=_0x1ad56f;return this[_0x40a95d(0x10b)]['width'];}get[_0x1ad56f(0x268)](){const _0x3ec0d3=_0x1ad56f;return this[_0x3ec0d3(0x10b)][_0x3ec0d3(0x262)];}get[_0x1ad56f(0x1ab)](){const _0x53f18b=_0x1ad56f;return new Box(this[_0x53f18b(0x297)])[_0x53f18b(0x296)](this['imageDims'][_0x53f18b(0x115)]());}['forSize'](_0x405045,_0x5fe5c8){const _0x2541ed=_0x1ad56f;return new ObjectDetection(this[_0x2541ed(0x232)],this[_0x2541ed(0x33b)],this[_0x2541ed(0x11b)],this[_0x2541ed(0x1ab)],{'width':_0x405045,'height':_0x5fe5c8});}},FaceDetection=class extends ObjectDetection{constructor(_0x2e713a,_0x4c2d79,_0x5debd0){super(_0x2e713a,_0x2e713a,'',_0x4c2d79,_0x5debd0);}[_0x1ad56f(0x339)](_0x3d9ef3,_0x2d40fc){const _0x2cb18a=_0x1ad56f,{score:_0x26a517,relativeBox:_0x3ded29,imageDims:_0x5a14b8}=super[_0x2cb18a(0x339)](_0x3d9ef3,_0x2d40fc);return new FaceDetection(_0x26a517,_0x3ded29,_0x5a14b8);}};function iou(_0x47394d,_0x1a3614,_0x23b832=!![]){const _0x437cfb=_0x1ad56f,_0x481589=Math[_0x437cfb(0x170)](0x0,Math[_0x437cfb(0x229)](_0x47394d[_0x437cfb(0x15a)],_0x1a3614[_0x437cfb(0x15a)])-Math[_0x437cfb(0x170)](_0x47394d['left'],_0x1a3614['left'])),_0x3ee120=Math['max'](0x0,Math['min'](_0x47394d[_0x437cfb(0x2bc)],_0x1a3614[_0x437cfb(0x2bc)])-Math['max'](_0x47394d[_0x437cfb(0xea)],_0x1a3614['top'])),_0x567409=_0x481589*_0x3ee120;return _0x23b832?_0x567409/(_0x47394d[_0x437cfb(0x1a9)]+_0x1a3614[_0x437cfb(0x1a9)]-_0x567409):_0x567409/Math[_0x437cfb(0x229)](_0x47394d[_0x437cfb(0x1a9)],_0x1a3614[_0x437cfb(0x1a9)]);}function minBbox(_0x291ee2){const _0x4301c8=_0x1ad56f,_0x45e387=_0x291ee2['map'](_0x577d62=>_0x577d62['x']),_0x5c7917=_0x291ee2[_0x4301c8(0x248)](_0x2b91b4=>_0x2b91b4['y']),_0x2b1748=_0x45e387[_0x4301c8(0x353)]((_0x54bb2f,_0x5da9a2)=>_0x5da9a2<_0x54bb2f?_0x5da9a2:_0x54bb2f,Infinity),_0x56e67f=_0x5c7917[_0x4301c8(0x353)]((_0x12b6f9,_0x43079a)=>_0x43079a<_0x12b6f9?_0x43079a:_0x12b6f9,Infinity),_0x4fca29=_0x45e387[_0x4301c8(0x353)]((_0x4a6f46,_0x53ca4e)=>_0x4a6f46<_0x53ca4e?_0x53ca4e:_0x4a6f46,0x0),_0x2d4e0d=_0x5c7917[_0x4301c8(0x353)]((_0x4ddd86,_0x94453c)=>_0x4ddd86<_0x94453c?_0x94453c:_0x4ddd86,0x0);return new BoundingBox(_0x2b1748,_0x56e67f,_0x4fca29,_0x2d4e0d);}function nonMaxSuppression(_0x1f16d0,_0x2533db,_0x53f72c,_0x592ee7=!![]){const _0x39be4a=_0x1ad56f;let _0x398f05=_0x2533db[_0x39be4a(0x248)]((_0x3f461b,_0xabe609)=>({'score':_0x3f461b,'boxIndex':_0xabe609}))[_0x39be4a(0x1f5)]((_0x209afb,_0x513f90)=>_0x209afb[_0x39be4a(0x232)]-_0x513f90['score'])[_0x39be4a(0x248)](_0xa2ec99=>_0xa2ec99['boxIndex']);const _0x1e59f6=[];while(_0x398f05[_0x39be4a(0x194)]>0x0){const _0x164686=_0x398f05[_0x39be4a(0x2cb)]();_0x1e59f6[_0x39be4a(0x31b)](_0x164686);const _0x4f52b2=_0x398f05,_0x4ee203=[];for(let _0x4fadfc=0x0;_0x4fadfc<_0x4f52b2[_0x39be4a(0x194)];_0x4fadfc++){const _0x2b634a=_0x4f52b2[_0x4fadfc],_0x5f5e08=_0x1f16d0[_0x164686],_0x4f4e82=_0x1f16d0[_0x2b634a];_0x4ee203[_0x39be4a(0x31b)](iou(_0x5f5e08,_0x4f4e82,_0x592ee7));}_0x398f05=_0x398f05[_0x39be4a(0x165)]((_0x5ade30,_0x42a35e)=>_0x4ee203[_0x42a35e]<=_0x53f72c);}return _0x1e59f6;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x10c790,_0x57e50f){const _0x45d78b=_0x1ad56f;return tf2[_0x45d78b(0x258)](()=>{const _0x4995dc=_0x45d78b,[_0x202ee5,_0x48b7ed,_0x418e91]=_0x57e50f,_0x562b97=tf2['fill']([..._0x10c790['shape'][_0x4995dc(0x22d)](0x0,0x3),0x1],_0x202ee5,'float32'),_0x37efb1=tf2['fill']([..._0x10c790[_0x4995dc(0x1b2)]['slice'](0x0,0x3),0x1],_0x48b7ed,_0x4995dc(0x347)),_0x2dc445=tf2[_0x4995dc(0x281)]([..._0x10c790[_0x4995dc(0x1b2)]['slice'](0x0,0x3),0x1],_0x418e91,_0x4995dc(0x347)),_0x5d0498=tf2[_0x4995dc(0x25e)]([_0x562b97,_0x37efb1,_0x2dc445],0x3);return tf2[_0x4995dc(0x185)](_0x10c790,_0x5d0498);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x3bfa19,_0x40ee68=![]){const _0x267c56=_0x1ad56f;return tf3[_0x267c56(0x258)](()=>{const _0x572f4b=_0x267c56,[_0x3271b1,_0x223827]=_0x3bfa19[_0x572f4b(0x1b2)][_0x572f4b(0x22d)](0x1);if(_0x3271b1===_0x223827)return _0x3bfa19;const _0xa19291=Math['abs'](_0x3271b1-_0x223827),_0x38cd4d=Math[_0x572f4b(0xe6)](_0xa19291*(_0x40ee68?0.5:0x1)),_0x59e60f=_0x3271b1>_0x223827?0x2:0x1,_0x505c80=_0xfdcd8b=>{const _0x487ea7=_0x572f4b,_0x325f9f=_0x3bfa19[_0x487ea7(0x1b2)][_0x487ea7(0x22d)]();return _0x325f9f[_0x59e60f]=_0xfdcd8b,tf3[_0x487ea7(0x281)](_0x325f9f,0x0,_0x487ea7(0x347));},_0x20b647=_0x505c80(_0x38cd4d),_0x4b69ae=_0xa19291-_0x20b647[_0x572f4b(0x1b2)][_0x59e60f],_0x5ebed3=_0x40ee68&&_0x4b69ae?_0x505c80(_0x4b69ae):null,_0x134271=[_0x5ebed3,_0x3bfa19,_0x20b647][_0x572f4b(0x165)](_0x1183b9=>!!_0x1183b9)['map'](_0x5672b0=>tf3[_0x572f4b(0x213)](_0x5672b0,_0x572f4b(0x347)));return tf3[_0x572f4b(0x25e)](_0x134271,_0x59e60f);});}function _0x5530(_0x5b6860,_0x4934db){const _0x483056=_0x4830();return _0x5530=function(_0x5530fb,_0x11c0fc){_0x5530fb=_0x5530fb-0xe6;let _0xe9e945=_0x483056[_0x5530fb];return _0xe9e945;},_0x5530(_0x5b6860,_0x4934db);}function shuffleArray(_0x2df724){const _0x1d4d0f=_0x1ad56f,_0x1b0e99=_0x2df724['slice']();for(let _0xba7f4=_0x1b0e99[_0x1d4d0f(0x194)]-0x1;_0xba7f4>0x0;_0xba7f4--){const _0x1df3f4=Math[_0x1d4d0f(0x21c)](Math[_0x1d4d0f(0x111)]()*(_0xba7f4+0x1)),_0x3a5ace=_0x1b0e99[_0xba7f4];_0x1b0e99[_0xba7f4]=_0x1b0e99[_0x1df3f4],_0x1b0e99[_0x1df3f4]=_0x3a5ace;}return _0x1b0e99;}function sigmoid(_0x52ae21){const _0x5722e3=_0x1ad56f;return 0x1/(0x1+Math[_0x5722e3(0x160)](-_0x52ae21));}function inverseSigmoid(_0x10d5f0){return Math['log'](_0x10d5f0/(0x1-_0x10d5f0));}var Rect=class extends Box{constructor(_0x2fdd32,_0x4ffbc1,_0x596b92,_0x541d71,_0x217284=![]){super({'x':_0x2fdd32,'y':_0x4ffbc1,'width':_0x596b92,'height':_0x541d71},_0x217284);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x3fad3e,_0x52595d,_0x20c6d2=new Point(0x0,0x0)){const _0x155dfa=_0x1ad56f,{width:_0x24fa34,height:_0x268168}=_0x52595d;this[_0x155dfa(0x129)]=new Dimensions(_0x24fa34,_0x268168),this[_0x155dfa(0x187)]=_0x20c6d2,this[_0x155dfa(0x27e)]=_0x3fad3e[_0x155dfa(0x248)](_0x43f09b=>_0x43f09b[_0x155dfa(0x309)](new Point(_0x24fa34,_0x268168))['add'](_0x20c6d2));}get[_0x1ad56f(0x12c)](){const _0x24b211=_0x1ad56f;return new Point(this[_0x24b211(0x187)]['x'],this[_0x24b211(0x187)]['y']);}get[_0x1ad56f(0x1e6)](){const _0x3fc7a5=_0x1ad56f;return this[_0x3fc7a5(0x129)][_0x3fc7a5(0x2ba)];}get['imageHeight'](){const _0xdc2952=_0x1ad56f;return this[_0xdc2952(0x129)][_0xdc2952(0x262)];}get['positions'](){const _0x364c36=_0x1ad56f;return this[_0x364c36(0x27e)];}get['relativePositions'](){const _0x530907=_0x1ad56f;return this[_0x530907(0x27e)][_0x530907(0x248)](_0x43ec21=>_0x43ec21[_0x530907(0x185)](this[_0x530907(0x187)])['div'](new Point(this[_0x530907(0x1e6)],this[_0x530907(0x268)])));}[_0x1ad56f(0x339)](_0x4f4639,_0x589369){const _0x212d4b=_0x1ad56f;return new this['constructor'](this[_0x212d4b(0x152)],{'width':_0x4f4639,'height':_0x589369});}[_0x1ad56f(0x1ca)](_0xbc007e,_0x15bcb6){const _0x10a4b1=_0x1ad56f;return new this['constructor'](this[_0x10a4b1(0x152)],this[_0x10a4b1(0x129)],new Point(_0xbc007e,_0x15bcb6));}[_0x1ad56f(0x145)](_0x3ec6a5){const _0x4fa9a7=_0x1ad56f;return this[_0x4fa9a7(0x1ca)](_0x3ec6a5['x'],_0x3ec6a5['y']);}[_0x1ad56f(0x196)](_0x26377d,_0x207486={}){const _0x5b6a0d=_0x1ad56f;if(_0x26377d){const _0x53f9fb=_0x26377d instanceof FaceDetection?_0x26377d[_0x5b6a0d(0x1bc)]['floor']():new Box(_0x26377d);return this[_0x5b6a0d(0x1ca)](_0x53f9fb['x'],_0x53f9fb['y'])[_0x5b6a0d(0x196)](null,_0x207486);}const {useDlibAlignment:_0x4a8de7,minBoxPadding:_0x3819fb}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x207486};if(_0x4a8de7)return this['alignDlib']();return this[_0x5b6a0d(0x166)](_0x3819fb);}[_0x1ad56f(0xf0)](){const _0x1a3059=_0x1ad56f,_0x161527=this['getRefPointsForAlignment'](),[_0x7529ed,_0x1ed338,_0x5dacb9]=_0x161527,_0x734a4f=_0x3745f7=>_0x5dacb9[_0x1a3059(0x185)](_0x3745f7)['magnitude'](),_0x529d91=(_0x734a4f(_0x7529ed)+_0x734a4f(_0x1ed338))/0x2,_0xb7186d=Math[_0x1a3059(0x21c)](_0x529d91/relScale),_0x574d2f=getCenterPoint(_0x161527),_0x471e66=Math['floor'](Math[_0x1a3059(0x170)](0x0,_0x574d2f['x']-relX*_0xb7186d)),_0x35dbd2=Math['floor'](Math['max'](0x0,_0x574d2f['y']-relY*_0xb7186d));return new Rect(_0x471e66,_0x35dbd2,Math[_0x1a3059(0x229)](_0xb7186d,this['imageWidth']+_0x471e66),Math[_0x1a3059(0x229)](_0xb7186d,this[_0x1a3059(0x268)]+_0x35dbd2));}[_0x1ad56f(0x166)](_0x51e0c7){const _0x5db5a9=_0x1ad56f,_0x2b179c=minBbox(this['positions']);return _0x2b179c[_0x5db5a9(0x27c)](_0x2b179c[_0x5db5a9(0x2ba)]*_0x51e0c7,_0x2b179c[_0x5db5a9(0x262)]*_0x51e0c7);}['getRefPointsForAlignment'](){const _0x486bb3=_0x1ad56f;throw new Error(_0x486bb3(0x1aa));}},FaceLandmarks5=class extends FaceLandmarks{[_0x1ad56f(0x2e1)](){const _0x36d4da=_0x1ad56f,_0xa9e2c2=this[_0x36d4da(0x2ac)];return[_0xa9e2c2[0x0],_0xa9e2c2[0x1],getCenterPoint([_0xa9e2c2[0x3],_0xa9e2c2[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x1ad56f(0x18a)](){const _0x50364b=_0x1ad56f;return this[_0x50364b(0x2ac)]['slice'](0x0,0x11);}['getLeftEyeBrow'](){const _0x3a33d4=_0x1ad56f;return this[_0x3a33d4(0x2ac)][_0x3a33d4(0x22d)](0x11,0x16);}[_0x1ad56f(0x2bb)](){const _0x3e5ccf=_0x1ad56f;return this[_0x3e5ccf(0x2ac)][_0x3e5ccf(0x22d)](0x16,0x1b);}[_0x1ad56f(0x17d)](){const _0x4860bc=_0x1ad56f;return this['positions'][_0x4860bc(0x22d)](0x1b,0x24);}['getLeftEye'](){const _0xb640d7=_0x1ad56f;return this[_0xb640d7(0x2ac)]['slice'](0x24,0x2a);}[_0x1ad56f(0x22a)](){return this['positions']['slice'](0x2a,0x30);}[_0x1ad56f(0x202)](){const _0x127cb6=_0x1ad56f;return this[_0x127cb6(0x2ac)][_0x127cb6(0x22d)](0x30,0x44);}[_0x1ad56f(0x2e1)](){const _0x35ddf6=_0x1ad56f;return[this['getLeftEye'](),this[_0x35ddf6(0x22a)](),this['getMouth']()]['map'](getCenterPoint);}},FaceMatch=class{constructor(_0x23a6af,_0x489118){const _0x2ce038=_0x1ad56f;this[_0x2ce038(0x2b3)]=_0x23a6af,this[_0x2ce038(0x198)]=_0x489118;}get[_0x1ad56f(0x282)](){const _0x258bee=_0x1ad56f;return this[_0x258bee(0x2b3)];}get['distance'](){const _0x52d689=_0x1ad56f;return this[_0x52d689(0x198)];}['toString'](_0x165f95=!![]){const _0x36737d=_0x1ad56f;return''+this[_0x36737d(0x282)]+(_0x165f95?'\x20('+round(this[_0x36737d(0x17e)])+')':'');}},LabeledBox=class extends Box{constructor(_0x337fcc,_0xbce441){const _0x3f4763=_0x1ad56f;super(_0x337fcc),this[_0x3f4763(0x2b3)]=_0xbce441;}static['assertIsValidLabeledBox'](_0x29cbff,_0x5decd6){const _0x46b209=_0x1ad56f;Box[_0x46b209(0x2d6)](_0x29cbff,_0x5decd6);if(!isValidNumber(_0x29cbff[_0x46b209(0x282)]))throw new Error(_0x5decd6+_0x46b209(0x2f1)+_0x29cbff[_0x46b209(0x282)]+_0x46b209(0x1db));}get[_0x1ad56f(0x282)](){const _0xe00a4c=_0x1ad56f;return this[_0xe00a4c(0x2b3)];}},LabeledFaceDescriptors=class{constructor(_0x2320eb,_0x41a589){const _0x4775b7=_0x1ad56f;if(!(typeof _0x2320eb===_0x4775b7(0x113)))throw new Error('LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string');if(!Array[_0x4775b7(0x16f)](_0x41a589)||_0x41a589[_0x4775b7(0x17a)](_0x4b44f9=>!(_0x4b44f9 instanceof Float32Array)))throw new Error(_0x4775b7(0x224));this[_0x4775b7(0x2b3)]=_0x2320eb,this[_0x4775b7(0x35b)]=_0x41a589;}get[_0x1ad56f(0x282)](){const _0x4147fa=_0x1ad56f;return this[_0x4147fa(0x2b3)];}get['descriptors'](){const _0x359a40=_0x1ad56f;return this[_0x359a40(0x35b)];}[_0x1ad56f(0x2a4)](){const _0x292421=_0x1ad56f;return{'label':this[_0x292421(0x282)],'descriptors':this[_0x292421(0x2f3)][_0x292421(0x248)](_0x5b6ab4=>Array['from'](_0x5b6ab4))};}static['fromJSON'](_0x16fa48){const _0x157a92=_0x1ad56f,_0x9e2fba=_0x16fa48[_0x157a92(0x2f3)]['map'](_0x1557f4=>new Float32Array(_0x1557f4));return new LabeledFaceDescriptors(_0x16fa48[_0x157a92(0x282)],_0x9e2fba);}},PredictedBox=class extends LabeledBox{constructor(_0x3b01f3,_0x11c5d7,_0x149920,_0x4cac86){const _0x5767d2=_0x1ad56f;super(_0x3b01f3,_0x11c5d7),this[_0x5767d2(0x137)]=_0x149920,this[_0x5767d2(0x325)]=_0x4cac86;}static[_0x1ad56f(0x23f)](_0x579080,_0x190171){const _0x4bcebc=_0x1ad56f;LabeledBox[_0x4bcebc(0x19b)](_0x579080,_0x190171);if(!isValidProbablitiy(_0x579080[_0x4bcebc(0x232)])||!isValidProbablitiy(_0x579080[_0x4bcebc(0x33b)]))throw new Error(_0x190171+_0x4bcebc(0x18b)+_0x579080[_0x4bcebc(0x232)]+_0x4bcebc(0x103)+_0x579080['classScore']+_0x4bcebc(0x200));}get[_0x1ad56f(0x232)](){const _0x455098=_0x1ad56f;return this[_0x455098(0x137)];}get[_0x1ad56f(0x33b)](){return this['_classScore'];}};function isWithFaceDetection(_0x54bf07){const _0x34efdc=_0x1ad56f;return _0x54bf07[_0x34efdc(0x1af)]instanceof FaceDetection;}function extendWithFaceDetection(_0x522def,_0x4f5ebe){const _0x49372b={'detection':_0x4f5ebe};return{..._0x522def,..._0x49372b};}function createBrowserEnv(){const _0x2afa08=_0x1ad56f,_0x64ae9e=window[_0x2afa08(0x203)];if(!_0x64ae9e)throw new Error(_0x2afa08(0x1a0));const _0x448609=()=>{const _0x256713=_0x2afa08;throw new Error(_0x256713(0x34c));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0x2afa08(0x359)](_0x2afa08(0x266)),'createImageElement':()=>document[_0x2afa08(0x359)](_0x2afa08(0x13c)),'createVideoElement':()=>document[_0x2afa08(0x359)](_0x2afa08(0x124)),'fetch':_0x64ae9e,'readFile':_0x448609};}function isNodejs(){const _0x536873=_0x1ad56f;return typeof global===_0x536873(0x316)&&typeof process!==_0x536873(0x2df)&&process[_0x536873(0x314)]!=null&&process[_0x536873(0x314)]['node']!=null;}function createFileSystem(_0x2b2e54){const _0x256bda=_0x1ad56f;let _0x48a568='';if(!_0x2b2e54&&isNodejs())try{_0x2b2e54=require('fs');}catch(_0x1e4f80){console['log']('error',_0x1e4f80),_0x48a568=_0x1e4f80[_0x256bda(0x1c7)]();}const _0x4b5c95=_0x2b2e54?_0x242916=>new Promise((_0x8a8010,_0x19ca2b)=>{const _0x943be2=_0x256bda;_0x2b2e54[_0x943be2(0xfc)](_0x242916,(_0x17170e,_0x2f519d)=>_0x17170e?_0x19ca2b(_0x17170e):_0x8a8010(_0x2f519d));}):()=>{const _0x1ef806=_0x256bda;throw new Error(_0x1ef806(0x127)+_0x48a568);};return{'readFile':_0x4b5c95};}function createNodejsEnv(){const _0x49664e=_0x1ad56f,_0x3e6586=global[_0x49664e(0x2f6)]||global[_0x49664e(0x2e0)],_0xcd5158=global[_0x49664e(0x22e)]||global[_0x49664e(0x1e4)],_0x3b74b0=global['Video']||global['HTMLVideoElement'],_0x3dd9c3=()=>{const _0x253205=_0x49664e;if(_0x3e6586)return new _0x3e6586();throw new Error(_0x253205(0x28e));},_0xa7330a=()=>{const _0x45a87a=_0x49664e;if(_0xcd5158)return new _0xcd5158();throw new Error(_0x45a87a(0x2d5));},_0x33c26d=()=>{const _0x5199da=_0x49664e;if(_0x3b74b0)return new _0x3b74b0();throw new Error(_0x5199da(0x11a));},_0x565856=global[_0x49664e(0x203)],_0x2ef5be=createFileSystem();return{'Canvas':_0x3e6586||class{},'CanvasRenderingContext2D':global[_0x49664e(0x13f)]||class{},'Image':_0xcd5158||class{},'ImageData':global['ImageData']||class{},'Video':global[_0x49664e(0x350)]||class{},'createCanvasElement':_0x3dd9c3,'createImageElement':_0xa7330a,'createVideoElement':_0x33c26d,'fetch':_0x565856,..._0x2ef5be};}function isBrowser(){const _0x5789e8=_0x1ad56f;return typeof window==='object'&&typeof document!==_0x5789e8(0x2df)&&typeof HTMLImageElement!==_0x5789e8(0x2df)&&typeof HTMLCanvasElement!==_0x5789e8(0x2df)&&typeof HTMLVideoElement!==_0x5789e8(0x2df)&&typeof ImageData!==_0x5789e8(0x2df)&&typeof CanvasRenderingContext2D!==_0x5789e8(0x2df);}var environment;function getEnv(){const _0x15fcc5=_0x1ad56f;if(!environment)throw new Error(_0x15fcc5(0x336));return environment;}function setEnv(_0x5beca4){environment=_0x5beca4;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0xbfdd2e){const _0x4098f8=_0x1ad56f;!environment&&initialize();if(!environment)throw new Error(_0x4098f8(0x186));const {Canvas:Canvas=environment['Canvas'],Image:Image=environment['Image']}=_0xbfdd2e;environment[_0x4098f8(0x2f6)]=Canvas,environment[_0x4098f8(0x22e)]=Image,environment['createCanvasElement']=_0xbfdd2e['createCanvasElement']||(()=>new Canvas()),environment[_0x4098f8(0x2d7)]=_0xbfdd2e[_0x4098f8(0x2d7)]||(()=>new Image()),environment['ImageData']=_0xbfdd2e[_0x4098f8(0x14a)]||environment[_0x4098f8(0x14a)],environment[_0x4098f8(0xf4)]=_0xbfdd2e[_0x4098f8(0xf4)]||environment['Video'],environment[_0x4098f8(0x203)]=_0xbfdd2e[_0x4098f8(0x203)]||environment['fetch'],environment[_0x4098f8(0xfc)]=_0xbfdd2e['readFile']||environment['readFile'];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x2bbd9b){const _0x2a823c=_0x1ad56f;if(!env[_0x2a823c(0x2ce)]()&&typeof _0x2bbd9b==='string')return document['getElementById'](_0x2bbd9b);return _0x2bbd9b;}function getContext2dOrThrow(_0x3b3549){const _0x25f734=_0x1ad56f,{Canvas:_0x2899ed,CanvasRenderingContext2D:_0x227e1c}=env[_0x25f734(0x1e3)]();if(_0x3b3549 instanceof _0x227e1c)return _0x3b3549;const _0x394ea7=resolveInput(_0x3b3549);if(!(_0x394ea7 instanceof _0x2899ed))throw new Error('resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas');const _0x467c72=_0x394ea7[_0x25f734(0x199)]('2d');if(!_0x467c72)throw new Error(_0x25f734(0x240));return _0x467c72;}var AnchorPosition=(_0x1102d2=>{const _0x42187b=_0x1ad56f;return _0x1102d2[_0x42187b(0xed)]=_0x42187b(0xed),_0x1102d2['TOP_RIGHT']=_0x42187b(0x1ad),_0x1102d2[_0x42187b(0x367)]='BOTTOM_LEFT',_0x1102d2[_0x42187b(0x2cc)]=_0x42187b(0x2cc),_0x1102d2;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0xb9cdcf={}){const _0x4786a5=_0x1ad56f,{anchorPosition:_0xb6660e,backgroundColor:_0x56b02d,fontColor:_0x95d6c3,fontSize:_0x971cbd,fontStyle:_0x1563b9,padding:_0x1c2b90}=_0xb9cdcf;this[_0x4786a5(0x354)]=_0xb6660e||_0x4786a5(0xed),this['backgroundColor']=_0x56b02d||'rgba(0,\x200,\x200,\x200.5)',this[_0x4786a5(0x208)]=_0x95d6c3||_0x4786a5(0x2dc),this['fontSize']=_0x971cbd||0xe,this['fontStyle']=_0x1563b9||_0x4786a5(0x114),this['padding']=_0x1c2b90||0x4;}},DrawTextField=class{constructor(_0x2b7cbb,_0x3bfd56,_0x3c0f9c={}){this['text']=typeof _0x2b7cbb==='string'?[_0x2b7cbb]:_0x2b7cbb instanceof DrawTextField?_0x2b7cbb['text']:_0x2b7cbb,this['anchor']=_0x3bfd56,this['options']=new DrawTextFieldOptions(_0x3c0f9c);}[_0x1ad56f(0x138)](_0x408bfc){const _0x3736ae=_0x1ad56f,{padding:_0x242bb7}=this[_0x3736ae(0x146)];return this['text'][_0x3736ae(0x248)](_0x2ee0b5=>_0x408bfc['measureText'](_0x2ee0b5)[_0x3736ae(0x2ba)])[_0x3736ae(0x353)]((_0x16993e,_0x2b2774)=>_0x16993e<_0x2b2774?_0x2b2774:_0x16993e,0x0)+0x2*_0x242bb7;}[_0x1ad56f(0x2eb)](){const _0x2ec20a=_0x1ad56f,{fontSize:_0x177d9f,padding:_0x193f63}=this['options'];return this[_0x2ec20a(0x21d)][_0x2ec20a(0x194)]*_0x177d9f+0x2*_0x193f63;}[_0x1ad56f(0x2fe)](_0x1c094f,_0x27a55f){const _0xb175fe=_0x1ad56f,{anchorPosition:_0xa9cb36}=this[_0xb175fe(0x146)],_0x1949b9=_0xa9cb36===_0xb175fe(0x2cc)||_0xa9cb36===_0xb175fe(0x1ad),_0xde0474=_0xa9cb36===_0xb175fe(0x367)||_0xa9cb36===_0xb175fe(0x2cc),_0x3c1d4c=this['measureWidth'](_0x1c094f),_0x70654=this[_0xb175fe(0x2eb)](),_0x5cd614=_0x1949b9?this[_0xb175fe(0x1ba)]['x']-_0x3c1d4c:this['anchor']['x'],_0xcc7223=_0xde0474?this[_0xb175fe(0x1ba)]['y']-_0x70654:this[_0xb175fe(0x1ba)]['y'];if(_0x27a55f){const {width:_0x1ce642,height:_0x217b33}=_0x27a55f,_0x3106a6=Math[_0xb175fe(0x170)](Math[_0xb175fe(0x229)](_0x5cd614,_0x1ce642-_0x3c1d4c),0x0),_0x44c218=Math[_0xb175fe(0x170)](Math[_0xb175fe(0x229)](_0xcc7223,_0x217b33-_0x70654),0x0);return{'x':_0x3106a6,'y':_0x44c218};}return{'x':_0x5cd614,'y':_0xcc7223};}[_0x1ad56f(0x344)](_0x42ce4f){const _0x4060a6=_0x1ad56f,_0x454dc8=resolveInput(_0x42ce4f),_0x47ce1e=getContext2dOrThrow(_0x454dc8),{backgroundColor:_0x4ea2de,fontColor:_0x5cf388,fontSize:_0x1711ed,fontStyle:_0x2ad1f7,padding:_0x560944}=this[_0x4060a6(0x146)];_0x47ce1e[_0x4060a6(0x155)]=_0x1711ed+_0x4060a6(0x1b3)+_0x2ad1f7;const _0x9c2f78=this['measureWidth'](_0x47ce1e),_0x6b854a=this[_0x4060a6(0x2eb)]();_0x47ce1e[_0x4060a6(0x14c)]=_0x4ea2de;const _0x33720e=this[_0x4060a6(0x2fe)](_0x47ce1e,_0x454dc8);_0x47ce1e[_0x4060a6(0x1b7)](_0x33720e['x'],_0x33720e['y'],_0x9c2f78,_0x6b854a),_0x47ce1e[_0x4060a6(0x14c)]=_0x5cf388,this[_0x4060a6(0x21d)][_0x4060a6(0x234)]((_0x355df2,_0x295a1e)=>{const _0x30602c=_0x4060a6,_0x3075a4=_0x560944+_0x33720e['x'],_0x327559=_0x560944+_0x33720e['y']+(_0x295a1e+0x1)*_0x1711ed;_0x47ce1e[_0x30602c(0x2e4)](_0x355df2,_0x3075a4,_0x327559);});}},DrawBoxOptions=class{constructor(_0x10e229={}){const _0x3c8d2f=_0x1ad56f,{boxColor:_0x5b2f6e,lineWidth:_0x3b32cd,label:_0x3513d8,drawLabelOptions:_0xa5a0fb}=_0x10e229;this[_0x3c8d2f(0x101)]=_0x5b2f6e||'rgba(0,\x200,\x20255,\x201)',this[_0x3c8d2f(0x188)]=_0x3b32cd||0x2,this[_0x3c8d2f(0x282)]=_0x3513d8;const _0x422a29={'anchorPosition':_0x3c8d2f(0x367),'backgroundColor':this[_0x3c8d2f(0x101)]};this['drawLabelOptions']=new DrawTextFieldOptions({..._0x422a29,..._0xa5a0fb});}},DrawBox=class{constructor(_0x25bd06,_0x2d797f={}){const _0x3f15c7=_0x1ad56f;this[_0x3f15c7(0x1bc)]=new Box(_0x25bd06),this[_0x3f15c7(0x146)]=new DrawBoxOptions(_0x2d797f);}[_0x1ad56f(0x344)](_0x3b51ec){const _0x1e65ec=_0x1ad56f,_0x43f6ab=getContext2dOrThrow(_0x3b51ec),{boxColor:_0x38ab21,lineWidth:_0x33e239}=this[_0x1e65ec(0x146)],{x:_0x18a205,y:_0x93ecf1,width:_0x451938,height:_0x4fd502}=this[_0x1e65ec(0x1bc)];_0x43f6ab[_0x1e65ec(0x26f)]=_0x38ab21,_0x43f6ab[_0x1e65ec(0x188)]=_0x33e239,_0x43f6ab[_0x1e65ec(0x343)](_0x18a205,_0x93ecf1,_0x451938,_0x4fd502);const {label:_0x43a86d}=this[_0x1e65ec(0x146)];_0x43a86d&&new DrawTextField([_0x43a86d],{'x':_0x18a205-_0x33e239/0x2,'y':_0x93ecf1},this['options'][_0x1e65ec(0x36b)])[_0x1e65ec(0x344)](_0x3b51ec);}};function drawDetections(_0x4023f6,_0x3a96de){const _0x15387e=_0x1ad56f,_0x4d6d20=Array[_0x15387e(0x16f)](_0x3a96de)?_0x3a96de:[_0x3a96de];_0x4d6d20[_0x15387e(0x234)](_0x18b29e=>{const _0x3fb9fd=_0x15387e,_0x405e70=_0x18b29e instanceof FaceDetection?_0x18b29e[_0x3fb9fd(0x232)]:isWithFaceDetection(_0x18b29e)?_0x18b29e[_0x3fb9fd(0x1af)][_0x3fb9fd(0x232)]:void 0x0,_0x2e21d9=_0x18b29e instanceof FaceDetection?_0x18b29e[_0x3fb9fd(0x1bc)]:isWithFaceDetection(_0x18b29e)?_0x18b29e['detection'][_0x3fb9fd(0x1bc)]:new Box(_0x18b29e),_0x274941=_0x405e70?''+round(_0x405e70):void 0x0;new DrawBox(_0x2e21d9,{'label':_0x274941})[_0x3fb9fd(0x344)](_0x4023f6);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x2af88e){const _0x24fdd3=_0x1ad56f,{Image:_0x32b594,Video:_0x5bf7bd}=env['getEnv']();return _0x2af88e instanceof _0x32b594&&_0x2af88e[_0x24fdd3(0x156)]||_0x2af88e instanceof _0x5bf7bd&&_0x2af88e[_0x24fdd3(0x217)]>=0x3;}function awaitMediaLoaded(_0x537bae){return new Promise((_0xc3af59,_0x5f1732)=>{const _0x22bd18=_0x5530;if(_0x537bae instanceof env[_0x22bd18(0x1e3)]()[_0x22bd18(0x2f6)]||isMediaLoaded(_0x537bae))_0xc3af59(null);function _0x1e579b(_0x2a41a6){const _0x2ddc24=_0x22bd18;if(!_0x2a41a6['currentTarget'])return;_0x2a41a6['currentTarget'][_0x2ddc24(0x313)](_0x2ddc24(0x22b),_0x37f291),_0x2a41a6[_0x2ddc24(0x284)][_0x2ddc24(0x313)]('error',_0x1e579b),_0x5f1732(_0x2a41a6);}function _0x37f291(_0x22370e){const _0x189fd2=_0x22bd18;if(!_0x22370e[_0x189fd2(0x284)])return;_0x22370e['currentTarget'][_0x189fd2(0x313)](_0x189fd2(0x22b),_0x37f291),_0x22370e['currentTarget']['removeEventListener'](_0x189fd2(0x107),_0x1e579b),_0xc3af59(_0x22370e);}_0x537bae[_0x22bd18(0x135)]('load',_0x37f291),_0x537bae[_0x22bd18(0x135)]('error',_0x1e579b);});}function bufferToImage(_0x2564da){return new Promise((_0xb00d66,_0x10c073)=>{const _0x2148b4=_0x5530;if(!(_0x2564da instanceof Blob))_0x10c073(new Error(_0x2148b4(0x104)));const _0x510e29=new FileReader();_0x510e29[_0x2148b4(0x1fe)]=()=>{const _0x4d1552=_0x2148b4;if(typeof _0x510e29[_0x4d1552(0xf5)]!==_0x4d1552(0x113))_0x10c073(new Error(_0x4d1552(0x1c4)));const _0x396257=env[_0x4d1552(0x1e3)]()[_0x4d1552(0x2d7)]();_0x396257['onload']=()=>_0xb00d66(_0x396257),_0x396257['onerror']=_0x10c073,_0x396257[_0x4d1552(0x293)]=_0x510e29[_0x4d1552(0xf5)];},_0x510e29[_0x2148b4(0x181)]=_0x10c073,_0x510e29[_0x2148b4(0x330)](_0x2564da);});}function getMediaDimensions(_0x3d0725){const _0x27ecc9=_0x1ad56f,{Image:_0x32ebeb,Video:_0x5d58f7}=env[_0x27ecc9(0x1e3)]();if(_0x3d0725 instanceof _0x32ebeb)return new Dimensions(_0x3d0725[_0x27ecc9(0x32e)],_0x3d0725[_0x27ecc9(0xf2)]);if(_0x3d0725 instanceof _0x5d58f7)return new Dimensions(_0x3d0725[_0x27ecc9(0x2b6)],_0x3d0725['videoHeight']);return new Dimensions(_0x3d0725[_0x27ecc9(0x2ba)],_0x3d0725[_0x27ecc9(0x262)]);}function createCanvas({width:_0x26f48d,height:_0xe807ad}){const _0x14d246=_0x1ad56f,{createCanvasElement:_0x4b742b}=env[_0x14d246(0x1e3)](),_0x2f3304=_0x4b742b();return _0x2f3304[_0x14d246(0x2ba)]=_0x26f48d,_0x2f3304[_0x14d246(0x262)]=_0xe807ad,_0x2f3304;}function createCanvasFromMedia(_0x1e97fa,_0x124143){const _0x4bcd7c=_0x1ad56f,{ImageData:_0x511d0a}=env[_0x4bcd7c(0x1e3)]();if(!(_0x1e97fa instanceof _0x511d0a)&&!isMediaLoaded(_0x1e97fa))throw new Error(_0x4bcd7c(0x1d5));const {width:_0x462894,height:_0x4bd05b}=_0x124143||getMediaDimensions(_0x1e97fa),_0x166c4e=createCanvas({'width':_0x462894,'height':_0x4bd05b});return _0x1e97fa instanceof _0x511d0a?getContext2dOrThrow(_0x166c4e)['putImageData'](_0x1e97fa,0x0,0x0):getContext2dOrThrow(_0x166c4e)[_0x4bcd7c(0x2ab)](_0x1e97fa,0x0,0x0,_0x462894,_0x4bd05b),_0x166c4e;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x4eb736,_0x921cd0){const _0x4d1435=_0x1ad56f,_0x343b21=_0x921cd0||env[_0x4d1435(0x1e3)]()[_0x4d1435(0x193)](),[_0x348b4c,_0x38fc78,_0x1f036e]=_0x4eb736[_0x4d1435(0x1b2)][_0x4d1435(0x22d)](isTensor4D(_0x4eb736)?0x1:0x0),_0x4821e0=tf4[_0x4d1435(0x258)](()=>_0x4eb736[_0x4d1435(0x10e)](_0x348b4c,_0x38fc78,_0x1f036e)[_0x4d1435(0x2d4)]());return await tf4[_0x4d1435(0x1f4)][_0x4d1435(0x169)](_0x4821e0,_0x343b21),_0x4821e0[_0x4d1435(0xf7)](),_0x343b21;}function isMediaElement(_0x415a49){const _0x5d80d2=_0x1ad56f,{Image:_0x44f97b,Canvas:_0x778fda,Video:_0x228fc8}=env[_0x5d80d2(0x1e3)]();return _0x415a49 instanceof _0x44f97b||_0x415a49 instanceof _0x778fda||_0x415a49 instanceof _0x228fc8;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x22ba2e,_0x1dbb0b,_0x2c215e=![]){const _0x1be372=_0x1ad56f,{Image:_0x3ed53d,Canvas:_0x4d4c78}=env[_0x1be372(0x1e3)]();if(!(_0x22ba2e instanceof _0x3ed53d||_0x22ba2e instanceof _0x4d4c78))throw new Error(_0x1be372(0x1a2));if(_0x1dbb0b<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x588b15=getMediaDimensions(_0x22ba2e),_0x5f3a9e=_0x1dbb0b/Math['max'](_0x588b15[_0x1be372(0x262)],_0x588b15[_0x1be372(0x2ba)]),_0x56859f=_0x5f3a9e*_0x588b15['width'],_0x2730ad=_0x5f3a9e*_0x588b15['height'],_0x3e8e32=createCanvas({'width':_0x1dbb0b,'height':_0x1dbb0b}),_0x4fb812=_0x22ba2e instanceof _0x4d4c78?_0x22ba2e:createCanvasFromMedia(_0x22ba2e),_0x5e64a7=Math[_0x1be372(0x2de)](_0x56859f-_0x2730ad)/0x2,_0x5ceea7=_0x2c215e&&_0x56859f<_0x2730ad?_0x5e64a7:0x0,_0x3b5db9=_0x2c215e&&_0x2730ad<_0x56859f?_0x5e64a7:0x0;if(_0x4fb812[_0x1be372(0x2ba)]>0x0&&_0x4fb812[_0x1be372(0x262)]>0x0)getContext2dOrThrow(_0x3e8e32)[_0x1be372(0x2ab)](_0x4fb812,_0x5ceea7,_0x3b5db9,_0x56859f,_0x2730ad);return _0x3e8e32;}var NetInput=class{constructor(_0x457538,_0x445797=![]){const _0x3264b3=_0x1ad56f;this[_0x3264b3(0x23e)]=[],this[_0x3264b3(0x143)]=[],this[_0x3264b3(0x35c)]=![],this[_0x3264b3(0x2f4)]=[],this['_inputSize']=0x0;if(!Array[_0x3264b3(0x16f)](_0x457538))throw new Error('NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20'+_0x457538);this['_treatAsBatchInput']=_0x445797,this[_0x3264b3(0x295)]=_0x457538[_0x3264b3(0x194)],_0x457538[_0x3264b3(0x234)]((_0x2c17a3,_0x3dadf8)=>{const _0x36742d=_0x3264b3;if(isTensor3D(_0x2c17a3)){this[_0x36742d(0x23e)][_0x3dadf8]=_0x2c17a3,this[_0x36742d(0x2f4)][_0x3dadf8]=_0x2c17a3[_0x36742d(0x1b2)];return;}if(isTensor4D(_0x2c17a3)){const _0x267b16=_0x2c17a3[_0x36742d(0x1b2)][0x0];if(_0x267b16!==0x1)throw new Error(_0x36742d(0x1d9)+_0x267b16+_0x36742d(0x180));this[_0x36742d(0x23e)][_0x3dadf8]=_0x2c17a3,this['_inputDimensions'][_0x3dadf8]=_0x2c17a3[_0x36742d(0x1b2)][_0x36742d(0x22d)](0x1);return;}const _0x22db1d=_0x2c17a3 instanceof env[_0x36742d(0x1e3)]()[_0x36742d(0x2f6)]?_0x2c17a3:createCanvasFromMedia(_0x2c17a3);this[_0x36742d(0x143)][_0x3dadf8]=_0x22db1d,this[_0x36742d(0x2f4)][_0x3dadf8]=[_0x22db1d[_0x36742d(0x262)],_0x22db1d['width'],0x3];});}get[_0x1ad56f(0x14e)](){const _0x3b039c=_0x1ad56f;return this[_0x3b039c(0x23e)];}get[_0x1ad56f(0x27b)](){const _0x1a866f=_0x1ad56f;return this[_0x1a866f(0x143)];}get[_0x1ad56f(0x289)](){const _0x2011b4=_0x1ad56f;return this[_0x2011b4(0x1fd)]>0x1||this['_treatAsBatchInput'];}get[_0x1ad56f(0x1fd)](){const _0x21d1d8=_0x1ad56f;return this[_0x21d1d8(0x295)];}get['inputDimensions'](){const _0x284dc3=_0x1ad56f;return this[_0x284dc3(0x2f4)];}get[_0x1ad56f(0x317)](){return this['_inputSize'];}get[_0x1ad56f(0x238)](){const _0x408f7a=_0x1ad56f;return range(this[_0x408f7a(0x1fd)],0x0,0x1)[_0x408f7a(0x248)]((_0x45b33e,_0x4c0414)=>this[_0x408f7a(0x35d)](_0x4c0414));}[_0x1ad56f(0x206)](_0x19b429){const _0x35759b=_0x1ad56f;return this[_0x35759b(0x27b)][_0x19b429]||this['imageTensors'][_0x19b429];}[_0x1ad56f(0x1f8)](_0x1259d3){const _0x2748ba=_0x1ad56f;return this[_0x2748ba(0x2f4)][_0x1259d3];}[_0x1ad56f(0x201)](_0x431b53){const _0x2d5d94=_0x1ad56f;return this[_0x2d5d94(0x2f4)][_0x431b53][0x0];}[_0x1ad56f(0x31c)](_0x4148e0){return this['_inputDimensions'][_0x4148e0][0x1];}['getReshapedInputDimensions'](_0x3118f4){const _0x59f88f=_0x1ad56f;if(typeof this[_0x59f88f(0x317)]!==_0x59f88f(0x308))throw new Error(_0x59f88f(0x157));const _0xbc809=this[_0x59f88f(0x31c)](_0x3118f4),_0xac58f6=this[_0x59f88f(0x201)](_0x3118f4);return computeReshapedDimensions({'width':_0xbc809,'height':_0xac58f6},this[_0x59f88f(0x317)]);}[_0x1ad56f(0x10d)](_0x4988d3,_0x68bf87=!![]){const _0x5b8b7d=_0x1ad56f;return this['_inputSize']=_0x4988d3,tf5[_0x5b8b7d(0x258)](()=>{const _0xfc0424=_0x5b8b7d,_0x92893c=range(this[_0xfc0424(0x1fd)],0x0,0x1)['map'](_0x1cae5b=>{const _0x4c0e34=_0xfc0424,_0x3b635d=this[_0x4c0e34(0x206)](_0x1cae5b);if(_0x3b635d instanceof tf5[_0x4c0e34(0x1e5)]){let _0x425d0d=isTensor4D(_0x3b635d)?_0x3b635d:tf5[_0x4c0e34(0x28c)](_0x3b635d);return _0x425d0d=padToSquare(_0x425d0d,_0x68bf87),(_0x425d0d['shape'][0x1]!==_0x4988d3||_0x425d0d[_0x4c0e34(0x1b2)][0x2]!==_0x4988d3)&&(_0x425d0d=tf5['image']['resizeBilinear'](_0x425d0d,[_0x4988d3,_0x4988d3],![],![])),_0x425d0d['as3D'](_0x4988d3,_0x4988d3,0x3);}if(_0x3b635d instanceof env[_0x4c0e34(0x1e3)]()['Canvas'])return tf5[_0x4c0e34(0x1f4)][_0x4c0e34(0x1cc)](imageToSquare(_0x3b635d,_0x4988d3,_0x68bf87));throw new Error(_0x4c0e34(0x210)+_0x1cae5b+_0x4c0e34(0x1dc)+_0x3b635d);}),_0x243859=tf5['stack'](_0x92893c[_0xfc0424(0x248)](_0x4f5e35=>tf5[_0xfc0424(0x213)](_0x4f5e35,'float32')))['as4D'](this[_0xfc0424(0x1fd)],_0x4988d3,_0x4988d3,0x3);return _0x243859;});}};async function toNetInput(_0x76ed0f){const _0x3cf928=_0x1ad56f;if(_0x76ed0f instanceof NetInput)return _0x76ed0f;const _0x19fce2=Array['isArray'](_0x76ed0f)?_0x76ed0f:[_0x76ed0f];if(!_0x19fce2['length'])throw new Error(_0x3cf928(0x35f));const _0xf0f85b=_0x137d02=>Array[_0x3cf928(0x16f)](_0x76ed0f)?'\x20at\x20input\x20index\x20'+_0x137d02+':':'',_0x55810c=_0x19fce2[_0x3cf928(0x248)](resolveInput);return _0x55810c[_0x3cf928(0x234)]((_0x39fa7b,_0x50cd17)=>{const _0x5dddb9=_0x3cf928;if(!isMediaElement(_0x39fa7b)&&!isTensor3D(_0x39fa7b)&&!isTensor4D(_0x39fa7b)){if(typeof _0x19fce2[_0x50cd17]===_0x5dddb9(0x113))throw new Error(_0x5dddb9(0x1b9)+_0xf0f85b(_0x50cd17)+_0x5dddb9(0x150)+_0x19fce2[_0x50cd17]);throw new Error('toNetInput\x20-'+_0xf0f85b(_0x50cd17)+_0x5dddb9(0x26a));}if(isTensor4D(_0x39fa7b)){const _0x3bafe5=_0x39fa7b[_0x5dddb9(0x1b2)][0x0];if(_0x3bafe5!==0x1)throw new Error(_0x5dddb9(0x1b9)+_0xf0f85b(_0x50cd17)+_0x5dddb9(0x286)+_0x3bafe5+_0x5dddb9(0x180));}}),await Promise[_0x3cf928(0x2ea)](_0x55810c['map'](_0x18e250=>isMediaElement(_0x18e250)&&awaitMediaLoaded(_0x18e250))),new NetInput(_0x55810c,Array[_0x3cf928(0x16f)](_0x76ed0f));}async function extractFaces(_0x1b971e,_0x3e1664){const _0x46a989=_0x1ad56f,{Canvas:_0x30839f}=env[_0x46a989(0x1e3)]();let _0x1ef9e9=_0x1b971e;if(!(_0x1b971e instanceof _0x30839f)){const _0x5a441b=await toNetInput(_0x1b971e);if(_0x5a441b['batchSize']>0x1)throw new Error(_0x46a989(0x18d));const _0x4a04e7=_0x5a441b['getInput'](0x0);_0x1ef9e9=_0x4a04e7 instanceof _0x30839f?_0x4a04e7:await imageTensorToCanvas(_0x4a04e7);}const _0x62553=getContext2dOrThrow(_0x1ef9e9),_0x48ed3e=_0x3e1664[_0x46a989(0x248)](_0x4727e7=>_0x4727e7 instanceof FaceDetection?_0x4727e7[_0x46a989(0x339)](_0x1ef9e9[_0x46a989(0x2ba)],_0x1ef9e9[_0x46a989(0x262)])[_0x46a989(0x1bc)][_0x46a989(0x21c)]():_0x4727e7)[_0x46a989(0x248)](_0x2aeb52=>_0x2aeb52[_0x46a989(0x1de)](_0x1ef9e9[_0x46a989(0x2ba)],_0x1ef9e9['height']));return _0x48ed3e[_0x46a989(0x248)](({x:_0x5e75ba,y:_0x3f288c,width:_0x12d9a0,height:_0x1d7e3e})=>{const _0x48990c=_0x46a989,_0x2f1dec=createCanvas({'width':_0x12d9a0,'height':_0x1d7e3e});if(_0x12d9a0>0x0&&_0x1d7e3e>0x0)getContext2dOrThrow(_0x2f1dec)['putImageData'](_0x62553[_0x48990c(0x27d)](_0x5e75ba,_0x3f288c,_0x12d9a0,_0x1d7e3e),0x0,0x0);return _0x2f1dec;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x3c7d4c,_0x58916a){const _0x327142=_0x1ad56f;if(!isTensor3D(_0x3c7d4c)&&!isTensor4D(_0x3c7d4c))throw new Error(_0x327142(0x1a1));if(isTensor4D(_0x3c7d4c)&&_0x3c7d4c['shape'][0x0]>0x1)throw new Error(_0x327142(0x270));return tf6[_0x327142(0x258)](()=>{const _0x390259=_0x327142,[_0x18955d,_0x3e9314,_0x130835]=_0x3c7d4c[_0x390259(0x1b2)]['slice'](isTensor4D(_0x3c7d4c)?0x1:0x0),_0xdf101a=_0x58916a[_0x390259(0x248)](_0x279cb9=>_0x279cb9 instanceof FaceDetection?_0x279cb9[_0x390259(0x339)](_0x3e9314,_0x18955d)[_0x390259(0x1bc)]:_0x279cb9)[_0x390259(0x248)](_0x26e560=>_0x26e560['clipAtImageBorders'](_0x3e9314,_0x18955d)),_0x1a8fbb=_0xdf101a[_0x390259(0x165)](_0x4ffb03=>_0x4ffb03['width']>0x0&&_0x4ffb03[_0x390259(0x262)]>0x0)['map'](({x:_0x264515,y:_0x4c6a5a,width:_0x2143f7,height:_0x20c850})=>tf6[_0x390259(0x236)](_0x3c7d4c[_0x390259(0x10e)](_0x18955d,_0x3e9314,_0x130835),[_0x4c6a5a,_0x264515,0x0],[_0x20c850,_0x2143f7,_0x130835]));return _0x1a8fbb;});}async function fetchOrThrow(_0x3665f5,_0x875891){const _0x402f3d=_0x1ad56f,{fetch:_0x1980dc}=env['getEnv'](),_0x400892=await _0x1980dc(_0x3665f5,_0x875891);if(!(_0x400892[_0x402f3d(0x253)]<0x190))throw new Error('failed\x20to\x20fetch:\x20('+_0x400892[_0x402f3d(0x253)]+')\x20'+_0x400892[_0x402f3d(0xef)]+_0x402f3d(0x242)+_0x400892[_0x402f3d(0x2e9)]);return _0x400892;}async function fetchImage(_0x5945b7){const _0x1afec6=_0x1ad56f,_0x44b946=await fetchOrThrow(_0x5945b7),_0x314164=await _0x44b946[_0x1afec6(0x2c0)]();if(!_0x314164[_0x1afec6(0x36a)][_0x1afec6(0xee)]('image/'))throw new Error(_0x1afec6(0x121)+_0x314164['type']+_0x1afec6(0x257)+_0x44b946['url']);return bufferToImage(_0x314164);}async function fetchJson(_0x42c43b){return(await fetchOrThrow(_0x42c43b))['json']();}async function fetchNetWeights(_0x2f1063){const _0x363dd5=_0x1ad56f;return new Float32Array(await(await fetchOrThrow(_0x2f1063))[_0x363dd5(0x24f)]());}function bufferToVideo(_0x41e2e0){return new Promise((_0xc2ca6d,_0x149943)=>{const _0x5cbcdc=_0x5530;if(!(_0x41e2e0 instanceof Blob))_0x149943(new Error(_0x5cbcdc(0xff)));const _0x11102e=env[_0x5cbcdc(0x1e3)]()[_0x5cbcdc(0x24d)]();_0x11102e['oncanplay']=()=>_0xc2ca6d(_0x11102e),_0x11102e[_0x5cbcdc(0x181)]=_0x149943,_0x11102e[_0x5cbcdc(0x1c6)]=!![],_0x11102e[_0x5cbcdc(0x12e)]=!![],_0x11102e[_0x5cbcdc(0x293)]=URL[_0x5cbcdc(0x36c)](_0x41e2e0),_0x11102e[_0x5cbcdc(0x21a)]();});}async function fetchVideo(_0x301b27){const _0x2f66d5=_0x1ad56f,_0x47a294=await fetchOrThrow(_0x301b27),_0x1e98a4=await _0x47a294[_0x2f66d5(0x2c0)]();if(!_0x1e98a4[_0x2f66d5(0x36a)][_0x2f66d5(0xee)](_0x2f66d5(0x283)))throw new Error('fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20'+_0x1e98a4[_0x2f66d5(0x36a)]+_0x2f66d5(0x257)+_0x47a294[_0x2f66d5(0x2e9)]);return bufferToVideo(_0x1e98a4);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x37493f,_0x5948bd){const _0x34af02=_0x1ad56f,_0x11342a=_0x5948bd+_0x34af02(0x2ee);if(!_0x37493f)return{'modelBaseUri':'','manifestUri':_0x11342a};if(_0x37493f==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x11342a};const _0x20acf6=_0x37493f[_0x34af02(0xee)](_0x34af02(0x108))?_0x34af02(0x108):_0x37493f[_0x34af02(0xee)](_0x34af02(0x2ad))?_0x34af02(0x2ad):'';_0x37493f=_0x37493f[_0x34af02(0x32f)](_0x20acf6,'');const _0x39fb84=_0x37493f['split']('/')[_0x34af02(0x165)](_0x2b4d41=>_0x2b4d41),_0x57caaa=_0x37493f[_0x34af02(0x1ec)](_0x34af02(0xfb))?_0x39fb84[_0x39fb84[_0x34af02(0x194)]-0x1]:_0x11342a;let _0x327671=_0x20acf6+(_0x37493f['endsWith'](_0x34af02(0xfb))?_0x39fb84[_0x34af02(0x22d)](0x0,_0x39fb84[_0x34af02(0x194)]-0x1):_0x39fb84)[_0x34af02(0x12d)]('/');return _0x327671=_0x37493f[_0x34af02(0xee)]('/')?'/'+_0x327671:_0x327671,{'modelBaseUri':_0x327671,'manifestUri':_0x327671==='/'?'/'+_0x57caaa:_0x327671+'/'+_0x57caaa};}async function loadWeightMap(_0x5a05bc,_0x1657f3){const _0x181f47=_0x1ad56f,{manifestUri:_0x4a73f7,modelBaseUri:_0x4729c6}=getModelUris(_0x5a05bc,_0x1657f3),_0x5279c9=await fetchJson(_0x4a73f7);return tf7['io'][_0x181f47(0x20f)](_0x5279c9,_0x4729c6);}function matchDimensions(_0x1042f0,_0x4c5344,_0x1ca93a=![]){const _0x58856c=_0x1ad56f,{width:_0x355a4f,height:_0x5d8839}=_0x1ca93a?getMediaDimensions(_0x4c5344):_0x4c5344;return _0x1042f0[_0x58856c(0x2ba)]=_0x355a4f,_0x1042f0['height']=_0x5d8839,{'width':_0x355a4f,'height':_0x5d8839};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x504599){const _0x390cf9=_0x1ad56f;this['_params']=void 0x0,this[_0x390cf9(0x220)]=[],this['_name']=_0x504599;}get[_0x1ad56f(0x1f0)](){const _0x29ec5f=_0x1ad56f;return this[_0x29ec5f(0x2a7)];}get[_0x1ad56f(0x2f7)](){const _0x3ff224=_0x1ad56f;return this[_0x3ff224(0x220)];}get[_0x1ad56f(0xfd)](){const _0x42c2bf=_0x1ad56f;return!!this[_0x42c2bf(0x1f0)];}['getParamFromPath'](_0x34da51){const _0x5da770=_0x1ad56f,{obj:_0x2a6745,objProp:_0x1cafc0}=this[_0x5da770(0x320)](_0x34da51);return _0x2a6745[_0x1cafc0];}[_0x1ad56f(0x30c)](_0x4467ec,_0x4b4f47){const _0x4f504e=_0x1ad56f,{obj:_0xd82089,objProp:_0x2422e6}=this[_0x4f504e(0x320)](_0x4467ec);_0xd82089[_0x2422e6][_0x4f504e(0xf7)](),_0xd82089[_0x2422e6]=_0x4b4f47;}[_0x1ad56f(0x22c)](){const _0x329840=_0x1ad56f;return this[_0x329840(0x220)]['map'](({paramPath:_0x134967})=>({'path':_0x134967,'tensor':this[_0x329840(0x2da)](_0x134967)}));}[_0x1ad56f(0x126)](){const _0x7e739c=_0x1ad56f;return this[_0x7e739c(0x22c)]()['filter'](_0x1c7067=>_0x1c7067[_0x7e739c(0x23d)]instanceof tf8[_0x7e739c(0x1f9)]);}[_0x1ad56f(0x100)](){const _0x17b20b=_0x1ad56f;return this[_0x17b20b(0x22c)]()[_0x17b20b(0x165)](_0x4eabe1=>!(_0x4eabe1[_0x17b20b(0x23d)]instanceof tf8[_0x17b20b(0x1f9)]));}[_0x1ad56f(0x333)](){const _0x52a6e6=_0x1ad56f;this['getFrozenParams']()[_0x52a6e6(0x234)](({path:_0x2c1497,tensor:_0x1a7697})=>{const _0x405012=_0x52a6e6;this[_0x405012(0x30c)](_0x2c1497,_0x1a7697[_0x405012(0x333)]());});}[_0x1ad56f(0x112)](){const _0x5692a7=_0x1ad56f;this[_0x5692a7(0x126)]()['forEach'](({path:_0x5bcbd6,tensor:_0x2dfed8})=>{const _0x27bb6e=_0x5692a7,_0xc0ed5d=tf8[_0x27bb6e(0x23d)](_0x2dfed8[_0x27bb6e(0x312)]());_0x2dfed8[_0x27bb6e(0xf7)](),this[_0x27bb6e(0x30c)](_0x5bcbd6,_0xc0ed5d);});}[_0x1ad56f(0xf7)](_0xbc47ab=!![]){const _0x107707=_0x1ad56f;this[_0x107707(0x22c)]()[_0x107707(0x234)](_0x460f52=>{const _0x170dcc=_0x107707;if(_0xbc47ab&&_0x460f52[_0x170dcc(0x23d)][_0x170dcc(0x36d)])throw new Error(_0x170dcc(0x205)+_0x460f52[_0x170dcc(0x291)]);_0x460f52[_0x170dcc(0x23d)][_0x170dcc(0xf7)]();}),this[_0x107707(0x2a7)]=void 0x0;}[_0x1ad56f(0x285)](){const _0x515be0=_0x1ad56f;return new Float32Array(this[_0x515be0(0x22c)]()[_0x515be0(0x248)](({tensor:_0x3f4044})=>Array[_0x515be0(0x31a)](_0x3f4044[_0x515be0(0x312)]()))[_0x515be0(0x353)]((_0x19dc73,_0x3f2799)=>_0x19dc73[_0x515be0(0x25e)](_0x3f2799)));}async[_0x1ad56f(0x22b)](_0x21b23f){const _0x2c8e0a=_0x1ad56f;if(_0x21b23f instanceof Float32Array){this[_0x2c8e0a(0x1f3)](_0x21b23f);return;}await this[_0x2c8e0a(0x345)](_0x21b23f);}async[_0x1ad56f(0x345)](_0x22cca6){const _0x3a65fe=_0x1ad56f;if(_0x22cca6&&typeof _0x22cca6!==_0x3a65fe(0x113))throw new Error(this[_0x3a65fe(0x19c)]+_0x3a65fe(0x33d));const _0xe54d5a=await loadWeightMap(_0x22cca6,this['getDefaultModelName']());this[_0x3a65fe(0x2b5)](_0xe54d5a);}async['loadFromDisk'](_0x1fb65f){const _0x2ae853=_0x1ad56f;if(_0x1fb65f&&typeof _0x1fb65f!==_0x2ae853(0x113))throw new Error(this[_0x2ae853(0x19c)]+_0x2ae853(0x197));const {readFile:_0xdd3c6a}=env[_0x2ae853(0x1e3)](),{manifestUri:_0x5ed2e4,modelBaseUri:_0x29692f}=getModelUris(_0x1fb65f,this[_0x2ae853(0x1be)]()),_0x13fca8=_0x3f9788=>Promise['all'](_0x3f9788[_0x2ae853(0x248)](_0x31f01a=>_0xdd3c6a(_0x31f01a)[_0x2ae853(0x25c)](_0x10f984=>_0x10f984['buffer']))),_0x4e72f2=tf8['io'][_0x2ae853(0x2d2)](_0x13fca8),_0x9819b3=JSON[_0x2ae853(0x1ce)]((await _0xdd3c6a(_0x5ed2e4))[_0x2ae853(0x1c7)]()),_0x58caef=await _0x4e72f2(_0x9819b3,_0x29692f);this[_0x2ae853(0x2b5)](_0x58caef);}[_0x1ad56f(0x2b5)](_0xe8ac3d){const _0x12bf83=_0x1ad56f,{paramMappings:_0x1cfaf5,params:_0x590612}=this[_0x12bf83(0x1d6)](_0xe8ac3d);this[_0x12bf83(0x220)]=_0x1cfaf5,this[_0x12bf83(0x2a7)]=_0x590612;}[_0x1ad56f(0x1f3)](_0x3039ce){const _0x15d84e=_0x1ad56f,{paramMappings:_0x210fd1,params:_0x2d8792}=this[_0x15d84e(0x23a)](_0x3039ce);this[_0x15d84e(0x220)]=_0x210fd1,this[_0x15d84e(0x2a7)]=_0x2d8792;}['traversePropertyPath'](_0x2f75a8){const _0x7d0fa5=_0x1ad56f;if(!this[_0x7d0fa5(0x1f0)])throw new Error('traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params');const _0x54a411=_0x2f75a8[_0x7d0fa5(0x1c1)]('/')[_0x7d0fa5(0x353)]((_0x58699d,_0x19761c)=>{const _0x516c5c=_0x7d0fa5;if(!_0x58699d[_0x516c5c(0x134)][_0x516c5c(0x364)](_0x19761c))throw new Error(_0x516c5c(0x2a5)+_0x19761c+',\x20for\x20path\x20'+_0x2f75a8);return{'obj':_0x58699d[_0x516c5c(0x134)],'objProp':_0x19761c,'nextObj':_0x58699d['nextObj'][_0x19761c]};},{'nextObj':this[_0x7d0fa5(0x1f0)]}),{obj:_0x15786d,objProp:_0x5dd225}=_0x54a411;if(!_0x15786d||!_0x5dd225||!(_0x15786d[_0x5dd225]instanceof tf8[_0x7d0fa5(0x1e5)]))throw new Error(_0x7d0fa5(0x1a3)+_0x2f75a8);return{'obj':_0x15786d,'objProp':_0x5dd225};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x49aebe,_0x1eba67,_0xffd9c6){return tf9['tidy'](()=>{const _0x3e6c98=_0x5530;let _0x31007c=tf9[_0x3e6c98(0x1ff)](_0x49aebe,_0x1eba67['depthwise_filter'],_0x1eba67[_0x3e6c98(0x1da)],_0xffd9c6,_0x3e6c98(0x163));return _0x31007c=tf9[_0x3e6c98(0x123)](_0x31007c,_0x1eba67[_0x3e6c98(0x158)]),_0x31007c;});}function denseBlock3(_0x5f1e18,_0x461a33,_0x4a845e=![]){const _0x314c6f=_0x1ad56f;return tf10[_0x314c6f(0x258)](()=>{const _0x276522=_0x314c6f,_0x902bc5=tf10[_0x276522(0x304)](_0x4a845e?tf10[_0x276522(0x123)](tf10[_0x276522(0x1fb)](_0x5f1e18,_0x461a33[_0x276522(0x1bf)][_0x276522(0x287)],[0x2,0x2],_0x276522(0x163)),_0x461a33[_0x276522(0x1bf)][_0x276522(0x158)]):depthwiseSeparableConv(_0x5f1e18,_0x461a33[_0x276522(0x1bf)],[0x2,0x2])),_0x2888a6=depthwiseSeparableConv(_0x902bc5,_0x461a33[_0x276522(0x16b)],[0x1,0x1]),_0x2f6dcb=tf10[_0x276522(0x304)](tf10[_0x276522(0x123)](_0x902bc5,_0x2888a6)),_0x2809e8=depthwiseSeparableConv(_0x2f6dcb,_0x461a33['conv2'],[0x1,0x1]);return tf10[_0x276522(0x304)](tf10['add'](_0x902bc5,tf10[_0x276522(0x123)](_0x2888a6,_0x2809e8)));});}function denseBlock4(_0x424cee,_0x7963cf,_0x256838=![],_0x4c9ef9=!![]){const _0x3c23df=_0x1ad56f;return tf10[_0x3c23df(0x258)](()=>{const _0x412fc6=_0x3c23df,_0x46242a=tf10['relu'](_0x256838?tf10[_0x412fc6(0x123)](tf10[_0x412fc6(0x1fb)](_0x424cee,_0x7963cf[_0x412fc6(0x1bf)]['filters'],_0x4c9ef9?[0x2,0x2]:[0x1,0x1],_0x412fc6(0x163)),_0x7963cf['conv0'][_0x412fc6(0x158)]):depthwiseSeparableConv(_0x424cee,_0x7963cf['conv0'],_0x4c9ef9?[0x2,0x2]:[0x1,0x1])),_0x48909c=depthwiseSeparableConv(_0x46242a,_0x7963cf[_0x412fc6(0x16b)],[0x1,0x1]),_0x3b054e=tf10['relu'](tf10[_0x412fc6(0x123)](_0x46242a,_0x48909c)),_0x46dcda=depthwiseSeparableConv(_0x3b054e,_0x7963cf[_0x412fc6(0x26c)],[0x1,0x1]),_0x29baa5=tf10[_0x412fc6(0x304)](tf10[_0x412fc6(0x123)](_0x46242a,tf10['add'](_0x48909c,_0x46dcda))),_0x353854=depthwiseSeparableConv(_0x29baa5,_0x7963cf['conv3'],[0x1,0x1]);return tf10[_0x412fc6(0x304)](tf10[_0x412fc6(0x123)](_0x46242a,tf10[_0x412fc6(0x123)](_0x48909c,tf10[_0x412fc6(0x123)](_0x46dcda,_0x353854))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x8dc195,_0x43526c,_0x69ea31=_0x1ad56f(0x163),_0x486d5a=![]){const _0x1a9f2b=_0x1ad56f;return tf11[_0x1a9f2b(0x258)](()=>{const _0x31d1a1=_0x1a9f2b,_0x111a75=tf11[_0x31d1a1(0x123)](tf11[_0x31d1a1(0x1fb)](_0x8dc195,_0x43526c['filters'],[0x1,0x1],_0x69ea31),_0x43526c['bias']);return _0x486d5a?tf11[_0x31d1a1(0x304)](_0x111a75):_0x111a75;});}function disposeUnusedWeightTensors(_0x26f064,_0x591458){const _0x3138d1=_0x1ad56f;Object[_0x3138d1(0x154)](_0x26f064)[_0x3138d1(0x234)](_0x2504c=>{const _0x3b518a=_0x3138d1;!_0x591458[_0x3b518a(0x17a)](_0x2f4bb1=>_0x2f4bb1['originalPath']===_0x2504c)&&_0x26f064[_0x2504c][_0x3b518a(0xf7)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x16ccff,_0x47ebf8){return(_0x43fd5b,_0x592b55,_0x1e0032,_0x236cf4)=>{const _0x293673=_0x5530,_0x28befa=tf12[_0x293673(0x302)](_0x16ccff(_0x43fd5b*_0x592b55*_0x1e0032*_0x1e0032),[_0x1e0032,_0x1e0032,_0x43fd5b,_0x592b55]),_0x545eee=tf12[_0x293673(0x27a)](_0x16ccff(_0x592b55));return _0x47ebf8['push']({'paramPath':_0x236cf4+_0x293673(0x1b0)},{'paramPath':_0x236cf4+'/bias'}),{'filters':_0x28befa,'bias':_0x545eee};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x5599af,_0x5887d8){return(_0x160c41,_0x2037b3,_0x304c55)=>{const _0x452ee5=_0x5530,_0x3656b4=tf13['tensor2d'](_0x5599af(_0x160c41*_0x2037b3),[_0x160c41,_0x2037b3]),_0x309470=tf13[_0x452ee5(0x27a)](_0x5599af(_0x2037b3));return _0x5887d8[_0x452ee5(0x31b)]({'paramPath':_0x304c55+_0x452ee5(0x105)},{'paramPath':_0x304c55+'/bias'}),{'weights':_0x3656b4,'bias':_0x309470};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x457f76,_0xc76ec1,_0x569ea4){const _0x53f960=_0x1ad56f;this[_0x53f960(0x173)]=_0x457f76,this['pointwise_filter']=_0xc76ec1,this['bias']=_0x569ea4;}};function extractSeparableConvParamsFactory(_0x5eae5b,_0x5805e8){return(_0x495f50,_0x177c17,_0x21349e)=>{const _0x559aeb=_0x5530,_0x52fede=tf14['tensor4d'](_0x5eae5b(0x3*0x3*_0x495f50),[0x3,0x3,_0x495f50,0x1]),_0x147c9a=tf14[_0x559aeb(0x302)](_0x5eae5b(_0x495f50*_0x177c17),[0x1,0x1,_0x495f50,_0x177c17]),_0x227ca3=tf14[_0x559aeb(0x27a)](_0x5eae5b(_0x177c17));return _0x5805e8[_0x559aeb(0x31b)]({'paramPath':_0x21349e+'/depthwise_filter'},{'paramPath':_0x21349e+_0x559aeb(0x10a)},{'paramPath':_0x21349e+_0x559aeb(0x30a)}),new SeparableConvParams(_0x52fede,_0x147c9a,_0x227ca3);};}function loadSeparableConvParamsFactory(_0x1d2a11){return _0x12dd61=>{const _0x24a656=_0x5530,_0x4b74a2=_0x1d2a11(_0x12dd61+_0x24a656(0x243),0x4),_0x1265ab=_0x1d2a11(_0x12dd61+_0x24a656(0x10a),0x4),_0x46298d=_0x1d2a11(_0x12dd61+_0x24a656(0x30a),0x1);return new SeparableConvParams(_0x4b74a2,_0x1265ab,_0x46298d);};}function extractWeightEntryFactory(_0x36a16c,_0x5c5edc){return(_0x471fa9,_0x394449,_0x10b0c6)=>{const _0x54a83b=_0x5530,_0x14ad03=_0x36a16c[_0x471fa9];if(!isTensor(_0x14ad03,_0x394449))throw new Error(_0x54a83b(0x1e2)+_0x471fa9+_0x54a83b(0x153)+_0x394449+'D,\x20instead\x20have\x20'+_0x14ad03);return _0x5c5edc['push']({'originalPath':_0x471fa9,'paramPath':_0x10b0c6||_0x471fa9}),_0x14ad03;};}function extractWeightsFactory(_0xe9279e){let _0x29f20f=_0xe9279e;function _0x4019cd(_0xce421d){const _0x10fd98=_0x5530,_0x245f90=_0x29f20f[_0x10fd98(0x22d)](0x0,_0xce421d);return _0x29f20f=_0x29f20f['slice'](_0xce421d),_0x245f90;}function _0x59f05d(){return _0x29f20f;}return{'extractWeights':_0x4019cd,'getRemainingWeights':_0x59f05d};}function extractorsFactory(_0x4c69ca,_0x202f67){const _0x522634=extractConvParamsFactory(_0x4c69ca,_0x202f67),_0x103bfa=extractSeparableConvParamsFactory(_0x4c69ca,_0x202f67);function _0x46cee5(_0x2e3750,_0x5ec2ce,_0x4933cc,_0x5b8b40=![]){const _0x43b808=_0x5530,_0x210fa5=_0x5b8b40?_0x522634(_0x2e3750,_0x5ec2ce,0x3,_0x4933cc+'/conv0'):_0x103bfa(_0x2e3750,_0x5ec2ce,_0x4933cc+'/conv0'),_0x13a857=_0x103bfa(_0x5ec2ce,_0x5ec2ce,_0x4933cc+_0x43b808(0x34b)),_0x41f87b=_0x103bfa(_0x5ec2ce,_0x5ec2ce,_0x4933cc+'/conv2');return{'conv0':_0x210fa5,'conv1':_0x13a857,'conv2':_0x41f87b};}function _0x106c00(_0x4822a8,_0x368198,_0x5e03a1,_0x5f45be=![]){const _0x126363=_0x5530,{conv0:_0x2d398e,conv1:_0x561dec,conv2:_0xaf4afc}=_0x46cee5(_0x4822a8,_0x368198,_0x5e03a1,_0x5f45be),_0x3d2040=_0x103bfa(_0x368198,_0x368198,_0x5e03a1+_0x126363(0x29e));return{'conv0':_0x2d398e,'conv1':_0x561dec,'conv2':_0xaf4afc,'conv3':_0x3d2040};}return{'extractDenseBlock3Params':_0x46cee5,'extractDenseBlock4Params':_0x106c00};}function extractParams(_0x1c9e1d){const _0x2fa4d7=_0x1ad56f,_0x5477f9=[],{extractWeights:_0x414c3d,getRemainingWeights:_0x8ecaac}=extractWeightsFactory(_0x1c9e1d),{extractDenseBlock4Params:_0x3a4b48}=extractorsFactory(_0x414c3d,_0x5477f9),_0x28080e=_0x3a4b48(0x3,0x20,'dense0',!![]),_0x48b362=_0x3a4b48(0x20,0x40,_0x2fa4d7(0x32a)),_0x2f4c7a=_0x3a4b48(0x40,0x80,_0x2fa4d7(0x2d9)),_0x287bab=_0x3a4b48(0x80,0x100,_0x2fa4d7(0x18c));if(_0x8ecaac()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x8ecaac()[_0x2fa4d7(0x194)]);return{'paramMappings':_0x5477f9,'params':{'dense0':_0x28080e,'dense1':_0x48b362,'dense2':_0x2f4c7a,'dense3':_0x287bab}};}function loadConvParamsFactory(_0x587d23){return _0x454dd3=>{const _0x493182=_0x5530,_0x3e5cb2=_0x587d23(_0x454dd3+_0x493182(0x1b0),0x4),_0x108d22=_0x587d23(_0x454dd3+_0x493182(0x30a),0x1);return{'filters':_0x3e5cb2,'bias':_0x108d22};};}function loadParamsFactory(_0x218b7b,_0x19291d){const _0x3595ec=extractWeightEntryFactory(_0x218b7b,_0x19291d),_0x4bb6f7=loadConvParamsFactory(_0x3595ec),_0x48662b=loadSeparableConvParamsFactory(_0x3595ec);function _0x44f86f(_0xc2b2a7,_0x5bfb8e=![]){const _0x5e8e5f=_0x5530,_0x5ac382=_0x5bfb8e?_0x4bb6f7(_0xc2b2a7+'/conv0'):_0x48662b(_0xc2b2a7+'/conv0'),_0x546922=_0x48662b(_0xc2b2a7+_0x5e8e5f(0x34b)),_0x2e7912=_0x48662b(_0xc2b2a7+_0x5e8e5f(0x1b1));return{'conv0':_0x5ac382,'conv1':_0x546922,'conv2':_0x2e7912};}function _0x15b1c4(_0x23b9aa,_0x5e40f6=![]){const _0x36fef0=_0x5530,_0x15720a=_0x5e40f6?_0x4bb6f7(_0x23b9aa+_0x36fef0(0x251)):_0x48662b(_0x23b9aa+'/conv0'),_0xd7e0a7=_0x48662b(_0x23b9aa+_0x36fef0(0x34b)),_0x224995=_0x48662b(_0x23b9aa+_0x36fef0(0x1b1)),_0x5b5862=_0x48662b(_0x23b9aa+_0x36fef0(0x29e));return{'conv0':_0x15720a,'conv1':_0xd7e0a7,'conv2':_0x224995,'conv3':_0x5b5862};}return{'extractDenseBlock3Params':_0x44f86f,'extractDenseBlock4Params':_0x15b1c4};}function extractParamsFromWeightMap(_0xde4d3){const _0x460bc7=_0x1ad56f,_0x28e51c=[],{extractDenseBlock4Params:_0xd6a68f}=loadParamsFactory(_0xde4d3,_0x28e51c),_0x4f9c45={'dense0':_0xd6a68f(_0x460bc7(0x2b4),!![]),'dense1':_0xd6a68f(_0x460bc7(0x32a)),'dense2':_0xd6a68f(_0x460bc7(0x2d9)),'dense3':_0xd6a68f('dense3')};return disposeUnusedWeightTensors(_0xde4d3,_0x28e51c),{'params':_0x4f9c45,'paramMappings':_0x28e51c};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x5a3a51=_0x1ad56f;super(_0x5a3a51(0x34e));}[_0x1ad56f(0x241)](_0x52b0ba){const _0x3420f5=_0x1ad56f,{params:_0x7d569d}=this;if(!_0x7d569d)throw new Error(_0x3420f5(0x2ed));return tf15[_0x3420f5(0x258)](()=>{const _0x1e0970=_0x3420f5,_0x549bd6=tf15[_0x1e0970(0x213)](_0x52b0ba[_0x1e0970(0x10d)](0x70,!![]),_0x1e0970(0x347)),_0xe41311=[122.782,117.001,104.298],_0x3dfb1a=normalize(_0x549bd6,_0xe41311)[_0x1e0970(0x30b)](0xff);let _0x5ae3f3=denseBlock4(_0x3dfb1a,_0x7d569d['dense0'],!![]);return _0x5ae3f3=denseBlock4(_0x5ae3f3,_0x7d569d[_0x1e0970(0x32a)]),_0x5ae3f3=denseBlock4(_0x5ae3f3,_0x7d569d[_0x1e0970(0x2d9)]),_0x5ae3f3=denseBlock4(_0x5ae3f3,_0x7d569d[_0x1e0970(0x18c)]),_0x5ae3f3=tf15['avgPool'](_0x5ae3f3,[0x7,0x7],[0x2,0x2],_0x1e0970(0x2fa)),_0x5ae3f3;});}async[_0x1ad56f(0x211)](_0x451e45){const _0x4e54ea=_0x1ad56f;return this[_0x4e54ea(0x241)](await toNetInput(_0x451e45));}[_0x1ad56f(0x1be)](){const _0x26c28d=_0x1ad56f;return _0x26c28d(0x219);}[_0x1ad56f(0x1d6)](_0x1d40ef){return extractParamsFromWeightMap(_0x1d40ef);}[_0x1ad56f(0x23a)](_0x1112f9){return extractParams(_0x1112f9);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x3b6134,_0x5a9ea2){const _0x473a8b=_0x1ad56f;return tf16[_0x473a8b(0x258)](()=>tf16['add'](tf16[_0x473a8b(0x255)](_0x3b6134,_0x5a9ea2['weights']),_0x5a9ea2[_0x473a8b(0x158)]));}function extractParams2(_0xc9181c,_0x7f1087,_0xd500ea){const _0x35cff6=_0x1ad56f,_0x5111c8=[],{extractWeights:_0xeb9b4f,getRemainingWeights:_0x475148}=extractWeightsFactory(_0xc9181c),_0x4c1c6f=extractFCParamsFactory(_0xeb9b4f,_0x5111c8),_0x448daf=_0x4c1c6f(_0x7f1087,_0xd500ea,'fc');if(_0x475148()[_0x35cff6(0x194)]!==0x0)throw new Error(_0x35cff6(0x280)+_0x475148()[_0x35cff6(0x194)]);return{'paramMappings':_0x5111c8,'params':{'fc':_0x448daf}};}function extractParamsFromWeightMap2(_0x3baf4d){const _0x3fa2a7=[],_0x33ac62=extractWeightEntryFactory(_0x3baf4d,_0x3fa2a7);function _0x11e13c(_0x5e261a){const _0x1e6b67=_0x5530,_0x46af9f=_0x33ac62(_0x5e261a+_0x1e6b67(0x105),0x2),_0x178daa=_0x33ac62(_0x5e261a+'/bias',0x1);return{'weights':_0x46af9f,'bias':_0x178daa};}const _0x325f3b={'fc':_0x11e13c('fc')};return disposeUnusedWeightTensors(_0x3baf4d,_0x3fa2a7),{'params':_0x325f3b,'paramMappings':_0x3fa2a7};}function seperateWeightMaps(_0x32b7fa){const _0x276fc1=_0x1ad56f,_0x371fb0={},_0x2ff22f={};return Object[_0x276fc1(0x154)](_0x32b7fa)['forEach'](_0x2343c2=>{const _0x2388ee=_0x2343c2['startsWith']('fc')?_0x2ff22f:_0x371fb0;_0x2388ee[_0x2343c2]=_0x32b7fa[_0x2343c2];}),{'featureExtractorMap':_0x371fb0,'classifierMap':_0x2ff22f};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x22c46e,_0x59af16){const _0x19096c=_0x1ad56f;super(_0x22c46e),this[_0x19096c(0x223)]=_0x59af16;}get[_0x1ad56f(0x252)](){const _0x50289a=_0x1ad56f;return this[_0x50289a(0x223)];}[_0x1ad56f(0x1c2)](_0x51a62a){const _0x3d1a1f=_0x1ad56f,{params:_0x1ea511}=this;if(!_0x1ea511)throw new Error(this[_0x3d1a1f(0x19c)]+'\x20-\x20load\x20model\x20before\x20inference');return tf17[_0x3d1a1f(0x258)](()=>{const _0x4edf4c=_0x3d1a1f,_0x181e0a=_0x51a62a instanceof NetInput?this[_0x4edf4c(0x252)][_0x4edf4c(0x241)](_0x51a62a):_0x51a62a;return fullyConnectedLayer(_0x181e0a['as2D'](_0x181e0a[_0x4edf4c(0x1b2)][0x0],-0x1),_0x1ea511['fc']);});}[_0x1ad56f(0xf7)](_0x19c08d=!![]){const _0x59bdaa=_0x1ad56f;this[_0x59bdaa(0x252)][_0x59bdaa(0xf7)](_0x19c08d),super[_0x59bdaa(0xf7)](_0x19c08d);}['loadClassifierParams'](_0x2a774f){const _0x5085c9=_0x1ad56f,{params:_0x14b8c0,paramMappings:_0x3d00ee}=this[_0x5085c9(0x29c)](_0x2a774f);this['_params']=_0x14b8c0,this[_0x5085c9(0x220)]=_0x3d00ee;}[_0x1ad56f(0x29c)](_0x5ef5f7){return extractParams2(_0x5ef5f7,this['getClassifierChannelsIn'](),this['getClassifierChannelsOut']());}[_0x1ad56f(0x1d6)](_0x3db617){const _0x2fbf7a=_0x1ad56f,{featureExtractorMap:_0x9040de,classifierMap:_0x446811}=seperateWeightMaps(_0x3db617);return this[_0x2fbf7a(0x252)]['loadFromWeightMap'](_0x9040de),extractParamsFromWeightMap2(_0x446811);}[_0x1ad56f(0x23a)](_0x21694f){const _0x5f7ced=_0x1ad56f,_0x1f7e11=this[_0x5f7ced(0x250)](),_0x427ae2=this[_0x5f7ced(0x24c)](),_0x229546=_0x427ae2*_0x1f7e11+_0x427ae2,_0x3ad7c1=_0x21694f['slice'](0x0,_0x21694f[_0x5f7ced(0x194)]-_0x229546),_0xd2dd9e=_0x21694f['slice'](_0x21694f['length']-_0x229546);return this['faceFeatureExtractor'][_0x5f7ced(0x1f3)](_0x3ad7c1),this[_0x5f7ced(0x29c)](_0xd2dd9e);}},FACE_EXPRESSION_LABELS=[_0x1ad56f(0x16d),_0x1ad56f(0x2fd),_0x1ad56f(0x323),'angry',_0x1ad56f(0x349),_0x1ad56f(0xf9),'surprised'],FaceExpressions=class{constructor(_0x5db77a){const _0x1be50d=_0x1ad56f;this[_0x1be50d(0x16d)]=0x0,this[_0x1be50d(0x2fd)]=0x0,this[_0x1be50d(0x323)]=0x0,this[_0x1be50d(0x1fa)]=0x0,this[_0x1be50d(0x349)]=0x0,this[_0x1be50d(0xf9)]=0x0,this[_0x1be50d(0x2c9)]=0x0;if(_0x5db77a[_0x1be50d(0x194)]!==0x7)throw new Error(_0x1be50d(0x190)+_0x5db77a['length']);FACE_EXPRESSION_LABELS[_0x1be50d(0x234)]((_0x304cd6,_0x4c209f)=>{this[_0x304cd6]=_0x5db77a[_0x4c209f];});}[_0x1ad56f(0x11d)](){const _0x5b19bc=_0x1ad56f;return FACE_EXPRESSION_LABELS[_0x5b19bc(0x248)](_0x6e9d6a=>({'expression':_0x6e9d6a,'probability':this[_0x6e9d6a]}))[_0x5b19bc(0x1f5)]((_0x2ea2e7,_0x227643)=>_0x227643[_0x5b19bc(0x31d)]-_0x2ea2e7['probability']);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x19d765=new FaceFeatureExtractor()){const _0x38bd63=_0x1ad56f;super(_0x38bd63(0x2e8),_0x19d765);}[_0x1ad56f(0x241)](_0x1d24d8){const _0x262c1f=_0x1ad56f;return tf18[_0x262c1f(0x258)](()=>tf18[_0x262c1f(0x311)](this[_0x262c1f(0x1c2)](_0x1d24d8)));}async['forward'](_0x5c26e8){const _0x53ac50=_0x1ad56f;return this[_0x53ac50(0x241)](await toNetInput(_0x5c26e8));}async[_0x1ad56f(0x139)](_0x54cdea){const _0x429dde=_0x1ad56f,_0x1399d3=await toNetInput(_0x54cdea),_0x5439d2=await this['forwardInput'](_0x1399d3),_0xead740=await Promise['all'](tf18['unstack'](_0x5439d2)[_0x429dde(0x248)](async _0x43b341=>{const _0x5d31fe=_0x43b341['dataSync']();return _0x43b341['dispose'](),_0x5d31fe;}));_0x5439d2['dispose']();const _0x4b76bb=_0xead740[_0x429dde(0x248)](_0x1d3ef2=>new FaceExpressions(_0x1d3ef2));return _0x1399d3['isBatchInput']?_0x4b76bb:_0x4b76bb[0x0];}[_0x1ad56f(0x1be)](){const _0x7aaa70=_0x1ad56f;return _0x7aaa70(0x1c3);}[_0x1ad56f(0x250)](){return 0x100;}[_0x1ad56f(0x24c)](){return 0x7;}};function isWithFaceExpressions(_0x37e02b){const _0x1567ca=_0x1ad56f;return _0x37e02b[_0x1567ca(0xfe)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x8f4865,_0x2abc79){const _0x5224ac={'expressions':_0x2abc79};return{..._0x8f4865,..._0x5224ac};}function drawFaceExpressions(_0x560f5e,_0xdeb8ea,_0x359bc0=0.1,_0x5799ad){const _0x1924d2=_0x1ad56f,_0x3e2ec1=Array['isArray'](_0xdeb8ea)?_0xdeb8ea:[_0xdeb8ea];_0x3e2ec1[_0x1924d2(0x234)](_0x48e8ea=>{const _0x4ae192=_0x1924d2,_0x1d61e1=_0x48e8ea instanceof FaceExpressions?_0x48e8ea:isWithFaceExpressions(_0x48e8ea)?_0x48e8ea[_0x4ae192(0xfe)]:void 0x0;if(!_0x1d61e1)throw new Error(_0x4ae192(0x28d));const _0x358ba8=_0x1d61e1[_0x4ae192(0x11d)](),_0x21eeec=_0x358ba8[_0x4ae192(0x165)](_0x4c48ff=>_0x4c48ff['probability']>_0x359bc0),_0x296c82=isWithFaceDetection(_0x48e8ea)?_0x48e8ea[_0x4ae192(0x1af)]['box']['bottomLeft']:_0x5799ad||new Point(0x0,0x0),_0x28ecc1=new DrawTextField(_0x21eeec[_0x4ae192(0x248)](_0x430888=>_0x430888[_0x4ae192(0x24e)]+'\x20('+round(_0x430888[_0x4ae192(0x31d)])+')'),_0x296c82);_0x28ecc1[_0x4ae192(0x344)](_0x560f5e);});}function isWithFaceLandmarks(_0x2d9edc){const _0x1d2b42=_0x1ad56f;return isWithFaceDetection(_0x2d9edc)&&_0x2d9edc[_0x1d2b42(0x2f8)]instanceof FaceLandmarks&&_0x2d9edc['unshiftedLandmarks']instanceof FaceLandmarks&&_0x2d9edc[_0x1d2b42(0x2c6)]instanceof FaceDetection;}function calculateFaceAngle(_0x53052a){const _0x4fc088=_0x1ad56f,_0x37bbaa=(_0x577a4f,_0x5a9bf7,_0x281759,_0x50c02c)=>Math['atan2'](_0x50c02c-_0x5a9bf7,_0x281759-_0x577a4f)%Math['PI'],_0x212e85=_0x4b82b3=>_0x4b82b3*0xb4/Math['PI'],_0x2c00ec={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x53052a||!_0x53052a[_0x4fc088(0x27e)]||_0x53052a['_positions'][_0x4fc088(0x194)]!==0x44)return _0x2c00ec;const _0x4ea30d=_0x53052a[_0x4fc088(0x27e)];_0x2c00ec['roll']=-_0x37bbaa(_0x4ea30d[0x24]['_x'],_0x4ea30d[0x24]['_y'],_0x4ea30d[0x2d]['_x'],_0x4ea30d[0x2d]['_y']),_0x2c00ec['pitch']=_0x37bbaa(0x0,Math[_0x4fc088(0x2de)](_0x4ea30d[0x0]['_x']-_0x4ea30d[0x1e]['_x'])/_0x4ea30d[0x1e]['_x'],Math['PI'],Math['abs'](_0x4ea30d[0x10]['_x']-_0x4ea30d[0x1e]['_x'])/_0x4ea30d[0x1e]['_x']);const _0x3d2ebf=_0x4ea30d[_0x4fc088(0x353)]((_0x534b69,_0x4eb966)=>_0x534b69<_0x4eb966['_y']?_0x534b69:_0x4eb966['_y'],Infinity),_0x51189c=_0x4ea30d[_0x4fc088(0x353)]((_0x2431ab,_0x5eb8b3)=>_0x2431ab>_0x5eb8b3['_y']?_0x2431ab:_0x5eb8b3['_y'],-Infinity);return _0x2c00ec['yaw']=Math['PI']*(_0x53052a[_0x4fc088(0x129)][_0x4fc088(0x2f2)]/(_0x51189c-_0x3d2ebf)/1.4-0x1),_0x2c00ec;}function extendWithFaceLandmarks(_0x203cdc,_0x805544){const _0x61ee58=_0x1ad56f,{box:_0x19d9e9}=_0x203cdc['detection'],_0x50866d=_0x805544[_0x61ee58(0x1ca)](_0x19d9e9['x'],_0x19d9e9['y']),_0x457627=_0x50866d[_0x61ee58(0x196)](),{imageDims:_0x34cad6}=_0x203cdc[_0x61ee58(0x1af)],_0x17ff17=new FaceDetection(_0x203cdc['detection']['score'],_0x457627[_0x61ee58(0x296)](_0x34cad6[_0x61ee58(0x115)]()),_0x34cad6),_0x1a5b2d=calculateFaceAngle(_0x805544),_0x352a71={'landmarks':_0x50866d,'unshiftedLandmarks':_0x805544,'alignedRect':_0x17ff17,'angle':_0x1a5b2d};return{..._0x203cdc,..._0x352a71};}var DrawFaceLandmarksOptions=class{constructor(_0x4d5d8e={}){const _0x3faecb=_0x1ad56f,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0xb235c7,lineColor:_0x18c751,pointSize:_0x3df523,pointColor:_0x4b4edb}=_0x4d5d8e;this[_0x3faecb(0x19f)]=drawLines,this['drawPoints']=drawPoints,this['lineWidth']=_0xb235c7||0x1,this['pointSize']=_0x3df523||0x2,this[_0x3faecb(0x249)]=_0x18c751||_0x3faecb(0x34f),this[_0x3faecb(0x1d0)]=_0x4b4edb||_0x3faecb(0x288);}},DrawFaceLandmarks=class{constructor(_0x140096,_0xaacbb8={}){const _0x31be4d=_0x1ad56f;this[_0x31be4d(0x1e9)]=_0x140096,this[_0x31be4d(0x146)]=new DrawFaceLandmarksOptions(_0xaacbb8);}[_0x1ad56f(0x344)](_0x9ebcb9){const _0x44e987=_0x1ad56f,_0xd73867=getContext2dOrThrow(_0x9ebcb9),{drawLines:_0x10662b,drawPoints:_0x1e055a,lineWidth:_0x17257,lineColor:_0x1a5579,pointSize:_0xc7c5de,pointColor:_0x16dbe2}=this[_0x44e987(0x146)];_0x10662b&&this['faceLandmarks']instanceof FaceLandmarks68&&(_0xd73867[_0x44e987(0x26f)]=_0x1a5579,_0xd73867[_0x44e987(0x188)]=_0x17257,drawContour(_0xd73867,this['faceLandmarks'][_0x44e987(0x18a)]()),drawContour(_0xd73867,this[_0x44e987(0x1e9)][_0x44e987(0x16a)]()),drawContour(_0xd73867,this['faceLandmarks'][_0x44e987(0x2bb)]()),drawContour(_0xd73867,this['faceLandmarks'][_0x44e987(0x17d)]()),drawContour(_0xd73867,this[_0x44e987(0x1e9)][_0x44e987(0x21b)](),!![]),drawContour(_0xd73867,this[_0x44e987(0x1e9)][_0x44e987(0x22a)](),!![]),drawContour(_0xd73867,this[_0x44e987(0x1e9)][_0x44e987(0x202)](),!![]));if(_0x1e055a){_0xd73867[_0x44e987(0x26f)]=_0x16dbe2,_0xd73867[_0x44e987(0x14c)]=_0x16dbe2;const _0x6daf10=_0x150029=>{const _0x120b38=_0x44e987;_0xd73867['beginPath'](),_0xd73867[_0x120b38(0x226)](_0x150029['x'],_0x150029['y'],_0xc7c5de,0x0,0x2*Math['PI']),_0xd73867['fill']();};this[_0x44e987(0x1e9)][_0x44e987(0x2ac)]['forEach'](_0x6daf10);}}};function drawFaceLandmarks(_0x2b818e,_0x3124c4){const _0x502d8c=Array['isArray'](_0x3124c4)?_0x3124c4:[_0x3124c4];_0x502d8c['forEach'](_0x4b764e=>{const _0x15a6b9=_0x5530,_0x5ec7a7=_0x4b764e instanceof FaceLandmarks?_0x4b764e:isWithFaceLandmarks(_0x4b764e)?_0x4b764e[_0x15a6b9(0x2f8)]:void 0x0;if(!_0x5ec7a7)throw new Error(_0x15a6b9(0x182));new DrawFaceLandmarks(_0x5ec7a7)[_0x15a6b9(0x344)](_0x2b818e);});}var version='1.7.3',tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x4e0683,_0x25bec9){const _0x51e58d=extractConvParamsFactory(_0x4e0683,_0x25bec9),_0x2b1ec7=extractSeparableConvParamsFactory(_0x4e0683,_0x25bec9);function _0x72c72a(_0x166828,_0x5cd2bd,_0x3075cb){const _0x50121c=_0x5530,_0x1108fb=_0x2b1ec7(_0x166828,_0x5cd2bd,_0x3075cb+_0x50121c(0x2dd)),_0x593736=_0x2b1ec7(_0x5cd2bd,_0x5cd2bd,_0x3075cb+_0x50121c(0x1d3)),_0x4bcd5a=_0x51e58d(_0x166828,_0x5cd2bd,0x1,_0x3075cb+_0x50121c(0x116));return{'separable_conv0':_0x1108fb,'separable_conv1':_0x593736,'expansion_conv':_0x4bcd5a};}function _0x1f41c8(_0x273360,_0x391422){const _0x30b750=_0x5530,_0x589c28=_0x2b1ec7(_0x273360,_0x273360,_0x391422+_0x30b750(0x2dd)),_0x223f3f=_0x2b1ec7(_0x273360,_0x273360,_0x391422+'/separable_conv1'),_0x1166a1=_0x2b1ec7(_0x273360,_0x273360,_0x391422+_0x30b750(0x307));return{'separable_conv0':_0x589c28,'separable_conv1':_0x223f3f,'separable_conv2':_0x1166a1};}return{'extractConvParams':_0x51e58d,'extractSeparableConvParams':_0x2b1ec7,'extractReductionBlockParams':_0x72c72a,'extractMainBlockParams':_0x1f41c8};}function extractParams3(_0x521858,_0x3698cf){const _0x3e8f2b=_0x1ad56f,_0x811435=[],{extractWeights:_0x24fc4f,getRemainingWeights:_0x294edb}=extractWeightsFactory(_0x521858),{extractConvParams:_0x871676,extractSeparableConvParams:_0x104617,extractReductionBlockParams:_0x1ec4b2,extractMainBlockParams:_0x5d19c0}=extractorsFactory2(_0x24fc4f,_0x811435),_0x12d147=_0x871676(0x3,0x20,0x3,_0x3e8f2b(0x1fc)),_0x4fe59c=_0x1ec4b2(0x20,0x40,'entry_flow/reduction_block_0'),_0x37f458=_0x1ec4b2(0x40,0x80,'entry_flow/reduction_block_1'),_0xe98437={'conv_in':_0x12d147,'reduction_block_0':_0x4fe59c,'reduction_block_1':_0x37f458},_0x312077={};range(_0x3698cf,0x0,0x1)[_0x3e8f2b(0x234)](_0x54ecb7=>{const _0x24a275=_0x3e8f2b;_0x312077[_0x24a275(0x2d1)+_0x54ecb7]=_0x5d19c0(0x80,'middle_flow/main_block_'+_0x54ecb7);});const _0x48cce6=_0x1ec4b2(0x80,0x100,_0x3e8f2b(0x159)),_0x5eca4c=_0x104617(0x100,0x200,'exit_flow/separable_conv'),_0x1cd1d9={'reduction_block':_0x48cce6,'separable_conv':_0x5eca4c};if(_0x294edb()[_0x3e8f2b(0x194)]!==0x0)throw new Error(_0x3e8f2b(0x280)+_0x294edb()[_0x3e8f2b(0x194)]);return{'paramMappings':_0x811435,'params':{'entry_flow':_0xe98437,'middle_flow':_0x312077,'exit_flow':_0x1cd1d9}};}function loadParamsFactory2(_0xfe7752,_0x40cdc9){const _0x1516b1=extractWeightEntryFactory(_0xfe7752,_0x40cdc9),_0x508438=loadConvParamsFactory(_0x1516b1),_0x2379f2=loadSeparableConvParamsFactory(_0x1516b1);function _0x1c068d(_0x84b28a){const _0x1c3535=_0x5530,_0x123552=_0x2379f2(_0x84b28a+_0x1c3535(0x2dd)),_0xe387a7=_0x2379f2(_0x84b28a+'/separable_conv1'),_0x5c826a=_0x508438(_0x84b28a+'/expansion_conv');return{'separable_conv0':_0x123552,'separable_conv1':_0xe387a7,'expansion_conv':_0x5c826a};}function _0x5edb9d(_0x257149){const _0x333235=_0x5530,_0x4801e5=_0x2379f2(_0x257149+_0x333235(0x2dd)),_0x16235f=_0x2379f2(_0x257149+_0x333235(0x1d3)),_0x38a2c2=_0x2379f2(_0x257149+'/separable_conv2');return{'separable_conv0':_0x4801e5,'separable_conv1':_0x16235f,'separable_conv2':_0x38a2c2};}return{'extractConvParams':_0x508438,'extractSeparableConvParams':_0x2379f2,'extractReductionBlockParams':_0x1c068d,'extractMainBlockParams':_0x5edb9d};}function extractParamsFromWeightMap3(_0x148895,_0x5f2016){const _0x154318=_0x1ad56f,_0x16af61=[],{extractConvParams:_0x25fd10,extractSeparableConvParams:_0x2cacbb,extractReductionBlockParams:_0x57cb87,extractMainBlockParams:_0x4839d1}=loadParamsFactory2(_0x148895,_0x16af61),_0x5e8efd=_0x25fd10(_0x154318(0x1fc)),_0x3b7903=_0x57cb87('entry_flow/reduction_block_0'),_0x278729=_0x57cb87(_0x154318(0x2a2)),_0xb7917a={'conv_in':_0x5e8efd,'reduction_block_0':_0x3b7903,'reduction_block_1':_0x278729},_0x55526d={};range(_0x5f2016,0x0,0x1)['forEach'](_0x5c3c08=>{const _0x5e19fd=_0x154318;_0x55526d['main_block_'+_0x5c3c08]=_0x4839d1(_0x5e19fd(0x12a)+_0x5c3c08);});const _0x47f9dd=_0x57cb87(_0x154318(0x159)),_0x190576=_0x2cacbb('exit_flow/separable_conv'),_0x21c43f={'reduction_block':_0x47f9dd,'separable_conv':_0x190576};return disposeUnusedWeightTensors(_0x148895,_0x16af61),{'params':{'entry_flow':_0xb7917a,'middle_flow':_0x55526d,'exit_flow':_0x21c43f},'paramMappings':_0x16af61};}function conv(_0x5b6d0e,_0x906100,_0x3d58ba){const _0x48c47b=_0x1ad56f;return tf19[_0x48c47b(0x123)](tf19[_0x48c47b(0x1fb)](_0x5b6d0e,_0x906100[_0x48c47b(0x287)],_0x3d58ba,_0x48c47b(0x163)),_0x906100[_0x48c47b(0x158)]);}function reductionBlock(_0x21b346,_0x453e88,_0x5558b4=!![]){const _0x58a1e0=_0x1ad56f;let _0x37291f=_0x5558b4?tf19[_0x58a1e0(0x304)](_0x21b346):_0x21b346;return _0x37291f=depthwiseSeparableConv(_0x37291f,_0x453e88[_0x58a1e0(0x246)],[0x1,0x1]),_0x37291f=depthwiseSeparableConv(tf19[_0x58a1e0(0x304)](_0x37291f),_0x453e88[_0x58a1e0(0x2e3)],[0x1,0x1]),_0x37291f=tf19[_0x58a1e0(0x239)](_0x37291f,[0x3,0x3],[0x2,0x2],_0x58a1e0(0x163)),_0x37291f=tf19['add'](_0x37291f,conv(_0x21b346,_0x453e88['expansion_conv'],[0x2,0x2])),_0x37291f;}function mainBlock(_0x5546a9,_0x23e0a2){const _0x5cbd82=_0x1ad56f;let _0x50732b=depthwiseSeparableConv(tf19['relu'](_0x5546a9),_0x23e0a2['separable_conv0'],[0x1,0x1]);return _0x50732b=depthwiseSeparableConv(tf19[_0x5cbd82(0x304)](_0x50732b),_0x23e0a2[_0x5cbd82(0x2e3)],[0x1,0x1]),_0x50732b=depthwiseSeparableConv(tf19[_0x5cbd82(0x304)](_0x50732b),_0x23e0a2['separable_conv2'],[0x1,0x1]),_0x50732b=tf19[_0x5cbd82(0x123)](_0x50732b,_0x5546a9),_0x50732b;}var TinyXception=class extends NeuralNetwork{constructor(_0x249288){const _0x1081d4=_0x1ad56f;super(_0x1081d4(0x32d)),this[_0x1081d4(0x279)]=_0x249288;}[_0x1ad56f(0x241)](_0xeff9a4){const _0x393dfc=_0x1ad56f,{params:_0x314de2}=this;if(!_0x314de2)throw new Error('TinyXception\x20-\x20load\x20model\x20before\x20inference');return tf19[_0x393dfc(0x258)](()=>{const _0x30c051=_0x393dfc,_0x18fdf9=tf19[_0x30c051(0x213)](_0xeff9a4[_0x30c051(0x10d)](0x70,!![]),'float32'),_0x5228fd=[122.782,117.001,104.298],_0x220317=normalize(_0x18fdf9,_0x5228fd)['div'](0xff);let _0x30eb3a=tf19['relu'](conv(_0x220317,_0x314de2['entry_flow'][_0x30c051(0x177)],[0x2,0x2]));return _0x30eb3a=reductionBlock(_0x30eb3a,_0x314de2[_0x30c051(0x151)][_0x30c051(0x29d)],![]),_0x30eb3a=reductionBlock(_0x30eb3a,_0x314de2['entry_flow'][_0x30c051(0xf3)]),range(this[_0x30c051(0x279)],0x0,0x1)[_0x30c051(0x234)](_0x2dfd09=>{const _0x2e8041=_0x30c051;_0x30eb3a=mainBlock(_0x30eb3a,_0x314de2[_0x2e8041(0x26d)]['main_block_'+_0x2dfd09]);}),_0x30eb3a=reductionBlock(_0x30eb3a,_0x314de2['exit_flow'][_0x30c051(0x33c)]),_0x30eb3a=tf19[_0x30c051(0x304)](depthwiseSeparableConv(_0x30eb3a,_0x314de2[_0x30c051(0x366)][_0x30c051(0x2ec)],[0x1,0x1])),_0x30eb3a;});}async[_0x1ad56f(0x211)](_0x1b86a4){const _0x291e87=_0x1ad56f;return this[_0x291e87(0x241)](await toNetInput(_0x1b86a4));}['getDefaultModelName'](){const _0x58fe1e=_0x1ad56f;return _0x58fe1e(0x35e);}[_0x1ad56f(0x1d6)](_0x38f551){const _0x2b70ec=_0x1ad56f;return extractParamsFromWeightMap3(_0x38f551,this[_0x2b70ec(0x279)]);}[_0x1ad56f(0x23a)](_0x16c4b7){const _0x68f2c7=_0x1ad56f;return extractParams3(_0x16c4b7,this[_0x68f2c7(0x279)]);}};function extractParams4(_0x248827){const _0x2ffd99=_0x1ad56f,_0x1e274c=[],{extractWeights:_0x133680,getRemainingWeights:_0xeb4c4a}=extractWeightsFactory(_0x248827),_0x3571e7=extractFCParamsFactory(_0x133680,_0x1e274c),_0x7f70ff=_0x3571e7(0x200,0x1,_0x2ffd99(0x1dd)),_0x4224f2=_0x3571e7(0x200,0x2,_0x2ffd99(0xe7));if(_0xeb4c4a()[_0x2ffd99(0x194)]!==0x0)throw new Error(_0x2ffd99(0x280)+_0xeb4c4a()['length']);return{'paramMappings':_0x1e274c,'params':{'fc':{'age':_0x7f70ff,'gender':_0x4224f2}}};}function extractParamsFromWeightMap4(_0xf0a416){const _0x15a914=_0x1ad56f,_0x722748=[],_0x67aa5f=extractWeightEntryFactory(_0xf0a416,_0x722748);function _0x2f435f(_0x1fce59){const _0x15f8c9=_0x5530,_0x3a32e5=_0x67aa5f(_0x1fce59+_0x15f8c9(0x105),0x2),_0x37619b=_0x67aa5f(_0x1fce59+_0x15f8c9(0x30a),0x1);return{'weights':_0x3a32e5,'bias':_0x37619b};}const _0x35c71d={'fc':{'age':_0x2f435f(_0x15a914(0x1dd)),'gender':_0x2f435f(_0x15a914(0xe7))}};return disposeUnusedWeightTensors(_0xf0a416,_0x722748),{'params':_0x35c71d,'paramMappings':_0x722748};}var Gender=(_0x4b3cf1=>{const _0x5e5044=_0x1ad56f;return _0x4b3cf1['FEMALE']='female',_0x4b3cf1[_0x5e5044(0x237)]=_0x5e5044(0x363),_0x4b3cf1;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x596e90=new TinyXception(0x2)){const _0x12fed9=_0x1ad56f;super(_0x12fed9(0x244)),this[_0x12fed9(0x223)]=_0x596e90;}get[_0x1ad56f(0x252)](){return this['_faceFeatureExtractor'];}['runNet'](_0xc3a7dc){const _0x1ef8a9=_0x1ad56f,{params:_0x1b2538}=this;if(!_0x1b2538)throw new Error(this[_0x1ef8a9(0x19c)]+_0x1ef8a9(0x2fb));return tf20[_0x1ef8a9(0x258)](()=>{const _0x2b4f00=_0x1ef8a9,_0xd765c4=_0xc3a7dc instanceof NetInput?this[_0x2b4f00(0x252)][_0x2b4f00(0x241)](_0xc3a7dc):_0xc3a7dc,_0x2085cb=tf20[_0x2b4f00(0x2d0)](_0xd765c4,[0x7,0x7],[0x2,0x2],_0x2b4f00(0x2fa))[_0x2b4f00(0x12b)](_0xd765c4['shape'][0x0],-0x1),_0x4307cd=fullyConnectedLayer(_0x2085cb,_0x1b2538['fc'][_0x2b4f00(0x2a3)])[_0x2b4f00(0x2c1)](),_0x3251d1=fullyConnectedLayer(_0x2085cb,_0x1b2538['fc']['gender']);return{'age':_0x4307cd,'gender':_0x3251d1};});}['forwardInput'](_0x6b26f4){const _0x101686=_0x1ad56f;return tf20[_0x101686(0x258)](()=>{const _0x14c86e=_0x101686,{age:_0x3df24e,gender:_0x4045b1}=this[_0x14c86e(0x1c2)](_0x6b26f4);return{'age':_0x3df24e,'gender':tf20[_0x14c86e(0x311)](_0x4045b1)};});}async[_0x1ad56f(0x211)](_0x5c1247){const _0xb60d2=_0x1ad56f;return this[_0xb60d2(0x241)](await toNetInput(_0x5c1247));}async[_0x1ad56f(0x260)](_0x1c0aa5){const _0x14e940=_0x1ad56f,_0x5791ac=await toNetInput(_0x1c0aa5),_0x56deb2=await this['forwardInput'](_0x5791ac),_0x424084=tf20['unstack'](_0x56deb2['age']),_0x48b5bb=tf20[_0x14e940(0x17c)](_0x56deb2[_0x14e940(0x20d)]),_0x87b3d=_0x424084['map']((_0x4fe797,_0x58e0e8)=>({'ageTensor':_0x4fe797,'genderTensor':_0x48b5bb[_0x58e0e8]})),_0x2937b3=await Promise[_0x14e940(0x2ea)](_0x87b3d[_0x14e940(0x248)](async({ageTensor:_0x1a939c,genderTensor:_0x4ff340})=>{const _0x3d48a2=_0x14e940,_0x54a5ce=_0x1a939c[_0x3d48a2(0x312)]()[0x0],_0x3c490e=_0x4ff340[_0x3d48a2(0x312)]()[0x0],_0x3ee25d=_0x3c490e>0.5,_0x24334b=_0x3ee25d?_0x3d48a2(0x363):_0x3d48a2(0x335),_0x4dc95d=_0x3ee25d?_0x3c490e:0x1-_0x3c490e;return _0x1a939c[_0x3d48a2(0xf7)](),_0x4ff340[_0x3d48a2(0xf7)](),{'age':_0x54a5ce,'gender':_0x24334b,'genderProbability':_0x4dc95d};}));return _0x56deb2[_0x14e940(0x2a3)]['dispose'](),_0x56deb2[_0x14e940(0x20d)][_0x14e940(0xf7)](),_0x5791ac['isBatchInput']?_0x2937b3:_0x2937b3[0x0];}['getDefaultModelName'](){const _0xd0b643=_0x1ad56f;return _0xd0b643(0x21e);}[_0x1ad56f(0xf7)](_0x58f377=!![]){const _0x562f13=_0x1ad56f;this[_0x562f13(0x252)][_0x562f13(0xf7)](_0x58f377),super[_0x562f13(0xf7)](_0x58f377);}[_0x1ad56f(0x264)](_0xfaccba){const _0x4f760e=_0x1ad56f,{params:_0x3ed466,paramMappings:_0xf61123}=this['extractClassifierParams'](_0xfaccba);this[_0x4f760e(0x2a7)]=_0x3ed466,this['_paramMappings']=_0xf61123;}[_0x1ad56f(0x29c)](_0x2b0b7a){return extractParams4(_0x2b0b7a);}[_0x1ad56f(0x1d6)](_0x1c4b7c){const _0x1d88db=_0x1ad56f,{featureExtractorMap:_0x5a321d,classifierMap:_0x5d9db9}=seperateWeightMaps(_0x1c4b7c);return this[_0x1d88db(0x252)]['loadFromWeightMap'](_0x5a321d),extractParamsFromWeightMap4(_0x5d9db9);}[_0x1ad56f(0x23a)](_0x29c567){const _0x4ae0ce=_0x1ad56f,_0x1c5774=0x200*0x1+0x1+(0x200*0x2+0x2),_0x4b4437=_0x29c567['slice'](0x0,_0x29c567['length']-_0x1c5774),_0x948351=_0x29c567[_0x4ae0ce(0x22d)](_0x29c567[_0x4ae0ce(0x194)]-_0x1c5774);return this[_0x4ae0ce(0x252)][_0x4ae0ce(0x1f3)](_0x4b4437),this[_0x4ae0ce(0x29c)](_0x948351);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{['postProcess'](_0x1c6cf1,_0x57f064,_0xf4bf75){const _0x43dac6=_0x1ad56f,_0x1d1a6a=_0xf4bf75[_0x43dac6(0x248)](({width:_0x4fadaf,height:_0x3bd2b2})=>{const _0x4ba93c=_0x43dac6,_0x9bad86=_0x57f064/Math[_0x4ba93c(0x170)](_0x3bd2b2,_0x4fadaf);return{'width':_0x4fadaf*_0x9bad86,'height':_0x3bd2b2*_0x9bad86};}),_0xb67448=_0x1d1a6a[_0x43dac6(0x194)];return tf21[_0x43dac6(0x258)](()=>{const _0x3aead6=_0x43dac6,_0x4a6fc5=(_0x2f9b8e,_0x153034)=>tf21[_0x3aead6(0x277)]([tf21[_0x3aead6(0x281)]([0x44],_0x2f9b8e,_0x3aead6(0x347)),tf21['fill']([0x44],_0x153034,_0x3aead6(0x347))],0x1)[_0x3aead6(0x12b)](0x1,0x88)['as1D'](),_0x1092bb=(_0xb6489e,_0x4ff167)=>{const _0x2cc91d=_0x3aead6,{width:_0x3fa88d,height:_0x187935}=_0x1d1a6a[_0xb6489e];return _0x4ff167(_0x3fa88d,_0x187935)?Math[_0x2cc91d(0x2de)](_0x3fa88d-_0x187935)/0x2:0x0;},_0x13fca7=_0x44a921=>_0x1092bb(_0x44a921,(_0x9a61ec,_0xf7bb87)=>_0x9a61ec<_0xf7bb87),_0x4b1437=_0x5c4080=>_0x1092bb(_0x5c4080,(_0x556597,_0x475c9b)=>_0x475c9b<_0x556597),_0x46442d=_0x1c6cf1[_0x3aead6(0x309)](tf21[_0x3aead6(0x281)]([_0xb67448,0x88],_0x57f064,_0x3aead6(0x347)))[_0x3aead6(0x185)](tf21[_0x3aead6(0x277)](Array['from'](Array(_0xb67448),(_0x1ebe6d,_0x584ed3)=>_0x4a6fc5(_0x13fca7(_0x584ed3),_0x4b1437(_0x584ed3)))))['div'](tf21[_0x3aead6(0x277)](Array[_0x3aead6(0x31a)](Array(_0xb67448),(_0x39e05a,_0x47cb41)=>_0x4a6fc5(_0x1d1a6a[_0x47cb41][_0x3aead6(0x2ba)],_0x1d1a6a[_0x47cb41][_0x3aead6(0x262)]))));return _0x46442d;});}[_0x1ad56f(0x241)](_0x66445b){return tf21['tidy'](()=>{const _0x14fd85=_0x5530,_0x152b6f=this[_0x14fd85(0x1c2)](_0x66445b);return this[_0x14fd85(0x1f6)](_0x152b6f,_0x66445b['inputSize'],_0x66445b[_0x14fd85(0x1eb)][_0x14fd85(0x248)](([_0x16df9c,_0xccca47])=>({'height':_0x16df9c,'width':_0xccca47})));});}async[_0x1ad56f(0x211)](_0x2aeead){const _0x2c3ba0=_0x1ad56f;return this[_0x2c3ba0(0x241)](await toNetInput(_0x2aeead));}async[_0x1ad56f(0x34a)](_0x2ae662){const _0x5ca3d6=_0x1ad56f,_0x21b888=await toNetInput(_0x2ae662),_0x1454ea=tf21[_0x5ca3d6(0x258)](()=>tf21['unstack'](this[_0x5ca3d6(0x241)](_0x21b888))),_0x4feee4=await Promise[_0x5ca3d6(0x2ea)](_0x1454ea[_0x5ca3d6(0x248)](async(_0x199222,_0x53d90b)=>{const _0x42b423=_0x5ca3d6,_0x362497=Array[_0x42b423(0x31a)](_0x199222[_0x42b423(0x312)]()),_0x8ab38=_0x362497['filter']((_0x1f2682,_0x55c800)=>isEven(_0x55c800)),_0x56e584=_0x362497[_0x42b423(0x165)]((_0x2d7153,_0x588cf6)=>!isEven(_0x588cf6));return new FaceLandmarks68(Array(0x44)[_0x42b423(0x281)](0x0)[_0x42b423(0x248)]((_0x555748,_0x373171)=>new Point(_0x8ab38[_0x373171],_0x56e584[_0x373171])),{'height':_0x21b888['getInputHeight'](_0x53d90b),'width':_0x21b888['getInputWidth'](_0x53d90b)});}));return _0x1454ea[_0x5ca3d6(0x234)](_0x5242ed=>_0x5242ed[_0x5ca3d6(0xf7)]()),_0x21b888['isBatchInput']?_0x4feee4:_0x4feee4[0x0];}['getClassifierChannelsOut'](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x320ce7=new FaceFeatureExtractor()){const _0x1d2d85=_0x1ad56f;super(_0x1d2d85(0x305),_0x320ce7);}['getDefaultModelName'](){const _0x226295=_0x1ad56f;return _0x226295(0x1b4);}[_0x1ad56f(0x250)](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0xfb29b0){const _0x45ee80=_0x1ad56f,_0x542299=[],{extractDenseBlock3Params:_0x354e4c}=loadParamsFactory(_0xfb29b0,_0x542299),_0x1b284a={'dense0':_0x354e4c(_0x45ee80(0x2b4),!![]),'dense1':_0x354e4c('dense1'),'dense2':_0x354e4c(_0x45ee80(0x2d9))};return disposeUnusedWeightTensors(_0xfb29b0,_0x542299),{'params':_0x1b284a,'paramMappings':_0x542299};}function extractParamsTiny(_0x2a2221){const _0x45ae94=_0x1ad56f,_0x2af3b1=[],{extractWeights:_0x56ea78,getRemainingWeights:_0x3b5c80}=extractWeightsFactory(_0x2a2221),{extractDenseBlock3Params:_0x4f7d68}=extractorsFactory(_0x56ea78,_0x2af3b1),_0x465f3b=_0x4f7d68(0x3,0x20,'dense0',!![]),_0x13f074=_0x4f7d68(0x20,0x40,_0x45ae94(0x32a)),_0x597adb=_0x4f7d68(0x40,0x80,_0x45ae94(0x2d9));if(_0x3b5c80()[_0x45ae94(0x194)]!==0x0)throw new Error(_0x45ae94(0x280)+_0x3b5c80()['length']);return{'paramMappings':_0x2af3b1,'params':{'dense0':_0x465f3b,'dense1':_0x13f074,'dense2':_0x597adb}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x2b8ab8=_0x1ad56f;super(_0x2b8ab8(0xf8));}[_0x1ad56f(0x241)](_0x1e823f){const _0x484f78=_0x1ad56f,{params:_0x9f1142}=this;if(!_0x9f1142)throw new Error(_0x484f78(0x319));return tf22[_0x484f78(0x258)](()=>{const _0x31c6fc=_0x484f78,_0x4f94d3=tf22[_0x31c6fc(0x213)](_0x1e823f['toBatchTensor'](0x70,!![]),'float32'),_0x5f1547=[122.782,117.001,104.298],_0x2d18cc=normalize(_0x4f94d3,_0x5f1547)['div'](0xff);let _0x552ba0=denseBlock3(_0x2d18cc,_0x9f1142[_0x31c6fc(0x2b4)],!![]);return _0x552ba0=denseBlock3(_0x552ba0,_0x9f1142['dense1']),_0x552ba0=denseBlock3(_0x552ba0,_0x9f1142[_0x31c6fc(0x2d9)]),_0x552ba0=tf22[_0x31c6fc(0x2d0)](_0x552ba0,[0xe,0xe],[0x2,0x2],_0x31c6fc(0x2fa)),_0x552ba0;});}async[_0x1ad56f(0x211)](_0x4eb496){const _0x595e80=_0x1ad56f;return this[_0x595e80(0x241)](await toNetInput(_0x4eb496));}[_0x1ad56f(0x1be)](){return'face_feature_extractor_tiny_model';}[_0x1ad56f(0x1d6)](_0x5c7f2f){return extractParamsFromWeightMapTiny(_0x5c7f2f);}[_0x1ad56f(0x23a)](_0x483e75){return extractParamsTiny(_0x483e75);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x2d0a25=new TinyFaceFeatureExtractor()){const _0xca0c28=_0x1ad56f;super(_0xca0c28(0x2a6),_0x2d0a25);}[_0x1ad56f(0x1be)](){return'face_landmark_68_tiny_model';}[_0x1ad56f(0x250)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x45fe03,_0x1f8d1f){const _0x3406c3=_0x1ad56f;return tf23['add'](tf23[_0x3406c3(0x309)](_0x45fe03,_0x1f8d1f[_0x3406c3(0x31f)]),_0x1f8d1f['biases']);}function convLayer2(_0x34c653,_0x2ddbab,_0x59d22b,_0x5d979c,_0x77fd0d=_0x1ad56f(0x163)){const _0x208474=_0x1ad56f,{filters:_0x176307,bias:_0x48c0cc}=_0x2ddbab[_0x208474(0x276)];let _0x66fde3=tf24['conv2d'](_0x34c653,_0x176307,_0x59d22b,_0x77fd0d);return _0x66fde3=tf24[_0x208474(0x123)](_0x66fde3,_0x48c0cc),_0x66fde3=scale(_0x66fde3,_0x2ddbab[_0x208474(0x1e0)]),_0x5d979c?tf24['relu'](_0x66fde3):_0x66fde3;}function conv2(_0x3e8cff,_0x4fe52c){return convLayer2(_0x3e8cff,_0x4fe52c,[0x1,0x1],!![]);}function convNoRelu(_0x2711fb,_0x35ebd3){return convLayer2(_0x2711fb,_0x35ebd3,[0x1,0x1],![]);}function convDown(_0x56a965,_0x1d7e81){return convLayer2(_0x56a965,_0x1d7e81,[0x2,0x2],!![],'valid');}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x125140,_0x100bc0){function _0x4bcb31(_0x5c249c,_0x6a4867,_0x31a083){const _0x3e85b5=_0x5530,_0x5bd78d=_0x125140(_0x5c249c),_0x48a834=_0x5bd78d[_0x3e85b5(0x194)]/(_0x6a4867*_0x31a083*_0x31a083);if(isFloat(_0x48a834))throw new Error(_0x3e85b5(0x273)+_0x48a834+_0x3e85b5(0x13d)+_0x5bd78d[_0x3e85b5(0x194)]+_0x3e85b5(0x16c)+_0x6a4867+_0x3e85b5(0x318)+_0x31a083);return tf25[_0x3e85b5(0x258)](()=>tf25[_0x3e85b5(0x2ca)](tf25['tensor4d'](_0x5bd78d,[_0x6a4867,_0x48a834,_0x31a083,_0x31a083]),[0x2,0x3,0x1,0x0]));}function _0xcb0995(_0x7bd088,_0x3b9ebf,_0x4897b6,_0x129f42){const _0x32dd01=_0x5530,_0x173e9a=_0x4bcb31(_0x7bd088,_0x3b9ebf,_0x4897b6),_0x3669e2=tf25[_0x32dd01(0x27a)](_0x125140(_0x3b9ebf));return _0x100bc0['push']({'paramPath':_0x129f42+_0x32dd01(0x1b0)},{'paramPath':_0x129f42+_0x32dd01(0x30a)}),{'filters':_0x173e9a,'bias':_0x3669e2};}function _0x2fc735(_0x4cc5db,_0x515c9a){const _0x529acf=_0x5530,_0x318110=tf25[_0x529acf(0x27a)](_0x125140(_0x4cc5db)),_0x2bb101=tf25[_0x529acf(0x27a)](_0x125140(_0x4cc5db));return _0x100bc0[_0x529acf(0x31b)]({'paramPath':_0x515c9a+_0x529acf(0x105)},{'paramPath':_0x515c9a+_0x529acf(0x352)}),{'weights':_0x318110,'biases':_0x2bb101};}function _0x5cc575(_0x2ff395,_0x5ee273,_0x300c05,_0x2ef396){const _0x32e504=_0x5530,_0x4a710a=_0xcb0995(_0x2ff395,_0x5ee273,_0x300c05,_0x2ef396+_0x32e504(0x2a1)),_0x51f533=_0x2fc735(_0x5ee273,_0x2ef396+_0x32e504(0x20b));return{'conv':_0x4a710a,'scale':_0x51f533};}function _0x1b55df(_0xfd7fe0,_0x1630f0,_0x54d4a6,_0x210962,_0x4d3e5b=![]){const _0x4b9261=_0x5530,_0x2e9f6d=_0x5cc575((_0x4d3e5b?0.5:0x1)*_0xfd7fe0,_0x1630f0,_0x54d4a6,_0x210962+'/conv1'),_0x4f8f3d=_0x5cc575(_0xfd7fe0,_0x1630f0,_0x54d4a6,_0x210962+_0x4b9261(0x1b1));return{'conv1':_0x2e9f6d,'conv2':_0x4f8f3d};}return{'extractConvLayerParams':_0x5cc575,'extractResidualLayerParams':_0x1b55df};}function extractParams5(_0x4d16ae){const _0x2c4e52=_0x1ad56f,{extractWeights:_0x4a2c9f,getRemainingWeights:_0x1856c5}=extractWeightsFactory(_0x4d16ae),_0x18b2e4=[],{extractConvLayerParams:_0x3f51f1,extractResidualLayerParams:_0x10de66}=extractorsFactory3(_0x4a2c9f,_0x18b2e4),_0x244797=_0x3f51f1(0x1260,0x20,0x7,_0x2c4e52(0x2c8)),_0x877e2e=_0x10de66(0x2400,0x20,0x3,_0x2c4e52(0x269)),_0x4588f7=_0x10de66(0x2400,0x20,0x3,_0x2c4e52(0x1ae)),_0x1919f1=_0x10de66(0x2400,0x20,0x3,'conv32_3'),_0x23f73a=_0x10de66(0x9000,0x40,0x3,'conv64_down',!![]),_0xfda51f=_0x10de66(0x9000,0x40,0x3,'conv64_1'),_0x92164e=_0x10de66(0x9000,0x40,0x3,_0x2c4e52(0x30d)),_0xaf64be=_0x10de66(0x9000,0x40,0x3,_0x2c4e52(0x1b5)),_0x2c40a2=_0x10de66(0x24000,0x80,0x3,_0x2c4e52(0x222),!![]),_0x488927=_0x10de66(0x24000,0x80,0x3,_0x2c4e52(0x275)),_0x213a7c=_0x10de66(0x24000,0x80,0x3,_0x2c4e52(0x331)),_0x1d77a0=_0x10de66(0x90000,0x100,0x3,_0x2c4e52(0x2cf),!![]),_0x1c3bee=_0x10de66(0x90000,0x100,0x3,_0x2c4e52(0x2b8)),_0x35f11c=_0x10de66(0x90000,0x100,0x3,_0x2c4e52(0x24b)),_0x495c84=_0x10de66(0x90000,0x100,0x3,'conv256_down_out'),_0xaa4786=tf25[_0x2c4e52(0x258)](()=>tf25[_0x2c4e52(0x2ca)](tf25['tensor2d'](_0x4a2c9f(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x18b2e4['push']({'paramPath':'fc'});if(_0x1856c5()[_0x2c4e52(0x194)]!==0x0)throw new Error(_0x2c4e52(0x280)+_0x1856c5()[_0x2c4e52(0x194)]);const _0x14abaa={'conv32_down':_0x244797,'conv32_1':_0x877e2e,'conv32_2':_0x4588f7,'conv32_3':_0x1919f1,'conv64_down':_0x23f73a,'conv64_1':_0xfda51f,'conv64_2':_0x92164e,'conv64_3':_0xaf64be,'conv128_down':_0x2c40a2,'conv128_1':_0x488927,'conv128_2':_0x213a7c,'conv256_down':_0x1d77a0,'conv256_1':_0x1c3bee,'conv256_2':_0x35f11c,'conv256_down_out':_0x495c84,'fc':_0xaa4786};return{'params':_0x14abaa,'paramMappings':_0x18b2e4};}function extractorsFactory4(_0x597c3e,_0x3ebab0){const _0x42b355=extractWeightEntryFactory(_0x597c3e,_0x3ebab0);function _0x1ecf5f(_0xf7f670){const _0x50945f=_0x5530,_0xaf12da=_0x42b355(_0xf7f670+_0x50945f(0x20a),0x1),_0x571833=_0x42b355(_0xf7f670+_0x50945f(0x362),0x1);return{'weights':_0xaf12da,'biases':_0x571833};}function _0x4fcfb7(_0x267207){const _0x19b7e7=_0x5530,_0x5aa80d=_0x42b355(_0x267207+_0x19b7e7(0x189),0x4),_0x2bb9c3=_0x42b355(_0x267207+_0x19b7e7(0x120),0x1),_0x1e7010=_0x1ecf5f(_0x267207);return{'conv':{'filters':_0x5aa80d,'bias':_0x2bb9c3},'scale':_0x1e7010};}function _0x275a05(_0x1c4e40){const _0x594d92=_0x5530;return{'conv1':_0x4fcfb7(_0x1c4e40+'/conv1'),'conv2':_0x4fcfb7(_0x1c4e40+_0x594d92(0x1b1))};}return{'extractConvLayerParams':_0x4fcfb7,'extractResidualLayerParams':_0x275a05};}function extractParamsFromWeightMap5(_0x4ff163){const _0xfbc8a7=_0x1ad56f,_0x2fd918=[],{extractConvLayerParams:_0x3a20a2,extractResidualLayerParams:_0x303ca8}=extractorsFactory4(_0x4ff163,_0x2fd918),_0x2fdd31=_0x3a20a2('conv32_down'),_0x59d6a2=_0x303ca8(_0xfbc8a7(0x269)),_0x11ad95=_0x303ca8(_0xfbc8a7(0x1ae)),_0x4daccf=_0x303ca8(_0xfbc8a7(0x19e)),_0x374fa9=_0x303ca8(_0xfbc8a7(0xe9)),_0x2bd06b=_0x303ca8('conv64_1'),_0x276935=_0x303ca8(_0xfbc8a7(0x30d)),_0xe43d52=_0x303ca8('conv64_3'),_0x181d60=_0x303ca8(_0xfbc8a7(0x222)),_0x484c04=_0x303ca8(_0xfbc8a7(0x275)),_0x34a984=_0x303ca8('conv128_2'),_0x5be5b6=_0x303ca8('conv256_down'),_0x30b639=_0x303ca8(_0xfbc8a7(0x2b8)),_0x35ec63=_0x303ca8(_0xfbc8a7(0x24b)),_0x30264f=_0x303ca8(_0xfbc8a7(0x1a7)),{fc:_0xc7fda2}=_0x4ff163;_0x2fd918[_0xfbc8a7(0x31b)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0xc7fda2))throw new Error('expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20'+_0xc7fda2);const _0x244cfc={'conv32_down':_0x2fdd31,'conv32_1':_0x59d6a2,'conv32_2':_0x11ad95,'conv32_3':_0x4daccf,'conv64_down':_0x374fa9,'conv64_1':_0x2bd06b,'conv64_2':_0x276935,'conv64_3':_0xe43d52,'conv128_down':_0x181d60,'conv128_1':_0x484c04,'conv128_2':_0x34a984,'conv256_down':_0x5be5b6,'conv256_1':_0x30b639,'conv256_2':_0x35ec63,'conv256_down_out':_0x30264f,'fc':_0xc7fda2};return disposeUnusedWeightTensors(_0x4ff163,_0x2fd918),{'params':_0x244cfc,'paramMappings':_0x2fd918};}var tf26=__toESM(require_tfjs_esm());function residual(_0x1af154,_0x11f3f9){const _0x41b8d3=_0x1ad56f;let _0x3e46ff=conv2(_0x1af154,_0x11f3f9[_0x41b8d3(0x16b)]);return _0x3e46ff=convNoRelu(_0x3e46ff,_0x11f3f9['conv2']),_0x3e46ff=tf26[_0x41b8d3(0x123)](_0x3e46ff,_0x1af154),_0x3e46ff=tf26[_0x41b8d3(0x304)](_0x3e46ff),_0x3e46ff;}function residualDown(_0x4c9fc9,_0x4f4b8c){const _0x31eae5=_0x1ad56f;let _0x15163b=convDown(_0x4c9fc9,_0x4f4b8c[_0x31eae5(0x16b)]);_0x15163b=convNoRelu(_0x15163b,_0x4f4b8c['conv2']);let _0x4b5dde=tf26['avgPool'](_0x4c9fc9,0x2,0x2,_0x31eae5(0x2fa));const _0x15bb62=tf26[_0x31eae5(0x32c)](_0x4b5dde['shape']),_0x173c43=_0x4b5dde[_0x31eae5(0x1b2)][0x3]!==_0x15163b['shape'][0x3],_0x57d267=_0x4b5dde[_0x31eae5(0x1b2)][0x1]!==_0x15163b[_0x31eae5(0x1b2)][0x1]||_0x4b5dde[_0x31eae5(0x1b2)][0x2]!==_0x15163b[_0x31eae5(0x1b2)][0x2];if(_0x57d267){const _0x1ccf31=[..._0x15163b['shape']];_0x1ccf31[0x1]=0x1;const _0x1803c4=tf26[_0x31eae5(0x32c)](_0x1ccf31);_0x15163b=tf26[_0x31eae5(0x25e)]([_0x15163b,_0x1803c4],0x1);const _0x53c1d1=[..._0x15163b[_0x31eae5(0x1b2)]];_0x53c1d1[0x2]=0x1;const _0x120298=tf26[_0x31eae5(0x32c)](_0x53c1d1);_0x15163b=tf26[_0x31eae5(0x25e)]([_0x15163b,_0x120298],0x2);}return _0x4b5dde=_0x173c43?tf26[_0x31eae5(0x25e)]([_0x4b5dde,_0x15bb62],0x3):_0x4b5dde,_0x15163b=tf26[_0x31eae5(0x123)](_0x4b5dde,_0x15163b),_0x15163b=tf26['relu'](_0x15163b),_0x15163b;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x5380ac=_0x1ad56f;super(_0x5380ac(0x33e));}[_0x1ad56f(0x241)](_0x486f74){const _0x32a317=_0x1ad56f,{params:_0x502c22}=this;if(!_0x502c22)throw new Error('FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference');return tf27[_0x32a317(0x258)](()=>{const _0x4fc4f9=_0x32a317,_0x17bab3=tf27[_0x4fc4f9(0x213)](_0x486f74[_0x4fc4f9(0x10d)](0x96,!![]),_0x4fc4f9(0x347)),_0x1f66c1=[122.782,117.001,104.298],_0x94344d=normalize(_0x17bab3,_0x1f66c1)[_0x4fc4f9(0x30b)](0xff);let _0x504bd5=convDown(_0x94344d,_0x502c22[_0x4fc4f9(0x2c8)]);_0x504bd5=tf27['maxPool'](_0x504bd5,0x3,0x2,_0x4fc4f9(0x2fa)),_0x504bd5=residual(_0x504bd5,_0x502c22[_0x4fc4f9(0x269)]),_0x504bd5=residual(_0x504bd5,_0x502c22[_0x4fc4f9(0x1ae)]),_0x504bd5=residual(_0x504bd5,_0x502c22['conv32_3']),_0x504bd5=residualDown(_0x504bd5,_0x502c22[_0x4fc4f9(0xe9)]),_0x504bd5=residual(_0x504bd5,_0x502c22['conv64_1']),_0x504bd5=residual(_0x504bd5,_0x502c22[_0x4fc4f9(0x30d)]),_0x504bd5=residual(_0x504bd5,_0x502c22[_0x4fc4f9(0x1b5)]),_0x504bd5=residualDown(_0x504bd5,_0x502c22['conv128_down']),_0x504bd5=residual(_0x504bd5,_0x502c22['conv128_1']),_0x504bd5=residual(_0x504bd5,_0x502c22[_0x4fc4f9(0x331)]),_0x504bd5=residualDown(_0x504bd5,_0x502c22[_0x4fc4f9(0x2cf)]),_0x504bd5=residual(_0x504bd5,_0x502c22['conv256_1']),_0x504bd5=residual(_0x504bd5,_0x502c22[_0x4fc4f9(0x24b)]),_0x504bd5=residualDown(_0x504bd5,_0x502c22[_0x4fc4f9(0x1a7)]);const _0x35b7bf=_0x504bd5['mean']([0x1,0x2]),_0xa0faa2=tf27[_0x4fc4f9(0x255)](_0x35b7bf,_0x502c22['fc']);return _0xa0faa2;});}async[_0x1ad56f(0x211)](_0x27e259){const _0x13c7bb=_0x1ad56f;return this[_0x13c7bb(0x241)](await toNetInput(_0x27e259));}async['computeFaceDescriptor'](_0x37ad8f){const _0x5b96e7=_0x1ad56f;var _0x183e00;if((_0x183e00=_0x37ad8f==null?void 0x0:_0x37ad8f[_0x5b96e7(0x1b2)])==null?void 0x0:_0x183e00[_0x5b96e7(0x17a)](_0x2046f2=>_0x2046f2<=0x0))return new Float32Array(0x80);const _0x3bb331=await toNetInput(_0x37ad8f),_0x16da81=tf27[_0x5b96e7(0x258)](()=>tf27[_0x5b96e7(0x17c)](this[_0x5b96e7(0x241)](_0x3bb331))),_0x227926=await Promise[_0x5b96e7(0x2ea)](_0x16da81[_0x5b96e7(0x248)](_0x3c32bf=>_0x3c32bf[_0x5b96e7(0x2c5)]()));return _0x16da81[_0x5b96e7(0x234)](_0x426e89=>_0x426e89['dispose']()),_0x3bb331[_0x5b96e7(0x289)]?_0x227926:_0x227926[0x0];}['getDefaultModelName'](){const _0x53b3da=_0x1ad56f;return _0x53b3da(0xf1);}['extractParamsFromWeightMap'](_0x1aad9b){return extractParamsFromWeightMap5(_0x1aad9b);}[_0x1ad56f(0x23a)](_0x1a1e27){return extractParams5(_0x1a1e27);}};function createFaceRecognitionNet(_0x2bc5cc){const _0x4fdba4=_0x1ad56f,_0x5b5b8b=new FaceRecognitionNet();return _0x5b5b8b[_0x4fdba4(0x1f3)](_0x2bc5cc),_0x5b5b8b;}function extendWithFaceDescriptor(_0x4526cd,_0x12d268){const _0x1d8605={'descriptor':_0x12d268};return{..._0x4526cd,..._0x1d8605};}function isWithAge(_0x17186b){const _0x13e842=_0x1ad56f;return typeof _0x17186b[_0x13e842(0x2a3)]==='number';}function extendWithAge(_0x5d87db,_0x2788db){const _0x1f3928={'age':_0x2788db};return{..._0x5d87db,..._0x1f3928};}function isWithGender(_0x59e5d9){const _0x20cc89=_0x1ad56f;return(_0x59e5d9[_0x20cc89(0x20d)]===_0x20cc89(0x363)||_0x59e5d9[_0x20cc89(0x20d)]===_0x20cc89(0x335))&&isValidProbablitiy(_0x59e5d9['genderProbability']);}function extendWithGender(_0x297470,_0x3522e5,_0x2f3fcf){const _0x57c0e0={'gender':_0x3522e5,'genderProbability':_0x2f3fcf};return{..._0x297470,..._0x57c0e0};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x112246,_0x5b91f7){function _0x1f7a0f(_0x3f7a86,_0x5f3e8d){const _0x5da2ed=_0x5530,_0x26ac5c=tf28[_0x5da2ed(0x302)](_0x112246(0x3*0x3*_0x3f7a86),[0x3,0x3,_0x3f7a86,0x1]),_0x4650ad=tf28['tensor1d'](_0x112246(_0x3f7a86)),_0xb52fae=tf28['tensor1d'](_0x112246(_0x3f7a86)),_0x4192f1=tf28[_0x5da2ed(0x27a)](_0x112246(_0x3f7a86)),_0x33d815=tf28[_0x5da2ed(0x27a)](_0x112246(_0x3f7a86));return _0x5b91f7[_0x5da2ed(0x31b)]({'paramPath':_0x5f3e8d+_0x5da2ed(0x1b0)},{'paramPath':_0x5f3e8d+_0x5da2ed(0x20e)},{'paramPath':_0x5f3e8d+_0x5da2ed(0x1d1)},{'paramPath':_0x5f3e8d+_0x5da2ed(0x136)},{'paramPath':_0x5f3e8d+_0x5da2ed(0x21f)}),{'filters':_0x26ac5c,'batch_norm_scale':_0x4650ad,'batch_norm_offset':_0xb52fae,'batch_norm_mean':_0x4192f1,'batch_norm_variance':_0x33d815};}function _0x5f65f6(_0x52c6bc,_0x307437,_0x16b9b5,_0x7ece39,_0x50d013){const _0x2e675f=_0x5530,_0x108c0b=tf28['tensor4d'](_0x112246(_0x52c6bc*_0x307437*_0x16b9b5*_0x16b9b5),[_0x16b9b5,_0x16b9b5,_0x52c6bc,_0x307437]),_0x4ed302=tf28[_0x2e675f(0x27a)](_0x112246(_0x307437));return _0x5b91f7['push']({'paramPath':_0x7ece39+_0x2e675f(0x1b0)},{'paramPath':_0x7ece39+'/'+(_0x50d013?'batch_norm_offset':_0x2e675f(0x158))}),{'filters':_0x108c0b,'bias':_0x4ed302};}function _0x481ed8(_0x5bcb65,_0x2d4ca1,_0x452f4b,_0x21af12){const {filters:_0x2db905,bias:_0x54bf7d}=_0x5f65f6(_0x5bcb65,_0x2d4ca1,_0x452f4b,_0x21af12,!![]);return{'filters':_0x2db905,'batch_norm_offset':_0x54bf7d};}function _0x71f60e(_0x5caf59,_0x25914e,_0x42009d){const _0x2d06fe=_0x5530,_0x8617c2=_0x1f7a0f(_0x5caf59,_0x42009d+_0x2d06fe(0x337)),_0x5c78b2=_0x481ed8(_0x5caf59,_0x25914e,0x1,_0x42009d+'/pointwise_conv');return{'depthwise_conv':_0x8617c2,'pointwise_conv':_0x5c78b2};}function _0x276c7d(){const _0x2b33eb=_0x5530,_0x5d3d9a=_0x481ed8(0x3,0x20,0x3,_0x2b33eb(0x2bd)),_0x5e9be7=_0x71f60e(0x20,0x40,_0x2b33eb(0x1b6)),_0x2cbc80=_0x71f60e(0x40,0x80,_0x2b33eb(0x30f)),_0x33a78d=_0x71f60e(0x80,0x80,'mobilenetv1/conv_3'),_0x3093c4=_0x71f60e(0x80,0x100,_0x2b33eb(0x209)),_0x1f8e13=_0x71f60e(0x100,0x100,_0x2b33eb(0x1d2)),_0x3abed9=_0x71f60e(0x100,0x200,_0x2b33eb(0x1a8)),_0x22ef8d=_0x71f60e(0x200,0x200,_0x2b33eb(0x15f)),_0x448646=_0x71f60e(0x200,0x200,_0x2b33eb(0x231)),_0x4df99e=_0x71f60e(0x200,0x200,_0x2b33eb(0x2bf)),_0x5d7407=_0x71f60e(0x200,0x200,_0x2b33eb(0x1ac)),_0x31056d=_0x71f60e(0x200,0x200,_0x2b33eb(0x13e)),_0x256dfb=_0x71f60e(0x200,0x400,_0x2b33eb(0x355)),_0x1182fd=_0x71f60e(0x400,0x400,_0x2b33eb(0x342));return{'conv_0':_0x5d3d9a,'conv_1':_0x5e9be7,'conv_2':_0x2cbc80,'conv_3':_0x33a78d,'conv_4':_0x3093c4,'conv_5':_0x1f8e13,'conv_6':_0x3abed9,'conv_7':_0x22ef8d,'conv_8':_0x448646,'conv_9':_0x4df99e,'conv_10':_0x5d7407,'conv_11':_0x31056d,'conv_12':_0x256dfb,'conv_13':_0x1182fd};}function _0x43d012(){const _0x27af46=_0x5530,_0x298e98=_0x481ed8(0x400,0x100,0x1,_0x27af46(0x1e7)),_0x440151=_0x481ed8(0x100,0x200,0x3,_0x27af46(0x247)),_0x496cc6=_0x481ed8(0x200,0x80,0x1,'prediction_layer/conv_2'),_0xab115=_0x481ed8(0x80,0x100,0x3,'prediction_layer/conv_3'),_0x11ed48=_0x481ed8(0x100,0x80,0x1,_0x27af46(0x140)),_0xa6c7ca=_0x481ed8(0x80,0x100,0x3,_0x27af46(0x294)),_0x3a20db=_0x481ed8(0x100,0x40,0x1,'prediction_layer/conv_6'),_0x329a0f=_0x481ed8(0x40,0x80,0x3,_0x27af46(0x2e5)),_0x4edc9e=_0x5f65f6(0x200,0xc,0x1,_0x27af46(0x228)),_0x10ddfe=_0x5f65f6(0x200,0x9,0x1,_0x27af46(0x12f)),_0x4f7df9=_0x5f65f6(0x400,0x18,0x1,_0x27af46(0x1cf)),_0x463fe7=_0x5f65f6(0x400,0x12,0x1,_0x27af46(0x18e)),_0x2853db=_0x5f65f6(0x200,0x18,0x1,_0x27af46(0x230)),_0x1d2d1d=_0x5f65f6(0x200,0x12,0x1,_0x27af46(0x274)),_0xa468f0=_0x5f65f6(0x100,0x18,0x1,_0x27af46(0x16e)),_0x32d736=_0x5f65f6(0x100,0x12,0x1,'prediction_layer/box_predictor_3/class_predictor'),_0x28be85=_0x5f65f6(0x100,0x18,0x1,_0x27af46(0x261)),_0xc5649d=_0x5f65f6(0x100,0x12,0x1,_0x27af46(0x125)),_0x51191d=_0x5f65f6(0x80,0x18,0x1,'prediction_layer/box_predictor_5/box_encoding_predictor'),_0x29604d=_0x5f65f6(0x80,0x12,0x1,_0x27af46(0x19a)),_0x2baff2={'box_encoding_predictor':_0x4edc9e,'class_predictor':_0x10ddfe},_0x548878={'box_encoding_predictor':_0x4f7df9,'class_predictor':_0x463fe7},_0x14dd07={'box_encoding_predictor':_0x2853db,'class_predictor':_0x1d2d1d},_0x49d300={'box_encoding_predictor':_0xa468f0,'class_predictor':_0x32d736},_0x2198a5={'box_encoding_predictor':_0x28be85,'class_predictor':_0xc5649d},_0x28f9e1={'box_encoding_predictor':_0x51191d,'class_predictor':_0x29604d};return{'conv_0':_0x298e98,'conv_1':_0x440151,'conv_2':_0x496cc6,'conv_3':_0xab115,'conv_4':_0x11ed48,'conv_5':_0xa6c7ca,'conv_6':_0x3a20db,'conv_7':_0x329a0f,'box_predictor_0':_0x2baff2,'box_predictor_1':_0x548878,'box_predictor_2':_0x14dd07,'box_predictor_3':_0x49d300,'box_predictor_4':_0x2198a5,'box_predictor_5':_0x28f9e1};}return{'extractMobilenetV1Params':_0x276c7d,'extractPredictionLayerParams':_0x43d012};}function extractParams6(_0x456b6c){const _0x552668=_0x1ad56f,_0x5604ab=[],{extractWeights:_0x1b39c2,getRemainingWeights:_0x309199}=extractWeightsFactory(_0x456b6c),{extractMobilenetV1Params:_0x4be151,extractPredictionLayerParams:_0x57633f}=extractorsFactory5(_0x1b39c2,_0x5604ab),_0x2d63a3=_0x4be151(),_0x36afe6=_0x57633f(),_0x4b021e=tf28[_0x552668(0x164)](_0x1b39c2(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x3ab77f={'extra_dim':_0x4b021e};_0x5604ab[_0x552668(0x31b)]({'paramPath':_0x552668(0x1df)});if(_0x309199()[_0x552668(0x194)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x309199()[_0x552668(0x194)]);return{'params':{'mobilenetv1':_0x2d63a3,'prediction_layer':_0x36afe6,'output_layer':_0x3ab77f},'paramMappings':_0x5604ab};}function extractorsFactory6(_0x1b59fe,_0x1c783){const _0x3a4d15=extractWeightEntryFactory(_0x1b59fe,_0x1c783);function _0x54c452(_0xcde436,_0x585809,_0x2fb743){const _0x45b139=_0x5530,_0x161fd1=_0x3a4d15(_0xcde436+_0x45b139(0x19d)+_0x585809+_0x45b139(0x1bb),0x4,_0x2fb743+_0x45b139(0x1b0)),_0x48f882=_0x3a4d15(_0xcde436+'/Conv2d_'+_0x585809+_0x45b139(0xf6),0x1,_0x2fb743+'/batch_norm_offset');return{'filters':_0x161fd1,'batch_norm_offset':_0x48f882};}function _0x2e7c06(_0x248ca7){const _0x519d31=_0x5530,_0xfc482f=_0x519d31(0x25a)+_0x248ca7,_0x5c2de9=_0x519d31(0x2be)+_0x248ca7+_0x519d31(0x102),_0x1c49a2=_0xfc482f+'/depthwise_conv',_0x15ba0f=_0xfc482f+_0x519d31(0x2aa),_0x19a025=_0x3a4d15(_0x5c2de9+'/depthwise_weights',0x4,_0x1c49a2+_0x519d31(0x1b0)),_0x5bf79d=_0x3a4d15(_0x5c2de9+_0x519d31(0x1b8),0x1,_0x1c49a2+'/batch_norm_scale'),_0x543e38=_0x3a4d15(_0x5c2de9+_0x519d31(0x315),0x1,_0x1c49a2+_0x519d31(0x1d1)),_0x58bc60=_0x3a4d15(_0x5c2de9+_0x519d31(0x2a9),0x1,_0x1c49a2+_0x519d31(0x136)),_0x4d7694=_0x3a4d15(_0x5c2de9+_0x519d31(0x148),0x1,_0x1c49a2+_0x519d31(0x21f));return{'depthwise_conv':{'filters':_0x19a025,'batch_norm_scale':_0x5bf79d,'batch_norm_offset':_0x543e38,'batch_norm_mean':_0x58bc60,'batch_norm_variance':_0x4d7694},'pointwise_conv':_0x54c452('MobilenetV1',_0x248ca7,_0x15ba0f)};}function _0x1e4538(){const _0x5b31b3=_0x5530;return{'conv_0':_0x54c452('MobilenetV1',0x0,_0x5b31b3(0x2bd)),'conv_1':_0x2e7c06(0x1),'conv_2':_0x2e7c06(0x2),'conv_3':_0x2e7c06(0x3),'conv_4':_0x2e7c06(0x4),'conv_5':_0x2e7c06(0x5),'conv_6':_0x2e7c06(0x6),'conv_7':_0x2e7c06(0x7),'conv_8':_0x2e7c06(0x8),'conv_9':_0x2e7c06(0x9),'conv_10':_0x2e7c06(0xa),'conv_11':_0x2e7c06(0xb),'conv_12':_0x2e7c06(0xc),'conv_13':_0x2e7c06(0xd)};}function _0x1a678b(_0x2c0874,_0x115b04){const _0x5280bf=_0x5530,_0x58e825=_0x3a4d15(_0x2c0874+_0x5280bf(0x105),0x4,_0x115b04+_0x5280bf(0x1b0)),_0x52226e=_0x3a4d15(_0x2c0874+_0x5280bf(0x352),0x1,_0x115b04+'/bias');return{'filters':_0x58e825,'bias':_0x52226e};}function _0x32d883(_0x2f8e7d){const _0x4d432a=_0x5530,_0x4bdae8=_0x1a678b(_0x4d432a(0x334)+_0x2f8e7d+'/BoxEncodingPredictor',_0x4d432a(0x218)+_0x2f8e7d+_0x4d432a(0xec)),_0x4f4e13=_0x1a678b(_0x4d432a(0x334)+_0x2f8e7d+'/ClassPredictor',_0x4d432a(0x218)+_0x2f8e7d+_0x4d432a(0x184));return{'box_encoding_predictor':_0x4bdae8,'class_predictor':_0x4f4e13};}function _0x572584(){const _0x28d3dc=_0x5530;return{'conv_0':_0x54c452('Prediction',0x0,_0x28d3dc(0x1e7)),'conv_1':_0x54c452(_0x28d3dc(0x365),0x1,_0x28d3dc(0x247)),'conv_2':_0x54c452('Prediction',0x2,'prediction_layer/conv_2'),'conv_3':_0x54c452(_0x28d3dc(0x365),0x3,_0x28d3dc(0x30e)),'conv_4':_0x54c452(_0x28d3dc(0x365),0x4,_0x28d3dc(0x140)),'conv_5':_0x54c452(_0x28d3dc(0x365),0x5,'prediction_layer/conv_5'),'conv_6':_0x54c452(_0x28d3dc(0x365),0x6,_0x28d3dc(0x23c)),'conv_7':_0x54c452(_0x28d3dc(0x365),0x7,_0x28d3dc(0x2e5)),'box_predictor_0':_0x32d883(0x0),'box_predictor_1':_0x32d883(0x1),'box_predictor_2':_0x32d883(0x2),'box_predictor_3':_0x32d883(0x3),'box_predictor_4':_0x32d883(0x4),'box_predictor_5':_0x32d883(0x5)};}return{'extractMobilenetV1Params':_0x1e4538,'extractPredictionLayerParams':_0x572584};}function extractParamsFromWeightMap6(_0x3f04c7){const _0x2ef890=_0x1ad56f,_0x20eff7=[],{extractMobilenetV1Params:_0x4bf08e,extractPredictionLayerParams:_0xc01830}=extractorsFactory6(_0x3f04c7,_0x20eff7),_0x16565e=_0x3f04c7[_0x2ef890(0x149)];_0x20eff7[_0x2ef890(0x31b)]({'originalPath':_0x2ef890(0x149),'paramPath':_0x2ef890(0x1df)});if(!isTensor3D(_0x16565e))throw new Error(_0x2ef890(0x110)+_0x16565e);const _0x486770={'mobilenetv1':_0x4bf08e(),'prediction_layer':_0xc01830(),'output_layer':{'extra_dim':_0x16565e}};return disposeUnusedWeightTensors(_0x3f04c7,_0x20eff7),{'params':_0x486770,'paramMappings':_0x20eff7};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x38ab41,_0x25a5c0,_0x58abc3){const _0x27eac9=_0x1ad56f;return tf29[_0x27eac9(0x258)](()=>{const _0x21af97=_0x27eac9;let _0xacf627=tf29[_0x21af97(0x1fb)](_0x38ab41,_0x25a5c0[_0x21af97(0x287)],_0x58abc3,_0x21af97(0x163));return _0xacf627=tf29[_0x21af97(0x123)](_0xacf627,_0x25a5c0[_0x21af97(0x131)]),tf29[_0x21af97(0x195)](_0xacf627,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0xa79e1f,_0x1460a1,_0x56768a){return tf30['tidy'](()=>{const _0x1c4b53=_0x5530;let _0x3785c2=tf30[_0x1c4b53(0x322)](_0xa79e1f,_0x1460a1['filters'],_0x56768a,_0x1c4b53(0x163));return _0x3785c2=tf30[_0x1c4b53(0x109)](_0x3785c2,_0x1460a1[_0x1c4b53(0x15b)],_0x1460a1['batch_norm_variance'],_0x1460a1['batch_norm_offset'],_0x1460a1[_0x1c4b53(0x17b)],epsilon),tf30['clipByValue'](_0x3785c2,0x0,0x6);});}function getStridesForLayerIdx(_0x3b292a){const _0x4ae50b=_0x1ad56f;return[0x2,0x4,0x6,0xc][_0x4ae50b(0x17a)](_0x9725d=>_0x9725d===_0x3b292a)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x1b8eb1,_0x36822b){const _0x5902ad=_0x1ad56f;return tf30[_0x5902ad(0x258)](()=>{const _0xb8846d=_0x5902ad;let _0x4dc967,_0x42aa87=pointwiseConvLayer(_0x1b8eb1,_0x36822b['conv_0'],[0x2,0x2]);const _0x486b27=[_0x36822b['conv_1'],_0x36822b[_0xb8846d(0x368)],_0x36822b[_0xb8846d(0x306)],_0x36822b[_0xb8846d(0x1c5)],_0x36822b[_0xb8846d(0x25d)],_0x36822b[_0xb8846d(0x2c4)],_0x36822b[_0xb8846d(0x11e)],_0x36822b['conv_8'],_0x36822b[_0xb8846d(0x235)],_0x36822b['conv_10'],_0x36822b[_0xb8846d(0x191)],_0x36822b[_0xb8846d(0x2e6)],_0x36822b[_0xb8846d(0x1c0)]];_0x486b27[_0xb8846d(0x234)]((_0x46966a,_0x308cb7)=>{const _0x3324f4=_0xb8846d,_0x34c377=_0x308cb7+0x1,_0x146e91=getStridesForLayerIdx(_0x34c377);_0x42aa87=depthwiseConvLayer(_0x42aa87,_0x46966a[_0x3324f4(0x221)],_0x146e91),_0x42aa87=pointwiseConvLayer(_0x42aa87,_0x46966a[_0x3324f4(0x267)],[0x1,0x1]);if(_0x34c377===0xb)_0x4dc967=_0x42aa87;});if(_0x4dc967===null)throw new Error(_0xb8846d(0x298));return{'out':_0x42aa87,'conv11':_0x4dc967};});}function IOU(_0x13817e,_0x165eb6,_0x11b544){const _0x47b325=_0x1ad56f,_0x2682b7=_0x13817e['arraySync'](),_0x4df317=Math[_0x47b325(0x229)](_0x2682b7[_0x165eb6][0x0],_0x2682b7[_0x165eb6][0x2]),_0x49f914=Math['min'](_0x2682b7[_0x165eb6][0x1],_0x2682b7[_0x165eb6][0x3]),_0x1d7e4c=Math[_0x47b325(0x170)](_0x2682b7[_0x165eb6][0x0],_0x2682b7[_0x165eb6][0x2]),_0x1decc7=Math[_0x47b325(0x170)](_0x2682b7[_0x165eb6][0x1],_0x2682b7[_0x165eb6][0x3]),_0x1b4476=Math[_0x47b325(0x229)](_0x2682b7[_0x11b544][0x0],_0x2682b7[_0x11b544][0x2]),_0x43e6a4=Math[_0x47b325(0x229)](_0x2682b7[_0x11b544][0x1],_0x2682b7[_0x11b544][0x3]),_0x333bf3=Math[_0x47b325(0x170)](_0x2682b7[_0x11b544][0x0],_0x2682b7[_0x11b544][0x2]),_0x2aeb9d=Math[_0x47b325(0x170)](_0x2682b7[_0x11b544][0x1],_0x2682b7[_0x11b544][0x3]),_0x136bf4=(_0x1d7e4c-_0x4df317)*(_0x1decc7-_0x49f914),_0x50a8c0=(_0x333bf3-_0x1b4476)*(_0x2aeb9d-_0x43e6a4);if(_0x136bf4<=0x0||_0x50a8c0<=0x0)return 0x0;const _0x4a0ecf=Math['max'](_0x4df317,_0x1b4476),_0x460835=Math[_0x47b325(0x170)](_0x49f914,_0x43e6a4),_0x4b96bc=Math[_0x47b325(0x229)](_0x1d7e4c,_0x333bf3),_0x5adf32=Math[_0x47b325(0x229)](_0x1decc7,_0x2aeb9d),_0x32cd97=Math[_0x47b325(0x170)](_0x4b96bc-_0x4a0ecf,0x0)*Math[_0x47b325(0x170)](_0x5adf32-_0x460835,0x0);return _0x32cd97/(_0x136bf4+_0x50a8c0-_0x32cd97);}function nonMaxSuppression2(_0x43dc39,_0x2f733d,_0x549ec2,_0x21f64f,_0x5a9514){const _0x28494b=_0x1ad56f,_0x126d47=_0x43dc39[_0x28494b(0x1b2)][0x0],_0x4bc1ef=Math[_0x28494b(0x229)](_0x549ec2,_0x126d47),_0x455526=_0x2f733d['map']((_0x507876,_0x13f980)=>({'score':_0x507876,'boxIndex':_0x13f980}))[_0x28494b(0x165)](_0x505ce9=>_0x505ce9[_0x28494b(0x232)]>_0x5a9514)[_0x28494b(0x1f5)]((_0x453993,_0x322fd5)=>_0x322fd5['score']-_0x453993[_0x28494b(0x232)]),_0x1e843b=_0x597484=>_0x597484<=_0x21f64f?0x1:0x0,_0x140ba1=[];return _0x455526[_0x28494b(0x234)](_0x28d24f=>{const _0x353e42=_0x28494b;if(_0x140ba1[_0x353e42(0x194)]>=_0x4bc1ef)return;const _0x36968a=_0x28d24f[_0x353e42(0x232)];for(let _0x592f97=_0x140ba1[_0x353e42(0x194)]-0x1;_0x592f97>=0x0;--_0x592f97){const _0x402af8=IOU(_0x43dc39,_0x28d24f[_0x353e42(0x256)],_0x140ba1[_0x592f97]);if(_0x402af8===0x0)continue;_0x28d24f['score']*=_0x1e843b(_0x402af8);if(_0x28d24f[_0x353e42(0x232)]<=_0x5a9514)break;}_0x36968a===_0x28d24f['score']&&_0x140ba1[_0x353e42(0x31b)](_0x28d24f[_0x353e42(0x256)]);}),_0x140ba1;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x118634){const _0x31cc55=_0x1ad56f,_0x374fbe=tf31[_0x31cc55(0x17c)](tf31['transpose'](_0x118634,[0x1,0x0])),_0x1e6927=[tf31[_0x31cc55(0x185)](_0x374fbe[0x2],_0x374fbe[0x0]),tf31['sub'](_0x374fbe[0x3],_0x374fbe[0x1])],_0x23383f=[tf31[_0x31cc55(0x123)](_0x374fbe[0x0],tf31[_0x31cc55(0x30b)](_0x1e6927[0x0],0x2)),tf31[_0x31cc55(0x123)](_0x374fbe[0x1],tf31[_0x31cc55(0x30b)](_0x1e6927[0x1],0x2))];return{'sizes':_0x1e6927,'centers':_0x23383f};}function decodeBoxesLayer(_0x2cbd15,_0x484f25){const _0x3df292=_0x1ad56f,{sizes:_0x595466,centers:_0x118e3d}=getCenterCoordinatesAndSizesLayer(_0x2cbd15),_0x47eb45=tf31[_0x3df292(0x17c)](tf31[_0x3df292(0x2ca)](_0x484f25,[0x1,0x0])),_0x552bf6=tf31[_0x3df292(0x30b)](tf31[_0x3df292(0x309)](tf31[_0x3df292(0x160)](tf31['div'](_0x47eb45[0x2],0x5)),_0x595466[0x0]),0x2),_0x38fe30=tf31[_0x3df292(0x123)](tf31['mul'](tf31[_0x3df292(0x30b)](_0x47eb45[0x0],0xa),_0x595466[0x0]),_0x118e3d[0x0]),_0x54b2f0=tf31[_0x3df292(0x30b)](tf31[_0x3df292(0x309)](tf31[_0x3df292(0x160)](tf31[_0x3df292(0x30b)](_0x47eb45[0x3],0x5)),_0x595466[0x1]),0x2),_0x2fd001=tf31[_0x3df292(0x123)](tf31[_0x3df292(0x309)](tf31[_0x3df292(0x30b)](_0x47eb45[0x1],0xa),_0x595466[0x1]),_0x118e3d[0x1]);return tf31[_0x3df292(0x2ca)](tf31['stack']([tf31[_0x3df292(0x185)](_0x38fe30,_0x552bf6),tf31['sub'](_0x2fd001,_0x54b2f0),tf31[_0x3df292(0x123)](_0x38fe30,_0x552bf6),tf31[_0x3df292(0x123)](_0x2fd001,_0x54b2f0)]),[0x1,0x0]);}function outputLayer(_0x5d3b69,_0x485ebc,_0x20d419){const _0x563831=_0x1ad56f;return tf31[_0x563831(0x258)](()=>{const _0x353d68=_0x563831,_0xc889a4=_0x5d3b69[_0x353d68(0x1b2)][0x0];let _0x22d8ac=decodeBoxesLayer(tf31[_0x353d68(0x265)](tf31[_0x353d68(0x26b)](_0x20d419[_0x353d68(0x144)],[_0xc889a4,0x1,0x1]),[-0x1,0x4]),tf31[_0x353d68(0x265)](_0x5d3b69,[-0x1,0x4]));_0x22d8ac=tf31[_0x353d68(0x265)](_0x22d8ac,[_0xc889a4,_0x22d8ac['shape'][0x0]/_0xc889a4,0x4]);const _0x2abce3=tf31[_0x353d68(0x1d7)](tf31[_0x353d68(0x22d)](_0x485ebc,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x3d5b1d=tf31[_0x353d68(0x22d)](_0x2abce3,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x3d5b1d=tf31['reshape'](_0x3d5b1d,[_0xc889a4,_0x3d5b1d[_0x353d68(0x1b2)][0x1]]);const _0x52acc2=tf31[_0x353d68(0x17c)](_0x22d8ac),_0x2d1ecc=tf31[_0x353d68(0x17c)](_0x3d5b1d);return{'boxes':_0x52acc2,'scores':_0x2d1ecc};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x38ccab,_0x3ca9b2){const _0x31c77=_0x1ad56f;return tf32[_0x31c77(0x258)](()=>{const _0x56f3c4=_0x31c77,_0x98e1bd=_0x38ccab[_0x56f3c4(0x1b2)][0x0],_0x266d59=tf32[_0x56f3c4(0x265)](convLayer(_0x38ccab,_0x3ca9b2[_0x56f3c4(0x1f1)]),[_0x98e1bd,-0x1,0x1,0x4]),_0xbde4d8=tf32['reshape'](convLayer(_0x38ccab,_0x3ca9b2[_0x56f3c4(0x204)]),[_0x98e1bd,-0x1,0x3]);return{'boxPredictionEncoding':_0x266d59,'classPrediction':_0xbde4d8};});}function predictionLayer(_0x2fa04d,_0x67e670,_0x186327){const _0x593495=_0x1ad56f;return tf33[_0x593495(0x258)](()=>{const _0x34892b=_0x593495,_0x2585aa=pointwiseConvLayer(_0x2fa04d,_0x186327[_0x34892b(0x178)],[0x1,0x1]),_0x47287d=pointwiseConvLayer(_0x2585aa,_0x186327[_0x34892b(0x20c)],[0x2,0x2]),_0x3a6264=pointwiseConvLayer(_0x47287d,_0x186327[_0x34892b(0x368)],[0x1,0x1]),_0x339e4e=pointwiseConvLayer(_0x3a6264,_0x186327['conv_3'],[0x2,0x2]),_0x5749f2=pointwiseConvLayer(_0x339e4e,_0x186327['conv_4'],[0x1,0x1]),_0x18f662=pointwiseConvLayer(_0x5749f2,_0x186327[_0x34892b(0x25d)],[0x2,0x2]),_0x2586a8=pointwiseConvLayer(_0x18f662,_0x186327[_0x34892b(0x2c4)],[0x1,0x1]),_0x4e279f=pointwiseConvLayer(_0x2586a8,_0x186327[_0x34892b(0x11e)],[0x2,0x2]),_0xdd663d=boxPredictionLayer(_0x67e670,_0x186327['box_predictor_0']),_0x5a1dbe=boxPredictionLayer(_0x2fa04d,_0x186327['box_predictor_1']),_0x311e8c=boxPredictionLayer(_0x47287d,_0x186327[_0x34892b(0x341)]),_0x390fe1=boxPredictionLayer(_0x339e4e,_0x186327[_0x34892b(0x361)]),_0x44f219=boxPredictionLayer(_0x18f662,_0x186327[_0x34892b(0x23b)]),_0x554351=boxPredictionLayer(_0x4e279f,_0x186327[_0x34892b(0x33a)]),_0x137809=tf33[_0x34892b(0x25e)]([_0xdd663d[_0x34892b(0x233)],_0x5a1dbe[_0x34892b(0x233)],_0x311e8c['boxPredictionEncoding'],_0x390fe1[_0x34892b(0x233)],_0x44f219['boxPredictionEncoding'],_0x554351[_0x34892b(0x233)]],0x1),_0x85602f=tf33[_0x34892b(0x25e)]([_0xdd663d[_0x34892b(0x324)],_0x5a1dbe[_0x34892b(0x324)],_0x311e8c[_0x34892b(0x324)],_0x390fe1[_0x34892b(0x324)],_0x44f219[_0x34892b(0x324)],_0x554351[_0x34892b(0x324)]],0x1);return{'boxPredictions':_0x137809,'classPredictions':_0x85602f};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x3ea18f,maxResults:_0x4d19d3}={}){const _0x25d5ac=_0x1ad56f;this[_0x25d5ac(0x19c)]='SsdMobilenetv1Options',this[_0x25d5ac(0x2af)]=_0x3ea18f||0.5,this[_0x25d5ac(0x106)]=_0x4d19d3||0x64;if(typeof this[_0x25d5ac(0x2af)]!==_0x25d5ac(0x308)||this[_0x25d5ac(0x2af)]<=0x0||this[_0x25d5ac(0x2af)]>=0x1)throw new Error(this[_0x25d5ac(0x19c)]+_0x25d5ac(0x278));if(typeof this[_0x25d5ac(0x106)]!==_0x25d5ac(0x308))throw new Error(this[_0x25d5ac(0x19c)]+_0x25d5ac(0x2c7));}get['minConfidence'](){return this['_minConfidence'];}get['maxResults'](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){super('SsdMobilenetv1');}[_0x1ad56f(0x241)](_0xc33764){const _0x22bb14=_0x1ad56f,{params:_0xcdef30}=this;if(!_0xcdef30)throw new Error(_0x22bb14(0x118));return tf34[_0x22bb14(0x258)](()=>{const _0x542368=_0x22bb14,_0x1e1537=tf34[_0x542368(0x213)](_0xc33764[_0x542368(0x10d)](0x200,![]),_0x542368(0x347)),_0x3d18d8=tf34[_0x542368(0x185)](tf34['div'](_0x1e1537,127.5),0x1),_0x31f55d=mobileNetV1(_0x3d18d8,_0xcdef30['mobilenetv1']),{boxPredictions:_0x3576dd,classPredictions:_0x39b1ba}=predictionLayer(_0x31f55d['out'],_0x31f55d[_0x542368(0x183)],_0xcdef30[_0x542368(0x2a8)]);return outputLayer(_0x3576dd,_0x39b1ba,_0xcdef30[_0x542368(0x25b)]);});}async[_0x1ad56f(0x211)](_0x2b10e8){const _0x5896d3=_0x1ad56f;return this[_0x5896d3(0x241)](await toNetInput(_0x2b10e8));}async[_0x1ad56f(0x1cd)](_0x235f6c,_0x3bdc15={}){const _0x5c8981=_0x1ad56f,{maxResults:_0x589862,minConfidence:_0x138b70}=new SsdMobilenetv1Options(_0x3bdc15),_0x3c22a9=await toNetInput(_0x235f6c),{boxes:_0xa8a86f,scores:_0x3b1d3f}=this[_0x5c8981(0x241)](_0x3c22a9),_0x48bc8d=_0xa8a86f[0x0],_0x1c8b69=_0x3b1d3f[0x0];for(let _0x5b3ffb=0x1;_0x5b3ffb<_0xa8a86f['length'];_0x5b3ffb++){_0xa8a86f[_0x5b3ffb]['dispose'](),_0x3b1d3f[_0x5b3ffb][_0x5c8981(0xf7)]();}const _0xb58f5f=Array['from'](_0x1c8b69[_0x5c8981(0x312)]()),_0x3d6583=0.5,_0x23a1bd=nonMaxSuppression2(_0x48bc8d,_0xb58f5f,_0x589862,_0x3d6583,_0x138b70),_0x238c94=_0x3c22a9[_0x5c8981(0x35d)](0x0),_0x122088=_0x3c22a9[_0x5c8981(0x317)],_0x5c0567=_0x122088/_0x238c94[_0x5c8981(0x2ba)],_0x9502c3=_0x122088/_0x238c94[_0x5c8981(0x262)],_0x453fec=_0x48bc8d[_0x5c8981(0x33f)](),_0x584caa=_0x23a1bd[_0x5c8981(0x248)](_0x49981f=>{const _0x410487=_0x5c8981,[_0x14a032,_0x48ddc5]=[Math[_0x410487(0x170)](0x0,_0x453fec[_0x49981f][0x0]),Math['min'](0x1,_0x453fec[_0x49981f][0x2])][_0x410487(0x248)](_0xd39361=>_0xd39361*_0x9502c3),[_0x2aef5b,_0x4c61b8]=[Math[_0x410487(0x170)](0x0,_0x453fec[_0x49981f][0x1]),Math[_0x410487(0x229)](0x1,_0x453fec[_0x49981f][0x3])]['map'](_0x59b1a9=>_0x59b1a9*_0x5c0567);return new FaceDetection(_0xb58f5f[_0x49981f],new Rect(_0x2aef5b,_0x14a032,_0x4c61b8-_0x2aef5b,_0x48ddc5-_0x14a032),{'height':_0x3c22a9[_0x410487(0x201)](0x0),'width':_0x3c22a9[_0x410487(0x31c)](0x0)});});return _0x48bc8d[_0x5c8981(0xf7)](),_0x1c8b69[_0x5c8981(0xf7)](),_0x584caa;}[_0x1ad56f(0x1be)](){const _0x58178a=_0x1ad56f;return _0x58178a(0x346);}[_0x1ad56f(0x1d6)](_0x41240f){return extractParamsFromWeightMap6(_0x41240f);}[_0x1ad56f(0x23a)](_0x76c7d3){return extractParams6(_0x76c7d3);}};function createSsdMobilenetv1(_0x1f30a0){const _0x52b781=_0x1ad56f,_0x23c9ce=new SsdMobilenetv1();return _0x23c9ce[_0x52b781(0x1f3)](_0x1f30a0),_0x23c9ce;}function createFaceDetectionNet(_0x30b871){return createSsdMobilenetv1(_0x30b871);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME='tiny_yolov2_model',DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x1ad56f(0x2ef),tf39=__toESM(require_tfjs_esm()),isNumber=_0x39b7f9=>typeof _0x39b7f9===_0x1ad56f(0x308);function validateConfig(_0x40d75e){const _0x204ec3=_0x1ad56f;if(!_0x40d75e)throw new Error('invalid\x20config:\x20'+_0x40d75e);if(typeof _0x40d75e[_0x204ec3(0x15d)]!==_0x204ec3(0x1ef))throw new Error(_0x204ec3(0x171)+_0x40d75e[_0x204ec3(0x15d)]);if(!isNumber(_0x40d75e[_0x204ec3(0x175)])||_0x40d75e[_0x204ec3(0x175)]<0x0||_0x40d75e['iouThreshold']>0x1)throw new Error(_0x204ec3(0x2b0)+_0x40d75e[_0x204ec3(0x175)]);if(!Array[_0x204ec3(0x16f)](_0x40d75e[_0x204ec3(0x2b9)])||!_0x40d75e['classes'][_0x204ec3(0x194)]||!_0x40d75e[_0x204ec3(0x2b9)][_0x204ec3(0x2a0)](_0x16e267=>typeof _0x16e267===_0x204ec3(0x113)))throw new Error('config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20'+JSON['stringify'](_0x40d75e['classes']));if(!Array[_0x204ec3(0x16f)](_0x40d75e['anchors'])||!_0x40d75e[_0x204ec3(0x192)]['length']||!_0x40d75e[_0x204ec3(0x192)][_0x204ec3(0x248)](_0x4f0427=>_0x4f0427||{})['every'](_0x43b2c1=>isNumber(_0x43b2c1['x'])&&isNumber(_0x43b2c1['y'])))throw new Error('config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20'+JSON[_0x204ec3(0x290)](_0x40d75e[_0x204ec3(0x192)]));if(_0x40d75e[_0x204ec3(0x28b)]&&(!Array[_0x204ec3(0x16f)](_0x40d75e['meanRgb'])||_0x40d75e[_0x204ec3(0x28b)][_0x204ec3(0x194)]!==0x3||!_0x40d75e[_0x204ec3(0x28b)][_0x204ec3(0x2a0)](isNumber)))throw new Error(_0x204ec3(0x32b)+JSON[_0x204ec3(0x290)](_0x40d75e[_0x204ec3(0x28b)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x218609){const _0x3dfd5c=_0x1ad56f;return tf35[_0x3dfd5c(0x258)](()=>{const _0x1a7470=_0x3dfd5c,_0x12bc6b=tf35[_0x1a7470(0x309)](_0x218609,tf35[_0x1a7470(0x1a6)](0.10000000149011612));return tf35[_0x1a7470(0x123)](tf35[_0x1a7470(0x304)](tf35['sub'](_0x218609,_0x12bc6b)),_0x12bc6b);});}function convWithBatchNorm(_0x5163e1,_0x12c7d5){const _0x176df5=_0x1ad56f;return tf36[_0x176df5(0x258)](()=>{const _0x6f75bd=_0x176df5;let _0x699344=tf36[_0x6f75bd(0x27c)](_0x5163e1,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x699344=tf36[_0x6f75bd(0x1fb)](_0x699344,_0x12c7d5['conv'][_0x6f75bd(0x287)],[0x1,0x1],_0x6f75bd(0x2fa)),_0x699344=tf36[_0x6f75bd(0x185)](_0x699344,_0x12c7d5['bn']['sub']),_0x699344=tf36['mul'](_0x699344,_0x12c7d5['bn'][_0x6f75bd(0x14d)]),_0x699344=tf36[_0x6f75bd(0x123)](_0x699344,_0x12c7d5[_0x6f75bd(0x276)]['bias']),leaky(_0x699344);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x5559e7,_0x3a8c3f){const _0x48a52f=_0x1ad56f;return tf37[_0x48a52f(0x258)](()=>{const _0x4ec51c=_0x48a52f;let _0x40e484=tf37['pad'](_0x5559e7,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x40e484=tf37[_0x4ec51c(0x1ff)](_0x40e484,_0x3a8c3f[_0x4ec51c(0x173)],_0x3a8c3f[_0x4ec51c(0x1da)],[0x1,0x1],_0x4ec51c(0x2fa)),_0x40e484=tf37['add'](_0x40e484,_0x3a8c3f[_0x4ec51c(0x158)]),leaky(_0x40e484);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x2e2a38,_0x580f4d){const _0x7ea363=extractConvParamsFactory(_0x2e2a38,_0x580f4d);function _0x18d80c(_0x507206,_0x5ea2b3){const _0x38b60f=_0x5530,_0x32c884=tf38['tensor1d'](_0x2e2a38(_0x507206)),_0x100eac=tf38[_0x38b60f(0x27a)](_0x2e2a38(_0x507206));return _0x580f4d[_0x38b60f(0x31b)]({'paramPath':_0x5ea2b3+'/sub'},{'paramPath':_0x5ea2b3+_0x38b60f(0x263)}),{'sub':_0x32c884,'truediv':_0x100eac};}function _0x37c191(_0x19dc39,_0x49b53b,_0xa7133a){const _0x61d47c=_0x5530,_0x4a2cce=_0x7ea363(_0x19dc39,_0x49b53b,0x3,_0xa7133a+_0x61d47c(0x2a1)),_0x33c068=_0x18d80c(_0x49b53b,_0xa7133a+'/bn');return{'conv':_0x4a2cce,'bn':_0x33c068};}const _0x477b5a=extractSeparableConvParamsFactory(_0x2e2a38,_0x580f4d);return{'extractConvParams':_0x7ea363,'extractConvWithBatchNormParams':_0x37c191,'extractSeparableConvParams':_0x477b5a};}function extractParams7(_0x3904ae,_0x36f4f6,_0x517d1e,_0x185e59){const _0x4c618f=_0x1ad56f,{extractWeights:_0x416457,getRemainingWeights:_0x12e07e}=extractWeightsFactory(_0x3904ae),_0x4b81fd=[],{extractConvParams:_0x52cccd,extractConvWithBatchNormParams:_0x49ba8a,extractSeparableConvParams:_0x42ca81}=extractorsFactory7(_0x416457,_0x4b81fd);let _0x5d625e;if(_0x36f4f6[_0x4c618f(0x15d)]){const [_0x483405,_0x1f7112,_0x27fdbf,_0xc18393,_0x397c5f,_0x589ec4,_0x314488,_0x24f8bf,_0x26a118]=_0x185e59,_0x53fb74=_0x36f4f6[_0x4c618f(0x133)]?_0x52cccd(_0x483405,_0x1f7112,0x3,_0x4c618f(0x1bf)):_0x42ca81(_0x483405,_0x1f7112,'conv0'),_0x48e5cf=_0x42ca81(_0x1f7112,_0x27fdbf,_0x4c618f(0x16b)),_0x2bcc8b=_0x42ca81(_0x27fdbf,_0xc18393,_0x4c618f(0x26c)),_0x5d1540=_0x42ca81(_0xc18393,_0x397c5f,'conv3'),_0x2c9f10=_0x42ca81(_0x397c5f,_0x589ec4,_0x4c618f(0x28a)),_0x2ec4ca=_0x42ca81(_0x589ec4,_0x314488,'conv5'),_0x7a4625=_0x24f8bf?_0x42ca81(_0x314488,_0x24f8bf,_0x4c618f(0x18f)):void 0x0,_0x5e0f97=_0x26a118?_0x42ca81(_0x24f8bf,_0x26a118,'conv7'):void 0x0,_0x4467c2=_0x52cccd(_0x26a118||_0x24f8bf||_0x314488,0x5*_0x517d1e,0x1,_0x4c618f(0x128));_0x5d625e={'conv0':_0x53fb74,'conv1':_0x48e5cf,'conv2':_0x2bcc8b,'conv3':_0x5d1540,'conv4':_0x2c9f10,'conv5':_0x2ec4ca,'conv6':_0x7a4625,'conv7':_0x5e0f97,'conv8':_0x4467c2};}else{const [_0x4de7a4,_0x2a6d7e,_0x4a1af9,_0xeb1f87,_0x45a33b,_0x2a9ce9,_0xd95d99,_0x3da62c,_0x16264a]=_0x185e59,_0xe3fe41=_0x49ba8a(_0x4de7a4,_0x2a6d7e,_0x4c618f(0x1bf)),_0x1b2ae9=_0x49ba8a(_0x2a6d7e,_0x4a1af9,_0x4c618f(0x16b)),_0x2e8102=_0x49ba8a(_0x4a1af9,_0xeb1f87,_0x4c618f(0x26c)),_0x416ee4=_0x49ba8a(_0xeb1f87,_0x45a33b,_0x4c618f(0x358)),_0x146563=_0x49ba8a(_0x45a33b,_0x2a9ce9,_0x4c618f(0x28a)),_0x55133e=_0x49ba8a(_0x2a9ce9,_0xd95d99,_0x4c618f(0x179)),_0x54ce70=_0x49ba8a(_0xd95d99,_0x3da62c,_0x4c618f(0x18f)),_0x13aab6=_0x49ba8a(_0x3da62c,_0x16264a,_0x4c618f(0x214)),_0x57032e=_0x52cccd(_0x16264a,0x5*_0x517d1e,0x1,'conv8');_0x5d625e={'conv0':_0xe3fe41,'conv1':_0x1b2ae9,'conv2':_0x2e8102,'conv3':_0x416ee4,'conv4':_0x146563,'conv5':_0x55133e,'conv6':_0x54ce70,'conv7':_0x13aab6,'conv8':_0x57032e};}if(_0x12e07e()[_0x4c618f(0x194)]!==0x0)throw new Error(_0x4c618f(0x280)+_0x12e07e()[_0x4c618f(0x194)]);return{'params':_0x5d625e,'paramMappings':_0x4b81fd};}function extractorsFactory8(_0x3bad41,_0x2fe252){const _0x2d36a0=extractWeightEntryFactory(_0x3bad41,_0x2fe252);function _0x36fa44(_0x54f2be){const _0x16f67a=_0x5530,_0x1427fc=_0x2d36a0(_0x54f2be+_0x16f67a(0x176),0x1),_0x350fba=_0x2d36a0(_0x54f2be+_0x16f67a(0x263),0x1);return{'sub':_0x1427fc,'truediv':_0x350fba};}function _0x343881(_0x3d673a){const _0x10910e=_0x5530,_0x47b7b3=_0x2d36a0(_0x3d673a+'/filters',0x4),_0x1547c5=_0x2d36a0(_0x3d673a+_0x10910e(0x30a),0x1);return{'filters':_0x47b7b3,'bias':_0x1547c5};}function _0xa72799(_0x139cb3){const _0x4418cc=_0x5530,_0x407afc=_0x343881(_0x139cb3+'/conv'),_0x3d20ae=_0x36fa44(_0x139cb3+_0x4418cc(0x1d8));return{'conv':_0x407afc,'bn':_0x3d20ae};}const _0x525be6=loadSeparableConvParamsFactory(_0x2d36a0);return{'extractConvParams':_0x343881,'extractConvWithBatchNormParams':_0xa72799,'extractSeparableConvParams':_0x525be6};}function extractParamsFromWeightMap7(_0x243077,_0x13dcf8){const _0x429636=_0x1ad56f,_0x3e09c4=[],{extractConvParams:_0x25236c,extractConvWithBatchNormParams:_0x288beb,extractSeparableConvParams:_0x4a71b8}=extractorsFactory8(_0x243077,_0x3e09c4);let _0x171361;if(_0x13dcf8['withSeparableConvs']){const _0x15cdac=_0x13dcf8[_0x429636(0x329)]&&_0x13dcf8[_0x429636(0x329)][_0x429636(0x194)]||0x9;_0x171361={'conv0':_0x13dcf8['isFirstLayerConv2d']?_0x25236c(_0x429636(0x1bf)):_0x4a71b8(_0x429636(0x1bf)),'conv1':_0x4a71b8('conv1'),'conv2':_0x4a71b8(_0x429636(0x26c)),'conv3':_0x4a71b8(_0x429636(0x358)),'conv4':_0x4a71b8(_0x429636(0x28a)),'conv5':_0x4a71b8(_0x429636(0x179)),'conv6':_0x15cdac>0x7?_0x4a71b8(_0x429636(0x18f)):void 0x0,'conv7':_0x15cdac>0x8?_0x4a71b8('conv7'):void 0x0,'conv8':_0x25236c(_0x429636(0x128))};}else _0x171361={'conv0':_0x288beb('conv0'),'conv1':_0x288beb(_0x429636(0x16b)),'conv2':_0x288beb(_0x429636(0x26c)),'conv3':_0x288beb(_0x429636(0x358)),'conv4':_0x288beb('conv4'),'conv5':_0x288beb('conv5'),'conv6':_0x288beb(_0x429636(0x18f)),'conv7':_0x288beb(_0x429636(0x214)),'conv8':_0x25236c(_0x429636(0x128))};return disposeUnusedWeightTensors(_0x243077,_0x3e09c4),{'params':_0x171361,'paramMappings':_0x3e09c4};}var TinyYolov2Options=class{constructor({inputSize:_0x5b5fce,scoreThreshold:_0x22c217}={}){const _0x822920=_0x1ad56f;this[_0x822920(0x19c)]=_0x822920(0x351),this[_0x822920(0x300)]=_0x5b5fce||0x1a0,this[_0x822920(0x10f)]=_0x22c217||0.5;if(typeof this[_0x822920(0x300)]!==_0x822920(0x308)||this[_0x822920(0x300)]%0x20!==0x0)throw new Error(this['_name']+_0x822920(0x360));if(typeof this[_0x822920(0x10f)]!==_0x822920(0x308)||this[_0x822920(0x10f)]<=0x0||this[_0x822920(0x10f)]>=0x1)throw new Error(this[_0x822920(0x19c)]+_0x822920(0x207));}get[_0x1ad56f(0x317)](){return this['_inputSize'];}get[_0x1ad56f(0x1ed)](){const _0x50485d=_0x1ad56f;return this[_0x50485d(0x10f)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x52aef3){const _0x32efb6=_0x1ad56f;super(_0x32efb6(0x310)),validateConfig(_0x52aef3),this[_0x32efb6(0x216)]=_0x52aef3;}get[_0x1ad56f(0x2b2)](){return this['_config'];}get[_0x1ad56f(0x142)](){const _0x2e464c=_0x1ad56f;return this['config']['withClassScores']||this[_0x2e464c(0x2b2)][_0x2e464c(0x2b9)][_0x2e464c(0x194)]>0x1;}get[_0x1ad56f(0x245)](){const _0x305ad1=_0x1ad56f;return 0x5+(this[_0x305ad1(0x142)]?this[_0x305ad1(0x2b2)][_0x305ad1(0x2b9)][_0x305ad1(0x194)]:0x0);}['runTinyYolov2'](_0x2b82c1,_0x4aa4f7){const _0x307846=_0x1ad56f;let _0x2adcd4=convWithBatchNorm(_0x2b82c1,_0x4aa4f7['conv0']);return _0x2adcd4=tf39[_0x307846(0x239)](_0x2adcd4,[0x2,0x2],[0x2,0x2],_0x307846(0x163)),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x16b)]),_0x2adcd4=tf39['maxPool'](_0x2adcd4,[0x2,0x2],[0x2,0x2],_0x307846(0x163)),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x26c)]),_0x2adcd4=tf39['maxPool'](_0x2adcd4,[0x2,0x2],[0x2,0x2],_0x307846(0x163)),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x358)]),_0x2adcd4=tf39[_0x307846(0x239)](_0x2adcd4,[0x2,0x2],[0x2,0x2],_0x307846(0x163)),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x28a)]),_0x2adcd4=tf39[_0x307846(0x239)](_0x2adcd4,[0x2,0x2],[0x2,0x2],_0x307846(0x163)),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x179)]),_0x2adcd4=tf39['maxPool'](_0x2adcd4,[0x2,0x2],[0x1,0x1],_0x307846(0x163)),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x18f)]),_0x2adcd4=convWithBatchNorm(_0x2adcd4,_0x4aa4f7[_0x307846(0x214)]),convLayer(_0x2adcd4,_0x4aa4f7[_0x307846(0x128)],_0x307846(0x2fa),![]);}[_0x1ad56f(0x141)](_0x48835d,_0x463007){const _0x2fb018=_0x1ad56f;let _0x51a5e5=this[_0x2fb018(0x2b2)][_0x2fb018(0x133)]?leaky(convLayer(_0x48835d,_0x463007[_0x2fb018(0x1bf)],_0x2fb018(0x2fa),![])):depthwiseSeparableConv2(_0x48835d,_0x463007[_0x2fb018(0x1bf)]);return _0x51a5e5=tf39[_0x2fb018(0x239)](_0x51a5e5,[0x2,0x2],[0x2,0x2],_0x2fb018(0x163)),_0x51a5e5=depthwiseSeparableConv2(_0x51a5e5,_0x463007[_0x2fb018(0x16b)]),_0x51a5e5=tf39[_0x2fb018(0x239)](_0x51a5e5,[0x2,0x2],[0x2,0x2],'same'),_0x51a5e5=depthwiseSeparableConv2(_0x51a5e5,_0x463007[_0x2fb018(0x26c)]),_0x51a5e5=tf39[_0x2fb018(0x239)](_0x51a5e5,[0x2,0x2],[0x2,0x2],'same'),_0x51a5e5=depthwiseSeparableConv2(_0x51a5e5,_0x463007[_0x2fb018(0x358)]),_0x51a5e5=tf39[_0x2fb018(0x239)](_0x51a5e5,[0x2,0x2],[0x2,0x2],_0x2fb018(0x163)),_0x51a5e5=depthwiseSeparableConv2(_0x51a5e5,_0x463007['conv4']),_0x51a5e5=tf39[_0x2fb018(0x239)](_0x51a5e5,[0x2,0x2],[0x2,0x2],_0x2fb018(0x163)),_0x51a5e5=depthwiseSeparableConv2(_0x51a5e5,_0x463007[_0x2fb018(0x179)]),_0x51a5e5=tf39[_0x2fb018(0x239)](_0x51a5e5,[0x2,0x2],[0x1,0x1],_0x2fb018(0x163)),_0x51a5e5=_0x463007['conv6']?depthwiseSeparableConv2(_0x51a5e5,_0x463007[_0x2fb018(0x18f)]):_0x51a5e5,_0x51a5e5=_0x463007[_0x2fb018(0x214)]?depthwiseSeparableConv2(_0x51a5e5,_0x463007['conv7']):_0x51a5e5,convLayer(_0x51a5e5,_0x463007[_0x2fb018(0x128)],_0x2fb018(0x2fa),![]);}[_0x1ad56f(0x241)](_0x3727c7,_0x1c06da){const _0x456d60=_0x1ad56f,{params:_0x53b778}=this;if(!_0x53b778)throw new Error('TinyYolov2\x20-\x20load\x20model\x20before\x20inference');return tf39[_0x456d60(0x258)](()=>{const _0x17f15c=_0x456d60;let _0x416fd4=tf39[_0x17f15c(0x213)](_0x3727c7['toBatchTensor'](_0x1c06da,![]),_0x17f15c(0x347));return _0x416fd4=this[_0x17f15c(0x2b2)][_0x17f15c(0x28b)]?normalize(_0x416fd4,this['config'][_0x17f15c(0x28b)]):_0x416fd4,_0x416fd4=_0x416fd4[_0x17f15c(0x30b)](0xff),this[_0x17f15c(0x2b2)][_0x17f15c(0x15d)]?this[_0x17f15c(0x141)](_0x416fd4,_0x53b778):this[_0x17f15c(0x1d4)](_0x416fd4,_0x53b778);});}async['forward'](_0x5239d9,_0x3df156){const _0x749902=_0x1ad56f;return this[_0x749902(0x241)](await toNetInput(_0x5239d9),_0x3df156);}async['detect'](_0x4edb4d,_0x3e3a7b={}){const _0x58e563=_0x1ad56f,{inputSize:_0x398d4e,scoreThreshold:_0x308522}=new TinyYolov2Options(_0x3e3a7b),_0x53042b=await toNetInput(_0x4edb4d),_0xac17b5=await this[_0x58e563(0x241)](_0x53042b,_0x398d4e),_0x4aa6a8=tf39[_0x58e563(0x258)](()=>tf39[_0x58e563(0x17c)](_0xac17b5)[0x0]['expandDims']()),_0x4e8702={'width':_0x53042b[_0x58e563(0x31c)](0x0),'height':_0x53042b[_0x58e563(0x201)](0x0)},_0x31f108=await this[_0x58e563(0x31e)](_0x4aa6a8,_0x53042b['getReshapedInputDimensions'](0x0),_0x308522);_0xac17b5['dispose'](),_0x4aa6a8[_0x58e563(0xf7)]();const _0x37f877=_0x31f108[_0x58e563(0x248)](_0x16a311=>_0x16a311[_0x58e563(0x1bc)]),_0x130c50=_0x31f108[_0x58e563(0x248)](_0x54ad07=>_0x54ad07[_0x58e563(0x232)]),_0x3ebf4c=_0x31f108['map'](_0x1f7680=>_0x1f7680[_0x58e563(0x33b)]),_0x4cc174=_0x31f108[_0x58e563(0x248)](_0x27fcc3=>this[_0x58e563(0x2b2)][_0x58e563(0x2b9)][_0x27fcc3[_0x58e563(0x282)]]),_0x47a53a=nonMaxSuppression(_0x37f877[_0x58e563(0x248)](_0x5e2e6d=>_0x5e2e6d[_0x58e563(0x296)](_0x398d4e)),_0x130c50,this['config'][_0x58e563(0x175)],!![]),_0x4092f2=_0x47a53a[_0x58e563(0x248)](_0x483b82=>new ObjectDetection(_0x130c50[_0x483b82],_0x3ebf4c[_0x483b82],_0x4cc174[_0x483b82],_0x37f877[_0x483b82],_0x4e8702));return _0x4092f2;}[_0x1ad56f(0x1be)](){return'';}[_0x1ad56f(0x1d6)](_0x171029){const _0x147c40=_0x1ad56f;return extractParamsFromWeightMap7(_0x171029,this[_0x147c40(0x2b2)]);}['extractParams'](_0x41a4d1){const _0x266678=_0x1ad56f,_0x2acc68=this['config'][_0x266678(0x329)]||_TinyYolov2Base[_0x266678(0x1a5)],_0x2961d6=_0x2acc68?_0x2acc68[_0x266678(0x194)]:void 0x0;if(_0x2961d6!==0x7&&_0x2961d6!==0x8&&_0x2961d6!==0x9)throw new Error('TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20'+_0x2961d6+_0x266678(0x303));return extractParams7(_0x41a4d1,this[_0x266678(0x2b2)],this[_0x266678(0x245)],_0x2acc68);}async[_0x1ad56f(0x31e)](_0x15cee0,_0xd98ed,_0xcf6a38){const _0x1263e5=_0x1ad56f,{width:_0x358e46,height:_0x1ed52f}=_0xd98ed,_0x494d5f=Math[_0x1263e5(0x170)](_0x358e46,_0x1ed52f),_0x31f17a=_0x494d5f/_0x358e46,_0x17cb35=_0x494d5f/_0x1ed52f,_0x264c0c=_0x15cee0[_0x1263e5(0x1b2)][0x1],_0x118694=this[_0x1263e5(0x2b2)][_0x1263e5(0x192)][_0x1263e5(0x194)],[_0x615899,_0x36c09e,_0x218437]=tf39['tidy'](()=>{const _0x2b7afa=_0x1263e5,_0x263835=_0x15cee0[_0x2b7afa(0x265)]([_0x264c0c,_0x264c0c,_0x118694,this['boxEncodingSize']]),_0x35d2a6=_0x263835['slice']([0x0,0x0,0x0,0x0],[_0x264c0c,_0x264c0c,_0x118694,0x4]),_0x135631=_0x263835[_0x2b7afa(0x22d)]([0x0,0x0,0x0,0x4],[_0x264c0c,_0x264c0c,_0x118694,0x1]),_0x37023e=this[_0x2b7afa(0x142)]?tf39[_0x2b7afa(0x311)](_0x263835[_0x2b7afa(0x22d)]([0x0,0x0,0x0,0x5],[_0x264c0c,_0x264c0c,_0x118694,this[_0x2b7afa(0x2b2)][_0x2b7afa(0x2b9)][_0x2b7afa(0x194)]]),0x3):tf39['scalar'](0x0);return[_0x35d2a6,_0x135631,_0x37023e];}),_0x2409ce=[],_0x1341f6=await _0x36c09e['array'](),_0x39e4b7=await _0x615899['array']();for(let _0x20d2ea=0x0;_0x20d2ea<_0x264c0c;_0x20d2ea++){for(let _0x194f37=0x0;_0x194f37<_0x264c0c;_0x194f37++){for(let _0x505277=0x0;_0x505277<_0x118694;_0x505277++){const _0x2a29f2=sigmoid(_0x1341f6[_0x20d2ea][_0x194f37][_0x505277][0x0]);if(!_0xcf6a38||_0x2a29f2>_0xcf6a38){const _0x1deed9=(_0x194f37+sigmoid(_0x39e4b7[_0x20d2ea][_0x194f37][_0x505277][0x0]))/_0x264c0c*_0x31f17a,_0x242bcd=(_0x20d2ea+sigmoid(_0x39e4b7[_0x20d2ea][_0x194f37][_0x505277][0x1]))/_0x264c0c*_0x17cb35,_0x1f7f34=Math[_0x1263e5(0x160)](_0x39e4b7[_0x20d2ea][_0x194f37][_0x505277][0x2])*this[_0x1263e5(0x2b2)][_0x1263e5(0x192)][_0x505277]['x']/_0x264c0c*_0x31f17a,_0x18bcd3=Math[_0x1263e5(0x160)](_0x39e4b7[_0x20d2ea][_0x194f37][_0x505277][0x3])*this[_0x1263e5(0x2b2)][_0x1263e5(0x192)][_0x505277]['y']/_0x264c0c*_0x17cb35,_0x13eecf=_0x1deed9-_0x1f7f34/0x2,_0x48595a=_0x242bcd-_0x18bcd3/0x2,_0x34014b={'row':_0x20d2ea,'col':_0x194f37,'anchor':_0x505277},{classScore:_0xc5f7dd,label:_0x589ab9}=this[_0x1263e5(0x142)]?await this[_0x1263e5(0x34d)](_0x218437,_0x34014b):{'classScore':0x1,'label':0x0};_0x2409ce[_0x1263e5(0x31b)]({'box':new BoundingBox(_0x13eecf,_0x48595a,_0x13eecf+_0x1f7f34,_0x48595a+_0x18bcd3),'score':_0x2a29f2,'classScore':_0x2a29f2*_0xc5f7dd,'label':_0x589ab9,..._0x34014b});}}}}return _0x615899[_0x1263e5(0xf7)](),_0x36c09e[_0x1263e5(0xf7)](),_0x218437[_0x1263e5(0xf7)](),_0x2409ce;}async['extractPredictedClass'](_0x3a59cd,_0x2b1abc){const _0x149b6f=_0x1ad56f,{row:_0x26282b,col:_0x89099e,anchor:_0x418c95}=_0x2b1abc,_0x328147=await _0x3a59cd['array']();return Array(this[_0x149b6f(0x2b2)][_0x149b6f(0x2b9)][_0x149b6f(0x194)])[_0x149b6f(0x281)](0x0)[_0x149b6f(0x248)]((_0x1c2d59,_0xc810dc)=>_0x328147[_0x26282b][_0x89099e][_0x418c95][_0xc810dc])[_0x149b6f(0x248)]((_0xe0dca,_0x3dc244)=>({'classScore':_0xe0dca,'label':_0x3dc244}))['reduce']((_0x310306,_0x194b08)=>_0x310306['classScore']>_0x194b08[_0x149b6f(0x33b)]?_0x310306:_0x194b08);}},TinyYolov2Base=_TinyYolov2Base;function _0x4830(){const _0x1ca17d=['_params','prediction_layer','/BatchNorm/moving_mean','/pointwise_conv','drawImage','positions','https://','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','_minConfidence','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','2vZqjeS','config','_label','dense0','loadFromWeightMap','videoWidth','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','conv256_1','classes','width','getRightEyeBrow','bottom','mobilenetv1/conv_0','MobilenetV1/Conv2d_','mobilenetv1/conv_9','blob','as1D','_labeledDescriptors','tinyFaceDetector','conv_6','data','alignedRect','\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number','conv32_down','surprised','transpose','pop','BOTTOM_RIGHT','computeMeanDistance','isNodejs','conv256_down','avgPool','main_block_','weightsLoaderFactory','1108356UKJTRL','toInt','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','assertIsValidBox','createImageElement','tiny_face_detector_model','dense2','getParamFromPath','isRect','rgba(255,\x20255,\x20255,\x201)','/separable_conv0','abs','undefined','HTMLCanvasElement','getRefPointsForAlignment','_distanceThreshold','separable_conv1','fillText','prediction_layer/conv_7','conv_12','default','FaceExpressionNet','url','all','measureHeight','separable_conv','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','-weights_manifest.json','tiny_yolov2_separable_conv_model','\x20-\x20invalid\x20box:\x20','\x20-\x20expected\x20property\x20label\x20(','_height','descriptors','_inputDimensions','create','Canvas','paramMappings','landmarks','runAndExtendWithFaceDetection','valid','\x20-\x20load\x20model\x20before\x20inference','ageGenderNet','happy','getUpperLeft','unknown','_inputSize','calibrate','tensor4d','\x20filterSizes\x20in\x20config','relu','FaceLandmark68Net','conv_3','/separable_conv2','number','mul','/bias','div','reassignParamFromPath','conv64_2','prediction_layer/conv_3','mobilenetv1/conv_2','TinyYolov2','softmax','dataSync','removeEventListener','versions','/BatchNorm/beta','object','inputSize',',\x20filterSize:\x20','TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','from','push','getInputWidth','probability','extractBoxes','weights','traversePropertyPath','descriptor','depthwiseConv2d','sad','classPrediction','_classScore','getOwnPropertyDescriptor',')\x20must\x20be\x20positive\x20numbers','2670285ZEWUsB','filterSizes','dense1','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','zeros','TinyXception','naturalWidth','replace','readAsDataURL','conv128_2','distanceThreshold','variable','Prediction/BoxPredictor_','female','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','/depthwise_conv','parentTask','forSize','box_predictor_5','classScore','reduction_block','.loadFromUri\x20-\x20expected\x20model\x20uri','FaceRecognitionNet','arraySync','findBestMatch','box_predictor_2','mobilenetv1/conv_13','strokeRect','draw','loadFromUri','ssd_mobilenetv1_model','float32','withFaceDescriptors','fearful','detectLandmarks','/conv1','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','extractPredictedClass','FaceFeatureExtractor','rgba(0,\x20255,\x20255,\x201)','HTMLVideoElement','TinyYolov2Options','/biases','reduce','anchorPosition','mobilenetv1/conv_12','TinyFaceDetectorOptions','faceRecognitionNet','conv3','createElement','person\x20','_descriptors','_treatAsBatchInput','getReshapedInputDimensions','tiny_xception_model','toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','box_predictor_3','/scale/biases','male','hasOwnProperty','Prediction','exit_flow','BOTTOM_LEFT','conv_2','7eVGQSx','type','drawLabelOptions','createObjectURL','isDisposed','411522HoqdJd','round','fc/gender','computeFaceDescriptor','conv64_down','top','resizeResults\x20-\x20invalid\x20dimensions:\x20','/box_encoding_predictor','TOP_LEFT','startsWith','statusText','alignDlib','face_recognition_model','naturalHeight','reduction_block_1','Video','result','_pointwise/convolution_bn_offset','dispose','TinyFaceFeatureExtractor','disgusted','faceLandmark68Net','.json','readFile','isLoaded','expressions','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','getFrozenParams','boxColor','_depthwise',')\x20and\x20(','bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','/weights','_maxResults','error','http://','batchNorm','/pointwise_filter','imageDims','moveTo','toBatchTensor','as3D','_scoreThreshold','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','random','freeze','string','Georgia','reverse','/expansion_conv','enumerable','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','catch','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','className','_width','asSortedArray','conv_7','9UGJKNf','/conv/bias','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','topLeft','add','video','prediction_layer/box_predictor_4/class_predictor','getTrainableParams','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','conv8','_imgDims','middle_flow/main_block_','as2D','shift','join','muted','prediction_layer/box_predictor_0/class_predictor','1052165AokaSR','batch_norm_offset','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','isFirstLayerConv2d','nextObj','addEventListener','/batch_norm_mean','_score','measureWidth','predictExpressions','topRight','withFaceDescriptor','img',',\x20weights.length:\x20','mobilenetv1/conv_11','CanvasRenderingContext2D','prediction_layer/conv_4','runMobilenet','withClassScores','_canvases','extra_dim','shiftByPoint','options','withFaceExpressions','/BatchNorm/moving_variance','Output/extra_dim','ImageData',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','fillStyle','truediv','imageTensors','_className','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','entry_flow','relativePositions',']\x20to\x20be\x20a\x20Tensor','keys','font','complete','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','bias','exit_flow/reduction_block','right','batch_norm_mean','3526180mxmkBL','withSeparableConvs','fromJSON','mobilenetv1/conv_7','exp','ComposableTask\x20-\x20run\x20is\x20not\x20implemented','face','same','tensor3d','filter','alignMinBbox','prototype','_imageDims','toPixels','getLeftEyeBrow','conv1',',\x20numFilters:\x20','neutral','prediction_layer/box_predictor_3/box_encoding_predictor','isArray','max','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','ssdMobilenetv1','depthwise_filter','runAndExtendWithFaceDetections','iouThreshold','/sub','conv_in','conv_0','conv5','some','batch_norm_scale','unstack','getNose','distance','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','onerror','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','conv11','/class_predictor','sub','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','_shift','lineWidth','/conv/filters','getJawOutline','\x20-\x20expected\x20properties\x20score\x20(','dense3','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','prediction_layer/box_predictor_1/class_predictor','conv6','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','conv_11','anchors','createCanvasElement','length','clipByValue','align','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','_distance','getContext','prediction_layer/box_predictor_5/class_predictor','assertIsValidLabeledBox','_name','/Conv2d_','conv32_3','drawLines','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','left','DEFAULT_FILTER_SIZES','scalar','conv256_down_out','mobilenetv1/conv_6','area','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','relativeBox','mobilenetv1/conv_10','TOP_RIGHT','conv32_2','detection','/filters','/conv2','shape','px\x20','face_landmark_68_model','conv64_3','mobilenetv1/conv_1','fillRect','/BatchNorm/gamma','toNetInput\x20-','anchor','_pointwise/weights','box','call','getDefaultModelName','conv0','conv_13','split','runNet','face_expression_model','bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload','conv_4','playsInline','toString','withAgeAndGender','13791880TDygvp','shiftBy','defineProperty','fromPixels','locateFaces','parse','prediction_layer/box_predictor_1/box_encoding_predictor','pointColor','/batch_norm_offset','mobilenetv1/conv_5','/separable_conv1','runTinyYolov2','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','extractParamsFromWeightMap','sigmoid','/bn','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','pointwise_filter',')\x20to\x20be\x20a\x20number',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','fc/age','clipAtImageBorders','output_layer/extra_dim','scale','5xbgeiW','expected\x20weightMap[','getEnv','HTMLImageElement','Tensor','imageWidth','prediction_layer/conv_0','withFaceLandmarks','faceLandmarks','landmarkNet','inputDimensions','endsWith','scoreThreshold','getOwnPropertyNames','boolean','params','box_encoding_predictor','input','extractWeights','browser','sort','postProcess','Box.constructor','getInputDimensions','Variable','angry','conv2d','entry_flow/conv_in','batchSize','onload','separableConv2d',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]','getInputHeight','getMouth','fetch','class_predictor','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','getInput','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','fontColor','mobilenetv1/conv_4','/scale/weights','/scale','conv_1','gender','/batch_norm_scale','loadWeights','toBatchTensor\x20-\x20at\x20batchIdx\x20','forward','magnitude','cast','conv7','tinyYolov2','_config','readyState','prediction_layer/box_predictor_','face_feature_extractor_model','play','getLeftEye','floor','text','age_gender_model','/batch_norm_variance','_paramMappings','depthwise_conv','conv128_down','_faceFeatureExtractor','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','99WdONrr','arc','exports','prediction_layer/box_predictor_0/box_encoding_predictor','min','getRightEye','load','getParamList','slice','Image','labeledDescriptors','prediction_layer/box_predictor_2/box_encoding_predictor','mobilenetv1/conv_8','score','boxPredictionEncoding','forEach','conv_9','slice3d','MALE','reshapedInputDimensions','maxPool','extractParams','box_predictor_4','prediction_layer/conv_6','tensor','_imageTensors','assertIsValidPredictedBox','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','forwardInput',',\x20from\x20url:\x20','/depthwise_filter','AgeGenderNet','boxEncodingSize','separable_conv0','prediction_layer/conv_1','map','lineColor','bottomRight','conv256_2','getClassifierChannelsOut','createVideoElement','expression','arrayBuffer','getClassifierChannelsIn','/conv0','faceFeatureExtractor','status','getPrototypeOf','matMul','boxIndex',',\x20for\x20url:\x20','tidy','toSquare','mobilenetv1/conv_','output_layer','then','conv_5','concat','faceLandmark68TinyNet','predictAgeAndGender','prediction_layer/box_predictor_4/box_encoding_predictor','height','/truediv','loadClassifierParams','reshape','canvas','pointwise_conv','imageHeight','conv32_1','\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id','tile','conv2','middle_flow','extractedFaces','strokeStyle','extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported','faceExpressionNet','useTinyLandmarkNet','depth\x20has\x20to\x20be\x20an\x20integer:\x20','prediction_layer/box_predictor_2/class_predictor','conv128_1','conv','stack','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','_numMainBlocks','tensor1d','canvases','pad','getImageData','_positions','__esModule','weights\x20remaing\x20after\x20extract:\x20','fill','label','video/','currentTarget','serializeParams','\x20tf.Tensor4D\x20with\x20batchSize\x20','filters','rgba(255,\x200,\x20255,\x201)','isBatchInput','conv4','meanRgb','expandDims','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment','matchDescriptor','stringify','path','sqrt','src','prediction_layer/conv_5','_batchSize','rescale','_box','mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null','function','lineTo','3079368oRdmMm','extractClassifierParams','reduction_block_0','/conv3','run','every','/conv','entry_flow/reduction_block_1','age','toJSON','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','FaceLandmark68TinyNet'];_0x4830=function(){return _0x1ca17d;};return _0x4830();}TinyYolov2Base[_0x1ad56f(0x1a5)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x5c7bc1=!![]){const _0x30f6ff=_0x1ad56f,_0x2210f4={'withSeparableConvs':_0x5c7bc1,'iouThreshold':IOU_THRESHOLD,'classes':[_0x30f6ff(0x162)],..._0x5c7bc1?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x2210f4);}get[_0x1ad56f(0x15d)](){const _0x4063b7=_0x1ad56f;return this[_0x4063b7(0x2b2)]['withSeparableConvs'];}get['anchors'](){const _0x3a58b0=_0x1ad56f;return this[_0x3a58b0(0x2b2)][_0x3a58b0(0x192)];}async['locateFaces'](_0x5c55a7,_0x58f736){const _0x1c0d7d=_0x1ad56f,_0x3b07a7=await this['detect'](_0x5c55a7,_0x58f736);return _0x3b07a7[_0x1c0d7d(0x248)](_0x36e3d2=>new FaceDetection(_0x36e3d2['score'],_0x36e3d2[_0x1c0d7d(0x1ab)],{'width':_0x36e3d2[_0x1c0d7d(0x1e6)],'height':_0x36e3d2[_0x1c0d7d(0x268)]}));}[_0x1ad56f(0x1be)](){const _0x1a9856=_0x1ad56f;return this[_0x1a9856(0x15d)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x1ad56f(0x1d6)](_0x2c5930){const _0x4dd4df=_0x1ad56f;return super[_0x4dd4df(0x1d6)](_0x2c5930);}};function createTinyYolov2(_0x1b73ac,_0x5141be=!![]){const _0x225360=_0x1ad56f,_0x767d3b=new TinyYolov2(_0x5141be);return _0x767d3b[_0x225360(0x1f3)](_0x1b73ac),_0x767d3b;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x53cbb4=_0x1ad56f;super(...arguments),this[_0x53cbb4(0x19c)]=_0x53cbb4(0x356);}},ComposableTask=class{async[_0x1ad56f(0x25c)](_0x346a4a){return _0x346a4a(await this['run']());}async[_0x1ad56f(0x29f)](){const _0x245430=_0x1ad56f;throw new Error(_0x245430(0x161));}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x26bb5,_0x37b79d,_0x527818,_0x11c8df,_0x5a1954=({alignedRect:_0x1e16e1})=>_0x1e16e1){const _0x1428b1=_0x1ad56f,_0x833da=_0x26bb5[_0x1428b1(0x248)](_0x1b4dce=>isWithFaceLandmarks(_0x1b4dce)?_0x5a1954(_0x1b4dce):_0x1b4dce[_0x1428b1(0x1af)]),_0x125164=_0x11c8df||(_0x37b79d instanceof tf40[_0x1428b1(0x1e5)]?await extractFaceTensors(_0x37b79d,_0x833da):await extractFaces(_0x37b79d,_0x833da)),_0x245795=await _0x527818(_0x125164);return _0x125164['forEach'](_0x525241=>_0x525241 instanceof tf40[_0x1428b1(0x1e5)]&&_0x525241['dispose']()),_0x245795;}async function extractSingleFaceAndComputeResult(_0x4cf2f6,_0xf410f7,_0x30ae8a,_0x8b9f92,_0x1e4dcb){return extractAllFacesAndComputeResults([_0x4cf2f6],_0xf410f7,async _0x102e50=>_0x30ae8a(_0x102e50[0x0]),_0x8b9f92,_0x1e4dcb);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x41f92e={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':['face'],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x41f92e);}get['anchors'](){const _0x5db273=_0x1ad56f;return this[_0x5db273(0x2b2)]['anchors'];}async[_0x1ad56f(0x1cd)](_0x437fb1,_0xf7c639){const _0x334768=_0x1ad56f,_0x382973=await this['detect'](_0x437fb1,_0xf7c639);return _0x382973['map'](_0xfa2c0f=>new FaceDetection(_0xfa2c0f[_0x334768(0x232)],_0xfa2c0f[_0x334768(0x1ab)],{'width':_0xfa2c0f[_0x334768(0x1e6)],'height':_0xfa2c0f[_0x334768(0x268)]}));}[_0x1ad56f(0x1be)](){const _0x4dcf89=_0x1ad56f;return _0x4dcf89(0x2d8);}[_0x1ad56f(0x1d6)](_0x3bb4f0){const _0x3a799f=_0x1ad56f;return super[_0x3a799f(0x1d6)](_0x3bb4f0);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x4cd68c,_0x31ff0d)=>nets[_0x1ad56f(0x172)]['locateFaces'](_0x4cd68c,_0x31ff0d),tinyFaceDetector=(_0x1259a3,_0x1c0590)=>nets[_0x1ad56f(0x2c3)]['locateFaces'](_0x1259a3,_0x1c0590),tinyYolov2=(_0x117d62,_0xb5e505)=>nets[_0x1ad56f(0x215)]['locateFaces'](_0x117d62,_0xb5e505),detectFaceLandmarks=_0x35f78c=>nets[_0x1ad56f(0xfa)]['detectLandmarks'](_0x35f78c),detectFaceLandmarksTiny=_0x177fe9=>nets[_0x1ad56f(0x25f)][_0x1ad56f(0x34a)](_0x177fe9),computeFaceDescriptor=_0x2f2c85=>nets[_0x1ad56f(0x357)][_0x1ad56f(0xe8)](_0x2f2c85),recognizeFaceExpressions=_0x35fcae=>nets[_0x1ad56f(0x271)]['predictExpressions'](_0x35fcae),predictAgeAndGender=_0x1cf9d2=>nets[_0x1ad56f(0x2fc)][_0x1ad56f(0x260)](_0x1cf9d2),loadSsdMobilenetv1Model=_0x22ef27=>nets[_0x1ad56f(0x172)][_0x1ad56f(0x22b)](_0x22ef27),loadTinyFaceDetectorModel=_0x56ed02=>nets[_0x1ad56f(0x2c3)][_0x1ad56f(0x22b)](_0x56ed02),loadTinyYolov2Model=_0x59f4de=>nets['tinyYolov2'][_0x1ad56f(0x22b)](_0x59f4de),loadFaceLandmarkModel=_0x3f0517=>nets[_0x1ad56f(0xfa)][_0x1ad56f(0x22b)](_0x3f0517),loadFaceLandmarkTinyModel=_0x278785=>nets['faceLandmark68TinyNet'][_0x1ad56f(0x22b)](_0x278785),loadFaceRecognitionModel=_0x219a04=>nets[_0x1ad56f(0x357)][_0x1ad56f(0x22b)](_0x219a04),loadFaceExpressionModel=_0x30ab95=>nets[_0x1ad56f(0x271)][_0x1ad56f(0x22b)](_0x30ab95),loadAgeGenderModel=_0x88724a=>nets[_0x1ad56f(0x2fc)][_0x1ad56f(0x22b)](_0x88724a),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x2ca15f,_0x124a73,_0x4d4510){const _0x2025cd=_0x1ad56f;super(),this['parentTask']=_0x2ca15f,this['input']=_0x124a73,this[_0x2025cd(0x26e)]=_0x4d4510;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x1ad56f(0x29f)](){const _0x15a9aa=_0x1ad56f,_0x51f5a9=await this[_0x15a9aa(0x338)],_0x3c53dc=await extractAllFacesAndComputeResults(_0x51f5a9,this[_0x15a9aa(0x1f2)],async _0x5b13ef=>Promise[_0x15a9aa(0x2ea)](_0x5b13ef[_0x15a9aa(0x248)](_0x4f6d66=>nets[_0x15a9aa(0x271)][_0x15a9aa(0x139)](_0x4f6d66))),this['extractedFaces']);return _0x51f5a9[_0x15a9aa(0x248)]((_0x5a363c,_0x2c169b)=>extendWithFaceExpressions(_0x5a363c,_0x3c53dc[_0x2c169b]));}[_0x1ad56f(0x1c8)](){return new PredictAllAgeAndGenderTask(this,this['input']);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x1ad56f(0x29f)](){const _0x45b512=_0x1ad56f,_0x144c07=await this['parentTask'];if(!_0x144c07)return void 0x0;const _0x586571=await extractSingleFaceAndComputeResult(_0x144c07,this[_0x45b512(0x1f2)],_0x478f99=>nets[_0x45b512(0x271)]['predictExpressions'](_0x478f99),this[_0x45b512(0x26e)]);return extendWithFaceExpressions(_0x144c07,_0x586571);}['withAgeAndGender'](){const _0x319fc4=_0x1ad56f;return new PredictSingleAgeAndGenderTask(this,this[_0x319fc4(0x1f2)]);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{[_0x1ad56f(0x1c8)](){const _0xec4780=_0x1ad56f;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0xec4780(0x1f2)]);}[_0x1ad56f(0x348)](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x1ad56f(0x1c8)](){const _0x4ae005=_0x1ad56f;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x4ae005(0x1f2)]);}[_0x1ad56f(0x13b)](){return new ComputeSingleFaceDescriptorTask(this,this['input']);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x168a0c,_0xf51b92,_0x26ebbb){const _0x498b61=_0x1ad56f;super(),this[_0x498b61(0x338)]=_0x168a0c,this['input']=_0xf51b92,this[_0x498b61(0x26e)]=_0x26ebbb;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x1ad56f(0x29f)](){const _0x46e5ef=_0x1ad56f,_0x1247e4=await this[_0x46e5ef(0x338)],_0x1c671f=await extractAllFacesAndComputeResults(_0x1247e4,this['input'],async _0x4272ae=>Promise['all'](_0x4272ae[_0x46e5ef(0x248)](_0x4647ab=>nets[_0x46e5ef(0x2fc)][_0x46e5ef(0x260)](_0x4647ab))),this[_0x46e5ef(0x26e)]);return _0x1247e4[_0x46e5ef(0x248)]((_0x18975a,_0x33fa83)=>{const {age:_0x42dc5b,gender:_0x4fd6ac,genderProbability:_0x5a6eb3}=_0x1c671f[_0x33fa83];return extendWithAge(extendWithGender(_0x18975a,_0x4fd6ac,_0x5a6eb3),_0x42dc5b);});}[_0x1ad56f(0x147)](){const _0x1d6b28=_0x1ad56f;return new PredictAllFaceExpressionsTask(this,this[_0x1d6b28(0x1f2)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x1ad56f(0x29f)](){const _0x468ddf=_0x1ad56f,_0x4dff57=await this[_0x468ddf(0x338)];if(!_0x4dff57)return void 0x0;const {age:_0x598033,gender:_0x417d74,genderProbability:_0x95abaa}=await extractSingleFaceAndComputeResult(_0x4dff57,this[_0x468ddf(0x1f2)],_0x306bbe=>nets[_0x468ddf(0x2fc)][_0x468ddf(0x260)](_0x306bbe),this[_0x468ddf(0x26e)]);return extendWithAge(extendWithGender(_0x4dff57,_0x417d74,_0x95abaa),_0x598033);}['withFaceExpressions'](){const _0x174214=_0x1ad56f;return new PredictSingleFaceExpressionsTask(this,this[_0x174214(0x1f2)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x1ad56f(0x147)](){const _0xe2a78a=_0x1ad56f;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0xe2a78a(0x1f2)]);}['withFaceDescriptors'](){const _0x559a85=_0x1ad56f;return new ComputeAllFaceDescriptorsTask(this,this[_0x559a85(0x1f2)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{['withFaceExpressions'](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x1ad56f(0x13b)](){const _0x5a1632=_0x1ad56f;return new ComputeSingleFaceDescriptorTask(this,this[_0x5a1632(0x1f2)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x443a8,_0x4a8d09){const _0x3bd0db=_0x1ad56f;super(),this[_0x3bd0db(0x338)]=_0x443a8,this[_0x3bd0db(0x1f2)]=_0x4a8d09;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x1ad56f(0x29f)](){const _0x352a7e=_0x1ad56f,_0x3ec09d=await this[_0x352a7e(0x338)],_0x2bfb1c=await extractAllFacesAndComputeResults(_0x3ec09d,this[_0x352a7e(0x1f2)],_0x74c160=>Promise[_0x352a7e(0x2ea)](_0x74c160['map'](_0x4e73aa=>nets[_0x352a7e(0x357)][_0x352a7e(0xe8)](_0x4e73aa))),null,_0x608c11=>_0x608c11[_0x352a7e(0x2f8)][_0x352a7e(0x196)](null,{'useDlibAlignment':!![]}));return _0x2bfb1c[_0x352a7e(0x248)]((_0x5ac529,_0x1e8118)=>extendWithFaceDescriptor(_0x3ec09d[_0x1e8118],_0x5ac529));}[_0x1ad56f(0x147)](){const _0x3e653d=_0x1ad56f;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x3e653d(0x1f2)]);}[_0x1ad56f(0x1c8)](){const _0x192764=_0x1ad56f;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x192764(0x1f2)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async['run'](){const _0xa8335d=_0x1ad56f,_0x5a8257=await this[_0xa8335d(0x338)];if(!_0x5a8257)return void 0x0;const _0x42e870=await extractSingleFaceAndComputeResult(_0x5a8257,this[_0xa8335d(0x1f2)],_0x1715a9=>nets[_0xa8335d(0x357)]['computeFaceDescriptor'](_0x1715a9),null,_0x143d64=>_0x143d64['landmarks']['align'](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x5a8257,_0x42e870);}['withFaceExpressions'](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x1ad56f(0x1c8)](){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this['input']);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0xa3655,_0x3b4979,_0xf42f60){const _0x490b1e=_0x1ad56f;super(),this['parentTask']=_0xa3655,this[_0x490b1e(0x1f2)]=_0x3b4979,this[_0x490b1e(0x272)]=_0xf42f60;}get[_0x1ad56f(0x1ea)](){const _0x24f63f=_0x1ad56f;return this['useTinyLandmarkNet']?nets[_0x24f63f(0x25f)]:nets[_0x24f63f(0xfa)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x1ad56f(0x29f)](){const _0x16ae57=_0x1ad56f,_0x3af939=await this[_0x16ae57(0x338)],_0x59f58e=_0x3af939[_0x16ae57(0x248)](_0x578d1e=>_0x578d1e[_0x16ae57(0x1af)]),_0x2f2f6f=this['input']instanceof tf41['Tensor']?await extractFaceTensors(this[_0x16ae57(0x1f2)],_0x59f58e):await extractFaces(this[_0x16ae57(0x1f2)],_0x59f58e),_0x487632=await Promise[_0x16ae57(0x2ea)](_0x2f2f6f[_0x16ae57(0x248)](_0xfed212=>this[_0x16ae57(0x1ea)]['detectLandmarks'](_0xfed212)));_0x2f2f6f[_0x16ae57(0x234)](_0x2db27a=>_0x2db27a instanceof tf41[_0x16ae57(0x1e5)]&&_0x2db27a[_0x16ae57(0xf7)]());const _0xc310fe=_0x3af939['filter']((_0x511b1e,_0x5f1586)=>_0x487632[_0x5f1586])[_0x16ae57(0x248)]((_0x17de22,_0x2ccb83)=>extendWithFaceLandmarks(_0x17de22,_0x487632[_0x2ccb83]));return _0xc310fe;}[_0x1ad56f(0x147)](){const _0x203c54=_0x1ad56f;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x203c54(0x1f2)]);}[_0x1ad56f(0x1c8)](){const _0x548599=_0x1ad56f;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x548599(0x1f2)]);}[_0x1ad56f(0x348)](){const _0x3ba23e=_0x1ad56f;return new ComputeAllFaceDescriptorsTask(this,this[_0x3ba23e(0x1f2)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async['run'](){const _0x3cd1e1=_0x1ad56f,_0x50be82=await this[_0x3cd1e1(0x338)];if(!_0x50be82)return void 0x0;const {detection:_0x9bfdaf}=_0x50be82,_0x4d4d33=this[_0x3cd1e1(0x1f2)]instanceof tf41[_0x3cd1e1(0x1e5)]?await extractFaceTensors(this[_0x3cd1e1(0x1f2)],[_0x9bfdaf]):await extractFaces(this['input'],[_0x9bfdaf]),_0x7bf35c=await this['landmarkNet']['detectLandmarks'](_0x4d4d33[0x0]);return _0x4d4d33['forEach'](_0x4f1828=>_0x4f1828 instanceof tf41['Tensor']&&_0x4f1828[_0x3cd1e1(0xf7)]()),extendWithFaceLandmarks(_0x50be82,_0x7bf35c);}[_0x1ad56f(0x147)](){const _0x10dd5f=_0x1ad56f;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x10dd5f(0x1f2)]);}['withAgeAndGender'](){const _0xce25f6=_0x1ad56f;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0xce25f6(0x1f2)]);}[_0x1ad56f(0x13b)](){const _0x50a909=_0x1ad56f;return new ComputeSingleFaceDescriptorTask(this,this[_0x50a909(0x1f2)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x32199d,_0x3b3bb3=new SsdMobilenetv1Options()){const _0xc7106d=_0x1ad56f;super(),this[_0xc7106d(0x1f2)]=_0x32199d,this[_0xc7106d(0x146)]=_0x3b3bb3;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x1ad56f(0x29f)](){const _0x2436e0=_0x1ad56f,{input:_0x1a7510,options:_0x4ae0c4}=this;let _0x4db790;if(_0x4ae0c4 instanceof TinyFaceDetectorOptions)_0x4db790=nets[_0x2436e0(0x2c3)][_0x2436e0(0x1cd)](_0x1a7510,_0x4ae0c4);else{if(_0x4ae0c4 instanceof SsdMobilenetv1Options)_0x4db790=nets[_0x2436e0(0x172)][_0x2436e0(0x1cd)](_0x1a7510,_0x4ae0c4);else{if(_0x4ae0c4 instanceof TinyYolov2Options)_0x4db790=nets['tinyYolov2'][_0x2436e0(0x1cd)](_0x1a7510,_0x4ae0c4);else throw new Error(_0x2436e0(0x2b7));}}return _0x4db790;}[_0x1ad56f(0x174)](){return new Promise((_0x208a79,_0x75ff09)=>{const _0x4d983e=_0x5530;this[_0x4d983e(0x29f)]()[_0x4d983e(0x25c)](_0x4bdcaa=>_0x208a79(_0x4bdcaa[_0x4d983e(0x248)](_0x5b4f06=>extendWithFaceDetection({},_0x5b4f06))))[_0x4d983e(0x119)](_0x1f710a=>_0x75ff09(_0x1f710a));});}[_0x1ad56f(0x1e8)](_0xa1704f=![]){const _0x40d957=_0x1ad56f;return new DetectAllFaceLandmarksTask(this[_0x40d957(0x174)](),this[_0x40d957(0x1f2)],_0xa1704f);}[_0x1ad56f(0x147)](){const _0x4cac31=_0x1ad56f;return new PredictAllFaceExpressionsTask(this[_0x4cac31(0x174)](),this['input']);}[_0x1ad56f(0x1c8)](){const _0x467ea1=_0x1ad56f;return new PredictAllAgeAndGenderTask(this['runAndExtendWithFaceDetections'](),this[_0x467ea1(0x1f2)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x1ad56f(0x29f)](){const _0x3e9aa2=_0x1ad56f,_0x1bb4ee=await new DetectAllFacesTask(this[_0x3e9aa2(0x1f2)],this['options']);let _0x2efe45=_0x1bb4ee[0x0];return _0x1bb4ee[_0x3e9aa2(0x234)](_0x4c2765=>{const _0x157149=_0x3e9aa2;if(_0x4c2765[_0x157149(0x232)]>_0x2efe45['score'])_0x2efe45=_0x4c2765;}),_0x2efe45;}[_0x1ad56f(0x2f9)](){return new Promise(async _0x4c4d69=>{const _0x470b41=_0x5530,_0x43fb05=await this[_0x470b41(0x29f)]();_0x4c4d69(_0x43fb05?extendWithFaceDetection({},_0x43fb05):void 0x0);});}[_0x1ad56f(0x1e8)](_0x490468=![]){const _0x27582b=_0x1ad56f;return new DetectSingleFaceLandmarksTask(this[_0x27582b(0x2f9)](),this[_0x27582b(0x1f2)],_0x490468);}[_0x1ad56f(0x147)](){const _0x5b64c3=_0x1ad56f;return new PredictSingleFaceExpressionsTask(this['runAndExtendWithFaceDetection'](),this[_0x5b64c3(0x1f2)]);}[_0x1ad56f(0x1c8)](){const _0x4ea2cd=_0x1ad56f;return new PredictSingleAgeAndGenderTask(this['runAndExtendWithFaceDetection'](),this[_0x4ea2cd(0x1f2)]);}};function detectSingleFace(_0x4a0556,_0x1c8705=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x4a0556,_0x1c8705);}function detectAllFaces(_0x41a383,_0x356137=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x41a383,_0x356137);}async function allFacesSsdMobilenetv1(_0x277b8a,_0x254a43){const _0x383d1d=_0x1ad56f;return detectAllFaces(_0x277b8a,new SsdMobilenetv1Options(_0x254a43?{'minConfidence':_0x254a43}:{}))[_0x383d1d(0x1e8)]()[_0x383d1d(0x348)]();}async function allFacesTinyYolov2(_0x520d52,_0x58258a={}){const _0x537d5e=_0x1ad56f;return detectAllFaces(_0x520d52,new TinyYolov2Options(_0x58258a))[_0x537d5e(0x1e8)]()[_0x537d5e(0x348)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x10f6fc,_0x2c2a81){const _0x59341f=_0x1ad56f;if(_0x10f6fc[_0x59341f(0x194)]!==_0x2c2a81[_0x59341f(0x194)])throw new Error('euclideanDistance:\x20arr1.length\x20!==\x20arr2.length');const _0x306971=Array[_0x59341f(0x31a)](_0x10f6fc),_0x4a8984=Array[_0x59341f(0x31a)](_0x2c2a81);return Math[_0x59341f(0x292)](_0x306971[_0x59341f(0x248)]((_0x2a9692,_0x3e4040)=>_0x2a9692-_0x4a8984[_0x3e4040])[_0x59341f(0x353)]((_0x3542c5,_0x5c011d)=>_0x3542c5+_0x5c011d**0x2,0x0));}var FaceMatcher=class{constructor(_0x5a947d,_0xc11acb=0.6){const _0x5001a2=_0x1ad56f;this['_distanceThreshold']=_0xc11acb;const _0x5c1685=Array[_0x5001a2(0x16f)](_0x5a947d)?_0x5a947d:[_0x5a947d];if(!_0x5c1685[_0x5001a2(0x194)])throw new Error('FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input');let _0x53a8ad=0x1;const _0x3160f0=()=>_0x5001a2(0x35a)+_0x53a8ad++;this[_0x5001a2(0x2c2)]=_0x5c1685[_0x5001a2(0x248)](_0x3f257a=>{const _0x455dfd=_0x5001a2;if(_0x3f257a instanceof LabeledFaceDescriptors)return _0x3f257a;if(_0x3f257a instanceof Float32Array)return new LabeledFaceDescriptors(_0x3160f0(),[_0x3f257a]);if(_0x3f257a[_0x455dfd(0x321)]&&_0x3f257a[_0x455dfd(0x321)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x3160f0(),[_0x3f257a[_0x455dfd(0x321)]]);throw new Error(_0x455dfd(0x132));});}get['labeledDescriptors'](){const _0xd29872=_0x1ad56f;return this[_0xd29872(0x2c2)];}get[_0x1ad56f(0x332)](){const _0x177c08=_0x1ad56f;return this[_0x177c08(0x2e2)];}[_0x1ad56f(0x2cd)](_0x1d1a7d,_0x1623fa){const _0xce1a44=_0x1ad56f;return _0x1623fa[_0xce1a44(0x248)](_0x4ffd68=>euclideanDistance(_0x4ffd68,_0x1d1a7d))[_0xce1a44(0x353)]((_0x2fbe58,_0x451f49)=>_0x2fbe58+_0x451f49,0x0)/(_0x1623fa['length']||0x1);}[_0x1ad56f(0x28f)](_0x11b828){const _0x2c1052=_0x1ad56f;return this[_0x2c1052(0x22f)]['map'](({descriptors:_0x301c5a,label:_0x2ab24d})=>new FaceMatch(_0x2ab24d,this[_0x2c1052(0x2cd)](_0x11b828,_0x301c5a)))['reduce']((_0x52912a,_0x302d52)=>_0x52912a['distance']<_0x302d52[_0x2c1052(0x17e)]?_0x52912a:_0x302d52);}[_0x1ad56f(0x340)](_0x4214fd){const _0x4bc658=_0x1ad56f,_0x462bb1=this[_0x4bc658(0x28f)](_0x4214fd);return _0x462bb1[_0x4bc658(0x17e)]<this[_0x4bc658(0x2e2)]?_0x462bb1:new FaceMatch(_0x4bc658(0x2ff),_0x462bb1[_0x4bc658(0x17e)]);}[_0x1ad56f(0x2a4)](){const _0x33eb92=_0x1ad56f;return{'distanceThreshold':this['_distanceThreshold'],'labeledDescriptors':this['_labeledDescriptors'][_0x33eb92(0x248)](_0x4cd1d2=>_0x4cd1d2[_0x33eb92(0x2a4)]())};}static[_0x1ad56f(0x15e)](_0x53ed18){const _0x26c55f=_0x1ad56f,_0x3806fb=_0x53ed18[_0x26c55f(0x22f)]['map'](_0x788011=>LabeledFaceDescriptors[_0x26c55f(0x15e)](_0x788011));return new FaceMatcher(_0x3806fb,_0x53ed18['distanceThreshold']);}};function createTinyFaceDetector(_0x487a49){const _0x2d3f87=new TinyFaceDetector();return _0x2d3f87['extractWeights'](_0x487a49),_0x2d3f87;}function resizeResults(_0x3ccdab,_0x4d7f58){const _0x2ab3f2=_0x1ad56f,{width:_0x3aa7d8,height:_0x5673e5}=new Dimensions(_0x4d7f58[_0x2ab3f2(0x2ba)],_0x4d7f58[_0x2ab3f2(0x262)]);if(_0x3aa7d8<=0x0||_0x5673e5<=0x0)throw new Error(_0x2ab3f2(0xeb)+JSON['stringify']({'width':_0x3aa7d8,'height':_0x5673e5}));if(Array[_0x2ab3f2(0x16f)](_0x3ccdab))return _0x3ccdab[_0x2ab3f2(0x248)](_0x1c50ad=>resizeResults(_0x1c50ad,{'width':_0x3aa7d8,'height':_0x5673e5}));if(isWithFaceLandmarks(_0x3ccdab)){const _0x589168=_0x3ccdab[_0x2ab3f2(0x1af)][_0x2ab3f2(0x339)](_0x3aa7d8,_0x5673e5),_0x1545eb=_0x3ccdab['unshiftedLandmarks'][_0x2ab3f2(0x339)](_0x589168[_0x2ab3f2(0x1bc)]['width'],_0x589168[_0x2ab3f2(0x1bc)][_0x2ab3f2(0x262)]);return extendWithFaceLandmarks(extendWithFaceDetection(_0x3ccdab,_0x589168),_0x1545eb);}if(isWithFaceDetection(_0x3ccdab))return extendWithFaceDetection(_0x3ccdab,_0x3ccdab['detection'][_0x2ab3f2(0x339)](_0x3aa7d8,_0x5673e5));if(_0x3ccdab instanceof FaceLandmarks||_0x3ccdab instanceof FaceDetection)return _0x3ccdab[_0x2ab3f2(0x339)](_0x3aa7d8,_0x5673e5);return _0x3ccdab;}var version2=version;0x0&&(module['exports']={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});