'use strict';const _0x16f23b=_0x2675;(function(_0x385593,_0x3cdc54){const _0x42708f=_0x2675,_0x5a3a19=_0x385593();while(!![]){try{const _0x356ced=-parseInt(_0x42708f(0x2f3))/0x1*(parseInt(_0x42708f(0x162))/0x2)+-parseInt(_0x42708f(0x36b))/0x3*(parseInt(_0x42708f(0x39f))/0x4)+-parseInt(_0x42708f(0x31d))/0x5*(-parseInt(_0x42708f(0x2ab))/0x6)+-parseInt(_0x42708f(0x1ad))/0x7+parseInt(_0x42708f(0x159))/0x8*(-parseInt(_0x42708f(0x3b7))/0x9)+parseInt(_0x42708f(0x30a))/0xa+parseInt(_0x42708f(0x1aa))/0xb;if(_0x356ced===_0x3cdc54)break;else _0x5a3a19['push'](_0x5a3a19['shift']());}catch(_0x2e4adb){_0x5a3a19['push'](_0x5a3a19['shift']());}}}(_0x3454,0x51465));var __create=Object[_0x16f23b(0x163)],__defProp=Object[_0x16f23b(0x20a)],__getOwnPropDesc=Object[_0x16f23b(0x198)],__getOwnPropNames=Object[_0x16f23b(0x36e)],__getProtoOf=Object[_0x16f23b(0x184)],__hasOwnProp=Object[_0x16f23b(0x2ff)][_0x16f23b(0x22d)],__commonJS=(_0x285acc,_0x31c635)=>function _0x16f930(){const _0x3147e1=_0x16f23b;return _0x31c635||(0x0,_0x285acc[__getOwnPropNames(_0x285acc)[0x0]])((_0x31c635={'exports':{}})[_0x3147e1(0x34e)],_0x31c635),_0x31c635[_0x3147e1(0x34e)];},__export=(_0x326cd8,_0x2ce935)=>{for(var _0x2b7e02 in _0x2ce935)__defProp(_0x326cd8,_0x2b7e02,{'get':_0x2ce935[_0x2b7e02],'enumerable':!![]});},__copyProps=(_0x511483,_0x522023,_0x10e76a,_0x127989)=>{const _0x5f447c=_0x16f23b;if(_0x522023&&typeof _0x522023===_0x5f447c(0x28c)||typeof _0x522023===_0x5f447c(0x37e)){for(let _0x3886d7 of __getOwnPropNames(_0x522023))if(!__hasOwnProp[_0x5f447c(0x308)](_0x511483,_0x3886d7)&&_0x3886d7!==_0x10e76a)__defProp(_0x511483,_0x3886d7,{'get':()=>_0x522023[_0x3886d7],'enumerable':!(_0x127989=__getOwnPropDesc(_0x522023,_0x3886d7))||_0x127989['enumerable']});}return _0x511483;},__toESM=(_0x5816a3,_0x37ea26,_0x4bc428)=>(_0x4bc428=_0x5816a3!=null?__create(__getProtoOf(_0x5816a3)):{},__copyProps(_0x37ea26||!_0x5816a3||!_0x5816a3[_0x16f23b(0x175)]?__defProp(_0x4bc428,_0x16f23b(0x22e),{'value':_0x5816a3,'enumerable':!![]}):_0x4bc428,_0x5816a3)),__toCommonJS=_0x26c43d=>__copyProps(__defProp({},_0x16f23b(0x175),{'value':!![]}),_0x26c43d),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x472a37,_0x22fe7b){'use strict';const _0x1cf3f9=_0x16f23b;var _0x41a5fb=Object[_0x1cf3f9(0x20a)],_0x4ae2e9=Object[_0x1cf3f9(0x198)],_0x4d0fe7=Object[_0x1cf3f9(0x36e)],_0x422532=Object[_0x1cf3f9(0x2ff)][_0x1cf3f9(0x22d)],_0x221f73=(_0x201d32,_0x7a034a,_0x2bfb4b,_0x1df4cb)=>{const _0x486404=_0x1cf3f9;if(_0x7a034a&&typeof _0x7a034a===_0x486404(0x28c)||typeof _0x7a034a===_0x486404(0x37e)){for(let _0x5c8590 of _0x4d0fe7(_0x7a034a))if(!_0x422532[_0x486404(0x308)](_0x201d32,_0x5c8590)&&_0x5c8590!==_0x2bfb4b)_0x41a5fb(_0x201d32,_0x5c8590,{'get':()=>_0x7a034a[_0x5c8590],'enumerable':!(_0x1df4cb=_0x4ae2e9(_0x7a034a,_0x5c8590))||_0x1df4cb[_0x486404(0x2b3)]});}return _0x201d32;},_0x3ef50d=(_0x73bca2,_0x224c11,_0x1eb769)=>(_0x221f73(_0x73bca2,_0x224c11,_0x1cf3f9(0x22e)),_0x1eb769&&_0x221f73(_0x1eb769,_0x224c11,_0x1cf3f9(0x22e))),_0x1f40f8=_0x25b857=>_0x221f73(_0x41a5fb({},_0x1cf3f9(0x175),{'value':!![]}),_0x25b857),_0x14ebb9={};_0x22fe7b['exports']=_0x1f40f8(_0x14ebb9),_0x3ef50d(_0x14ebb9,require(_0x1cf3f9(0x1df)),_0x22fe7b[_0x1cf3f9(0x34e)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x16f23b(0x34e)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x132c25,_0x2852b5,_0x2b45ad=![]){const _0x3c17f6=_0x16f23b;_0x132c25[_0x3c17f6(0x351)](),_0x2852b5[_0x3c17f6(0x289)](0x1)[_0x3c17f6(0x129)](({x:_0x558dfc,y:_0x4a1f4f},_0x10ff88)=>{const _0x348353=_0x3c17f6,_0x18951e=_0x2852b5[_0x10ff88];_0x132c25[_0x348353(0x253)](_0x18951e['x'],_0x18951e['y']),_0x132c25[_0x348353(0x3a7)](_0x558dfc,_0x4a1f4f);});if(_0x2b45ad){const _0x35e9b3=_0x2852b5[_0x2852b5[_0x3c17f6(0x248)]-0x1],_0x20a976=_0x2852b5[0x0];if(!_0x35e9b3||!_0x20a976)return;_0x132c25[_0x3c17f6(0x253)](_0x35e9b3['x'],_0x35e9b3['y']),_0x132c25[_0x3c17f6(0x3a7)](_0x20a976['x'],_0x20a976['y']);}_0x132c25['stroke']();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x5f8c96,_0x54e188){const _0x5997bd=_0x16f23b;if(!isValidNumber(_0x5f8c96)||!isValidNumber(_0x54e188))throw new Error(_0x5997bd(0x1c7)+JSON['stringify']({'width':_0x5f8c96,'height':_0x54e188}));this[_0x5997bd(0x2e9)]=_0x5f8c96,this['_height']=_0x54e188;}get[_0x16f23b(0x341)](){const _0xe86ae1=_0x16f23b;return this[_0xe86ae1(0x2e9)];}get['height'](){const _0x24764e=_0x16f23b;return this[_0x24764e(0x234)];}[_0x16f23b(0x2c3)](){const _0x23a09b=_0x16f23b;return new Dimensions(0x1/this[_0x23a09b(0x341)],0x1/this['height']);}};function isTensor(_0xdcb38b,_0x6e82f1){const _0x353465=_0x16f23b;return _0xdcb38b instanceof tf[_0x353465(0x174)]&&_0xdcb38b[_0x353465(0x363)][_0x353465(0x248)]===_0x6e82f1;}function isTensor1D(_0x232097){return isTensor(_0x232097,0x1);}function isTensor2D(_0x160431){return isTensor(_0x160431,0x2);}function isTensor3D(_0x119863){return isTensor(_0x119863,0x3);}function isTensor4D(_0xada4d){return isTensor(_0xada4d,0x4);}function isFloat(_0x3a0e71){return _0x3a0e71%0x1!==0x0;}function isEven(_0x41fe88){return _0x41fe88%0x2===0x0;}function round(_0x529d88,_0x1cd559=0x2){const _0x3d822e=0xa**_0x1cd559;return Math['floor'](_0x529d88*_0x3d822e)/_0x3d822e;}function isDimensions(_0x4d4b43){const _0x3b2cae=_0x16f23b;return _0x4d4b43&&_0x4d4b43[_0x3b2cae(0x341)]&&_0x4d4b43['height'];}function computeReshapedDimensions({width:_0x2ecf5b,height:_0x8d952b},_0x271ddb){const _0x2734af=_0x16f23b,_0x343e2c=_0x271ddb/Math[_0x2734af(0x2d4)](_0x8d952b,_0x2ecf5b);return new Dimensions(Math[_0x2734af(0x30c)](_0x2ecf5b*_0x343e2c),Math[_0x2734af(0x30c)](_0x8d952b*_0x343e2c));}function getCenterPoint(_0x441ef2){const _0x3ee5d1=_0x16f23b;return _0x441ef2['reduce']((_0x58ad22,_0x2397f8)=>_0x58ad22[_0x3ee5d1(0x348)](_0x2397f8),new Point(0x0,0x0))[_0x3ee5d1(0x379)](new Point(_0x441ef2[_0x3ee5d1(0x248)],_0x441ef2[_0x3ee5d1(0x248)]));}function range(_0x252c85,_0x410652,_0x139746){const _0x2c01f5=_0x16f23b;return Array(_0x252c85)[_0x2c01f5(0x187)](0x0)[_0x2c01f5(0x2a2)]((_0xd14dd2,_0x12ab1c)=>_0x410652+_0x12ab1c*_0x139746);}function isValidNumber(_0x30552c){const _0x19275c=_0x16f23b;return!!_0x30552c&&_0x30552c!==Infinity&&_0x30552c!==-Infinity&&!Number[_0x19275c(0x317)](_0x30552c)||_0x30552c===0x0;}function isValidProbablitiy(_0x2bb098){return isValidNumber(_0x2bb098)&&_0x2bb098>=0x0&&_0x2bb098<=0x1;}var Point=class{constructor(_0x11e066,_0xb936f5){this['_x']=_0x11e066,this['_y']=_0xb936f5;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}['add'](_0x78ee20){return new Point(this['x']+_0x78ee20['x'],this['y']+_0x78ee20['y']);}[_0x16f23b(0x138)](_0x117f15){return new Point(this['x']-_0x117f15['x'],this['y']-_0x117f15['y']);}['mul'](_0x2aef38){return new Point(this['x']*_0x2aef38['x'],this['y']*_0x2aef38['y']);}[_0x16f23b(0x379)](_0x5e8ffe){return new Point(this['x']/_0x5e8ffe['x'],this['y']/_0x5e8ffe['y']);}[_0x16f23b(0x193)](){const _0x3e764d=_0x16f23b;return new Point(Math[_0x3e764d(0x193)](this['x']),Math[_0x3e764d(0x193)](this['y']));}['magnitude'](){const _0x19d987=_0x16f23b;return Math[_0x19d987(0x35c)](this['x']**0x2+this['y']**0x2);}[_0x16f23b(0x145)](){return new Point(Math['floor'](this['x']),Math['floor'](this['y']));}},Box=class{static[_0x16f23b(0x143)](_0x54c894){const _0x4cda80=_0x16f23b;return!!_0x54c894&&[_0x54c894['x'],_0x54c894['y'],_0x54c894['width'],_0x54c894['height']][_0x4cda80(0x2d5)](isValidNumber);}static[_0x16f23b(0x259)](_0x4f42fd,_0x5668d2,_0xcf805f=![]){const _0x549212=_0x16f23b;if(!Box[_0x549212(0x143)](_0x4f42fd))throw new Error(_0x5668d2+_0x549212(0x355)+JSON[_0x549212(0x2ca)](_0x4f42fd)+',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height');if(!_0xcf805f&&(_0x4f42fd[_0x549212(0x341)]<0x0||_0x4f42fd['height']<0x0))throw new Error(_0x5668d2+_0x549212(0x359)+_0x4f42fd['width']+_0x549212(0x3b1)+_0x4f42fd[_0x549212(0x39e)]+_0x549212(0x244));}constructor(_0x51897d,_0x3ee573=!![]){const _0x10bd46=_0x16f23b,_0x2cc5ab=_0x51897d||{},_0x1dad62=[_0x2cc5ab[_0x10bd46(0x2a8)],_0x2cc5ab['top'],_0x2cc5ab[_0x10bd46(0x1a7)],_0x2cc5ab[_0x10bd46(0x25c)]]['every'](isValidNumber),_0xf08098=[_0x2cc5ab['x'],_0x2cc5ab['y'],_0x2cc5ab[_0x10bd46(0x341)],_0x2cc5ab['height']][_0x10bd46(0x2d5)](isValidNumber);if(!_0xf08098&&!_0x1dad62)throw new Error(_0x10bd46(0x13d)+JSON[_0x10bd46(0x2ca)](_0x2cc5ab));const [_0x4da20a,_0xad6a67,_0x48f131,_0x233d92]=_0xf08098?[_0x2cc5ab['x'],_0x2cc5ab['y'],_0x2cc5ab[_0x10bd46(0x341)],_0x2cc5ab[_0x10bd46(0x39e)]]:[_0x2cc5ab['left'],_0x2cc5ab[_0x10bd46(0x294)],_0x2cc5ab[_0x10bd46(0x1a7)]-_0x2cc5ab[_0x10bd46(0x2a8)],_0x2cc5ab[_0x10bd46(0x25c)]-_0x2cc5ab[_0x10bd46(0x294)]];Box[_0x10bd46(0x259)]({'x':_0x4da20a,'y':_0xad6a67,'width':_0x48f131,'height':_0x233d92},'Box.constructor',_0x3ee573),this['_x']=_0x4da20a,this['_y']=_0xad6a67,this[_0x10bd46(0x2e9)]=_0x48f131,this['_height']=_0x233d92;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get[_0x16f23b(0x341)](){return this['_width'];}get[_0x16f23b(0x39e)](){return this['_height'];}get[_0x16f23b(0x2a8)](){return this['x'];}get['top'](){return this['y'];}get['right'](){const _0xf20f58=_0x16f23b;return this['x']+this[_0xf20f58(0x341)];}get['bottom'](){const _0x1ddcd4=_0x16f23b;return this['y']+this[_0x1ddcd4(0x39e)];}get['area'](){const _0x1a6ef4=_0x16f23b;return this[_0x1a6ef4(0x341)]*this[_0x1a6ef4(0x39e)];}get['topLeft'](){const _0x1daec4=_0x16f23b;return new Point(this[_0x1daec4(0x2a8)],this[_0x1daec4(0x294)]);}get[_0x16f23b(0x16b)](){const _0x2bc657=_0x16f23b;return new Point(this[_0x2bc657(0x1a7)],this[_0x2bc657(0x294)]);}get[_0x16f23b(0x2dc)](){const _0x148970=_0x16f23b;return new Point(this[_0x148970(0x2a8)],this['bottom']);}get[_0x16f23b(0x195)](){const _0x249ea9=_0x16f23b;return new Point(this[_0x249ea9(0x1a7)],this['bottom']);}[_0x16f23b(0x30c)](){const _0x89b89e=_0x16f23b,[_0x44a5d0,_0x4a0ac2,_0x2dcb73,_0x4d4aeb]=[this['x'],this['y'],this[_0x89b89e(0x341)],this[_0x89b89e(0x39e)]][_0x89b89e(0x2a2)](_0x3a966a=>Math[_0x89b89e(0x30c)](_0x3a966a));return new Box({'x':_0x44a5d0,'y':_0x4a0ac2,'width':_0x2dcb73,'height':_0x4d4aeb});}[_0x16f23b(0x145)](){const _0x2cf32a=_0x16f23b,[_0x235e92,_0x2b50b7,_0x5e4270,_0xf68128]=[this['x'],this['y'],this[_0x2cf32a(0x341)],this[_0x2cf32a(0x39e)]]['map'](_0x31736d=>Math[_0x2cf32a(0x145)](_0x31736d));return new Box({'x':_0x235e92,'y':_0x2b50b7,'width':_0x5e4270,'height':_0xf68128});}['toSquare'](){let {x:_0x2455d0,y:_0x1e8adb,width:_0x3b905e,height:_0x39c329}=this;const _0x4a936a=Math['abs'](_0x3b905e-_0x39c329);return _0x3b905e<_0x39c329&&(_0x2455d0-=_0x4a936a/0x2,_0x3b905e+=_0x4a936a),_0x39c329<_0x3b905e&&(_0x1e8adb-=_0x4a936a/0x2,_0x39c329+=_0x4a936a),new Box({'x':_0x2455d0,'y':_0x1e8adb,'width':_0x3b905e,'height':_0x39c329});}[_0x16f23b(0x2ba)](_0x54bfad){const _0x269161=_0x16f23b,_0x4df472=isDimensions(_0x54bfad)?_0x54bfad[_0x269161(0x341)]:_0x54bfad,_0x49f827=isDimensions(_0x54bfad)?_0x54bfad[_0x269161(0x39e)]:_0x54bfad;return new Box({'x':this['x']*_0x4df472,'y':this['y']*_0x49f827,'width':this['width']*_0x4df472,'height':this['height']*_0x49f827});}[_0x16f23b(0x220)](_0x201e5c,_0x4c037a){const _0x2c2e80=_0x16f23b,[_0xebb18e,_0x384d9c,_0x2aaa7d,_0x23a4de]=[this['x']-_0x201e5c/0x2,this['y']-_0x4c037a/0x2,this['width']+_0x201e5c,this[_0x2c2e80(0x39e)]+_0x4c037a];return new Box({'x':_0xebb18e,'y':_0x384d9c,'width':_0x2aaa7d,'height':_0x23a4de});}[_0x16f23b(0x27b)](_0x3fadf7,_0x3df3c6){const _0x33902c=_0x16f23b,{x:_0x2fdb9f,y:_0x9f5be,right:_0x4ed620,bottom:_0x5b3aba}=this,_0x1497cd=Math[_0x33902c(0x2d4)](_0x2fdb9f,0x0),_0xc62f94=Math['max'](_0x9f5be,0x0),_0x22d6b8=_0x4ed620-_0x1497cd,_0x5e0519=_0x5b3aba-_0xc62f94,_0x449d92=Math[_0x33902c(0x2b6)](_0x22d6b8,_0x3fadf7-_0x1497cd),_0x33044d=Math[_0x33902c(0x2b6)](_0x5e0519,_0x3df3c6-_0xc62f94);return new Box({'x':_0x1497cd,'y':_0xc62f94,'width':_0x449d92,'height':_0x33044d})[_0x33902c(0x145)]();}[_0x16f23b(0x1f9)](_0x402c70,_0x521f4a){const {width:_0x26b935,height:_0x512b31}=this,_0x520bab=this['x']+_0x402c70,_0x4c4fa7=this['y']+_0x521f4a;return new Box({'x':_0x520bab,'y':_0x4c4fa7,'width':_0x26b935,'height':_0x512b31});}[_0x16f23b(0x2b9)](_0x31e8d6,_0x329076){const _0x6b41a4=_0x16f23b,_0x2cac46=this[_0x6b41a4(0x341)]+0x1,_0x365456=this[_0x6b41a4(0x39e)]+0x1,_0x3963f0=0x1,_0x19bad9=0x1;let _0x311981=_0x2cac46,_0x22edad=_0x365456,_0x2d80a5=this['left'],_0x196886=this[_0x6b41a4(0x294)],_0x2110a3=this[_0x6b41a4(0x1a7)],_0x36f362=this[_0x6b41a4(0x25c)];return _0x2110a3>_0x329076&&(_0x311981=-_0x2110a3+_0x329076+_0x2cac46,_0x2110a3=_0x329076),_0x36f362>_0x31e8d6&&(_0x22edad=-_0x36f362+_0x31e8d6+_0x365456,_0x36f362=_0x31e8d6),_0x2d80a5<0x1&&(_0x22edad=0x2-_0x2d80a5,_0x2d80a5=0x1),_0x196886<0x1&&(_0x22edad=0x2-_0x196886,_0x196886=0x1),{'dy':_0x19bad9,'edy':_0x22edad,'dx':_0x3963f0,'edx':_0x311981,'y':_0x196886,'ey':_0x36f362,'x':_0x2d80a5,'ex':_0x2110a3,'w':_0x2cac46,'h':_0x365456};}['calibrate'](_0x556fa0){const _0x18fbbf=_0x16f23b;return new Box({'left':this[_0x18fbbf(0x2a8)]+_0x556fa0[_0x18fbbf(0x2a8)]*this['width'],'top':this[_0x18fbbf(0x294)]+_0x556fa0[_0x18fbbf(0x294)]*this[_0x18fbbf(0x39e)],'right':this[_0x18fbbf(0x1a7)]+_0x556fa0[_0x18fbbf(0x1a7)]*this[_0x18fbbf(0x341)],'bottom':this[_0x18fbbf(0x25c)]+_0x556fa0['bottom']*this[_0x18fbbf(0x39e)]})['toSquare']()['round']();}},BoundingBox=class extends Box{constructor(_0x3dbb37,_0x55fac8,_0x4d8896,_0x8aaa17,_0x10ffd7=![]){super({'left':_0x3dbb37,'top':_0x55fac8,'right':_0x4d8896,'bottom':_0x8aaa17},_0x10ffd7);}},ObjectDetection=class{constructor(_0x315448,_0x375292,_0x2034a6,_0x13ade5,_0x4bec1c){const _0x1da308=_0x16f23b;this[_0x1da308(0x235)]=new Dimensions(_0x4bec1c['width'],_0x4bec1c[_0x1da308(0x39e)]),this[_0x1da308(0x275)]=_0x315448,this[_0x1da308(0x19e)]=_0x375292,this[_0x1da308(0x374)]=_0x2034a6,this[_0x1da308(0x326)]=new Box(_0x13ade5)[_0x1da308(0x2ba)](this[_0x1da308(0x235)]);}get['score'](){const _0x59926d=_0x16f23b;return this[_0x59926d(0x275)];}get[_0x16f23b(0x266)](){return this['_classScore'];}get[_0x16f23b(0x252)](){const _0x3c5b3b=_0x16f23b;return this[_0x3c5b3b(0x374)];}get['box'](){return this['_box'];}get[_0x16f23b(0x2d3)](){return this['_imageDims'];}get[_0x16f23b(0x1dd)](){const _0x48c1f2=_0x16f23b;return this[_0x48c1f2(0x2d3)][_0x48c1f2(0x341)];}get[_0x16f23b(0x1d7)](){return this['imageDims']['height'];}get[_0x16f23b(0x1a9)](){const _0x6dbbae=_0x16f23b;return new Box(this[_0x6dbbae(0x326)])[_0x6dbbae(0x2ba)](this[_0x6dbbae(0x2d3)][_0x6dbbae(0x2c3)]());}[_0x16f23b(0x2b7)](_0x349953,_0x112d85){const _0x53f35e=_0x16f23b;return new ObjectDetection(this['score'],this[_0x53f35e(0x266)],this[_0x53f35e(0x252)],this['relativeBox'],{'width':_0x349953,'height':_0x112d85});}},FaceDetection=class extends ObjectDetection{constructor(_0x280d44,_0x2f2587,_0x4581f3){super(_0x280d44,_0x280d44,'',_0x2f2587,_0x4581f3);}[_0x16f23b(0x2b7)](_0x19687a,_0x25d4a9){const _0x435577=_0x16f23b,{score:_0x38b18b,relativeBox:_0xae990e,imageDims:_0x56f721}=super[_0x435577(0x2b7)](_0x19687a,_0x25d4a9);return new FaceDetection(_0x38b18b,_0xae990e,_0x56f721);}};function iou(_0x154a74,_0x443dbf,_0x1ae9ce=!![]){const _0x3339e7=_0x16f23b,_0x4f9261=Math[_0x3339e7(0x2d4)](0x0,Math[_0x3339e7(0x2b6)](_0x154a74['right'],_0x443dbf[_0x3339e7(0x1a7)])-Math[_0x3339e7(0x2d4)](_0x154a74[_0x3339e7(0x2a8)],_0x443dbf['left'])),_0x5ccf01=Math[_0x3339e7(0x2d4)](0x0,Math['min'](_0x154a74[_0x3339e7(0x25c)],_0x443dbf[_0x3339e7(0x25c)])-Math[_0x3339e7(0x2d4)](_0x154a74['top'],_0x443dbf[_0x3339e7(0x294)])),_0x3b8282=_0x4f9261*_0x5ccf01;return _0x1ae9ce?_0x3b8282/(_0x154a74[_0x3339e7(0x396)]+_0x443dbf[_0x3339e7(0x396)]-_0x3b8282):_0x3b8282/Math[_0x3339e7(0x2b6)](_0x154a74[_0x3339e7(0x396)],_0x443dbf[_0x3339e7(0x396)]);}function minBbox(_0x3df9f9){const _0x397112=_0x16f23b,_0x3e5945=_0x3df9f9[_0x397112(0x2a2)](_0x1fd218=>_0x1fd218['x']),_0x20cc0e=_0x3df9f9[_0x397112(0x2a2)](_0x2f0340=>_0x2f0340['y']),_0x35d0db=_0x3e5945[_0x397112(0x20d)]((_0x228b9f,_0x271138)=>_0x271138<_0x228b9f?_0x271138:_0x228b9f,Infinity),_0x412150=_0x20cc0e[_0x397112(0x20d)]((_0x5d3511,_0x664307)=>_0x664307<_0x5d3511?_0x664307:_0x5d3511,Infinity),_0x41286e=_0x3e5945[_0x397112(0x20d)]((_0x11fc87,_0x8e8e66)=>_0x11fc87<_0x8e8e66?_0x8e8e66:_0x11fc87,0x0),_0x4761e9=_0x20cc0e[_0x397112(0x20d)]((_0x4e3ec4,_0x38c6f1)=>_0x4e3ec4<_0x38c6f1?_0x38c6f1:_0x4e3ec4,0x0);return new BoundingBox(_0x35d0db,_0x412150,_0x41286e,_0x4761e9);}function nonMaxSuppression(_0x4cb8ff,_0x353aae,_0x49ab32,_0x34bd91=!![]){const _0x47ead=_0x16f23b;let _0x3578f8=_0x353aae[_0x47ead(0x2a2)]((_0x140f9c,_0x52feb6)=>({'score':_0x140f9c,'boxIndex':_0x52feb6}))[_0x47ead(0x229)]((_0x2c400c,_0x4a282c)=>_0x2c400c[_0x47ead(0x306)]-_0x4a282c[_0x47ead(0x306)])[_0x47ead(0x2a2)](_0x587276=>_0x587276[_0x47ead(0x208)]);const _0x390033=[];while(_0x3578f8[_0x47ead(0x248)]>0x0){const _0x366459=_0x3578f8[_0x47ead(0x290)]();_0x390033['push'](_0x366459);const _0x2b0dcf=_0x3578f8,_0x40e95b=[];for(let _0x4015b8=0x0;_0x4015b8<_0x2b0dcf[_0x47ead(0x248)];_0x4015b8++){const _0x2b6230=_0x2b0dcf[_0x4015b8],_0xc34e83=_0x4cb8ff[_0x366459],_0x518983=_0x4cb8ff[_0x2b6230];_0x40e95b[_0x47ead(0x1fa)](iou(_0xc34e83,_0x518983,_0x34bd91));}_0x3578f8=_0x3578f8[_0x47ead(0x367)]((_0xe13ab,_0x4cb391)=>_0x40e95b[_0x4cb391]<=_0x49ab32);}return _0x390033;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x108849,_0x3d3f04){const _0x1f9b6c=_0x16f23b;return tf2[_0x1f9b6c(0x378)](()=>{const _0x350b8e=_0x1f9b6c,[_0x52336f,_0x4038be,_0x324c10]=_0x3d3f04,_0x2ccd7e=tf2[_0x350b8e(0x187)]([..._0x108849['shape'][_0x350b8e(0x289)](0x0,0x3),0x1],_0x52336f,_0x350b8e(0x183)),_0x258050=tf2[_0x350b8e(0x187)]([..._0x108849['shape'][_0x350b8e(0x289)](0x0,0x3),0x1],_0x4038be,_0x350b8e(0x183)),_0x251fe3=tf2['fill']([..._0x108849['shape'][_0x350b8e(0x289)](0x0,0x3),0x1],_0x324c10,_0x350b8e(0x183)),_0x34a7ce=tf2[_0x350b8e(0x20b)]([_0x2ccd7e,_0x258050,_0x251fe3],0x3);return tf2[_0x350b8e(0x138)](_0x108849,_0x34a7ce);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x9615e5,_0x24bf14=![]){const _0x3ff681=_0x16f23b;return tf3[_0x3ff681(0x378)](()=>{const _0x10fb26=_0x3ff681,[_0x5d565c,_0x14beb6]=_0x9615e5['shape'][_0x10fb26(0x289)](0x1);if(_0x5d565c===_0x14beb6)return _0x9615e5;const _0x179e5e=Math['abs'](_0x5d565c-_0x14beb6),_0x3d1ebe=Math[_0x10fb26(0x30c)](_0x179e5e*(_0x24bf14?0.5:0x1)),_0x222c82=_0x5d565c>_0x14beb6?0x2:0x1,_0x5d2854=_0x12665e=>{const _0x22bb70=_0x10fb26,_0x2ff85e=_0x9615e5['shape'][_0x22bb70(0x289)]();return _0x2ff85e[_0x222c82]=_0x12665e,tf3[_0x22bb70(0x187)](_0x2ff85e,0x0,'float32');},_0x22b506=_0x5d2854(_0x3d1ebe),_0x272369=_0x179e5e-_0x22b506[_0x10fb26(0x363)][_0x222c82],_0x10a9d4=_0x24bf14&&_0x272369?_0x5d2854(_0x272369):null,_0xe902c0=[_0x10a9d4,_0x9615e5,_0x22b506][_0x10fb26(0x367)](_0x1caf3e=>!!_0x1caf3e)[_0x10fb26(0x2a2)](_0x4b0a9b=>tf3[_0x10fb26(0x2d0)](_0x4b0a9b,_0x10fb26(0x183)));return tf3['concat'](_0xe902c0,_0x222c82);});}function shuffleArray(_0x198e69){const _0x10fd45=_0x16f23b,_0x3a917f=_0x198e69[_0x10fd45(0x289)]();for(let _0x22f979=_0x3a917f[_0x10fd45(0x248)]-0x1;_0x22f979>0x0;_0x22f979--){const _0x5f107a=Math[_0x10fd45(0x145)](Math[_0x10fd45(0x1a2)]()*(_0x22f979+0x1)),_0x5a6de6=_0x3a917f[_0x22f979];_0x3a917f[_0x22f979]=_0x3a917f[_0x5f107a],_0x3a917f[_0x5f107a]=_0x5a6de6;}return _0x3a917f;}function sigmoid(_0x5196d2){return 0x1/(0x1+Math['exp'](-_0x5196d2));}function inverseSigmoid(_0x468be5){const _0x5f234f=_0x16f23b;return Math[_0x5f234f(0x22f)](_0x468be5/(0x1-_0x468be5));}var Rect=class extends Box{constructor(_0x5d0144,_0x5c4ba7,_0x5ba4ac,_0x51f1fc,_0x3ebc06=![]){super({'x':_0x5d0144,'y':_0x5c4ba7,'width':_0x5ba4ac,'height':_0x51f1fc},_0x3ebc06);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x55019a,_0x334894,_0x53de13=new Point(0x0,0x0)){const _0xf1257d=_0x16f23b,{width:_0x570c13,height:_0x3c81fa}=_0x334894;this[_0xf1257d(0x2cf)]=new Dimensions(_0x570c13,_0x3c81fa),this['_shift']=_0x53de13,this[_0xf1257d(0x388)]=_0x55019a[_0xf1257d(0x2a2)](_0xd17151=>_0xd17151[_0xf1257d(0x132)](new Point(_0x570c13,_0x3c81fa))[_0xf1257d(0x348)](_0x53de13));}get[_0x16f23b(0x1f9)](){const _0x4268f4=_0x16f23b;return new Point(this['_shift']['x'],this[_0x4268f4(0x151)]['y']);}get[_0x16f23b(0x1dd)](){const _0x24acab=_0x16f23b;return this[_0x24acab(0x2cf)][_0x24acab(0x341)];}get['imageHeight'](){const _0x968440=_0x16f23b;return this[_0x968440(0x2cf)][_0x968440(0x39e)];}get[_0x16f23b(0x334)](){const _0x13e02c=_0x16f23b;return this[_0x13e02c(0x388)];}get['relativePositions'](){const _0x206997=_0x16f23b;return this['_positions'][_0x206997(0x2a2)](_0x24bd04=>_0x24bd04['sub'](this[_0x206997(0x151)])[_0x206997(0x379)](new Point(this['imageWidth'],this['imageHeight'])));}[_0x16f23b(0x2b7)](_0x1fd920,_0x20d849){const _0x2e7bc7=_0x16f23b;return new this[(_0x2e7bc7(0x1b5))](this['relativePositions'],{'width':_0x1fd920,'height':_0x20d849});}[_0x16f23b(0x2a1)](_0x107d6a,_0x52deb2){const _0x3d9c5b=_0x16f23b;return new this[(_0x3d9c5b(0x1b5))](this[_0x3d9c5b(0x141)],this[_0x3d9c5b(0x2cf)],new Point(_0x107d6a,_0x52deb2));}[_0x16f23b(0x18d)](_0x1a94d8){const _0xab5e4a=_0x16f23b;return this[_0xab5e4a(0x2a1)](_0x1a94d8['x'],_0x1a94d8['y']);}[_0x16f23b(0x287)](_0x4aee88,_0x19f205={}){const _0x5276ee=_0x16f23b;if(_0x4aee88){const _0x4def0a=_0x4aee88 instanceof FaceDetection?_0x4aee88['box']['floor']():new Box(_0x4aee88);return this[_0x5276ee(0x2a1)](_0x4def0a['x'],_0x4def0a['y'])[_0x5276ee(0x287)](null,_0x19f205);}const {useDlibAlignment:_0x463fe2,minBoxPadding:_0x370845}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x19f205};if(_0x463fe2)return this[_0x5276ee(0x2f2)]();return this[_0x5276ee(0x18e)](_0x370845);}[_0x16f23b(0x2f2)](){const _0x4615e=_0x16f23b,_0x5703c7=this[_0x4615e(0x2eb)](),[_0x187b40,_0x144788,_0x62d420]=_0x5703c7,_0x4f1388=_0x2c64b2=>_0x62d420[_0x4615e(0x138)](_0x2c64b2)[_0x4615e(0x3a4)](),_0x2b1437=(_0x4f1388(_0x187b40)+_0x4f1388(_0x144788))/0x2,_0x39d048=Math[_0x4615e(0x145)](_0x2b1437/relScale),_0x355bb9=getCenterPoint(_0x5703c7),_0x16b191=Math[_0x4615e(0x145)](Math[_0x4615e(0x2d4)](0x0,_0x355bb9['x']-relX*_0x39d048)),_0x1ff77d=Math[_0x4615e(0x145)](Math[_0x4615e(0x2d4)](0x0,_0x355bb9['y']-relY*_0x39d048));return new Rect(_0x16b191,_0x1ff77d,Math[_0x4615e(0x2b6)](_0x39d048,this['imageWidth']+_0x16b191),Math[_0x4615e(0x2b6)](_0x39d048,this[_0x4615e(0x1d7)]+_0x1ff77d));}[_0x16f23b(0x18e)](_0x5a864e){const _0x48a2c6=_0x16f23b,_0x57149c=minBbox(this[_0x48a2c6(0x334)]);return _0x57149c[_0x48a2c6(0x220)](_0x57149c['width']*_0x5a864e,_0x57149c[_0x48a2c6(0x39e)]*_0x5a864e);}[_0x16f23b(0x2eb)](){const _0x252344=_0x16f23b;throw new Error(_0x252344(0x186));}},FaceLandmarks5=class extends FaceLandmarks{['getRefPointsForAlignment'](){const _0x6a52e9=this['positions'];return[_0x6a52e9[0x0],_0x6a52e9[0x1],getCenterPoint([_0x6a52e9[0x3],_0x6a52e9[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{['getJawOutline'](){const _0x2e8e0a=_0x16f23b;return this[_0x2e8e0a(0x334)]['slice'](0x0,0x11);}['getLeftEyeBrow'](){const _0x21400d=_0x16f23b;return this[_0x21400d(0x334)][_0x21400d(0x289)](0x11,0x16);}['getRightEyeBrow'](){const _0x329ccd=_0x16f23b;return this[_0x329ccd(0x334)][_0x329ccd(0x289)](0x16,0x1b);}[_0x16f23b(0x38b)](){const _0x141e62=_0x16f23b;return this['positions'][_0x141e62(0x289)](0x1b,0x24);}[_0x16f23b(0x2fb)](){const _0x2b37f4=_0x16f23b;return this[_0x2b37f4(0x334)][_0x2b37f4(0x289)](0x24,0x2a);}[_0x16f23b(0x1d0)](){const _0x8dd1eb=_0x16f23b;return this[_0x8dd1eb(0x334)]['slice'](0x2a,0x30);}[_0x16f23b(0x354)](){const _0x1f28d0=_0x16f23b;return this[_0x1f28d0(0x334)][_0x1f28d0(0x289)](0x30,0x44);}[_0x16f23b(0x2eb)](){const _0x1e8c22=_0x16f23b;return[this['getLeftEye'](),this[_0x1e8c22(0x1d0)](),this[_0x1e8c22(0x354)]()]['map'](getCenterPoint);}},FaceMatch=class{constructor(_0x2b6e87,_0x2398da){const _0x117279=_0x16f23b;this[_0x117279(0x343)]=_0x2b6e87,this['_distance']=_0x2398da;}get[_0x16f23b(0x39d)](){return this['_label'];}get[_0x16f23b(0x278)](){const _0x2dce6f=_0x16f23b;return this[_0x2dce6f(0x16e)];}['toString'](_0x562a9b=!![]){const _0x3da39f=_0x16f23b;return''+this[_0x3da39f(0x39d)]+(_0x562a9b?'\x20('+round(this['distance'])+')':'');}},LabeledBox=class extends Box{constructor(_0x33945e,_0x16c7ec){const _0x5b9c92=_0x16f23b;super(_0x33945e),this[_0x5b9c92(0x343)]=_0x16c7ec;}static[_0x16f23b(0x27c)](_0x1a4816,_0x2cdd71){const _0x32b41f=_0x16f23b;Box['assertIsValidBox'](_0x1a4816,_0x2cdd71);if(!isValidNumber(_0x1a4816[_0x32b41f(0x39d)]))throw new Error(_0x2cdd71+_0x32b41f(0x238)+_0x1a4816[_0x32b41f(0x39d)]+_0x32b41f(0x218));}get[_0x16f23b(0x39d)](){const _0x17daac=_0x16f23b;return this[_0x17daac(0x343)];}},LabeledFaceDescriptors=class{constructor(_0x357aca,_0x10837c){const _0x96fdb=_0x16f23b;if(!(typeof _0x357aca==='string'))throw new Error(_0x96fdb(0x335));if(!Array[_0x96fdb(0x3a2)](_0x10837c)||_0x10837c[_0x96fdb(0x1de)](_0x513775=>!(_0x513775 instanceof Float32Array)))throw new Error(_0x96fdb(0x240));this[_0x96fdb(0x343)]=_0x357aca,this['_descriptors']=_0x10837c;}get['label'](){const _0x5a88d0=_0x16f23b;return this[_0x5a88d0(0x343)];}get[_0x16f23b(0x146)](){const _0x40ee84=_0x16f23b;return this[_0x40ee84(0x21d)];}['toJSON'](){const _0x10ae3c=_0x16f23b;return{'label':this[_0x10ae3c(0x39d)],'descriptors':this[_0x10ae3c(0x146)][_0x10ae3c(0x2a2)](_0x7ff993=>Array[_0x10ae3c(0x190)](_0x7ff993))};}static[_0x16f23b(0x385)](_0x1ad848){const _0x814926=_0x16f23b,_0x10a9ec=_0x1ad848['descriptors'][_0x814926(0x2a2)](_0x10624b=>new Float32Array(_0x10624b));return new LabeledFaceDescriptors(_0x1ad848['label'],_0x10a9ec);}},PredictedBox=class extends LabeledBox{constructor(_0x5d30c4,_0x4ceda6,_0x26f1fc,_0x3a13e8){const _0x4751d8=_0x16f23b;super(_0x5d30c4,_0x4ceda6),this[_0x4751d8(0x275)]=_0x26f1fc,this['_classScore']=_0x3a13e8;}static[_0x16f23b(0x2cd)](_0x33bb81,_0x45c55f){const _0x32c109=_0x16f23b;LabeledBox[_0x32c109(0x27c)](_0x33bb81,_0x45c55f);if(!isValidProbablitiy(_0x33bb81[_0x32c109(0x306)])||!isValidProbablitiy(_0x33bb81[_0x32c109(0x266)]))throw new Error(_0x45c55f+_0x32c109(0x134)+_0x33bb81['score']+_0x32c109(0x27d)+_0x33bb81[_0x32c109(0x266)]+_0x32c109(0x1cd));}get[_0x16f23b(0x306)](){const _0x6c6e1f=_0x16f23b;return this[_0x6c6e1f(0x275)];}get[_0x16f23b(0x266)](){const _0x497cd9=_0x16f23b;return this[_0x497cd9(0x19e)];}};function isWithFaceDetection(_0x3ea3b0){return _0x3ea3b0['detection']instanceof FaceDetection;}function extendWithFaceDetection(_0x263ff7,_0x570897){const _0x45ee19={'detection':_0x570897};return{..._0x263ff7,..._0x45ee19};}function createBrowserEnv(){const _0x43e0ae=_0x16f23b,_0x29ee34=window['fetch'];if(!_0x29ee34)throw new Error(_0x43e0ae(0x394));const _0x54a87c=()=>{const _0x241201=_0x43e0ae;throw new Error(_0x241201(0x34f));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document['createElement'](_0x43e0ae(0x284)),'createImageElement':()=>document['createElement'](_0x43e0ae(0x152)),'createVideoElement':()=>document[_0x43e0ae(0x1cf)](_0x43e0ae(0x1d3)),'fetch':_0x29ee34,'readFile':_0x54a87c};}function isNodejs(){const _0x3cd0ea=_0x16f23b;return typeof global===_0x3cd0ea(0x28c)&&typeof process!==_0x3cd0ea(0x1d8)&&process[_0x3cd0ea(0x336)]!=null&&process['versions'][_0x3cd0ea(0x15d)]!=null;}function createFileSystem(_0x2dc7d4){const _0x2aacc4=_0x16f23b;let _0x4ad306='';if(!_0x2dc7d4&&isNodejs())try{_0x2dc7d4=require('fs');}catch(_0x2ed549){console[_0x2aacc4(0x22f)](_0x2aacc4(0x1ca),_0x2ed549),_0x4ad306=_0x2ed549['toString']();}const _0x1b84e1=_0x2dc7d4?_0x5543bb=>new Promise((_0x3d6cc9,_0x1d8589)=>{_0x2dc7d4['readFile'](_0x5543bb,(_0x325c08,_0x58739b)=>_0x325c08?_0x1d8589(_0x325c08):_0x3d6cc9(_0x58739b));}):()=>{throw new Error('readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20'+_0x4ad306);};return{'readFile':_0x1b84e1};}function createNodejsEnv(){const _0x458850=_0x16f23b,_0x41d129=global[_0x458850(0x2e3)]||global[_0x458850(0x130)],_0x188960=global[_0x458850(0x37a)]||global[_0x458850(0x14b)],_0x40b358=global[_0x458850(0x272)]||global[_0x458850(0x199)],_0x476bb7=()=>{const _0x15ff6c=_0x458850;if(_0x41d129)return new _0x41d129();throw new Error(_0x15ff6c(0x320));},_0x50de58=()=>{const _0x1a54f7=_0x458850;if(_0x188960)return new _0x188960();throw new Error(_0x1a54f7(0x1ac));},_0xaf1f2e=()=>{const _0x3ef434=_0x458850;if(_0x40b358)return new _0x40b358();throw new Error(_0x3ef434(0x36f));},_0x45d7a0=global['fetch'],_0x4dd6d7=createFileSystem();return{'Canvas':_0x41d129||class{},'CanvasRenderingContext2D':global['CanvasRenderingContext2D']||class{},'Image':_0x188960||class{},'ImageData':global[_0x458850(0x164)]||class{},'Video':global[_0x458850(0x199)]||class{},'createCanvasElement':_0x476bb7,'createImageElement':_0x50de58,'createVideoElement':_0xaf1f2e,'fetch':_0x45d7a0,..._0x4dd6d7};}function isBrowser(){const _0x33d5e0=_0x16f23b;return typeof window===_0x33d5e0(0x28c)&&typeof document!==_0x33d5e0(0x1d8)&&typeof HTMLImageElement!==_0x33d5e0(0x1d8)&&typeof HTMLCanvasElement!==_0x33d5e0(0x1d8)&&typeof HTMLVideoElement!=='undefined'&&typeof ImageData!==_0x33d5e0(0x1d8)&&typeof CanvasRenderingContext2D!==_0x33d5e0(0x1d8);}var environment;function getEnv(){const _0x345fea=_0x16f23b;if(!environment)throw new Error(_0x345fea(0x3ac));return environment;}function setEnv(_0xae167a){environment=_0xae167a;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x20cef5){const _0x2923f4=_0x16f23b;!environment&&initialize();if(!environment)throw new Error('monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()');const {Canvas:Canvas=environment['Canvas'],Image:Image=environment['Image']}=_0x20cef5;environment[_0x2923f4(0x2e3)]=Canvas,environment[_0x2923f4(0x37a)]=Image,environment[_0x2923f4(0x280)]=_0x20cef5[_0x2923f4(0x280)]||(()=>new Canvas()),environment[_0x2923f4(0x319)]=_0x20cef5[_0x2923f4(0x319)]||(()=>new Image()),environment[_0x2923f4(0x164)]=_0x20cef5[_0x2923f4(0x164)]||environment['ImageData'],environment[_0x2923f4(0x272)]=_0x20cef5['Video']||environment[_0x2923f4(0x272)],environment[_0x2923f4(0x1e2)]=_0x20cef5['fetch']||environment[_0x2923f4(0x1e2)],environment[_0x2923f4(0x1e4)]=_0x20cef5[_0x2923f4(0x1e4)]||environment['readFile'];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x5a3565){const _0x502982=_0x16f23b;if(!env[_0x502982(0x298)]()&&typeof _0x5a3565===_0x502982(0x279))return document[_0x502982(0x30d)](_0x5a3565);return _0x5a3565;}function getContext2dOrThrow(_0x52eaeb){const _0x5a6ebf=_0x16f23b,{Canvas:_0x32e99f,CanvasRenderingContext2D:_0x41395f}=env[_0x5a6ebf(0x3a9)]();if(_0x52eaeb instanceof _0x41395f)return _0x52eaeb;const _0x5d3a02=resolveInput(_0x52eaeb);if(!(_0x5d3a02 instanceof _0x32e99f))throw new Error('resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas');const _0xd4026b=_0x5d3a02['getContext']('2d');if(!_0xd4026b)throw new Error('resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null');return _0xd4026b;}var AnchorPosition=(_0x39af45=>{const _0x7e4835=_0x16f23b;return _0x39af45[_0x7e4835(0x32c)]=_0x7e4835(0x32c),_0x39af45[_0x7e4835(0x2b1)]='TOP_RIGHT',_0x39af45[_0x7e4835(0x1c3)]=_0x7e4835(0x1c3),_0x39af45['BOTTOM_RIGHT']='BOTTOM_RIGHT',_0x39af45;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x5dd394={}){const _0x36c1b5=_0x16f23b,{anchorPosition:_0x20de93,backgroundColor:_0x23b9b6,fontColor:_0x37a17f,fontSize:_0x979fb9,fontStyle:_0x19ddb0,padding:_0x44a5cb}=_0x5dd394;this['anchorPosition']=_0x20de93||_0x36c1b5(0x32c),this[_0x36c1b5(0x31f)]=_0x23b9b6||'rgba(0,\x200,\x200,\x200.5)',this[_0x36c1b5(0x2f6)]=_0x37a17f||'rgba(255,\x20255,\x20255,\x201)',this[_0x36c1b5(0x34d)]=_0x979fb9||0xe,this[_0x36c1b5(0x1b9)]=_0x19ddb0||_0x36c1b5(0x225),this[_0x36c1b5(0x380)]=_0x44a5cb||0x4;}},DrawTextField=class{constructor(_0x187204,_0x1b13b3,_0x1aa21f={}){const _0x46bcab=_0x16f23b;this['text']=typeof _0x187204===_0x46bcab(0x279)?[_0x187204]:_0x187204 instanceof DrawTextField?_0x187204['text']:_0x187204,this[_0x46bcab(0x1bf)]=_0x1b13b3,this[_0x46bcab(0x246)]=new DrawTextFieldOptions(_0x1aa21f);}[_0x16f23b(0x1d9)](_0x4ac13a){const _0x5a282f=_0x16f23b,{padding:_0x4b7c27}=this[_0x5a282f(0x246)];return this[_0x5a282f(0x2f5)][_0x5a282f(0x2a2)](_0x559653=>_0x4ac13a[_0x5a282f(0x1bb)](_0x559653)['width'])['reduce']((_0x4ff42f,_0x159071)=>_0x4ff42f<_0x159071?_0x159071:_0x4ff42f,0x0)+0x2*_0x4b7c27;}[_0x16f23b(0x13c)](){const _0x1cf357=_0x16f23b,{fontSize:_0x54532a,padding:_0x259477}=this[_0x1cf357(0x246)];return this[_0x1cf357(0x2f5)]['length']*_0x54532a+0x2*_0x259477;}['getUpperLeft'](_0x23e767,_0x17d93d){const _0x20a056=_0x16f23b,{anchorPosition:_0x512578}=this[_0x20a056(0x246)],_0x2b7a69=_0x512578===_0x20a056(0x17a)||_0x512578===_0x20a056(0x2b1),_0x513a58=_0x512578===_0x20a056(0x1c3)||_0x512578===_0x20a056(0x17a),_0x1063e3=this['measureWidth'](_0x23e767),_0x2f8b22=this[_0x20a056(0x13c)](),_0x21956d=_0x2b7a69?this['anchor']['x']-_0x1063e3:this[_0x20a056(0x1bf)]['x'],_0x5da8ba=_0x513a58?this['anchor']['y']-_0x2f8b22:this[_0x20a056(0x1bf)]['y'];if(_0x17d93d){const {width:_0x1aae93,height:_0x84992c}=_0x17d93d,_0x5e0e7d=Math['max'](Math[_0x20a056(0x2b6)](_0x21956d,_0x1aae93-_0x1063e3),0x0),_0xa75332=Math[_0x20a056(0x2d4)](Math[_0x20a056(0x2b6)](_0x5da8ba,_0x84992c-_0x2f8b22),0x0);return{'x':_0x5e0e7d,'y':_0xa75332};}return{'x':_0x21956d,'y':_0x5da8ba};}[_0x16f23b(0x19b)](_0x594029){const _0x5a76ee=_0x16f23b,_0x58d6a8=resolveInput(_0x594029),_0x7ff0a2=getContext2dOrThrow(_0x58d6a8),{backgroundColor:_0x36f25d,fontColor:_0x2a59bc,fontSize:_0x4b1607,fontStyle:_0x4096fb,padding:_0xd654b6}=this['options'];_0x7ff0a2[_0x5a76ee(0x3a1)]=_0x4b1607+_0x5a76ee(0x13f)+_0x4096fb;const _0x428b54=this[_0x5a76ee(0x1d9)](_0x7ff0a2),_0x8c05dc=this[_0x5a76ee(0x13c)]();_0x7ff0a2['fillStyle']=_0x36f25d;const _0x250eb4=this[_0x5a76ee(0x2a7)](_0x7ff0a2,_0x58d6a8);_0x7ff0a2[_0x5a76ee(0x353)](_0x250eb4['x'],_0x250eb4['y'],_0x428b54,_0x8c05dc),_0x7ff0a2[_0x5a76ee(0x331)]=_0x2a59bc,this[_0x5a76ee(0x2f5)][_0x5a76ee(0x129)]((_0x20961f,_0x575b58)=>{const _0x3d76d9=_0xd654b6+_0x250eb4['x'],_0x22b53e=_0xd654b6+_0x250eb4['y']+(_0x575b58+0x1)*_0x4b1607;_0x7ff0a2['fillText'](_0x20961f,_0x3d76d9,_0x22b53e);});}},DrawBoxOptions=class{constructor(_0x2fedd9={}){const _0x21221d=_0x16f23b,{boxColor:_0x1d7695,lineWidth:_0x5bf826,label:_0x5e929f,drawLabelOptions:_0x95f013}=_0x2fedd9;this[_0x21221d(0x29e)]=_0x1d7695||_0x21221d(0x171),this[_0x21221d(0x165)]=_0x5bf826||0x2,this[_0x21221d(0x39d)]=_0x5e929f;const _0x3770c6={'anchorPosition':_0x21221d(0x1c3),'backgroundColor':this['boxColor']};this[_0x21221d(0x282)]=new DrawTextFieldOptions({..._0x3770c6,..._0x95f013});}},DrawBox=class{constructor(_0x3da922,_0x22726c={}){const _0x59f052=_0x16f23b;this[_0x59f052(0x20c)]=new Box(_0x3da922),this[_0x59f052(0x246)]=new DrawBoxOptions(_0x22726c);}[_0x16f23b(0x19b)](_0xfe263d){const _0x17384c=_0x16f23b,_0x4464c5=getContext2dOrThrow(_0xfe263d),{boxColor:_0x30fb99,lineWidth:_0x5bdb40}=this[_0x17384c(0x246)],{x:_0x1432d1,y:_0x5c3457,width:_0x21699b,height:_0x35a488}=this[_0x17384c(0x20c)];_0x4464c5[_0x17384c(0x312)]=_0x30fb99,_0x4464c5[_0x17384c(0x165)]=_0x5bdb40,_0x4464c5[_0x17384c(0x2a9)](_0x1432d1,_0x5c3457,_0x21699b,_0x35a488);const {label:_0x4d0d8f}=this[_0x17384c(0x246)];_0x4d0d8f&&new DrawTextField([_0x4d0d8f],{'x':_0x1432d1-_0x5bdb40/0x2,'y':_0x5c3457},this['options'][_0x17384c(0x282)])[_0x17384c(0x19b)](_0xfe263d);}};function drawDetections(_0x10067a,_0x258fff){const _0x212ad5=_0x16f23b,_0x126fb2=Array['isArray'](_0x258fff)?_0x258fff:[_0x258fff];_0x126fb2[_0x212ad5(0x129)](_0x416c7e=>{const _0x4ddf4e=_0x212ad5,_0x59a51f=_0x416c7e instanceof FaceDetection?_0x416c7e[_0x4ddf4e(0x306)]:isWithFaceDetection(_0x416c7e)?_0x416c7e['detection'][_0x4ddf4e(0x306)]:void 0x0,_0x25cbe8=_0x416c7e instanceof FaceDetection?_0x416c7e[_0x4ddf4e(0x20c)]:isWithFaceDetection(_0x416c7e)?_0x416c7e[_0x4ddf4e(0x24c)][_0x4ddf4e(0x20c)]:new Box(_0x416c7e),_0x4820cd=_0x59a51f?''+round(_0x59a51f):void 0x0;new DrawBox(_0x25cbe8,{'label':_0x4820cd})[_0x4ddf4e(0x19b)](_0x10067a);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x247feb){const _0x19668a=_0x16f23b,{Image:_0x2125d0,Video:_0x5b16b8}=env[_0x19668a(0x3a9)]();return _0x247feb instanceof _0x2125d0&&_0x247feb[_0x19668a(0x269)]||_0x247feb instanceof _0x5b16b8&&_0x247feb[_0x19668a(0x277)]>=0x3;}function awaitMediaLoaded(_0x447c05){return new Promise((_0x471c4e,_0x6d61c8)=>{const _0x295eec=_0x2675;if(_0x447c05 instanceof env['getEnv']()[_0x295eec(0x2e3)]||isMediaLoaded(_0x447c05))_0x471c4e(null);function _0x5e335f(_0x245002){const _0x9bd430=_0x295eec;if(!_0x245002[_0x9bd430(0x2c7)])return;_0x245002['currentTarget'][_0x9bd430(0x38a)](_0x9bd430(0x251),_0x52106e),_0x245002[_0x9bd430(0x2c7)][_0x9bd430(0x38a)](_0x9bd430(0x1ca),_0x5e335f),_0x6d61c8(_0x245002);}function _0x52106e(_0x3c2493){const _0x4474a2=_0x295eec;if(!_0x3c2493[_0x4474a2(0x2c7)])return;_0x3c2493['currentTarget'][_0x4474a2(0x38a)](_0x4474a2(0x251),_0x52106e),_0x3c2493['currentTarget']['removeEventListener']('error',_0x5e335f),_0x471c4e(_0x3c2493);}_0x447c05[_0x295eec(0x38d)](_0x295eec(0x251),_0x52106e),_0x447c05[_0x295eec(0x38d)](_0x295eec(0x1ca),_0x5e335f);});}function bufferToImage(_0x9efa67){return new Promise((_0x24bad2,_0x2a7dfd)=>{const _0x1f0e6a=_0x2675;if(!(_0x9efa67 instanceof Blob))_0x2a7dfd(new Error(_0x1f0e6a(0x1e6)));const _0x553bd7=new FileReader();_0x553bd7[_0x1f0e6a(0x29b)]=()=>{const _0x1ff738=_0x1f0e6a;if(typeof _0x553bd7[_0x1ff738(0x14d)]!==_0x1ff738(0x279))_0x2a7dfd(new Error(_0x1ff738(0x144)));const _0x3f2d13=env['getEnv']()[_0x1ff738(0x319)]();_0x3f2d13[_0x1ff738(0x29b)]=()=>_0x24bad2(_0x3f2d13),_0x3f2d13[_0x1ff738(0x339)]=_0x2a7dfd,_0x3f2d13['src']=_0x553bd7['result'];},_0x553bd7['onerror']=_0x2a7dfd,_0x553bd7[_0x1f0e6a(0x230)](_0x9efa67);});}function _0x2675(_0x5f557b,_0x456ce1){const _0x345409=_0x3454();return _0x2675=function(_0x2675d6,_0x4a82c8){_0x2675d6=_0x2675d6-0x128;let _0x340edd=_0x345409[_0x2675d6];return _0x340edd;},_0x2675(_0x5f557b,_0x456ce1);}function getMediaDimensions(_0x4eda96){const _0x42af8d=_0x16f23b,{Image:_0x15da4f,Video:_0x2f72de}=env[_0x42af8d(0x3a9)]();if(_0x4eda96 instanceof _0x15da4f)return new Dimensions(_0x4eda96[_0x42af8d(0x29d)],_0x4eda96[_0x42af8d(0x325)]);if(_0x4eda96 instanceof _0x2f72de)return new Dimensions(_0x4eda96[_0x42af8d(0x32e)],_0x4eda96[_0x42af8d(0x352)]);return new Dimensions(_0x4eda96[_0x42af8d(0x341)],_0x4eda96[_0x42af8d(0x39e)]);}function createCanvas({width:_0x253c2f,height:_0x699466}){const _0x1a2236=_0x16f23b,{createCanvasElement:_0x475025}=env[_0x1a2236(0x3a9)](),_0xadefdd=_0x475025();return _0xadefdd[_0x1a2236(0x341)]=_0x253c2f,_0xadefdd[_0x1a2236(0x39e)]=_0x699466,_0xadefdd;}function createCanvasFromMedia(_0x5daa7a,_0x88dd62){const _0x255b09=_0x16f23b,{ImageData:_0x49e0b0}=env[_0x255b09(0x3a9)]();if(!(_0x5daa7a instanceof _0x49e0b0)&&!isMediaLoaded(_0x5daa7a))throw new Error(_0x255b09(0x30e));const {width:_0x507f7e,height:_0xb9e330}=_0x88dd62||getMediaDimensions(_0x5daa7a),_0x43a91e=createCanvas({'width':_0x507f7e,'height':_0xb9e330});return _0x5daa7a instanceof _0x49e0b0?getContext2dOrThrow(_0x43a91e)[_0x255b09(0x1eb)](_0x5daa7a,0x0,0x0):getContext2dOrThrow(_0x43a91e)[_0x255b09(0x366)](_0x5daa7a,0x0,0x0,_0x507f7e,_0xb9e330),_0x43a91e;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x15f57d,_0x50fe8e){const _0x9c31e1=_0x16f23b,_0x5258c2=_0x50fe8e||env[_0x9c31e1(0x3a9)]()['createCanvasElement'](),[_0x1084c2,_0x491849,_0x52ce55]=_0x15f57d[_0x9c31e1(0x363)][_0x9c31e1(0x289)](isTensor4D(_0x15f57d)?0x1:0x0),_0x4c3a39=tf4['tidy'](()=>_0x15f57d[_0x9c31e1(0x19c)](_0x1084c2,_0x491849,_0x52ce55)[_0x9c31e1(0x21c)]());return await tf4[_0x9c31e1(0x2be)][_0x9c31e1(0x262)](_0x4c3a39,_0x5258c2),_0x4c3a39[_0x9c31e1(0x2ae)](),_0x5258c2;}function isMediaElement(_0x3dcf98){const {Image:_0x479395,Canvas:_0x3bdc70,Video:_0x1e58d9}=env['getEnv']();return _0x3dcf98 instanceof _0x479395||_0x3dcf98 instanceof _0x3bdc70||_0x3dcf98 instanceof _0x1e58d9;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x4dad6d,_0x19f8fc,_0x4ea85b=![]){const _0x28036a=_0x16f23b,{Image:_0x2c62d5,Canvas:_0x11b4c1}=env[_0x28036a(0x3a9)]();if(!(_0x4dad6d instanceof _0x2c62d5||_0x4dad6d instanceof _0x11b4c1))throw new Error('imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement');if(_0x19f8fc<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0xa52402=getMediaDimensions(_0x4dad6d),_0x2e4cff=_0x19f8fc/Math[_0x28036a(0x2d4)](_0xa52402['height'],_0xa52402['width']),_0x22c77f=_0x2e4cff*_0xa52402['width'],_0x33852b=_0x2e4cff*_0xa52402[_0x28036a(0x39e)],_0x153c36=createCanvas({'width':_0x19f8fc,'height':_0x19f8fc}),_0x5386ec=_0x4dad6d instanceof _0x11b4c1?_0x4dad6d:createCanvasFromMedia(_0x4dad6d),_0x5b1fdc=Math[_0x28036a(0x193)](_0x22c77f-_0x33852b)/0x2,_0x135f58=_0x4ea85b&&_0x22c77f<_0x33852b?_0x5b1fdc:0x0,_0x27774d=_0x4ea85b&&_0x33852b<_0x22c77f?_0x5b1fdc:0x0;if(_0x5386ec['width']>0x0&&_0x5386ec[_0x28036a(0x39e)]>0x0)getContext2dOrThrow(_0x153c36)['drawImage'](_0x5386ec,_0x135f58,_0x27774d,_0x22c77f,_0x33852b);return _0x153c36;}var NetInput=class{constructor(_0x2e7478,_0x2e4881=![]){const _0x57b13f=_0x16f23b;this[_0x57b13f(0x338)]=[],this[_0x57b13f(0x22b)]=[],this[_0x57b13f(0x2ed)]=![],this[_0x57b13f(0x181)]=[],this[_0x57b13f(0x26c)]=0x0;if(!Array['isArray'](_0x2e7478))throw new Error('NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20'+_0x2e7478);this[_0x57b13f(0x2ed)]=_0x2e4881,this['_batchSize']=_0x2e7478[_0x57b13f(0x248)],_0x2e7478[_0x57b13f(0x129)]((_0x351234,_0x27d608)=>{const _0x21a7f9=_0x57b13f;if(isTensor3D(_0x351234)){this[_0x21a7f9(0x338)][_0x27d608]=_0x351234,this[_0x21a7f9(0x181)][_0x27d608]=_0x351234[_0x21a7f9(0x363)];return;}if(isTensor4D(_0x351234)){const _0x3b8a08=_0x351234[_0x21a7f9(0x363)][0x0];if(_0x3b8a08!==0x1)throw new Error(_0x21a7f9(0x2c4)+_0x3b8a08+_0x21a7f9(0x2e0));this[_0x21a7f9(0x338)][_0x27d608]=_0x351234,this[_0x21a7f9(0x181)][_0x27d608]=_0x351234['shape'][_0x21a7f9(0x289)](0x1);return;}const _0xff1106=_0x351234 instanceof env['getEnv']()[_0x21a7f9(0x2e3)]?_0x351234:createCanvasFromMedia(_0x351234);this[_0x21a7f9(0x22b)][_0x27d608]=_0xff1106,this[_0x21a7f9(0x181)][_0x27d608]=[_0xff1106['height'],_0xff1106[_0x21a7f9(0x341)],0x3];});}get[_0x16f23b(0x168)](){return this['_imageTensors'];}get[_0x16f23b(0x337)](){const _0x1ce0c8=_0x16f23b;return this[_0x1ce0c8(0x22b)];}get[_0x16f23b(0x219)](){const _0x3a6976=_0x16f23b;return this[_0x3a6976(0x318)]>0x1||this[_0x3a6976(0x2ed)];}get[_0x16f23b(0x318)](){const _0x4dfe56=_0x16f23b;return this[_0x4dfe56(0x2ac)];}get[_0x16f23b(0x1c1)](){return this['_inputDimensions'];}get[_0x16f23b(0x13b)](){const _0x439eb0=_0x16f23b;return this[_0x439eb0(0x26c)];}get[_0x16f23b(0x2f1)](){const _0x2fd954=_0x16f23b;return range(this['batchSize'],0x0,0x1)['map']((_0x1b30eb,_0x51a00b)=>this[_0x2fd954(0x300)](_0x51a00b));}[_0x16f23b(0x1ee)](_0x47c8ef){const _0x460f87=_0x16f23b;return this[_0x460f87(0x337)][_0x47c8ef]||this[_0x460f87(0x168)][_0x47c8ef];}[_0x16f23b(0x26a)](_0x246200){const _0x5c8381=_0x16f23b;return this[_0x5c8381(0x181)][_0x246200];}['getInputHeight'](_0x10a3f6){const _0x50644b=_0x16f23b;return this[_0x50644b(0x181)][_0x10a3f6][0x0];}[_0x16f23b(0x33b)](_0x113da7){const _0x483849=_0x16f23b;return this[_0x483849(0x181)][_0x113da7][0x1];}[_0x16f23b(0x300)](_0x13dbf4){const _0x3bea1c=_0x16f23b;if(typeof this[_0x3bea1c(0x13b)]!==_0x3bea1c(0x2d7))throw new Error(_0x3bea1c(0x333));const _0x24a8f4=this[_0x3bea1c(0x33b)](_0x13dbf4),_0x3c522d=this['getInputHeight'](_0x13dbf4);return computeReshapedDimensions({'width':_0x24a8f4,'height':_0x3c522d},this[_0x3bea1c(0x13b)]);}[_0x16f23b(0x2ef)](_0x45cff1,_0x2ea798=!![]){const _0x32ee93=_0x16f23b;return this[_0x32ee93(0x26c)]=_0x45cff1,tf5[_0x32ee93(0x378)](()=>{const _0x599b3b=_0x32ee93,_0x5ed092=range(this['batchSize'],0x0,0x1)[_0x599b3b(0x2a2)](_0x5f0e66=>{const _0x2b681f=_0x599b3b,_0x55b1f8=this[_0x2b681f(0x1ee)](_0x5f0e66);if(_0x55b1f8 instanceof tf5[_0x2b681f(0x174)]){let _0x34a944=isTensor4D(_0x55b1f8)?_0x55b1f8:tf5[_0x2b681f(0x362)](_0x55b1f8);return _0x34a944=padToSquare(_0x34a944,_0x2ea798),(_0x34a944[_0x2b681f(0x363)][0x1]!==_0x45cff1||_0x34a944[_0x2b681f(0x363)][0x2]!==_0x45cff1)&&(_0x34a944=tf5[_0x2b681f(0x13e)][_0x2b681f(0x249)](_0x34a944,[_0x45cff1,_0x45cff1],![],![])),_0x34a944[_0x2b681f(0x19c)](_0x45cff1,_0x45cff1,0x3);}if(_0x55b1f8 instanceof env[_0x2b681f(0x3a9)]()[_0x2b681f(0x2e3)])return tf5[_0x2b681f(0x2be)][_0x2b681f(0x16d)](imageToSquare(_0x55b1f8,_0x45cff1,_0x2ea798));throw new Error(_0x2b681f(0x3a5)+_0x5f0e66+',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20'+_0x55b1f8);}),_0x572d5f=tf5[_0x599b3b(0x228)](_0x5ed092[_0x599b3b(0x2a2)](_0x8fa87f=>tf5[_0x599b3b(0x2d0)](_0x8fa87f,_0x599b3b(0x183))))[_0x599b3b(0x1fc)](this[_0x599b3b(0x318)],_0x45cff1,_0x45cff1,0x3);return _0x572d5f;});}};async function toNetInput(_0x5f0769){const _0x274807=_0x16f23b;if(_0x5f0769 instanceof NetInput)return _0x5f0769;const _0x489cd4=Array['isArray'](_0x5f0769)?_0x5f0769:[_0x5f0769];if(!_0x489cd4[_0x274807(0x248)])throw new Error('toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input');const _0x6e8295=_0x4310c8=>Array[_0x274807(0x3a2)](_0x5f0769)?_0x274807(0x2f4)+_0x4310c8+':':'',_0x5670e6=_0x489cd4['map'](resolveInput);return _0x5670e6[_0x274807(0x129)]((_0x243f6b,_0x38cceb)=>{const _0x2d0fbd=_0x274807;if(!isMediaElement(_0x243f6b)&&!isTensor3D(_0x243f6b)&&!isTensor4D(_0x243f6b)){if(typeof _0x489cd4[_0x38cceb]===_0x2d0fbd(0x279))throw new Error(_0x2d0fbd(0x185)+_0x6e8295(_0x38cceb)+_0x2d0fbd(0x161)+_0x489cd4[_0x38cceb]);throw new Error(_0x2d0fbd(0x185)+_0x6e8295(_0x38cceb)+_0x2d0fbd(0x2b0));}if(isTensor4D(_0x243f6b)){const _0x2fc286=_0x243f6b['shape'][0x0];if(_0x2fc286!==0x1)throw new Error(_0x2d0fbd(0x185)+_0x6e8295(_0x38cceb)+_0x2d0fbd(0x17d)+_0x2fc286+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');}}),await Promise[_0x274807(0x209)](_0x5670e6[_0x274807(0x2a2)](_0x38d878=>isMediaElement(_0x38d878)&&awaitMediaLoaded(_0x38d878))),new NetInput(_0x5670e6,Array[_0x274807(0x3a2)](_0x5f0769));}async function extractFaces(_0x451b9c,_0x5470c3){const _0x5063ef=_0x16f23b,{Canvas:_0x287625}=env[_0x5063ef(0x3a9)]();let _0x5240c5=_0x451b9c;if(!(_0x451b9c instanceof _0x287625)){const _0xa6292a=await toNetInput(_0x451b9c);if(_0xa6292a[_0x5063ef(0x318)]>0x1)throw new Error(_0x5063ef(0x371));const _0x9502be=_0xa6292a['getInput'](0x0);_0x5240c5=_0x9502be instanceof _0x287625?_0x9502be:await imageTensorToCanvas(_0x9502be);}const _0x39c7fa=getContext2dOrThrow(_0x5240c5),_0x4ec451=_0x5470c3['map'](_0x4b0d41=>_0x4b0d41 instanceof FaceDetection?_0x4b0d41[_0x5063ef(0x2b7)](_0x5240c5[_0x5063ef(0x341)],_0x5240c5[_0x5063ef(0x39e)])['box'][_0x5063ef(0x145)]():_0x4b0d41)[_0x5063ef(0x2a2)](_0xfb48a7=>_0xfb48a7['clipAtImageBorders'](_0x5240c5[_0x5063ef(0x341)],_0x5240c5[_0x5063ef(0x39e)]));return _0x4ec451['map'](({x:_0x2c3359,y:_0x49b4d2,width:_0xc98c4e,height:_0x594213})=>{const _0x181db8=_0x5063ef,_0x4c1f53=createCanvas({'width':_0xc98c4e,'height':_0x594213});if(_0xc98c4e>0x0&&_0x594213>0x0)getContext2dOrThrow(_0x4c1f53)['putImageData'](_0x39c7fa[_0x181db8(0x273)](_0x2c3359,_0x49b4d2,_0xc98c4e,_0x594213),0x0,0x0);return _0x4c1f53;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x5178ff,_0x4767c4){const _0x2dcdf5=_0x16f23b;if(!isTensor3D(_0x5178ff)&&!isTensor4D(_0x5178ff))throw new Error(_0x2dcdf5(0x349));if(isTensor4D(_0x5178ff)&&_0x5178ff[_0x2dcdf5(0x363)][0x0]>0x1)throw new Error('extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported');return tf6['tidy'](()=>{const _0x2ec44b=_0x2dcdf5,[_0x3ccc7d,_0x283936,_0x5a7a2d]=_0x5178ff['shape'][_0x2ec44b(0x289)](isTensor4D(_0x5178ff)?0x1:0x0),_0x1611bd=_0x4767c4[_0x2ec44b(0x2a2)](_0x1fd25d=>_0x1fd25d instanceof FaceDetection?_0x1fd25d[_0x2ec44b(0x2b7)](_0x283936,_0x3ccc7d)[_0x2ec44b(0x20c)]:_0x1fd25d)[_0x2ec44b(0x2a2)](_0x530d2a=>_0x530d2a[_0x2ec44b(0x27b)](_0x283936,_0x3ccc7d)),_0x3d47d8=_0x1611bd[_0x2ec44b(0x367)](_0x251539=>_0x251539[_0x2ec44b(0x341)]>0x0&&_0x251539[_0x2ec44b(0x39e)]>0x0)[_0x2ec44b(0x2a2)](({x:_0x4fd32a,y:_0x32456b,width:_0x48e977,height:_0x5104b2})=>tf6[_0x2ec44b(0x32f)](_0x5178ff['as3D'](_0x3ccc7d,_0x283936,_0x5a7a2d),[_0x32456b,_0x4fd32a,0x0],[_0x5104b2,_0x48e977,_0x5a7a2d]));return _0x3d47d8;});}async function fetchOrThrow(_0x5c9af3,_0x3d9918){const _0x20e98a=_0x16f23b,{fetch:_0x531b18}=env[_0x20e98a(0x3a9)](),_0x109353=await _0x531b18(_0x5c9af3,_0x3d9918);if(!(_0x109353[_0x20e98a(0x2af)]<0x190))throw new Error('failed\x20to\x20fetch:\x20('+_0x109353['status']+')\x20'+_0x109353[_0x20e98a(0x3b4)]+_0x20e98a(0x236)+_0x109353[_0x20e98a(0x1a6)]);return _0x109353;}async function fetchImage(_0x5c5525){const _0x42290c=_0x16f23b,_0x94e04e=await fetchOrThrow(_0x5c5525),_0x3e908e=await _0x94e04e['blob']();if(!_0x3e908e['type'][_0x42290c(0x398)](_0x42290c(0x19d)))throw new Error(_0x42290c(0x2f0)+_0x3e908e['type']+_0x42290c(0x387)+_0x94e04e[_0x42290c(0x1a6)]);return bufferToImage(_0x3e908e);}async function fetchJson(_0x324db3){return(await fetchOrThrow(_0x324db3))['json']();}async function fetchNetWeights(_0x53ddab){return new Float32Array(await(await fetchOrThrow(_0x53ddab))['arrayBuffer']());}function bufferToVideo(_0x902ed4){return new Promise((_0x23c796,_0xfcaf62)=>{const _0x1aaa2c=_0x2675;if(!(_0x902ed4 instanceof Blob))_0xfcaf62(new Error(_0x1aaa2c(0x23f)));const _0x2fdd30=env[_0x1aaa2c(0x3a9)]()['createVideoElement']();_0x2fdd30[_0x1aaa2c(0x1ce)]=()=>_0x23c796(_0x2fdd30),_0x2fdd30[_0x1aaa2c(0x339)]=_0xfcaf62,_0x2fdd30[_0x1aaa2c(0x2de)]=!![],_0x2fdd30[_0x1aaa2c(0x1a8)]=!![],_0x2fdd30[_0x1aaa2c(0x281)]=URL[_0x1aaa2c(0x3ad)](_0x902ed4),_0x2fdd30['play']();});}async function fetchVideo(_0xfa8b39){const _0x233b28=_0x16f23b,_0x1018b7=await fetchOrThrow(_0xfa8b39),_0x103d50=await _0x1018b7['blob']();if(!_0x103d50[_0x233b28(0x3b5)]['startsWith'](_0x233b28(0x368)))throw new Error('fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20'+_0x103d50[_0x233b28(0x3b5)]+_0x233b28(0x387)+_0x1018b7[_0x233b28(0x1a6)]);return bufferToVideo(_0x103d50);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0xa61e85,_0x5dcc74){const _0xb3408e=_0x16f23b,_0x5ee399=_0x5dcc74+'-weights_manifest.json';if(!_0xa61e85)return{'modelBaseUri':'','manifestUri':_0x5ee399};if(_0xa61e85==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x5ee399};const _0x2a4e33=_0xa61e85[_0xb3408e(0x398)](_0xb3408e(0x1a3))?'http://':_0xa61e85[_0xb3408e(0x398)](_0xb3408e(0x26e))?_0xb3408e(0x26e):'';_0xa61e85=_0xa61e85[_0xb3408e(0x12c)](_0x2a4e33,'');const _0x3b0354=_0xa61e85[_0xb3408e(0x23c)]('/')[_0xb3408e(0x367)](_0x41e2f5=>_0x41e2f5),_0x590fac=_0xa61e85[_0xb3408e(0x34b)](_0xb3408e(0x149))?_0x3b0354[_0x3b0354[_0xb3408e(0x248)]-0x1]:_0x5ee399;let _0x2bcc02=_0x2a4e33+(_0xa61e85[_0xb3408e(0x34b)](_0xb3408e(0x149))?_0x3b0354['slice'](0x0,_0x3b0354[_0xb3408e(0x248)]-0x1):_0x3b0354)[_0xb3408e(0x12b)]('/');return _0x2bcc02=_0xa61e85['startsWith']('/')?'/'+_0x2bcc02:_0x2bcc02,{'modelBaseUri':_0x2bcc02,'manifestUri':_0x2bcc02==='/'?'/'+_0x590fac:_0x2bcc02+'/'+_0x590fac};}async function loadWeightMap(_0x443040,_0x355524){const _0x24faf1=_0x16f23b,{manifestUri:_0x34adea,modelBaseUri:_0xee13f1}=getModelUris(_0x443040,_0x355524),_0x52dc87=await fetchJson(_0x34adea);return tf7['io'][_0x24faf1(0x15c)](_0x52dc87,_0xee13f1);}function matchDimensions(_0x2f3d27,_0x320a96,_0x5e0cd8=![]){const _0x3c6e4a=_0x16f23b,{width:_0x5c99da,height:_0x1d4c8f}=_0x5e0cd8?getMediaDimensions(_0x320a96):_0x320a96;return _0x2f3d27[_0x3c6e4a(0x341)]=_0x5c99da,_0x2f3d27['height']=_0x1d4c8f,{'width':_0x5c99da,'height':_0x1d4c8f};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x11c7af){const _0x255b29=_0x16f23b;this['_params']=void 0x0,this['_paramMappings']=[],this[_0x255b29(0x254)]=_0x11c7af;}get['params'](){const _0x3724c2=_0x16f23b;return this[_0x3724c2(0x1b4)];}get[_0x16f23b(0x36d)](){const _0x1aa081=_0x16f23b;return this[_0x1aa081(0x28d)];}get[_0x16f23b(0x330)](){const _0x1c0fe2=_0x16f23b;return!!this[_0x1c0fe2(0x2ee)];}['getParamFromPath'](_0xb144a0){const _0x29df79=_0x16f23b,{obj:_0x53aef7,objProp:_0x138527}=this[_0x29df79(0x390)](_0xb144a0);return _0x53aef7[_0x138527];}[_0x16f23b(0x2b4)](_0x5f1dcc,_0x5b6205){const {obj:_0x36da4c,objProp:_0x44a9ea}=this['traversePropertyPath'](_0x5f1dcc);_0x36da4c[_0x44a9ea]['dispose'](),_0x36da4c[_0x44a9ea]=_0x5b6205;}[_0x16f23b(0x21e)](){const _0x304c67=_0x16f23b;return this[_0x304c67(0x28d)][_0x304c67(0x2a2)](({paramPath:_0x5515b5})=>({'path':_0x5515b5,'tensor':this[_0x304c67(0x139)](_0x5515b5)}));}['getTrainableParams'](){const _0x102b8e=_0x16f23b;return this[_0x102b8e(0x21e)]()['filter'](_0x435417=>_0x435417[_0x102b8e(0x239)]instanceof tf8[_0x102b8e(0x1ec)]);}[_0x16f23b(0x299)](){const _0x1fa777=_0x16f23b;return this['getParamList']()[_0x1fa777(0x367)](_0x4ef9db=>!(_0x4ef9db['tensor']instanceof tf8[_0x1fa777(0x1ec)]));}[_0x16f23b(0x1be)](){this['getFrozenParams']()['forEach'](({path:_0x3ff122,tensor:_0x328bc8})=>{const _0x15f41f=_0x2675;this[_0x15f41f(0x2b4)](_0x3ff122,_0x328bc8[_0x15f41f(0x1be)]());});}[_0x16f23b(0x25d)](){const _0x2eecd8=_0x16f23b;this[_0x2eecd8(0x20e)]()[_0x2eecd8(0x129)](({path:_0x155d68,tensor:_0x58faff})=>{const _0x3d0711=_0x2eecd8,_0x252ba2=tf8[_0x3d0711(0x239)](_0x58faff[_0x3d0711(0x18b)]());_0x58faff[_0x3d0711(0x2ae)](),this[_0x3d0711(0x2b4)](_0x155d68,_0x252ba2);});}[_0x16f23b(0x2ae)](_0x33fb9e=!![]){const _0x3f259d=_0x16f23b;this[_0x3f259d(0x21e)]()[_0x3f259d(0x129)](_0x63efb3=>{const _0x6498df=_0x3f259d;if(_0x33fb9e&&_0x63efb3[_0x6498df(0x239)][_0x6498df(0x263)])throw new Error('param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20'+_0x63efb3[_0x6498df(0x346)]);_0x63efb3[_0x6498df(0x239)][_0x6498df(0x2ae)]();}),this[_0x3f259d(0x1b4)]=void 0x0;}[_0x16f23b(0x393)](){const _0x10edfc=_0x16f23b;return new Float32Array(this[_0x10edfc(0x21e)]()[_0x10edfc(0x2a2)](({tensor:_0x14de06})=>Array[_0x10edfc(0x190)](_0x14de06[_0x10edfc(0x18b)]()))[_0x10edfc(0x20d)]((_0x1d8791,_0x3e9f9d)=>_0x1d8791['concat'](_0x3e9f9d)));}async['load'](_0x20393e){if(_0x20393e instanceof Float32Array){this['extractWeights'](_0x20393e);return;}await this['loadFromUri'](_0x20393e);}async[_0x16f23b(0x24e)](_0xd22e4f){const _0x302333=_0x16f23b;if(_0xd22e4f&&typeof _0xd22e4f!=='string')throw new Error(this['_name']+_0x302333(0x28a));const _0x59b6cd=await loadWeightMap(_0xd22e4f,this[_0x302333(0x30b)]());this[_0x302333(0x153)](_0x59b6cd);}async['loadFromDisk'](_0x1b2bde){const _0x843e79=_0x16f23b;if(_0x1b2bde&&typeof _0x1b2bde!==_0x843e79(0x279))throw new Error(this[_0x843e79(0x254)]+'.loadFromDisk\x20-\x20expected\x20model\x20file\x20path');const {readFile:_0x483975}=env['getEnv'](),{manifestUri:_0x21fc54,modelBaseUri:_0x1b7892}=getModelUris(_0x1b2bde,this[_0x843e79(0x30b)]()),_0x428eb2=_0x567397=>Promise[_0x843e79(0x209)](_0x567397[_0x843e79(0x2a2)](_0x37270e=>_0x483975(_0x37270e)['then'](_0x7b3f48=>_0x7b3f48[_0x843e79(0x204)]))),_0x491a76=tf8['io'][_0x843e79(0x23e)](_0x428eb2),_0x1399f4=JSON['parse']((await _0x483975(_0x21fc54))[_0x843e79(0x2d6)]()),_0x26984f=await _0x491a76(_0x1399f4,_0x1b7892);this[_0x843e79(0x153)](_0x26984f);}[_0x16f23b(0x153)](_0x4ad1c0){const _0x3be4c3=_0x16f23b,{paramMappings:_0x2a4af3,params:_0x53e077}=this[_0x3be4c3(0x2f7)](_0x4ad1c0);this[_0x3be4c3(0x28d)]=_0x2a4af3,this['_params']=_0x53e077;}[_0x16f23b(0x261)](_0x24b99e){const _0x3eec1b=_0x16f23b,{paramMappings:_0x63d25d,params:_0x9941af}=this[_0x3eec1b(0x39a)](_0x24b99e);this[_0x3eec1b(0x28d)]=_0x63d25d,this[_0x3eec1b(0x1b4)]=_0x9941af;}[_0x16f23b(0x390)](_0x2028f6){const _0x2c283f=_0x16f23b;if(!this['params'])throw new Error(_0x2c283f(0x250));const _0x2df270=_0x2028f6[_0x2c283f(0x23c)]('/')[_0x2c283f(0x20d)]((_0x12fb4f,_0x1edabc)=>{const _0xfae8eb=_0x2c283f;if(!_0x12fb4f['nextObj'][_0xfae8eb(0x22d)](_0x1edabc))throw new Error(_0xfae8eb(0x377)+_0x1edabc+',\x20for\x20path\x20'+_0x2028f6);return{'obj':_0x12fb4f['nextObj'],'objProp':_0x1edabc,'nextObj':_0x12fb4f[_0xfae8eb(0x392)][_0x1edabc]};},{'nextObj':this[_0x2c283f(0x2ee)]}),{obj:_0x17bffd,objProp:_0x4c20bb}=_0x2df270;if(!_0x17bffd||!_0x4c20bb||!(_0x17bffd[_0x4c20bb]instanceof tf8['Tensor']))throw new Error(_0x2c283f(0x38c)+_0x2028f6);return{'obj':_0x17bffd,'objProp':_0x4c20bb};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x431b6d,_0x542cbf,_0x116ee2){return tf9['tidy'](()=>{const _0x4a4379=_0x2675;let _0x4a0c27=tf9[_0x4a4379(0x1e9)](_0x431b6d,_0x542cbf[_0x4a4379(0x302)],_0x542cbf['pointwise_filter'],_0x116ee2,_0x4a4379(0x33f));return _0x4a0c27=tf9[_0x4a4379(0x348)](_0x4a0c27,_0x542cbf[_0x4a4379(0x257)]),_0x4a0c27;});}function denseBlock3(_0x4d76ef,_0x4b42ef,_0x2b831a=![]){const _0x238204=_0x16f23b;return tf10[_0x238204(0x378)](()=>{const _0x114d24=_0x238204,_0x53b0c8=tf10[_0x114d24(0x157)](_0x2b831a?tf10['add'](tf10[_0x114d24(0x128)](_0x4d76ef,_0x4b42ef[_0x114d24(0x28f)][_0x114d24(0x1c8)],[0x2,0x2],_0x114d24(0x33f)),_0x4b42ef[_0x114d24(0x28f)]['bias']):depthwiseSeparableConv(_0x4d76ef,_0x4b42ef['conv0'],[0x2,0x2])),_0x445db2=depthwiseSeparableConv(_0x53b0c8,_0x4b42ef[_0x114d24(0x35a)],[0x1,0x1]),_0x3bed75=tf10[_0x114d24(0x157)](tf10[_0x114d24(0x348)](_0x53b0c8,_0x445db2)),_0x3e310f=depthwiseSeparableConv(_0x3bed75,_0x4b42ef['conv2'],[0x1,0x1]);return tf10[_0x114d24(0x157)](tf10[_0x114d24(0x348)](_0x53b0c8,tf10['add'](_0x445db2,_0x3e310f)));});}function denseBlock4(_0x4e1836,_0x4bc24c,_0x16ea69=![],_0x1af245=!![]){const _0x351d0a=_0x16f23b;return tf10[_0x351d0a(0x378)](()=>{const _0x362fb6=_0x351d0a,_0x18c98d=tf10[_0x362fb6(0x157)](_0x16ea69?tf10['add'](tf10[_0x362fb6(0x128)](_0x4e1836,_0x4bc24c[_0x362fb6(0x28f)][_0x362fb6(0x1c8)],_0x1af245?[0x2,0x2]:[0x1,0x1],_0x362fb6(0x33f)),_0x4bc24c[_0x362fb6(0x28f)][_0x362fb6(0x257)]):depthwiseSeparableConv(_0x4e1836,_0x4bc24c[_0x362fb6(0x28f)],_0x1af245?[0x2,0x2]:[0x1,0x1])),_0x5383de=depthwiseSeparableConv(_0x18c98d,_0x4bc24c[_0x362fb6(0x35a)],[0x1,0x1]),_0x32c91a=tf10[_0x362fb6(0x157)](tf10[_0x362fb6(0x348)](_0x18c98d,_0x5383de)),_0x372fe5=depthwiseSeparableConv(_0x32c91a,_0x4bc24c[_0x362fb6(0x1dc)],[0x1,0x1]),_0x3c685e=tf10[_0x362fb6(0x157)](tf10[_0x362fb6(0x348)](_0x18c98d,tf10[_0x362fb6(0x348)](_0x5383de,_0x372fe5))),_0x413d92=depthwiseSeparableConv(_0x3c685e,_0x4bc24c['conv3'],[0x1,0x1]);return tf10[_0x362fb6(0x157)](tf10[_0x362fb6(0x348)](_0x18c98d,tf10[_0x362fb6(0x348)](_0x5383de,tf10[_0x362fb6(0x348)](_0x372fe5,_0x413d92))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x56e98e,_0x57182a,_0x1161b2=_0x16f23b(0x33f),_0xec2dff=![]){const _0x1c6239=_0x16f23b;return tf11[_0x1c6239(0x378)](()=>{const _0x4f2146=_0x1c6239,_0x454208=tf11[_0x4f2146(0x348)](tf11[_0x4f2146(0x128)](_0x56e98e,_0x57182a['filters'],[0x1,0x1],_0x1161b2),_0x57182a[_0x4f2146(0x257)]);return _0xec2dff?tf11[_0x4f2146(0x157)](_0x454208):_0x454208;});}function disposeUnusedWeightTensors(_0x1966ee,_0x41e68a){const _0xc1416d=_0x16f23b;Object[_0xc1416d(0x1e8)](_0x1966ee)[_0xc1416d(0x129)](_0x5bccfa=>{const _0x424f77=_0xc1416d;!_0x41e68a[_0x424f77(0x1de)](_0x51192f=>_0x51192f[_0x424f77(0x285)]===_0x5bccfa)&&_0x1966ee[_0x5bccfa][_0x424f77(0x2ae)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x5dfea6,_0x575e26){return(_0xc912fb,_0x5410d3,_0x693de1,_0x1f0142)=>{const _0x18c949=_0x2675,_0x47ea82=tf12[_0x18c949(0x3ae)](_0x5dfea6(_0xc912fb*_0x5410d3*_0x693de1*_0x693de1),[_0x693de1,_0x693de1,_0xc912fb,_0x5410d3]),_0x2f19d1=tf12[_0x18c949(0x260)](_0x5dfea6(_0x5410d3));return _0x575e26['push']({'paramPath':_0x1f0142+_0x18c949(0x25f)},{'paramPath':_0x1f0142+_0x18c949(0x311)}),{'filters':_0x47ea82,'bias':_0x2f19d1};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x445347,_0x10816b){return(_0x332ef2,_0x52d3fd,_0x33baf7)=>{const _0x5c2266=_0x2675,_0x253683=tf13[_0x5c2266(0x26b)](_0x445347(_0x332ef2*_0x52d3fd),[_0x332ef2,_0x52d3fd]),_0x33c801=tf13[_0x5c2266(0x260)](_0x445347(_0x52d3fd));return _0x10816b[_0x5c2266(0x1fa)]({'paramPath':_0x33baf7+_0x5c2266(0x2a3)},{'paramPath':_0x33baf7+'/bias'}),{'weights':_0x253683,'bias':_0x33c801};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x3d2c61,_0x21696f,_0x21f91f){const _0xf37481=_0x16f23b;this[_0xf37481(0x302)]=_0x3d2c61,this[_0xf37481(0x215)]=_0x21696f,this[_0xf37481(0x257)]=_0x21f91f;}};function extractSeparableConvParamsFactory(_0xc3bd01,_0x24370b){return(_0xbc5974,_0x105ce4,_0x309945)=>{const _0xb8bc49=_0x2675,_0x4db51e=tf14[_0xb8bc49(0x3ae)](_0xc3bd01(0x3*0x3*_0xbc5974),[0x3,0x3,_0xbc5974,0x1]),_0x244336=tf14[_0xb8bc49(0x3ae)](_0xc3bd01(_0xbc5974*_0x105ce4),[0x1,0x1,_0xbc5974,_0x105ce4]),_0x4b5dac=tf14[_0xb8bc49(0x260)](_0xc3bd01(_0x105ce4));return _0x24370b[_0xb8bc49(0x1fa)]({'paramPath':_0x309945+_0xb8bc49(0x17e)},{'paramPath':_0x309945+_0xb8bc49(0x1bd)},{'paramPath':_0x309945+_0xb8bc49(0x311)}),new SeparableConvParams(_0x4db51e,_0x244336,_0x4b5dac);};}function loadSeparableConvParamsFactory(_0x373c33){return _0x2fe09f=>{const _0x518610=_0x2675,_0x352625=_0x373c33(_0x2fe09f+'/depthwise_filter',0x4),_0x29a7db=_0x373c33(_0x2fe09f+_0x518610(0x1bd),0x4),_0x503791=_0x373c33(_0x2fe09f+'/bias',0x1);return new SeparableConvParams(_0x352625,_0x29a7db,_0x503791);};}function extractWeightEntryFactory(_0xe5d6f7,_0x4fac4c){return(_0x3f94da,_0x4ef639,_0x44e03a)=>{const _0xfb1cbb=_0x2675,_0x4ea668=_0xe5d6f7[_0x3f94da];if(!isTensor(_0x4ea668,_0x4ef639))throw new Error('expected\x20weightMap['+_0x3f94da+_0xfb1cbb(0x18a)+_0x4ef639+_0xfb1cbb(0x1af)+_0x4ea668);return _0x4fac4c[_0xfb1cbb(0x1fa)]({'originalPath':_0x3f94da,'paramPath':_0x44e03a||_0x3f94da}),_0x4ea668;};}function extractWeightsFactory(_0x2b79e2){let _0x289a5f=_0x2b79e2;function _0x5cb852(_0xab6546){const _0x496614=_0x2675,_0x691d8c=_0x289a5f[_0x496614(0x289)](0x0,_0xab6546);return _0x289a5f=_0x289a5f[_0x496614(0x289)](_0xab6546),_0x691d8c;}function _0x5c53e2(){return _0x289a5f;}return{'extractWeights':_0x5cb852,'getRemainingWeights':_0x5c53e2};}function extractorsFactory(_0x19de77,_0x2472c3){const _0x1019bf=extractConvParamsFactory(_0x19de77,_0x2472c3),_0x5b7aa3=extractSeparableConvParamsFactory(_0x19de77,_0x2472c3);function _0x328c6b(_0x1640cc,_0x5ef23b,_0x294166,_0x4fdec3=![]){const _0x30af5b=_0x2675,_0x22e778=_0x4fdec3?_0x1019bf(_0x1640cc,_0x5ef23b,0x3,_0x294166+'/conv0'):_0x5b7aa3(_0x1640cc,_0x5ef23b,_0x294166+'/conv0'),_0x3d177f=_0x5b7aa3(_0x5ef23b,_0x5ef23b,_0x294166+_0x30af5b(0x304)),_0x133120=_0x5b7aa3(_0x5ef23b,_0x5ef23b,_0x294166+_0x30af5b(0x314));return{'conv0':_0x22e778,'conv1':_0x3d177f,'conv2':_0x133120};}function _0x25e74c(_0x4103b3,_0x59892c,_0x2aef59,_0x18e979=![]){const _0x4aad12=_0x2675,{conv0:_0x1fec52,conv1:_0x1088e7,conv2:_0x2fe5c7}=_0x328c6b(_0x4103b3,_0x59892c,_0x2aef59,_0x18e979),_0xf8717e=_0x5b7aa3(_0x59892c,_0x59892c,_0x2aef59+_0x4aad12(0x3ab));return{'conv0':_0x1fec52,'conv1':_0x1088e7,'conv2':_0x2fe5c7,'conv3':_0xf8717e};}return{'extractDenseBlock3Params':_0x328c6b,'extractDenseBlock4Params':_0x25e74c};}function extractParams(_0x22ff49){const _0x385fbf=_0x16f23b,_0x15a88b=[],{extractWeights:_0x4fb2d3,getRemainingWeights:_0xa774b7}=extractWeightsFactory(_0x22ff49),{extractDenseBlock4Params:_0x38062b}=extractorsFactory(_0x4fb2d3,_0x15a88b),_0x2871cd=_0x38062b(0x3,0x20,_0x385fbf(0x14a),!![]),_0x6de58f=_0x38062b(0x20,0x40,'dense1'),_0xa6d266=_0x38062b(0x40,0x80,'dense2'),_0x64a06a=_0x38062b(0x80,0x100,'dense3');if(_0xa774b7()['length']!==0x0)throw new Error(_0x385fbf(0x148)+_0xa774b7()[_0x385fbf(0x248)]);return{'paramMappings':_0x15a88b,'params':{'dense0':_0x2871cd,'dense1':_0x6de58f,'dense2':_0xa6d266,'dense3':_0x64a06a}};}function loadConvParamsFactory(_0x2d2f44){return _0x142469=>{const _0x256b2b=_0x2675,_0x36d908=_0x2d2f44(_0x142469+_0x256b2b(0x25f),0x4),_0x2c3390=_0x2d2f44(_0x142469+_0x256b2b(0x311),0x1);return{'filters':_0x36d908,'bias':_0x2c3390};};}function loadParamsFactory(_0x10e61f,_0x141358){const _0xb8607a=extractWeightEntryFactory(_0x10e61f,_0x141358),_0x126e3d=loadConvParamsFactory(_0xb8607a),_0x2e9186=loadSeparableConvParamsFactory(_0xb8607a);function _0x23afb4(_0x531e8f,_0x4930f4=![]){const _0x37d4ad=_0x2675,_0x445a4c=_0x4930f4?_0x126e3d(_0x531e8f+_0x37d4ad(0x133)):_0x2e9186(_0x531e8f+_0x37d4ad(0x133)),_0x3dcbc7=_0x2e9186(_0x531e8f+_0x37d4ad(0x304)),_0x4ee052=_0x2e9186(_0x531e8f+'/conv2');return{'conv0':_0x445a4c,'conv1':_0x3dcbc7,'conv2':_0x4ee052};}function _0xe847c7(_0x5e1d39,_0x4dc57a=![]){const _0x1e2b96=_0x2675,_0x38fe96=_0x4dc57a?_0x126e3d(_0x5e1d39+_0x1e2b96(0x133)):_0x2e9186(_0x5e1d39+'/conv0'),_0x1a3d6b=_0x2e9186(_0x5e1d39+_0x1e2b96(0x304)),_0x500f96=_0x2e9186(_0x5e1d39+'/conv2'),_0x54d67b=_0x2e9186(_0x5e1d39+_0x1e2b96(0x3ab));return{'conv0':_0x38fe96,'conv1':_0x1a3d6b,'conv2':_0x500f96,'conv3':_0x54d67b};}return{'extractDenseBlock3Params':_0x23afb4,'extractDenseBlock4Params':_0xe847c7};}function extractParamsFromWeightMap(_0x545403){const _0x5b3d8e=_0x16f23b,_0x4e7632=[],{extractDenseBlock4Params:_0x492498}=loadParamsFactory(_0x545403,_0x4e7632),_0x1a8222={'dense0':_0x492498(_0x5b3d8e(0x14a),!![]),'dense1':_0x492498(_0x5b3d8e(0x242)),'dense2':_0x492498('dense2'),'dense3':_0x492498(_0x5b3d8e(0x2c6))};return disposeUnusedWeightTensors(_0x545403,_0x4e7632),{'params':_0x1a8222,'paramMappings':_0x4e7632};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x35c330=_0x16f23b;super(_0x35c330(0x3a0));}[_0x16f23b(0x2bb)](_0x24b5b8){const _0x50192d=_0x16f23b,{params:_0x45853f}=this;if(!_0x45853f)throw new Error(_0x50192d(0x2dd));return tf15['tidy'](()=>{const _0x403e75=_0x50192d,_0x317621=tf15[_0x403e75(0x2d0)](_0x24b5b8[_0x403e75(0x2ef)](0x70,!![]),_0x403e75(0x183)),_0x5209f8=[122.782,117.001,104.298],_0x4de058=normalize(_0x317621,_0x5209f8)[_0x403e75(0x379)](0xff);let _0x1c3277=denseBlock4(_0x4de058,_0x45853f[_0x403e75(0x14a)],!![]);return _0x1c3277=denseBlock4(_0x1c3277,_0x45853f['dense1']),_0x1c3277=denseBlock4(_0x1c3277,_0x45853f[_0x403e75(0x21b)]),_0x1c3277=denseBlock4(_0x1c3277,_0x45853f[_0x403e75(0x2c6)]),_0x1c3277=tf15[_0x403e75(0x291)](_0x1c3277,[0x7,0x7],[0x2,0x2],_0x403e75(0x310)),_0x1c3277;});}async['forward'](_0x13aa25){const _0x3fad95=_0x16f23b;return this[_0x3fad95(0x2bb)](await toNetInput(_0x13aa25));}[_0x16f23b(0x30b)](){const _0x2ac62a=_0x16f23b;return _0x2ac62a(0x2c5);}[_0x16f23b(0x2f7)](_0x523b40){return extractParamsFromWeightMap(_0x523b40);}['extractParams'](_0xdf30a7){return extractParams(_0xdf30a7);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x500c8a,_0x5aaa53){const _0x4e3774=_0x16f23b;return tf16[_0x4e3774(0x378)](()=>tf16['add'](tf16['matMul'](_0x500c8a,_0x5aaa53[_0x4e3774(0x345)]),_0x5aaa53[_0x4e3774(0x257)]));}function extractParams2(_0x33024e,_0x5570cb,_0x26cc89){const _0x59a7a8=_0x16f23b,_0x557b28=[],{extractWeights:_0x57c1f8,getRemainingWeights:_0x5d0b42}=extractWeightsFactory(_0x33024e),_0x295f3a=extractFCParamsFactory(_0x57c1f8,_0x557b28),_0x70fa29=_0x295f3a(_0x5570cb,_0x26cc89,'fc');if(_0x5d0b42()[_0x59a7a8(0x248)]!==0x0)throw new Error(_0x59a7a8(0x148)+_0x5d0b42()[_0x59a7a8(0x248)]);return{'paramMappings':_0x557b28,'params':{'fc':_0x70fa29}};}function _0x3454(){const _0xdf8a92=['Georgia','as1D','exit_flow','stack','sort','runMobilenet','_canvases','conv_7','hasOwnProperty','default','log','readAsDataURL','getInputHeight','resizeResults\x20-\x20invalid\x20dimensions:\x20','runAndExtendWithFaceDetection','_height','_imageDims',',\x20from\x20url:\x20','TinyXception','\x20-\x20expected\x20property\x20label\x20(','tensor','withSeparableConvs','prediction_layer/box_predictor_','split','exp','weightsLoaderFactory','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','_pointwise/weights','dense1','then',')\x20must\x20be\x20positive\x20numbers','conv128_1','options','run','length','resizeBilinear','/BoxEncodingPredictor','age_gender_model','detection','withFaceDescriptor','loadFromUri',',\x20filterSize:\x20','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','load','className','moveTo','_name','prediction_layer','/pointwise_conv','bias','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','assertIsValidBox','landmarks','mobilenetv1/conv_4','bottom','freeze','FaceRecognitionNet','/filters','tensor1d','extractWeights','toPixels','isDisposed','/BatchNorm/moving_variance','MobilenetV1','classScore','asSortedArray','conv_9','complete','getInputDimensions','tensor2d','_inputSize','softmax','https://','config','angry','output_layer/extra_dim','Video','getImageData','prediction_layer/conv_4','_score','conv64_2','readyState','distance','string','happy','clipAtImageBorders','assertIsValidLabeledBox',')\x20and\x20(','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','/bn','createCanvasElement','src','drawLabelOptions','mobilenetv1','canvas','originalPath','conv3','align','/sub','slice','.loadFromUri\x20-\x20expected\x20model\x20uri','pitch','object','_paramMappings',',\x20numFilters:\x20','conv0','pop','avgPool','\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number','/separable_conv0','top','class_predictor','fearful','/depthwise_weights','isNodejs','getFrozenParams','conv7','onload','unstack','naturalWidth','boxColor','/batch_norm_scale','conv_0','shiftBy','map','/weights','middle_flow/main_block_','mobilenetv1/conv_','pointwise_conv','getUpperLeft','left','strokeRect','withFaceDescriptors','2970234UNBQbn','_batchSize','MobilenetV1/Conv2d_','dispose','status','\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id','TOP_RIGHT','/scale/weights','enumerable','reassignParamFromPath','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','min','forSize','entry_flow/reduction_block_0','padAtBorders','rescale','forwardInput','detect','landmarkNet','browser','tile','parentTask','faceExpressionNet','prediction_layer/conv_5','reverse','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','face_feature_extractor_model','dense3','currentTarget','prediction_layer/box_predictor_1/box_encoding_predictor','extractPredictedClass','stringify','/conv','MALE','assertIsValidPredictedBox','exit_flow/reduction_block','_imgDims','cast','mobilenetv1/conv_9','\x20-\x20load\x20model\x20before\x20inference','imageDims','max','every','toString','number','pointSize','TinyXception\x20-\x20load\x20model\x20before\x20inference','postProcess','reduction_block_0','bottomLeft','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','playsInline','input','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','tinyYolov2','TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','Canvas','conv_8','Prediction','ssdMobilenetv1','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','_maxResults','_width','classes','getRefPointsForAlignment','conv','_treatAsBatchInput','params','toBatchTensor','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','reshapedInputDimensions','alignDlib','68345JjtIjo','\x20at\x20input\x20index\x20','text','fontColor','extractParamsFromWeightMap','yaw','prediction_layer/box_predictor_1/class_predictor','/expansion_conv','getLeftEye','extractClassifierParams','conv256_1','_minConfidence','prototype','getReshapedInputDimensions','classPrediction','depthwise_filter','1.7.3','/conv1','box_predictor_0','score','_config','call','/BatchNorm/beta','4430640DEFONG','getDefaultModelName','round','getElementById','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','out','valid','/bias','strokeStyle','scoreThreshold','/conv2','conv11','TinyYolov2','isNaN','batchSize','createImageElement','entry_flow','boxEncodingSize','entry_flow/reduction_block_1','5DUhoYF','atan2','backgroundColor','createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment','roll','FaceLandmark68Net','box_encoding_predictor','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','naturalHeight','_box','toJSON','extractedFaces','matchDescriptor','withFaceLandmarks','main_block_','TOP_LEFT','disgusted','videoWidth','slice3d','isLoaded','fillStyle','probability','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','positions','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','versions','canvases','_imageTensors','onerror','filterSizes','getInputWidth','catch','conv64_down','iouThreshold','same','depthwise_conv','width','pointColor','_label','conv_5','weights','path','transpose','add','extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D','conv_12','endsWith','computeMeanDistance','fontSize','exports','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','/conv/filters','beginPath','videoHeight','fillRect','getMouth','\x20-\x20invalid\x20box:\x20','tensor3d','/BatchNorm/gamma','_faceFeatureExtractor','\x20-\x20width\x20(','conv1','batch_norm_variance','sqrt','unknown','face_landmark_68_model','loadClassifierParams','face_recognition_model','genderProbability','expandDims','shape','detectLandmarks','lineColor','drawImage','filter','video/','_depthwise','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','977499GmGmTN','conv4','paramMappings','getOwnPropertyNames','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','conv64_1','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','_scoreThreshold','_distanceThreshold','_className','mobilenetv1/conv_5','conv8','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','tidy','div','Image','prediction_layer/conv_1','expression','clipByValue','function','/batch_norm_mean','padding','_labeledDescriptors','alignedRect','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','fc/gender','fromJSON','locateFaces',',\x20for\x20url:\x20','_positions','invalid\x20config:\x20','removeEventListener','getNose','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','addEventListener','batchNorm','scalar','traversePropertyPath','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20','nextObj','serializeParams','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','prediction_layer/box_predictor_5/class_predictor','area','DEFAULT_FILTER_SIZES','startsWith','extra_dim','extractParams','prediction_layer/box_predictor_3/box_encoding_predictor','separable_conv2','label','height','8RUswvk','FaceFeatureExtractor','font','isArray','forward','magnitude','toBatchTensor\x20-\x20at\x20batchIdx\x20','conv32_2','lineTo','computeFaceDescriptor','getEnv','/batch_norm_variance','/conv3','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','createObjectURL','tensor4d','rgba(0,\x20255,\x20255,\x201)','zeros',')\x20and\x20height\x20(','conv_6','arc','statusText','type','exit_flow/separable_conv','1036674LkEaGy','conv2d','forEach','middle_flow','join','replace','/truediv','predictAgeAndGender','predictExpressions','HTMLCanvasElement','batch_norm_offset','mul','/conv0','\x20-\x20expected\x20properties\x20score\x20(','_numMainBlocks','/separable_conv2','reduction_block_1','sub','getParamFromPath','prediction_layer/box_predictor_4/box_encoding_predictor','inputSize','measureHeight','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','image','px\x20','faceLandmark68Net','relativePositions','/scale','isRect','bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload','floor','descriptors','useTinyLandmarkNet','weights\x20remaing\x20after\x20extract:\x20','.json','dense0','HTMLImageElement','array','result','getLeftEyeBrow','extractBoxes','getClassifierChannelsOut','_shift','img','loadFromWeightMap','conv5','/depthwise_conv','FaceExpressionNet','relu','matMul','16pmhnpi','runTinyYolov2','face_expression_model','loadWeights','node','mobilenetv1/conv_11','depth\x20has\x20to\x20be\x20an\x20integer:\x20','conv128_down','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','14wEYVIV','create','ImageData','lineWidth','data','TinyYolov2Options','imageTensors','withFaceExpressions','prediction_layer/box_predictor_2/box_encoding_predictor','topRight','face_landmark_68_tiny_model','fromPixels','_distance','conv256_down_out','/biases','rgba(0,\x200,\x20255,\x201)','conv_10','SsdMobilenetv1Options','Tensor','__esModule','conv_3','box_predictor_1','mobilenetv1/conv_7','/scale/biases','BOTTOM_RIGHT','box_predictor_4','\x20filterSizes\x20in\x20config','\x20tf.Tensor4D\x20with\x20batchSize\x20','/depthwise_filter','tiny_yolov2_model','batch_norm_mean','_inputDimensions','reshape','float32','getPrototypeOf','toNetInput\x20-','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','fill','conv128_2','Output/extra_dim',']\x20to\x20be\x20a\x20Tensor','dataSync','TinyFaceFeatureExtractor','shiftByPoint','alignMinBbox','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','from','mobilenetv1/conv_10','depthwiseConv2d','abs','/batch_norm_offset','bottomRight','as2D','conv_in','getOwnPropertyDescriptor','HTMLVideoElement','box_predictor_3','draw','as3D','image/','_classScore','reduction_block','box_predictor_5','conv_4','random','http://','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','tiny_yolov2_separable_conv_model','url','right','muted','relativeBox','13326621CNoodl','prediction_layer/box_predictor_5/box_encoding_predictor','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','3193820rBGNhD','isFirstLayerConv2d','D,\x20instead\x20have\x20','faceRecognitionNet','person\x20','mobilenetv1/conv_2','tinyFaceDetector','_params','constructor','boxPredictionEncoding','age','female','fontStyle','mobilenetv1/conv_1','measureText','arraySync','/pointwise_filter','variable','anchor','/box_encoding_predictor','inputDimensions','AgeGenderNet','BOTTOM_LEFT','/class_predictor','maxPool','sad','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','filters','runNet','error','meanRgb','truediv',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]','oncanplay','createElement','getRightEye','surprised','expressions','video','conv64_3','runAndExtendWithFaceDetections','findBestMatch','imageHeight','undefined','measureWidth','descriptor','separable_conv','conv2','imageWidth','some','@tensorflow/tfjs-node','mobilenetv1/conv_3','fc/age','fetch','faceLandmark68TinyNet','readFile','withAgeAndGender','bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob',',\x20weights.length:\x20','keys','separableConv2d','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','putImageData','Variable','TinyFaceDetectorOptions','getInput','expansion_conv','prediction_layer/conv_7','separable_conv1','/Conv2d_','mobilenetv1/conv_0','prediction_layer/conv_3','conv32_down','anchors','prediction_layer/conv_6','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','shift','push','prediction_layer/conv_2','as4D','neutral','conv6','conv32_3','gender','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','conv32_1','buffer','separable_conv0','faceLandmarks','tiny_xception_model','boxIndex','all','defineProperty','concat','box','reduce','getTrainableParams','/separable_conv1','conv256_down','distanceThreshold','withClassScores','conv256_2','male','pointwise_filter','mobilenetv1/conv_13','prediction_layer/conv_0',')\x20to\x20be\x20a\x20number','isBatchInput','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','dense2','toInt','_descriptors','getParamList','labeledDescriptors','pad','getClassifierChannelsIn','faceFeatureExtractor','ageGenderNet','entry_flow/conv_in'];_0x3454=function(){return _0xdf8a92;};return _0x3454();}function extractParamsFromWeightMap2(_0x5b8826){const _0x5876fa=[],_0xf7a7c2=extractWeightEntryFactory(_0x5b8826,_0x5876fa);function _0x414de6(_0x313cc6){const _0x526e84=_0x2675,_0x51f1df=_0xf7a7c2(_0x313cc6+_0x526e84(0x2a3),0x2),_0x308561=_0xf7a7c2(_0x313cc6+_0x526e84(0x311),0x1);return{'weights':_0x51f1df,'bias':_0x308561};}const _0x2be028={'fc':_0x414de6('fc')};return disposeUnusedWeightTensors(_0x5b8826,_0x5876fa),{'params':_0x2be028,'paramMappings':_0x5876fa};}function seperateWeightMaps(_0x373472){const _0x14f2db=_0x16f23b,_0x5bd910={},_0x304116={};return Object['keys'](_0x373472)[_0x14f2db(0x129)](_0x584be1=>{const _0xf6b80a=_0x14f2db,_0x8ad262=_0x584be1[_0xf6b80a(0x398)]('fc')?_0x304116:_0x5bd910;_0x8ad262[_0x584be1]=_0x373472[_0x584be1];}),{'featureExtractorMap':_0x5bd910,'classifierMap':_0x304116};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x574c77,_0x4ece8c){const _0x64a823=_0x16f23b;super(_0x574c77),this[_0x64a823(0x358)]=_0x4ece8c;}get[_0x16f23b(0x222)](){return this['_faceFeatureExtractor'];}[_0x16f23b(0x1c9)](_0x525552){const _0x3ca717=_0x16f23b,{params:_0x145361}=this;if(!_0x145361)throw new Error(this['_name']+_0x3ca717(0x2d2));return tf17[_0x3ca717(0x378)](()=>{const _0x4a671d=_0x3ca717,_0x3f161d=_0x525552 instanceof NetInput?this[_0x4a671d(0x222)][_0x4a671d(0x2bb)](_0x525552):_0x525552;return fullyConnectedLayer(_0x3f161d[_0x4a671d(0x196)](_0x3f161d[_0x4a671d(0x363)][0x0],-0x1),_0x145361['fc']);});}[_0x16f23b(0x2ae)](_0x4cd270=!![]){const _0x4c5efb=_0x16f23b;this['faceFeatureExtractor'][_0x4c5efb(0x2ae)](_0x4cd270),super[_0x4c5efb(0x2ae)](_0x4cd270);}[_0x16f23b(0x35f)](_0x30b9f0){const _0x258697=_0x16f23b,{params:_0x2623b5,paramMappings:_0x4838cd}=this[_0x258697(0x2fc)](_0x30b9f0);this['_params']=_0x2623b5,this[_0x258697(0x28d)]=_0x4838cd;}['extractClassifierParams'](_0x59042d){const _0xe5aacf=_0x16f23b;return extractParams2(_0x59042d,this[_0xe5aacf(0x221)](),this['getClassifierChannelsOut']());}[_0x16f23b(0x2f7)](_0x4dc096){const _0x1cb513=_0x16f23b,{featureExtractorMap:_0xa15ae3,classifierMap:_0x59b6bc}=seperateWeightMaps(_0x4dc096);return this[_0x1cb513(0x222)][_0x1cb513(0x153)](_0xa15ae3),extractParamsFromWeightMap2(_0x59b6bc);}[_0x16f23b(0x39a)](_0x420d1e){const _0x29006b=_0x16f23b,_0x4c9fc5=this['getClassifierChannelsIn'](),_0x32e426=this[_0x29006b(0x150)](),_0x4ac19e=_0x32e426*_0x4c9fc5+_0x32e426,_0x2081b4=_0x420d1e[_0x29006b(0x289)](0x0,_0x420d1e[_0x29006b(0x248)]-_0x4ac19e),_0x58038b=_0x420d1e[_0x29006b(0x289)](_0x420d1e[_0x29006b(0x248)]-_0x4ac19e);return this[_0x29006b(0x222)][_0x29006b(0x261)](_0x2081b4),this[_0x29006b(0x2fc)](_0x58038b);}},FACE_EXPRESSION_LABELS=[_0x16f23b(0x1fd),_0x16f23b(0x27a),'sad',_0x16f23b(0x270),_0x16f23b(0x296),_0x16f23b(0x32d),'surprised'],FaceExpressions=class{constructor(_0x3de966){const _0x1d6f31=_0x16f23b;this[_0x1d6f31(0x1fd)]=0x0,this['happy']=0x0,this[_0x1d6f31(0x1c6)]=0x0,this[_0x1d6f31(0x270)]=0x0,this[_0x1d6f31(0x296)]=0x0,this[_0x1d6f31(0x32d)]=0x0,this[_0x1d6f31(0x1d1)]=0x0;if(_0x3de966[_0x1d6f31(0x248)]!==0x7)throw new Error(_0x1d6f31(0x21a)+_0x3de966[_0x1d6f31(0x248)]);FACE_EXPRESSION_LABELS[_0x1d6f31(0x129)]((_0x34b1a5,_0x259c4e)=>{this[_0x34b1a5]=_0x3de966[_0x259c4e];});}['asSortedArray'](){const _0x20feb8=_0x16f23b;return FACE_EXPRESSION_LABELS[_0x20feb8(0x2a2)](_0x3f4548=>({'expression':_0x3f4548,'probability':this[_0x3f4548]}))['sort']((_0x39ec96,_0x569035)=>_0x569035[_0x20feb8(0x332)]-_0x39ec96[_0x20feb8(0x332)]);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x133083=new FaceFeatureExtractor()){const _0x538c17=_0x16f23b;super(_0x538c17(0x156),_0x133083);}[_0x16f23b(0x2bb)](_0x424b03){const _0x105193=_0x16f23b;return tf18[_0x105193(0x378)](()=>tf18[_0x105193(0x26d)](this['runNet'](_0x424b03)));}async[_0x16f23b(0x3a3)](_0x10ed9f){const _0x38924a=_0x16f23b;return this[_0x38924a(0x2bb)](await toNetInput(_0x10ed9f));}async[_0x16f23b(0x12f)](_0x9f7f2){const _0x46b38d=_0x16f23b,_0x22cc5c=await toNetInput(_0x9f7f2),_0x21b710=await this[_0x46b38d(0x2bb)](_0x22cc5c),_0xa7f091=await Promise['all'](tf18[_0x46b38d(0x29c)](_0x21b710)['map'](async _0x2421bb=>{const _0xd676b2=_0x46b38d,_0x1f1fd7=_0x2421bb[_0xd676b2(0x18b)]();return _0x2421bb[_0xd676b2(0x2ae)](),_0x1f1fd7;}));_0x21b710[_0x46b38d(0x2ae)]();const _0x23a52a=_0xa7f091[_0x46b38d(0x2a2)](_0x3cc899=>new FaceExpressions(_0x3cc899));return _0x22cc5c[_0x46b38d(0x219)]?_0x23a52a:_0x23a52a[0x0];}[_0x16f23b(0x30b)](){const _0x31527c=_0x16f23b;return _0x31527c(0x15b);}['getClassifierChannelsIn'](){return 0x100;}[_0x16f23b(0x150)](){return 0x7;}};function isWithFaceExpressions(_0x3a2595){return _0x3a2595['expressions']instanceof FaceExpressions;}function extendWithFaceExpressions(_0x58f4a7,_0x124c22){const _0x450a9c={'expressions':_0x124c22};return{..._0x58f4a7,..._0x450a9c};}function drawFaceExpressions(_0x3528b9,_0xfccf5,_0x57ef45=0.1,_0x476702){const _0x5b96e7=_0x16f23b,_0x5d45d2=Array['isArray'](_0xfccf5)?_0xfccf5:[_0xfccf5];_0x5d45d2[_0x5b96e7(0x129)](_0x2a303b=>{const _0x1cb604=_0x5b96e7,_0x298a7b=_0x2a303b instanceof FaceExpressions?_0x2a303b:isWithFaceExpressions(_0x2a303b)?_0x2a303b[_0x1cb604(0x1d2)]:void 0x0;if(!_0x298a7b)throw new Error('drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof');const _0xc85ff9=_0x298a7b[_0x1cb604(0x267)](),_0x3588fc=_0xc85ff9[_0x1cb604(0x367)](_0x2605bc=>_0x2605bc['probability']>_0x57ef45),_0xd9d378=isWithFaceDetection(_0x2a303b)?_0x2a303b[_0x1cb604(0x24c)][_0x1cb604(0x20c)]['bottomLeft']:_0x476702||new Point(0x0,0x0),_0x1338d9=new DrawTextField(_0x3588fc['map'](_0xe2c1c7=>_0xe2c1c7[_0x1cb604(0x37c)]+'\x20('+round(_0xe2c1c7[_0x1cb604(0x332)])+')'),_0xd9d378);_0x1338d9['draw'](_0x3528b9);});}function isWithFaceLandmarks(_0x810362){const _0x1bd283=_0x16f23b;return isWithFaceDetection(_0x810362)&&_0x810362['landmarks']instanceof FaceLandmarks&&_0x810362['unshiftedLandmarks']instanceof FaceLandmarks&&_0x810362[_0x1bd283(0x382)]instanceof FaceDetection;}function calculateFaceAngle(_0x4b5838){const _0x394766=_0x16f23b,_0x11ac09=(_0x1f7b63,_0x5249cd,_0x39bc10,_0x516d5c)=>Math[_0x394766(0x31e)](_0x516d5c-_0x5249cd,_0x39bc10-_0x1f7b63)%Math['PI'],_0x5b8688=_0x6c989b=>_0x6c989b*0xb4/Math['PI'],_0x572020={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x4b5838||!_0x4b5838[_0x394766(0x388)]||_0x4b5838[_0x394766(0x388)][_0x394766(0x248)]!==0x44)return _0x572020;const _0x493582=_0x4b5838[_0x394766(0x388)];_0x572020[_0x394766(0x321)]=-_0x11ac09(_0x493582[0x24]['_x'],_0x493582[0x24]['_y'],_0x493582[0x2d]['_x'],_0x493582[0x2d]['_y']),_0x572020[_0x394766(0x28b)]=_0x11ac09(0x0,Math[_0x394766(0x193)](_0x493582[0x0]['_x']-_0x493582[0x1e]['_x'])/_0x493582[0x1e]['_x'],Math['PI'],Math['abs'](_0x493582[0x10]['_x']-_0x493582[0x1e]['_x'])/_0x493582[0x1e]['_x']);const _0x57362f=_0x493582[_0x394766(0x20d)]((_0xeacc7,_0x4739b4)=>_0xeacc7<_0x4739b4['_y']?_0xeacc7:_0x4739b4['_y'],Infinity),_0x8ff0b2=_0x493582[_0x394766(0x20d)]((_0x496a3a,_0x1bc77c)=>_0x496a3a>_0x1bc77c['_y']?_0x496a3a:_0x1bc77c['_y'],-Infinity);return _0x572020[_0x394766(0x2f8)]=Math['PI']*(_0x4b5838['_imgDims']['_height']/(_0x8ff0b2-_0x57362f)/1.4-0x1),_0x572020;}function extendWithFaceLandmarks(_0x3186e8,_0x17b910){const _0x3a6388=_0x16f23b,{box:_0x56297b}=_0x3186e8[_0x3a6388(0x24c)],_0x1630ca=_0x17b910[_0x3a6388(0x2a1)](_0x56297b['x'],_0x56297b['y']),_0x138e59=_0x1630ca['align'](),{imageDims:_0x3e9fb0}=_0x3186e8[_0x3a6388(0x24c)],_0xdfb1a8=new FaceDetection(_0x3186e8[_0x3a6388(0x24c)][_0x3a6388(0x306)],_0x138e59['rescale'](_0x3e9fb0[_0x3a6388(0x2c3)]()),_0x3e9fb0),_0x2761ad=calculateFaceAngle(_0x17b910),_0x5440e2={'landmarks':_0x1630ca,'unshiftedLandmarks':_0x17b910,'alignedRect':_0xdfb1a8,'angle':_0x2761ad};return{..._0x3186e8,..._0x5440e2};}var DrawFaceLandmarksOptions=class{constructor(_0x29cbe9={}){const _0x5b50ca=_0x16f23b,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x3ca2b3,lineColor:_0x3e7bd9,pointSize:_0x5dd1ce,pointColor:_0x290094}=_0x29cbe9;this['drawLines']=drawLines,this['drawPoints']=drawPoints,this[_0x5b50ca(0x165)]=_0x3ca2b3||0x1,this[_0x5b50ca(0x2d8)]=_0x5dd1ce||0x2,this[_0x5b50ca(0x365)]=_0x3e7bd9||_0x5b50ca(0x3af),this[_0x5b50ca(0x342)]=_0x290094||'rgba(255,\x200,\x20255,\x201)';}},DrawFaceLandmarks=class{constructor(_0x57c533,_0x45130c={}){this['faceLandmarks']=_0x57c533,this['options']=new DrawFaceLandmarksOptions(_0x45130c);}[_0x16f23b(0x19b)](_0x3bb956){const _0x20b837=_0x16f23b,_0x2d9455=getContext2dOrThrow(_0x3bb956),{drawLines:_0x3ac4ed,drawPoints:_0x31043d,lineWidth:_0x51d8d3,lineColor:_0x539012,pointSize:_0x95d6f8,pointColor:_0x13b58f}=this[_0x20b837(0x246)];_0x3ac4ed&&this[_0x20b837(0x206)]instanceof FaceLandmarks68&&(_0x2d9455[_0x20b837(0x312)]=_0x539012,_0x2d9455[_0x20b837(0x165)]=_0x51d8d3,drawContour(_0x2d9455,this[_0x20b837(0x206)]['getJawOutline']()),drawContour(_0x2d9455,this[_0x20b837(0x206)][_0x20b837(0x14e)]()),drawContour(_0x2d9455,this['faceLandmarks']['getRightEyeBrow']()),drawContour(_0x2d9455,this[_0x20b837(0x206)]['getNose']()),drawContour(_0x2d9455,this[_0x20b837(0x206)][_0x20b837(0x2fb)](),!![]),drawContour(_0x2d9455,this[_0x20b837(0x206)][_0x20b837(0x1d0)](),!![]),drawContour(_0x2d9455,this[_0x20b837(0x206)][_0x20b837(0x354)](),!![]));if(_0x31043d){_0x2d9455[_0x20b837(0x312)]=_0x13b58f,_0x2d9455['fillStyle']=_0x13b58f;const _0x5eb75d=_0x41c7f0=>{const _0x57cd33=_0x20b837;_0x2d9455[_0x57cd33(0x351)](),_0x2d9455[_0x57cd33(0x3b3)](_0x41c7f0['x'],_0x41c7f0['y'],_0x95d6f8,0x0,0x2*Math['PI']),_0x2d9455[_0x57cd33(0x187)]();};this[_0x20b837(0x206)][_0x20b837(0x334)][_0x20b837(0x129)](_0x5eb75d);}}};function drawFaceLandmarks(_0x1c48af,_0x24abe0){const _0x168d5d=_0x16f23b,_0x27f45d=Array[_0x168d5d(0x3a2)](_0x24abe0)?_0x24abe0:[_0x24abe0];_0x27f45d['forEach'](_0x367de4=>{const _0x5b6cde=_0x168d5d,_0x24f693=_0x367de4 instanceof FaceLandmarks?_0x367de4:isWithFaceLandmarks(_0x367de4)?_0x367de4[_0x5b6cde(0x25a)]:void 0x0;if(!_0x24f693)throw new Error(_0x5b6cde(0x2e7));new DrawFaceLandmarks(_0x24f693)[_0x5b6cde(0x19b)](_0x1c48af);});}var version=_0x16f23b(0x303),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x4243a1,_0x169f24){const _0x27ed56=extractConvParamsFactory(_0x4243a1,_0x169f24),_0x215966=extractSeparableConvParamsFactory(_0x4243a1,_0x169f24);function _0x41a727(_0x2d9280,_0x5ce952,_0x378dad){const _0x18a7cd=_0x2675,_0x4cf4f6=_0x215966(_0x2d9280,_0x5ce952,_0x378dad+_0x18a7cd(0x293)),_0x531cb0=_0x215966(_0x5ce952,_0x5ce952,_0x378dad+_0x18a7cd(0x20f)),_0xb35688=_0x27ed56(_0x2d9280,_0x5ce952,0x1,_0x378dad+_0x18a7cd(0x2fa));return{'separable_conv0':_0x4cf4f6,'separable_conv1':_0x531cb0,'expansion_conv':_0xb35688};}function _0x1aa3e8(_0x30dbb6,_0x37e320){const _0x1d313a=_0x2675,_0x5332bc=_0x215966(_0x30dbb6,_0x30dbb6,_0x37e320+_0x1d313a(0x293)),_0x58748a=_0x215966(_0x30dbb6,_0x30dbb6,_0x37e320+_0x1d313a(0x20f)),_0x2e6fc4=_0x215966(_0x30dbb6,_0x30dbb6,_0x37e320+'/separable_conv2');return{'separable_conv0':_0x5332bc,'separable_conv1':_0x58748a,'separable_conv2':_0x2e6fc4};}return{'extractConvParams':_0x27ed56,'extractSeparableConvParams':_0x215966,'extractReductionBlockParams':_0x41a727,'extractMainBlockParams':_0x1aa3e8};}function extractParams3(_0x56f191,_0x867dcd){const _0x513b43=_0x16f23b,_0x289ad8=[],{extractWeights:_0x3976f5,getRemainingWeights:_0x49748a}=extractWeightsFactory(_0x56f191),{extractConvParams:_0x3ee778,extractSeparableConvParams:_0x177e4c,extractReductionBlockParams:_0x457157,extractMainBlockParams:_0x2d0358}=extractorsFactory2(_0x3976f5,_0x289ad8),_0x5af59a=_0x3ee778(0x3,0x20,0x3,_0x513b43(0x224)),_0x30a6f2=_0x457157(0x20,0x40,_0x513b43(0x2b8)),_0x26662a=_0x457157(0x40,0x80,_0x513b43(0x31c)),_0x41e942={'conv_in':_0x5af59a,'reduction_block_0':_0x30a6f2,'reduction_block_1':_0x26662a},_0x4175de={};range(_0x867dcd,0x0,0x1)['forEach'](_0x20012e=>{const _0x5b0c99=_0x513b43;_0x4175de[_0x5b0c99(0x32b)+_0x20012e]=_0x2d0358(0x80,_0x5b0c99(0x2a4)+_0x20012e);});const _0x25adac=_0x457157(0x80,0x100,_0x513b43(0x2ce)),_0x21d3c6=_0x177e4c(0x100,0x200,_0x513b43(0x3b6)),_0x2ca8f5={'reduction_block':_0x25adac,'separable_conv':_0x21d3c6};if(_0x49748a()[_0x513b43(0x248)]!==0x0)throw new Error(_0x513b43(0x148)+_0x49748a()['length']);return{'paramMappings':_0x289ad8,'params':{'entry_flow':_0x41e942,'middle_flow':_0x4175de,'exit_flow':_0x2ca8f5}};}function loadParamsFactory2(_0x1016b0,_0x39c05e){const _0x3d21d2=extractWeightEntryFactory(_0x1016b0,_0x39c05e),_0x4157ab=loadConvParamsFactory(_0x3d21d2),_0x2f645f=loadSeparableConvParamsFactory(_0x3d21d2);function _0x5ecd6b(_0x26e742){const _0x359810=_0x2675,_0x4ec704=_0x2f645f(_0x26e742+_0x359810(0x293)),_0x316047=_0x2f645f(_0x26e742+_0x359810(0x20f)),_0x10176d=_0x4157ab(_0x26e742+_0x359810(0x2fa));return{'separable_conv0':_0x4ec704,'separable_conv1':_0x316047,'expansion_conv':_0x10176d};}function _0xc08a19(_0x1f850f){const _0x19929d=_0x2675,_0x28612d=_0x2f645f(_0x1f850f+'/separable_conv0'),_0x1a0a6d=_0x2f645f(_0x1f850f+'/separable_conv1'),_0x21bdbd=_0x2f645f(_0x1f850f+_0x19929d(0x136));return{'separable_conv0':_0x28612d,'separable_conv1':_0x1a0a6d,'separable_conv2':_0x21bdbd};}return{'extractConvParams':_0x4157ab,'extractSeparableConvParams':_0x2f645f,'extractReductionBlockParams':_0x5ecd6b,'extractMainBlockParams':_0xc08a19};}function extractParamsFromWeightMap3(_0x20ecb7,_0x4ca64d){const _0x4acc57=_0x16f23b,_0x1e7af1=[],{extractConvParams:_0x476e61,extractSeparableConvParams:_0x2b3a2c,extractReductionBlockParams:_0x32a34b,extractMainBlockParams:_0xf125e6}=loadParamsFactory2(_0x20ecb7,_0x1e7af1),_0x2f1504=_0x476e61(_0x4acc57(0x224)),_0x1dd312=_0x32a34b(_0x4acc57(0x2b8)),_0x26758e=_0x32a34b(_0x4acc57(0x31c)),_0x29da44={'conv_in':_0x2f1504,'reduction_block_0':_0x1dd312,'reduction_block_1':_0x26758e},_0x2d75ed={};range(_0x4ca64d,0x0,0x1)[_0x4acc57(0x129)](_0x5ed97c=>{const _0x2b57ca=_0x4acc57;_0x2d75ed[_0x2b57ca(0x32b)+_0x5ed97c]=_0xf125e6('middle_flow/main_block_'+_0x5ed97c);});const _0xda98ea=_0x32a34b('exit_flow/reduction_block'),_0x209c4b=_0x2b3a2c(_0x4acc57(0x3b6)),_0x35472b={'reduction_block':_0xda98ea,'separable_conv':_0x209c4b};return disposeUnusedWeightTensors(_0x20ecb7,_0x1e7af1),{'params':{'entry_flow':_0x29da44,'middle_flow':_0x2d75ed,'exit_flow':_0x35472b},'paramMappings':_0x1e7af1};}function conv(_0x17a5fb,_0x1c68fb,_0x2c5425){const _0x5c9707=_0x16f23b;return tf19[_0x5c9707(0x348)](tf19['conv2d'](_0x17a5fb,_0x1c68fb[_0x5c9707(0x1c8)],_0x2c5425,'same'),_0x1c68fb['bias']);}function reductionBlock(_0x5aad21,_0x4f74c8,_0x238d5c=!![]){const _0x411708=_0x16f23b;let _0x405c4c=_0x238d5c?tf19[_0x411708(0x157)](_0x5aad21):_0x5aad21;return _0x405c4c=depthwiseSeparableConv(_0x405c4c,_0x4f74c8[_0x411708(0x205)],[0x1,0x1]),_0x405c4c=depthwiseSeparableConv(tf19['relu'](_0x405c4c),_0x4f74c8[_0x411708(0x1f1)],[0x1,0x1]),_0x405c4c=tf19[_0x411708(0x1c5)](_0x405c4c,[0x3,0x3],[0x2,0x2],_0x411708(0x33f)),_0x405c4c=tf19[_0x411708(0x348)](_0x405c4c,conv(_0x5aad21,_0x4f74c8[_0x411708(0x1ef)],[0x2,0x2])),_0x405c4c;}function mainBlock(_0x4d524d,_0x5b9f28){const _0xb62080=_0x16f23b;let _0x53f157=depthwiseSeparableConv(tf19[_0xb62080(0x157)](_0x4d524d),_0x5b9f28[_0xb62080(0x205)],[0x1,0x1]);return _0x53f157=depthwiseSeparableConv(tf19[_0xb62080(0x157)](_0x53f157),_0x5b9f28['separable_conv1'],[0x1,0x1]),_0x53f157=depthwiseSeparableConv(tf19['relu'](_0x53f157),_0x5b9f28[_0xb62080(0x39c)],[0x1,0x1]),_0x53f157=tf19[_0xb62080(0x348)](_0x53f157,_0x4d524d),_0x53f157;}var TinyXception=class extends NeuralNetwork{constructor(_0x333f04){const _0x253db4=_0x16f23b;super(_0x253db4(0x237)),this[_0x253db4(0x135)]=_0x333f04;}[_0x16f23b(0x2bb)](_0x19a6fa){const _0x27469d=_0x16f23b,{params:_0x43053d}=this;if(!_0x43053d)throw new Error(_0x27469d(0x2d9));return tf19[_0x27469d(0x378)](()=>{const _0x1abb3f=_0x27469d,_0x523e2c=tf19[_0x1abb3f(0x2d0)](_0x19a6fa[_0x1abb3f(0x2ef)](0x70,!![]),_0x1abb3f(0x183)),_0x42f349=[122.782,117.001,104.298],_0x10e2c4=normalize(_0x523e2c,_0x42f349)['div'](0xff);let _0x1d52b0=tf19[_0x1abb3f(0x157)](conv(_0x10e2c4,_0x43053d[_0x1abb3f(0x31a)][_0x1abb3f(0x197)],[0x2,0x2]));return _0x1d52b0=reductionBlock(_0x1d52b0,_0x43053d[_0x1abb3f(0x31a)][_0x1abb3f(0x2db)],![]),_0x1d52b0=reductionBlock(_0x1d52b0,_0x43053d[_0x1abb3f(0x31a)][_0x1abb3f(0x137)]),range(this[_0x1abb3f(0x135)],0x0,0x1)[_0x1abb3f(0x129)](_0x32cf72=>{const _0x684058=_0x1abb3f;_0x1d52b0=mainBlock(_0x1d52b0,_0x43053d[_0x684058(0x12a)]['main_block_'+_0x32cf72]);}),_0x1d52b0=reductionBlock(_0x1d52b0,_0x43053d[_0x1abb3f(0x227)][_0x1abb3f(0x19f)]),_0x1d52b0=tf19[_0x1abb3f(0x157)](depthwiseSeparableConv(_0x1d52b0,_0x43053d[_0x1abb3f(0x227)][_0x1abb3f(0x1db)],[0x1,0x1])),_0x1d52b0;});}async[_0x16f23b(0x3a3)](_0x1fcede){const _0x487a1d=_0x16f23b;return this[_0x487a1d(0x2bb)](await toNetInput(_0x1fcede));}['getDefaultModelName'](){const _0x366cd4=_0x16f23b;return _0x366cd4(0x207);}[_0x16f23b(0x2f7)](_0x1cfbe3){const _0x553ce3=_0x16f23b;return extractParamsFromWeightMap3(_0x1cfbe3,this[_0x553ce3(0x135)]);}[_0x16f23b(0x39a)](_0x57248e){const _0x360702=_0x16f23b;return extractParams3(_0x57248e,this[_0x360702(0x135)]);}};function extractParams4(_0xf9fbbe){const _0x746656=_0x16f23b,_0x3a060a=[],{extractWeights:_0x4c9880,getRemainingWeights:_0x284f7f}=extractWeightsFactory(_0xf9fbbe),_0x1e19bd=extractFCParamsFactory(_0x4c9880,_0x3a060a),_0x396080=_0x1e19bd(0x200,0x1,_0x746656(0x1e1)),_0x466a35=_0x1e19bd(0x200,0x2,_0x746656(0x384));if(_0x284f7f()[_0x746656(0x248)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x284f7f()[_0x746656(0x248)]);return{'paramMappings':_0x3a060a,'params':{'fc':{'age':_0x396080,'gender':_0x466a35}}};}function extractParamsFromWeightMap4(_0x1c2ac4){const _0x1c503d=_0x16f23b,_0x5d6a77=[],_0x4fc0f0=extractWeightEntryFactory(_0x1c2ac4,_0x5d6a77);function _0x30d2e8(_0x3eddda){const _0x3024ab=_0x2675,_0x5bc2df=_0x4fc0f0(_0x3eddda+_0x3024ab(0x2a3),0x2),_0x1eff4c=_0x4fc0f0(_0x3eddda+_0x3024ab(0x311),0x1);return{'weights':_0x5bc2df,'bias':_0x1eff4c};}const _0x3ecea9={'fc':{'age':_0x30d2e8(_0x1c503d(0x1e1)),'gender':_0x30d2e8(_0x1c503d(0x384))}};return disposeUnusedWeightTensors(_0x1c2ac4,_0x5d6a77),{'params':_0x3ecea9,'paramMappings':_0x5d6a77};}var Gender=(_0x303a3f=>{const _0xa9620c=_0x16f23b;return _0x303a3f['FEMALE']=_0xa9620c(0x1b8),_0x303a3f[_0xa9620c(0x2cc)]='male',_0x303a3f;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x1724fd=new TinyXception(0x2)){const _0x2e1cf3=_0x16f23b;super(_0x2e1cf3(0x1c2)),this[_0x2e1cf3(0x358)]=_0x1724fd;}get['faceFeatureExtractor'](){const _0x4693f7=_0x16f23b;return this[_0x4693f7(0x358)];}[_0x16f23b(0x1c9)](_0x37e407){const _0x11e150=_0x16f23b,{params:_0x25f725}=this;if(!_0x25f725)throw new Error(this[_0x11e150(0x254)]+_0x11e150(0x2d2));return tf20[_0x11e150(0x378)](()=>{const _0x224827=_0x11e150,_0x180d16=_0x37e407 instanceof NetInput?this['faceFeatureExtractor']['forwardInput'](_0x37e407):_0x37e407,_0x127070=tf20['avgPool'](_0x180d16,[0x7,0x7],[0x2,0x2],'valid')[_0x224827(0x196)](_0x180d16[_0x224827(0x363)][0x0],-0x1),_0x109012=fullyConnectedLayer(_0x127070,_0x25f725['fc']['age'])[_0x224827(0x226)](),_0x43b2ef=fullyConnectedLayer(_0x127070,_0x25f725['fc'][_0x224827(0x200)]);return{'age':_0x109012,'gender':_0x43b2ef};});}[_0x16f23b(0x2bb)](_0x15a151){const _0x10e981=_0x16f23b;return tf20[_0x10e981(0x378)](()=>{const _0x1c4325=_0x10e981,{age:_0xecd9af,gender:_0x5e969b}=this[_0x1c4325(0x1c9)](_0x15a151);return{'age':_0xecd9af,'gender':tf20[_0x1c4325(0x26d)](_0x5e969b)};});}async['forward'](_0x187a2a){const _0x234438=_0x16f23b;return this[_0x234438(0x2bb)](await toNetInput(_0x187a2a));}async[_0x16f23b(0x12e)](_0x2854f4){const _0x585d92=_0x16f23b,_0x3f8dd2=await toNetInput(_0x2854f4),_0x47f3ca=await this[_0x585d92(0x2bb)](_0x3f8dd2),_0x523c0d=tf20['unstack'](_0x47f3ca[_0x585d92(0x1b7)]),_0x393cd5=tf20[_0x585d92(0x29c)](_0x47f3ca[_0x585d92(0x200)]),_0x48bbe5=_0x523c0d[_0x585d92(0x2a2)]((_0x5f36d3,_0x3cd9b0)=>({'ageTensor':_0x5f36d3,'genderTensor':_0x393cd5[_0x3cd9b0]})),_0x16803e=await Promise[_0x585d92(0x209)](_0x48bbe5[_0x585d92(0x2a2)](async({ageTensor:_0x4dbe5e,genderTensor:_0xfb2a04})=>{const _0x26266d=_0x585d92,_0x46e183=_0x4dbe5e[_0x26266d(0x18b)]()[0x0],_0x3ae4bb=_0xfb2a04[_0x26266d(0x18b)]()[0x0],_0x2f04bf=_0x3ae4bb>0.5,_0x8bc1cc=_0x2f04bf?_0x26266d(0x214):'female',_0x1ecc08=_0x2f04bf?_0x3ae4bb:0x1-_0x3ae4bb;return _0x4dbe5e['dispose'](),_0xfb2a04['dispose'](),{'age':_0x46e183,'gender':_0x8bc1cc,'genderProbability':_0x1ecc08};}));return _0x47f3ca[_0x585d92(0x1b7)]['dispose'](),_0x47f3ca[_0x585d92(0x200)][_0x585d92(0x2ae)](),_0x3f8dd2[_0x585d92(0x219)]?_0x16803e:_0x16803e[0x0];}[_0x16f23b(0x30b)](){const _0x4715d6=_0x16f23b;return _0x4715d6(0x24b);}['dispose'](_0x193606=!![]){const _0x43b5e4=_0x16f23b;this[_0x43b5e4(0x222)][_0x43b5e4(0x2ae)](_0x193606),super['dispose'](_0x193606);}['loadClassifierParams'](_0x4f553f){const _0x30ce0c=_0x16f23b,{params:_0xdd86e5,paramMappings:_0x45e2a9}=this[_0x30ce0c(0x2fc)](_0x4f553f);this[_0x30ce0c(0x1b4)]=_0xdd86e5,this[_0x30ce0c(0x28d)]=_0x45e2a9;}[_0x16f23b(0x2fc)](_0x5949f9){return extractParams4(_0x5949f9);}['extractParamsFromWeightMap'](_0x565068){const _0x1bcc42=_0x16f23b,{featureExtractorMap:_0x4ea35f,classifierMap:_0x58e68f}=seperateWeightMaps(_0x565068);return this[_0x1bcc42(0x222)][_0x1bcc42(0x153)](_0x4ea35f),extractParamsFromWeightMap4(_0x58e68f);}[_0x16f23b(0x39a)](_0x54048c){const _0x5b8b36=_0x16f23b,_0x2d510d=0x200*0x1+0x1+(0x200*0x2+0x2),_0x42b62b=_0x54048c[_0x5b8b36(0x289)](0x0,_0x54048c[_0x5b8b36(0x248)]-_0x2d510d),_0x12dc67=_0x54048c[_0x5b8b36(0x289)](_0x54048c[_0x5b8b36(0x248)]-_0x2d510d);return this['faceFeatureExtractor'][_0x5b8b36(0x261)](_0x42b62b),this[_0x5b8b36(0x2fc)](_0x12dc67);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{[_0x16f23b(0x2da)](_0x3262b5,_0x44821b,_0xea9867){const _0x332570=_0x16f23b,_0x11735a=_0xea9867[_0x332570(0x2a2)](({width:_0x49652a,height:_0x2f8dbb})=>{const _0xa3fc99=_0x332570,_0x36d7a5=_0x44821b/Math[_0xa3fc99(0x2d4)](_0x2f8dbb,_0x49652a);return{'width':_0x49652a*_0x36d7a5,'height':_0x2f8dbb*_0x36d7a5};}),_0x40ef15=_0x11735a[_0x332570(0x248)];return tf21[_0x332570(0x378)](()=>{const _0x4cf2bf=_0x332570,_0x4154b5=(_0x410d6e,_0x435f9b)=>tf21[_0x4cf2bf(0x228)]([tf21['fill']([0x44],_0x410d6e,_0x4cf2bf(0x183)),tf21[_0x4cf2bf(0x187)]([0x44],_0x435f9b,_0x4cf2bf(0x183))],0x1)[_0x4cf2bf(0x196)](0x1,0x88)['as1D'](),_0x469742=(_0x6542ed,_0x395fc5)=>{const _0x1e9d2b=_0x4cf2bf,{width:_0x4f11ad,height:_0x331c9f}=_0x11735a[_0x6542ed];return _0x395fc5(_0x4f11ad,_0x331c9f)?Math[_0x1e9d2b(0x193)](_0x4f11ad-_0x331c9f)/0x2:0x0;},_0x1f4162=_0x14bd46=>_0x469742(_0x14bd46,(_0x3deba9,_0x4a4a6e)=>_0x3deba9<_0x4a4a6e),_0x2b436a=_0x285f37=>_0x469742(_0x285f37,(_0x2cbba5,_0x2b8a21)=>_0x2b8a21<_0x2cbba5),_0xbb7830=_0x3262b5[_0x4cf2bf(0x132)](tf21[_0x4cf2bf(0x187)]([_0x40ef15,0x88],_0x44821b,_0x4cf2bf(0x183)))[_0x4cf2bf(0x138)](tf21[_0x4cf2bf(0x228)](Array[_0x4cf2bf(0x190)](Array(_0x40ef15),(_0x51259a,_0x4c88c7)=>_0x4154b5(_0x1f4162(_0x4c88c7),_0x2b436a(_0x4c88c7)))))[_0x4cf2bf(0x379)](tf21['stack'](Array[_0x4cf2bf(0x190)](Array(_0x40ef15),(_0x4408e0,_0x37de10)=>_0x4154b5(_0x11735a[_0x37de10][_0x4cf2bf(0x341)],_0x11735a[_0x37de10]['height']))));return _0xbb7830;});}[_0x16f23b(0x2bb)](_0x501521){const _0x420d08=_0x16f23b;return tf21[_0x420d08(0x378)](()=>{const _0x2924e4=_0x420d08,_0x514179=this[_0x2924e4(0x1c9)](_0x501521);return this[_0x2924e4(0x2da)](_0x514179,_0x501521[_0x2924e4(0x13b)],_0x501521[_0x2924e4(0x1c1)][_0x2924e4(0x2a2)](([_0x234d84,_0x48596f])=>({'height':_0x234d84,'width':_0x48596f})));});}async[_0x16f23b(0x3a3)](_0x462595){const _0x571647=_0x16f23b;return this[_0x571647(0x2bb)](await toNetInput(_0x462595));}async[_0x16f23b(0x364)](_0xa0709f){const _0x539d94=_0x16f23b,_0x11685d=await toNetInput(_0xa0709f),_0x2601e3=tf21[_0x539d94(0x378)](()=>tf21[_0x539d94(0x29c)](this[_0x539d94(0x2bb)](_0x11685d))),_0x123e96=await Promise[_0x539d94(0x209)](_0x2601e3['map'](async(_0xd279a6,_0x39018a)=>{const _0x191aaf=_0x539d94,_0x4f4990=Array[_0x191aaf(0x190)](_0xd279a6[_0x191aaf(0x18b)]()),_0x42154a=_0x4f4990['filter']((_0x4393e5,_0x14bada)=>isEven(_0x14bada)),_0x3b0e25=_0x4f4990[_0x191aaf(0x367)]((_0x1fd714,_0x53f6d6)=>!isEven(_0x53f6d6));return new FaceLandmarks68(Array(0x44)[_0x191aaf(0x187)](0x0)[_0x191aaf(0x2a2)]((_0x48a82e,_0x4c8d87)=>new Point(_0x42154a[_0x4c8d87],_0x3b0e25[_0x4c8d87])),{'height':_0x11685d[_0x191aaf(0x231)](_0x39018a),'width':_0x11685d[_0x191aaf(0x33b)](_0x39018a)});}));return _0x2601e3['forEach'](_0x1ea54d=>_0x1ea54d[_0x539d94(0x2ae)]()),_0x11685d[_0x539d94(0x219)]?_0x123e96:_0x123e96[0x0];}[_0x16f23b(0x150)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0xd8f5cc=new FaceFeatureExtractor()){const _0x116df5=_0x16f23b;super(_0x116df5(0x322),_0xd8f5cc);}[_0x16f23b(0x30b)](){const _0x19bf11=_0x16f23b;return _0x19bf11(0x35e);}['getClassifierChannelsIn'](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x2cd461){const _0x526e1e=_0x16f23b,_0x53e2be=[],{extractDenseBlock3Params:_0x1c8ebb}=loadParamsFactory(_0x2cd461,_0x53e2be),_0xe9b765={'dense0':_0x1c8ebb(_0x526e1e(0x14a),!![]),'dense1':_0x1c8ebb(_0x526e1e(0x242)),'dense2':_0x1c8ebb(_0x526e1e(0x21b))};return disposeUnusedWeightTensors(_0x2cd461,_0x53e2be),{'params':_0xe9b765,'paramMappings':_0x53e2be};}function extractParamsTiny(_0x2d7554){const _0x4e4b40=_0x16f23b,_0xbb3218=[],{extractWeights:_0x23f1e1,getRemainingWeights:_0x42c179}=extractWeightsFactory(_0x2d7554),{extractDenseBlock3Params:_0x193d0f}=extractorsFactory(_0x23f1e1,_0xbb3218),_0xe1cb52=_0x193d0f(0x3,0x20,'dense0',!![]),_0x2ddd6b=_0x193d0f(0x20,0x40,'dense1'),_0x33afe2=_0x193d0f(0x40,0x80,'dense2');if(_0x42c179()[_0x4e4b40(0x248)]!==0x0)throw new Error(_0x4e4b40(0x148)+_0x42c179()[_0x4e4b40(0x248)]);return{'paramMappings':_0xbb3218,'params':{'dense0':_0xe1cb52,'dense1':_0x2ddd6b,'dense2':_0x33afe2}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x2d8df7=_0x16f23b;super(_0x2d8df7(0x18c));}['forwardInput'](_0x223b47){const _0x413a76=_0x16f23b,{params:_0xdaf13f}=this;if(!_0xdaf13f)throw new Error(_0x413a76(0x2e2));return tf22['tidy'](()=>{const _0x51d134=_0x413a76,_0x44d7d6=tf22[_0x51d134(0x2d0)](_0x223b47[_0x51d134(0x2ef)](0x70,!![]),_0x51d134(0x183)),_0x39edb6=[122.782,117.001,104.298],_0xb83709=normalize(_0x44d7d6,_0x39edb6)[_0x51d134(0x379)](0xff);let _0x5c4a7c=denseBlock3(_0xb83709,_0xdaf13f['dense0'],!![]);return _0x5c4a7c=denseBlock3(_0x5c4a7c,_0xdaf13f['dense1']),_0x5c4a7c=denseBlock3(_0x5c4a7c,_0xdaf13f['dense2']),_0x5c4a7c=tf22[_0x51d134(0x291)](_0x5c4a7c,[0xe,0xe],[0x2,0x2],_0x51d134(0x310)),_0x5c4a7c;});}async[_0x16f23b(0x3a3)](_0x2244b0){const _0x3cfef7=_0x16f23b;return this[_0x3cfef7(0x2bb)](await toNetInput(_0x2244b0));}[_0x16f23b(0x30b)](){return'face_feature_extractor_tiny_model';}[_0x16f23b(0x2f7)](_0x1508f5){return extractParamsFromWeightMapTiny(_0x1508f5);}[_0x16f23b(0x39a)](_0x534e06){return extractParamsTiny(_0x534e06);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x2294d8=new TinyFaceFeatureExtractor()){super('FaceLandmark68TinyNet',_0x2294d8);}[_0x16f23b(0x30b)](){const _0x106e73=_0x16f23b;return _0x106e73(0x16c);}['getClassifierChannelsIn'](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x44b608,_0xe02d11){const _0x4d7b07=_0x16f23b;return tf23[_0x4d7b07(0x348)](tf23['mul'](_0x44b608,_0xe02d11[_0x4d7b07(0x345)]),_0xe02d11['biases']);}function convLayer2(_0x3329ae,_0x2fe00c,_0x54b1e3,_0x446dc4,_0x37be09=_0x16f23b(0x33f)){const _0x332476=_0x16f23b,{filters:_0x40a5ed,bias:_0x244b7f}=_0x2fe00c['conv'];let _0x36c701=tf24[_0x332476(0x128)](_0x3329ae,_0x40a5ed,_0x54b1e3,_0x37be09);return _0x36c701=tf24['add'](_0x36c701,_0x244b7f),_0x36c701=scale(_0x36c701,_0x2fe00c['scale']),_0x446dc4?tf24[_0x332476(0x157)](_0x36c701):_0x36c701;}function conv2(_0x12ec6e,_0x27e3ff){return convLayer2(_0x12ec6e,_0x27e3ff,[0x1,0x1],!![]);}function convNoRelu(_0xa8d0c0,_0x5e9201){return convLayer2(_0xa8d0c0,_0x5e9201,[0x1,0x1],![]);}function convDown(_0x5ed3af,_0x323bf0){const _0x2d6b53=_0x16f23b;return convLayer2(_0x5ed3af,_0x323bf0,[0x2,0x2],!![],_0x2d6b53(0x310));}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x1102d8,_0x54dce3){function _0x218ca2(_0x2b8876,_0x15830e,_0x226750){const _0x11d29c=_0x2675,_0x2c39d5=_0x1102d8(_0x2b8876),_0x4aadef=_0x2c39d5[_0x11d29c(0x248)]/(_0x15830e*_0x226750*_0x226750);if(isFloat(_0x4aadef))throw new Error(_0x11d29c(0x15f)+_0x4aadef+_0x11d29c(0x1e7)+_0x2c39d5['length']+_0x11d29c(0x28e)+_0x15830e+_0x11d29c(0x24f)+_0x226750);return tf25[_0x11d29c(0x378)](()=>tf25[_0x11d29c(0x347)](tf25[_0x11d29c(0x3ae)](_0x2c39d5,[_0x15830e,_0x4aadef,_0x226750,_0x226750]),[0x2,0x3,0x1,0x0]));}function _0x2ac43f(_0x152e4c,_0x514e21,_0x201559,_0x1ceb45){const _0x4f11e0=_0x2675,_0x16f2f0=_0x218ca2(_0x152e4c,_0x514e21,_0x201559),_0xd00047=tf25['tensor1d'](_0x1102d8(_0x514e21));return _0x54dce3[_0x4f11e0(0x1fa)]({'paramPath':_0x1ceb45+_0x4f11e0(0x25f)},{'paramPath':_0x1ceb45+_0x4f11e0(0x311)}),{'filters':_0x16f2f0,'bias':_0xd00047};}function _0x413944(_0x2a203d,_0x5c71cd){const _0x31f5aa=_0x2675,_0x448dce=tf25[_0x31f5aa(0x260)](_0x1102d8(_0x2a203d)),_0x4898ec=tf25['tensor1d'](_0x1102d8(_0x2a203d));return _0x54dce3[_0x31f5aa(0x1fa)]({'paramPath':_0x5c71cd+_0x31f5aa(0x2a3)},{'paramPath':_0x5c71cd+_0x31f5aa(0x170)}),{'weights':_0x448dce,'biases':_0x4898ec};}function _0x32ea9f(_0x311797,_0x1e1c82,_0x929b38,_0x20687e){const _0x1e207f=_0x2675,_0x252b44=_0x2ac43f(_0x311797,_0x1e1c82,_0x929b38,_0x20687e+_0x1e207f(0x2cb)),_0x44c4a5=_0x413944(_0x1e1c82,_0x20687e+_0x1e207f(0x142));return{'conv':_0x252b44,'scale':_0x44c4a5};}function _0x1924de(_0x4e7e9e,_0x3f982a,_0x4e0960,_0x1a5f3f,_0x53c03d=![]){const _0x4e23de=_0x2675,_0x4712e3=_0x32ea9f((_0x53c03d?0.5:0x1)*_0x4e7e9e,_0x3f982a,_0x4e0960,_0x1a5f3f+'/conv1'),_0x1c3833=_0x32ea9f(_0x4e7e9e,_0x3f982a,_0x4e0960,_0x1a5f3f+_0x4e23de(0x314));return{'conv1':_0x4712e3,'conv2':_0x1c3833};}return{'extractConvLayerParams':_0x32ea9f,'extractResidualLayerParams':_0x1924de};}function extractParams5(_0x18196f){const _0x1ae0b9=_0x16f23b,{extractWeights:_0x596010,getRemainingWeights:_0x2123c3}=extractWeightsFactory(_0x18196f),_0x3d806b=[],{extractConvLayerParams:_0x40a880,extractResidualLayerParams:_0x2bfb15}=extractorsFactory3(_0x596010,_0x3d806b),_0x1bded8=_0x40a880(0x1260,0x20,0x7,_0x1ae0b9(0x1f5)),_0x4af384=_0x2bfb15(0x2400,0x20,0x3,_0x1ae0b9(0x203)),_0x2a3a49=_0x2bfb15(0x2400,0x20,0x3,_0x1ae0b9(0x3a6)),_0xa0a3a5=_0x2bfb15(0x2400,0x20,0x3,_0x1ae0b9(0x1ff)),_0x2d7514=_0x2bfb15(0x9000,0x40,0x3,_0x1ae0b9(0x33d),!![]),_0x1c4e06=_0x2bfb15(0x9000,0x40,0x3,_0x1ae0b9(0x370)),_0x56adb1=_0x2bfb15(0x9000,0x40,0x3,_0x1ae0b9(0x276)),_0x797aee=_0x2bfb15(0x9000,0x40,0x3,_0x1ae0b9(0x1d4)),_0xda67d9=_0x2bfb15(0x24000,0x80,0x3,_0x1ae0b9(0x160),!![]),_0x1c83d7=_0x2bfb15(0x24000,0x80,0x3,_0x1ae0b9(0x245)),_0x556542=_0x2bfb15(0x24000,0x80,0x3,_0x1ae0b9(0x188)),_0x1d8cdf=_0x2bfb15(0x90000,0x100,0x3,_0x1ae0b9(0x210),!![]),_0x30a498=_0x2bfb15(0x90000,0x100,0x3,_0x1ae0b9(0x2fd)),_0x453edf=_0x2bfb15(0x90000,0x100,0x3,_0x1ae0b9(0x213)),_0x413fc0=_0x2bfb15(0x90000,0x100,0x3,_0x1ae0b9(0x16f)),_0x1e3fbb=tf25[_0x1ae0b9(0x378)](()=>tf25['transpose'](tf25[_0x1ae0b9(0x26b)](_0x596010(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x3d806b[_0x1ae0b9(0x1fa)]({'paramPath':'fc'});if(_0x2123c3()[_0x1ae0b9(0x248)]!==0x0)throw new Error(_0x1ae0b9(0x148)+_0x2123c3()['length']);const _0x52173b={'conv32_down':_0x1bded8,'conv32_1':_0x4af384,'conv32_2':_0x2a3a49,'conv32_3':_0xa0a3a5,'conv64_down':_0x2d7514,'conv64_1':_0x1c4e06,'conv64_2':_0x56adb1,'conv64_3':_0x797aee,'conv128_down':_0xda67d9,'conv128_1':_0x1c83d7,'conv128_2':_0x556542,'conv256_down':_0x1d8cdf,'conv256_1':_0x30a498,'conv256_2':_0x453edf,'conv256_down_out':_0x413fc0,'fc':_0x1e3fbb};return{'params':_0x52173b,'paramMappings':_0x3d806b};}function extractorsFactory4(_0x4cf830,_0x36cf8f){const _0x34538d=extractWeightEntryFactory(_0x4cf830,_0x36cf8f);function _0x2794b8(_0x997312){const _0x4adeea=_0x2675,_0x2b7a21=_0x34538d(_0x997312+_0x4adeea(0x2b2),0x1),_0x335db4=_0x34538d(_0x997312+_0x4adeea(0x179),0x1);return{'weights':_0x2b7a21,'biases':_0x335db4};}function _0x252ce7(_0x2bc86a){const _0x2acfd8=_0x2675,_0x1b70e3=_0x34538d(_0x2bc86a+_0x2acfd8(0x350),0x4),_0x15c48c=_0x34538d(_0x2bc86a+'/conv/bias',0x1),_0xf7c1ed=_0x2794b8(_0x2bc86a);return{'conv':{'filters':_0x1b70e3,'bias':_0x15c48c},'scale':_0xf7c1ed};}function _0x5766a5(_0x57c604){const _0x3638b9=_0x2675;return{'conv1':_0x252ce7(_0x57c604+'/conv1'),'conv2':_0x252ce7(_0x57c604+_0x3638b9(0x314))};}return{'extractConvLayerParams':_0x252ce7,'extractResidualLayerParams':_0x5766a5};}function extractParamsFromWeightMap5(_0x8d04f4){const _0x642109=_0x16f23b,_0x198089=[],{extractConvLayerParams:_0x378213,extractResidualLayerParams:_0x28a27d}=extractorsFactory4(_0x8d04f4,_0x198089),_0xded2f2=_0x378213(_0x642109(0x1f5)),_0xbf4dcb=_0x28a27d(_0x642109(0x203)),_0x48abee=_0x28a27d(_0x642109(0x3a6)),_0xba90a8=_0x28a27d(_0x642109(0x1ff)),_0x44ad9e=_0x28a27d(_0x642109(0x33d)),_0x27f72f=_0x28a27d(_0x642109(0x370)),_0x513adc=_0x28a27d(_0x642109(0x276)),_0x21f676=_0x28a27d(_0x642109(0x1d4)),_0x29abcd=_0x28a27d(_0x642109(0x160)),_0x2c93ac=_0x28a27d(_0x642109(0x245)),_0x3e99f0=_0x28a27d('conv128_2'),_0x3df279=_0x28a27d('conv256_down'),_0xf879cb=_0x28a27d('conv256_1'),_0x16c780=_0x28a27d(_0x642109(0x213)),_0x15c998=_0x28a27d(_0x642109(0x16f)),{fc:_0x5d0014}=_0x8d04f4;_0x198089[_0x642109(0x1fa)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x5d0014))throw new Error('expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20'+_0x5d0014);const _0xa87880={'conv32_down':_0xded2f2,'conv32_1':_0xbf4dcb,'conv32_2':_0x48abee,'conv32_3':_0xba90a8,'conv64_down':_0x44ad9e,'conv64_1':_0x27f72f,'conv64_2':_0x513adc,'conv64_3':_0x21f676,'conv128_down':_0x29abcd,'conv128_1':_0x2c93ac,'conv128_2':_0x3e99f0,'conv256_down':_0x3df279,'conv256_1':_0xf879cb,'conv256_2':_0x16c780,'conv256_down_out':_0x15c998,'fc':_0x5d0014};return disposeUnusedWeightTensors(_0x8d04f4,_0x198089),{'params':_0xa87880,'paramMappings':_0x198089};}var tf26=__toESM(require_tfjs_esm());function residual(_0x477762,_0x41029c){const _0x541d69=_0x16f23b;let _0x28fbb6=conv2(_0x477762,_0x41029c[_0x541d69(0x35a)]);return _0x28fbb6=convNoRelu(_0x28fbb6,_0x41029c[_0x541d69(0x1dc)]),_0x28fbb6=tf26[_0x541d69(0x348)](_0x28fbb6,_0x477762),_0x28fbb6=tf26[_0x541d69(0x157)](_0x28fbb6),_0x28fbb6;}function residualDown(_0x4c3def,_0x4374fb){const _0x205095=_0x16f23b;let _0x2d6c6b=convDown(_0x4c3def,_0x4374fb[_0x205095(0x35a)]);_0x2d6c6b=convNoRelu(_0x2d6c6b,_0x4374fb[_0x205095(0x1dc)]);let _0x5da703=tf26[_0x205095(0x291)](_0x4c3def,0x2,0x2,_0x205095(0x310));const _0x5826a6=tf26[_0x205095(0x3b0)](_0x5da703[_0x205095(0x363)]),_0x45688a=_0x5da703[_0x205095(0x363)][0x3]!==_0x2d6c6b[_0x205095(0x363)][0x3],_0x1a7576=_0x5da703['shape'][0x1]!==_0x2d6c6b[_0x205095(0x363)][0x1]||_0x5da703[_0x205095(0x363)][0x2]!==_0x2d6c6b[_0x205095(0x363)][0x2];if(_0x1a7576){const _0x300760=[..._0x2d6c6b[_0x205095(0x363)]];_0x300760[0x1]=0x1;const _0x4fbc14=tf26[_0x205095(0x3b0)](_0x300760);_0x2d6c6b=tf26[_0x205095(0x20b)]([_0x2d6c6b,_0x4fbc14],0x1);const _0x414ddf=[..._0x2d6c6b[_0x205095(0x363)]];_0x414ddf[0x2]=0x1;const _0x359eb4=tf26[_0x205095(0x3b0)](_0x414ddf);_0x2d6c6b=tf26[_0x205095(0x20b)]([_0x2d6c6b,_0x359eb4],0x2);}return _0x5da703=_0x45688a?tf26[_0x205095(0x20b)]([_0x5da703,_0x5826a6],0x3):_0x5da703,_0x2d6c6b=tf26[_0x205095(0x348)](_0x5da703,_0x2d6c6b),_0x2d6c6b=tf26[_0x205095(0x157)](_0x2d6c6b),_0x2d6c6b;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x29bd5c=_0x16f23b;super(_0x29bd5c(0x25e));}[_0x16f23b(0x2bb)](_0x348ac3){const {params:_0x14b3e6}=this;if(!_0x14b3e6)throw new Error('FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference');return tf27['tidy'](()=>{const _0x23f320=_0x2675,_0x47b9b2=tf27[_0x23f320(0x2d0)](_0x348ac3[_0x23f320(0x2ef)](0x96,!![]),_0x23f320(0x183)),_0x137c70=[122.782,117.001,104.298],_0x483808=normalize(_0x47b9b2,_0x137c70)[_0x23f320(0x379)](0xff);let _0x34f755=convDown(_0x483808,_0x14b3e6[_0x23f320(0x1f5)]);_0x34f755=tf27[_0x23f320(0x1c5)](_0x34f755,0x3,0x2,_0x23f320(0x310)),_0x34f755=residual(_0x34f755,_0x14b3e6['conv32_1']),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x3a6)]),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x1ff)]),_0x34f755=residualDown(_0x34f755,_0x14b3e6['conv64_down']),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x370)]),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x276)]),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x1d4)]),_0x34f755=residualDown(_0x34f755,_0x14b3e6[_0x23f320(0x160)]),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x245)]),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x188)]),_0x34f755=residualDown(_0x34f755,_0x14b3e6[_0x23f320(0x210)]),_0x34f755=residual(_0x34f755,_0x14b3e6[_0x23f320(0x2fd)]),_0x34f755=residual(_0x34f755,_0x14b3e6['conv256_2']),_0x34f755=residualDown(_0x34f755,_0x14b3e6[_0x23f320(0x16f)]);const _0x5eee73=_0x34f755['mean']([0x1,0x2]),_0x1cc3b5=tf27[_0x23f320(0x158)](_0x5eee73,_0x14b3e6['fc']);return _0x1cc3b5;});}async[_0x16f23b(0x3a3)](_0x4e3252){return this['forwardInput'](await toNetInput(_0x4e3252));}async[_0x16f23b(0x3a8)](_0x5226ea){const _0x19bede=_0x16f23b;var _0x27dc18;if((_0x27dc18=_0x5226ea==null?void 0x0:_0x5226ea[_0x19bede(0x363)])==null?void 0x0:_0x27dc18[_0x19bede(0x1de)](_0x227ba2=>_0x227ba2<=0x0))return new Float32Array(0x80);const _0xe021a5=await toNetInput(_0x5226ea),_0x4aaa97=tf27[_0x19bede(0x378)](()=>tf27[_0x19bede(0x29c)](this[_0x19bede(0x2bb)](_0xe021a5))),_0x5d8c5f=await Promise[_0x19bede(0x209)](_0x4aaa97[_0x19bede(0x2a2)](_0xa31972=>_0xa31972[_0x19bede(0x166)]()));return _0x4aaa97[_0x19bede(0x129)](_0x1216da=>_0x1216da[_0x19bede(0x2ae)]()),_0xe021a5[_0x19bede(0x219)]?_0x5d8c5f:_0x5d8c5f[0x0];}[_0x16f23b(0x30b)](){const _0x3cb97e=_0x16f23b;return _0x3cb97e(0x360);}[_0x16f23b(0x2f7)](_0x337777){return extractParamsFromWeightMap5(_0x337777);}[_0x16f23b(0x39a)](_0x36edf1){return extractParams5(_0x36edf1);}};function createFaceRecognitionNet(_0x1f42c8){const _0x491783=_0x16f23b,_0x484d10=new FaceRecognitionNet();return _0x484d10[_0x491783(0x261)](_0x1f42c8),_0x484d10;}function extendWithFaceDescriptor(_0x147d89,_0x4a3b07){const _0x5f35b6={'descriptor':_0x4a3b07};return{..._0x147d89,..._0x5f35b6};}function isWithAge(_0x5040d8){const _0x317f5f=_0x16f23b;return typeof _0x5040d8[_0x317f5f(0x1b7)]===_0x317f5f(0x2d7);}function extendWithAge(_0x595fa6,_0x54b0c8){const _0x1f7445={'age':_0x54b0c8};return{..._0x595fa6,..._0x1f7445};}function isWithGender(_0x462786){const _0x36cc4f=_0x16f23b;return(_0x462786['gender']===_0x36cc4f(0x214)||_0x462786[_0x36cc4f(0x200)]===_0x36cc4f(0x1b8))&&isValidProbablitiy(_0x462786[_0x36cc4f(0x361)]);}function extendWithGender(_0x5aeab8,_0x2ccff4,_0x155720){const _0x2091d0={'gender':_0x2ccff4,'genderProbability':_0x155720};return{..._0x5aeab8,..._0x2091d0};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x4dd3f7,_0x5c4d22){function _0x273890(_0x3c624f,_0x5fdccd){const _0x1343c1=_0x2675,_0x55ea38=tf28[_0x1343c1(0x3ae)](_0x4dd3f7(0x3*0x3*_0x3c624f),[0x3,0x3,_0x3c624f,0x1]),_0x197eb1=tf28['tensor1d'](_0x4dd3f7(_0x3c624f)),_0x38be64=tf28['tensor1d'](_0x4dd3f7(_0x3c624f)),_0x793a46=tf28[_0x1343c1(0x260)](_0x4dd3f7(_0x3c624f)),_0x1e908c=tf28[_0x1343c1(0x260)](_0x4dd3f7(_0x3c624f));return _0x5c4d22['push']({'paramPath':_0x5fdccd+_0x1343c1(0x25f)},{'paramPath':_0x5fdccd+_0x1343c1(0x29f)},{'paramPath':_0x5fdccd+'/batch_norm_offset'},{'paramPath':_0x5fdccd+_0x1343c1(0x37f)},{'paramPath':_0x5fdccd+'/batch_norm_variance'}),{'filters':_0x55ea38,'batch_norm_scale':_0x197eb1,'batch_norm_offset':_0x38be64,'batch_norm_mean':_0x793a46,'batch_norm_variance':_0x1e908c};}function _0x45b850(_0x12c2d4,_0x2bc0e0,_0x186e8e,_0x1906ca,_0x33299c){const _0x352681=_0x2675,_0x4e0f75=tf28[_0x352681(0x3ae)](_0x4dd3f7(_0x12c2d4*_0x2bc0e0*_0x186e8e*_0x186e8e),[_0x186e8e,_0x186e8e,_0x12c2d4,_0x2bc0e0]),_0x298308=tf28[_0x352681(0x260)](_0x4dd3f7(_0x2bc0e0));return _0x5c4d22[_0x352681(0x1fa)]({'paramPath':_0x1906ca+_0x352681(0x25f)},{'paramPath':_0x1906ca+'/'+(_0x33299c?_0x352681(0x131):_0x352681(0x257))}),{'filters':_0x4e0f75,'bias':_0x298308};}function _0x2ac7fc(_0x2714ca,_0x1ca647,_0x5d48e1,_0x545793){const {filters:_0x4e6f6d,bias:_0x3025cd}=_0x45b850(_0x2714ca,_0x1ca647,_0x5d48e1,_0x545793,!![]);return{'filters':_0x4e6f6d,'batch_norm_offset':_0x3025cd};}function _0x420775(_0x5e0f72,_0x3dd12a,_0x1da24c){const _0x4a5a94=_0x2675,_0x434276=_0x273890(_0x5e0f72,_0x1da24c+_0x4a5a94(0x155)),_0x4eb849=_0x2ac7fc(_0x5e0f72,_0x3dd12a,0x1,_0x1da24c+_0x4a5a94(0x256));return{'depthwise_conv':_0x434276,'pointwise_conv':_0x4eb849};}function _0x4cf00b(){const _0x3235ec=_0x2675,_0x3f6a8b=_0x2ac7fc(0x3,0x20,0x3,_0x3235ec(0x1f3)),_0x2f4347=_0x420775(0x20,0x40,_0x3235ec(0x1ba)),_0xe6af8c=_0x420775(0x40,0x80,_0x3235ec(0x1b2)),_0x5970e3=_0x420775(0x80,0x80,_0x3235ec(0x1e0)),_0x553c77=_0x420775(0x80,0x100,_0x3235ec(0x25b)),_0x44a86c=_0x420775(0x100,0x100,_0x3235ec(0x375)),_0x3147fa=_0x420775(0x100,0x200,'mobilenetv1/conv_6'),_0x3cbc53=_0x420775(0x200,0x200,_0x3235ec(0x178)),_0x27afef=_0x420775(0x200,0x200,'mobilenetv1/conv_8'),_0x4d22e9=_0x420775(0x200,0x200,_0x3235ec(0x2d1)),_0x206274=_0x420775(0x200,0x200,_0x3235ec(0x191)),_0x35c561=_0x420775(0x200,0x200,_0x3235ec(0x15e)),_0x45ad08=_0x420775(0x200,0x400,'mobilenetv1/conv_12'),_0x228e2c=_0x420775(0x400,0x400,_0x3235ec(0x216));return{'conv_0':_0x3f6a8b,'conv_1':_0x2f4347,'conv_2':_0xe6af8c,'conv_3':_0x5970e3,'conv_4':_0x553c77,'conv_5':_0x44a86c,'conv_6':_0x3147fa,'conv_7':_0x3cbc53,'conv_8':_0x27afef,'conv_9':_0x4d22e9,'conv_10':_0x206274,'conv_11':_0x35c561,'conv_12':_0x45ad08,'conv_13':_0x228e2c};}function _0x2c5a03(){const _0x183bb2=_0x2675,_0x59954d=_0x2ac7fc(0x400,0x100,0x1,'prediction_layer/conv_0'),_0x4567a5=_0x2ac7fc(0x100,0x200,0x3,'prediction_layer/conv_1'),_0x480c40=_0x2ac7fc(0x200,0x80,0x1,_0x183bb2(0x1fb)),_0x45e125=_0x2ac7fc(0x80,0x100,0x3,_0x183bb2(0x1f4)),_0x4f5880=_0x2ac7fc(0x100,0x80,0x1,_0x183bb2(0x274)),_0x2fbb0b=_0x2ac7fc(0x80,0x100,0x3,_0x183bb2(0x2c2)),_0x4325c9=_0x2ac7fc(0x100,0x40,0x1,'prediction_layer/conv_6'),_0x40bb1f=_0x2ac7fc(0x40,0x80,0x3,_0x183bb2(0x1f0)),_0x4109ec=_0x45b850(0x200,0xc,0x1,'prediction_layer/box_predictor_0/box_encoding_predictor'),_0x30a017=_0x45b850(0x200,0x9,0x1,'prediction_layer/box_predictor_0/class_predictor'),_0xd37422=_0x45b850(0x400,0x18,0x1,_0x183bb2(0x2c8)),_0x50e7e6=_0x45b850(0x400,0x12,0x1,_0x183bb2(0x2f9)),_0x432802=_0x45b850(0x200,0x18,0x1,_0x183bb2(0x16a)),_0x57bce3=_0x45b850(0x200,0x12,0x1,'prediction_layer/box_predictor_2/class_predictor'),_0xc8d958=_0x45b850(0x100,0x18,0x1,_0x183bb2(0x39b)),_0x51cc04=_0x45b850(0x100,0x12,0x1,'prediction_layer/box_predictor_3/class_predictor'),_0x317203=_0x45b850(0x100,0x18,0x1,_0x183bb2(0x13a)),_0x40054b=_0x45b850(0x100,0x12,0x1,'prediction_layer/box_predictor_4/class_predictor'),_0x48fb16=_0x45b850(0x80,0x18,0x1,_0x183bb2(0x1ab)),_0x4d8621=_0x45b850(0x80,0x12,0x1,_0x183bb2(0x395)),_0x5f3af7={'box_encoding_predictor':_0x4109ec,'class_predictor':_0x30a017},_0x3359d3={'box_encoding_predictor':_0xd37422,'class_predictor':_0x50e7e6},_0x1e74ef={'box_encoding_predictor':_0x432802,'class_predictor':_0x57bce3},_0x1344bb={'box_encoding_predictor':_0xc8d958,'class_predictor':_0x51cc04},_0x41b5d3={'box_encoding_predictor':_0x317203,'class_predictor':_0x40054b},_0x114788={'box_encoding_predictor':_0x48fb16,'class_predictor':_0x4d8621};return{'conv_0':_0x59954d,'conv_1':_0x4567a5,'conv_2':_0x480c40,'conv_3':_0x45e125,'conv_4':_0x4f5880,'conv_5':_0x2fbb0b,'conv_6':_0x4325c9,'conv_7':_0x40bb1f,'box_predictor_0':_0x5f3af7,'box_predictor_1':_0x3359d3,'box_predictor_2':_0x1e74ef,'box_predictor_3':_0x1344bb,'box_predictor_4':_0x41b5d3,'box_predictor_5':_0x114788};}return{'extractMobilenetV1Params':_0x4cf00b,'extractPredictionLayerParams':_0x2c5a03};}function extractParams6(_0x5b8840){const _0x3f35ab=_0x16f23b,_0x5ada8c=[],{extractWeights:_0x238760,getRemainingWeights:_0x3eb699}=extractWeightsFactory(_0x5b8840),{extractMobilenetV1Params:_0x4198c1,extractPredictionLayerParams:_0x1e6edc}=extractorsFactory5(_0x238760,_0x5ada8c),_0x5631e8=_0x4198c1(),_0x3e905e=_0x1e6edc(),_0x32749c=tf28[_0x3f35ab(0x356)](_0x238760(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x111511={'extra_dim':_0x32749c};_0x5ada8c['push']({'paramPath':_0x3f35ab(0x271)});if(_0x3eb699()[_0x3f35ab(0x248)]!==0x0)throw new Error(_0x3f35ab(0x148)+_0x3eb699()[_0x3f35ab(0x248)]);return{'params':{'mobilenetv1':_0x5631e8,'prediction_layer':_0x3e905e,'output_layer':_0x111511},'paramMappings':_0x5ada8c};}function extractorsFactory6(_0x4e1a8a,_0x561b63){const _0x2d177b=extractWeightEntryFactory(_0x4e1a8a,_0x561b63);function _0x3204f9(_0x4645cc,_0x4c5d6a,_0x514c68){const _0xdc32ee=_0x2675,_0x22ede5=_0x2d177b(_0x4645cc+_0xdc32ee(0x1f2)+_0x4c5d6a+_0xdc32ee(0x241),0x4,_0x514c68+_0xdc32ee(0x25f)),_0x55f1a7=_0x2d177b(_0x4645cc+_0xdc32ee(0x1f2)+_0x4c5d6a+'_pointwise/convolution_bn_offset',0x1,_0x514c68+_0xdc32ee(0x194));return{'filters':_0x22ede5,'batch_norm_offset':_0x55f1a7};}function _0x9a3b30(_0x27a7d9){const _0x2b3948=_0x2675,_0x52a80c=_0x2b3948(0x2a5)+_0x27a7d9,_0x986c16=_0x2b3948(0x2ad)+_0x27a7d9+_0x2b3948(0x369),_0xa599ab=_0x52a80c+_0x2b3948(0x155),_0x269c9f=_0x52a80c+_0x2b3948(0x256),_0x1e7980=_0x2d177b(_0x986c16+_0x2b3948(0x297),0x4,_0xa599ab+_0x2b3948(0x25f)),_0x3302a3=_0x2d177b(_0x986c16+_0x2b3948(0x357),0x1,_0xa599ab+_0x2b3948(0x29f)),_0x35b869=_0x2d177b(_0x986c16+_0x2b3948(0x309),0x1,_0xa599ab+_0x2b3948(0x194)),_0x4fca90=_0x2d177b(_0x986c16+'/BatchNorm/moving_mean',0x1,_0xa599ab+_0x2b3948(0x37f)),_0x5bd47b=_0x2d177b(_0x986c16+_0x2b3948(0x264),0x1,_0xa599ab+_0x2b3948(0x3aa));return{'depthwise_conv':{'filters':_0x1e7980,'batch_norm_scale':_0x3302a3,'batch_norm_offset':_0x35b869,'batch_norm_mean':_0x4fca90,'batch_norm_variance':_0x5bd47b},'pointwise_conv':_0x3204f9(_0x2b3948(0x265),_0x27a7d9,_0x269c9f)};}function _0x416af8(){const _0x1c262c=_0x2675;return{'conv_0':_0x3204f9(_0x1c262c(0x265),0x0,_0x1c262c(0x1f3)),'conv_1':_0x9a3b30(0x1),'conv_2':_0x9a3b30(0x2),'conv_3':_0x9a3b30(0x3),'conv_4':_0x9a3b30(0x4),'conv_5':_0x9a3b30(0x5),'conv_6':_0x9a3b30(0x6),'conv_7':_0x9a3b30(0x7),'conv_8':_0x9a3b30(0x8),'conv_9':_0x9a3b30(0x9),'conv_10':_0x9a3b30(0xa),'conv_11':_0x9a3b30(0xb),'conv_12':_0x9a3b30(0xc),'conv_13':_0x9a3b30(0xd)};}function _0x2bf289(_0x4eac04,_0x332020){const _0x4b5083=_0x2675,_0x4baac5=_0x2d177b(_0x4eac04+'/weights',0x4,_0x332020+_0x4b5083(0x25f)),_0x3fe643=_0x2d177b(_0x4eac04+'/biases',0x1,_0x332020+_0x4b5083(0x311));return{'filters':_0x4baac5,'bias':_0x3fe643};}function _0x253fd4(_0x10e0df){const _0x4068b8=_0x2675,_0x37cff4=_0x2bf289('Prediction/BoxPredictor_'+_0x10e0df+_0x4068b8(0x24a),'prediction_layer/box_predictor_'+_0x10e0df+_0x4068b8(0x1c0)),_0x8468f7=_0x2bf289('Prediction/BoxPredictor_'+_0x10e0df+'/ClassPredictor',_0x4068b8(0x23b)+_0x10e0df+_0x4068b8(0x1c4));return{'box_encoding_predictor':_0x37cff4,'class_predictor':_0x8468f7};}function _0xca5462(){const _0x888c03=_0x2675;return{'conv_0':_0x3204f9(_0x888c03(0x2e5),0x0,_0x888c03(0x217)),'conv_1':_0x3204f9('Prediction',0x1,_0x888c03(0x37b)),'conv_2':_0x3204f9(_0x888c03(0x2e5),0x2,_0x888c03(0x1fb)),'conv_3':_0x3204f9(_0x888c03(0x2e5),0x3,'prediction_layer/conv_3'),'conv_4':_0x3204f9(_0x888c03(0x2e5),0x4,_0x888c03(0x274)),'conv_5':_0x3204f9('Prediction',0x5,_0x888c03(0x2c2)),'conv_6':_0x3204f9('Prediction',0x6,_0x888c03(0x1f7)),'conv_7':_0x3204f9(_0x888c03(0x2e5),0x7,'prediction_layer/conv_7'),'box_predictor_0':_0x253fd4(0x0),'box_predictor_1':_0x253fd4(0x1),'box_predictor_2':_0x253fd4(0x2),'box_predictor_3':_0x253fd4(0x3),'box_predictor_4':_0x253fd4(0x4),'box_predictor_5':_0x253fd4(0x5)};}return{'extractMobilenetV1Params':_0x416af8,'extractPredictionLayerParams':_0xca5462};}function extractParamsFromWeightMap6(_0x30d0be){const _0x3bacb5=_0x16f23b,_0x1ef457=[],{extractMobilenetV1Params:_0x4d9c6f,extractPredictionLayerParams:_0x46fbfe}=extractorsFactory6(_0x30d0be,_0x1ef457),_0x5862ad=_0x30d0be[_0x3bacb5(0x189)];_0x1ef457['push']({'originalPath':_0x3bacb5(0x189),'paramPath':'output_layer/extra_dim'});if(!isTensor3D(_0x5862ad))throw new Error('expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20'+_0x5862ad);const _0x29ff6={'mobilenetv1':_0x4d9c6f(),'prediction_layer':_0x46fbfe(),'output_layer':{'extra_dim':_0x5862ad}};return disposeUnusedWeightTensors(_0x30d0be,_0x1ef457),{'params':_0x29ff6,'paramMappings':_0x1ef457};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x40d1ee,_0x702e6a,_0x2b1928){const _0x2265c9=_0x16f23b;return tf29[_0x2265c9(0x378)](()=>{const _0x4b8825=_0x2265c9;let _0x1331d4=tf29[_0x4b8825(0x128)](_0x40d1ee,_0x702e6a['filters'],_0x2b1928,_0x4b8825(0x33f));return _0x1331d4=tf29[_0x4b8825(0x348)](_0x1331d4,_0x702e6a[_0x4b8825(0x131)]),tf29[_0x4b8825(0x37d)](_0x1331d4,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0xe5c898,_0x298fac,_0x399c20){const _0x1f60fc=_0x16f23b;return tf30[_0x1f60fc(0x378)](()=>{const _0x1b4e53=_0x1f60fc;let _0x3365a3=tf30[_0x1b4e53(0x192)](_0xe5c898,_0x298fac[_0x1b4e53(0x1c8)],_0x399c20,_0x1b4e53(0x33f));return _0x3365a3=tf30[_0x1b4e53(0x38e)](_0x3365a3,_0x298fac[_0x1b4e53(0x180)],_0x298fac[_0x1b4e53(0x35b)],_0x298fac[_0x1b4e53(0x131)],_0x298fac['batch_norm_scale'],epsilon),tf30[_0x1b4e53(0x37d)](_0x3365a3,0x0,0x6);});}function getStridesForLayerIdx(_0x21203b){const _0x14707f=_0x16f23b;return[0x2,0x4,0x6,0xc][_0x14707f(0x1de)](_0x347c55=>_0x347c55===_0x21203b)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x4a2c00,_0x467943){const _0x1f0390=_0x16f23b;return tf30[_0x1f0390(0x378)](()=>{const _0x24da6a=_0x1f0390;let _0x7a1581,_0x15d92b=pointwiseConvLayer(_0x4a2c00,_0x467943[_0x24da6a(0x2a0)],[0x2,0x2]);const _0x1a4848=[_0x467943['conv_1'],_0x467943['conv_2'],_0x467943[_0x24da6a(0x176)],_0x467943[_0x24da6a(0x1a1)],_0x467943[_0x24da6a(0x344)],_0x467943['conv_6'],_0x467943[_0x24da6a(0x22c)],_0x467943[_0x24da6a(0x2e4)],_0x467943[_0x24da6a(0x268)],_0x467943[_0x24da6a(0x172)],_0x467943['conv_11'],_0x467943[_0x24da6a(0x34a)],_0x467943['conv_13']];_0x1a4848['forEach']((_0x26c0df,_0x1212bb)=>{const _0x54aab9=_0x24da6a,_0x3b3a95=_0x1212bb+0x1,_0x7aad20=getStridesForLayerIdx(_0x3b3a95);_0x15d92b=depthwiseConvLayer(_0x15d92b,_0x26c0df[_0x54aab9(0x340)],_0x7aad20),_0x15d92b=pointwiseConvLayer(_0x15d92b,_0x26c0df[_0x54aab9(0x2a6)],[0x1,0x1]);if(_0x3b3a95===0xb)_0x7a1581=_0x15d92b;});if(_0x7a1581===null)throw new Error('mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null');return{'out':_0x15d92b,'conv11':_0x7a1581};});}function IOU(_0x469031,_0x2ce51b,_0x4dac7c){const _0x24239e=_0x16f23b,_0xb6a6b5=_0x469031[_0x24239e(0x1bc)](),_0x548402=Math['min'](_0xb6a6b5[_0x2ce51b][0x0],_0xb6a6b5[_0x2ce51b][0x2]),_0x23a7c7=Math['min'](_0xb6a6b5[_0x2ce51b][0x1],_0xb6a6b5[_0x2ce51b][0x3]),_0x5eace9=Math[_0x24239e(0x2d4)](_0xb6a6b5[_0x2ce51b][0x0],_0xb6a6b5[_0x2ce51b][0x2]),_0x1b9205=Math[_0x24239e(0x2d4)](_0xb6a6b5[_0x2ce51b][0x1],_0xb6a6b5[_0x2ce51b][0x3]),_0x1c9703=Math[_0x24239e(0x2b6)](_0xb6a6b5[_0x4dac7c][0x0],_0xb6a6b5[_0x4dac7c][0x2]),_0x3c5fab=Math[_0x24239e(0x2b6)](_0xb6a6b5[_0x4dac7c][0x1],_0xb6a6b5[_0x4dac7c][0x3]),_0x3b0337=Math[_0x24239e(0x2d4)](_0xb6a6b5[_0x4dac7c][0x0],_0xb6a6b5[_0x4dac7c][0x2]),_0x4bcb30=Math['max'](_0xb6a6b5[_0x4dac7c][0x1],_0xb6a6b5[_0x4dac7c][0x3]),_0xeac024=(_0x5eace9-_0x548402)*(_0x1b9205-_0x23a7c7),_0x1c73a7=(_0x3b0337-_0x1c9703)*(_0x4bcb30-_0x3c5fab);if(_0xeac024<=0x0||_0x1c73a7<=0x0)return 0x0;const _0x24d009=Math[_0x24239e(0x2d4)](_0x548402,_0x1c9703),_0x47b425=Math[_0x24239e(0x2d4)](_0x23a7c7,_0x3c5fab),_0x3cf6d8=Math[_0x24239e(0x2b6)](_0x5eace9,_0x3b0337),_0x5c304f=Math[_0x24239e(0x2b6)](_0x1b9205,_0x4bcb30),_0x15c612=Math[_0x24239e(0x2d4)](_0x3cf6d8-_0x24d009,0x0)*Math[_0x24239e(0x2d4)](_0x5c304f-_0x47b425,0x0);return _0x15c612/(_0xeac024+_0x1c73a7-_0x15c612);}function nonMaxSuppression2(_0x5e7bfb,_0xe288da,_0x3800d4,_0x37c668,_0x2b8704){const _0x3fdd9b=_0x16f23b,_0x5bc624=_0x5e7bfb[_0x3fdd9b(0x363)][0x0],_0x1533f2=Math[_0x3fdd9b(0x2b6)](_0x3800d4,_0x5bc624),_0xc01389=_0xe288da[_0x3fdd9b(0x2a2)]((_0x4ec895,_0x54692f)=>({'score':_0x4ec895,'boxIndex':_0x54692f}))[_0x3fdd9b(0x367)](_0x354e04=>_0x354e04[_0x3fdd9b(0x306)]>_0x2b8704)['sort']((_0x46b7fa,_0x2b6373)=>_0x2b6373[_0x3fdd9b(0x306)]-_0x46b7fa[_0x3fdd9b(0x306)]),_0x529a37=_0xbb9e47=>_0xbb9e47<=_0x37c668?0x1:0x0,_0x4bce89=[];return _0xc01389[_0x3fdd9b(0x129)](_0x1b9f3b=>{const _0x51d41b=_0x3fdd9b;if(_0x4bce89[_0x51d41b(0x248)]>=_0x1533f2)return;const _0x2c05ea=_0x1b9f3b['score'];for(let _0x5bfe51=_0x4bce89[_0x51d41b(0x248)]-0x1;_0x5bfe51>=0x0;--_0x5bfe51){const _0x5bd1ea=IOU(_0x5e7bfb,_0x1b9f3b[_0x51d41b(0x208)],_0x4bce89[_0x5bfe51]);if(_0x5bd1ea===0x0)continue;_0x1b9f3b[_0x51d41b(0x306)]*=_0x529a37(_0x5bd1ea);if(_0x1b9f3b[_0x51d41b(0x306)]<=_0x2b8704)break;}_0x2c05ea===_0x1b9f3b[_0x51d41b(0x306)]&&_0x4bce89[_0x51d41b(0x1fa)](_0x1b9f3b[_0x51d41b(0x208)]);}),_0x4bce89;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x5765e1){const _0x5343cf=_0x16f23b,_0x4e0caa=tf31[_0x5343cf(0x29c)](tf31['transpose'](_0x5765e1,[0x1,0x0])),_0x50eeff=[tf31[_0x5343cf(0x138)](_0x4e0caa[0x2],_0x4e0caa[0x0]),tf31[_0x5343cf(0x138)](_0x4e0caa[0x3],_0x4e0caa[0x1])],_0x532909=[tf31['add'](_0x4e0caa[0x0],tf31[_0x5343cf(0x379)](_0x50eeff[0x0],0x2)),tf31[_0x5343cf(0x348)](_0x4e0caa[0x1],tf31[_0x5343cf(0x379)](_0x50eeff[0x1],0x2))];return{'sizes':_0x50eeff,'centers':_0x532909};}function decodeBoxesLayer(_0x4213dc,_0x1c5453){const _0x215d91=_0x16f23b,{sizes:_0x56a21a,centers:_0x4d3cea}=getCenterCoordinatesAndSizesLayer(_0x4213dc),_0x3f9fcc=tf31[_0x215d91(0x29c)](tf31[_0x215d91(0x347)](_0x1c5453,[0x1,0x0])),_0x5a9c35=tf31[_0x215d91(0x379)](tf31['mul'](tf31[_0x215d91(0x23d)](tf31[_0x215d91(0x379)](_0x3f9fcc[0x2],0x5)),_0x56a21a[0x0]),0x2),_0x128199=tf31[_0x215d91(0x348)](tf31[_0x215d91(0x132)](tf31['div'](_0x3f9fcc[0x0],0xa),_0x56a21a[0x0]),_0x4d3cea[0x0]),_0x3ec34a=tf31[_0x215d91(0x379)](tf31[_0x215d91(0x132)](tf31[_0x215d91(0x23d)](tf31[_0x215d91(0x379)](_0x3f9fcc[0x3],0x5)),_0x56a21a[0x1]),0x2),_0x4491f7=tf31[_0x215d91(0x348)](tf31[_0x215d91(0x132)](tf31['div'](_0x3f9fcc[0x1],0xa),_0x56a21a[0x1]),_0x4d3cea[0x1]);return tf31[_0x215d91(0x347)](tf31[_0x215d91(0x228)]([tf31[_0x215d91(0x138)](_0x128199,_0x5a9c35),tf31[_0x215d91(0x138)](_0x4491f7,_0x3ec34a),tf31[_0x215d91(0x348)](_0x128199,_0x5a9c35),tf31['add'](_0x4491f7,_0x3ec34a)]),[0x1,0x0]);}function outputLayer(_0x327bbd,_0x10c47c,_0x17ea6d){return tf31['tidy'](()=>{const _0x46519a=_0x2675,_0x1b6661=_0x327bbd['shape'][0x0];let _0x1503e0=decodeBoxesLayer(tf31[_0x46519a(0x182)](tf31[_0x46519a(0x2bf)](_0x17ea6d[_0x46519a(0x399)],[_0x1b6661,0x1,0x1]),[-0x1,0x4]),tf31[_0x46519a(0x182)](_0x327bbd,[-0x1,0x4]));_0x1503e0=tf31['reshape'](_0x1503e0,[_0x1b6661,_0x1503e0[_0x46519a(0x363)][0x0]/_0x1b6661,0x4]);const _0x46b650=tf31['sigmoid'](tf31['slice'](_0x10c47c,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x41500a=tf31[_0x46519a(0x289)](_0x46b650,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x41500a=tf31[_0x46519a(0x182)](_0x41500a,[_0x1b6661,_0x41500a[_0x46519a(0x363)][0x1]]);const _0x4380ab=tf31[_0x46519a(0x29c)](_0x1503e0),_0x5a407d=tf31[_0x46519a(0x29c)](_0x41500a);return{'boxes':_0x4380ab,'scores':_0x5a407d};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0xc7b17a,_0x5de2ca){const _0x22673e=_0x16f23b;return tf32[_0x22673e(0x378)](()=>{const _0x289548=_0x22673e,_0x588d77=_0xc7b17a['shape'][0x0],_0x4ae68f=tf32[_0x289548(0x182)](convLayer(_0xc7b17a,_0x5de2ca[_0x289548(0x323)]),[_0x588d77,-0x1,0x1,0x4]),_0xa3d6ae=tf32[_0x289548(0x182)](convLayer(_0xc7b17a,_0x5de2ca[_0x289548(0x295)]),[_0x588d77,-0x1,0x3]);return{'boxPredictionEncoding':_0x4ae68f,'classPrediction':_0xa3d6ae};});}function predictionLayer(_0x525ee4,_0x413d3b,_0x22a52b){const _0x5cf0a0=_0x16f23b;return tf33[_0x5cf0a0(0x378)](()=>{const _0x58a3d5=_0x5cf0a0,_0x389002=pointwiseConvLayer(_0x525ee4,_0x22a52b['conv_0'],[0x1,0x1]),_0x4d805e=pointwiseConvLayer(_0x389002,_0x22a52b['conv_1'],[0x2,0x2]),_0x35d742=pointwiseConvLayer(_0x4d805e,_0x22a52b['conv_2'],[0x1,0x1]),_0x143a84=pointwiseConvLayer(_0x35d742,_0x22a52b[_0x58a3d5(0x176)],[0x2,0x2]),_0x295654=pointwiseConvLayer(_0x143a84,_0x22a52b[_0x58a3d5(0x1a1)],[0x1,0x1]),_0x199342=pointwiseConvLayer(_0x295654,_0x22a52b[_0x58a3d5(0x344)],[0x2,0x2]),_0x47b2ea=pointwiseConvLayer(_0x199342,_0x22a52b[_0x58a3d5(0x3b2)],[0x1,0x1]),_0x1c00d4=pointwiseConvLayer(_0x47b2ea,_0x22a52b[_0x58a3d5(0x22c)],[0x2,0x2]),_0x1c8aba=boxPredictionLayer(_0x413d3b,_0x22a52b[_0x58a3d5(0x305)]),_0x16054a=boxPredictionLayer(_0x525ee4,_0x22a52b[_0x58a3d5(0x177)]),_0x1008d9=boxPredictionLayer(_0x4d805e,_0x22a52b['box_predictor_2']),_0xd9183d=boxPredictionLayer(_0x143a84,_0x22a52b[_0x58a3d5(0x19a)]),_0x44b2f2=boxPredictionLayer(_0x199342,_0x22a52b[_0x58a3d5(0x17b)]),_0x249f5b=boxPredictionLayer(_0x1c00d4,_0x22a52b[_0x58a3d5(0x1a0)]),_0x233c22=tf33[_0x58a3d5(0x20b)]([_0x1c8aba[_0x58a3d5(0x1b6)],_0x16054a[_0x58a3d5(0x1b6)],_0x1008d9[_0x58a3d5(0x1b6)],_0xd9183d[_0x58a3d5(0x1b6)],_0x44b2f2[_0x58a3d5(0x1b6)],_0x249f5b['boxPredictionEncoding']],0x1),_0x29ef48=tf33[_0x58a3d5(0x20b)]([_0x1c8aba[_0x58a3d5(0x301)],_0x16054a[_0x58a3d5(0x301)],_0x1008d9[_0x58a3d5(0x301)],_0xd9183d[_0x58a3d5(0x301)],_0x44b2f2[_0x58a3d5(0x301)],_0x249f5b[_0x58a3d5(0x301)]],0x1);return{'boxPredictions':_0x233c22,'classPredictions':_0x29ef48};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x9ef3d1,maxResults:_0x17ffd9}={}){const _0x3eb468=_0x16f23b;this[_0x3eb468(0x254)]=_0x3eb468(0x173),this[_0x3eb468(0x2fe)]=_0x9ef3d1||0.5,this[_0x3eb468(0x2e8)]=_0x17ffd9||0x64;if(typeof this[_0x3eb468(0x2fe)]!==_0x3eb468(0x2d7)||this['_minConfidence']<=0x0||this[_0x3eb468(0x2fe)]>=0x1)throw new Error(this[_0x3eb468(0x254)]+_0x3eb468(0x202));if(typeof this[_0x3eb468(0x2e8)]!==_0x3eb468(0x2d7))throw new Error(this['_name']+_0x3eb468(0x292));}get['minConfidence'](){const _0x5c3ce7=_0x16f23b;return this[_0x5c3ce7(0x2fe)];}get['maxResults'](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){super('SsdMobilenetv1');}[_0x16f23b(0x2bb)](_0x3af3d9){const _0x3cdc5d=_0x16f23b,{params:_0x547fd6}=this;if(!_0x547fd6)throw new Error(_0x3cdc5d(0x18f));return tf34[_0x3cdc5d(0x378)](()=>{const _0x3fb484=_0x3cdc5d,_0x1c42a3=tf34['cast'](_0x3af3d9[_0x3fb484(0x2ef)](0x200,![]),_0x3fb484(0x183)),_0x4ad4aa=tf34[_0x3fb484(0x138)](tf34[_0x3fb484(0x379)](_0x1c42a3,127.5),0x1),_0x213280=mobileNetV1(_0x4ad4aa,_0x547fd6[_0x3fb484(0x283)]),{boxPredictions:_0x5c74df,classPredictions:_0x206f6e}=predictionLayer(_0x213280[_0x3fb484(0x30f)],_0x213280[_0x3fb484(0x315)],_0x547fd6[_0x3fb484(0x255)]);return outputLayer(_0x5c74df,_0x206f6e,_0x547fd6['output_layer']);});}async[_0x16f23b(0x3a3)](_0x50a2e0){const _0x5819a7=_0x16f23b;return this[_0x5819a7(0x2bb)](await toNetInput(_0x50a2e0));}async[_0x16f23b(0x386)](_0x1836a5,_0x1158e5={}){const _0x258faa=_0x16f23b,{maxResults:_0x200128,minConfidence:_0x3188e0}=new SsdMobilenetv1Options(_0x1158e5),_0x266513=await toNetInput(_0x1836a5),{boxes:_0x3b12c8,scores:_0x56d688}=this[_0x258faa(0x2bb)](_0x266513),_0x47f686=_0x3b12c8[0x0],_0x1fc7da=_0x56d688[0x0];for(let _0x55408d=0x1;_0x55408d<_0x3b12c8[_0x258faa(0x248)];_0x55408d++){_0x3b12c8[_0x55408d]['dispose'](),_0x56d688[_0x55408d][_0x258faa(0x2ae)]();}const _0x30ecc6=Array['from'](_0x1fc7da[_0x258faa(0x18b)]()),_0x2d94c6=0.5,_0x30dbc9=nonMaxSuppression2(_0x47f686,_0x30ecc6,_0x200128,_0x2d94c6,_0x3188e0),_0x489bbf=_0x266513['getReshapedInputDimensions'](0x0),_0x43fc24=_0x266513[_0x258faa(0x13b)],_0xe03436=_0x43fc24/_0x489bbf['width'],_0x354cef=_0x43fc24/_0x489bbf[_0x258faa(0x39e)],_0x3d3cc7=_0x47f686[_0x258faa(0x1bc)](),_0x32eff2=_0x30dbc9[_0x258faa(0x2a2)](_0x5cd407=>{const _0x3a27b4=_0x258faa,[_0x23cf99,_0x2e39e1]=[Math[_0x3a27b4(0x2d4)](0x0,_0x3d3cc7[_0x5cd407][0x0]),Math['min'](0x1,_0x3d3cc7[_0x5cd407][0x2])][_0x3a27b4(0x2a2)](_0x461c2b=>_0x461c2b*_0x354cef),[_0x2cfae3,_0x37c347]=[Math[_0x3a27b4(0x2d4)](0x0,_0x3d3cc7[_0x5cd407][0x1]),Math[_0x3a27b4(0x2b6)](0x1,_0x3d3cc7[_0x5cd407][0x3])]['map'](_0x2067e2=>_0x2067e2*_0xe03436);return new FaceDetection(_0x30ecc6[_0x5cd407],new Rect(_0x2cfae3,_0x23cf99,_0x37c347-_0x2cfae3,_0x2e39e1-_0x23cf99),{'height':_0x266513['getInputHeight'](0x0),'width':_0x266513['getInputWidth'](0x0)});});return _0x47f686[_0x258faa(0x2ae)](),_0x1fc7da['dispose'](),_0x32eff2;}[_0x16f23b(0x30b)](){return'ssd_mobilenetv1_model';}[_0x16f23b(0x2f7)](_0x47fdc0){return extractParamsFromWeightMap6(_0x47fdc0);}[_0x16f23b(0x39a)](_0x218d71){return extractParams6(_0x218d71);}};function createSsdMobilenetv1(_0x2eccaa){const _0x588201=_0x16f23b,_0x1dc5e6=new SsdMobilenetv1();return _0x1dc5e6[_0x588201(0x261)](_0x2eccaa),_0x1dc5e6;}function createFaceDetectionNet(_0x334674){return createSsdMobilenetv1(_0x334674);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME=_0x16f23b(0x17f),DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x16f23b(0x1a5),tf39=__toESM(require_tfjs_esm()),isNumber=_0x5e2581=>typeof _0x5e2581==='number';function validateConfig(_0x2b85bd){const _0x16c517=_0x16f23b;if(!_0x2b85bd)throw new Error(_0x16c517(0x389)+_0x2b85bd);if(typeof _0x2b85bd[_0x16c517(0x23a)]!=='boolean')throw new Error(_0x16c517(0x1ea)+_0x2b85bd['withSeparableConvs']);if(!isNumber(_0x2b85bd[_0x16c517(0x33e)])||_0x2b85bd[_0x16c517(0x33e)]<0x0||_0x2b85bd[_0x16c517(0x33e)]>0x1)throw new Error(_0x16c517(0x2b5)+_0x2b85bd[_0x16c517(0x33e)]);if(!Array[_0x16c517(0x3a2)](_0x2b85bd['classes'])||!_0x2b85bd[_0x16c517(0x2ea)]['length']||!_0x2b85bd[_0x16c517(0x2ea)]['every'](_0x323c9b=>typeof _0x323c9b==='string'))throw new Error(_0x16c517(0x391)+JSON[_0x16c517(0x2ca)](_0x2b85bd[_0x16c517(0x2ea)]));if(!Array[_0x16c517(0x3a2)](_0x2b85bd[_0x16c517(0x1f6)])||!_0x2b85bd[_0x16c517(0x1f6)][_0x16c517(0x248)]||!_0x2b85bd[_0x16c517(0x1f6)][_0x16c517(0x2a2)](_0x1f8369=>_0x1f8369||{})[_0x16c517(0x2d5)](_0x3a4fb9=>isNumber(_0x3a4fb9['x'])&&isNumber(_0x3a4fb9['y'])))throw new Error('config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20'+JSON[_0x16c517(0x2ca)](_0x2b85bd[_0x16c517(0x1f6)]));if(_0x2b85bd[_0x16c517(0x1cb)]&&(!Array[_0x16c517(0x3a2)](_0x2b85bd[_0x16c517(0x1cb)])||_0x2b85bd[_0x16c517(0x1cb)][_0x16c517(0x248)]!==0x3||!_0x2b85bd[_0x16c517(0x1cb)][_0x16c517(0x2d5)](isNumber)))throw new Error(_0x16c517(0x324)+JSON['stringify'](_0x2b85bd[_0x16c517(0x1cb)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x28cb82){const _0x40b8ee=_0x16f23b;return tf35[_0x40b8ee(0x378)](()=>{const _0x511f5a=_0x40b8ee,_0x3b10b2=tf35[_0x511f5a(0x132)](_0x28cb82,tf35[_0x511f5a(0x38f)](0.10000000149011612));return tf35[_0x511f5a(0x348)](tf35[_0x511f5a(0x157)](tf35[_0x511f5a(0x138)](_0x28cb82,_0x3b10b2)),_0x3b10b2);});}function convWithBatchNorm(_0x3cb151,_0x40ea49){return tf36['tidy'](()=>{const _0x2cfe4f=_0x2675;let _0x2c3bdc=tf36[_0x2cfe4f(0x220)](_0x3cb151,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x2c3bdc=tf36[_0x2cfe4f(0x128)](_0x2c3bdc,_0x40ea49[_0x2cfe4f(0x2ec)][_0x2cfe4f(0x1c8)],[0x1,0x1],'valid'),_0x2c3bdc=tf36[_0x2cfe4f(0x138)](_0x2c3bdc,_0x40ea49['bn'][_0x2cfe4f(0x138)]),_0x2c3bdc=tf36[_0x2cfe4f(0x132)](_0x2c3bdc,_0x40ea49['bn'][_0x2cfe4f(0x1cc)]),_0x2c3bdc=tf36[_0x2cfe4f(0x348)](_0x2c3bdc,_0x40ea49[_0x2cfe4f(0x2ec)][_0x2cfe4f(0x257)]),leaky(_0x2c3bdc);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x11eac3,_0x408a70){const _0x148d83=_0x16f23b;return tf37[_0x148d83(0x378)](()=>{const _0x5c2b2e=_0x148d83;let _0x1d318d=tf37[_0x5c2b2e(0x220)](_0x11eac3,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x1d318d=tf37[_0x5c2b2e(0x1e9)](_0x1d318d,_0x408a70['depthwise_filter'],_0x408a70[_0x5c2b2e(0x215)],[0x1,0x1],_0x5c2b2e(0x310)),_0x1d318d=tf37[_0x5c2b2e(0x348)](_0x1d318d,_0x408a70[_0x5c2b2e(0x257)]),leaky(_0x1d318d);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x6cd2c1,_0x455749){const _0x2dc51f=extractConvParamsFactory(_0x6cd2c1,_0x455749);function _0x30a5ee(_0x43a567,_0x2c40c0){const _0x580b1c=_0x2675,_0x108621=tf38['tensor1d'](_0x6cd2c1(_0x43a567)),_0x5db939=tf38[_0x580b1c(0x260)](_0x6cd2c1(_0x43a567));return _0x455749[_0x580b1c(0x1fa)]({'paramPath':_0x2c40c0+_0x580b1c(0x288)},{'paramPath':_0x2c40c0+_0x580b1c(0x12d)}),{'sub':_0x108621,'truediv':_0x5db939};}function _0xea8238(_0x33ccd0,_0x55f418,_0x396ee3){const _0x51e83e=_0x2675,_0x3dbea0=_0x2dc51f(_0x33ccd0,_0x55f418,0x3,_0x396ee3+_0x51e83e(0x2cb)),_0x8f2d0=_0x30a5ee(_0x55f418,_0x396ee3+_0x51e83e(0x27f));return{'conv':_0x3dbea0,'bn':_0x8f2d0};}const _0x117f38=extractSeparableConvParamsFactory(_0x6cd2c1,_0x455749);return{'extractConvParams':_0x2dc51f,'extractConvWithBatchNormParams':_0xea8238,'extractSeparableConvParams':_0x117f38};}function extractParams7(_0x4362d3,_0x8aabb8,_0x3cfb76,_0x3c15d0){const _0x564e60=_0x16f23b,{extractWeights:_0x56e95f,getRemainingWeights:_0xf966b8}=extractWeightsFactory(_0x4362d3),_0x6b8fc0=[],{extractConvParams:_0xaa8c89,extractConvWithBatchNormParams:_0x3adf7b,extractSeparableConvParams:_0x17c664}=extractorsFactory7(_0x56e95f,_0x6b8fc0);let _0x584ee1;if(_0x8aabb8[_0x564e60(0x23a)]){const [_0x4ab279,_0x19b877,_0x59794c,_0x6a4d80,_0x4bf9a3,_0x285883,_0x45a5da,_0x1ab56d,_0x113ced]=_0x3c15d0,_0x2fe540=_0x8aabb8[_0x564e60(0x1ae)]?_0xaa8c89(_0x4ab279,_0x19b877,0x3,_0x564e60(0x28f)):_0x17c664(_0x4ab279,_0x19b877,'conv0'),_0x547649=_0x17c664(_0x19b877,_0x59794c,_0x564e60(0x35a)),_0x4730c7=_0x17c664(_0x59794c,_0x6a4d80,_0x564e60(0x1dc)),_0x426ed3=_0x17c664(_0x6a4d80,_0x4bf9a3,_0x564e60(0x286)),_0xa16596=_0x17c664(_0x4bf9a3,_0x285883,'conv4'),_0x1110f1=_0x17c664(_0x285883,_0x45a5da,'conv5'),_0x53e2e1=_0x1ab56d?_0x17c664(_0x45a5da,_0x1ab56d,'conv6'):void 0x0,_0x3faedf=_0x113ced?_0x17c664(_0x1ab56d,_0x113ced,_0x564e60(0x29a)):void 0x0,_0x34c25c=_0xaa8c89(_0x113ced||_0x1ab56d||_0x45a5da,0x5*_0x3cfb76,0x1,'conv8');_0x584ee1={'conv0':_0x2fe540,'conv1':_0x547649,'conv2':_0x4730c7,'conv3':_0x426ed3,'conv4':_0xa16596,'conv5':_0x1110f1,'conv6':_0x53e2e1,'conv7':_0x3faedf,'conv8':_0x34c25c};}else{const [_0x38c97a,_0x45dd22,_0x43ebbc,_0x28efa5,_0x3c1253,_0x4443ec,_0x5b8f4d,_0x34240b,_0x1a7dbb]=_0x3c15d0,_0xbe83ff=_0x3adf7b(_0x38c97a,_0x45dd22,'conv0'),_0x546f0a=_0x3adf7b(_0x45dd22,_0x43ebbc,_0x564e60(0x35a)),_0x1f5f94=_0x3adf7b(_0x43ebbc,_0x28efa5,_0x564e60(0x1dc)),_0x2ea4d2=_0x3adf7b(_0x28efa5,_0x3c1253,_0x564e60(0x286)),_0x5b6922=_0x3adf7b(_0x3c1253,_0x4443ec,_0x564e60(0x36c)),_0x3f8210=_0x3adf7b(_0x4443ec,_0x5b8f4d,_0x564e60(0x154)),_0x14466e=_0x3adf7b(_0x5b8f4d,_0x34240b,_0x564e60(0x1fe)),_0x2ca828=_0x3adf7b(_0x34240b,_0x1a7dbb,_0x564e60(0x29a)),_0x5d79c5=_0xaa8c89(_0x1a7dbb,0x5*_0x3cfb76,0x1,_0x564e60(0x376));_0x584ee1={'conv0':_0xbe83ff,'conv1':_0x546f0a,'conv2':_0x1f5f94,'conv3':_0x2ea4d2,'conv4':_0x5b6922,'conv5':_0x3f8210,'conv6':_0x14466e,'conv7':_0x2ca828,'conv8':_0x5d79c5};}if(_0xf966b8()[_0x564e60(0x248)]!==0x0)throw new Error(_0x564e60(0x148)+_0xf966b8()[_0x564e60(0x248)]);return{'params':_0x584ee1,'paramMappings':_0x6b8fc0};}function extractorsFactory8(_0x2d8704,_0x46950b){const _0x37649c=extractWeightEntryFactory(_0x2d8704,_0x46950b);function _0x580bf2(_0x142d21){const _0x115445=_0x2675,_0x254101=_0x37649c(_0x142d21+_0x115445(0x288),0x1),_0x2167bb=_0x37649c(_0x142d21+_0x115445(0x12d),0x1);return{'sub':_0x254101,'truediv':_0x2167bb};}function _0x78c7ba(_0x3167a4){const _0x48425b=_0x2675,_0x164da6=_0x37649c(_0x3167a4+_0x48425b(0x25f),0x4),_0x50af80=_0x37649c(_0x3167a4+_0x48425b(0x311),0x1);return{'filters':_0x164da6,'bias':_0x50af80};}function _0x4de7ee(_0x532e57){const _0x3e8269=_0x78c7ba(_0x532e57+'/conv'),_0x490746=_0x580bf2(_0x532e57+'/bn');return{'conv':_0x3e8269,'bn':_0x490746};}const _0x31ee1b=loadSeparableConvParamsFactory(_0x37649c);return{'extractConvParams':_0x78c7ba,'extractConvWithBatchNormParams':_0x4de7ee,'extractSeparableConvParams':_0x31ee1b};}function extractParamsFromWeightMap7(_0x1db5eb,_0x46a55e){const _0xce27fe=_0x16f23b,_0x56234f=[],{extractConvParams:_0x1404d4,extractConvWithBatchNormParams:_0x5092ef,extractSeparableConvParams:_0x241c88}=extractorsFactory8(_0x1db5eb,_0x56234f);let _0x471446;if(_0x46a55e[_0xce27fe(0x23a)]){const _0x14237a=_0x46a55e[_0xce27fe(0x33a)]&&_0x46a55e[_0xce27fe(0x33a)][_0xce27fe(0x248)]||0x9;_0x471446={'conv0':_0x46a55e[_0xce27fe(0x1ae)]?_0x1404d4(_0xce27fe(0x28f)):_0x241c88(_0xce27fe(0x28f)),'conv1':_0x241c88(_0xce27fe(0x35a)),'conv2':_0x241c88('conv2'),'conv3':_0x241c88('conv3'),'conv4':_0x241c88(_0xce27fe(0x36c)),'conv5':_0x241c88(_0xce27fe(0x154)),'conv6':_0x14237a>0x7?_0x241c88(_0xce27fe(0x1fe)):void 0x0,'conv7':_0x14237a>0x8?_0x241c88(_0xce27fe(0x29a)):void 0x0,'conv8':_0x1404d4('conv8')};}else _0x471446={'conv0':_0x5092ef(_0xce27fe(0x28f)),'conv1':_0x5092ef(_0xce27fe(0x35a)),'conv2':_0x5092ef(_0xce27fe(0x1dc)),'conv3':_0x5092ef('conv3'),'conv4':_0x5092ef(_0xce27fe(0x36c)),'conv5':_0x5092ef('conv5'),'conv6':_0x5092ef(_0xce27fe(0x1fe)),'conv7':_0x5092ef('conv7'),'conv8':_0x1404d4(_0xce27fe(0x376))};return disposeUnusedWeightTensors(_0x1db5eb,_0x56234f),{'params':_0x471446,'paramMappings':_0x56234f};}var TinyYolov2Options=class{constructor({inputSize:_0x21c07d,scoreThreshold:_0x12a296}={}){const _0x3c3cf7=_0x16f23b;this[_0x3c3cf7(0x254)]=_0x3c3cf7(0x167),this['_inputSize']=_0x21c07d||0x1a0,this[_0x3c3cf7(0x372)]=_0x12a296||0.5;if(typeof this[_0x3c3cf7(0x26c)]!==_0x3c3cf7(0x2d7)||this['_inputSize']%0x20!==0x0)throw new Error(this[_0x3c3cf7(0x254)]+_0x3c3cf7(0x36a));if(typeof this[_0x3c3cf7(0x372)]!==_0x3c3cf7(0x2d7)||this[_0x3c3cf7(0x372)]<=0x0||this[_0x3c3cf7(0x372)]>=0x1)throw new Error(this[_0x3c3cf7(0x254)]+_0x3c3cf7(0x27e));}get[_0x16f23b(0x13b)](){const _0x55e8d9=_0x16f23b;return this[_0x55e8d9(0x26c)];}get[_0x16f23b(0x313)](){const _0x4e8765=_0x16f23b;return this[_0x4e8765(0x372)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x56680b){const _0x25f335=_0x16f23b;super(_0x25f335(0x316)),validateConfig(_0x56680b),this[_0x25f335(0x307)]=_0x56680b;}get[_0x16f23b(0x26f)](){return this['_config'];}get[_0x16f23b(0x212)](){const _0x335827=_0x16f23b;return this[_0x335827(0x26f)]['withClassScores']||this[_0x335827(0x26f)][_0x335827(0x2ea)]['length']>0x1;}get[_0x16f23b(0x31b)](){const _0x525968=_0x16f23b;return 0x5+(this[_0x525968(0x212)]?this[_0x525968(0x26f)][_0x525968(0x2ea)]['length']:0x0);}['runTinyYolov2'](_0xe058c,_0x2002f0){const _0x491175=_0x16f23b;let _0x97e276=convWithBatchNorm(_0xe058c,_0x2002f0['conv0']);return _0x97e276=tf39[_0x491175(0x1c5)](_0x97e276,[0x2,0x2],[0x2,0x2],_0x491175(0x33f)),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0[_0x491175(0x35a)]),_0x97e276=tf39[_0x491175(0x1c5)](_0x97e276,[0x2,0x2],[0x2,0x2],_0x491175(0x33f)),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0[_0x491175(0x1dc)]),_0x97e276=tf39[_0x491175(0x1c5)](_0x97e276,[0x2,0x2],[0x2,0x2],_0x491175(0x33f)),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0['conv3']),_0x97e276=tf39[_0x491175(0x1c5)](_0x97e276,[0x2,0x2],[0x2,0x2],_0x491175(0x33f)),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0[_0x491175(0x36c)]),_0x97e276=tf39[_0x491175(0x1c5)](_0x97e276,[0x2,0x2],[0x2,0x2],_0x491175(0x33f)),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0[_0x491175(0x154)]),_0x97e276=tf39[_0x491175(0x1c5)](_0x97e276,[0x2,0x2],[0x1,0x1],'same'),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0[_0x491175(0x1fe)]),_0x97e276=convWithBatchNorm(_0x97e276,_0x2002f0[_0x491175(0x29a)]),convLayer(_0x97e276,_0x2002f0[_0x491175(0x376)],'valid',![]);}[_0x16f23b(0x22a)](_0x32e464,_0x48c4e8){const _0x21783d=_0x16f23b;let _0x5a1060=this[_0x21783d(0x26f)][_0x21783d(0x1ae)]?leaky(convLayer(_0x32e464,_0x48c4e8[_0x21783d(0x28f)],_0x21783d(0x310),![])):depthwiseSeparableConv2(_0x32e464,_0x48c4e8[_0x21783d(0x28f)]);return _0x5a1060=tf39[_0x21783d(0x1c5)](_0x5a1060,[0x2,0x2],[0x2,0x2],_0x21783d(0x33f)),_0x5a1060=depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x35a)]),_0x5a1060=tf39[_0x21783d(0x1c5)](_0x5a1060,[0x2,0x2],[0x2,0x2],_0x21783d(0x33f)),_0x5a1060=depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x1dc)]),_0x5a1060=tf39[_0x21783d(0x1c5)](_0x5a1060,[0x2,0x2],[0x2,0x2],_0x21783d(0x33f)),_0x5a1060=depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x286)]),_0x5a1060=tf39[_0x21783d(0x1c5)](_0x5a1060,[0x2,0x2],[0x2,0x2],_0x21783d(0x33f)),_0x5a1060=depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x36c)]),_0x5a1060=tf39[_0x21783d(0x1c5)](_0x5a1060,[0x2,0x2],[0x2,0x2],_0x21783d(0x33f)),_0x5a1060=depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x154)]),_0x5a1060=tf39[_0x21783d(0x1c5)](_0x5a1060,[0x2,0x2],[0x1,0x1],_0x21783d(0x33f)),_0x5a1060=_0x48c4e8[_0x21783d(0x1fe)]?depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x1fe)]):_0x5a1060,_0x5a1060=_0x48c4e8[_0x21783d(0x29a)]?depthwiseSeparableConv2(_0x5a1060,_0x48c4e8[_0x21783d(0x29a)]):_0x5a1060,convLayer(_0x5a1060,_0x48c4e8[_0x21783d(0x376)],_0x21783d(0x310),![]);}[_0x16f23b(0x2bb)](_0x2ca96b,_0x163c50){const _0x1886cd=_0x16f23b,{params:_0x490190}=this;if(!_0x490190)throw new Error(_0x1886cd(0x1f8));return tf39['tidy'](()=>{const _0x1515a5=_0x1886cd;let _0xddbe07=tf39['cast'](_0x2ca96b[_0x1515a5(0x2ef)](_0x163c50,![]),_0x1515a5(0x183));return _0xddbe07=this[_0x1515a5(0x26f)][_0x1515a5(0x1cb)]?normalize(_0xddbe07,this['config'][_0x1515a5(0x1cb)]):_0xddbe07,_0xddbe07=_0xddbe07[_0x1515a5(0x379)](0xff),this[_0x1515a5(0x26f)][_0x1515a5(0x23a)]?this[_0x1515a5(0x22a)](_0xddbe07,_0x490190):this[_0x1515a5(0x15a)](_0xddbe07,_0x490190);});}async['forward'](_0x3d1591,_0x3205c9){const _0x5b8ee4=_0x16f23b;return this[_0x5b8ee4(0x2bb)](await toNetInput(_0x3d1591),_0x3205c9);}async[_0x16f23b(0x2bc)](_0x5d1c51,_0x385bb7={}){const _0x5876d9=_0x16f23b,{inputSize:_0x214102,scoreThreshold:_0x149fc2}=new TinyYolov2Options(_0x385bb7),_0x28a453=await toNetInput(_0x5d1c51),_0x22d7ba=await this[_0x5876d9(0x2bb)](_0x28a453,_0x214102),_0x4bf90a=tf39[_0x5876d9(0x378)](()=>tf39[_0x5876d9(0x29c)](_0x22d7ba)[0x0][_0x5876d9(0x362)]()),_0x13af6c={'width':_0x28a453[_0x5876d9(0x33b)](0x0),'height':_0x28a453[_0x5876d9(0x231)](0x0)},_0x52a2a3=await this[_0x5876d9(0x14f)](_0x4bf90a,_0x28a453[_0x5876d9(0x300)](0x0),_0x149fc2);_0x22d7ba[_0x5876d9(0x2ae)](),_0x4bf90a[_0x5876d9(0x2ae)]();const _0x7680e0=_0x52a2a3[_0x5876d9(0x2a2)](_0x15499a=>_0x15499a['box']),_0x92fdd5=_0x52a2a3['map'](_0x3f0edd=>_0x3f0edd[_0x5876d9(0x306)]),_0x1dc452=_0x52a2a3['map'](_0x2c7ce5=>_0x2c7ce5[_0x5876d9(0x266)]),_0x34cadc=_0x52a2a3['map'](_0x5ba798=>this['config'][_0x5876d9(0x2ea)][_0x5ba798['label']]),_0x4667fc=nonMaxSuppression(_0x7680e0['map'](_0x2705b1=>_0x2705b1[_0x5876d9(0x2ba)](_0x214102)),_0x92fdd5,this[_0x5876d9(0x26f)][_0x5876d9(0x33e)],!![]),_0x54779c=_0x4667fc[_0x5876d9(0x2a2)](_0x50e0bf=>new ObjectDetection(_0x92fdd5[_0x50e0bf],_0x1dc452[_0x50e0bf],_0x34cadc[_0x50e0bf],_0x7680e0[_0x50e0bf],_0x13af6c));return _0x54779c;}[_0x16f23b(0x30b)](){return'';}[_0x16f23b(0x2f7)](_0xdc236a){const _0x17c30e=_0x16f23b;return extractParamsFromWeightMap7(_0xdc236a,this[_0x17c30e(0x26f)]);}[_0x16f23b(0x39a)](_0x33ba4c){const _0x297817=_0x16f23b,_0x2f3fe7=this[_0x297817(0x26f)][_0x297817(0x33a)]||_TinyYolov2Base[_0x297817(0x397)],_0x126afd=_0x2f3fe7?_0x2f3fe7[_0x297817(0x248)]:void 0x0;if(_0x126afd!==0x7&&_0x126afd!==0x8&&_0x126afd!==0x9)throw new Error('TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20'+_0x126afd+_0x297817(0x17c));return extractParams7(_0x33ba4c,this['config'],this[_0x297817(0x31b)],_0x2f3fe7);}async[_0x16f23b(0x14f)](_0x53de69,_0x2f72be,_0x28ba39){const _0x3fc5c1=_0x16f23b,{width:_0x4f3ea6,height:_0x5cb938}=_0x2f72be,_0x5cf9e7=Math['max'](_0x4f3ea6,_0x5cb938),_0x10387f=_0x5cf9e7/_0x4f3ea6,_0x30f528=_0x5cf9e7/_0x5cb938,_0xa9f4cb=_0x53de69[_0x3fc5c1(0x363)][0x1],_0x29e080=this[_0x3fc5c1(0x26f)][_0x3fc5c1(0x1f6)][_0x3fc5c1(0x248)],[_0x53f5ba,_0x455660,_0x5d54cf]=tf39[_0x3fc5c1(0x378)](()=>{const _0x51fa71=_0x3fc5c1,_0x470b04=_0x53de69[_0x51fa71(0x182)]([_0xa9f4cb,_0xa9f4cb,_0x29e080,this['boxEncodingSize']]),_0x1c1f4c=_0x470b04[_0x51fa71(0x289)]([0x0,0x0,0x0,0x0],[_0xa9f4cb,_0xa9f4cb,_0x29e080,0x4]),_0x500ea9=_0x470b04[_0x51fa71(0x289)]([0x0,0x0,0x0,0x4],[_0xa9f4cb,_0xa9f4cb,_0x29e080,0x1]),_0x3fbfa2=this['withClassScores']?tf39[_0x51fa71(0x26d)](_0x470b04['slice']([0x0,0x0,0x0,0x5],[_0xa9f4cb,_0xa9f4cb,_0x29e080,this[_0x51fa71(0x26f)][_0x51fa71(0x2ea)][_0x51fa71(0x248)]]),0x3):tf39[_0x51fa71(0x38f)](0x0);return[_0x1c1f4c,_0x500ea9,_0x3fbfa2];}),_0x3e8b13=[],_0x2a0184=await _0x455660['array'](),_0x247450=await _0x53f5ba[_0x3fc5c1(0x14c)]();for(let _0x307a3=0x0;_0x307a3<_0xa9f4cb;_0x307a3++){for(let _0x31415c=0x0;_0x31415c<_0xa9f4cb;_0x31415c++){for(let _0x4517b3=0x0;_0x4517b3<_0x29e080;_0x4517b3++){const _0x3e0536=sigmoid(_0x2a0184[_0x307a3][_0x31415c][_0x4517b3][0x0]);if(!_0x28ba39||_0x3e0536>_0x28ba39){const _0x370263=(_0x31415c+sigmoid(_0x247450[_0x307a3][_0x31415c][_0x4517b3][0x0]))/_0xa9f4cb*_0x10387f,_0x4ea91b=(_0x307a3+sigmoid(_0x247450[_0x307a3][_0x31415c][_0x4517b3][0x1]))/_0xa9f4cb*_0x30f528,_0x26ec5d=Math[_0x3fc5c1(0x23d)](_0x247450[_0x307a3][_0x31415c][_0x4517b3][0x2])*this[_0x3fc5c1(0x26f)]['anchors'][_0x4517b3]['x']/_0xa9f4cb*_0x10387f,_0x399eab=Math[_0x3fc5c1(0x23d)](_0x247450[_0x307a3][_0x31415c][_0x4517b3][0x3])*this['config'][_0x3fc5c1(0x1f6)][_0x4517b3]['y']/_0xa9f4cb*_0x30f528,_0x3bf8e1=_0x370263-_0x26ec5d/0x2,_0x15585a=_0x4ea91b-_0x399eab/0x2,_0x3a95df={'row':_0x307a3,'col':_0x31415c,'anchor':_0x4517b3},{classScore:_0x5862f2,label:_0x231385}=this[_0x3fc5c1(0x212)]?await this[_0x3fc5c1(0x2c9)](_0x5d54cf,_0x3a95df):{'classScore':0x1,'label':0x0};_0x3e8b13[_0x3fc5c1(0x1fa)]({'box':new BoundingBox(_0x3bf8e1,_0x15585a,_0x3bf8e1+_0x26ec5d,_0x15585a+_0x399eab),'score':_0x3e0536,'classScore':_0x3e0536*_0x5862f2,'label':_0x231385,..._0x3a95df});}}}}return _0x53f5ba[_0x3fc5c1(0x2ae)](),_0x455660[_0x3fc5c1(0x2ae)](),_0x5d54cf[_0x3fc5c1(0x2ae)](),_0x3e8b13;}async[_0x16f23b(0x2c9)](_0x44fdba,_0x338a44){const _0x327821=_0x16f23b,{row:_0x2cb16c,col:_0x198202,anchor:_0x147bd5}=_0x338a44,_0x16d328=await _0x44fdba['array']();return Array(this[_0x327821(0x26f)][_0x327821(0x2ea)][_0x327821(0x248)])[_0x327821(0x187)](0x0)[_0x327821(0x2a2)]((_0x3af0eb,_0x31306f)=>_0x16d328[_0x2cb16c][_0x198202][_0x147bd5][_0x31306f])['map']((_0x51e2d7,_0x33408f)=>({'classScore':_0x51e2d7,'label':_0x33408f}))[_0x327821(0x20d)]((_0x314f26,_0x1f4c86)=>_0x314f26[_0x327821(0x266)]>_0x1f4c86['classScore']?_0x314f26:_0x1f4c86);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base[_0x16f23b(0x397)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x253004=!![]){const _0x273e53={'withSeparableConvs':_0x253004,'iouThreshold':IOU_THRESHOLD,'classes':['face'],..._0x253004?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x273e53);}get[_0x16f23b(0x23a)](){const _0x5cabd3=_0x16f23b;return this[_0x5cabd3(0x26f)][_0x5cabd3(0x23a)];}get[_0x16f23b(0x1f6)](){const _0x18a7b7=_0x16f23b;return this['config'][_0x18a7b7(0x1f6)];}async['locateFaces'](_0x1de2a0,_0x2bd9a3){const _0x344fcb=_0x16f23b,_0x37b9d3=await this['detect'](_0x1de2a0,_0x2bd9a3);return _0x37b9d3[_0x344fcb(0x2a2)](_0x16b6eb=>new FaceDetection(_0x16b6eb[_0x344fcb(0x306)],_0x16b6eb[_0x344fcb(0x1a9)],{'width':_0x16b6eb[_0x344fcb(0x1dd)],'height':_0x16b6eb[_0x344fcb(0x1d7)]}));}[_0x16f23b(0x30b)](){const _0x4a264b=_0x16f23b;return this[_0x4a264b(0x23a)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}['extractParamsFromWeightMap'](_0x432fca){return super['extractParamsFromWeightMap'](_0x432fca);}};function createTinyYolov2(_0x153349,_0x4ee971=!![]){const _0x1eea4f=new TinyYolov2(_0x4ee971);return _0x1eea4f['extractWeights'](_0x153349),_0x1eea4f;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x98f03=_0x16f23b;super(...arguments),this[_0x98f03(0x254)]=_0x98f03(0x1ed);}},ComposableTask=class{async['then'](_0x2e28c6){const _0x577f85=_0x16f23b;return _0x2e28c6(await this[_0x577f85(0x247)]());}async[_0x16f23b(0x247)](){throw new Error('ComposableTask\x20-\x20run\x20is\x20not\x20implemented');}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x5367d1,_0x3dc7ad,_0x5d3078,_0x297752,_0x26c539=({alignedRect:_0x2f0454})=>_0x2f0454){const _0xc1ce98=_0x16f23b,_0x2af57a=_0x5367d1[_0xc1ce98(0x2a2)](_0x228bb8=>isWithFaceLandmarks(_0x228bb8)?_0x26c539(_0x228bb8):_0x228bb8[_0xc1ce98(0x24c)]),_0x3ba023=_0x297752||(_0x3dc7ad instanceof tf40[_0xc1ce98(0x174)]?await extractFaceTensors(_0x3dc7ad,_0x2af57a):await extractFaces(_0x3dc7ad,_0x2af57a)),_0x44aae7=await _0x5d3078(_0x3ba023);return _0x3ba023[_0xc1ce98(0x129)](_0x11cca0=>_0x11cca0 instanceof tf40[_0xc1ce98(0x174)]&&_0x11cca0[_0xc1ce98(0x2ae)]()),_0x44aae7;}async function extractSingleFaceAndComputeResult(_0x232831,_0x249ccb,_0x706fab,_0xe65609,_0x56b12c){return extractAllFacesAndComputeResults([_0x232831],_0x249ccb,async _0x54909a=>_0x706fab(_0x54909a[0x0]),_0xe65609,_0x56b12c);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x4a2b3f={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':['face'],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x4a2b3f);}get[_0x16f23b(0x1f6)](){const _0x11302c=_0x16f23b;return this[_0x11302c(0x26f)][_0x11302c(0x1f6)];}async[_0x16f23b(0x386)](_0x552802,_0x32cb60){const _0x1a658b=_0x16f23b,_0x3df975=await this['detect'](_0x552802,_0x32cb60);return _0x3df975[_0x1a658b(0x2a2)](_0x4e8440=>new FaceDetection(_0x4e8440[_0x1a658b(0x306)],_0x4e8440[_0x1a658b(0x1a9)],{'width':_0x4e8440[_0x1a658b(0x1dd)],'height':_0x4e8440[_0x1a658b(0x1d7)]}));}[_0x16f23b(0x30b)](){return'tiny_face_detector_model';}[_0x16f23b(0x2f7)](_0x3e3303){const _0x442686=_0x16f23b;return super[_0x442686(0x2f7)](_0x3e3303);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x4db474,_0xf64899)=>nets['ssdMobilenetv1'][_0x16f23b(0x386)](_0x4db474,_0xf64899),tinyFaceDetector=(_0x43843e,_0x14a2d7)=>nets['tinyFaceDetector']['locateFaces'](_0x43843e,_0x14a2d7),tinyYolov2=(_0x22c18a,_0x71e3f0)=>nets[_0x16f23b(0x2e1)][_0x16f23b(0x386)](_0x22c18a,_0x71e3f0),detectFaceLandmarks=_0x2b65b7=>nets[_0x16f23b(0x140)][_0x16f23b(0x364)](_0x2b65b7),detectFaceLandmarksTiny=_0x494c8e=>nets[_0x16f23b(0x1e3)][_0x16f23b(0x364)](_0x494c8e),computeFaceDescriptor=_0x163598=>nets[_0x16f23b(0x1b0)][_0x16f23b(0x3a8)](_0x163598),recognizeFaceExpressions=_0x424b19=>nets[_0x16f23b(0x2c1)][_0x16f23b(0x12f)](_0x424b19),predictAgeAndGender=_0x4ae0f3=>nets[_0x16f23b(0x223)][_0x16f23b(0x12e)](_0x4ae0f3),loadSsdMobilenetv1Model=_0x5dd7e8=>nets[_0x16f23b(0x2e6)][_0x16f23b(0x251)](_0x5dd7e8),loadTinyFaceDetectorModel=_0x286676=>nets['tinyFaceDetector'][_0x16f23b(0x251)](_0x286676),loadTinyYolov2Model=_0x226e97=>nets['tinyYolov2'][_0x16f23b(0x251)](_0x226e97),loadFaceLandmarkModel=_0x8a7334=>nets[_0x16f23b(0x140)][_0x16f23b(0x251)](_0x8a7334),loadFaceLandmarkTinyModel=_0x3ba192=>nets[_0x16f23b(0x1e3)][_0x16f23b(0x251)](_0x3ba192),loadFaceRecognitionModel=_0x122077=>nets['faceRecognitionNet']['load'](_0x122077),loadFaceExpressionModel=_0x5d4089=>nets['faceExpressionNet'][_0x16f23b(0x251)](_0x5d4089),loadAgeGenderModel=_0x38b9dc=>nets[_0x16f23b(0x223)]['load'](_0x38b9dc),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x565e8a,_0x53453e,_0xd36699){const _0x54eb8e=_0x16f23b;super(),this[_0x54eb8e(0x2c0)]=_0x565e8a,this['input']=_0x53453e,this[_0x54eb8e(0x328)]=_0xd36699;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async['run'](){const _0x2e1571=_0x16f23b,_0xe1e794=await this[_0x2e1571(0x2c0)],_0x16f7b9=await extractAllFacesAndComputeResults(_0xe1e794,this[_0x2e1571(0x2df)],async _0x5e9fa6=>Promise[_0x2e1571(0x209)](_0x5e9fa6[_0x2e1571(0x2a2)](_0xefa91=>nets[_0x2e1571(0x2c1)][_0x2e1571(0x12f)](_0xefa91))),this[_0x2e1571(0x328)]);return _0xe1e794[_0x2e1571(0x2a2)]((_0x118057,_0xc15543)=>extendWithFaceExpressions(_0x118057,_0x16f7b9[_0xc15543]));}[_0x16f23b(0x1e5)](){const _0x1f1896=_0x16f23b;return new PredictAllAgeAndGenderTask(this,this[_0x1f1896(0x2df)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x16f23b(0x247)](){const _0x299318=_0x16f23b,_0x87b90d=await this[_0x299318(0x2c0)];if(!_0x87b90d)return void 0x0;const _0x409ded=await extractSingleFaceAndComputeResult(_0x87b90d,this[_0x299318(0x2df)],_0x29bc47=>nets[_0x299318(0x2c1)][_0x299318(0x12f)](_0x29bc47),this[_0x299318(0x328)]);return extendWithFaceExpressions(_0x87b90d,_0x409ded);}[_0x16f23b(0x1e5)](){return new PredictSingleAgeAndGenderTask(this,this['input']);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{[_0x16f23b(0x1e5)](){const _0x227061=_0x16f23b;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x227061(0x2df)]);}['withFaceDescriptors'](){const _0x323a9e=_0x16f23b;return new ComputeAllFaceDescriptorsTask(this,this[_0x323a9e(0x2df)]);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{['withAgeAndGender'](){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this['input']);}['withFaceDescriptor'](){return new ComputeSingleFaceDescriptorTask(this,this['input']);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x5d8d45,_0x5eabdf,_0x49277c){const _0x125cb2=_0x16f23b;super(),this[_0x125cb2(0x2c0)]=_0x5d8d45,this['input']=_0x5eabdf,this[_0x125cb2(0x328)]=_0x49277c;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x16f23b(0x247)](){const _0x4cf07b=_0x16f23b,_0x32995c=await this[_0x4cf07b(0x2c0)],_0x34e4d6=await extractAllFacesAndComputeResults(_0x32995c,this[_0x4cf07b(0x2df)],async _0x42b5ba=>Promise[_0x4cf07b(0x209)](_0x42b5ba[_0x4cf07b(0x2a2)](_0x8ea74e=>nets[_0x4cf07b(0x223)]['predictAgeAndGender'](_0x8ea74e))),this['extractedFaces']);return _0x32995c['map']((_0x46128e,_0x5b805d)=>{const {age:_0x33e792,gender:_0x47b0d4,genderProbability:_0x206074}=_0x34e4d6[_0x5b805d];return extendWithAge(extendWithGender(_0x46128e,_0x47b0d4,_0x206074),_0x33e792);});}['withFaceExpressions'](){const _0x564c55=_0x16f23b;return new PredictAllFaceExpressionsTask(this,this[_0x564c55(0x2df)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x16f23b(0x247)](){const _0x9a8901=_0x16f23b,_0x312650=await this[_0x9a8901(0x2c0)];if(!_0x312650)return void 0x0;const {age:_0x6ba5d2,gender:_0x1ac93c,genderProbability:_0x3bf074}=await extractSingleFaceAndComputeResult(_0x312650,this['input'],_0x574ee6=>nets['ageGenderNet']['predictAgeAndGender'](_0x574ee6),this[_0x9a8901(0x328)]);return extendWithAge(extendWithGender(_0x312650,_0x1ac93c,_0x3bf074),_0x6ba5d2);}[_0x16f23b(0x169)](){return new PredictSingleFaceExpressionsTask(this,this['input']);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x16f23b(0x169)](){const _0x1d002e=_0x16f23b;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x1d002e(0x2df)]);}[_0x16f23b(0x2aa)](){const _0x142e35=_0x16f23b;return new ComputeAllFaceDescriptorsTask(this,this[_0x142e35(0x2df)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{[_0x16f23b(0x169)](){const _0x58e3c5=_0x16f23b;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x58e3c5(0x2df)]);}[_0x16f23b(0x24d)](){return new ComputeSingleFaceDescriptorTask(this,this['input']);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x3d4730,_0x217377){const _0x133162=_0x16f23b;super(),this[_0x133162(0x2c0)]=_0x3d4730,this['input']=_0x217377;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async['run'](){const _0x20b55b=_0x16f23b,_0x360258=await this['parentTask'],_0x4c1f27=await extractAllFacesAndComputeResults(_0x360258,this['input'],_0x4080c2=>Promise[_0x20b55b(0x209)](_0x4080c2['map'](_0x8d7e91=>nets[_0x20b55b(0x1b0)]['computeFaceDescriptor'](_0x8d7e91))),null,_0x3b37f3=>_0x3b37f3[_0x20b55b(0x25a)][_0x20b55b(0x287)](null,{'useDlibAlignment':!![]}));return _0x4c1f27[_0x20b55b(0x2a2)]((_0x263839,_0x4efb38)=>extendWithFaceDescriptor(_0x360258[_0x4efb38],_0x263839));}[_0x16f23b(0x169)](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x16f23b(0x1e5)](){const _0x4dc212=_0x16f23b;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x4dc212(0x2df)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x16f23b(0x247)](){const _0x16c2b3=_0x16f23b,_0x49f1bd=await this[_0x16c2b3(0x2c0)];if(!_0x49f1bd)return void 0x0;const _0x5e6a05=await extractSingleFaceAndComputeResult(_0x49f1bd,this[_0x16c2b3(0x2df)],_0x20a965=>nets[_0x16c2b3(0x1b0)][_0x16c2b3(0x3a8)](_0x20a965),null,_0xc39df0=>_0xc39df0['landmarks'][_0x16c2b3(0x287)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x49f1bd,_0x5e6a05);}[_0x16f23b(0x169)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}['withAgeAndGender'](){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this['input']);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0xa5113b,_0x4a720f,_0x108959){const _0x2f0008=_0x16f23b;super(),this['parentTask']=_0xa5113b,this['input']=_0x4a720f,this[_0x2f0008(0x147)]=_0x108959;}get[_0x16f23b(0x2bd)](){const _0x35208a=_0x16f23b;return this[_0x35208a(0x147)]?nets['faceLandmark68TinyNet']:nets[_0x35208a(0x140)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x16f23b(0x247)](){const _0x5b1431=_0x16f23b,_0x9c2c3d=await this[_0x5b1431(0x2c0)],_0x4cdf77=_0x9c2c3d[_0x5b1431(0x2a2)](_0x3b550d=>_0x3b550d['detection']),_0x177e10=this[_0x5b1431(0x2df)]instanceof tf41['Tensor']?await extractFaceTensors(this[_0x5b1431(0x2df)],_0x4cdf77):await extractFaces(this['input'],_0x4cdf77),_0x28e985=await Promise[_0x5b1431(0x209)](_0x177e10[_0x5b1431(0x2a2)](_0x58fa7a=>this[_0x5b1431(0x2bd)][_0x5b1431(0x364)](_0x58fa7a)));_0x177e10[_0x5b1431(0x129)](_0x564f1f=>_0x564f1f instanceof tf41[_0x5b1431(0x174)]&&_0x564f1f['dispose']());const _0x5d2c23=_0x9c2c3d['filter']((_0x2e688e,_0x1aece1)=>_0x28e985[_0x1aece1])['map']((_0x2ec3c7,_0x3f28c0)=>extendWithFaceLandmarks(_0x2ec3c7,_0x28e985[_0x3f28c0]));return _0x5d2c23;}[_0x16f23b(0x169)](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x16f23b(0x1e5)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}['withFaceDescriptors'](){const _0x3bd2f9=_0x16f23b;return new ComputeAllFaceDescriptorsTask(this,this[_0x3bd2f9(0x2df)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x16f23b(0x247)](){const _0x5e501f=_0x16f23b,_0x376808=await this['parentTask'];if(!_0x376808)return void 0x0;const {detection:_0x65a1bb}=_0x376808,_0x2df68b=this[_0x5e501f(0x2df)]instanceof tf41['Tensor']?await extractFaceTensors(this['input'],[_0x65a1bb]):await extractFaces(this[_0x5e501f(0x2df)],[_0x65a1bb]),_0x51106f=await this[_0x5e501f(0x2bd)][_0x5e501f(0x364)](_0x2df68b[0x0]);return _0x2df68b['forEach'](_0x5f012b=>_0x5f012b instanceof tf41['Tensor']&&_0x5f012b[_0x5e501f(0x2ae)]()),extendWithFaceLandmarks(_0x376808,_0x51106f);}[_0x16f23b(0x169)](){const _0x1bbe88=_0x16f23b;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x1bbe88(0x2df)]);}[_0x16f23b(0x1e5)](){const _0x208898=_0x16f23b;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x208898(0x2df)]);}[_0x16f23b(0x24d)](){const _0xd02d8a=_0x16f23b;return new ComputeSingleFaceDescriptorTask(this,this[_0xd02d8a(0x2df)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x45a8b7,_0x1defba=new SsdMobilenetv1Options()){const _0x500587=_0x16f23b;super(),this[_0x500587(0x2df)]=_0x45a8b7,this[_0x500587(0x246)]=_0x1defba;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async['run'](){const _0x4982c8=_0x16f23b,{input:_0x1aa1f5,options:_0x3cad58}=this;let _0x2069b0;if(_0x3cad58 instanceof TinyFaceDetectorOptions)_0x2069b0=nets[_0x4982c8(0x1b3)]['locateFaces'](_0x1aa1f5,_0x3cad58);else{if(_0x3cad58 instanceof SsdMobilenetv1Options)_0x2069b0=nets['ssdMobilenetv1']['locateFaces'](_0x1aa1f5,_0x3cad58);else{if(_0x3cad58 instanceof TinyYolov2Options)_0x2069b0=nets[_0x4982c8(0x2e1)][_0x4982c8(0x386)](_0x1aa1f5,_0x3cad58);else throw new Error(_0x4982c8(0x258));}}return _0x2069b0;}[_0x16f23b(0x1d5)](){return new Promise((_0x599a8f,_0x18bd3d)=>{const _0x443312=_0x2675;this[_0x443312(0x247)]()[_0x443312(0x243)](_0x5a4d76=>_0x599a8f(_0x5a4d76['map'](_0x15f53e=>extendWithFaceDetection({},_0x15f53e))))[_0x443312(0x33c)](_0x400c57=>_0x18bd3d(_0x400c57));});}[_0x16f23b(0x32a)](_0x385654=![]){const _0x58f5cd=_0x16f23b;return new DetectAllFaceLandmarksTask(this[_0x58f5cd(0x1d5)](),this[_0x58f5cd(0x2df)],_0x385654);}['withFaceExpressions'](){const _0x351542=_0x16f23b;return new PredictAllFaceExpressionsTask(this[_0x351542(0x1d5)](),this['input']);}[_0x16f23b(0x1e5)](){const _0x599d5e=_0x16f23b;return new PredictAllAgeAndGenderTask(this[_0x599d5e(0x1d5)](),this[_0x599d5e(0x2df)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x16f23b(0x247)](){const _0x2221bf=_0x16f23b,_0x93c195=await new DetectAllFacesTask(this[_0x2221bf(0x2df)],this[_0x2221bf(0x246)]);let _0x1a1666=_0x93c195[0x0];return _0x93c195[_0x2221bf(0x129)](_0x1c7650=>{const _0x25b456=_0x2221bf;if(_0x1c7650[_0x25b456(0x306)]>_0x1a1666['score'])_0x1a1666=_0x1c7650;}),_0x1a1666;}['runAndExtendWithFaceDetection'](){return new Promise(async _0x3508ba=>{const _0x25d5bd=_0x2675,_0x1a3d30=await this[_0x25d5bd(0x247)]();_0x3508ba(_0x1a3d30?extendWithFaceDetection({},_0x1a3d30):void 0x0);});}[_0x16f23b(0x32a)](_0x3f5c4e=![]){const _0xdf5dbe=_0x16f23b;return new DetectSingleFaceLandmarksTask(this[_0xdf5dbe(0x233)](),this[_0xdf5dbe(0x2df)],_0x3f5c4e);}[_0x16f23b(0x169)](){const _0x28db05=_0x16f23b;return new PredictSingleFaceExpressionsTask(this[_0x28db05(0x233)](),this[_0x28db05(0x2df)]);}[_0x16f23b(0x1e5)](){const _0x4b86e2=_0x16f23b;return new PredictSingleAgeAndGenderTask(this[_0x4b86e2(0x233)](),this[_0x4b86e2(0x2df)]);}};function detectSingleFace(_0x141cd3,_0x32931c=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x141cd3,_0x32931c);}function detectAllFaces(_0x166b7d,_0x510266=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x166b7d,_0x510266);}async function allFacesSsdMobilenetv1(_0x198de9,_0x2ce6ba){const _0x437fbe=_0x16f23b;return detectAllFaces(_0x198de9,new SsdMobilenetv1Options(_0x2ce6ba?{'minConfidence':_0x2ce6ba}:{}))[_0x437fbe(0x32a)]()[_0x437fbe(0x2aa)]();}async function allFacesTinyYolov2(_0x14284d,_0x392990={}){const _0x57749c=_0x16f23b;return detectAllFaces(_0x14284d,new TinyYolov2Options(_0x392990))[_0x57749c(0x32a)]()[_0x57749c(0x2aa)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x386652,_0x55ab9a){const _0x3acb7d=_0x16f23b;if(_0x386652[_0x3acb7d(0x248)]!==_0x55ab9a['length'])throw new Error(_0x3acb7d(0x383));const _0x5253ad=Array[_0x3acb7d(0x190)](_0x386652),_0x2f4b52=Array['from'](_0x55ab9a);return Math[_0x3acb7d(0x35c)](_0x5253ad[_0x3acb7d(0x2a2)]((_0x43559e,_0x3aad25)=>_0x43559e-_0x2f4b52[_0x3aad25])[_0x3acb7d(0x20d)]((_0x5394f0,_0x490baf)=>_0x5394f0+_0x490baf**0x2,0x0));}var FaceMatcher=class{constructor(_0x4b1b62,_0x3ac90f=0.6){const _0x5e5b2f=_0x16f23b;this[_0x5e5b2f(0x373)]=_0x3ac90f;const _0x3fc630=Array[_0x5e5b2f(0x3a2)](_0x4b1b62)?_0x4b1b62:[_0x4b1b62];if(!_0x3fc630[_0x5e5b2f(0x248)])throw new Error(_0x5e5b2f(0x201));let _0xa57584=0x1;const _0x3c80eb=()=>_0x5e5b2f(0x1b1)+_0xa57584++;this[_0x5e5b2f(0x381)]=_0x3fc630['map'](_0x1ed540=>{const _0x1cc745=_0x5e5b2f;if(_0x1ed540 instanceof LabeledFaceDescriptors)return _0x1ed540;if(_0x1ed540 instanceof Float32Array)return new LabeledFaceDescriptors(_0x3c80eb(),[_0x1ed540]);if(_0x1ed540[_0x1cc745(0x1da)]&&_0x1ed540[_0x1cc745(0x1da)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x3c80eb(),[_0x1ed540[_0x1cc745(0x1da)]]);throw new Error(_0x1cc745(0x1a4));});}get[_0x16f23b(0x21f)](){const _0x5276c0=_0x16f23b;return this[_0x5276c0(0x381)];}get[_0x16f23b(0x211)](){return this['_distanceThreshold'];}[_0x16f23b(0x34c)](_0xe596c8,_0x1b9fe6){const _0xcab9e9=_0x16f23b;return _0x1b9fe6['map'](_0x48089a=>euclideanDistance(_0x48089a,_0xe596c8))[_0xcab9e9(0x20d)]((_0x58c10d,_0x35f119)=>_0x58c10d+_0x35f119,0x0)/(_0x1b9fe6[_0xcab9e9(0x248)]||0x1);}[_0x16f23b(0x329)](_0xd62029){const _0x2b12e0=_0x16f23b;return this['labeledDescriptors'][_0x2b12e0(0x2a2)](({descriptors:_0x5c7070,label:_0x2b4bd2})=>new FaceMatch(_0x2b4bd2,this['computeMeanDistance'](_0xd62029,_0x5c7070)))[_0x2b12e0(0x20d)]((_0x1989b9,_0x184033)=>_0x1989b9['distance']<_0x184033[_0x2b12e0(0x278)]?_0x1989b9:_0x184033);}[_0x16f23b(0x1d6)](_0x5cfabc){const _0x1e4dcd=_0x16f23b,_0x2bb381=this[_0x1e4dcd(0x329)](_0x5cfabc);return _0x2bb381[_0x1e4dcd(0x278)]<this['_distanceThreshold']?_0x2bb381:new FaceMatch(_0x1e4dcd(0x35d),_0x2bb381[_0x1e4dcd(0x278)]);}[_0x16f23b(0x327)](){const _0xf71c3f=_0x16f23b;return{'distanceThreshold':this['_distanceThreshold'],'labeledDescriptors':this[_0xf71c3f(0x381)][_0xf71c3f(0x2a2)](_0x4bb76e=>_0x4bb76e['toJSON']())};}static[_0x16f23b(0x385)](_0x35ba58){const _0x390e18=_0x16f23b,_0x551c77=_0x35ba58['labeledDescriptors']['map'](_0x19e2c1=>LabeledFaceDescriptors[_0x390e18(0x385)](_0x19e2c1));return new FaceMatcher(_0x551c77,_0x35ba58[_0x390e18(0x211)]);}};function createTinyFaceDetector(_0x25d54f){const _0xfd8358=new TinyFaceDetector();return _0xfd8358['extractWeights'](_0x25d54f),_0xfd8358;}function resizeResults(_0x38162c,_0x390bbd){const _0x5bdf7c=_0x16f23b,{width:_0x17758a,height:_0x11530d}=new Dimensions(_0x390bbd[_0x5bdf7c(0x341)],_0x390bbd['height']);if(_0x17758a<=0x0||_0x11530d<=0x0)throw new Error(_0x5bdf7c(0x232)+JSON[_0x5bdf7c(0x2ca)]({'width':_0x17758a,'height':_0x11530d}));if(Array[_0x5bdf7c(0x3a2)](_0x38162c))return _0x38162c['map'](_0x54f3b8=>resizeResults(_0x54f3b8,{'width':_0x17758a,'height':_0x11530d}));if(isWithFaceLandmarks(_0x38162c)){const _0x3f95ca=_0x38162c['detection'][_0x5bdf7c(0x2b7)](_0x17758a,_0x11530d),_0x3418ae=_0x38162c['unshiftedLandmarks'][_0x5bdf7c(0x2b7)](_0x3f95ca[_0x5bdf7c(0x20c)][_0x5bdf7c(0x341)],_0x3f95ca['box']['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x38162c,_0x3f95ca),_0x3418ae);}if(isWithFaceDetection(_0x38162c))return extendWithFaceDetection(_0x38162c,_0x38162c[_0x5bdf7c(0x24c)][_0x5bdf7c(0x2b7)](_0x17758a,_0x11530d));if(_0x38162c instanceof FaceLandmarks||_0x38162c instanceof FaceDetection)return _0x38162c[_0x5bdf7c(0x2b7)](_0x17758a,_0x11530d);return _0x38162c;}var version2=version;0x0&&(module[_0x16f23b(0x34e)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});