'use strict';const _0x2e1d5a=_0x5847;(function(_0x1bfdfd,_0x3d3806){const _0x44cc1b=_0x5847,_0x22435d=_0x1bfdfd();while(!![]){try{const _0xcc5e3e=-parseInt(_0x44cc1b(0x1d9))/0x1+parseInt(_0x44cc1b(0x304))/0x2*(parseInt(_0x44cc1b(0x2b8))/0x3)+-parseInt(_0x44cc1b(0x1d1))/0x4*(-parseInt(_0x44cc1b(0x25d))/0x5)+parseInt(_0x44cc1b(0x25f))/0x6+parseInt(_0x44cc1b(0x226))/0x7+-parseInt(_0x44cc1b(0x33d))/0x8*(-parseInt(_0x44cc1b(0x2a4))/0x9)+parseInt(_0x44cc1b(0x2c1))/0xa*(-parseInt(_0x44cc1b(0x210))/0xb);if(_0xcc5e3e===_0x3d3806)break;else _0x22435d['push'](_0x22435d['shift']());}catch(_0x25c235){_0x22435d['push'](_0x22435d['shift']());}}}(_0x31e0,0x4ce0d));var __create=Object[_0x2e1d5a(0x37b)],__defProp=Object[_0x2e1d5a(0x1ed)],__getOwnPropDesc=Object[_0x2e1d5a(0x399)],__getOwnPropNames=Object[_0x2e1d5a(0x299)],__getProtoOf=Object['getPrototypeOf'],__hasOwnProp=Object[_0x2e1d5a(0x266)][_0x2e1d5a(0x330)],__commonJS=(_0x2583a6,_0x5adbc8)=>function _0x2ac02e(){const _0x2adae7=_0x2e1d5a;return _0x5adbc8||(0x0,_0x2583a6[__getOwnPropNames(_0x2583a6)[0x0]])((_0x5adbc8={'exports':{}})[_0x2adae7(0x401)],_0x5adbc8),_0x5adbc8[_0x2adae7(0x401)];},__export=(_0x2e1f7a,_0x52da3c)=>{for(var _0x4b3676 in _0x52da3c)__defProp(_0x2e1f7a,_0x4b3676,{'get':_0x52da3c[_0x4b3676],'enumerable':!![]});},__copyProps=(_0x55aca6,_0x1d4bfb,_0x4d29d0,_0x329919)=>{const _0x35373d=_0x2e1d5a;if(_0x1d4bfb&&typeof _0x1d4bfb===_0x35373d(0x3fc)||typeof _0x1d4bfb===_0x35373d(0x257)){for(let _0x2ce3ca of __getOwnPropNames(_0x1d4bfb))if(!__hasOwnProp[_0x35373d(0x239)](_0x55aca6,_0x2ce3ca)&&_0x2ce3ca!==_0x4d29d0)__defProp(_0x55aca6,_0x2ce3ca,{'get':()=>_0x1d4bfb[_0x2ce3ca],'enumerable':!(_0x329919=__getOwnPropDesc(_0x1d4bfb,_0x2ce3ca))||_0x329919[_0x35373d(0x443)]});}return _0x55aca6;},__toESM=(_0x2565ec,_0x2fd6c8,_0x182bdd)=>(_0x182bdd=_0x2565ec!=null?__create(__getProtoOf(_0x2565ec)):{},__copyProps(_0x2fd6c8||!_0x2565ec||!_0x2565ec[_0x2e1d5a(0x321)]?__defProp(_0x182bdd,_0x2e1d5a(0x2fc),{'value':_0x2565ec,'enumerable':!![]}):_0x182bdd,_0x2565ec)),__toCommonJS=_0x362da4=>__copyProps(__defProp({},_0x2e1d5a(0x321),{'value':!![]}),_0x362da4),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x51467e,_0x54af52){'use strict';const _0x470ac6=_0x2e1d5a;var _0x2eac36=Object['defineProperty'],_0x1b7174=Object[_0x470ac6(0x399)],_0x35163e=Object['getOwnPropertyNames'],_0x1e3017=Object[_0x470ac6(0x266)][_0x470ac6(0x330)],_0x3e3d81=(_0x4cbd0a,_0x1abf41,_0x2b2918,_0x1aeaf5)=>{const _0x579143=_0x470ac6;if(_0x1abf41&&typeof _0x1abf41===_0x579143(0x3fc)||typeof _0x1abf41===_0x579143(0x257)){for(let _0x3bd980 of _0x35163e(_0x1abf41))if(!_0x1e3017[_0x579143(0x239)](_0x4cbd0a,_0x3bd980)&&_0x3bd980!==_0x2b2918)_0x2eac36(_0x4cbd0a,_0x3bd980,{'get':()=>_0x1abf41[_0x3bd980],'enumerable':!(_0x1aeaf5=_0x1b7174(_0x1abf41,_0x3bd980))||_0x1aeaf5[_0x579143(0x443)]});}return _0x4cbd0a;},_0x48f6d9=(_0x1a1504,_0x2b6231,_0x3923ed)=>(_0x3e3d81(_0x1a1504,_0x2b6231,_0x470ac6(0x2fc)),_0x3923ed&&_0x3e3d81(_0x3923ed,_0x2b6231,_0x470ac6(0x2fc))),_0x211207=_0x4636bb=>_0x3e3d81(_0x2eac36({},_0x470ac6(0x321),{'value':!![]}),_0x4636bb),_0x5c47c0={};_0x54af52[_0x470ac6(0x401)]=_0x211207(_0x5c47c0),_0x48f6d9(_0x5c47c0,require(_0x470ac6(0x209)),_0x54af52[_0x470ac6(0x401)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x2e1d5a(0x401)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x8ddc03,_0x1f7919,_0xc195f9=![]){const _0x4884e5=_0x2e1d5a;_0x8ddc03[_0x4884e5(0x26c)](),_0x1f7919[_0x4884e5(0x1cf)](0x1)[_0x4884e5(0x3ab)](({x:_0x208417,y:_0x4da473},_0x5e2fca)=>{const _0x481508=_0x4884e5,_0x39ad6d=_0x1f7919[_0x5e2fca];_0x8ddc03[_0x481508(0x23f)](_0x39ad6d['x'],_0x39ad6d['y']),_0x8ddc03[_0x481508(0x1eb)](_0x208417,_0x4da473);});if(_0xc195f9){const _0x4e13ea=_0x1f7919[_0x1f7919[_0x4884e5(0x2c8)]-0x1],_0x53a313=_0x1f7919[0x0];if(!_0x4e13ea||!_0x53a313)return;_0x8ddc03[_0x4884e5(0x23f)](_0x4e13ea['x'],_0x4e13ea['y']),_0x8ddc03[_0x4884e5(0x1eb)](_0x53a313['x'],_0x53a313['y']);}_0x8ddc03[_0x4884e5(0x346)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x22e311,_0x1fc5fe){const _0xf11846=_0x2e1d5a;if(!isValidNumber(_0x22e311)||!isValidNumber(_0x1fc5fe))throw new Error(_0xf11846(0x271)+JSON[_0xf11846(0x372)]({'width':_0x22e311,'height':_0x1fc5fe}));this[_0xf11846(0x1fe)]=_0x22e311,this[_0xf11846(0x297)]=_0x1fc5fe;}get[_0x2e1d5a(0x3b2)](){const _0xe4889c=_0x2e1d5a;return this[_0xe4889c(0x1fe)];}get['height'](){const _0x1cf3de=_0x2e1d5a;return this[_0x1cf3de(0x297)];}[_0x2e1d5a(0x1e7)](){const _0x13f12f=_0x2e1d5a;return new Dimensions(0x1/this[_0x13f12f(0x3b2)],0x1/this[_0x13f12f(0x2e0)]);}};function isTensor(_0x243955,_0x58958){const _0xe390e8=_0x2e1d5a;return _0x243955 instanceof tf[_0xe390e8(0x3b6)]&&_0x243955[_0xe390e8(0x42d)][_0xe390e8(0x2c8)]===_0x58958;}function isTensor1D(_0x298917){return isTensor(_0x298917,0x1);}function isTensor2D(_0x888f09){return isTensor(_0x888f09,0x2);}function isTensor3D(_0x3b8bd4){return isTensor(_0x3b8bd4,0x3);}function isTensor4D(_0x51a17c){return isTensor(_0x51a17c,0x4);}function isFloat(_0xfc18f2){return _0xfc18f2%0x1!==0x0;}function isEven(_0x243aa0){return _0x243aa0%0x2===0x0;}function round(_0x386e97,_0x10ff47=0x2){const _0x34d683=0xa**_0x10ff47;return Math['floor'](_0x386e97*_0x34d683)/_0x34d683;}function isDimensions(_0x532618){const _0x176ce2=_0x2e1d5a;return _0x532618&&_0x532618[_0x176ce2(0x3b2)]&&_0x532618[_0x176ce2(0x2e0)];}function computeReshapedDimensions({width:_0x7d2256,height:_0x4605d1},_0x230a27){const _0x7b17f6=_0x2e1d5a,_0x3304e3=_0x230a27/Math[_0x7b17f6(0x2ac)](_0x4605d1,_0x7d2256);return new Dimensions(Math[_0x7b17f6(0x376)](_0x7d2256*_0x3304e3),Math[_0x7b17f6(0x376)](_0x4605d1*_0x3304e3));}function getCenterPoint(_0x319042){const _0x5d7800=_0x2e1d5a;return _0x319042[_0x5d7800(0x228)]((_0x22de9e,_0x5d1670)=>_0x22de9e['add'](_0x5d1670),new Point(0x0,0x0))[_0x5d7800(0x360)](new Point(_0x319042[_0x5d7800(0x2c8)],_0x319042[_0x5d7800(0x2c8)]));}function range(_0x24cb85,_0x5162a5,_0x5e2a8f){const _0x40f561=_0x2e1d5a;return Array(_0x24cb85)[_0x40f561(0x2e9)](0x0)[_0x40f561(0x39a)]((_0x2c92a8,_0x174b1e)=>_0x5162a5+_0x174b1e*_0x5e2a8f);}function isValidNumber(_0x6feb2f){const _0x12e95b=_0x2e1d5a;return!!_0x6feb2f&&_0x6feb2f!==Infinity&&_0x6feb2f!==-Infinity&&!Number[_0x12e95b(0x354)](_0x6feb2f)||_0x6feb2f===0x0;}function isValidProbablitiy(_0x2b68eb){return isValidNumber(_0x2b68eb)&&_0x2b68eb>=0x0&&_0x2b68eb<=0x1;}var Point=class{constructor(_0x1d7d5a,_0x8104a3){this['_x']=_0x1d7d5a,this['_y']=_0x8104a3;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}['add'](_0x5ea095){return new Point(this['x']+_0x5ea095['x'],this['y']+_0x5ea095['y']);}[_0x2e1d5a(0x290)](_0x4f2445){return new Point(this['x']-_0x4f2445['x'],this['y']-_0x4f2445['y']);}[_0x2e1d5a(0x422)](_0x2d7fdc){return new Point(this['x']*_0x2d7fdc['x'],this['y']*_0x2d7fdc['y']);}[_0x2e1d5a(0x360)](_0x433d5f){return new Point(this['x']/_0x433d5f['x'],this['y']/_0x433d5f['y']);}['abs'](){const _0x230748=_0x2e1d5a;return new Point(Math[_0x230748(0x2d9)](this['x']),Math['abs'](this['y']));}[_0x2e1d5a(0x400)](){const _0x4876d8=_0x2e1d5a;return Math[_0x4876d8(0x2f7)](this['x']**0x2+this['y']**0x2);}[_0x2e1d5a(0x2e6)](){const _0x177420=_0x2e1d5a;return new Point(Math[_0x177420(0x2e6)](this['x']),Math[_0x177420(0x2e6)](this['y']));}},Box=class{static[_0x2e1d5a(0x40f)](_0x203398){const _0x3b51aa=_0x2e1d5a;return!!_0x203398&&[_0x203398['x'],_0x203398['y'],_0x203398[_0x3b51aa(0x3b2)],_0x203398[_0x3b51aa(0x2e0)]]['every'](isValidNumber);}static[_0x2e1d5a(0x2c7)](_0x13b3c3,_0x59f143,_0x5b16fe=![]){const _0x2551dc=_0x2e1d5a;if(!Box['isRect'](_0x13b3c3))throw new Error(_0x59f143+_0x2551dc(0x32c)+JSON[_0x2551dc(0x372)](_0x13b3c3)+_0x2551dc(0x384));if(!_0x5b16fe&&(_0x13b3c3[_0x2551dc(0x3b2)]<0x0||_0x13b3c3[_0x2551dc(0x2e0)]<0x0))throw new Error(_0x59f143+_0x2551dc(0x220)+_0x13b3c3[_0x2551dc(0x3b2)]+_0x2551dc(0x3b5)+_0x13b3c3['height']+_0x2551dc(0x41f));}constructor(_0x2b3838,_0x339878=!![]){const _0x2fac13=_0x2e1d5a,_0x17d9c0=_0x2b3838||{},_0x30ad93=[_0x17d9c0[_0x2fac13(0x2d5)],_0x17d9c0[_0x2fac13(0x3dc)],_0x17d9c0['right'],_0x17d9c0[_0x2fac13(0x303)]][_0x2fac13(0x313)](isValidNumber),_0x1cc62e=[_0x17d9c0['x'],_0x17d9c0['y'],_0x17d9c0['width'],_0x17d9c0['height']][_0x2fac13(0x313)](isValidNumber);if(!_0x1cc62e&&!_0x30ad93)throw new Error(_0x2fac13(0x3b7)+JSON[_0x2fac13(0x372)](_0x17d9c0));const [_0xbb07cb,_0x5cffa0,_0x13f570,_0x37dcfa]=_0x1cc62e?[_0x17d9c0['x'],_0x17d9c0['y'],_0x17d9c0[_0x2fac13(0x3b2)],_0x17d9c0[_0x2fac13(0x2e0)]]:[_0x17d9c0[_0x2fac13(0x2d5)],_0x17d9c0[_0x2fac13(0x3dc)],_0x17d9c0[_0x2fac13(0x1c9)]-_0x17d9c0[_0x2fac13(0x2d5)],_0x17d9c0[_0x2fac13(0x303)]-_0x17d9c0[_0x2fac13(0x3dc)]];Box[_0x2fac13(0x2c7)]({'x':_0xbb07cb,'y':_0x5cffa0,'width':_0x13f570,'height':_0x37dcfa},_0x2fac13(0x1d0),_0x339878),this['_x']=_0xbb07cb,this['_y']=_0x5cffa0,this[_0x2fac13(0x1fe)]=_0x13f570,this[_0x2fac13(0x297)]=_0x37dcfa;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get[_0x2e1d5a(0x3b2)](){const _0x49a0f3=_0x2e1d5a;return this[_0x49a0f3(0x1fe)];}get[_0x2e1d5a(0x2e0)](){const _0x50eb93=_0x2e1d5a;return this[_0x50eb93(0x297)];}get[_0x2e1d5a(0x2d5)](){return this['x'];}get['top'](){return this['y'];}get[_0x2e1d5a(0x1c9)](){const _0x5853e3=_0x2e1d5a;return this['x']+this[_0x5853e3(0x3b2)];}get[_0x2e1d5a(0x303)](){const _0x1967f6=_0x2e1d5a;return this['y']+this[_0x1967f6(0x2e0)];}get['area'](){const _0x1a6403=_0x2e1d5a;return this[_0x1a6403(0x3b2)]*this[_0x1a6403(0x2e0)];}get['topLeft'](){const _0x5b111f=_0x2e1d5a;return new Point(this['left'],this[_0x5b111f(0x3dc)]);}get[_0x2e1d5a(0x447)](){const _0x224b48=_0x2e1d5a;return new Point(this['right'],this[_0x224b48(0x3dc)]);}get[_0x2e1d5a(0x29a)](){const _0x28898c=_0x2e1d5a;return new Point(this[_0x28898c(0x2d5)],this[_0x28898c(0x303)]);}get['bottomRight'](){const _0x47c6b9=_0x2e1d5a;return new Point(this[_0x47c6b9(0x1c9)],this[_0x47c6b9(0x303)]);}[_0x2e1d5a(0x376)](){const _0x29c575=_0x2e1d5a,[_0x20ba57,_0x389e93,_0x440e73,_0x6beab2]=[this['x'],this['y'],this[_0x29c575(0x3b2)],this[_0x29c575(0x2e0)]][_0x29c575(0x39a)](_0x3d24c8=>Math[_0x29c575(0x376)](_0x3d24c8));return new Box({'x':_0x20ba57,'y':_0x389e93,'width':_0x440e73,'height':_0x6beab2});}['floor'](){const _0x2e277d=_0x2e1d5a,[_0x17134b,_0x296946,_0x224d13,_0x3a0afc]=[this['x'],this['y'],this[_0x2e277d(0x3b2)],this[_0x2e277d(0x2e0)]]['map'](_0x1490df=>Math['floor'](_0x1490df));return new Box({'x':_0x17134b,'y':_0x296946,'width':_0x224d13,'height':_0x3a0afc});}['toSquare'](){const _0x46bb68=_0x2e1d5a;let {x:_0x3991c3,y:_0x965f30,width:_0x4d743d,height:_0x3a208f}=this;const _0x4afb87=Math[_0x46bb68(0x2d9)](_0x4d743d-_0x3a208f);return _0x4d743d<_0x3a208f&&(_0x3991c3-=_0x4afb87/0x2,_0x4d743d+=_0x4afb87),_0x3a208f<_0x4d743d&&(_0x965f30-=_0x4afb87/0x2,_0x3a208f+=_0x4afb87),new Box({'x':_0x3991c3,'y':_0x965f30,'width':_0x4d743d,'height':_0x3a208f});}['rescale'](_0x26612f){const _0x55f8b9=_0x2e1d5a,_0x3bbc04=isDimensions(_0x26612f)?_0x26612f[_0x55f8b9(0x3b2)]:_0x26612f,_0x53fb68=isDimensions(_0x26612f)?_0x26612f[_0x55f8b9(0x2e0)]:_0x26612f;return new Box({'x':this['x']*_0x3bbc04,'y':this['y']*_0x53fb68,'width':this[_0x55f8b9(0x3b2)]*_0x3bbc04,'height':this[_0x55f8b9(0x2e0)]*_0x53fb68});}[_0x2e1d5a(0x217)](_0x1f6a1a,_0x44fa92){const _0x56f8f4=_0x2e1d5a,[_0x4cedae,_0x1f18bb,_0xf4d096,_0x3e81b9]=[this['x']-_0x1f6a1a/0x2,this['y']-_0x44fa92/0x2,this['width']+_0x1f6a1a,this[_0x56f8f4(0x2e0)]+_0x44fa92];return new Box({'x':_0x4cedae,'y':_0x1f18bb,'width':_0xf4d096,'height':_0x3e81b9});}[_0x2e1d5a(0x27d)](_0x48ba72,_0x2b74a1){const _0x13dbba=_0x2e1d5a,{x:_0x499f83,y:_0x3e7c07,right:_0x1309c3,bottom:_0x499789}=this,_0x552d24=Math['max'](_0x499f83,0x0),_0xe1411a=Math['max'](_0x3e7c07,0x0),_0x36307c=_0x1309c3-_0x552d24,_0x40a1cd=_0x499789-_0xe1411a,_0x456c41=Math[_0x13dbba(0x420)](_0x36307c,_0x48ba72-_0x552d24),_0x34ef4d=Math['min'](_0x40a1cd,_0x2b74a1-_0xe1411a);return new Box({'x':_0x552d24,'y':_0xe1411a,'width':_0x456c41,'height':_0x34ef4d})[_0x13dbba(0x2e6)]();}[_0x2e1d5a(0x32a)](_0x31541f,_0x1373c8){const {width:_0x399a60,height:_0x4faa10}=this,_0x502510=this['x']+_0x31541f,_0x23e012=this['y']+_0x1373c8;return new Box({'x':_0x502510,'y':_0x23e012,'width':_0x399a60,'height':_0x4faa10});}[_0x2e1d5a(0x1f0)](_0x5a700e,_0x161629){const _0x4ca56e=_0x2e1d5a,_0x2d50f9=this['width']+0x1,_0x55ec45=this['height']+0x1,_0x4433bd=0x1,_0x5802d1=0x1;let _0x4c83ec=_0x2d50f9,_0x8b2f1f=_0x55ec45,_0x63802f=this[_0x4ca56e(0x2d5)],_0x2283ba=this[_0x4ca56e(0x3dc)],_0x506726=this[_0x4ca56e(0x1c9)],_0x58ec27=this[_0x4ca56e(0x303)];return _0x506726>_0x161629&&(_0x4c83ec=-_0x506726+_0x161629+_0x2d50f9,_0x506726=_0x161629),_0x58ec27>_0x5a700e&&(_0x8b2f1f=-_0x58ec27+_0x5a700e+_0x55ec45,_0x58ec27=_0x5a700e),_0x63802f<0x1&&(_0x8b2f1f=0x2-_0x63802f,_0x63802f=0x1),_0x2283ba<0x1&&(_0x8b2f1f=0x2-_0x2283ba,_0x2283ba=0x1),{'dy':_0x5802d1,'edy':_0x8b2f1f,'dx':_0x4433bd,'edx':_0x4c83ec,'y':_0x2283ba,'ey':_0x58ec27,'x':_0x63802f,'ex':_0x506726,'w':_0x2d50f9,'h':_0x55ec45};}[_0x2e1d5a(0x2f9)](_0x56441f){const _0x40188c=_0x2e1d5a;return new Box({'left':this[_0x40188c(0x2d5)]+_0x56441f['left']*this['width'],'top':this[_0x40188c(0x3dc)]+_0x56441f[_0x40188c(0x3dc)]*this[_0x40188c(0x2e0)],'right':this[_0x40188c(0x1c9)]+_0x56441f[_0x40188c(0x1c9)]*this[_0x40188c(0x3b2)],'bottom':this[_0x40188c(0x303)]+_0x56441f[_0x40188c(0x303)]*this['height']})['toSquare']()[_0x40188c(0x376)]();}},BoundingBox=class extends Box{constructor(_0x127bf8,_0x41229e,_0x1de507,_0x5ea181,_0x4bcb47=![]){super({'left':_0x127bf8,'top':_0x41229e,'right':_0x1de507,'bottom':_0x5ea181},_0x4bcb47);}},ObjectDetection=class{constructor(_0x1f71f1,_0xf51920,_0x156ee6,_0xf78831,_0x123d62){const _0x450227=_0x2e1d5a;this[_0x450227(0x2b1)]=new Dimensions(_0x123d62[_0x450227(0x3b2)],_0x123d62[_0x450227(0x2e0)]),this[_0x450227(0x29c)]=_0x1f71f1,this[_0x450227(0x1c7)]=_0xf51920,this['_className']=_0x156ee6,this[_0x450227(0x431)]=new Box(_0xf78831)[_0x450227(0x2b9)](this[_0x450227(0x2b1)]);}get[_0x2e1d5a(0x3fd)](){const _0x8fe7c9=_0x2e1d5a;return this[_0x8fe7c9(0x29c)];}get['classScore'](){return this['_classScore'];}get['className'](){const _0x2cd475=_0x2e1d5a;return this[_0x2cd475(0x200)];}get[_0x2e1d5a(0x242)](){return this['_box'];}get[_0x2e1d5a(0x224)](){const _0x4c1621=_0x2e1d5a;return this[_0x4c1621(0x2b1)];}get[_0x2e1d5a(0x1e3)](){const _0x3d012a=_0x2e1d5a;return this[_0x3d012a(0x224)][_0x3d012a(0x3b2)];}get['imageHeight'](){const _0x502f0d=_0x2e1d5a;return this[_0x502f0d(0x224)][_0x502f0d(0x2e0)];}get[_0x2e1d5a(0x3f9)](){const _0x55effe=_0x2e1d5a;return new Box(this['_box'])['rescale'](this[_0x55effe(0x224)][_0x55effe(0x1e7)]());}['forSize'](_0x3cbe86,_0x21efb2){const _0x175b0b=_0x2e1d5a;return new ObjectDetection(this['score'],this[_0x175b0b(0x3de)],this[_0x175b0b(0x2e3)],this[_0x175b0b(0x3f9)],{'width':_0x3cbe86,'height':_0x21efb2});}},FaceDetection=class extends ObjectDetection{constructor(_0x34c166,_0x19d878,_0x39d899){super(_0x34c166,_0x34c166,'',_0x19d878,_0x39d899);}[_0x2e1d5a(0x386)](_0x88a5f7,_0x216c29){const {score:_0xfbeacb,relativeBox:_0x328952,imageDims:_0x4f7c54}=super['forSize'](_0x88a5f7,_0x216c29);return new FaceDetection(_0xfbeacb,_0x328952,_0x4f7c54);}};function iou(_0x4f4d4f,_0x23e953,_0x22cf00=!![]){const _0x4a59e7=_0x2e1d5a,_0x3118d3=Math[_0x4a59e7(0x2ac)](0x0,Math['min'](_0x4f4d4f[_0x4a59e7(0x1c9)],_0x23e953[_0x4a59e7(0x1c9)])-Math[_0x4a59e7(0x2ac)](_0x4f4d4f[_0x4a59e7(0x2d5)],_0x23e953['left'])),_0x4e06c3=Math['max'](0x0,Math[_0x4a59e7(0x420)](_0x4f4d4f[_0x4a59e7(0x303)],_0x23e953[_0x4a59e7(0x303)])-Math[_0x4a59e7(0x2ac)](_0x4f4d4f[_0x4a59e7(0x3dc)],_0x23e953[_0x4a59e7(0x3dc)])),_0x172ec6=_0x3118d3*_0x4e06c3;return _0x22cf00?_0x172ec6/(_0x4f4d4f[_0x4a59e7(0x363)]+_0x23e953['area']-_0x172ec6):_0x172ec6/Math['min'](_0x4f4d4f['area'],_0x23e953[_0x4a59e7(0x363)]);}function minBbox(_0x5f0050){const _0x5b74b4=_0x2e1d5a,_0x398713=_0x5f0050[_0x5b74b4(0x39a)](_0x5ba630=>_0x5ba630['x']),_0x597461=_0x5f0050['map'](_0x1ea3f2=>_0x1ea3f2['y']),_0x5a12c4=_0x398713['reduce']((_0x354e80,_0x5a427e)=>_0x5a427e<_0x354e80?_0x5a427e:_0x354e80,Infinity),_0x3ffe01=_0x597461[_0x5b74b4(0x228)]((_0x5cbc89,_0x1647e)=>_0x1647e<_0x5cbc89?_0x1647e:_0x5cbc89,Infinity),_0x233598=_0x398713['reduce']((_0x13dae4,_0x5f5b84)=>_0x13dae4<_0x5f5b84?_0x5f5b84:_0x13dae4,0x0),_0xd0ffb9=_0x597461['reduce']((_0x575914,_0x4c906d)=>_0x575914<_0x4c906d?_0x4c906d:_0x575914,0x0);return new BoundingBox(_0x5a12c4,_0x3ffe01,_0x233598,_0xd0ffb9);}function nonMaxSuppression(_0x113b97,_0x3f4600,_0x4ba758,_0x5b235e=!![]){const _0x532b47=_0x2e1d5a;let _0x285b08=_0x3f4600[_0x532b47(0x39a)]((_0x5749d3,_0x2086a8)=>({'score':_0x5749d3,'boxIndex':_0x2086a8}))[_0x532b47(0x20a)]((_0x1590c8,_0x1e3e40)=>_0x1590c8['score']-_0x1e3e40[_0x532b47(0x3fd)])[_0x532b47(0x39a)](_0x1b1270=>_0x1b1270[_0x532b47(0x344)]);const _0x4801a6=[];while(_0x285b08[_0x532b47(0x2c8)]>0x0){const _0x45bd5d=_0x285b08['pop']();_0x4801a6[_0x532b47(0x1cc)](_0x45bd5d);const _0x1db00f=_0x285b08,_0x391ed8=[];for(let _0xcb1f44=0x0;_0xcb1f44<_0x1db00f['length'];_0xcb1f44++){const _0x5f1719=_0x1db00f[_0xcb1f44],_0x591e4f=_0x113b97[_0x45bd5d],_0x43bfa4=_0x113b97[_0x5f1719];_0x391ed8[_0x532b47(0x1cc)](iou(_0x591e4f,_0x43bfa4,_0x5b235e));}_0x285b08=_0x285b08['filter']((_0x57de93,_0x481620)=>_0x391ed8[_0x481620]<=_0x4ba758);}return _0x4801a6;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x5f293a,_0x411cec){return tf2['tidy'](()=>{const _0x1543da=_0x5847,[_0x565cab,_0x26089b,_0x62a82a]=_0x411cec,_0xb5637c=tf2[_0x1543da(0x2e9)]([..._0x5f293a['shape']['slice'](0x0,0x3),0x1],_0x565cab,_0x1543da(0x2c2)),_0x310e4e=tf2[_0x1543da(0x2e9)]([..._0x5f293a[_0x1543da(0x42d)][_0x1543da(0x1cf)](0x0,0x3),0x1],_0x26089b,_0x1543da(0x2c2)),_0x2095c5=tf2[_0x1543da(0x2e9)]([..._0x5f293a[_0x1543da(0x42d)][_0x1543da(0x1cf)](0x0,0x3),0x1],_0x62a82a,_0x1543da(0x2c2)),_0x56799c=tf2['concat']([_0xb5637c,_0x310e4e,_0x2095c5],0x3);return tf2[_0x1543da(0x290)](_0x5f293a,_0x56799c);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x3c134f,_0x1209d6=![]){const _0x19ba9e=_0x2e1d5a;return tf3[_0x19ba9e(0x3d3)](()=>{const _0x34392d=_0x19ba9e,[_0x1de6a2,_0x4b1e98]=_0x3c134f['shape']['slice'](0x1);if(_0x1de6a2===_0x4b1e98)return _0x3c134f;const _0x3f0dd3=Math[_0x34392d(0x2d9)](_0x1de6a2-_0x4b1e98),_0x4c2f21=Math[_0x34392d(0x376)](_0x3f0dd3*(_0x1209d6?0.5:0x1)),_0x48cbe2=_0x1de6a2>_0x4b1e98?0x2:0x1,_0x36a229=_0x3cdaab=>{const _0x1ab089=_0x34392d,_0x4cd9de=_0x3c134f[_0x1ab089(0x42d)][_0x1ab089(0x1cf)]();return _0x4cd9de[_0x48cbe2]=_0x3cdaab,tf3[_0x1ab089(0x2e9)](_0x4cd9de,0x0,_0x1ab089(0x2c2));},_0x5d6595=_0x36a229(_0x4c2f21),_0xe0c9e7=_0x3f0dd3-_0x5d6595['shape'][_0x48cbe2],_0x3ebd28=_0x1209d6&&_0xe0c9e7?_0x36a229(_0xe0c9e7):null,_0x4495c1=[_0x3ebd28,_0x3c134f,_0x5d6595][_0x34392d(0x42c)](_0x29f9d6=>!!_0x29f9d6)[_0x34392d(0x39a)](_0x3ff1f8=>tf3['cast'](_0x3ff1f8,_0x34392d(0x2c2)));return tf3['concat'](_0x4495c1,_0x48cbe2);});}function shuffleArray(_0x58eb74){const _0x504104=_0x2e1d5a,_0x54f799=_0x58eb74[_0x504104(0x1cf)]();for(let _0x3f279a=_0x54f799[_0x504104(0x2c8)]-0x1;_0x3f279a>0x0;_0x3f279a--){const _0x1d5906=Math[_0x504104(0x2e6)](Math['random']()*(_0x3f279a+0x1)),_0xad9d8=_0x54f799[_0x3f279a];_0x54f799[_0x3f279a]=_0x54f799[_0x1d5906],_0x54f799[_0x1d5906]=_0xad9d8;}return _0x54f799;}function sigmoid(_0x3bac60){const _0x437a4c=_0x2e1d5a;return 0x1/(0x1+Math[_0x437a4c(0x3a5)](-_0x3bac60));}function inverseSigmoid(_0x52db0a){const _0x53bb78=_0x2e1d5a;return Math[_0x53bb78(0x3ae)](_0x52db0a/(0x1-_0x52db0a));}var Rect=class extends Box{constructor(_0x13e36e,_0xa7c46b,_0x58cc0e,_0x49e2ef,_0x1d905a=![]){super({'x':_0x13e36e,'y':_0xa7c46b,'width':_0x58cc0e,'height':_0x49e2ef},_0x1d905a);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x3b09d2,_0x19b8c3,_0x4ff3ef=new Point(0x0,0x0)){const _0x583c22=_0x2e1d5a,{width:_0x4ef333,height:_0x4de4e7}=_0x19b8c3;this['_imgDims']=new Dimensions(_0x4ef333,_0x4de4e7),this[_0x583c22(0x258)]=_0x4ff3ef,this[_0x583c22(0x251)]=_0x3b09d2[_0x583c22(0x39a)](_0x41ce72=>_0x41ce72[_0x583c22(0x422)](new Point(_0x4ef333,_0x4de4e7))[_0x583c22(0x307)](_0x4ff3ef));}get[_0x2e1d5a(0x32a)](){const _0x2c1911=_0x2e1d5a;return new Point(this[_0x2c1911(0x258)]['x'],this[_0x2c1911(0x258)]['y']);}get[_0x2e1d5a(0x1e3)](){return this['_imgDims']['width'];}get['imageHeight'](){const _0x2ca26e=_0x2e1d5a;return this[_0x2ca26e(0x1f5)][_0x2ca26e(0x2e0)];}get[_0x2e1d5a(0x43e)](){const _0xc1eed2=_0x2e1d5a;return this[_0xc1eed2(0x251)];}get['relativePositions'](){const _0x2d83a9=_0x2e1d5a;return this[_0x2d83a9(0x251)]['map'](_0x38deaa=>_0x38deaa[_0x2d83a9(0x290)](this[_0x2d83a9(0x258)])[_0x2d83a9(0x360)](new Point(this[_0x2d83a9(0x1e3)],this[_0x2d83a9(0x26d)])));}['forSize'](_0x26267d,_0xd67e9){const _0x4dbe5e=_0x2e1d5a;return new this[(_0x4dbe5e(0x402))](this[_0x4dbe5e(0x3a3)],{'width':_0x26267d,'height':_0xd67e9});}['shiftBy'](_0x1eace3,_0x151234){const _0x109c0a=_0x2e1d5a;return new this[(_0x109c0a(0x402))](this[_0x109c0a(0x3a3)],this[_0x109c0a(0x1f5)],new Point(_0x1eace3,_0x151234));}['shiftByPoint'](_0x321fc4){return this['shiftBy'](_0x321fc4['x'],_0x321fc4['y']);}[_0x2e1d5a(0x31a)](_0x556f27,_0x151a2b={}){const _0x1908cd=_0x2e1d5a;if(_0x556f27){const _0x547db3=_0x556f27 instanceof FaceDetection?_0x556f27[_0x1908cd(0x242)]['floor']():new Box(_0x556f27);return this[_0x1908cd(0x31b)](_0x547db3['x'],_0x547db3['y'])[_0x1908cd(0x31a)](null,_0x151a2b);}const {useDlibAlignment:_0x5819de,minBoxPadding:_0x56d855}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x151a2b};if(_0x5819de)return this[_0x1908cd(0x373)]();return this['alignMinBbox'](_0x56d855);}[_0x2e1d5a(0x373)](){const _0x37b276=_0x2e1d5a,_0x2de14d=this['getRefPointsForAlignment'](),[_0x47e986,_0x514f33,_0x20387e]=_0x2de14d,_0x4b32b3=_0x1b1949=>_0x20387e[_0x37b276(0x290)](_0x1b1949)[_0x37b276(0x400)](),_0x4f3e69=(_0x4b32b3(_0x47e986)+_0x4b32b3(_0x514f33))/0x2,_0x9fbf9c=Math[_0x37b276(0x2e6)](_0x4f3e69/relScale),_0x331e3f=getCenterPoint(_0x2de14d),_0x27fa07=Math[_0x37b276(0x2e6)](Math[_0x37b276(0x2ac)](0x0,_0x331e3f['x']-relX*_0x9fbf9c)),_0x429ecd=Math[_0x37b276(0x2e6)](Math['max'](0x0,_0x331e3f['y']-relY*_0x9fbf9c));return new Rect(_0x27fa07,_0x429ecd,Math[_0x37b276(0x420)](_0x9fbf9c,this['imageWidth']+_0x27fa07),Math[_0x37b276(0x420)](_0x9fbf9c,this['imageHeight']+_0x429ecd));}[_0x2e1d5a(0x216)](_0x1b6122){const _0x13a725=_0x2e1d5a,_0x2c2344=minBbox(this['positions']);return _0x2c2344[_0x13a725(0x217)](_0x2c2344[_0x13a725(0x3b2)]*_0x1b6122,_0x2c2344[_0x13a725(0x2e0)]*_0x1b6122);}[_0x2e1d5a(0x250)](){const _0x200052=_0x2e1d5a;throw new Error(_0x200052(0x3f7));}},FaceLandmarks5=class extends FaceLandmarks{[_0x2e1d5a(0x250)](){const _0x44bc9f=_0x2e1d5a,_0x50b0d0=this[_0x44bc9f(0x43e)];return[_0x50b0d0[0x0],_0x50b0d0[0x1],getCenterPoint([_0x50b0d0[0x3],_0x50b0d0[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x2e1d5a(0x2b2)](){const _0x541de3=_0x2e1d5a;return this[_0x541de3(0x43e)]['slice'](0x0,0x11);}[_0x2e1d5a(0x38c)](){const _0x3fffac=_0x2e1d5a;return this[_0x3fffac(0x43e)]['slice'](0x11,0x16);}[_0x2e1d5a(0x215)](){const _0x5ee99b=_0x2e1d5a;return this[_0x5ee99b(0x43e)][_0x5ee99b(0x1cf)](0x16,0x1b);}[_0x2e1d5a(0x3f0)](){const _0x3d9cd7=_0x2e1d5a;return this['positions'][_0x3d9cd7(0x1cf)](0x1b,0x24);}['getLeftEye'](){const _0x4b71bc=_0x2e1d5a;return this[_0x4b71bc(0x43e)]['slice'](0x24,0x2a);}[_0x2e1d5a(0x221)](){const _0x48e278=_0x2e1d5a;return this[_0x48e278(0x43e)]['slice'](0x2a,0x30);}[_0x2e1d5a(0x33e)](){const _0x292431=_0x2e1d5a;return this[_0x292431(0x43e)]['slice'](0x30,0x44);}[_0x2e1d5a(0x250)](){const _0x47243f=_0x2e1d5a;return[this[_0x47243f(0x20b)](),this[_0x47243f(0x221)](),this['getMouth']()]['map'](getCenterPoint);}},FaceMatch=class{constructor(_0x537cdf,_0x1218d1){const _0x25766a=_0x2e1d5a;this[_0x25766a(0x2ed)]=_0x537cdf,this[_0x25766a(0x238)]=_0x1218d1;}get[_0x2e1d5a(0x28c)](){const _0x3ec07a=_0x2e1d5a;return this[_0x3ec07a(0x2ed)];}get[_0x2e1d5a(0x3b9)](){const _0x1227d3=_0x2e1d5a;return this[_0x1227d3(0x238)];}[_0x2e1d5a(0x3d6)](_0xd6e35d=!![]){const _0x26d884=_0x2e1d5a;return''+this[_0x26d884(0x28c)]+(_0xd6e35d?'\x20('+round(this['distance'])+')':'');}},LabeledBox=class extends Box{constructor(_0xc3aa59,_0x5e544c){const _0x53b2fc=_0x2e1d5a;super(_0xc3aa59),this[_0x53b2fc(0x2ed)]=_0x5e544c;}static[_0x2e1d5a(0x3e6)](_0x24f859,_0x326565){const _0xc3204c=_0x2e1d5a;Box[_0xc3204c(0x2c7)](_0x24f859,_0x326565);if(!isValidNumber(_0x24f859['label']))throw new Error(_0x326565+_0xc3204c(0x42b)+_0x24f859['label']+_0xc3204c(0x27c));}get[_0x2e1d5a(0x28c)](){const _0x375ddb=_0x2e1d5a;return this[_0x375ddb(0x2ed)];}},LabeledFaceDescriptors=class{constructor(_0x3ce45e,_0x4e0393){const _0x1a2586=_0x2e1d5a;if(!(typeof _0x3ce45e==='string'))throw new Error(_0x1a2586(0x35e));if(!Array[_0x1a2586(0x1d6)](_0x4e0393)||_0x4e0393['some'](_0x4ead81=>!(_0x4ead81 instanceof Float32Array)))throw new Error(_0x1a2586(0x445));this[_0x1a2586(0x2ed)]=_0x3ce45e,this[_0x1a2586(0x2b3)]=_0x4e0393;}get['label'](){const _0x2922bf=_0x2e1d5a;return this[_0x2922bf(0x2ed)];}get[_0x2e1d5a(0x235)](){return this['_descriptors'];}['toJSON'](){const _0xe7811e=_0x2e1d5a;return{'label':this[_0xe7811e(0x28c)],'descriptors':this[_0xe7811e(0x235)][_0xe7811e(0x39a)](_0x22e757=>Array['from'](_0x22e757))};}static[_0x2e1d5a(0x23d)](_0xd1864d){const _0x471757=_0x2e1d5a,_0x4b72c9=_0xd1864d['descriptors'][_0x471757(0x39a)](_0x2a6202=>new Float32Array(_0x2a6202));return new LabeledFaceDescriptors(_0xd1864d[_0x471757(0x28c)],_0x4b72c9);}},PredictedBox=class extends LabeledBox{constructor(_0x41ea80,_0x126032,_0x548680,_0x5ce16c){const _0x8c6734=_0x2e1d5a;super(_0x41ea80,_0x126032),this[_0x8c6734(0x29c)]=_0x548680,this[_0x8c6734(0x1c7)]=_0x5ce16c;}static[_0x2e1d5a(0x276)](_0x229ac5,_0x40710a){const _0x42daf6=_0x2e1d5a;LabeledBox[_0x42daf6(0x3e6)](_0x229ac5,_0x40710a);if(!isValidProbablitiy(_0x229ac5[_0x42daf6(0x3fd)])||!isValidProbablitiy(_0x229ac5[_0x42daf6(0x3de)]))throw new Error(_0x40710a+'\x20-\x20expected\x20properties\x20score\x20('+_0x229ac5[_0x42daf6(0x3fd)]+')\x20and\x20('+_0x229ac5[_0x42daf6(0x3de)]+')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]');}get[_0x2e1d5a(0x3fd)](){const _0x395e6a=_0x2e1d5a;return this[_0x395e6a(0x29c)];}get[_0x2e1d5a(0x3de)](){const _0x4c9667=_0x2e1d5a;return this[_0x4c9667(0x1c7)];}};function isWithFaceDetection(_0x1085e0){const _0x266392=_0x2e1d5a;return _0x1085e0[_0x266392(0x438)]instanceof FaceDetection;}function extendWithFaceDetection(_0x354093,_0x32cdff){const _0x51869d={'detection':_0x32cdff};return{..._0x354093,..._0x51869d};}function createBrowserEnv(){const _0x1db1e8=_0x2e1d5a,_0x8b97f4=window['fetch'];if(!_0x8b97f4)throw new Error(_0x1db1e8(0x29b));const _0x48a87a=()=>{throw new Error('readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment');};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0x1db1e8(0x3c1)](_0x1db1e8(0x37e)),'createImageElement':()=>document['createElement'](_0x1db1e8(0x371)),'createVideoElement':()=>document[_0x1db1e8(0x3c1)](_0x1db1e8(0x1c4)),'fetch':_0x8b97f4,'readFile':_0x48a87a};}function isNodejs(){const _0x31c7d2=_0x2e1d5a;return typeof global===_0x31c7d2(0x3fc)&&typeof process!=='undefined'&&process['versions']!=null&&process[_0x31c7d2(0x31e)][_0x31c7d2(0x3a1)]!=null;}function createFileSystem(_0x11e05a){const _0x3afc87=_0x2e1d5a;let _0x96ff58='';if(!_0x11e05a&&isNodejs())try{_0x11e05a=require('fs');}catch(_0x5a1887){console[_0x3afc87(0x3ae)]('error',_0x5a1887),_0x96ff58=_0x5a1887[_0x3afc87(0x3d6)]();}const _0x269993=_0x11e05a?_0x3640e2=>new Promise((_0x143de1,_0x538aed)=>{const _0x102b9b=_0x3afc87;_0x11e05a[_0x102b9b(0x285)](_0x3640e2,(_0x5a51f1,_0x230a09)=>_0x5a51f1?_0x538aed(_0x5a51f1):_0x143de1(_0x230a09));}):()=>{const _0x22274c=_0x3afc87;throw new Error(_0x22274c(0x1db)+_0x96ff58);};return{'readFile':_0x269993};}function createNodejsEnv(){const _0x13ff92=_0x2e1d5a,_0x2a1b26=global[_0x13ff92(0x25e)]||global['HTMLCanvasElement'],_0x1413c1=global[_0x13ff92(0x42a)]||global[_0x13ff92(0x230)],_0x54af3d=global[_0x13ff92(0x2a7)]||global['HTMLVideoElement'],_0x2fbb2c=()=>{const _0x223dbb=_0x13ff92;if(_0x2a1b26)return new _0x2a1b26();throw new Error(_0x223dbb(0x2fa));},_0x13cf08=()=>{const _0xcdfd93=_0x13ff92;if(_0x1413c1)return new _0x1413c1();throw new Error(_0xcdfd93(0x212));},_0x1a79ef=()=>{const _0x389ba5=_0x13ff92;if(_0x54af3d)return new _0x54af3d();throw new Error(_0x389ba5(0x1f7));},_0xeaa91f=global[_0x13ff92(0x3e8)],_0x3e0318=createFileSystem();return{'Canvas':_0x2a1b26||class{},'CanvasRenderingContext2D':global[_0x13ff92(0x43d)]||class{},'Image':_0x1413c1||class{},'ImageData':global[_0x13ff92(0x207)]||class{},'Video':global[_0x13ff92(0x357)]||class{},'createCanvasElement':_0x2fbb2c,'createImageElement':_0x13cf08,'createVideoElement':_0x1a79ef,'fetch':_0xeaa91f,..._0x3e0318};}function _0x5847(_0x4890ff,_0x146a62){const _0x31e060=_0x31e0();return _0x5847=function(_0x584799,_0x2f1e9e){_0x584799=_0x584799-0x1c2;let _0x5b1b22=_0x31e060[_0x584799];return _0x5b1b22;},_0x5847(_0x4890ff,_0x146a62);}function isBrowser(){const _0x2117a9=_0x2e1d5a;return typeof window===_0x2117a9(0x3fc)&&typeof document!=='undefined'&&typeof HTMLImageElement!==_0x2117a9(0x3c4)&&typeof HTMLCanvasElement!=='undefined'&&typeof HTMLVideoElement!==_0x2117a9(0x3c4)&&typeof ImageData!==_0x2117a9(0x3c4)&&typeof CanvasRenderingContext2D!==_0x2117a9(0x3c4);}var environment;function getEnv(){const _0xa8fb8c=_0x2e1d5a;if(!environment)throw new Error(_0xa8fb8c(0x3f6));return environment;}function setEnv(_0x183171){environment=_0x183171;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x463867){const _0x14a905=_0x2e1d5a;!environment&&initialize();if(!environment)throw new Error(_0x14a905(0x427));const {Canvas:Canvas=environment[_0x14a905(0x25e)],Image:Image=environment[_0x14a905(0x42a)]}=_0x463867;environment[_0x14a905(0x25e)]=Canvas,environment[_0x14a905(0x42a)]=Image,environment[_0x14a905(0x350)]=_0x463867[_0x14a905(0x350)]||(()=>new Canvas()),environment[_0x14a905(0x205)]=_0x463867[_0x14a905(0x205)]||(()=>new Image()),environment[_0x14a905(0x207)]=_0x463867[_0x14a905(0x207)]||environment[_0x14a905(0x207)],environment[_0x14a905(0x2a7)]=_0x463867['Video']||environment[_0x14a905(0x2a7)],environment[_0x14a905(0x3e8)]=_0x463867[_0x14a905(0x3e8)]||environment[_0x14a905(0x3e8)],environment[_0x14a905(0x285)]=_0x463867[_0x14a905(0x285)]||environment['readFile'];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x414cfc){const _0x9162ee=_0x2e1d5a;if(!env['isNodejs']()&&typeof _0x414cfc===_0x9162ee(0x3fe))return document['getElementById'](_0x414cfc);return _0x414cfc;}function getContext2dOrThrow(_0x4e9d99){const _0x4d27a1=_0x2e1d5a,{Canvas:_0xcbf141,CanvasRenderingContext2D:_0x36d285}=env[_0x4d27a1(0x3ca)]();if(_0x4e9d99 instanceof _0x36d285)return _0x4e9d99;const _0x428dc2=resolveInput(_0x4e9d99);if(!(_0x428dc2 instanceof _0xcbf141))throw new Error(_0x4d27a1(0x2e7));const _0x2851e1=_0x428dc2[_0x4d27a1(0x26b)]('2d');if(!_0x2851e1)throw new Error('resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null');return _0x2851e1;}var AnchorPosition=(_0x49b880=>{const _0x5bb009=_0x2e1d5a;return _0x49b880[_0x5bb009(0x288)]=_0x5bb009(0x288),_0x49b880[_0x5bb009(0x30e)]=_0x5bb009(0x30e),_0x49b880[_0x5bb009(0x206)]=_0x5bb009(0x206),_0x49b880[_0x5bb009(0x34b)]=_0x5bb009(0x34b),_0x49b880;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x229f59={}){const _0x3236f3=_0x2e1d5a,{anchorPosition:_0xa891fc,backgroundColor:_0x3e1c77,fontColor:_0x3975b8,fontSize:_0x2a9a20,fontStyle:_0x2c67b3,padding:_0xa3c705}=_0x229f59;this['anchorPosition']=_0xa891fc||_0x3236f3(0x288),this[_0x3236f3(0x227)]=_0x3e1c77||_0x3236f3(0x1cd),this[_0x3236f3(0x332)]=_0x3975b8||'rgba(255,\x20255,\x20255,\x201)',this[_0x3236f3(0x436)]=_0x2a9a20||0xe,this[_0x3236f3(0x339)]=_0x2c67b3||_0x3236f3(0x423),this[_0x3236f3(0x2aa)]=_0xa3c705||0x4;}},DrawTextField=class{constructor(_0x2c3809,_0x155269,_0x1c4104={}){const _0x13cfde=_0x2e1d5a;this[_0x13cfde(0x428)]=typeof _0x2c3809===_0x13cfde(0x3fe)?[_0x2c3809]:_0x2c3809 instanceof DrawTextField?_0x2c3809[_0x13cfde(0x428)]:_0x2c3809,this['anchor']=_0x155269,this[_0x13cfde(0x29e)]=new DrawTextFieldOptions(_0x1c4104);}[_0x2e1d5a(0x2d2)](_0x119895){const _0x1c47d9=_0x2e1d5a,{padding:_0x175776}=this[_0x1c47d9(0x29e)];return this[_0x1c47d9(0x428)][_0x1c47d9(0x39a)](_0x1d04c9=>_0x119895[_0x1c47d9(0x449)](_0x1d04c9)[_0x1c47d9(0x3b2)])['reduce']((_0x5b7a8a,_0x150764)=>_0x5b7a8a<_0x150764?_0x150764:_0x5b7a8a,0x0)+0x2*_0x175776;}[_0x2e1d5a(0x418)](){const _0x2bd7e7=_0x2e1d5a,{fontSize:_0x46bf8c,padding:_0x42f880}=this[_0x2bd7e7(0x29e)];return this['text'][_0x2bd7e7(0x2c8)]*_0x46bf8c+0x2*_0x42f880;}['getUpperLeft'](_0x179fe3,_0x4557d5){const _0x21b209=_0x2e1d5a,{anchorPosition:_0x456239}=this[_0x21b209(0x29e)],_0x48e9e1=_0x456239==='BOTTOM_RIGHT'||_0x456239==='TOP_RIGHT',_0x371047=_0x456239===_0x21b209(0x206)||_0x456239==='BOTTOM_RIGHT',_0x5125ad=this[_0x21b209(0x2d2)](_0x179fe3),_0x10a65d=this[_0x21b209(0x418)](),_0x5c2072=_0x48e9e1?this[_0x21b209(0x397)]['x']-_0x5125ad:this['anchor']['x'],_0x59ed66=_0x371047?this[_0x21b209(0x397)]['y']-_0x10a65d:this[_0x21b209(0x397)]['y'];if(_0x4557d5){const {width:_0x824198,height:_0x34d916}=_0x4557d5,_0x456e6a=Math['max'](Math['min'](_0x5c2072,_0x824198-_0x5125ad),0x0),_0x5b0874=Math[_0x21b209(0x2ac)](Math[_0x21b209(0x420)](_0x59ed66,_0x34d916-_0x10a65d),0x0);return{'x':_0x456e6a,'y':_0x5b0874};}return{'x':_0x5c2072,'y':_0x59ed66};}[_0x2e1d5a(0x255)](_0x490aca){const _0x11269c=_0x2e1d5a,_0xbcb23d=resolveInput(_0x490aca),_0x2d7cc1=getContext2dOrThrow(_0xbcb23d),{backgroundColor:_0x2525e1,fontColor:_0x4a5a54,fontSize:_0x24096c,fontStyle:_0x45c3ba,padding:_0x550c24}=this[_0x11269c(0x29e)];_0x2d7cc1[_0x11269c(0x249)]=_0x24096c+_0x11269c(0x3db)+_0x45c3ba;const _0x11401f=this[_0x11269c(0x2d2)](_0x2d7cc1),_0x3f5657=this[_0x11269c(0x418)]();_0x2d7cc1['fillStyle']=_0x2525e1;const _0x63e130=this[_0x11269c(0x22b)](_0x2d7cc1,_0xbcb23d);_0x2d7cc1['fillRect'](_0x63e130['x'],_0x63e130['y'],_0x11401f,_0x3f5657),_0x2d7cc1['fillStyle']=_0x4a5a54,this[_0x11269c(0x428)][_0x11269c(0x3ab)]((_0x25ab2c,_0x4e21f6)=>{const _0x45b0c9=_0x11269c,_0x3bfd6f=_0x550c24+_0x63e130['x'],_0x45ecfe=_0x550c24+_0x63e130['y']+(_0x4e21f6+0x1)*_0x24096c;_0x2d7cc1[_0x45b0c9(0x3ec)](_0x25ab2c,_0x3bfd6f,_0x45ecfe);});}},DrawBoxOptions=class{constructor(_0x1ef8aa={}){const _0x568a73=_0x2e1d5a,{boxColor:_0x1b58af,lineWidth:_0x4bd765,label:_0x1c775c,drawLabelOptions:_0x50ac01}=_0x1ef8aa;this[_0x568a73(0x268)]=_0x1b58af||'rgba(0,\x200,\x20255,\x201)',this[_0x568a73(0x3cb)]=_0x4bd765||0x2,this[_0x568a73(0x28c)]=_0x1c775c;const _0x170919={'anchorPosition':_0x568a73(0x206),'backgroundColor':this[_0x568a73(0x268)]};this[_0x568a73(0x40d)]=new DrawTextFieldOptions({..._0x170919,..._0x50ac01});}},DrawBox=class{constructor(_0x363ed5,_0x1f0b0f={}){this['box']=new Box(_0x363ed5),this['options']=new DrawBoxOptions(_0x1f0b0f);}[_0x2e1d5a(0x255)](_0x3f5ca2){const _0x1cd4d1=_0x2e1d5a,_0x51ad7c=getContext2dOrThrow(_0x3f5ca2),{boxColor:_0x2fddc8,lineWidth:_0x5c92d1}=this[_0x1cd4d1(0x29e)],{x:_0x35a01c,y:_0x131acd,width:_0x4f8d9d,height:_0x6ad231}=this['box'];_0x51ad7c[_0x1cd4d1(0x3e5)]=_0x2fddc8,_0x51ad7c['lineWidth']=_0x5c92d1,_0x51ad7c[_0x1cd4d1(0x37a)](_0x35a01c,_0x131acd,_0x4f8d9d,_0x6ad231);const {label:_0x280929}=this['options'];_0x280929&&new DrawTextField([_0x280929],{'x':_0x35a01c-_0x5c92d1/0x2,'y':_0x131acd},this[_0x1cd4d1(0x29e)][_0x1cd4d1(0x40d)])[_0x1cd4d1(0x255)](_0x3f5ca2);}};function drawDetections(_0x5c0860,_0x2c4ffc){const _0x5916b9=_0x2e1d5a,_0x2f1c53=Array[_0x5916b9(0x1d6)](_0x2c4ffc)?_0x2c4ffc:[_0x2c4ffc];_0x2f1c53['forEach'](_0x5af95e=>{const _0x1c40e1=_0x5916b9,_0x388fd7=_0x5af95e instanceof FaceDetection?_0x5af95e['score']:isWithFaceDetection(_0x5af95e)?_0x5af95e[_0x1c40e1(0x438)][_0x1c40e1(0x3fd)]:void 0x0,_0xd11d2b=_0x5af95e instanceof FaceDetection?_0x5af95e[_0x1c40e1(0x242)]:isWithFaceDetection(_0x5af95e)?_0x5af95e['detection'][_0x1c40e1(0x242)]:new Box(_0x5af95e),_0x4d14fe=_0x388fd7?''+round(_0x388fd7):void 0x0;new DrawBox(_0xd11d2b,{'label':_0x4d14fe})[_0x1c40e1(0x255)](_0x5c0860);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x223a64){const _0x314a40=_0x2e1d5a,{Image:_0x44eed2,Video:_0x4fc6b7}=env[_0x314a40(0x3ca)]();return _0x223a64 instanceof _0x44eed2&&_0x223a64[_0x314a40(0x393)]||_0x223a64 instanceof _0x4fc6b7&&_0x223a64['readyState']>=0x3;}function awaitMediaLoaded(_0x21c0d2){return new Promise((_0x2cf6a2,_0x1a56c0)=>{const _0x3a530b=_0x5847;if(_0x21c0d2 instanceof env[_0x3a530b(0x3ca)]()[_0x3a530b(0x25e)]||isMediaLoaded(_0x21c0d2))_0x2cf6a2(null);function _0x48e704(_0x2b8ba1){const _0x5ee5fa=_0x3a530b;if(!_0x2b8ba1[_0x5ee5fa(0x3e4)])return;_0x2b8ba1[_0x5ee5fa(0x3e4)][_0x5ee5fa(0x3d9)](_0x5ee5fa(0x2f0),_0x31f860),_0x2b8ba1[_0x5ee5fa(0x3e4)][_0x5ee5fa(0x3d9)](_0x5ee5fa(0x410),_0x48e704),_0x1a56c0(_0x2b8ba1);}function _0x31f860(_0x265f08){const _0xb03ec5=_0x3a530b;if(!_0x265f08['currentTarget'])return;_0x265f08[_0xb03ec5(0x3e4)][_0xb03ec5(0x3d9)](_0xb03ec5(0x2f0),_0x31f860),_0x265f08[_0xb03ec5(0x3e4)]['removeEventListener']('error',_0x48e704),_0x2cf6a2(_0x265f08);}_0x21c0d2['addEventListener'](_0x3a530b(0x2f0),_0x31f860),_0x21c0d2[_0x3a530b(0x39b)]('error',_0x48e704);});}function bufferToImage(_0x59a685){return new Promise((_0x11b88a,_0x4f222f)=>{const _0x4e453c=_0x5847;if(!(_0x59a685 instanceof Blob))_0x4f222f(new Error(_0x4e453c(0x29f)));const _0x3b44aa=new FileReader();_0x3b44aa[_0x4e453c(0x370)]=()=>{const _0x848b71=_0x4e453c;if(typeof _0x3b44aa[_0x848b71(0x21d)]!==_0x848b71(0x3fe))_0x4f222f(new Error(_0x848b71(0x1e2)));const _0x4fbb04=env[_0x848b71(0x3ca)]()['createImageElement']();_0x4fbb04[_0x848b71(0x370)]=()=>_0x11b88a(_0x4fbb04),_0x4fbb04[_0x848b71(0x2f5)]=_0x4f222f,_0x4fbb04[_0x848b71(0x3c3)]=_0x3b44aa['result'];},_0x3b44aa[_0x4e453c(0x2f5)]=_0x4f222f,_0x3b44aa[_0x4e453c(0x28e)](_0x59a685);});}function getMediaDimensions(_0x2968b8){const _0x4fbf7d=_0x2e1d5a,{Image:_0xaf51f6,Video:_0x1a7c61}=env[_0x4fbf7d(0x3ca)]();if(_0x2968b8 instanceof _0xaf51f6)return new Dimensions(_0x2968b8[_0x4fbf7d(0x1d8)],_0x2968b8[_0x4fbf7d(0x38f)]);if(_0x2968b8 instanceof _0x1a7c61)return new Dimensions(_0x2968b8['videoWidth'],_0x2968b8[_0x4fbf7d(0x3bc)]);return new Dimensions(_0x2968b8[_0x4fbf7d(0x3b2)],_0x2968b8['height']);}function createCanvas({width:_0x26e28c,height:_0x4b6307}){const _0x2e20dc=_0x2e1d5a,{createCanvasElement:_0x187afb}=env[_0x2e20dc(0x3ca)](),_0x182100=_0x187afb();return _0x182100[_0x2e20dc(0x3b2)]=_0x26e28c,_0x182100[_0x2e20dc(0x2e0)]=_0x4b6307,_0x182100;}function createCanvasFromMedia(_0x356633,_0x5bc210){const _0x14cb3b=_0x2e1d5a,{ImageData:_0x27efc2}=env[_0x14cb3b(0x3ca)]();if(!(_0x356633 instanceof _0x27efc2)&&!isMediaLoaded(_0x356633))throw new Error(_0x14cb3b(0x36c));const {width:_0x2cf960,height:_0x5a1112}=_0x5bc210||getMediaDimensions(_0x356633),_0x372a29=createCanvas({'width':_0x2cf960,'height':_0x5a1112});return _0x356633 instanceof _0x27efc2?getContext2dOrThrow(_0x372a29)[_0x14cb3b(0x2bd)](_0x356633,0x0,0x0):getContext2dOrThrow(_0x372a29)[_0x14cb3b(0x383)](_0x356633,0x0,0x0,_0x2cf960,_0x5a1112),_0x372a29;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x18455f,_0x54ba98){const _0x361488=_0x2e1d5a,_0x2c45ef=_0x54ba98||env[_0x361488(0x3ca)]()[_0x361488(0x350)](),[_0x42d737,_0xdc80f2,_0x863fea]=_0x18455f['shape']['slice'](isTensor4D(_0x18455f)?0x1:0x0),_0x369487=tf4[_0x361488(0x3d3)](()=>_0x18455f[_0x361488(0x3af)](_0x42d737,_0xdc80f2,_0x863fea)[_0x361488(0x284)]());return await tf4['browser'][_0x361488(0x3b1)](_0x369487,_0x2c45ef),_0x369487[_0x361488(0x294)](),_0x2c45ef;}function isMediaElement(_0x59787e){const _0x474340=_0x2e1d5a,{Image:_0x26e806,Canvas:_0x49c641,Video:_0x342b8b}=env[_0x474340(0x3ca)]();return _0x59787e instanceof _0x26e806||_0x59787e instanceof _0x49c641||_0x59787e instanceof _0x342b8b;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x1db206,_0x1aaf47,_0x12cc2e=![]){const _0x376d6b=_0x2e1d5a,{Image:_0x1565a2,Canvas:_0x47c42d}=env[_0x376d6b(0x3ca)]();if(!(_0x1db206 instanceof _0x1565a2||_0x1db206 instanceof _0x47c42d))throw new Error(_0x376d6b(0x231));if(_0x1aaf47<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x405b74=getMediaDimensions(_0x1db206),_0x503645=_0x1aaf47/Math[_0x376d6b(0x2ac)](_0x405b74['height'],_0x405b74[_0x376d6b(0x3b2)]),_0x6eae5f=_0x503645*_0x405b74[_0x376d6b(0x3b2)],_0x24e94a=_0x503645*_0x405b74[_0x376d6b(0x2e0)],_0x31b848=createCanvas({'width':_0x1aaf47,'height':_0x1aaf47}),_0x5307bf=_0x1db206 instanceof _0x47c42d?_0x1db206:createCanvasFromMedia(_0x1db206),_0x568f2c=Math[_0x376d6b(0x2d9)](_0x6eae5f-_0x24e94a)/0x2,_0x461e8c=_0x12cc2e&&_0x6eae5f<_0x24e94a?_0x568f2c:0x0,_0x25539b=_0x12cc2e&&_0x24e94a<_0x6eae5f?_0x568f2c:0x0;if(_0x5307bf['width']>0x0&&_0x5307bf[_0x376d6b(0x2e0)]>0x0)getContext2dOrThrow(_0x31b848)['drawImage'](_0x5307bf,_0x461e8c,_0x25539b,_0x6eae5f,_0x24e94a);return _0x31b848;}var NetInput=class{constructor(_0x1b82bd,_0x2b1ab3=![]){const _0x2e2529=_0x2e1d5a;this['_imageTensors']=[],this[_0x2e2529(0x2ba)]=[],this[_0x2e2529(0x22d)]=![],this[_0x2e2529(0x3fa)]=[],this[_0x2e2529(0x40c)]=0x0;if(!Array[_0x2e2529(0x1d6)](_0x1b82bd))throw new Error('NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20'+_0x1b82bd);this['_treatAsBatchInput']=_0x2b1ab3,this[_0x2e2529(0x448)]=_0x1b82bd[_0x2e2529(0x2c8)],_0x1b82bd[_0x2e2529(0x3ab)]((_0x2549f8,_0x35d7ae)=>{const _0x2efb8f=_0x2e2529;if(isTensor3D(_0x2549f8)){this[_0x2efb8f(0x41d)][_0x35d7ae]=_0x2549f8,this[_0x2efb8f(0x3fa)][_0x35d7ae]=_0x2549f8[_0x2efb8f(0x42d)];return;}if(isTensor4D(_0x2549f8)){const _0x361193=_0x2549f8[_0x2efb8f(0x42d)][0x0];if(_0x361193!==0x1)throw new Error('NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20'+_0x361193+_0x2efb8f(0x3c6));this[_0x2efb8f(0x41d)][_0x35d7ae]=_0x2549f8,this[_0x2efb8f(0x3fa)][_0x35d7ae]=_0x2549f8[_0x2efb8f(0x42d)][_0x2efb8f(0x1cf)](0x1);return;}const _0x97b40b=_0x2549f8 instanceof env[_0x2efb8f(0x3ca)]()[_0x2efb8f(0x25e)]?_0x2549f8:createCanvasFromMedia(_0x2549f8);this[_0x2efb8f(0x2ba)][_0x35d7ae]=_0x97b40b,this[_0x2efb8f(0x3fa)][_0x35d7ae]=[_0x97b40b[_0x2efb8f(0x2e0)],_0x97b40b[_0x2efb8f(0x3b2)],0x3];});}get[_0x2e1d5a(0x2cf)](){const _0xd51e4c=_0x2e1d5a;return this[_0xd51e4c(0x41d)];}get[_0x2e1d5a(0x35b)](){const _0x33d04e=_0x2e1d5a;return this[_0x33d04e(0x2ba)];}get[_0x2e1d5a(0x28b)](){const _0x41bfaf=_0x2e1d5a;return this[_0x41bfaf(0x3c2)]>0x1||this[_0x41bfaf(0x22d)];}get[_0x2e1d5a(0x3c2)](){const _0x2edca4=_0x2e1d5a;return this[_0x2edca4(0x448)];}get[_0x2e1d5a(0x213)](){const _0x58a11a=_0x2e1d5a;return this[_0x58a11a(0x3fa)];}get['inputSize'](){const _0x4e8716=_0x2e1d5a;return this[_0x4e8716(0x40c)];}get[_0x2e1d5a(0x24e)](){const _0x79fef8=_0x2e1d5a;return range(this[_0x79fef8(0x3c2)],0x0,0x1)[_0x79fef8(0x39a)]((_0x75634c,_0x3bf356)=>this[_0x79fef8(0x34d)](_0x3bf356));}['getInput'](_0x2d5a71){const _0x2131ba=_0x2e1d5a;return this[_0x2131ba(0x35b)][_0x2d5a71]||this[_0x2131ba(0x2cf)][_0x2d5a71];}[_0x2e1d5a(0x3cd)](_0x1ba5eb){return this['_inputDimensions'][_0x1ba5eb];}[_0x2e1d5a(0x22f)](_0x3c2f40){return this['_inputDimensions'][_0x3c2f40][0x0];}[_0x2e1d5a(0x3ee)](_0x3047bd){const _0x29268f=_0x2e1d5a;return this[_0x29268f(0x3fa)][_0x3047bd][0x1];}[_0x2e1d5a(0x34d)](_0x258a93){const _0x53096d=_0x2e1d5a;if(typeof this['inputSize']!==_0x53096d(0x1e0))throw new Error(_0x53096d(0x3d8));const _0x1e40e3=this[_0x53096d(0x3ee)](_0x258a93),_0x480e2b=this[_0x53096d(0x22f)](_0x258a93);return computeReshapedDimensions({'width':_0x1e40e3,'height':_0x480e2b},this['inputSize']);}[_0x2e1d5a(0x2f8)](_0x41f951,_0x4c8cac=!![]){const _0x5151f7=_0x2e1d5a;return this[_0x5151f7(0x40c)]=_0x41f951,tf5['tidy'](()=>{const _0x179564=_0x5151f7,_0x5d814e=range(this[_0x179564(0x3c2)],0x0,0x1)['map'](_0x2c5314=>{const _0x4c1f92=_0x179564,_0xf544ea=this[_0x4c1f92(0x42f)](_0x2c5314);if(_0xf544ea instanceof tf5[_0x4c1f92(0x3b6)]){let _0x496a5d=isTensor4D(_0xf544ea)?_0xf544ea:tf5[_0x4c1f92(0x407)](_0xf544ea);return _0x496a5d=padToSquare(_0x496a5d,_0x4c8cac),(_0x496a5d['shape'][0x1]!==_0x41f951||_0x496a5d[_0x4c1f92(0x42d)][0x2]!==_0x41f951)&&(_0x496a5d=tf5[_0x4c1f92(0x27a)][_0x4c1f92(0x408)](_0x496a5d,[_0x41f951,_0x41f951],![],![])),_0x496a5d['as3D'](_0x41f951,_0x41f951,0x3);}if(_0xf544ea instanceof env[_0x4c1f92(0x3ca)]()[_0x4c1f92(0x25e)])return tf5[_0x4c1f92(0x3ea)][_0x4c1f92(0x2c4)](imageToSquare(_0xf544ea,_0x41f951,_0x4c8cac));throw new Error('toBatchTensor\x20-\x20at\x20batchIdx\x20'+_0x2c5314+_0x4c1f92(0x2dc)+_0xf544ea);}),_0x58e055=tf5[_0x179564(0x337)](_0x5d814e[_0x179564(0x39a)](_0x3718c5=>tf5[_0x179564(0x441)](_0x3718c5,_0x179564(0x2c2))))[_0x179564(0x2b5)](this[_0x179564(0x3c2)],_0x41f951,_0x41f951,0x3);return _0x58e055;});}};async function toNetInput(_0xb6fc65){const _0x3d71aa=_0x2e1d5a;if(_0xb6fc65 instanceof NetInput)return _0xb6fc65;const _0x23e21b=Array[_0x3d71aa(0x1d6)](_0xb6fc65)?_0xb6fc65:[_0xb6fc65];if(!_0x23e21b[_0x3d71aa(0x2c8)])throw new Error(_0x3d71aa(0x41c));const _0x38473f=_0x49cd0d=>Array[_0x3d71aa(0x1d6)](_0xb6fc65)?_0x3d71aa(0x22a)+_0x49cd0d+':':'',_0x333963=_0x23e21b['map'](resolveInput);return _0x333963[_0x3d71aa(0x3ab)]((_0x315335,_0x3f764c)=>{const _0x103a39=_0x3d71aa;if(!isMediaElement(_0x315335)&&!isTensor3D(_0x315335)&&!isTensor4D(_0x315335)){if(typeof _0x23e21b[_0x3f764c]===_0x103a39(0x3fe))throw new Error(_0x103a39(0x2a0)+_0x38473f(_0x3f764c)+'\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20'+_0x23e21b[_0x3f764c]);throw new Error(_0x103a39(0x2a0)+_0x38473f(_0x3f764c)+_0x103a39(0x208));}if(isTensor4D(_0x315335)){const _0x3795f8=_0x315335[_0x103a39(0x42d)][0x0];if(_0x3795f8!==0x1)throw new Error('toNetInput\x20-'+_0x38473f(_0x3f764c)+_0x103a39(0x2b0)+_0x3795f8+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');}}),await Promise[_0x3d71aa(0x3c5)](_0x333963[_0x3d71aa(0x39a)](_0x43314c=>isMediaElement(_0x43314c)&&awaitMediaLoaded(_0x43314c))),new NetInput(_0x333963,Array[_0x3d71aa(0x1d6)](_0xb6fc65));}async function extractFaces(_0x49f3da,_0x35a19a){const _0x27b6a3=_0x2e1d5a,{Canvas:_0x56715c}=env[_0x27b6a3(0x3ca)]();let _0x4534e5=_0x49f3da;if(!(_0x49f3da instanceof _0x56715c)){const _0x51be90=await toNetInput(_0x49f3da);if(_0x51be90[_0x27b6a3(0x3c2)]>0x1)throw new Error(_0x27b6a3(0x3d4));const _0x5b6a3e=_0x51be90[_0x27b6a3(0x42f)](0x0);_0x4534e5=_0x5b6a3e instanceof _0x56715c?_0x5b6a3e:await imageTensorToCanvas(_0x5b6a3e);}const _0x31061f=getContext2dOrThrow(_0x4534e5),_0x3532bb=_0x35a19a['map'](_0xe1ebc4=>_0xe1ebc4 instanceof FaceDetection?_0xe1ebc4[_0x27b6a3(0x386)](_0x4534e5['width'],_0x4534e5['height'])[_0x27b6a3(0x242)][_0x27b6a3(0x2e6)]():_0xe1ebc4)[_0x27b6a3(0x39a)](_0x356809=>_0x356809[_0x27b6a3(0x27d)](_0x4534e5[_0x27b6a3(0x3b2)],_0x4534e5[_0x27b6a3(0x2e0)]));return _0x3532bb[_0x27b6a3(0x39a)](({x:_0x4e0a29,y:_0x17a9fe,width:_0x36f6b0,height:_0x5995e8})=>{const _0x4173e7=_0x27b6a3,_0x40a23d=createCanvas({'width':_0x36f6b0,'height':_0x5995e8});if(_0x36f6b0>0x0&&_0x5995e8>0x0)getContext2dOrThrow(_0x40a23d)['putImageData'](_0x31061f[_0x4173e7(0x3a9)](_0x4e0a29,_0x17a9fe,_0x36f6b0,_0x5995e8),0x0,0x0);return _0x40a23d;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x4dc3b4,_0x5b8349){const _0x2cf20a=_0x2e1d5a;if(!isTensor3D(_0x4dc3b4)&&!isTensor4D(_0x4dc3b4))throw new Error(_0x2cf20a(0x2ec));if(isTensor4D(_0x4dc3b4)&&_0x4dc3b4[_0x2cf20a(0x42d)][0x0]>0x1)throw new Error('extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported');return tf6[_0x2cf20a(0x3d3)](()=>{const _0x15e4b2=_0x2cf20a,[_0x3341b5,_0x473b2c,_0x1d1e5a]=_0x4dc3b4['shape']['slice'](isTensor4D(_0x4dc3b4)?0x1:0x0),_0x5f13e3=_0x5b8349[_0x15e4b2(0x39a)](_0x9292d9=>_0x9292d9 instanceof FaceDetection?_0x9292d9['forSize'](_0x473b2c,_0x3341b5)[_0x15e4b2(0x242)]:_0x9292d9)['map'](_0x38cd8e=>_0x38cd8e[_0x15e4b2(0x27d)](_0x473b2c,_0x3341b5)),_0x24d644=_0x5f13e3['filter'](_0xc40b0d=>_0xc40b0d[_0x15e4b2(0x3b2)]>0x0&&_0xc40b0d[_0x15e4b2(0x2e0)]>0x0)['map'](({x:_0x305f39,y:_0x738756,width:_0x40932f,height:_0x253282})=>tf6[_0x15e4b2(0x3b8)](_0x4dc3b4['as3D'](_0x3341b5,_0x473b2c,_0x1d1e5a),[_0x738756,_0x305f39,0x0],[_0x253282,_0x40932f,_0x1d1e5a]));return _0x24d644;});}async function fetchOrThrow(_0x3e1a64,_0x2e1d8f){const _0x5502ec=_0x2e1d5a,{fetch:_0x548ff1}=env[_0x5502ec(0x3ca)](),_0x1e5a22=await _0x548ff1(_0x3e1a64,_0x2e1d8f);if(!(_0x1e5a22[_0x5502ec(0x3c0)]<0x190))throw new Error(_0x5502ec(0x291)+_0x1e5a22[_0x5502ec(0x3c0)]+')\x20'+_0x1e5a22[_0x5502ec(0x317)]+_0x5502ec(0x3e3)+_0x1e5a22[_0x5502ec(0x2cd)]);return _0x1e5a22;}async function fetchImage(_0x556736){const _0x23fac3=_0x2e1d5a,_0x18c155=await fetchOrThrow(_0x556736),_0x35d053=await _0x18c155[_0x23fac3(0x1ea)]();if(!_0x35d053[_0x23fac3(0x1f2)][_0x23fac3(0x308)](_0x23fac3(0x25c)))throw new Error(_0x23fac3(0x245)+_0x35d053[_0x23fac3(0x1f2)]+',\x20for\x20url:\x20'+_0x18c155[_0x23fac3(0x2cd)]);return bufferToImage(_0x35d053);}function _0x31e0(){const _0x59f872=['conv_7',')\x20and\x20height\x20(','Tensor','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','slice3d','distance','face_feature_extractor_model','loadClassifierParams','videoHeight','box_predictor_4','/sub','traversePropertyPath','status','createElement','batchSize','src','undefined','all','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','prediction_layer/box_predictor_0/box_encoding_predictor','middle_flow/main_block_','/expansion_conv','getEnv','lineWidth','rgba(255,\x200,\x20255,\x201)','getInputDimensions','fillStyle','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','face_landmark_68_tiny_model','dense2','FaceFeatureExtractor','tidy','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','D,\x20instead\x20have\x20','toString','/BatchNorm/beta','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','removeEventListener','/conv1','px\x20','top','tiny_face_detector_model','classScore','unshiftedLandmarks','expressions','Output/extra_dim','face_feature_extractor_tiny_model',',\x20from\x20url:\x20','currentTarget','strokeStyle','assertIsValidLabeledBox','mean','fetch','conv_8','browser','age_gender_model','fillText','conv256_down','getInputWidth','TinyYolov2Options','getNose','FaceRecognitionNet','getClassifierChannelsIn','conv_12','depth\x20has\x20to\x20be\x20an\x20integer:\x20','ageGenderNet','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','/BoxEncodingPredictor','relativeBox','_inputDimensions','forward','object','score','string','runMobilenet','magnitude','exports','constructor','dense1','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20','-weights_manifest.json','expandDims','resizeBilinear','concat','/batch_norm_mean','landmarks','_inputSize','drawLabelOptions','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','isRect','error','conv256_down_out','/weights','Prediction/BoxPredictor_','array','main_block_','_distanceThreshold','withFaceLandmarks','measureHeight','disgusted','_scoreThreshold','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input','_imageTensors','some',')\x20must\x20be\x20positive\x20numbers','min','runAndExtendWithFaceDetection','mul','Georgia','prediction_layer/conv_2','/truediv','paramMappings','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','text','getParamFromPath','Image','\x20-\x20expected\x20property\x20label\x20(','filter','shape','conv_6','getInput','weights\x20remaing\x20after\x20extract:\x20','_box','extractedFaces','reshape','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','lineColor','fontSize','entry_flow/reduction_block_0','detection','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','computeMeanDistance','useTinyLandmarkNet','playsInline','CanvasRenderingContext2D','positions','descriptor','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','cast','config','enumerable','conv_5','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','getTrainableParams','topRight','_batchSize','measureText','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','params','video','depthwiseConv2d','/Conv2d_','_classScore','minConfidence','right','classes','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','push','rgba(0,\x200,\x200,\x200.5)','runNet','slice','Box.constructor','4252jWhKrf','faceLandmark68Net','transpose','matMul','batch_norm_scale','isArray','conv_in','naturalWidth','308746aZItXO','mobilenetv1/conv_13','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','distanceThreshold','forwardInput','prediction_layer/box_predictor_3/box_encoding_predictor','json','number','nextObj','bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload','imageWidth','withClassScores','FEMALE','endsWith','reverse','detectLandmarks','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','blob','lineTo','TinyFaceFeatureExtractor','defineProperty','tiny_yolov2_separable_conv_model','\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number','padAtBorders','conv3','type','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','/separable_conv0','_imgDims','weightsLoaderFactory','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','prediction_layer/box_predictor_4/box_encoding_predictor','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','separableConv2d','createVideoElement','meanRgb','depthwise_conv','_width','/filters','_className','predictExpressions','prediction_layer/conv_3','entry_flow/conv_in','separable_conv1','createImageElement','BOTTOM_LEFT','ImageData','\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id','@tensorflow/tfjs-node','sort','getLeftEye','withFaceExpressions','resizeResults\x20-\x20invalid\x20dimensions:\x20','detect','conv_4','1210EYddoX','reduction_block_0','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','inputDimensions','mobilenetv1/conv_12','getRightEyeBrow','alignMinBbox','pad','TinyYolov2','output_layer','faceLandmarks','parse','/BatchNorm/gamma','result','batch_norm_offset','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','\x20-\x20width\x20(','getRightEye','Prediction','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','imageDims','prediction_layer','1017401fxQfQb','backgroundColor','reduce','runAndExtendWithFaceDetections','\x20at\x20input\x20index\x20','getUpperLeft','computeFaceDescriptor','_treatAsBatchInput','_params','getInputHeight','HTMLImageElement','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','_paramMappings','conv_11','getDefaultModelName','descriptors','prediction_layer/box_predictor_2/class_predictor','_minConfidence','_distance','call','expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20','expected\x20weightMap[','TinyXception\x20-\x20load\x20model\x20before\x20inference','fromJSON','withFaceDescriptors','moveTo','bias','prediction_layer/box_predictor_5/box_encoding_predictor','box','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','conv','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','conv128_1','reduction_block','FaceExpressionNet','font','tensor4d','asSortedArray','maxPool','conv256_2','reshapedInputDimensions','angry','getRefPointsForAlignment','_positions','ssdMobilenetv1','prediction_layer/box_predictor_','FaceLandmark68TinyNet','draw','conv32_3','function','_shift','mobilenetv1/conv_11','/conv','\x20-\x20load\x20model\x20before\x20inference','image/','2915lFDJgg','Canvas','1406724wGZpos','runTinyYolov2','_depthwise','weights','withAgeAndGender','entry_flow/reduction_block_1','SsdMobilenetv1Options','prototype','getParamList','boxColor','mobilenetv1/conv_9','ssd_mobilenetv1_model','getContext','beginPath','imageHeight','extractParams','then','loadFromWeightMap','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','happy','tinyYolov2','getClassifierChannelsOut','conv6','assertIsValidPredictedBox','\x20filterSizes\x20in\x20config','DEFAULT_FILTER_SIZES','depthwise_filter','image','entry_flow',')\x20to\x20be\x20a\x20number','clipAtImageBorders','conv128_2','scale','atan2','Variable','conv_0','boolean','toInt','readFile','/conv/filters','variable','TOP_LEFT','box_predictor_1','mobilenetv1/conv_3','isBatchInput','label','reduction_block_1','readAsDataURL','MobilenetV1','sub','failed\x20to\x20fetch:\x20(','male','_numMainBlocks','dispose','parentTask','female','_height','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','getOwnPropertyNames','bottomLeft','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','_score','filterSizes','options','bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','toNetInput\x20-','buffer','age','/pointwise_filter','9HcpHLc','tensor2d','/BatchNorm/moving_mean','Video','scoreThreshold','avgPool','padding','tensor1d','max','conv2d','filters','dense0','\x20tf.Tensor4D\x20with\x20batchSize\x20','_imageDims','getJawOutline','_descriptors','face','as4D','faceFeatureExtractor','valid','47832aUdwxg','rescale','_canvases','conv_13','conv8','putImageData','postProcess','run',',\x20weights.length:\x20','145270tbXRAk','float32','loadFromUri','fromPixels','isLoaded','/depthwise_conv','assertIsValidBox','length','conv0','faceExpressionNet','middle_flow','conv128_down','url','conv2','imageTensors','tinyFaceDetector',',\x20for\x20url:\x20','measureWidth','mobilenetv1/conv_2','unknown','left','as1D','prediction_layer/box_predictor_4/class_predictor','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','abs','invalid\x20config:\x20','conv4',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','mobilenetv1/conv_6','unstack','conv11','height','separable_conv0','sigmoid','className','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','/BatchNorm/moving_variance','floor','resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas','arraySync','fill','exit_flow/reduction_block','as2D','extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D','_label','tiny_yolov2_model','drawLines','load','conv64_down','isFirstLayerConv2d','conv_2','output_layer/extra_dim','onerror','predictAgeAndGender','sqrt','toBatchTensor','calibrate','createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment','mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null','default','/depthwise_filter','conv64_2','prediction_layer/conv_4','softmax','inputSize','/conv3','bottom','76HGBwNh','_labeledDescriptors','/batch_norm_scale','add','startsWith','extractParamsFromWeightMap','mobilenetv1/conv_1','conv1','/conv/bias','/batch_norm_variance','TOP_RIGHT','boxPredictionEncoding','_config','relu','from','every','arc','gender','findBestMatch','statusText','dense3','tensor','align','shiftBy','/separable_conv2','prediction_layer/conv_7','versions','surprised','/bn','__esModule','out','probability','pitch','MobilenetV1/Conv2d_','TinyXception','clipByValue','neutral','video/','shift','/scale/weights','\x20-\x20invalid\x20box:\x20','input','/batch_norm_offset','https://','hasOwnProperty','.loadFromUri\x20-\x20expected\x20model\x20uri','fontColor','withSeparableConvs','/class_predictor','zeros','prediction_layer/box_predictor_2/box_encoding_predictor','stack','/scale','fontStyle','config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20','anchors','/conv2','4929688hEzMrf','getMouth','MALE','expansion_conv','pointwise_filter','fc/gender','mobilenetv1/conv_4','boxIndex','/separable_conv1','stroke','arrayBuffer','scalar','biases','_name','BOTTOM_RIGHT','faceLandmark68TinyNet','getReshapedInputDimensions','prediction_layer/box_predictor_1/box_encoding_predictor','/bias','createCanvasElement','dataSync','extractWeights','separable_conv2','isNaN','prediction_layer/box_predictor_5/class_predictor','withFaceDescriptor','HTMLVideoElement','sad','exit_flow','prediction_layer/box_predictor_0/class_predictor','canvases','conv64_3','/box_encoding_predictor','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','/conv0','div','AgeGenderNet','conv_3','area','prediction_layer/conv_6','FaceLandmark68Net','conv32_2','_faceFeatureExtractor','1.7.3','iouThreshold','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','tiny_xception_model','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','extractBoxes','truediv','faceRecognitionNet','onload','img','stringify','alignDlib','prediction_layer/conv_0','prediction_layer/conv_5','round',']\x20to\x20be\x20a\x20Tensor','fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20','keys','strokeRect','create','freeze','conv7','canvas','loadFromDisk','prediction_layer/conv_1','_pointwise/weights','person\x20','drawImage',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','roll','forSize','mobilenetv1/conv_7','TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','locateFaces','box_predictor_0','fc/age','getLeftEyeBrow','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','conv256_1','naturalHeight','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','_maxResults','pointSize','complete','maxResults','landmarkNet','extractClassifierParams','anchor','boxEncodingSize','getOwnPropertyDescriptor','map','addEventListener','conv64_1','conv32_down','split','conv_1','matchDescriptor','node','data','relativePositions','originalPath','exp','toJSON','box_predictor_3','loadWeights','getImageData','face_recognition_model','forEach','classPrediction','conv32_1','log','as3D','same','toPixels','width','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options'];_0x31e0=function(){return _0x59f872;};return _0x31e0();}async function fetchJson(_0x2ba42a){const _0x8dd5f4=_0x2e1d5a;return(await fetchOrThrow(_0x2ba42a))[_0x8dd5f4(0x1df)]();}async function fetchNetWeights(_0x4a8127){const _0x49b51f=_0x2e1d5a;return new Float32Array(await(await fetchOrThrow(_0x4a8127))[_0x49b51f(0x347)]());}function bufferToVideo(_0x3c4ac6){return new Promise((_0x20bb32,_0x56f888)=>{const _0x548413=_0x5847;if(!(_0x3c4ac6 instanceof Blob))_0x56f888(new Error(_0x548413(0x1f3)));const _0x190115=env['getEnv']()[_0x548413(0x1fb)]();_0x190115['oncanplay']=()=>_0x20bb32(_0x190115),_0x190115[_0x548413(0x2f5)]=_0x56f888,_0x190115[_0x548413(0x43c)]=!![],_0x190115['muted']=!![],_0x190115['src']=URL['createObjectURL'](_0x3c4ac6),_0x190115['play']();});}async function fetchVideo(_0x5dc5d3){const _0x2157cc=_0x2e1d5a,_0x3891fa=await fetchOrThrow(_0x5dc5d3),_0x4544a8=await _0x3891fa[_0x2157cc(0x1ea)]();if(!_0x4544a8[_0x2157cc(0x1f2)][_0x2157cc(0x308)](_0x2157cc(0x329)))throw new Error(_0x2157cc(0x378)+_0x4544a8[_0x2157cc(0x1f2)]+_0x2157cc(0x2d1)+_0x3891fa[_0x2157cc(0x2cd)]);return bufferToVideo(_0x4544a8);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x269994,_0x57afdc){const _0x55c26d=_0x2e1d5a,_0x2161d4=_0x57afdc+_0x55c26d(0x406);if(!_0x269994)return{'modelBaseUri':'','manifestUri':_0x2161d4};if(_0x269994==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x2161d4};const _0x51ad08=_0x269994[_0x55c26d(0x308)]('http://')?'http://':_0x269994['startsWith'](_0x55c26d(0x32f))?_0x55c26d(0x32f):'';_0x269994=_0x269994['replace'](_0x51ad08,'');const _0x2e039a=_0x269994[_0x55c26d(0x39e)]('/')[_0x55c26d(0x42c)](_0x550999=>_0x550999),_0x3030e0=_0x269994[_0x55c26d(0x1e6)]('.json')?_0x2e039a[_0x2e039a[_0x55c26d(0x2c8)]-0x1]:_0x2161d4;let _0x238dc0=_0x51ad08+(_0x269994[_0x55c26d(0x1e6)]('.json')?_0x2e039a[_0x55c26d(0x1cf)](0x0,_0x2e039a[_0x55c26d(0x2c8)]-0x1):_0x2e039a)['join']('/');return _0x238dc0=_0x269994[_0x55c26d(0x308)]('/')?'/'+_0x238dc0:_0x238dc0,{'modelBaseUri':_0x238dc0,'manifestUri':_0x238dc0==='/'?'/'+_0x3030e0:_0x238dc0+'/'+_0x3030e0};}async function loadWeightMap(_0x1b2769,_0xa8bf4){const _0x5c6c45=_0x2e1d5a,{manifestUri:_0x207e7c,modelBaseUri:_0x430591}=getModelUris(_0x1b2769,_0xa8bf4),_0x189ca2=await fetchJson(_0x207e7c);return tf7['io'][_0x5c6c45(0x3a8)](_0x189ca2,_0x430591);}function matchDimensions(_0x41c304,_0x368eeb,_0x28af73=![]){const _0xa9e2cc=_0x2e1d5a,{width:_0x445738,height:_0x2d2f18}=_0x28af73?getMediaDimensions(_0x368eeb):_0x368eeb;return _0x41c304[_0xa9e2cc(0x3b2)]=_0x445738,_0x41c304[_0xa9e2cc(0x2e0)]=_0x2d2f18,{'width':_0x445738,'height':_0x2d2f18};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x4b56a2){const _0x569462=_0x2e1d5a;this[_0x569462(0x22e)]=void 0x0,this[_0x569462(0x232)]=[],this[_0x569462(0x34a)]=_0x4b56a2;}get[_0x2e1d5a(0x1c3)](){const _0x5c3cc2=_0x2e1d5a;return this[_0x5c3cc2(0x22e)];}get[_0x2e1d5a(0x426)](){return this['_paramMappings'];}get[_0x2e1d5a(0x2c5)](){const _0x58e5b7=_0x2e1d5a;return!!this[_0x58e5b7(0x1c3)];}[_0x2e1d5a(0x429)](_0x1884fd){const _0x5a5ffc=_0x2e1d5a,{obj:_0x247f7f,objProp:_0x362827}=this[_0x5a5ffc(0x3bf)](_0x1884fd);return _0x247f7f[_0x362827];}['reassignParamFromPath'](_0x27824c,_0x4bfb94){const _0x11d640=_0x2e1d5a,{obj:_0x345bc8,objProp:_0x438856}=this[_0x11d640(0x3bf)](_0x27824c);_0x345bc8[_0x438856][_0x11d640(0x294)](),_0x345bc8[_0x438856]=_0x4bfb94;}[_0x2e1d5a(0x267)](){const _0x318520=_0x2e1d5a;return this[_0x318520(0x232)][_0x318520(0x39a)](({paramPath:_0x4334fd})=>({'path':_0x4334fd,'tensor':this[_0x318520(0x429)](_0x4334fd)}));}[_0x2e1d5a(0x446)](){const _0x261138=_0x2e1d5a;return this['getParamList']()['filter'](_0x107199=>_0x107199[_0x261138(0x319)]instanceof tf8['Variable']);}['getFrozenParams'](){const _0x290160=_0x2e1d5a;return this[_0x290160(0x267)]()[_0x290160(0x42c)](_0x196c21=>!(_0x196c21[_0x290160(0x319)]instanceof tf8[_0x290160(0x281)]));}[_0x2e1d5a(0x287)](){const _0x598246=_0x2e1d5a;this['getFrozenParams']()[_0x598246(0x3ab)](({path:_0x59e432,tensor:_0x1d1a7e})=>{this['reassignParamFromPath'](_0x59e432,_0x1d1a7e['variable']());});}[_0x2e1d5a(0x37c)](){const _0x2a11fe=_0x2e1d5a;this[_0x2a11fe(0x446)]()[_0x2a11fe(0x3ab)](({path:_0x2d03b7,tensor:_0x42c294})=>{const _0x1aeff4=_0x2a11fe,_0x185a87=tf8[_0x1aeff4(0x319)](_0x42c294[_0x1aeff4(0x351)]());_0x42c294['dispose'](),this['reassignParamFromPath'](_0x2d03b7,_0x185a87);});}[_0x2e1d5a(0x294)](_0x4432cf=!![]){const _0x8afa91=_0x2e1d5a;this[_0x8afa91(0x267)]()['forEach'](_0x451b5d=>{const _0x43f827=_0x8afa91;if(_0x4432cf&&_0x451b5d[_0x43f827(0x319)]['isDisposed'])throw new Error(_0x43f827(0x1c2)+_0x451b5d['path']);_0x451b5d[_0x43f827(0x319)][_0x43f827(0x294)]();}),this['_params']=void 0x0;}['serializeParams'](){const _0x3a4f77=_0x2e1d5a;return new Float32Array(this[_0x3a4f77(0x267)]()[_0x3a4f77(0x39a)](({tensor:_0x309183})=>Array[_0x3a4f77(0x312)](_0x309183[_0x3a4f77(0x351)]()))[_0x3a4f77(0x228)]((_0x268252,_0x24d031)=>_0x268252[_0x3a4f77(0x409)](_0x24d031)));}async[_0x2e1d5a(0x2f0)](_0xa4b591){const _0x307c08=_0x2e1d5a;if(_0xa4b591 instanceof Float32Array){this[_0x307c08(0x352)](_0xa4b591);return;}await this[_0x307c08(0x2c3)](_0xa4b591);}async[_0x2e1d5a(0x2c3)](_0xd262a7){const _0x41f1b3=_0x2e1d5a;if(_0xd262a7&&typeof _0xd262a7!==_0x41f1b3(0x3fe))throw new Error(this['_name']+_0x41f1b3(0x331));const _0x87afd3=await loadWeightMap(_0xd262a7,this[_0x41f1b3(0x234)]());this[_0x41f1b3(0x270)](_0x87afd3);}async[_0x2e1d5a(0x37f)](_0xb97ce8){const _0x340237=_0x2e1d5a;if(_0xb97ce8&&typeof _0xb97ce8!==_0x340237(0x3fe))throw new Error(this[_0x340237(0x34a)]+_0x340237(0x440));const {readFile:_0x13f4ab}=env[_0x340237(0x3ca)](),{manifestUri:_0x25e6ff,modelBaseUri:_0x4a1ce9}=getModelUris(_0xb97ce8,this[_0x340237(0x234)]()),_0x22a7c3=_0x8536d5=>Promise[_0x340237(0x3c5)](_0x8536d5[_0x340237(0x39a)](_0x434ae2=>_0x13f4ab(_0x434ae2)[_0x340237(0x26f)](_0x2de9d9=>_0x2de9d9[_0x340237(0x2a1)]))),_0x47893c=tf8['io'][_0x340237(0x1f6)](_0x22a7c3),_0x4bd34a=JSON[_0x340237(0x21b)]((await _0x13f4ab(_0x25e6ff))['toString']()),_0x595c54=await _0x47893c(_0x4bd34a,_0x4a1ce9);this[_0x340237(0x270)](_0x595c54);}[_0x2e1d5a(0x270)](_0x5261b2){const _0x590336=_0x2e1d5a,{paramMappings:_0x18fd1d,params:_0x50ae0e}=this[_0x590336(0x309)](_0x5261b2);this[_0x590336(0x232)]=_0x18fd1d,this[_0x590336(0x22e)]=_0x50ae0e;}[_0x2e1d5a(0x352)](_0x124575){const _0x3a16a0=_0x2e1d5a,{paramMappings:_0x408338,params:_0x45ad49}=this[_0x3a16a0(0x26e)](_0x124575);this[_0x3a16a0(0x232)]=_0x408338,this['_params']=_0x45ad49;}[_0x2e1d5a(0x3bf)](_0x83e631){const _0x5cc8bc=_0x2e1d5a;if(!this['params'])throw new Error(_0x5cc8bc(0x223));const _0x100ebc=_0x83e631[_0x5cc8bc(0x39e)]('/')[_0x5cc8bc(0x228)]((_0x45a0c5,_0x24452)=>{const _0x269402=_0x5cc8bc;if(!_0x45a0c5[_0x269402(0x1e1)]['hasOwnProperty'](_0x24452))throw new Error(_0x269402(0x2e4)+_0x24452+',\x20for\x20path\x20'+_0x83e631);return{'obj':_0x45a0c5['nextObj'],'objProp':_0x24452,'nextObj':_0x45a0c5[_0x269402(0x1e1)][_0x24452]};},{'nextObj':this[_0x5cc8bc(0x1c3)]}),{obj:_0x121632,objProp:_0x400e84}=_0x100ebc;if(!_0x121632||!_0x400e84||!(_0x121632[_0x400e84]instanceof tf8['Tensor']))throw new Error(_0x5cc8bc(0x298)+_0x83e631);return{'obj':_0x121632,'objProp':_0x400e84};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x2834f4,_0x48762d,_0x48cc95){return tf9['tidy'](()=>{const _0x321666=_0x5847;let _0x39c688=tf9[_0x321666(0x1fa)](_0x2834f4,_0x48762d['depthwise_filter'],_0x48762d[_0x321666(0x341)],_0x48cc95,'same');return _0x39c688=tf9[_0x321666(0x307)](_0x39c688,_0x48762d[_0x321666(0x240)]),_0x39c688;});}function denseBlock3(_0x454ba5,_0x5d44a0,_0x54778b=![]){const _0xcf4cf7=_0x2e1d5a;return tf10[_0xcf4cf7(0x3d3)](()=>{const _0x481e6a=_0xcf4cf7,_0x421f39=tf10['relu'](_0x54778b?tf10[_0x481e6a(0x307)](tf10[_0x481e6a(0x2ad)](_0x454ba5,_0x5d44a0['conv0'][_0x481e6a(0x2ae)],[0x2,0x2],_0x481e6a(0x3b0)),_0x5d44a0[_0x481e6a(0x2c9)]['bias']):depthwiseSeparableConv(_0x454ba5,_0x5d44a0[_0x481e6a(0x2c9)],[0x2,0x2])),_0x5dabd3=depthwiseSeparableConv(_0x421f39,_0x5d44a0[_0x481e6a(0x30b)],[0x1,0x1]),_0x343fae=tf10[_0x481e6a(0x311)](tf10[_0x481e6a(0x307)](_0x421f39,_0x5dabd3)),_0x43fd17=depthwiseSeparableConv(_0x343fae,_0x5d44a0[_0x481e6a(0x2ce)],[0x1,0x1]);return tf10[_0x481e6a(0x311)](tf10[_0x481e6a(0x307)](_0x421f39,tf10[_0x481e6a(0x307)](_0x5dabd3,_0x43fd17)));});}function denseBlock4(_0x568306,_0x272042,_0x4b6c84=![],_0x1e9ac0=!![]){return tf10['tidy'](()=>{const _0x488f59=_0x5847,_0x576698=tf10[_0x488f59(0x311)](_0x4b6c84?tf10[_0x488f59(0x307)](tf10[_0x488f59(0x2ad)](_0x568306,_0x272042[_0x488f59(0x2c9)][_0x488f59(0x2ae)],_0x1e9ac0?[0x2,0x2]:[0x1,0x1],_0x488f59(0x3b0)),_0x272042['conv0'][_0x488f59(0x240)]):depthwiseSeparableConv(_0x568306,_0x272042[_0x488f59(0x2c9)],_0x1e9ac0?[0x2,0x2]:[0x1,0x1])),_0x3e0447=depthwiseSeparableConv(_0x576698,_0x272042['conv1'],[0x1,0x1]),_0x487811=tf10['relu'](tf10['add'](_0x576698,_0x3e0447)),_0x3d5a95=depthwiseSeparableConv(_0x487811,_0x272042['conv2'],[0x1,0x1]),_0x524b37=tf10[_0x488f59(0x311)](tf10['add'](_0x576698,tf10[_0x488f59(0x307)](_0x3e0447,_0x3d5a95))),_0xf4ad3e=depthwiseSeparableConv(_0x524b37,_0x272042[_0x488f59(0x1f1)],[0x1,0x1]);return tf10['relu'](tf10[_0x488f59(0x307)](_0x576698,tf10[_0x488f59(0x307)](_0x3e0447,tf10[_0x488f59(0x307)](_0x3d5a95,_0xf4ad3e))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x10e118,_0x55ac28,_0x48bfbd=_0x2e1d5a(0x3b0),_0x5780c5=![]){const _0x3b11d4=_0x2e1d5a;return tf11[_0x3b11d4(0x3d3)](()=>{const _0x59e752=_0x3b11d4,_0x445efe=tf11[_0x59e752(0x307)](tf11[_0x59e752(0x2ad)](_0x10e118,_0x55ac28[_0x59e752(0x2ae)],[0x1,0x1],_0x48bfbd),_0x55ac28['bias']);return _0x5780c5?tf11[_0x59e752(0x311)](_0x445efe):_0x445efe;});}function disposeUnusedWeightTensors(_0xc2a1f0,_0x17560e){const _0x3d70be=_0x2e1d5a;Object[_0x3d70be(0x379)](_0xc2a1f0)['forEach'](_0x5b8939=>{const _0x23d64f=_0x3d70be;!_0x17560e[_0x23d64f(0x41e)](_0x2a453f=>_0x2a453f[_0x23d64f(0x3a4)]===_0x5b8939)&&_0xc2a1f0[_0x5b8939][_0x23d64f(0x294)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x327798,_0x5289ec){return(_0x37f154,_0x3c563f,_0x445b01,_0x462ced)=>{const _0x363114=_0x5847,_0x5c7bec=tf12[_0x363114(0x24a)](_0x327798(_0x37f154*_0x3c563f*_0x445b01*_0x445b01),[_0x445b01,_0x445b01,_0x37f154,_0x3c563f]),_0x3939b3=tf12['tensor1d'](_0x327798(_0x3c563f));return _0x5289ec[_0x363114(0x1cc)]({'paramPath':_0x462ced+_0x363114(0x1ff)},{'paramPath':_0x462ced+_0x363114(0x34f)}),{'filters':_0x5c7bec,'bias':_0x3939b3};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x59d94a,_0x5ecad9){return(_0x422bce,_0x39f1e8,_0xe9e089)=>{const _0x36ecd7=_0x5847,_0x409e90=tf13[_0x36ecd7(0x2a5)](_0x59d94a(_0x422bce*_0x39f1e8),[_0x422bce,_0x39f1e8]),_0x2bf674=tf13[_0x36ecd7(0x2ab)](_0x59d94a(_0x39f1e8));return _0x5ecad9['push']({'paramPath':_0xe9e089+_0x36ecd7(0x412)},{'paramPath':_0xe9e089+_0x36ecd7(0x34f)}),{'weights':_0x409e90,'bias':_0x2bf674};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x29b4f6,_0x2f9df3,_0x223690){const _0x4da45c=_0x2e1d5a;this[_0x4da45c(0x279)]=_0x29b4f6,this[_0x4da45c(0x341)]=_0x2f9df3,this['bias']=_0x223690;}};function extractSeparableConvParamsFactory(_0x189250,_0x29b0ad){return(_0x402408,_0x4225c3,_0x2a8338)=>{const _0x5d4135=_0x5847,_0x2af09e=tf14[_0x5d4135(0x24a)](_0x189250(0x3*0x3*_0x402408),[0x3,0x3,_0x402408,0x1]),_0x27ad5e=tf14[_0x5d4135(0x24a)](_0x189250(_0x402408*_0x4225c3),[0x1,0x1,_0x402408,_0x4225c3]),_0x2123ac=tf14[_0x5d4135(0x2ab)](_0x189250(_0x4225c3));return _0x29b0ad['push']({'paramPath':_0x2a8338+_0x5d4135(0x2fd)},{'paramPath':_0x2a8338+_0x5d4135(0x2a3)},{'paramPath':_0x2a8338+'/bias'}),new SeparableConvParams(_0x2af09e,_0x27ad5e,_0x2123ac);};}function loadSeparableConvParamsFactory(_0x12bf04){return _0x57ab67=>{const _0x14d8c7=_0x5847,_0x21dbd9=_0x12bf04(_0x57ab67+_0x14d8c7(0x2fd),0x4),_0x2fd5d8=_0x12bf04(_0x57ab67+_0x14d8c7(0x2a3),0x4),_0x407d4b=_0x12bf04(_0x57ab67+'/bias',0x1);return new SeparableConvParams(_0x21dbd9,_0x2fd5d8,_0x407d4b);};}function extractWeightEntryFactory(_0x461758,_0x29b738){return(_0x548b6a,_0x22a1cb,_0x4640db)=>{const _0x4ff85e=_0x5847,_0x2db8a2=_0x461758[_0x548b6a];if(!isTensor(_0x2db8a2,_0x22a1cb))throw new Error(_0x4ff85e(0x23b)+_0x548b6a+_0x4ff85e(0x377)+_0x22a1cb+_0x4ff85e(0x3d5)+_0x2db8a2);return _0x29b738[_0x4ff85e(0x1cc)]({'originalPath':_0x548b6a,'paramPath':_0x4640db||_0x548b6a}),_0x2db8a2;};}function extractWeightsFactory(_0x134ea5){let _0x1f323d=_0x134ea5;function _0x4f61e4(_0x1086c0){const _0x1c0943=_0x5847,_0x2b3d55=_0x1f323d[_0x1c0943(0x1cf)](0x0,_0x1086c0);return _0x1f323d=_0x1f323d[_0x1c0943(0x1cf)](_0x1086c0),_0x2b3d55;}function _0x32a506(){return _0x1f323d;}return{'extractWeights':_0x4f61e4,'getRemainingWeights':_0x32a506};}function extractorsFactory(_0x2ce37a,_0x401def){const _0x4e888a=extractConvParamsFactory(_0x2ce37a,_0x401def),_0x350674=extractSeparableConvParamsFactory(_0x2ce37a,_0x401def);function _0x2d8c75(_0x337943,_0x29c0fe,_0x3366d8,_0x2ec383=![]){const _0x5dfb90=_0x5847,_0x1437ad=_0x2ec383?_0x4e888a(_0x337943,_0x29c0fe,0x3,_0x3366d8+_0x5dfb90(0x35f)):_0x350674(_0x337943,_0x29c0fe,_0x3366d8+_0x5dfb90(0x35f)),_0x4363de=_0x350674(_0x29c0fe,_0x29c0fe,_0x3366d8+_0x5dfb90(0x3da)),_0x279bcf=_0x350674(_0x29c0fe,_0x29c0fe,_0x3366d8+_0x5dfb90(0x33c));return{'conv0':_0x1437ad,'conv1':_0x4363de,'conv2':_0x279bcf};}function _0x4a74bb(_0x16b6c8,_0x4c3746,_0x5728a6,_0x3416c3=![]){const _0x42a485=_0x5847,{conv0:_0x1c02c4,conv1:_0x4e31fb,conv2:_0x586637}=_0x2d8c75(_0x16b6c8,_0x4c3746,_0x5728a6,_0x3416c3),_0x5cca90=_0x350674(_0x4c3746,_0x4c3746,_0x5728a6+_0x42a485(0x302));return{'conv0':_0x1c02c4,'conv1':_0x4e31fb,'conv2':_0x586637,'conv3':_0x5cca90};}return{'extractDenseBlock3Params':_0x2d8c75,'extractDenseBlock4Params':_0x4a74bb};}function extractParams(_0x38dc78){const _0x5dad8f=_0x2e1d5a,_0x43887a=[],{extractWeights:_0x5b020f,getRemainingWeights:_0x1176ee}=extractWeightsFactory(_0x38dc78),{extractDenseBlock4Params:_0x15dd72}=extractorsFactory(_0x5b020f,_0x43887a),_0x57502d=_0x15dd72(0x3,0x20,_0x5dad8f(0x2af),!![]),_0x3b1e51=_0x15dd72(0x20,0x40,_0x5dad8f(0x403)),_0x59dbd3=_0x15dd72(0x40,0x80,_0x5dad8f(0x3d1)),_0x512c94=_0x15dd72(0x80,0x100,'dense3');if(_0x1176ee()[_0x5dad8f(0x2c8)]!==0x0)throw new Error(_0x5dad8f(0x430)+_0x1176ee()[_0x5dad8f(0x2c8)]);return{'paramMappings':_0x43887a,'params':{'dense0':_0x57502d,'dense1':_0x3b1e51,'dense2':_0x59dbd3,'dense3':_0x512c94}};}function loadConvParamsFactory(_0x170c93){return _0x2ca6a4=>{const _0x4702b7=_0x5847,_0x568713=_0x170c93(_0x2ca6a4+_0x4702b7(0x1ff),0x4),_0x37c853=_0x170c93(_0x2ca6a4+_0x4702b7(0x34f),0x1);return{'filters':_0x568713,'bias':_0x37c853};};}function loadParamsFactory(_0x508f6e,_0x4facc7){const _0x24deff=extractWeightEntryFactory(_0x508f6e,_0x4facc7),_0x4a4839=loadConvParamsFactory(_0x24deff),_0x52fe17=loadSeparableConvParamsFactory(_0x24deff);function _0x583c51(_0x20cfee,_0x6e01c8=![]){const _0x8972b5=_0x5847,_0x46b2fe=_0x6e01c8?_0x4a4839(_0x20cfee+_0x8972b5(0x35f)):_0x52fe17(_0x20cfee+_0x8972b5(0x35f)),_0x172087=_0x52fe17(_0x20cfee+_0x8972b5(0x3da)),_0x47f47b=_0x52fe17(_0x20cfee+_0x8972b5(0x33c));return{'conv0':_0x46b2fe,'conv1':_0x172087,'conv2':_0x47f47b};}function _0xd7cffd(_0x1e6170,_0x42fdfa=![]){const _0x3fdc0b=_0x5847,_0x203110=_0x42fdfa?_0x4a4839(_0x1e6170+_0x3fdc0b(0x35f)):_0x52fe17(_0x1e6170+_0x3fdc0b(0x35f)),_0x5dcb3c=_0x52fe17(_0x1e6170+_0x3fdc0b(0x3da)),_0x10c1d5=_0x52fe17(_0x1e6170+_0x3fdc0b(0x33c)),_0x5ed0c7=_0x52fe17(_0x1e6170+_0x3fdc0b(0x302));return{'conv0':_0x203110,'conv1':_0x5dcb3c,'conv2':_0x10c1d5,'conv3':_0x5ed0c7};}return{'extractDenseBlock3Params':_0x583c51,'extractDenseBlock4Params':_0xd7cffd};}function extractParamsFromWeightMap(_0xac378){const _0x48ebd1=_0x2e1d5a,_0x51f88f=[],{extractDenseBlock4Params:_0x337184}=loadParamsFactory(_0xac378,_0x51f88f),_0x597574={'dense0':_0x337184(_0x48ebd1(0x2af),!![]),'dense1':_0x337184('dense1'),'dense2':_0x337184(_0x48ebd1(0x3d1)),'dense3':_0x337184(_0x48ebd1(0x318))};return disposeUnusedWeightTensors(_0xac378,_0x51f88f),{'params':_0x597574,'paramMappings':_0x51f88f};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x5d87ad=_0x2e1d5a;super(_0x5d87ad(0x3d2));}[_0x2e1d5a(0x1dd)](_0x47076c){const _0x3c688c=_0x2e1d5a,{params:_0x5c39dc}=this;if(!_0x5c39dc)throw new Error(_0x3c688c(0x243));return tf15[_0x3c688c(0x3d3)](()=>{const _0x455a31=_0x3c688c,_0x176b56=tf15[_0x455a31(0x441)](_0x47076c[_0x455a31(0x2f8)](0x70,!![]),_0x455a31(0x2c2)),_0x431245=[122.782,117.001,104.298],_0x226e62=normalize(_0x176b56,_0x431245)['div'](0xff);let _0x34a6f5=denseBlock4(_0x226e62,_0x5c39dc[_0x455a31(0x2af)],!![]);return _0x34a6f5=denseBlock4(_0x34a6f5,_0x5c39dc[_0x455a31(0x403)]),_0x34a6f5=denseBlock4(_0x34a6f5,_0x5c39dc['dense2']),_0x34a6f5=denseBlock4(_0x34a6f5,_0x5c39dc[_0x455a31(0x318)]),_0x34a6f5=tf15['avgPool'](_0x34a6f5,[0x7,0x7],[0x2,0x2],_0x455a31(0x2b7)),_0x34a6f5;});}async[_0x2e1d5a(0x3fb)](_0x143105){return this['forwardInput'](await toNetInput(_0x143105));}[_0x2e1d5a(0x234)](){const _0x298097=_0x2e1d5a;return _0x298097(0x3ba);}[_0x2e1d5a(0x309)](_0x234bdb){return extractParamsFromWeightMap(_0x234bdb);}['extractParams'](_0x34ec96){return extractParams(_0x34ec96);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0xd5ef9e,_0x49c1d4){const _0x197817=_0x2e1d5a;return tf16['tidy'](()=>tf16[_0x197817(0x307)](tf16[_0x197817(0x1d4)](_0xd5ef9e,_0x49c1d4[_0x197817(0x262)]),_0x49c1d4[_0x197817(0x240)]));}function extractParams2(_0x4f4653,_0x3356de,_0x3bf5b9){const _0xbf1bc=_0x2e1d5a,_0x3532fc=[],{extractWeights:_0x3fe3be,getRemainingWeights:_0x4900ea}=extractWeightsFactory(_0x4f4653),_0x3b9f51=extractFCParamsFactory(_0x3fe3be,_0x3532fc),_0x5df03a=_0x3b9f51(_0x3356de,_0x3bf5b9,'fc');if(_0x4900ea()['length']!==0x0)throw new Error(_0xbf1bc(0x430)+_0x4900ea()[_0xbf1bc(0x2c8)]);return{'paramMappings':_0x3532fc,'params':{'fc':_0x5df03a}};}function extractParamsFromWeightMap2(_0x19d103){const _0x15fc78=[],_0x5f3657=extractWeightEntryFactory(_0x19d103,_0x15fc78);function _0x3c186c(_0x4bc090){const _0x481db0=_0x5847,_0x32b7bd=_0x5f3657(_0x4bc090+'/weights',0x2),_0x413565=_0x5f3657(_0x4bc090+_0x481db0(0x34f),0x1);return{'weights':_0x32b7bd,'bias':_0x413565};}const _0xd15fd3={'fc':_0x3c186c('fc')};return disposeUnusedWeightTensors(_0x19d103,_0x15fc78),{'params':_0xd15fd3,'paramMappings':_0x15fc78};}function seperateWeightMaps(_0x10b7b8){const _0x4e44ef=_0x2e1d5a,_0x4345f9={},_0x2e16bb={};return Object[_0x4e44ef(0x379)](_0x10b7b8)[_0x4e44ef(0x3ab)](_0x152a8e=>{const _0x236a14=_0x4e44ef,_0x469357=_0x152a8e[_0x236a14(0x308)]('fc')?_0x2e16bb:_0x4345f9;_0x469357[_0x152a8e]=_0x10b7b8[_0x152a8e];}),{'featureExtractorMap':_0x4345f9,'classifierMap':_0x2e16bb};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x4b942c,_0x1352ed){const _0x1e3409=_0x2e1d5a;super(_0x4b942c),this[_0x1e3409(0x367)]=_0x1352ed;}get['faceFeatureExtractor'](){const _0x58f7d0=_0x2e1d5a;return this[_0x58f7d0(0x367)];}['runNet'](_0x3e4871){const _0x598276=_0x2e1d5a,{params:_0x165550}=this;if(!_0x165550)throw new Error(this['_name']+'\x20-\x20load\x20model\x20before\x20inference');return tf17[_0x598276(0x3d3)](()=>{const _0x585068=_0x598276,_0x19238a=_0x3e4871 instanceof NetInput?this[_0x585068(0x2b6)][_0x585068(0x1dd)](_0x3e4871):_0x3e4871;return fullyConnectedLayer(_0x19238a[_0x585068(0x2eb)](_0x19238a['shape'][0x0],-0x1),_0x165550['fc']);});}[_0x2e1d5a(0x294)](_0xdfa559=!![]){const _0x3c1400=_0x2e1d5a;this[_0x3c1400(0x2b6)][_0x3c1400(0x294)](_0xdfa559),super[_0x3c1400(0x294)](_0xdfa559);}['loadClassifierParams'](_0x3427f4){const _0x4e202b=_0x2e1d5a,{params:_0x22fa77,paramMappings:_0x44a793}=this[_0x4e202b(0x396)](_0x3427f4);this['_params']=_0x22fa77,this[_0x4e202b(0x232)]=_0x44a793;}[_0x2e1d5a(0x396)](_0x2db3f){const _0x46edf6=_0x2e1d5a;return extractParams2(_0x2db3f,this[_0x46edf6(0x3f2)](),this[_0x46edf6(0x274)]());}[_0x2e1d5a(0x309)](_0x54f762){const _0x4dfa89=_0x2e1d5a,{featureExtractorMap:_0x487e2e,classifierMap:_0x3f67}=seperateWeightMaps(_0x54f762);return this[_0x4dfa89(0x2b6)][_0x4dfa89(0x270)](_0x487e2e),extractParamsFromWeightMap2(_0x3f67);}[_0x2e1d5a(0x26e)](_0x21a90c){const _0x33a85c=_0x2e1d5a,_0xa9a5cb=this[_0x33a85c(0x3f2)](),_0x346838=this[_0x33a85c(0x274)](),_0x4273de=_0x346838*_0xa9a5cb+_0x346838,_0x14e899=_0x21a90c[_0x33a85c(0x1cf)](0x0,_0x21a90c['length']-_0x4273de),_0x2fd011=_0x21a90c[_0x33a85c(0x1cf)](_0x21a90c[_0x33a85c(0x2c8)]-_0x4273de);return this[_0x33a85c(0x2b6)][_0x33a85c(0x352)](_0x14e899),this[_0x33a85c(0x396)](_0x2fd011);}},FACE_EXPRESSION_LABELS=[_0x2e1d5a(0x328),_0x2e1d5a(0x272),_0x2e1d5a(0x358),'angry','fearful',_0x2e1d5a(0x419),_0x2e1d5a(0x31f)],FaceExpressions=class{constructor(_0x5b47c1){const _0x20468b=_0x2e1d5a;this[_0x20468b(0x328)]=0x0,this[_0x20468b(0x272)]=0x0,this[_0x20468b(0x358)]=0x0,this[_0x20468b(0x24f)]=0x0,this['fearful']=0x0,this[_0x20468b(0x419)]=0x0,this['surprised']=0x0;if(_0x5b47c1[_0x20468b(0x2c8)]!==0x7)throw new Error(_0x20468b(0x2d8)+_0x5b47c1[_0x20468b(0x2c8)]);FACE_EXPRESSION_LABELS['forEach']((_0x3bf014,_0x3eade3)=>{this[_0x3bf014]=_0x5b47c1[_0x3eade3];});}[_0x2e1d5a(0x24b)](){const _0x1c5183=_0x2e1d5a;return FACE_EXPRESSION_LABELS['map'](_0x47b5e1=>({'expression':_0x47b5e1,'probability':this[_0x47b5e1]}))[_0x1c5183(0x20a)]((_0x305666,_0x4ab281)=>_0x4ab281['probability']-_0x305666[_0x1c5183(0x323)]);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x3287e4=new FaceFeatureExtractor()){const _0x47a2d3=_0x2e1d5a;super(_0x47a2d3(0x248),_0x3287e4);}[_0x2e1d5a(0x1dd)](_0x5a2fd1){const _0x278e42=_0x2e1d5a;return tf18['tidy'](()=>tf18[_0x278e42(0x300)](this[_0x278e42(0x1ce)](_0x5a2fd1)));}async[_0x2e1d5a(0x3fb)](_0xe77787){return this['forwardInput'](await toNetInput(_0xe77787));}async[_0x2e1d5a(0x201)](_0x329c10){const _0x5ca0c3=_0x2e1d5a,_0x417901=await toNetInput(_0x329c10),_0x40d9b0=await this[_0x5ca0c3(0x1dd)](_0x417901),_0x48d976=await Promise['all'](tf18['unstack'](_0x40d9b0)[_0x5ca0c3(0x39a)](async _0x1f4e97=>{const _0x490567=_0x5ca0c3,_0x71e4eb=_0x1f4e97['dataSync']();return _0x1f4e97[_0x490567(0x294)](),_0x71e4eb;}));_0x40d9b0[_0x5ca0c3(0x294)]();const _0xad7b98=_0x48d976[_0x5ca0c3(0x39a)](_0x4a82d6=>new FaceExpressions(_0x4a82d6));return _0x417901[_0x5ca0c3(0x28b)]?_0xad7b98:_0xad7b98[0x0];}['getDefaultModelName'](){return'face_expression_model';}[_0x2e1d5a(0x3f2)](){return 0x100;}[_0x2e1d5a(0x274)](){return 0x7;}};function isWithFaceExpressions(_0x4d9402){const _0x433a8c=_0x2e1d5a;return _0x4d9402[_0x433a8c(0x3e0)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x1463d0,_0x3a1ee7){const _0x35c336={'expressions':_0x3a1ee7};return{..._0x1463d0,..._0x35c336};}function drawFaceExpressions(_0x184229,_0x3a807d,_0x4ac4b7=0.1,_0x48aa74){const _0xa2a456=_0x2e1d5a,_0x5dfbcc=Array['isArray'](_0x3a807d)?_0x3a807d:[_0x3a807d];_0x5dfbcc[_0xa2a456(0x3ab)](_0x58e8d2=>{const _0x517058=_0xa2a456,_0x2a9ea4=_0x58e8d2 instanceof FaceExpressions?_0x58e8d2:isWithFaceExpressions(_0x58e8d2)?_0x58e8d2['expressions']:void 0x0;if(!_0x2a9ea4)throw new Error(_0x517058(0x40e));const _0x37b50f=_0x2a9ea4[_0x517058(0x24b)](),_0x1c7008=_0x37b50f[_0x517058(0x42c)](_0x1379ce=>_0x1379ce[_0x517058(0x323)]>_0x4ac4b7),_0xa6af3a=isWithFaceDetection(_0x58e8d2)?_0x58e8d2['detection'][_0x517058(0x242)][_0x517058(0x29a)]:_0x48aa74||new Point(0x0,0x0),_0x3f7283=new DrawTextField(_0x1c7008[_0x517058(0x39a)](_0x4ff5e4=>_0x4ff5e4['expression']+'\x20('+round(_0x4ff5e4['probability'])+')'),_0xa6af3a);_0x3f7283[_0x517058(0x255)](_0x184229);});}function isWithFaceLandmarks(_0x2a5e71){const _0x4cd281=_0x2e1d5a;return isWithFaceDetection(_0x2a5e71)&&_0x2a5e71[_0x4cd281(0x40b)]instanceof FaceLandmarks&&_0x2a5e71[_0x4cd281(0x3df)]instanceof FaceLandmarks&&_0x2a5e71['alignedRect']instanceof FaceDetection;}function calculateFaceAngle(_0x6b232d){const _0x325d11=_0x2e1d5a,_0x4f4746=(_0x7b388b,_0x1b8c81,_0x1ceb22,_0x220e4a)=>Math[_0x325d11(0x280)](_0x220e4a-_0x1b8c81,_0x1ceb22-_0x7b388b)%Math['PI'],_0x4f445f=_0x5073e1=>_0x5073e1*0xb4/Math['PI'],_0xade91f={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x6b232d||!_0x6b232d[_0x325d11(0x251)]||_0x6b232d['_positions']['length']!==0x44)return _0xade91f;const _0x1caa5d=_0x6b232d[_0x325d11(0x251)];_0xade91f[_0x325d11(0x385)]=-_0x4f4746(_0x1caa5d[0x24]['_x'],_0x1caa5d[0x24]['_y'],_0x1caa5d[0x2d]['_x'],_0x1caa5d[0x2d]['_y']),_0xade91f[_0x325d11(0x324)]=_0x4f4746(0x0,Math[_0x325d11(0x2d9)](_0x1caa5d[0x0]['_x']-_0x1caa5d[0x1e]['_x'])/_0x1caa5d[0x1e]['_x'],Math['PI'],Math[_0x325d11(0x2d9)](_0x1caa5d[0x10]['_x']-_0x1caa5d[0x1e]['_x'])/_0x1caa5d[0x1e]['_x']);const _0x51080e=_0x1caa5d[_0x325d11(0x228)]((_0x2ccd35,_0x43604f)=>_0x2ccd35<_0x43604f['_y']?_0x2ccd35:_0x43604f['_y'],Infinity),_0x307476=_0x1caa5d[_0x325d11(0x228)]((_0x457848,_0x4bfb25)=>_0x457848>_0x4bfb25['_y']?_0x457848:_0x4bfb25['_y'],-Infinity);return _0xade91f['yaw']=Math['PI']*(_0x6b232d[_0x325d11(0x1f5)]['_height']/(_0x307476-_0x51080e)/1.4-0x1),_0xade91f;}function extendWithFaceLandmarks(_0x1989cc,_0x3db682){const _0x52f723=_0x2e1d5a,{box:_0x49273f}=_0x1989cc[_0x52f723(0x438)],_0x3c35b6=_0x3db682['shiftBy'](_0x49273f['x'],_0x49273f['y']),_0x8795cf=_0x3c35b6[_0x52f723(0x31a)](),{imageDims:_0x1909d1}=_0x1989cc[_0x52f723(0x438)],_0x33195d=new FaceDetection(_0x1989cc[_0x52f723(0x438)][_0x52f723(0x3fd)],_0x8795cf['rescale'](_0x1909d1[_0x52f723(0x1e7)]()),_0x1909d1),_0x58f658=calculateFaceAngle(_0x3db682),_0xf33d9c={'landmarks':_0x3c35b6,'unshiftedLandmarks':_0x3db682,'alignedRect':_0x33195d,'angle':_0x58f658};return{..._0x1989cc,..._0xf33d9c};}var DrawFaceLandmarksOptions=class{constructor(_0x2ef887={}){const _0x8ac5d3=_0x2e1d5a,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x37e18b,lineColor:_0x4a0e6e,pointSize:_0x141139,pointColor:_0x139fe9}=_0x2ef887;this[_0x8ac5d3(0x2ef)]=drawLines,this['drawPoints']=drawPoints,this[_0x8ac5d3(0x3cb)]=_0x37e18b||0x1,this[_0x8ac5d3(0x392)]=_0x141139||0x2,this[_0x8ac5d3(0x435)]=_0x4a0e6e||'rgba(0,\x20255,\x20255,\x201)',this['pointColor']=_0x139fe9||_0x8ac5d3(0x3cc);}},DrawFaceLandmarks=class{constructor(_0xb9da4f,_0x126103={}){const _0x3f00ad=_0x2e1d5a;this[_0x3f00ad(0x21a)]=_0xb9da4f,this['options']=new DrawFaceLandmarksOptions(_0x126103);}[_0x2e1d5a(0x255)](_0x10a5cb){const _0x113fdc=_0x2e1d5a,_0x5bd0c0=getContext2dOrThrow(_0x10a5cb),{drawLines:_0x4b1bac,drawPoints:_0x2352c9,lineWidth:_0x4b1dee,lineColor:_0x3dfaf8,pointSize:_0x29af53,pointColor:_0x2b237a}=this['options'];_0x4b1bac&&this[_0x113fdc(0x21a)]instanceof FaceLandmarks68&&(_0x5bd0c0[_0x113fdc(0x3e5)]=_0x3dfaf8,_0x5bd0c0['lineWidth']=_0x4b1dee,drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)]['getJawOutline']()),drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)]['getLeftEyeBrow']()),drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)][_0x113fdc(0x215)]()),drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)][_0x113fdc(0x3f0)]()),drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)][_0x113fdc(0x20b)](),!![]),drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)]['getRightEye'](),!![]),drawContour(_0x5bd0c0,this[_0x113fdc(0x21a)]['getMouth'](),!![]));if(_0x2352c9){_0x5bd0c0[_0x113fdc(0x3e5)]=_0x2b237a,_0x5bd0c0[_0x113fdc(0x3ce)]=_0x2b237a;const _0x264607=_0x2a3ebe=>{const _0x1ba3e5=_0x113fdc;_0x5bd0c0['beginPath'](),_0x5bd0c0[_0x1ba3e5(0x314)](_0x2a3ebe['x'],_0x2a3ebe['y'],_0x29af53,0x0,0x2*Math['PI']),_0x5bd0c0[_0x1ba3e5(0x2e9)]();};this[_0x113fdc(0x21a)]['positions']['forEach'](_0x264607);}}};function drawFaceLandmarks(_0x3e661c,_0x38a177){const _0x28aca7=_0x2e1d5a,_0x5554a7=Array[_0x28aca7(0x1d6)](_0x38a177)?_0x38a177:[_0x38a177];_0x5554a7[_0x28aca7(0x3ab)](_0x39a370=>{const _0x4a588a=_0x28aca7,_0x4fa4c3=_0x39a370 instanceof FaceLandmarks?_0x39a370:isWithFaceLandmarks(_0x39a370)?_0x39a370[_0x4a588a(0x40b)]:void 0x0;if(!_0x4fa4c3)throw new Error(_0x4a588a(0x390));new DrawFaceLandmarks(_0x4fa4c3)[_0x4a588a(0x255)](_0x3e661c);});}var version=_0x2e1d5a(0x368),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x4585b8,_0x48610b){const _0x1a17ab=extractConvParamsFactory(_0x4585b8,_0x48610b),_0x42fe6d=extractSeparableConvParamsFactory(_0x4585b8,_0x48610b);function _0x5fb63c(_0x2ab78a,_0x503d03,_0xc25a01){const _0x473536=_0x5847,_0x3f9c31=_0x42fe6d(_0x2ab78a,_0x503d03,_0xc25a01+_0x473536(0x1f4)),_0xfb352b=_0x42fe6d(_0x503d03,_0x503d03,_0xc25a01+_0x473536(0x345)),_0x17cb70=_0x1a17ab(_0x2ab78a,_0x503d03,0x1,_0xc25a01+_0x473536(0x3c9));return{'separable_conv0':_0x3f9c31,'separable_conv1':_0xfb352b,'expansion_conv':_0x17cb70};}function _0x9b4b1b(_0x1f1fbc,_0x14431d){const _0x5b87e9=_0x5847,_0x40bec9=_0x42fe6d(_0x1f1fbc,_0x1f1fbc,_0x14431d+_0x5b87e9(0x1f4)),_0x1c2e6e=_0x42fe6d(_0x1f1fbc,_0x1f1fbc,_0x14431d+_0x5b87e9(0x345)),_0x3db1da=_0x42fe6d(_0x1f1fbc,_0x1f1fbc,_0x14431d+_0x5b87e9(0x31c));return{'separable_conv0':_0x40bec9,'separable_conv1':_0x1c2e6e,'separable_conv2':_0x3db1da};}return{'extractConvParams':_0x1a17ab,'extractSeparableConvParams':_0x42fe6d,'extractReductionBlockParams':_0x5fb63c,'extractMainBlockParams':_0x9b4b1b};}function extractParams3(_0x2a6511,_0xe31593){const _0x2d5fba=_0x2e1d5a,_0x1659fb=[],{extractWeights:_0x3c6be9,getRemainingWeights:_0x38cd72}=extractWeightsFactory(_0x2a6511),{extractConvParams:_0x3c228c,extractSeparableConvParams:_0x59fd24,extractReductionBlockParams:_0x370aab,extractMainBlockParams:_0x42793d}=extractorsFactory2(_0x3c6be9,_0x1659fb),_0x47b4c9=_0x3c228c(0x3,0x20,0x3,_0x2d5fba(0x203)),_0x468188=_0x370aab(0x20,0x40,'entry_flow/reduction_block_0'),_0x547118=_0x370aab(0x40,0x80,_0x2d5fba(0x264)),_0x2bee29={'conv_in':_0x47b4c9,'reduction_block_0':_0x468188,'reduction_block_1':_0x547118},_0x4bd426={};range(_0xe31593,0x0,0x1)[_0x2d5fba(0x3ab)](_0x261c77=>{const _0x4c140f=_0x2d5fba;_0x4bd426[_0x4c140f(0x415)+_0x261c77]=_0x42793d(0x80,_0x4c140f(0x3c8)+_0x261c77);});const _0x2b5d92=_0x370aab(0x80,0x100,_0x2d5fba(0x2ea)),_0x44ff6f=_0x59fd24(0x100,0x200,'exit_flow/separable_conv'),_0x3b321c={'reduction_block':_0x2b5d92,'separable_conv':_0x44ff6f};if(_0x38cd72()[_0x2d5fba(0x2c8)]!==0x0)throw new Error(_0x2d5fba(0x430)+_0x38cd72()[_0x2d5fba(0x2c8)]);return{'paramMappings':_0x1659fb,'params':{'entry_flow':_0x2bee29,'middle_flow':_0x4bd426,'exit_flow':_0x3b321c}};}function loadParamsFactory2(_0x5f84ed,_0x57a053){const _0x1cbe0e=extractWeightEntryFactory(_0x5f84ed,_0x57a053),_0x1b1edf=loadConvParamsFactory(_0x1cbe0e),_0x2000b3=loadSeparableConvParamsFactory(_0x1cbe0e);function _0x2c80ff(_0x2e2360){const _0x16b872=_0x5847,_0x50b1f8=_0x2000b3(_0x2e2360+_0x16b872(0x1f4)),_0x5257c2=_0x2000b3(_0x2e2360+_0x16b872(0x345)),_0x13d4ac=_0x1b1edf(_0x2e2360+_0x16b872(0x3c9));return{'separable_conv0':_0x50b1f8,'separable_conv1':_0x5257c2,'expansion_conv':_0x13d4ac};}function _0x25916b(_0x7642d3){const _0xaae28=_0x5847,_0x116ccf=_0x2000b3(_0x7642d3+_0xaae28(0x1f4)),_0x550696=_0x2000b3(_0x7642d3+'/separable_conv1'),_0x55243b=_0x2000b3(_0x7642d3+_0xaae28(0x31c));return{'separable_conv0':_0x116ccf,'separable_conv1':_0x550696,'separable_conv2':_0x55243b};}return{'extractConvParams':_0x1b1edf,'extractSeparableConvParams':_0x2000b3,'extractReductionBlockParams':_0x2c80ff,'extractMainBlockParams':_0x25916b};}function extractParamsFromWeightMap3(_0x4b14ec,_0x5f1542){const _0x4e59f6=_0x2e1d5a,_0x59c06c=[],{extractConvParams:_0x20cafa,extractSeparableConvParams:_0x3525ac,extractReductionBlockParams:_0x1926c9,extractMainBlockParams:_0x5a3759}=loadParamsFactory2(_0x4b14ec,_0x59c06c),_0x28350a=_0x20cafa(_0x4e59f6(0x203)),_0x1f9644=_0x1926c9(_0x4e59f6(0x437)),_0x23bc50=_0x1926c9(_0x4e59f6(0x264)),_0xf6fe5={'conv_in':_0x28350a,'reduction_block_0':_0x1f9644,'reduction_block_1':_0x23bc50},_0x197fa4={};range(_0x5f1542,0x0,0x1)['forEach'](_0x54e878=>{const _0x805e7d=_0x4e59f6;_0x197fa4[_0x805e7d(0x415)+_0x54e878]=_0x5a3759(_0x805e7d(0x3c8)+_0x54e878);});const _0xe00406=_0x1926c9(_0x4e59f6(0x2ea)),_0x599b84=_0x3525ac('exit_flow/separable_conv'),_0x32a43f={'reduction_block':_0xe00406,'separable_conv':_0x599b84};return disposeUnusedWeightTensors(_0x4b14ec,_0x59c06c),{'params':{'entry_flow':_0xf6fe5,'middle_flow':_0x197fa4,'exit_flow':_0x32a43f},'paramMappings':_0x59c06c};}function conv(_0x409c7a,_0x4ed603,_0x53c01f){const _0x221dcf=_0x2e1d5a;return tf19[_0x221dcf(0x307)](tf19[_0x221dcf(0x2ad)](_0x409c7a,_0x4ed603[_0x221dcf(0x2ae)],_0x53c01f,_0x221dcf(0x3b0)),_0x4ed603[_0x221dcf(0x240)]);}function reductionBlock(_0x5af3c2,_0x4d744d,_0x26674a=!![]){const _0x385fc5=_0x2e1d5a;let _0x2e9219=_0x26674a?tf19['relu'](_0x5af3c2):_0x5af3c2;return _0x2e9219=depthwiseSeparableConv(_0x2e9219,_0x4d744d[_0x385fc5(0x2e1)],[0x1,0x1]),_0x2e9219=depthwiseSeparableConv(tf19[_0x385fc5(0x311)](_0x2e9219),_0x4d744d[_0x385fc5(0x204)],[0x1,0x1]),_0x2e9219=tf19[_0x385fc5(0x24c)](_0x2e9219,[0x3,0x3],[0x2,0x2],_0x385fc5(0x3b0)),_0x2e9219=tf19['add'](_0x2e9219,conv(_0x5af3c2,_0x4d744d[_0x385fc5(0x340)],[0x2,0x2])),_0x2e9219;}function mainBlock(_0x1a3867,_0x524638){const _0x6f1465=_0x2e1d5a;let _0x14d6fa=depthwiseSeparableConv(tf19[_0x6f1465(0x311)](_0x1a3867),_0x524638[_0x6f1465(0x2e1)],[0x1,0x1]);return _0x14d6fa=depthwiseSeparableConv(tf19[_0x6f1465(0x311)](_0x14d6fa),_0x524638[_0x6f1465(0x204)],[0x1,0x1]),_0x14d6fa=depthwiseSeparableConv(tf19[_0x6f1465(0x311)](_0x14d6fa),_0x524638[_0x6f1465(0x353)],[0x1,0x1]),_0x14d6fa=tf19['add'](_0x14d6fa,_0x1a3867),_0x14d6fa;}var TinyXception=class extends NeuralNetwork{constructor(_0x18e794){const _0x46fbb9=_0x2e1d5a;super(_0x46fbb9(0x326)),this['_numMainBlocks']=_0x18e794;}[_0x2e1d5a(0x1dd)](_0x18d060){const _0x27c949=_0x2e1d5a,{params:_0x2209a5}=this;if(!_0x2209a5)throw new Error(_0x27c949(0x23c));return tf19[_0x27c949(0x3d3)](()=>{const _0x26dfa3=_0x27c949,_0x4b1648=tf19[_0x26dfa3(0x441)](_0x18d060[_0x26dfa3(0x2f8)](0x70,!![]),_0x26dfa3(0x2c2)),_0x14ebf3=[122.782,117.001,104.298],_0x9950ca=normalize(_0x4b1648,_0x14ebf3)[_0x26dfa3(0x360)](0xff);let _0x41dcff=tf19['relu'](conv(_0x9950ca,_0x2209a5[_0x26dfa3(0x27b)][_0x26dfa3(0x1d7)],[0x2,0x2]));return _0x41dcff=reductionBlock(_0x41dcff,_0x2209a5[_0x26dfa3(0x27b)][_0x26dfa3(0x211)],![]),_0x41dcff=reductionBlock(_0x41dcff,_0x2209a5['entry_flow'][_0x26dfa3(0x28d)]),range(this[_0x26dfa3(0x293)],0x0,0x1)[_0x26dfa3(0x3ab)](_0x320b9d=>{const _0x178aff=_0x26dfa3;_0x41dcff=mainBlock(_0x41dcff,_0x2209a5[_0x178aff(0x2cb)]['main_block_'+_0x320b9d]);}),_0x41dcff=reductionBlock(_0x41dcff,_0x2209a5[_0x26dfa3(0x359)][_0x26dfa3(0x247)]),_0x41dcff=tf19['relu'](depthwiseSeparableConv(_0x41dcff,_0x2209a5['exit_flow']['separable_conv'],[0x1,0x1])),_0x41dcff;});}async[_0x2e1d5a(0x3fb)](_0x2904f9){const _0x37b92f=_0x2e1d5a;return this[_0x37b92f(0x1dd)](await toNetInput(_0x2904f9));}[_0x2e1d5a(0x234)](){const _0x4ac2e9=_0x2e1d5a;return _0x4ac2e9(0x36b);}[_0x2e1d5a(0x309)](_0x5bbaea){const _0x24ba29=_0x2e1d5a;return extractParamsFromWeightMap3(_0x5bbaea,this[_0x24ba29(0x293)]);}[_0x2e1d5a(0x26e)](_0x3ce7ba){const _0x2b5736=_0x2e1d5a;return extractParams3(_0x3ce7ba,this[_0x2b5736(0x293)]);}};function extractParams4(_0x13d915){const _0x1abf12=_0x2e1d5a,_0xa0fc4b=[],{extractWeights:_0x1b27cb,getRemainingWeights:_0x1f00e2}=extractWeightsFactory(_0x13d915),_0x27c940=extractFCParamsFactory(_0x1b27cb,_0xa0fc4b),_0x36d9ca=_0x27c940(0x200,0x1,_0x1abf12(0x38b)),_0x3eb5a3=_0x27c940(0x200,0x2,_0x1abf12(0x342));if(_0x1f00e2()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x1f00e2()[_0x1abf12(0x2c8)]);return{'paramMappings':_0xa0fc4b,'params':{'fc':{'age':_0x36d9ca,'gender':_0x3eb5a3}}};}function extractParamsFromWeightMap4(_0x3add79){const _0x177abd=_0x2e1d5a,_0x8e330f=[],_0x9c49e9=extractWeightEntryFactory(_0x3add79,_0x8e330f);function _0x1bde06(_0x17bf87){const _0x14f05a=_0x5847,_0x5e5435=_0x9c49e9(_0x17bf87+_0x14f05a(0x412),0x2),_0x1c671f=_0x9c49e9(_0x17bf87+_0x14f05a(0x34f),0x1);return{'weights':_0x5e5435,'bias':_0x1c671f};}const _0x4b218e={'fc':{'age':_0x1bde06('fc/age'),'gender':_0x1bde06(_0x177abd(0x342))}};return disposeUnusedWeightTensors(_0x3add79,_0x8e330f),{'params':_0x4b218e,'paramMappings':_0x8e330f};}var Gender=(_0x5a33b3=>{const _0x523acc=_0x2e1d5a;return _0x5a33b3[_0x523acc(0x1e5)]=_0x523acc(0x296),_0x5a33b3[_0x523acc(0x33f)]=_0x523acc(0x292),_0x5a33b3;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x14979e=new TinyXception(0x2)){const _0x59eb67=_0x2e1d5a;super(_0x59eb67(0x361)),this[_0x59eb67(0x367)]=_0x14979e;}get['faceFeatureExtractor'](){const _0x14cfd1=_0x2e1d5a;return this[_0x14cfd1(0x367)];}[_0x2e1d5a(0x1ce)](_0x3e058a){const _0x174b43=_0x2e1d5a,{params:_0x1f8f10}=this;if(!_0x1f8f10)throw new Error(this['_name']+_0x174b43(0x25b));return tf20[_0x174b43(0x3d3)](()=>{const _0x5c4a71=_0x174b43,_0x16265c=_0x3e058a instanceof NetInput?this[_0x5c4a71(0x2b6)][_0x5c4a71(0x1dd)](_0x3e058a):_0x3e058a,_0x2f5cf9=tf20['avgPool'](_0x16265c,[0x7,0x7],[0x2,0x2],'valid')[_0x5c4a71(0x2eb)](_0x16265c[_0x5c4a71(0x42d)][0x0],-0x1),_0x4face8=fullyConnectedLayer(_0x2f5cf9,_0x1f8f10['fc'][_0x5c4a71(0x2a2)])[_0x5c4a71(0x2d6)](),_0x16d132=fullyConnectedLayer(_0x2f5cf9,_0x1f8f10['fc'][_0x5c4a71(0x315)]);return{'age':_0x4face8,'gender':_0x16d132};});}[_0x2e1d5a(0x1dd)](_0x708be9){const _0x234fa0=_0x2e1d5a;return tf20[_0x234fa0(0x3d3)](()=>{const _0x46cfb7=_0x234fa0,{age:_0x4c92d7,gender:_0xa92af}=this[_0x46cfb7(0x1ce)](_0x708be9);return{'age':_0x4c92d7,'gender':tf20[_0x46cfb7(0x300)](_0xa92af)};});}async[_0x2e1d5a(0x3fb)](_0x5e6d64){const _0x597712=_0x2e1d5a;return this[_0x597712(0x1dd)](await toNetInput(_0x5e6d64));}async[_0x2e1d5a(0x2f6)](_0x2788dd){const _0x4cdf40=_0x2e1d5a,_0x1f348f=await toNetInput(_0x2788dd),_0x2bfea1=await this[_0x4cdf40(0x1dd)](_0x1f348f),_0x427693=tf20[_0x4cdf40(0x2de)](_0x2bfea1[_0x4cdf40(0x2a2)]),_0x42170d=tf20[_0x4cdf40(0x2de)](_0x2bfea1[_0x4cdf40(0x315)]),_0x18cd7e=_0x427693[_0x4cdf40(0x39a)]((_0x4874a6,_0x1eff90)=>({'ageTensor':_0x4874a6,'genderTensor':_0x42170d[_0x1eff90]})),_0x1a6952=await Promise[_0x4cdf40(0x3c5)](_0x18cd7e[_0x4cdf40(0x39a)](async({ageTensor:_0x296dfd,genderTensor:_0x398fe6})=>{const _0x1ebf78=_0x4cdf40,_0xa43a2e=_0x296dfd['dataSync']()[0x0],_0x2ce539=_0x398fe6['dataSync']()[0x0],_0x2c78e9=_0x2ce539>0.5,_0x490ce3=_0x2c78e9?_0x1ebf78(0x292):_0x1ebf78(0x296),_0x380ba6=_0x2c78e9?_0x2ce539:0x1-_0x2ce539;return _0x296dfd['dispose'](),_0x398fe6[_0x1ebf78(0x294)](),{'age':_0xa43a2e,'gender':_0x490ce3,'genderProbability':_0x380ba6};}));return _0x2bfea1[_0x4cdf40(0x2a2)][_0x4cdf40(0x294)](),_0x2bfea1['gender']['dispose'](),_0x1f348f[_0x4cdf40(0x28b)]?_0x1a6952:_0x1a6952[0x0];}[_0x2e1d5a(0x234)](){const _0x5b84c8=_0x2e1d5a;return _0x5b84c8(0x3eb);}[_0x2e1d5a(0x294)](_0x58e662=!![]){const _0x242f02=_0x2e1d5a;this[_0x242f02(0x2b6)][_0x242f02(0x294)](_0x58e662),super['dispose'](_0x58e662);}[_0x2e1d5a(0x3bb)](_0x21c0e6){const _0x86e1f5=_0x2e1d5a,{params:_0x4fad58,paramMappings:_0xed397d}=this[_0x86e1f5(0x396)](_0x21c0e6);this[_0x86e1f5(0x22e)]=_0x4fad58,this[_0x86e1f5(0x232)]=_0xed397d;}[_0x2e1d5a(0x396)](_0x306a53){return extractParams4(_0x306a53);}['extractParamsFromWeightMap'](_0x36f9c1){const _0x2f360a=_0x2e1d5a,{featureExtractorMap:_0x3de204,classifierMap:_0x54bb01}=seperateWeightMaps(_0x36f9c1);return this[_0x2f360a(0x2b6)][_0x2f360a(0x270)](_0x3de204),extractParamsFromWeightMap4(_0x54bb01);}[_0x2e1d5a(0x26e)](_0x3d423a){const _0x2a1a95=_0x2e1d5a,_0x2015af=0x200*0x1+0x1+(0x200*0x2+0x2),_0x30c431=_0x3d423a[_0x2a1a95(0x1cf)](0x0,_0x3d423a[_0x2a1a95(0x2c8)]-_0x2015af),_0x20ccf2=_0x3d423a['slice'](_0x3d423a[_0x2a1a95(0x2c8)]-_0x2015af);return this[_0x2a1a95(0x2b6)]['extractWeights'](_0x30c431),this[_0x2a1a95(0x396)](_0x20ccf2);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{[_0x2e1d5a(0x2be)](_0x1949cd,_0x4da80c,_0x3f8743){const _0x1f4af2=_0x2e1d5a,_0x3e7e80=_0x3f8743[_0x1f4af2(0x39a)](({width:_0x38f663,height:_0x1ab725})=>{const _0x2737b4=_0x1f4af2,_0x5c95b2=_0x4da80c/Math[_0x2737b4(0x2ac)](_0x1ab725,_0x38f663);return{'width':_0x38f663*_0x5c95b2,'height':_0x1ab725*_0x5c95b2};}),_0x2f6d53=_0x3e7e80['length'];return tf21['tidy'](()=>{const _0x1fd32a=_0x1f4af2,_0x3695ba=(_0x1e803a,_0x1c8309)=>tf21['stack']([tf21['fill']([0x44],_0x1e803a,'float32'),tf21[_0x1fd32a(0x2e9)]([0x44],_0x1c8309,_0x1fd32a(0x2c2))],0x1)[_0x1fd32a(0x2eb)](0x1,0x88)[_0x1fd32a(0x2d6)](),_0x335d85=(_0x5b597d,_0x25ba7f)=>{const _0x4040c9=_0x1fd32a,{width:_0x4436df,height:_0x454a0d}=_0x3e7e80[_0x5b597d];return _0x25ba7f(_0x4436df,_0x454a0d)?Math[_0x4040c9(0x2d9)](_0x4436df-_0x454a0d)/0x2:0x0;},_0x43f406=_0x1a0a09=>_0x335d85(_0x1a0a09,(_0x14cc8d,_0x527c27)=>_0x14cc8d<_0x527c27),_0x1302f5=_0x53ba5a=>_0x335d85(_0x53ba5a,(_0x49d74b,_0x3d66e8)=>_0x3d66e8<_0x49d74b),_0x385bc6=_0x1949cd[_0x1fd32a(0x422)](tf21['fill']([_0x2f6d53,0x88],_0x4da80c,_0x1fd32a(0x2c2)))[_0x1fd32a(0x290)](tf21[_0x1fd32a(0x337)](Array[_0x1fd32a(0x312)](Array(_0x2f6d53),(_0x346c96,_0x3d878c)=>_0x3695ba(_0x43f406(_0x3d878c),_0x1302f5(_0x3d878c)))))['div'](tf21[_0x1fd32a(0x337)](Array['from'](Array(_0x2f6d53),(_0x5ce67b,_0xe18f3d)=>_0x3695ba(_0x3e7e80[_0xe18f3d][_0x1fd32a(0x3b2)],_0x3e7e80[_0xe18f3d][_0x1fd32a(0x2e0)]))));return _0x385bc6;});}[_0x2e1d5a(0x1dd)](_0x432d8f){const _0x58ef4a=_0x2e1d5a;return tf21[_0x58ef4a(0x3d3)](()=>{const _0x462326=_0x58ef4a,_0x160d4a=this[_0x462326(0x1ce)](_0x432d8f);return this[_0x462326(0x2be)](_0x160d4a,_0x432d8f[_0x462326(0x301)],_0x432d8f[_0x462326(0x213)][_0x462326(0x39a)](([_0x1e0709,_0x47c625])=>({'height':_0x1e0709,'width':_0x47c625})));});}async[_0x2e1d5a(0x3fb)](_0x5d5d9d){const _0x2f8e74=_0x2e1d5a;return this[_0x2f8e74(0x1dd)](await toNetInput(_0x5d5d9d));}async[_0x2e1d5a(0x1e8)](_0x225c7e){const _0x1de6f1=_0x2e1d5a,_0x64a870=await toNetInput(_0x225c7e),_0x47ee3c=tf21[_0x1de6f1(0x3d3)](()=>tf21['unstack'](this[_0x1de6f1(0x1dd)](_0x64a870))),_0x594556=await Promise[_0x1de6f1(0x3c5)](_0x47ee3c[_0x1de6f1(0x39a)](async(_0x49698d,_0x198e07)=>{const _0x26543e=_0x1de6f1,_0x49f84d=Array['from'](_0x49698d[_0x26543e(0x351)]()),_0x192c43=_0x49f84d[_0x26543e(0x42c)]((_0x3cba73,_0x2a5b88)=>isEven(_0x2a5b88)),_0x330e31=_0x49f84d[_0x26543e(0x42c)]((_0xcd0496,_0x26ef4e)=>!isEven(_0x26ef4e));return new FaceLandmarks68(Array(0x44)['fill'](0x0)[_0x26543e(0x39a)]((_0xe286db,_0x50227c)=>new Point(_0x192c43[_0x50227c],_0x330e31[_0x50227c])),{'height':_0x64a870[_0x26543e(0x22f)](_0x198e07),'width':_0x64a870['getInputWidth'](_0x198e07)});}));return _0x47ee3c[_0x1de6f1(0x3ab)](_0x3128de=>_0x3128de[_0x1de6f1(0x294)]()),_0x64a870[_0x1de6f1(0x28b)]?_0x594556:_0x594556[0x0];}[_0x2e1d5a(0x274)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x9459f9=new FaceFeatureExtractor()){const _0x809870=_0x2e1d5a;super(_0x809870(0x365),_0x9459f9);}[_0x2e1d5a(0x234)](){return'face_landmark_68_model';}[_0x2e1d5a(0x3f2)](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x1afeff){const _0x3fd764=_0x2e1d5a,_0x14c784=[],{extractDenseBlock3Params:_0x22ac72}=loadParamsFactory(_0x1afeff,_0x14c784),_0x400962={'dense0':_0x22ac72('dense0',!![]),'dense1':_0x22ac72(_0x3fd764(0x403)),'dense2':_0x22ac72(_0x3fd764(0x3d1))};return disposeUnusedWeightTensors(_0x1afeff,_0x14c784),{'params':_0x400962,'paramMappings':_0x14c784};}function extractParamsTiny(_0x3d603e){const _0x550db6=_0x2e1d5a,_0x4cf41c=[],{extractWeights:_0x37225a,getRemainingWeights:_0x3306ed}=extractWeightsFactory(_0x3d603e),{extractDenseBlock3Params:_0x3aeadc}=extractorsFactory(_0x37225a,_0x4cf41c),_0x9503ad=_0x3aeadc(0x3,0x20,_0x550db6(0x2af),!![]),_0x4d73cc=_0x3aeadc(0x20,0x40,_0x550db6(0x403)),_0x4a5e36=_0x3aeadc(0x40,0x80,_0x550db6(0x3d1));if(_0x3306ed()[_0x550db6(0x2c8)]!==0x0)throw new Error(_0x550db6(0x430)+_0x3306ed()[_0x550db6(0x2c8)]);return{'paramMappings':_0x4cf41c,'params':{'dense0':_0x9503ad,'dense1':_0x4d73cc,'dense2':_0x4a5e36}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x4426fc=_0x2e1d5a;super(_0x4426fc(0x1ec));}[_0x2e1d5a(0x1dd)](_0x3fa14d){const _0x1a36b3=_0x2e1d5a,{params:_0x44ba2d}=this;if(!_0x44ba2d)throw new Error(_0x1a36b3(0x388));return tf22[_0x1a36b3(0x3d3)](()=>{const _0x3f373f=_0x1a36b3,_0x1cbecf=tf22[_0x3f373f(0x441)](_0x3fa14d[_0x3f373f(0x2f8)](0x70,!![]),_0x3f373f(0x2c2)),_0x4ddbd9=[122.782,117.001,104.298],_0x20fa8f=normalize(_0x1cbecf,_0x4ddbd9)[_0x3f373f(0x360)](0xff);let _0x1b55d3=denseBlock3(_0x20fa8f,_0x44ba2d[_0x3f373f(0x2af)],!![]);return _0x1b55d3=denseBlock3(_0x1b55d3,_0x44ba2d[_0x3f373f(0x403)]),_0x1b55d3=denseBlock3(_0x1b55d3,_0x44ba2d[_0x3f373f(0x3d1)]),_0x1b55d3=tf22[_0x3f373f(0x2a9)](_0x1b55d3,[0xe,0xe],[0x2,0x2],'valid'),_0x1b55d3;});}async['forward'](_0x368ee0){return this['forwardInput'](await toNetInput(_0x368ee0));}[_0x2e1d5a(0x234)](){const _0x466a2b=_0x2e1d5a;return _0x466a2b(0x3e2);}[_0x2e1d5a(0x309)](_0x18b0c6){return extractParamsFromWeightMapTiny(_0x18b0c6);}[_0x2e1d5a(0x26e)](_0x191707){return extractParamsTiny(_0x191707);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x170d64=new TinyFaceFeatureExtractor()){const _0x2d9edd=_0x2e1d5a;super(_0x2d9edd(0x254),_0x170d64);}[_0x2e1d5a(0x234)](){const _0x1953bd=_0x2e1d5a;return _0x1953bd(0x3d0);}[_0x2e1d5a(0x3f2)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x34cf11,_0x48d986){const _0x22add5=_0x2e1d5a;return tf23[_0x22add5(0x307)](tf23[_0x22add5(0x422)](_0x34cf11,_0x48d986[_0x22add5(0x262)]),_0x48d986[_0x22add5(0x349)]);}function convLayer2(_0x3a5377,_0x220484,_0x18b477,_0x4fd544,_0x40e2ab=_0x2e1d5a(0x3b0)){const _0x460f3f=_0x2e1d5a,{filters:_0x6e21ec,bias:_0x13d9f1}=_0x220484[_0x460f3f(0x244)];let _0x297293=tf24['conv2d'](_0x3a5377,_0x6e21ec,_0x18b477,_0x40e2ab);return _0x297293=tf24[_0x460f3f(0x307)](_0x297293,_0x13d9f1),_0x297293=scale(_0x297293,_0x220484[_0x460f3f(0x27f)]),_0x4fd544?tf24[_0x460f3f(0x311)](_0x297293):_0x297293;}function conv2(_0x20b8c3,_0x5315e9){return convLayer2(_0x20b8c3,_0x5315e9,[0x1,0x1],!![]);}function convNoRelu(_0x17d0ec,_0x26b09a){return convLayer2(_0x17d0ec,_0x26b09a,[0x1,0x1],![]);}function convDown(_0x3bf19d,_0x501f98){const _0x34ad14=_0x2e1d5a;return convLayer2(_0x3bf19d,_0x501f98,[0x2,0x2],!![],_0x34ad14(0x2b7));}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x126194,_0x202609){function _0x52ead0(_0x177fb7,_0x5448c9,_0x5d54a0){const _0x2a2f5f=_0x5847,_0x36afb5=_0x126194(_0x177fb7),_0x2a0132=_0x36afb5['length']/(_0x5448c9*_0x5d54a0*_0x5d54a0);if(isFloat(_0x2a0132))throw new Error(_0x2a2f5f(0x3f4)+_0x2a0132+_0x2a2f5f(0x2c0)+_0x36afb5['length']+',\x20numFilters:\x20'+_0x5448c9+',\x20filterSize:\x20'+_0x5d54a0);return tf25['tidy'](()=>tf25['transpose'](tf25[_0x2a2f5f(0x24a)](_0x36afb5,[_0x5448c9,_0x2a0132,_0x5d54a0,_0x5d54a0]),[0x2,0x3,0x1,0x0]));}function _0x13a04e(_0x92612c,_0x8ea812,_0x31f946,_0x2df77b){const _0x36a7b1=_0x5847,_0x58b274=_0x52ead0(_0x92612c,_0x8ea812,_0x31f946),_0x32c74f=tf25['tensor1d'](_0x126194(_0x8ea812));return _0x202609[_0x36a7b1(0x1cc)]({'paramPath':_0x2df77b+'/filters'},{'paramPath':_0x2df77b+_0x36a7b1(0x34f)}),{'filters':_0x58b274,'bias':_0x32c74f};}function _0x43f0f6(_0x3928ae,_0x16aaa9){const _0x31a151=_0x5847,_0x3a5e13=tf25[_0x31a151(0x2ab)](_0x126194(_0x3928ae)),_0x359bad=tf25['tensor1d'](_0x126194(_0x3928ae));return _0x202609[_0x31a151(0x1cc)]({'paramPath':_0x16aaa9+_0x31a151(0x412)},{'paramPath':_0x16aaa9+'/biases'}),{'weights':_0x3a5e13,'biases':_0x359bad};}function _0x584129(_0xbbc77a,_0x3b5291,_0x4e3f98,_0x4a1ef9){const _0x7255ae=_0x5847,_0x351fd1=_0x13a04e(_0xbbc77a,_0x3b5291,_0x4e3f98,_0x4a1ef9+_0x7255ae(0x25a)),_0x338154=_0x43f0f6(_0x3b5291,_0x4a1ef9+_0x7255ae(0x338));return{'conv':_0x351fd1,'scale':_0x338154};}function _0x42ea53(_0x100260,_0x2807dd,_0x397217,_0x178168,_0x17b691=![]){const _0x3b6ffb=_0x5847,_0x58af18=_0x584129((_0x17b691?0.5:0x1)*_0x100260,_0x2807dd,_0x397217,_0x178168+_0x3b6ffb(0x3da)),_0x372d51=_0x584129(_0x100260,_0x2807dd,_0x397217,_0x178168+'/conv2');return{'conv1':_0x58af18,'conv2':_0x372d51};}return{'extractConvLayerParams':_0x584129,'extractResidualLayerParams':_0x42ea53};}function extractParams5(_0x44c7a3){const _0x238b95=_0x2e1d5a,{extractWeights:_0x410607,getRemainingWeights:_0xc194af}=extractWeightsFactory(_0x44c7a3),_0x398c2f=[],{extractConvLayerParams:_0x32ba87,extractResidualLayerParams:_0x8124f8}=extractorsFactory3(_0x410607,_0x398c2f),_0x51005e=_0x32ba87(0x1260,0x20,0x7,_0x238b95(0x39d)),_0x3c4e0b=_0x8124f8(0x2400,0x20,0x3,_0x238b95(0x3ad)),_0xc5f5e3=_0x8124f8(0x2400,0x20,0x3,'conv32_2'),_0x285a3a=_0x8124f8(0x2400,0x20,0x3,_0x238b95(0x256)),_0x1c3c0c=_0x8124f8(0x9000,0x40,0x3,_0x238b95(0x2f1),!![]),_0x3a0580=_0x8124f8(0x9000,0x40,0x3,_0x238b95(0x39c)),_0x356b12=_0x8124f8(0x9000,0x40,0x3,_0x238b95(0x2fe)),_0x4d2f48=_0x8124f8(0x9000,0x40,0x3,_0x238b95(0x35c)),_0x2bc937=_0x8124f8(0x24000,0x80,0x3,_0x238b95(0x2cc),!![]),_0x565671=_0x8124f8(0x24000,0x80,0x3,'conv128_1'),_0x1ee39e=_0x8124f8(0x24000,0x80,0x3,_0x238b95(0x27e)),_0x3f151f=_0x8124f8(0x90000,0x100,0x3,_0x238b95(0x3ed),!![]),_0x361def=_0x8124f8(0x90000,0x100,0x3,'conv256_1'),_0x1e0ade=_0x8124f8(0x90000,0x100,0x3,'conv256_2'),_0x4e507e=_0x8124f8(0x90000,0x100,0x3,_0x238b95(0x411)),_0x3b81d6=tf25['tidy'](()=>tf25[_0x238b95(0x1d3)](tf25[_0x238b95(0x2a5)](_0x410607(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x398c2f['push']({'paramPath':'fc'});if(_0xc194af()['length']!==0x0)throw new Error(_0x238b95(0x430)+_0xc194af()['length']);const _0x2e7603={'conv32_down':_0x51005e,'conv32_1':_0x3c4e0b,'conv32_2':_0xc5f5e3,'conv32_3':_0x285a3a,'conv64_down':_0x1c3c0c,'conv64_1':_0x3a0580,'conv64_2':_0x356b12,'conv64_3':_0x4d2f48,'conv128_down':_0x2bc937,'conv128_1':_0x565671,'conv128_2':_0x1ee39e,'conv256_down':_0x3f151f,'conv256_1':_0x361def,'conv256_2':_0x1e0ade,'conv256_down_out':_0x4e507e,'fc':_0x3b81d6};return{'params':_0x2e7603,'paramMappings':_0x398c2f};}function extractorsFactory4(_0xbf63e5,_0x45f1c3){const _0x2b2e84=extractWeightEntryFactory(_0xbf63e5,_0x45f1c3);function _0x21cae5(_0x48519e){const _0x51c2ee=_0x5847,_0x497da1=_0x2b2e84(_0x48519e+_0x51c2ee(0x32b),0x1),_0x5d14cf=_0x2b2e84(_0x48519e+'/scale/biases',0x1);return{'weights':_0x497da1,'biases':_0x5d14cf};}function _0x107bb3(_0x9803a9){const _0x177d14=_0x5847,_0x4844aa=_0x2b2e84(_0x9803a9+_0x177d14(0x286),0x4),_0x46a9eb=_0x2b2e84(_0x9803a9+_0x177d14(0x30c),0x1),_0x31abf3=_0x21cae5(_0x9803a9);return{'conv':{'filters':_0x4844aa,'bias':_0x46a9eb},'scale':_0x31abf3};}function _0x491bc6(_0x106ef7){const _0x52882f=_0x5847;return{'conv1':_0x107bb3(_0x106ef7+'/conv1'),'conv2':_0x107bb3(_0x106ef7+_0x52882f(0x33c))};}return{'extractConvLayerParams':_0x107bb3,'extractResidualLayerParams':_0x491bc6};}function extractParamsFromWeightMap5(_0x25ece0){const _0xae1c04=_0x2e1d5a,_0x1a46d2=[],{extractConvLayerParams:_0x4b287e,extractResidualLayerParams:_0x26879b}=extractorsFactory4(_0x25ece0,_0x1a46d2),_0x298de3=_0x4b287e(_0xae1c04(0x39d)),_0x1ed587=_0x26879b('conv32_1'),_0x4f61ba=_0x26879b(_0xae1c04(0x366)),_0x4c15fc=_0x26879b('conv32_3'),_0x37d5c6=_0x26879b(_0xae1c04(0x2f1)),_0x1a030e=_0x26879b('conv64_1'),_0x2ffa92=_0x26879b('conv64_2'),_0x21c34c=_0x26879b(_0xae1c04(0x35c)),_0x289189=_0x26879b('conv128_down'),_0x36f894=_0x26879b(_0xae1c04(0x246)),_0x99ed9d=_0x26879b(_0xae1c04(0x27e)),_0x2824bf=_0x26879b(_0xae1c04(0x3ed)),_0x62bec4=_0x26879b('conv256_1'),_0x40f828=_0x26879b(_0xae1c04(0x24d)),_0x10d0c3=_0x26879b('conv256_down_out'),{fc:_0x460ddd}=_0x25ece0;_0x1a46d2[_0xae1c04(0x1cc)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x460ddd))throw new Error(_0xae1c04(0x23a)+_0x460ddd);const _0x20870b={'conv32_down':_0x298de3,'conv32_1':_0x1ed587,'conv32_2':_0x4f61ba,'conv32_3':_0x4c15fc,'conv64_down':_0x37d5c6,'conv64_1':_0x1a030e,'conv64_2':_0x2ffa92,'conv64_3':_0x21c34c,'conv128_down':_0x289189,'conv128_1':_0x36f894,'conv128_2':_0x99ed9d,'conv256_down':_0x2824bf,'conv256_1':_0x62bec4,'conv256_2':_0x40f828,'conv256_down_out':_0x10d0c3,'fc':_0x460ddd};return disposeUnusedWeightTensors(_0x25ece0,_0x1a46d2),{'params':_0x20870b,'paramMappings':_0x1a46d2};}var tf26=__toESM(require_tfjs_esm());function residual(_0x361559,_0x5ed935){const _0x332762=_0x2e1d5a;let _0x4582dd=conv2(_0x361559,_0x5ed935['conv1']);return _0x4582dd=convNoRelu(_0x4582dd,_0x5ed935[_0x332762(0x2ce)]),_0x4582dd=tf26[_0x332762(0x307)](_0x4582dd,_0x361559),_0x4582dd=tf26[_0x332762(0x311)](_0x4582dd),_0x4582dd;}function residualDown(_0x5e4990,_0x3e560c){const _0x1159bc=_0x2e1d5a;let _0x2b632a=convDown(_0x5e4990,_0x3e560c[_0x1159bc(0x30b)]);_0x2b632a=convNoRelu(_0x2b632a,_0x3e560c[_0x1159bc(0x2ce)]);let _0x1a6ae=tf26[_0x1159bc(0x2a9)](_0x5e4990,0x2,0x2,_0x1159bc(0x2b7));const _0x40a4ba=tf26['zeros'](_0x1a6ae[_0x1159bc(0x42d)]),_0x584a1e=_0x1a6ae[_0x1159bc(0x42d)][0x3]!==_0x2b632a[_0x1159bc(0x42d)][0x3],_0x578ca0=_0x1a6ae[_0x1159bc(0x42d)][0x1]!==_0x2b632a[_0x1159bc(0x42d)][0x1]||_0x1a6ae[_0x1159bc(0x42d)][0x2]!==_0x2b632a[_0x1159bc(0x42d)][0x2];if(_0x578ca0){const _0x592dc8=[..._0x2b632a[_0x1159bc(0x42d)]];_0x592dc8[0x1]=0x1;const _0x201431=tf26[_0x1159bc(0x335)](_0x592dc8);_0x2b632a=tf26[_0x1159bc(0x409)]([_0x2b632a,_0x201431],0x1);const _0x67dc49=[..._0x2b632a[_0x1159bc(0x42d)]];_0x67dc49[0x2]=0x1;const _0x57b59d=tf26[_0x1159bc(0x335)](_0x67dc49);_0x2b632a=tf26[_0x1159bc(0x409)]([_0x2b632a,_0x57b59d],0x2);}return _0x1a6ae=_0x584a1e?tf26[_0x1159bc(0x409)]([_0x1a6ae,_0x40a4ba],0x3):_0x1a6ae,_0x2b632a=tf26['add'](_0x1a6ae,_0x2b632a),_0x2b632a=tf26[_0x1159bc(0x311)](_0x2b632a),_0x2b632a;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x5dd511=_0x2e1d5a;super(_0x5dd511(0x3f1));}[_0x2e1d5a(0x1dd)](_0x4241b6){const _0x125714=_0x2e1d5a,{params:_0x48589b}=this;if(!_0x48589b)throw new Error(_0x125714(0x1cb));return tf27[_0x125714(0x3d3)](()=>{const _0x5e2d6e=_0x125714,_0x145c44=tf27['cast'](_0x4241b6['toBatchTensor'](0x96,!![]),_0x5e2d6e(0x2c2)),_0x1d0464=[122.782,117.001,104.298],_0x24963e=normalize(_0x145c44,_0x1d0464)[_0x5e2d6e(0x360)](0xff);let _0x193d85=convDown(_0x24963e,_0x48589b[_0x5e2d6e(0x39d)]);_0x193d85=tf27[_0x5e2d6e(0x24c)](_0x193d85,0x3,0x2,_0x5e2d6e(0x2b7)),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x3ad)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x366)]),_0x193d85=residual(_0x193d85,_0x48589b['conv32_3']),_0x193d85=residualDown(_0x193d85,_0x48589b[_0x5e2d6e(0x2f1)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x39c)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x2fe)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x35c)]),_0x193d85=residualDown(_0x193d85,_0x48589b[_0x5e2d6e(0x2cc)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x246)]),_0x193d85=residual(_0x193d85,_0x48589b['conv128_2']),_0x193d85=residualDown(_0x193d85,_0x48589b[_0x5e2d6e(0x3ed)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x38e)]),_0x193d85=residual(_0x193d85,_0x48589b[_0x5e2d6e(0x24d)]),_0x193d85=residualDown(_0x193d85,_0x48589b[_0x5e2d6e(0x411)]);const _0x43c91c=_0x193d85[_0x5e2d6e(0x3e7)]([0x1,0x2]),_0x2594bf=tf27['matMul'](_0x43c91c,_0x48589b['fc']);return _0x2594bf;});}async[_0x2e1d5a(0x3fb)](_0x4f3f3d){const _0x2dd676=_0x2e1d5a;return this[_0x2dd676(0x1dd)](await toNetInput(_0x4f3f3d));}async[_0x2e1d5a(0x22c)](_0x4d087e){const _0x2a0717=_0x2e1d5a;var _0x1af816;if((_0x1af816=_0x4d087e==null?void 0x0:_0x4d087e[_0x2a0717(0x42d)])==null?void 0x0:_0x1af816[_0x2a0717(0x41e)](_0x1a09f0=>_0x1a09f0<=0x0))return new Float32Array(0x80);const _0x170291=await toNetInput(_0x4d087e),_0x2391c7=tf27['tidy'](()=>tf27[_0x2a0717(0x2de)](this[_0x2a0717(0x1dd)](_0x170291))),_0x3bd9eb=await Promise[_0x2a0717(0x3c5)](_0x2391c7[_0x2a0717(0x39a)](_0x221a68=>_0x221a68[_0x2a0717(0x3a2)]()));return _0x2391c7['forEach'](_0x508b7f=>_0x508b7f[_0x2a0717(0x294)]()),_0x170291['isBatchInput']?_0x3bd9eb:_0x3bd9eb[0x0];}[_0x2e1d5a(0x234)](){const _0x951ffe=_0x2e1d5a;return _0x951ffe(0x3aa);}[_0x2e1d5a(0x309)](_0x2db341){return extractParamsFromWeightMap5(_0x2db341);}[_0x2e1d5a(0x26e)](_0x287547){return extractParams5(_0x287547);}};function createFaceRecognitionNet(_0x2bbd99){const _0x5e9489=_0x2e1d5a,_0xed58be=new FaceRecognitionNet();return _0xed58be[_0x5e9489(0x352)](_0x2bbd99),_0xed58be;}function extendWithFaceDescriptor(_0xadcdb,_0x4c6409){const _0x494ccb={'descriptor':_0x4c6409};return{..._0xadcdb,..._0x494ccb};}function isWithAge(_0x1735f0){const _0x267ed9=_0x2e1d5a;return typeof _0x1735f0[_0x267ed9(0x2a2)]==='number';}function extendWithAge(_0x37d497,_0x2f8ef2){const _0x3a1b09={'age':_0x2f8ef2};return{..._0x37d497,..._0x3a1b09};}function isWithGender(_0x439f7a){const _0x55b16c=_0x2e1d5a;return(_0x439f7a['gender']===_0x55b16c(0x292)||_0x439f7a[_0x55b16c(0x315)]===_0x55b16c(0x296))&&isValidProbablitiy(_0x439f7a['genderProbability']);}function extendWithGender(_0x3ac057,_0x119e30,_0x3dc6ab){const _0x3e498c={'gender':_0x119e30,'genderProbability':_0x3dc6ab};return{..._0x3ac057,..._0x3e498c};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x3f8a2f,_0x16a30f){function _0x23eb00(_0x9b4bc5,_0x59b240){const _0xe8bf5b=_0x5847,_0x7f6226=tf28[_0xe8bf5b(0x24a)](_0x3f8a2f(0x3*0x3*_0x9b4bc5),[0x3,0x3,_0x9b4bc5,0x1]),_0x3ddb37=tf28[_0xe8bf5b(0x2ab)](_0x3f8a2f(_0x9b4bc5)),_0x4f02a9=tf28[_0xe8bf5b(0x2ab)](_0x3f8a2f(_0x9b4bc5)),_0x40b88d=tf28[_0xe8bf5b(0x2ab)](_0x3f8a2f(_0x9b4bc5)),_0x3832be=tf28['tensor1d'](_0x3f8a2f(_0x9b4bc5));return _0x16a30f[_0xe8bf5b(0x1cc)]({'paramPath':_0x59b240+'/filters'},{'paramPath':_0x59b240+_0xe8bf5b(0x306)},{'paramPath':_0x59b240+_0xe8bf5b(0x32e)},{'paramPath':_0x59b240+_0xe8bf5b(0x40a)},{'paramPath':_0x59b240+'/batch_norm_variance'}),{'filters':_0x7f6226,'batch_norm_scale':_0x3ddb37,'batch_norm_offset':_0x4f02a9,'batch_norm_mean':_0x40b88d,'batch_norm_variance':_0x3832be};}function _0x5bdd3f(_0x529ab3,_0xbff7b9,_0x3410dc,_0x22c791,_0x2dba46){const _0x25ce55=_0x5847,_0x149d73=tf28[_0x25ce55(0x24a)](_0x3f8a2f(_0x529ab3*_0xbff7b9*_0x3410dc*_0x3410dc),[_0x3410dc,_0x3410dc,_0x529ab3,_0xbff7b9]),_0x491ecd=tf28['tensor1d'](_0x3f8a2f(_0xbff7b9));return _0x16a30f['push']({'paramPath':_0x22c791+_0x25ce55(0x1ff)},{'paramPath':_0x22c791+'/'+(_0x2dba46?_0x25ce55(0x21e):_0x25ce55(0x240))}),{'filters':_0x149d73,'bias':_0x491ecd};}function _0x27c947(_0x573edb,_0x5568f6,_0x46c904,_0x99297a){const {filters:_0x2d5daf,bias:_0x3913a3}=_0x5bdd3f(_0x573edb,_0x5568f6,_0x46c904,_0x99297a,!![]);return{'filters':_0x2d5daf,'batch_norm_offset':_0x3913a3};}function _0x2f9604(_0x5ea969,_0x13d94c,_0x5c369c){const _0x4bbb1b=_0x5847,_0x14ad5b=_0x23eb00(_0x5ea969,_0x5c369c+_0x4bbb1b(0x2c6)),_0x241a66=_0x27c947(_0x5ea969,_0x13d94c,0x1,_0x5c369c+'/pointwise_conv');return{'depthwise_conv':_0x14ad5b,'pointwise_conv':_0x241a66};}function _0x313db3(){const _0x62b4b6=_0x5847,_0x3ccb50=_0x27c947(0x3,0x20,0x3,'mobilenetv1/conv_0'),_0xfe9db=_0x2f9604(0x20,0x40,_0x62b4b6(0x30a)),_0x387cc3=_0x2f9604(0x40,0x80,_0x62b4b6(0x2d3)),_0x460e55=_0x2f9604(0x80,0x80,_0x62b4b6(0x28a)),_0x207496=_0x2f9604(0x80,0x100,_0x62b4b6(0x343)),_0x2e386f=_0x2f9604(0x100,0x100,'mobilenetv1/conv_5'),_0xb04a81=_0x2f9604(0x100,0x200,_0x62b4b6(0x2dd)),_0x26cf44=_0x2f9604(0x200,0x200,_0x62b4b6(0x387)),_0x4b2a77=_0x2f9604(0x200,0x200,'mobilenetv1/conv_8'),_0x25c6d7=_0x2f9604(0x200,0x200,_0x62b4b6(0x269)),_0x52b085=_0x2f9604(0x200,0x200,'mobilenetv1/conv_10'),_0x1652df=_0x2f9604(0x200,0x200,_0x62b4b6(0x259)),_0xf46d0d=_0x2f9604(0x200,0x400,_0x62b4b6(0x214)),_0xb5f999=_0x2f9604(0x400,0x400,_0x62b4b6(0x1da));return{'conv_0':_0x3ccb50,'conv_1':_0xfe9db,'conv_2':_0x387cc3,'conv_3':_0x460e55,'conv_4':_0x207496,'conv_5':_0x2e386f,'conv_6':_0xb04a81,'conv_7':_0x26cf44,'conv_8':_0x4b2a77,'conv_9':_0x25c6d7,'conv_10':_0x52b085,'conv_11':_0x1652df,'conv_12':_0xf46d0d,'conv_13':_0xb5f999};}function _0x2774b5(){const _0x2dcfd5=_0x5847,_0x2652fd=_0x27c947(0x400,0x100,0x1,_0x2dcfd5(0x374)),_0x16ec51=_0x27c947(0x100,0x200,0x3,'prediction_layer/conv_1'),_0xe7b008=_0x27c947(0x200,0x80,0x1,_0x2dcfd5(0x424)),_0x523d9c=_0x27c947(0x80,0x100,0x3,_0x2dcfd5(0x202)),_0x459217=_0x27c947(0x100,0x80,0x1,'prediction_layer/conv_4'),_0x2ec9f0=_0x27c947(0x80,0x100,0x3,_0x2dcfd5(0x375)),_0x26846a=_0x27c947(0x100,0x40,0x1,'prediction_layer/conv_6'),_0x3007ed=_0x27c947(0x40,0x80,0x3,_0x2dcfd5(0x31d)),_0x46b52c=_0x5bdd3f(0x200,0xc,0x1,_0x2dcfd5(0x3c7)),_0x41121e=_0x5bdd3f(0x200,0x9,0x1,_0x2dcfd5(0x35a)),_0x43f16c=_0x5bdd3f(0x400,0x18,0x1,_0x2dcfd5(0x34e)),_0xb0f9d8=_0x5bdd3f(0x400,0x12,0x1,'prediction_layer/box_predictor_1/class_predictor'),_0x1609a0=_0x5bdd3f(0x200,0x18,0x1,_0x2dcfd5(0x336)),_0x2786e9=_0x5bdd3f(0x200,0x12,0x1,_0x2dcfd5(0x236)),_0x194e57=_0x5bdd3f(0x100,0x18,0x1,_0x2dcfd5(0x1de)),_0x36b072=_0x5bdd3f(0x100,0x12,0x1,'prediction_layer/box_predictor_3/class_predictor'),_0x336da1=_0x5bdd3f(0x100,0x18,0x1,_0x2dcfd5(0x1f8)),_0x632575=_0x5bdd3f(0x100,0x12,0x1,_0x2dcfd5(0x2d7)),_0xc578b=_0x5bdd3f(0x80,0x18,0x1,_0x2dcfd5(0x241)),_0x1c4c25=_0x5bdd3f(0x80,0x12,0x1,_0x2dcfd5(0x355)),_0x473988={'box_encoding_predictor':_0x46b52c,'class_predictor':_0x41121e},_0x5e0a43={'box_encoding_predictor':_0x43f16c,'class_predictor':_0xb0f9d8},_0x4d6a2e={'box_encoding_predictor':_0x1609a0,'class_predictor':_0x2786e9},_0x59d63a={'box_encoding_predictor':_0x194e57,'class_predictor':_0x36b072},_0x195ce1={'box_encoding_predictor':_0x336da1,'class_predictor':_0x632575},_0x18d4a9={'box_encoding_predictor':_0xc578b,'class_predictor':_0x1c4c25};return{'conv_0':_0x2652fd,'conv_1':_0x16ec51,'conv_2':_0xe7b008,'conv_3':_0x523d9c,'conv_4':_0x459217,'conv_5':_0x2ec9f0,'conv_6':_0x26846a,'conv_7':_0x3007ed,'box_predictor_0':_0x473988,'box_predictor_1':_0x5e0a43,'box_predictor_2':_0x4d6a2e,'box_predictor_3':_0x59d63a,'box_predictor_4':_0x195ce1,'box_predictor_5':_0x18d4a9};}return{'extractMobilenetV1Params':_0x313db3,'extractPredictionLayerParams':_0x2774b5};}function extractParams6(_0x2b8d86){const _0xbbd095=_0x2e1d5a,_0x1e64e1=[],{extractWeights:_0x56ea00,getRemainingWeights:_0x2745ba}=extractWeightsFactory(_0x2b8d86),{extractMobilenetV1Params:_0x2c7faf,extractPredictionLayerParams:_0x411f96}=extractorsFactory5(_0x56ea00,_0x1e64e1),_0x59ccf3=_0x2c7faf(),_0x4cd3f2=_0x411f96(),_0x2bbdd2=tf28['tensor3d'](_0x56ea00(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x163595={'extra_dim':_0x2bbdd2};_0x1e64e1['push']({'paramPath':_0xbbd095(0x2f4)});if(_0x2745ba()[_0xbbd095(0x2c8)]!==0x0)throw new Error(_0xbbd095(0x430)+_0x2745ba()[_0xbbd095(0x2c8)]);return{'params':{'mobilenetv1':_0x59ccf3,'prediction_layer':_0x4cd3f2,'output_layer':_0x163595},'paramMappings':_0x1e64e1};}function extractorsFactory6(_0x38987d,_0x52335e){const _0x29397b=extractWeightEntryFactory(_0x38987d,_0x52335e);function _0x3ade34(_0x346e78,_0x48629f,_0x497c01){const _0x2bd5c1=_0x5847,_0x6df4c=_0x29397b(_0x346e78+_0x2bd5c1(0x1c6)+_0x48629f+_0x2bd5c1(0x381),0x4,_0x497c01+'/filters'),_0x43718f=_0x29397b(_0x346e78+_0x2bd5c1(0x1c6)+_0x48629f+'_pointwise/convolution_bn_offset',0x1,_0x497c01+_0x2bd5c1(0x32e));return{'filters':_0x6df4c,'batch_norm_offset':_0x43718f};}function _0x153600(_0x114521){const _0x483d5e=_0x5847,_0xec1153='mobilenetv1/conv_'+_0x114521,_0x4ec39b=_0x483d5e(0x325)+_0x114521+_0x483d5e(0x261),_0x32c4d2=_0xec1153+_0x483d5e(0x2c6),_0x528bd1=_0xec1153+'/pointwise_conv',_0x4e1c3d=_0x29397b(_0x4ec39b+'/depthwise_weights',0x4,_0x32c4d2+_0x483d5e(0x1ff)),_0x4ef12a=_0x29397b(_0x4ec39b+_0x483d5e(0x21c),0x1,_0x32c4d2+_0x483d5e(0x306)),_0x38505d=_0x29397b(_0x4ec39b+_0x483d5e(0x3d7),0x1,_0x32c4d2+'/batch_norm_offset'),_0x59148a=_0x29397b(_0x4ec39b+_0x483d5e(0x2a6),0x1,_0x32c4d2+'/batch_norm_mean'),_0x425484=_0x29397b(_0x4ec39b+_0x483d5e(0x2e5),0x1,_0x32c4d2+_0x483d5e(0x30d));return{'depthwise_conv':{'filters':_0x4e1c3d,'batch_norm_scale':_0x4ef12a,'batch_norm_offset':_0x38505d,'batch_norm_mean':_0x59148a,'batch_norm_variance':_0x425484},'pointwise_conv':_0x3ade34(_0x483d5e(0x28f),_0x114521,_0x528bd1)};}function _0x4912b4(){return{'conv_0':_0x3ade34('MobilenetV1',0x0,'mobilenetv1/conv_0'),'conv_1':_0x153600(0x1),'conv_2':_0x153600(0x2),'conv_3':_0x153600(0x3),'conv_4':_0x153600(0x4),'conv_5':_0x153600(0x5),'conv_6':_0x153600(0x6),'conv_7':_0x153600(0x7),'conv_8':_0x153600(0x8),'conv_9':_0x153600(0x9),'conv_10':_0x153600(0xa),'conv_11':_0x153600(0xb),'conv_12':_0x153600(0xc),'conv_13':_0x153600(0xd)};}function _0x5a9d5f(_0x2c76c5,_0x4594d5){const _0x2e6499=_0x5847,_0x47be78=_0x29397b(_0x2c76c5+_0x2e6499(0x412),0x4,_0x4594d5+_0x2e6499(0x1ff)),_0x361824=_0x29397b(_0x2c76c5+'/biases',0x1,_0x4594d5+_0x2e6499(0x34f));return{'filters':_0x47be78,'bias':_0x361824};}function _0x2c954b(_0x201ba6){const _0x49230a=_0x5847,_0x426560=_0x5a9d5f(_0x49230a(0x413)+_0x201ba6+_0x49230a(0x3f8),_0x49230a(0x253)+_0x201ba6+_0x49230a(0x35d)),_0xaf0ec0=_0x5a9d5f(_0x49230a(0x413)+_0x201ba6+'/ClassPredictor',_0x49230a(0x253)+_0x201ba6+_0x49230a(0x334));return{'box_encoding_predictor':_0x426560,'class_predictor':_0xaf0ec0};}function _0x24a06c(){const _0x1cdc8d=_0x5847;return{'conv_0':_0x3ade34(_0x1cdc8d(0x222),0x0,_0x1cdc8d(0x374)),'conv_1':_0x3ade34(_0x1cdc8d(0x222),0x1,_0x1cdc8d(0x380)),'conv_2':_0x3ade34(_0x1cdc8d(0x222),0x2,_0x1cdc8d(0x424)),'conv_3':_0x3ade34(_0x1cdc8d(0x222),0x3,_0x1cdc8d(0x202)),'conv_4':_0x3ade34(_0x1cdc8d(0x222),0x4,_0x1cdc8d(0x2ff)),'conv_5':_0x3ade34(_0x1cdc8d(0x222),0x5,'prediction_layer/conv_5'),'conv_6':_0x3ade34('Prediction',0x6,_0x1cdc8d(0x364)),'conv_7':_0x3ade34(_0x1cdc8d(0x222),0x7,_0x1cdc8d(0x31d)),'box_predictor_0':_0x2c954b(0x0),'box_predictor_1':_0x2c954b(0x1),'box_predictor_2':_0x2c954b(0x2),'box_predictor_3':_0x2c954b(0x3),'box_predictor_4':_0x2c954b(0x4),'box_predictor_5':_0x2c954b(0x5)};}return{'extractMobilenetV1Params':_0x4912b4,'extractPredictionLayerParams':_0x24a06c};}function extractParamsFromWeightMap6(_0x361f7c){const _0x15c44e=_0x2e1d5a,_0x43fdf0=[],{extractMobilenetV1Params:_0x3f2de8,extractPredictionLayerParams:_0x47d928}=extractorsFactory6(_0x361f7c,_0x43fdf0),_0xe37a41=_0x361f7c['Output/extra_dim'];_0x43fdf0['push']({'originalPath':_0x15c44e(0x3e1),'paramPath':'output_layer/extra_dim'});if(!isTensor3D(_0xe37a41))throw new Error(_0x15c44e(0x38d)+_0xe37a41);const _0x362d1c={'mobilenetv1':_0x3f2de8(),'prediction_layer':_0x47d928(),'output_layer':{'extra_dim':_0xe37a41}};return disposeUnusedWeightTensors(_0x361f7c,_0x43fdf0),{'params':_0x362d1c,'paramMappings':_0x43fdf0};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x475def,_0x5915e0,_0x35c36e){return tf29['tidy'](()=>{const _0x48cbe6=_0x5847;let _0x86f6ad=tf29['conv2d'](_0x475def,_0x5915e0[_0x48cbe6(0x2ae)],_0x35c36e,_0x48cbe6(0x3b0));return _0x86f6ad=tf29['add'](_0x86f6ad,_0x5915e0[_0x48cbe6(0x21e)]),tf29['clipByValue'](_0x86f6ad,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x2277b8,_0x2ab742,_0x3b3580){return tf30['tidy'](()=>{const _0x39f5e1=_0x5847;let _0x31fa04=tf30[_0x39f5e1(0x1c5)](_0x2277b8,_0x2ab742[_0x39f5e1(0x2ae)],_0x3b3580,'same');return _0x31fa04=tf30['batchNorm'](_0x31fa04,_0x2ab742['batch_norm_mean'],_0x2ab742['batch_norm_variance'],_0x2ab742[_0x39f5e1(0x21e)],_0x2ab742[_0x39f5e1(0x1d5)],epsilon),tf30[_0x39f5e1(0x327)](_0x31fa04,0x0,0x6);});}function getStridesForLayerIdx(_0xe6a4e){const _0x41e5c9=_0x2e1d5a;return[0x2,0x4,0x6,0xc][_0x41e5c9(0x41e)](_0x278139=>_0x278139===_0xe6a4e)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x43ceac,_0x4a1121){const _0x117535=_0x2e1d5a;return tf30[_0x117535(0x3d3)](()=>{const _0xfc97d0=_0x117535;let _0x1e85f5,_0xe7918=pointwiseConvLayer(_0x43ceac,_0x4a1121[_0xfc97d0(0x282)],[0x2,0x2]);const _0xa509c2=[_0x4a1121['conv_1'],_0x4a1121[_0xfc97d0(0x2f3)],_0x4a1121[_0xfc97d0(0x362)],_0x4a1121['conv_4'],_0x4a1121[_0xfc97d0(0x444)],_0x4a1121[_0xfc97d0(0x42e)],_0x4a1121[_0xfc97d0(0x3b4)],_0x4a1121[_0xfc97d0(0x3e9)],_0x4a1121['conv_9'],_0x4a1121['conv_10'],_0x4a1121[_0xfc97d0(0x233)],_0x4a1121[_0xfc97d0(0x3f3)],_0x4a1121[_0xfc97d0(0x2bb)]];_0xa509c2[_0xfc97d0(0x3ab)]((_0x1461ad,_0x33e928)=>{const _0x343ffc=_0xfc97d0,_0x31ad8e=_0x33e928+0x1,_0x90903a=getStridesForLayerIdx(_0x31ad8e);_0xe7918=depthwiseConvLayer(_0xe7918,_0x1461ad[_0x343ffc(0x1fd)],_0x90903a),_0xe7918=pointwiseConvLayer(_0xe7918,_0x1461ad['pointwise_conv'],[0x1,0x1]);if(_0x31ad8e===0xb)_0x1e85f5=_0xe7918;});if(_0x1e85f5===null)throw new Error(_0xfc97d0(0x2fb));return{'out':_0xe7918,'conv11':_0x1e85f5};});}function IOU(_0x29e7e4,_0xc937ea,_0x37adc7){const _0x487500=_0x2e1d5a,_0x58c09d=_0x29e7e4[_0x487500(0x2e8)](),_0xe02a0b=Math[_0x487500(0x420)](_0x58c09d[_0xc937ea][0x0],_0x58c09d[_0xc937ea][0x2]),_0x4f9b97=Math[_0x487500(0x420)](_0x58c09d[_0xc937ea][0x1],_0x58c09d[_0xc937ea][0x3]),_0x5e8d25=Math[_0x487500(0x2ac)](_0x58c09d[_0xc937ea][0x0],_0x58c09d[_0xc937ea][0x2]),_0x3cbdcc=Math['max'](_0x58c09d[_0xc937ea][0x1],_0x58c09d[_0xc937ea][0x3]),_0x2a33c5=Math[_0x487500(0x420)](_0x58c09d[_0x37adc7][0x0],_0x58c09d[_0x37adc7][0x2]),_0x578c89=Math[_0x487500(0x420)](_0x58c09d[_0x37adc7][0x1],_0x58c09d[_0x37adc7][0x3]),_0x99f93c=Math[_0x487500(0x2ac)](_0x58c09d[_0x37adc7][0x0],_0x58c09d[_0x37adc7][0x2]),_0x35dfcc=Math[_0x487500(0x2ac)](_0x58c09d[_0x37adc7][0x1],_0x58c09d[_0x37adc7][0x3]),_0x2eabe0=(_0x5e8d25-_0xe02a0b)*(_0x3cbdcc-_0x4f9b97),_0x395599=(_0x99f93c-_0x2a33c5)*(_0x35dfcc-_0x578c89);if(_0x2eabe0<=0x0||_0x395599<=0x0)return 0x0;const _0x493a0e=Math[_0x487500(0x2ac)](_0xe02a0b,_0x2a33c5),_0xec9728=Math[_0x487500(0x2ac)](_0x4f9b97,_0x578c89),_0x3efaa5=Math[_0x487500(0x420)](_0x5e8d25,_0x99f93c),_0x39b09a=Math[_0x487500(0x420)](_0x3cbdcc,_0x35dfcc),_0x3fb715=Math['max'](_0x3efaa5-_0x493a0e,0x0)*Math[_0x487500(0x2ac)](_0x39b09a-_0xec9728,0x0);return _0x3fb715/(_0x2eabe0+_0x395599-_0x3fb715);}function nonMaxSuppression2(_0x276781,_0xcca6f7,_0x535142,_0x5c43d0,_0x5bdc19){const _0x1740e2=_0x2e1d5a,_0x393cad=_0x276781[_0x1740e2(0x42d)][0x0],_0x38265d=Math['min'](_0x535142,_0x393cad),_0x29e6c6=_0xcca6f7[_0x1740e2(0x39a)]((_0x44bafd,_0x21c08b)=>({'score':_0x44bafd,'boxIndex':_0x21c08b}))[_0x1740e2(0x42c)](_0x1fa4a0=>_0x1fa4a0[_0x1740e2(0x3fd)]>_0x5bdc19)[_0x1740e2(0x20a)]((_0x1776bd,_0x2df210)=>_0x2df210['score']-_0x1776bd[_0x1740e2(0x3fd)]),_0x2d62c3=_0x2766e6=>_0x2766e6<=_0x5c43d0?0x1:0x0,_0x12b099=[];return _0x29e6c6['forEach'](_0x462236=>{const _0x7f8d52=_0x1740e2;if(_0x12b099[_0x7f8d52(0x2c8)]>=_0x38265d)return;const _0x55afd8=_0x462236[_0x7f8d52(0x3fd)];for(let _0x5f000a=_0x12b099[_0x7f8d52(0x2c8)]-0x1;_0x5f000a>=0x0;--_0x5f000a){const _0x4d858c=IOU(_0x276781,_0x462236[_0x7f8d52(0x344)],_0x12b099[_0x5f000a]);if(_0x4d858c===0x0)continue;_0x462236[_0x7f8d52(0x3fd)]*=_0x2d62c3(_0x4d858c);if(_0x462236[_0x7f8d52(0x3fd)]<=_0x5bdc19)break;}_0x55afd8===_0x462236['score']&&_0x12b099[_0x7f8d52(0x1cc)](_0x462236[_0x7f8d52(0x344)]);}),_0x12b099;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x223d31){const _0x217e67=_0x2e1d5a,_0x5bb52a=tf31[_0x217e67(0x2de)](tf31[_0x217e67(0x1d3)](_0x223d31,[0x1,0x0])),_0x5da839=[tf31[_0x217e67(0x290)](_0x5bb52a[0x2],_0x5bb52a[0x0]),tf31[_0x217e67(0x290)](_0x5bb52a[0x3],_0x5bb52a[0x1])],_0x338135=[tf31[_0x217e67(0x307)](_0x5bb52a[0x0],tf31[_0x217e67(0x360)](_0x5da839[0x0],0x2)),tf31[_0x217e67(0x307)](_0x5bb52a[0x1],tf31[_0x217e67(0x360)](_0x5da839[0x1],0x2))];return{'sizes':_0x5da839,'centers':_0x338135};}function decodeBoxesLayer(_0x321ff2,_0xbd816a){const _0x153042=_0x2e1d5a,{sizes:_0x201827,centers:_0x45c095}=getCenterCoordinatesAndSizesLayer(_0x321ff2),_0x261268=tf31[_0x153042(0x2de)](tf31[_0x153042(0x1d3)](_0xbd816a,[0x1,0x0])),_0x34e5d9=tf31[_0x153042(0x360)](tf31[_0x153042(0x422)](tf31['exp'](tf31[_0x153042(0x360)](_0x261268[0x2],0x5)),_0x201827[0x0]),0x2),_0x58d226=tf31[_0x153042(0x307)](tf31[_0x153042(0x422)](tf31[_0x153042(0x360)](_0x261268[0x0],0xa),_0x201827[0x0]),_0x45c095[0x0]),_0x1e0c7e=tf31[_0x153042(0x360)](tf31[_0x153042(0x422)](tf31['exp'](tf31[_0x153042(0x360)](_0x261268[0x3],0x5)),_0x201827[0x1]),0x2),_0x30e1bb=tf31[_0x153042(0x307)](tf31[_0x153042(0x422)](tf31['div'](_0x261268[0x1],0xa),_0x201827[0x1]),_0x45c095[0x1]);return tf31[_0x153042(0x1d3)](tf31[_0x153042(0x337)]([tf31[_0x153042(0x290)](_0x58d226,_0x34e5d9),tf31[_0x153042(0x290)](_0x30e1bb,_0x1e0c7e),tf31['add'](_0x58d226,_0x34e5d9),tf31[_0x153042(0x307)](_0x30e1bb,_0x1e0c7e)]),[0x1,0x0]);}function outputLayer(_0xd0f731,_0x512f14,_0x2fcec7){const _0x28cf2c=_0x2e1d5a;return tf31[_0x28cf2c(0x3d3)](()=>{const _0x3ca298=_0x28cf2c,_0x3a2e2a=_0xd0f731[_0x3ca298(0x42d)][0x0];let _0x5ece49=decodeBoxesLayer(tf31['reshape'](tf31['tile'](_0x2fcec7['extra_dim'],[_0x3a2e2a,0x1,0x1]),[-0x1,0x4]),tf31['reshape'](_0xd0f731,[-0x1,0x4]));_0x5ece49=tf31['reshape'](_0x5ece49,[_0x3a2e2a,_0x5ece49[_0x3ca298(0x42d)][0x0]/_0x3a2e2a,0x4]);const _0x268efe=tf31[_0x3ca298(0x2e2)](tf31[_0x3ca298(0x1cf)](_0x512f14,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0xd1c1ee=tf31[_0x3ca298(0x1cf)](_0x268efe,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0xd1c1ee=tf31['reshape'](_0xd1c1ee,[_0x3a2e2a,_0xd1c1ee[_0x3ca298(0x42d)][0x1]]);const _0x28b317=tf31['unstack'](_0x5ece49),_0x3c6ba6=tf31[_0x3ca298(0x2de)](_0xd1c1ee);return{'boxes':_0x28b317,'scores':_0x3c6ba6};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x3f23e5,_0x574fd8){const _0x113394=_0x2e1d5a;return tf32[_0x113394(0x3d3)](()=>{const _0x1db8c0=_0x113394,_0x215128=_0x3f23e5[_0x1db8c0(0x42d)][0x0],_0x3a15ff=tf32[_0x1db8c0(0x433)](convLayer(_0x3f23e5,_0x574fd8['box_encoding_predictor']),[_0x215128,-0x1,0x1,0x4]),_0x13e3c2=tf32[_0x1db8c0(0x433)](convLayer(_0x3f23e5,_0x574fd8['class_predictor']),[_0x215128,-0x1,0x3]);return{'boxPredictionEncoding':_0x3a15ff,'classPrediction':_0x13e3c2};});}function predictionLayer(_0x338b65,_0x20a274,_0x6517f0){const _0x174af6=_0x2e1d5a;return tf33[_0x174af6(0x3d3)](()=>{const _0x14e34f=_0x174af6,_0x171d95=pointwiseConvLayer(_0x338b65,_0x6517f0[_0x14e34f(0x282)],[0x1,0x1]),_0x3f091b=pointwiseConvLayer(_0x171d95,_0x6517f0[_0x14e34f(0x39f)],[0x2,0x2]),_0x1c8945=pointwiseConvLayer(_0x3f091b,_0x6517f0[_0x14e34f(0x2f3)],[0x1,0x1]),_0x47f0cc=pointwiseConvLayer(_0x1c8945,_0x6517f0[_0x14e34f(0x362)],[0x2,0x2]),_0xf31953=pointwiseConvLayer(_0x47f0cc,_0x6517f0[_0x14e34f(0x20f)],[0x1,0x1]),_0x17a3fe=pointwiseConvLayer(_0xf31953,_0x6517f0[_0x14e34f(0x444)],[0x2,0x2]),_0x361fb3=pointwiseConvLayer(_0x17a3fe,_0x6517f0[_0x14e34f(0x42e)],[0x1,0x1]),_0x43eea9=pointwiseConvLayer(_0x361fb3,_0x6517f0['conv_7'],[0x2,0x2]),_0x2f4020=boxPredictionLayer(_0x20a274,_0x6517f0[_0x14e34f(0x38a)]),_0x57de80=boxPredictionLayer(_0x338b65,_0x6517f0[_0x14e34f(0x289)]),_0x245990=boxPredictionLayer(_0x3f091b,_0x6517f0['box_predictor_2']),_0x375a4d=boxPredictionLayer(_0x47f0cc,_0x6517f0[_0x14e34f(0x3a7)]),_0x1d0076=boxPredictionLayer(_0x17a3fe,_0x6517f0[_0x14e34f(0x3bd)]),_0x3aff3d=boxPredictionLayer(_0x43eea9,_0x6517f0['box_predictor_5']),_0x5ca47a=tf33[_0x14e34f(0x409)]([_0x2f4020[_0x14e34f(0x30f)],_0x57de80[_0x14e34f(0x30f)],_0x245990[_0x14e34f(0x30f)],_0x375a4d[_0x14e34f(0x30f)],_0x1d0076[_0x14e34f(0x30f)],_0x3aff3d[_0x14e34f(0x30f)]],0x1),_0x371e7c=tf33[_0x14e34f(0x409)]([_0x2f4020[_0x14e34f(0x3ac)],_0x57de80['classPrediction'],_0x245990['classPrediction'],_0x375a4d[_0x14e34f(0x3ac)],_0x1d0076[_0x14e34f(0x3ac)],_0x3aff3d[_0x14e34f(0x3ac)]],0x1);return{'boxPredictions':_0x5ca47a,'classPredictions':_0x371e7c};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0xdfa624,maxResults:_0x27ea1a}={}){const _0x3ca095=_0x2e1d5a;this[_0x3ca095(0x34a)]=_0x3ca095(0x265),this[_0x3ca095(0x237)]=_0xdfa624||0.5,this[_0x3ca095(0x391)]=_0x27ea1a||0x64;if(typeof this[_0x3ca095(0x237)]!=='number'||this[_0x3ca095(0x237)]<=0x0||this['_minConfidence']>=0x1)throw new Error(this[_0x3ca095(0x34a)]+_0x3ca095(0x1e9));if(typeof this[_0x3ca095(0x391)]!=='number')throw new Error(this['_name']+_0x3ca095(0x1ef));}get[_0x2e1d5a(0x1c8)](){return this['_minConfidence'];}get[_0x2e1d5a(0x394)](){const _0x580ac3=_0x2e1d5a;return this[_0x580ac3(0x391)];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){super('SsdMobilenetv1');}[_0x2e1d5a(0x1dd)](_0x3f470b){const _0x638df0=_0x2e1d5a,{params:_0x45c9cd}=this;if(!_0x45c9cd)throw new Error(_0x638df0(0x21f));return tf34[_0x638df0(0x3d3)](()=>{const _0x53ba6c=_0x638df0,_0x306a83=tf34['cast'](_0x3f470b['toBatchTensor'](0x200,![]),_0x53ba6c(0x2c2)),_0x2cfbbd=tf34[_0x53ba6c(0x290)](tf34[_0x53ba6c(0x360)](_0x306a83,127.5),0x1),_0x34f163=mobileNetV1(_0x2cfbbd,_0x45c9cd['mobilenetv1']),{boxPredictions:_0x4d7b2a,classPredictions:_0x3bb7e6}=predictionLayer(_0x34f163[_0x53ba6c(0x322)],_0x34f163[_0x53ba6c(0x2df)],_0x45c9cd[_0x53ba6c(0x225)]);return outputLayer(_0x4d7b2a,_0x3bb7e6,_0x45c9cd[_0x53ba6c(0x219)]);});}async[_0x2e1d5a(0x3fb)](_0x282cbd){return this['forwardInput'](await toNetInput(_0x282cbd));}async[_0x2e1d5a(0x389)](_0x115191,_0x1cba0f={}){const _0x2b3c12=_0x2e1d5a,{maxResults:_0x25c55f,minConfidence:_0x4647a1}=new SsdMobilenetv1Options(_0x1cba0f),_0x182d41=await toNetInput(_0x115191),{boxes:_0x33f3ef,scores:_0x26fb5e}=this[_0x2b3c12(0x1dd)](_0x182d41),_0x371c1a=_0x33f3ef[0x0],_0x3e4f23=_0x26fb5e[0x0];for(let _0x5ba791=0x1;_0x5ba791<_0x33f3ef['length'];_0x5ba791++){_0x33f3ef[_0x5ba791][_0x2b3c12(0x294)](),_0x26fb5e[_0x5ba791][_0x2b3c12(0x294)]();}const _0x40ff78=Array[_0x2b3c12(0x312)](_0x3e4f23[_0x2b3c12(0x351)]()),_0xe3b79e=0.5,_0x47cf36=nonMaxSuppression2(_0x371c1a,_0x40ff78,_0x25c55f,_0xe3b79e,_0x4647a1),_0x3a6fe9=_0x182d41['getReshapedInputDimensions'](0x0),_0x51d5d1=_0x182d41[_0x2b3c12(0x301)],_0x281628=_0x51d5d1/_0x3a6fe9[_0x2b3c12(0x3b2)],_0x4cdd7c=_0x51d5d1/_0x3a6fe9[_0x2b3c12(0x2e0)],_0x5e5a1c=_0x371c1a[_0x2b3c12(0x2e8)](),_0x535557=_0x47cf36['map'](_0x18f782=>{const _0x50a962=_0x2b3c12,[_0x3d64,_0x8c5a9d]=[Math[_0x50a962(0x2ac)](0x0,_0x5e5a1c[_0x18f782][0x0]),Math['min'](0x1,_0x5e5a1c[_0x18f782][0x2])][_0x50a962(0x39a)](_0x339a26=>_0x339a26*_0x4cdd7c),[_0x3126b7,_0x1a9ad6]=[Math[_0x50a962(0x2ac)](0x0,_0x5e5a1c[_0x18f782][0x1]),Math[_0x50a962(0x420)](0x1,_0x5e5a1c[_0x18f782][0x3])]['map'](_0x264fc3=>_0x264fc3*_0x281628);return new FaceDetection(_0x40ff78[_0x18f782],new Rect(_0x3126b7,_0x3d64,_0x1a9ad6-_0x3126b7,_0x8c5a9d-_0x3d64),{'height':_0x182d41[_0x50a962(0x22f)](0x0),'width':_0x182d41[_0x50a962(0x3ee)](0x0)});});return _0x371c1a[_0x2b3c12(0x294)](),_0x3e4f23[_0x2b3c12(0x294)](),_0x535557;}[_0x2e1d5a(0x234)](){const _0x51bfa6=_0x2e1d5a;return _0x51bfa6(0x26a);}[_0x2e1d5a(0x309)](_0x341301){return extractParamsFromWeightMap6(_0x341301);}[_0x2e1d5a(0x26e)](_0x7d8ff2){return extractParams6(_0x7d8ff2);}};function createSsdMobilenetv1(_0x2fb8c9){const _0x46dbdb=_0x2e1d5a,_0x12e842=new SsdMobilenetv1();return _0x12e842[_0x46dbdb(0x352)](_0x2fb8c9),_0x12e842;}function createFaceDetectionNet(_0x3b31d8){return createSsdMobilenetv1(_0x3b31d8);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME=_0x2e1d5a(0x2ee),DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x2e1d5a(0x1ee),tf39=__toESM(require_tfjs_esm()),isNumber=_0xf15c29=>typeof _0xf15c29===_0x2e1d5a(0x1e0);function validateConfig(_0x123105){const _0x36ee53=_0x2e1d5a;if(!_0x123105)throw new Error(_0x36ee53(0x2da)+_0x123105);if(typeof _0x123105[_0x36ee53(0x333)]!==_0x36ee53(0x283))throw new Error(_0x36ee53(0x41b)+_0x123105['withSeparableConvs']);if(!isNumber(_0x123105['iouThreshold'])||_0x123105['iouThreshold']<0x0||_0x123105[_0x36ee53(0x369)]>0x1)throw new Error(_0x36ee53(0x36a)+_0x123105['iouThreshold']);if(!Array[_0x36ee53(0x1d6)](_0x123105[_0x36ee53(0x1ca)])||!_0x123105['classes'][_0x36ee53(0x2c8)]||!_0x123105['classes']['every'](_0x384ca0=>typeof _0x384ca0==='string'))throw new Error(_0x36ee53(0x405)+JSON[_0x36ee53(0x372)](_0x123105['classes']));if(!Array[_0x36ee53(0x1d6)](_0x123105['anchors'])||!_0x123105[_0x36ee53(0x33b)][_0x36ee53(0x2c8)]||!_0x123105[_0x36ee53(0x33b)][_0x36ee53(0x39a)](_0x529bdd=>_0x529bdd||{})[_0x36ee53(0x313)](_0x485cc2=>isNumber(_0x485cc2['x'])&&isNumber(_0x485cc2['y'])))throw new Error(_0x36ee53(0x33a)+JSON[_0x36ee53(0x372)](_0x123105[_0x36ee53(0x33b)]));if(_0x123105[_0x36ee53(0x1fc)]&&(!Array[_0x36ee53(0x1d6)](_0x123105[_0x36ee53(0x1fc)])||_0x123105[_0x36ee53(0x1fc)][_0x36ee53(0x2c8)]!==0x3||!_0x123105[_0x36ee53(0x1fc)][_0x36ee53(0x313)](isNumber)))throw new Error('config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20'+JSON['stringify'](_0x123105[_0x36ee53(0x1fc)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x47a8bb){return tf35['tidy'](()=>{const _0x404ee4=_0x5847,_0x4458b3=tf35[_0x404ee4(0x422)](_0x47a8bb,tf35['scalar'](0.10000000149011612));return tf35[_0x404ee4(0x307)](tf35['relu'](tf35['sub'](_0x47a8bb,_0x4458b3)),_0x4458b3);});}function convWithBatchNorm(_0xfbf996,_0x3bbc9e){const _0x44fa62=_0x2e1d5a;return tf36[_0x44fa62(0x3d3)](()=>{const _0x50455d=_0x44fa62;let _0x1b384c=tf36[_0x50455d(0x217)](_0xfbf996,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x1b384c=tf36[_0x50455d(0x2ad)](_0x1b384c,_0x3bbc9e[_0x50455d(0x244)][_0x50455d(0x2ae)],[0x1,0x1],'valid'),_0x1b384c=tf36['sub'](_0x1b384c,_0x3bbc9e['bn'][_0x50455d(0x290)]),_0x1b384c=tf36[_0x50455d(0x422)](_0x1b384c,_0x3bbc9e['bn'][_0x50455d(0x36e)]),_0x1b384c=tf36[_0x50455d(0x307)](_0x1b384c,_0x3bbc9e['conv'][_0x50455d(0x240)]),leaky(_0x1b384c);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x4578c2,_0x4bd4b9){const _0x56e95d=_0x2e1d5a;return tf37[_0x56e95d(0x3d3)](()=>{const _0x192e2f=_0x56e95d;let _0x37fc4b=tf37['pad'](_0x4578c2,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x37fc4b=tf37['separableConv2d'](_0x37fc4b,_0x4bd4b9[_0x192e2f(0x279)],_0x4bd4b9[_0x192e2f(0x341)],[0x1,0x1],_0x192e2f(0x2b7)),_0x37fc4b=tf37['add'](_0x37fc4b,_0x4bd4b9[_0x192e2f(0x240)]),leaky(_0x37fc4b);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x508242,_0x1c7147){const _0x3c8ddf=extractConvParamsFactory(_0x508242,_0x1c7147);function _0xd6ac72(_0x1f25d2,_0x1fdba2){const _0x38632c=_0x5847,_0x493b85=tf38[_0x38632c(0x2ab)](_0x508242(_0x1f25d2)),_0x44e7a8=tf38[_0x38632c(0x2ab)](_0x508242(_0x1f25d2));return _0x1c7147[_0x38632c(0x1cc)]({'paramPath':_0x1fdba2+_0x38632c(0x3be)},{'paramPath':_0x1fdba2+_0x38632c(0x425)}),{'sub':_0x493b85,'truediv':_0x44e7a8};}function _0x164105(_0x2eae7d,_0x3cea6f,_0x3fc2df){const _0x2540a4=_0x5847,_0x5a13fb=_0x3c8ddf(_0x2eae7d,_0x3cea6f,0x3,_0x3fc2df+_0x2540a4(0x25a)),_0x51c36a=_0xd6ac72(_0x3cea6f,_0x3fc2df+_0x2540a4(0x320));return{'conv':_0x5a13fb,'bn':_0x51c36a};}const _0x4e5e32=extractSeparableConvParamsFactory(_0x508242,_0x1c7147);return{'extractConvParams':_0x3c8ddf,'extractConvWithBatchNormParams':_0x164105,'extractSeparableConvParams':_0x4e5e32};}function extractParams7(_0xb05863,_0x3df7c8,_0xe195eb,_0x517658){const _0x3e6968=_0x2e1d5a,{extractWeights:_0x2b12eb,getRemainingWeights:_0x2b9d50}=extractWeightsFactory(_0xb05863),_0x48d0a8=[],{extractConvParams:_0xe38436,extractConvWithBatchNormParams:_0x2cfbdd,extractSeparableConvParams:_0x50ddfa}=extractorsFactory7(_0x2b12eb,_0x48d0a8);let _0x4cdea6;if(_0x3df7c8['withSeparableConvs']){const [_0x2d4d14,_0x4bf8f3,_0x4a8c8c,_0x8991dc,_0x1bb1ec,_0xc6b56e,_0x4ce068,_0x2784d0,_0x4c3263]=_0x517658,_0x1f5a95=_0x3df7c8['isFirstLayerConv2d']?_0xe38436(_0x2d4d14,_0x4bf8f3,0x3,_0x3e6968(0x2c9)):_0x50ddfa(_0x2d4d14,_0x4bf8f3,_0x3e6968(0x2c9)),_0x1573e4=_0x50ddfa(_0x4bf8f3,_0x4a8c8c,'conv1'),_0xe97a83=_0x50ddfa(_0x4a8c8c,_0x8991dc,_0x3e6968(0x2ce)),_0x3c5555=_0x50ddfa(_0x8991dc,_0x1bb1ec,_0x3e6968(0x1f1)),_0x4a906c=_0x50ddfa(_0x1bb1ec,_0xc6b56e,_0x3e6968(0x2db)),_0xf025b9=_0x50ddfa(_0xc6b56e,_0x4ce068,'conv5'),_0x50dc09=_0x2784d0?_0x50ddfa(_0x4ce068,_0x2784d0,_0x3e6968(0x275)):void 0x0,_0x1b43b8=_0x4c3263?_0x50ddfa(_0x2784d0,_0x4c3263,_0x3e6968(0x37d)):void 0x0,_0x41737b=_0xe38436(_0x4c3263||_0x2784d0||_0x4ce068,0x5*_0xe195eb,0x1,_0x3e6968(0x2bc));_0x4cdea6={'conv0':_0x1f5a95,'conv1':_0x1573e4,'conv2':_0xe97a83,'conv3':_0x3c5555,'conv4':_0x4a906c,'conv5':_0xf025b9,'conv6':_0x50dc09,'conv7':_0x1b43b8,'conv8':_0x41737b};}else{const [_0x18f4b4,_0x421783,_0x5b74e3,_0x1af447,_0x3fa6ab,_0x9720ab,_0x42c894,_0x5c9b06,_0x2c85a6]=_0x517658,_0x40c7a7=_0x2cfbdd(_0x18f4b4,_0x421783,_0x3e6968(0x2c9)),_0x30435e=_0x2cfbdd(_0x421783,_0x5b74e3,_0x3e6968(0x30b)),_0x31106d=_0x2cfbdd(_0x5b74e3,_0x1af447,_0x3e6968(0x2ce)),_0x525413=_0x2cfbdd(_0x1af447,_0x3fa6ab,_0x3e6968(0x1f1)),_0x5098c1=_0x2cfbdd(_0x3fa6ab,_0x9720ab,_0x3e6968(0x2db)),_0x410d45=_0x2cfbdd(_0x9720ab,_0x42c894,'conv5'),_0x169d74=_0x2cfbdd(_0x42c894,_0x5c9b06,_0x3e6968(0x275)),_0x1a1f04=_0x2cfbdd(_0x5c9b06,_0x2c85a6,_0x3e6968(0x37d)),_0x18bc77=_0xe38436(_0x2c85a6,0x5*_0xe195eb,0x1,_0x3e6968(0x2bc));_0x4cdea6={'conv0':_0x40c7a7,'conv1':_0x30435e,'conv2':_0x31106d,'conv3':_0x525413,'conv4':_0x5098c1,'conv5':_0x410d45,'conv6':_0x169d74,'conv7':_0x1a1f04,'conv8':_0x18bc77};}if(_0x2b9d50()[_0x3e6968(0x2c8)]!==0x0)throw new Error(_0x3e6968(0x430)+_0x2b9d50()['length']);return{'params':_0x4cdea6,'paramMappings':_0x48d0a8};}function extractorsFactory8(_0x51dfda,_0x19f80b){const _0x42aa6e=extractWeightEntryFactory(_0x51dfda,_0x19f80b);function _0x57942d(_0x1997a3){const _0x52c83d=_0x5847,_0x28e929=_0x42aa6e(_0x1997a3+_0x52c83d(0x3be),0x1),_0x41a102=_0x42aa6e(_0x1997a3+'/truediv',0x1);return{'sub':_0x28e929,'truediv':_0x41a102};}function _0x162d1c(_0x46c9f9){const _0xc9ab23=_0x5847,_0x4e4c0a=_0x42aa6e(_0x46c9f9+'/filters',0x4),_0x13db0a=_0x42aa6e(_0x46c9f9+_0xc9ab23(0x34f),0x1);return{'filters':_0x4e4c0a,'bias':_0x13db0a};}function _0x4e274a(_0x5ab75e){const _0xe29990=_0x5847,_0x2fb8d6=_0x162d1c(_0x5ab75e+_0xe29990(0x25a)),_0x18c39e=_0x57942d(_0x5ab75e+_0xe29990(0x320));return{'conv':_0x2fb8d6,'bn':_0x18c39e};}const _0x4f5d20=loadSeparableConvParamsFactory(_0x42aa6e);return{'extractConvParams':_0x162d1c,'extractConvWithBatchNormParams':_0x4e274a,'extractSeparableConvParams':_0x4f5d20};}function extractParamsFromWeightMap7(_0x4fd2c3,_0x2ffc6f){const _0x3d61b9=_0x2e1d5a,_0x438f32=[],{extractConvParams:_0x35ed86,extractConvWithBatchNormParams:_0x5d8aff,extractSeparableConvParams:_0x104522}=extractorsFactory8(_0x4fd2c3,_0x438f32);let _0xbef517;if(_0x2ffc6f[_0x3d61b9(0x333)]){const _0x3a23a8=_0x2ffc6f[_0x3d61b9(0x29d)]&&_0x2ffc6f[_0x3d61b9(0x29d)][_0x3d61b9(0x2c8)]||0x9;_0xbef517={'conv0':_0x2ffc6f[_0x3d61b9(0x2f2)]?_0x35ed86('conv0'):_0x104522(_0x3d61b9(0x2c9)),'conv1':_0x104522(_0x3d61b9(0x30b)),'conv2':_0x104522(_0x3d61b9(0x2ce)),'conv3':_0x104522(_0x3d61b9(0x1f1)),'conv4':_0x104522(_0x3d61b9(0x2db)),'conv5':_0x104522('conv5'),'conv6':_0x3a23a8>0x7?_0x104522(_0x3d61b9(0x275)):void 0x0,'conv7':_0x3a23a8>0x8?_0x104522(_0x3d61b9(0x37d)):void 0x0,'conv8':_0x35ed86(_0x3d61b9(0x2bc))};}else _0xbef517={'conv0':_0x5d8aff('conv0'),'conv1':_0x5d8aff(_0x3d61b9(0x30b)),'conv2':_0x5d8aff(_0x3d61b9(0x2ce)),'conv3':_0x5d8aff(_0x3d61b9(0x1f1)),'conv4':_0x5d8aff(_0x3d61b9(0x2db)),'conv5':_0x5d8aff('conv5'),'conv6':_0x5d8aff(_0x3d61b9(0x275)),'conv7':_0x5d8aff(_0x3d61b9(0x37d)),'conv8':_0x35ed86('conv8')};return disposeUnusedWeightTensors(_0x4fd2c3,_0x438f32),{'params':_0xbef517,'paramMappings':_0x438f32};}var TinyYolov2Options=class{constructor({inputSize:_0x1e9634,scoreThreshold:_0x5c89bf}={}){const _0x31cd8f=_0x2e1d5a;this[_0x31cd8f(0x34a)]=_0x31cd8f(0x3ef),this[_0x31cd8f(0x40c)]=_0x1e9634||0x1a0,this['_scoreThreshold']=_0x5c89bf||0.5;if(typeof this['_inputSize']!=='number'||this[_0x31cd8f(0x40c)]%0x20!==0x0)throw new Error(this[_0x31cd8f(0x34a)]+'\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032');if(typeof this[_0x31cd8f(0x41a)]!==_0x31cd8f(0x1e0)||this[_0x31cd8f(0x41a)]<=0x0||this[_0x31cd8f(0x41a)]>=0x1)throw new Error(this[_0x31cd8f(0x34a)]+_0x31cd8f(0x3cf));}get[_0x2e1d5a(0x301)](){const _0x4c352b=_0x2e1d5a;return this[_0x4c352b(0x40c)];}get[_0x2e1d5a(0x2a8)](){const _0x39eb0c=_0x2e1d5a;return this[_0x39eb0c(0x41a)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x14793d){const _0x3c2850=_0x2e1d5a;super(_0x3c2850(0x218)),validateConfig(_0x14793d),this[_0x3c2850(0x310)]=_0x14793d;}get[_0x2e1d5a(0x442)](){const _0x3a72fb=_0x2e1d5a;return this[_0x3a72fb(0x310)];}get['withClassScores'](){const _0x348c11=_0x2e1d5a;return this[_0x348c11(0x442)][_0x348c11(0x1e4)]||this[_0x348c11(0x442)][_0x348c11(0x1ca)][_0x348c11(0x2c8)]>0x1;}get[_0x2e1d5a(0x398)](){const _0x5884bb=_0x2e1d5a;return 0x5+(this[_0x5884bb(0x1e4)]?this[_0x5884bb(0x442)][_0x5884bb(0x1ca)][_0x5884bb(0x2c8)]:0x0);}[_0x2e1d5a(0x260)](_0x1b5b01,_0x28f298){const _0x28f84c=_0x2e1d5a;let _0x50e2bc=convWithBatchNorm(_0x1b5b01,_0x28f298[_0x28f84c(0x2c9)]);return _0x50e2bc=tf39[_0x28f84c(0x24c)](_0x50e2bc,[0x2,0x2],[0x2,0x2],_0x28f84c(0x3b0)),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298['conv1']),_0x50e2bc=tf39[_0x28f84c(0x24c)](_0x50e2bc,[0x2,0x2],[0x2,0x2],_0x28f84c(0x3b0)),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298['conv2']),_0x50e2bc=tf39[_0x28f84c(0x24c)](_0x50e2bc,[0x2,0x2],[0x2,0x2],_0x28f84c(0x3b0)),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298[_0x28f84c(0x1f1)]),_0x50e2bc=tf39[_0x28f84c(0x24c)](_0x50e2bc,[0x2,0x2],[0x2,0x2],_0x28f84c(0x3b0)),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298['conv4']),_0x50e2bc=tf39[_0x28f84c(0x24c)](_0x50e2bc,[0x2,0x2],[0x2,0x2],'same'),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298['conv5']),_0x50e2bc=tf39['maxPool'](_0x50e2bc,[0x2,0x2],[0x1,0x1],_0x28f84c(0x3b0)),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298[_0x28f84c(0x275)]),_0x50e2bc=convWithBatchNorm(_0x50e2bc,_0x28f298['conv7']),convLayer(_0x50e2bc,_0x28f298['conv8'],_0x28f84c(0x2b7),![]);}[_0x2e1d5a(0x3ff)](_0x3b201d,_0x2b30d5){const _0x477278=_0x2e1d5a;let _0x26deba=this[_0x477278(0x442)][_0x477278(0x2f2)]?leaky(convLayer(_0x3b201d,_0x2b30d5['conv0'],'valid',![])):depthwiseSeparableConv2(_0x3b201d,_0x2b30d5[_0x477278(0x2c9)]);return _0x26deba=tf39['maxPool'](_0x26deba,[0x2,0x2],[0x2,0x2],_0x477278(0x3b0)),_0x26deba=depthwiseSeparableConv2(_0x26deba,_0x2b30d5[_0x477278(0x30b)]),_0x26deba=tf39[_0x477278(0x24c)](_0x26deba,[0x2,0x2],[0x2,0x2],_0x477278(0x3b0)),_0x26deba=depthwiseSeparableConv2(_0x26deba,_0x2b30d5[_0x477278(0x2ce)]),_0x26deba=tf39[_0x477278(0x24c)](_0x26deba,[0x2,0x2],[0x2,0x2],_0x477278(0x3b0)),_0x26deba=depthwiseSeparableConv2(_0x26deba,_0x2b30d5['conv3']),_0x26deba=tf39[_0x477278(0x24c)](_0x26deba,[0x2,0x2],[0x2,0x2],'same'),_0x26deba=depthwiseSeparableConv2(_0x26deba,_0x2b30d5['conv4']),_0x26deba=tf39[_0x477278(0x24c)](_0x26deba,[0x2,0x2],[0x2,0x2],_0x477278(0x3b0)),_0x26deba=depthwiseSeparableConv2(_0x26deba,_0x2b30d5['conv5']),_0x26deba=tf39[_0x477278(0x24c)](_0x26deba,[0x2,0x2],[0x1,0x1],_0x477278(0x3b0)),_0x26deba=_0x2b30d5['conv6']?depthwiseSeparableConv2(_0x26deba,_0x2b30d5['conv6']):_0x26deba,_0x26deba=_0x2b30d5[_0x477278(0x37d)]?depthwiseSeparableConv2(_0x26deba,_0x2b30d5[_0x477278(0x37d)]):_0x26deba,convLayer(_0x26deba,_0x2b30d5[_0x477278(0x2bc)],'valid',![]);}[_0x2e1d5a(0x1dd)](_0x50b7a4,_0x390584){const _0x46759b=_0x2e1d5a,{params:_0x568e1e}=this;if(!_0x568e1e)throw new Error(_0x46759b(0x439));return tf39[_0x46759b(0x3d3)](()=>{const _0x5eb140=_0x46759b;let _0x1fbd7a=tf39['cast'](_0x50b7a4['toBatchTensor'](_0x390584,![]),_0x5eb140(0x2c2));return _0x1fbd7a=this[_0x5eb140(0x442)][_0x5eb140(0x1fc)]?normalize(_0x1fbd7a,this[_0x5eb140(0x442)]['meanRgb']):_0x1fbd7a,_0x1fbd7a=_0x1fbd7a['div'](0xff),this[_0x5eb140(0x442)]['withSeparableConvs']?this[_0x5eb140(0x3ff)](_0x1fbd7a,_0x568e1e):this[_0x5eb140(0x260)](_0x1fbd7a,_0x568e1e);});}async[_0x2e1d5a(0x3fb)](_0x210819,_0x9b18c0){const _0x565af9=_0x2e1d5a;return this[_0x565af9(0x1dd)](await toNetInput(_0x210819),_0x9b18c0);}async[_0x2e1d5a(0x20e)](_0x2a278d,_0xe71992={}){const _0x47ffa4=_0x2e1d5a,{inputSize:_0x300262,scoreThreshold:_0x264564}=new TinyYolov2Options(_0xe71992),_0x550786=await toNetInput(_0x2a278d),_0x2c86af=await this[_0x47ffa4(0x1dd)](_0x550786,_0x300262),_0x125750=tf39[_0x47ffa4(0x3d3)](()=>tf39[_0x47ffa4(0x2de)](_0x2c86af)[0x0][_0x47ffa4(0x407)]()),_0x29817a={'width':_0x550786['getInputWidth'](0x0),'height':_0x550786['getInputHeight'](0x0)},_0x4f6d8a=await this[_0x47ffa4(0x36d)](_0x125750,_0x550786[_0x47ffa4(0x34d)](0x0),_0x264564);_0x2c86af[_0x47ffa4(0x294)](),_0x125750['dispose']();const _0x2babe1=_0x4f6d8a[_0x47ffa4(0x39a)](_0x1bc404=>_0x1bc404[_0x47ffa4(0x242)]),_0x178fd7=_0x4f6d8a[_0x47ffa4(0x39a)](_0x5cd7ea=>_0x5cd7ea[_0x47ffa4(0x3fd)]),_0x2a41c9=_0x4f6d8a[_0x47ffa4(0x39a)](_0x2d3431=>_0x2d3431[_0x47ffa4(0x3de)]),_0xc595c1=_0x4f6d8a[_0x47ffa4(0x39a)](_0x3b43a5=>this[_0x47ffa4(0x442)][_0x47ffa4(0x1ca)][_0x3b43a5[_0x47ffa4(0x28c)]]),_0x1af31f=nonMaxSuppression(_0x2babe1['map'](_0x5e09fc=>_0x5e09fc[_0x47ffa4(0x2b9)](_0x300262)),_0x178fd7,this[_0x47ffa4(0x442)][_0x47ffa4(0x369)],!![]),_0x41e1e6=_0x1af31f[_0x47ffa4(0x39a)](_0x5c9489=>new ObjectDetection(_0x178fd7[_0x5c9489],_0x2a41c9[_0x5c9489],_0xc595c1[_0x5c9489],_0x2babe1[_0x5c9489],_0x29817a));return _0x41e1e6;}[_0x2e1d5a(0x234)](){return'';}[_0x2e1d5a(0x309)](_0x559446){const _0x575a69=_0x2e1d5a;return extractParamsFromWeightMap7(_0x559446,this[_0x575a69(0x442)]);}['extractParams'](_0x107694){const _0x21c047=_0x2e1d5a,_0x3fa5d7=this[_0x21c047(0x442)][_0x21c047(0x29d)]||_TinyYolov2Base[_0x21c047(0x278)],_0x45a137=_0x3fa5d7?_0x3fa5d7['length']:void 0x0;if(_0x45a137!==0x7&&_0x45a137!==0x8&&_0x45a137!==0x9)throw new Error(_0x21c047(0x404)+_0x45a137+_0x21c047(0x277));return extractParams7(_0x107694,this[_0x21c047(0x442)],this[_0x21c047(0x398)],_0x3fa5d7);}async[_0x2e1d5a(0x36d)](_0x26f6fc,_0x1424ea,_0x2e8dc5){const _0x5d26c7=_0x2e1d5a,{width:_0x23da11,height:_0x140b8c}=_0x1424ea,_0x27a979=Math[_0x5d26c7(0x2ac)](_0x23da11,_0x140b8c),_0x404594=_0x27a979/_0x23da11,_0x561385=_0x27a979/_0x140b8c,_0x4e9112=_0x26f6fc[_0x5d26c7(0x42d)][0x1],_0x2e4858=this[_0x5d26c7(0x442)][_0x5d26c7(0x33b)][_0x5d26c7(0x2c8)],[_0x3ee865,_0x199462,_0x219403]=tf39[_0x5d26c7(0x3d3)](()=>{const _0x1c65a8=_0x5d26c7,_0x5da343=_0x26f6fc[_0x1c65a8(0x433)]([_0x4e9112,_0x4e9112,_0x2e4858,this[_0x1c65a8(0x398)]]),_0x25126f=_0x5da343['slice']([0x0,0x0,0x0,0x0],[_0x4e9112,_0x4e9112,_0x2e4858,0x4]),_0x1928f0=_0x5da343[_0x1c65a8(0x1cf)]([0x0,0x0,0x0,0x4],[_0x4e9112,_0x4e9112,_0x2e4858,0x1]),_0x4b6458=this[_0x1c65a8(0x1e4)]?tf39[_0x1c65a8(0x300)](_0x5da343['slice']([0x0,0x0,0x0,0x5],[_0x4e9112,_0x4e9112,_0x2e4858,this['config'][_0x1c65a8(0x1ca)][_0x1c65a8(0x2c8)]]),0x3):tf39[_0x1c65a8(0x348)](0x0);return[_0x25126f,_0x1928f0,_0x4b6458];}),_0x4f91ee=[],_0x456762=await _0x199462[_0x5d26c7(0x414)](),_0x39fd1d=await _0x3ee865[_0x5d26c7(0x414)]();for(let _0x2ad992=0x0;_0x2ad992<_0x4e9112;_0x2ad992++){for(let _0x451097=0x0;_0x451097<_0x4e9112;_0x451097++){for(let _0x3d26ca=0x0;_0x3d26ca<_0x2e4858;_0x3d26ca++){const _0x16fcb9=sigmoid(_0x456762[_0x2ad992][_0x451097][_0x3d26ca][0x0]);if(!_0x2e8dc5||_0x16fcb9>_0x2e8dc5){const _0x389565=(_0x451097+sigmoid(_0x39fd1d[_0x2ad992][_0x451097][_0x3d26ca][0x0]))/_0x4e9112*_0x404594,_0x3db614=(_0x2ad992+sigmoid(_0x39fd1d[_0x2ad992][_0x451097][_0x3d26ca][0x1]))/_0x4e9112*_0x561385,_0xec4583=Math[_0x5d26c7(0x3a5)](_0x39fd1d[_0x2ad992][_0x451097][_0x3d26ca][0x2])*this[_0x5d26c7(0x442)]['anchors'][_0x3d26ca]['x']/_0x4e9112*_0x404594,_0x1b6fa7=Math[_0x5d26c7(0x3a5)](_0x39fd1d[_0x2ad992][_0x451097][_0x3d26ca][0x3])*this[_0x5d26c7(0x442)][_0x5d26c7(0x33b)][_0x3d26ca]['y']/_0x4e9112*_0x561385,_0x31cc19=_0x389565-_0xec4583/0x2,_0x218b34=_0x3db614-_0x1b6fa7/0x2,_0xf74061={'row':_0x2ad992,'col':_0x451097,'anchor':_0x3d26ca},{classScore:_0x599bd8,label:_0x4e6aa8}=this[_0x5d26c7(0x1e4)]?await this['extractPredictedClass'](_0x219403,_0xf74061):{'classScore':0x1,'label':0x0};_0x4f91ee[_0x5d26c7(0x1cc)]({'box':new BoundingBox(_0x31cc19,_0x218b34,_0x31cc19+_0xec4583,_0x218b34+_0x1b6fa7),'score':_0x16fcb9,'classScore':_0x16fcb9*_0x599bd8,'label':_0x4e6aa8,..._0xf74061});}}}}return _0x3ee865['dispose'](),_0x199462[_0x5d26c7(0x294)](),_0x219403[_0x5d26c7(0x294)](),_0x4f91ee;}async['extractPredictedClass'](_0x30da75,_0xf9f833){const _0x5c8e35=_0x2e1d5a,{row:_0x5ee145,col:_0x5e313a,anchor:_0x5e982d}=_0xf9f833,_0x58d303=await _0x30da75[_0x5c8e35(0x414)]();return Array(this['config'][_0x5c8e35(0x1ca)][_0x5c8e35(0x2c8)])[_0x5c8e35(0x2e9)](0x0)['map']((_0xaabb0a,_0x24ca69)=>_0x58d303[_0x5ee145][_0x5e313a][_0x5e982d][_0x24ca69])[_0x5c8e35(0x39a)]((_0xc7b1a6,_0x741bbc)=>({'classScore':_0xc7b1a6,'label':_0x741bbc}))['reduce']((_0x1634b4,_0x454b2f)=>_0x1634b4[_0x5c8e35(0x3de)]>_0x454b2f['classScore']?_0x1634b4:_0x454b2f);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base[_0x2e1d5a(0x278)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x2ad7d4=!![]){const _0x5b83e4=_0x2e1d5a,_0x116ee2={'withSeparableConvs':_0x2ad7d4,'iouThreshold':IOU_THRESHOLD,'classes':[_0x5b83e4(0x2b4)],..._0x2ad7d4?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x116ee2);}get['withSeparableConvs'](){const _0x3de873=_0x2e1d5a;return this[_0x3de873(0x442)]['withSeparableConvs'];}get[_0x2e1d5a(0x33b)](){const _0x2399ed=_0x2e1d5a;return this[_0x2399ed(0x442)]['anchors'];}async[_0x2e1d5a(0x389)](_0x26236a,_0x3c096f){const _0x456d34=_0x2e1d5a,_0x164197=await this[_0x456d34(0x20e)](_0x26236a,_0x3c096f);return _0x164197[_0x456d34(0x39a)](_0x27db48=>new FaceDetection(_0x27db48[_0x456d34(0x3fd)],_0x27db48[_0x456d34(0x3f9)],{'width':_0x27db48[_0x456d34(0x1e3)],'height':_0x27db48[_0x456d34(0x26d)]}));}[_0x2e1d5a(0x234)](){const _0x4b401c=_0x2e1d5a;return this[_0x4b401c(0x333)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x2e1d5a(0x309)](_0x442f52){const _0xadb6de=_0x2e1d5a;return super[_0xadb6de(0x309)](_0x442f52);}};function createTinyYolov2(_0x1d02fc,_0x2c155a=!![]){const _0xe2f899=_0x2e1d5a,_0x5b7026=new TinyYolov2(_0x2c155a);return _0x5b7026[_0xe2f899(0x352)](_0x1d02fc),_0x5b7026;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x49a932=_0x2e1d5a;super(...arguments),this[_0x49a932(0x34a)]='TinyFaceDetectorOptions';}},ComposableTask=class{async['then'](_0x38259f){const _0x30870f=_0x2e1d5a;return _0x38259f(await this[_0x30870f(0x2bf)]());}async[_0x2e1d5a(0x2bf)](){throw new Error('ComposableTask\x20-\x20run\x20is\x20not\x20implemented');}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x4cd9e1,_0x58723a,_0x5e022d,_0x220bb8,_0xb84baa=({alignedRect:_0x2d120f})=>_0x2d120f){const _0x1c1300=_0x2e1d5a,_0x2f4db=_0x4cd9e1[_0x1c1300(0x39a)](_0x4649f7=>isWithFaceLandmarks(_0x4649f7)?_0xb84baa(_0x4649f7):_0x4649f7['detection']),_0x572142=_0x220bb8||(_0x58723a instanceof tf40['Tensor']?await extractFaceTensors(_0x58723a,_0x2f4db):await extractFaces(_0x58723a,_0x2f4db)),_0x5a5a68=await _0x5e022d(_0x572142);return _0x572142['forEach'](_0x4c84c6=>_0x4c84c6 instanceof tf40['Tensor']&&_0x4c84c6[_0x1c1300(0x294)]()),_0x5a5a68;}async function extractSingleFaceAndComputeResult(_0x4069b2,_0x30181d,_0x56d1be,_0x349509,_0x23e006){return extractAllFacesAndComputeResults([_0x4069b2],_0x30181d,async _0x59be58=>_0x56d1be(_0x59be58[0x0]),_0x349509,_0x23e006);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x53c262=_0x2e1d5a,_0x18522e={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':[_0x53c262(0x2b4)],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x18522e);}get[_0x2e1d5a(0x33b)](){const _0x1e4278=_0x2e1d5a;return this[_0x1e4278(0x442)][_0x1e4278(0x33b)];}async[_0x2e1d5a(0x389)](_0x225065,_0x1f3720){const _0x4ac2ac=_0x2e1d5a,_0x4b4569=await this[_0x4ac2ac(0x20e)](_0x225065,_0x1f3720);return _0x4b4569['map'](_0xd387e=>new FaceDetection(_0xd387e['score'],_0xd387e[_0x4ac2ac(0x3f9)],{'width':_0xd387e[_0x4ac2ac(0x1e3)],'height':_0xd387e['imageHeight']}));}['getDefaultModelName'](){const _0x1b4213=_0x2e1d5a;return _0x1b4213(0x3dd);}['extractParamsFromWeightMap'](_0x2b550d){const _0xa17c8=_0x2e1d5a;return super[_0xa17c8(0x309)](_0x2b550d);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x1c78b4,_0x46bb73)=>nets[_0x2e1d5a(0x252)][_0x2e1d5a(0x389)](_0x1c78b4,_0x46bb73),tinyFaceDetector=(_0x43b5a2,_0x3527c4)=>nets['tinyFaceDetector'][_0x2e1d5a(0x389)](_0x43b5a2,_0x3527c4),tinyYolov2=(_0x8d4d2d,_0x543ad3)=>nets['tinyYolov2'][_0x2e1d5a(0x389)](_0x8d4d2d,_0x543ad3),detectFaceLandmarks=_0x2aaaef=>nets[_0x2e1d5a(0x1d2)]['detectLandmarks'](_0x2aaaef),detectFaceLandmarksTiny=_0x1f0797=>nets[_0x2e1d5a(0x34c)][_0x2e1d5a(0x1e8)](_0x1f0797),computeFaceDescriptor=_0x131340=>nets[_0x2e1d5a(0x36f)]['computeFaceDescriptor'](_0x131340),recognizeFaceExpressions=_0x235292=>nets['faceExpressionNet'][_0x2e1d5a(0x201)](_0x235292),predictAgeAndGender=_0x2d5195=>nets['ageGenderNet'][_0x2e1d5a(0x2f6)](_0x2d5195),loadSsdMobilenetv1Model=_0x280e10=>nets[_0x2e1d5a(0x252)][_0x2e1d5a(0x2f0)](_0x280e10),loadTinyFaceDetectorModel=_0x226550=>nets[_0x2e1d5a(0x2d0)][_0x2e1d5a(0x2f0)](_0x226550),loadTinyYolov2Model=_0x54d1bb=>nets[_0x2e1d5a(0x273)][_0x2e1d5a(0x2f0)](_0x54d1bb),loadFaceLandmarkModel=_0x1eb65c=>nets['faceLandmark68Net'][_0x2e1d5a(0x2f0)](_0x1eb65c),loadFaceLandmarkTinyModel=_0x5e5b1a=>nets[_0x2e1d5a(0x34c)]['load'](_0x5e5b1a),loadFaceRecognitionModel=_0x2ac006=>nets[_0x2e1d5a(0x36f)]['load'](_0x2ac006),loadFaceExpressionModel=_0x57ed2c=>nets[_0x2e1d5a(0x2ca)][_0x2e1d5a(0x2f0)](_0x57ed2c),loadAgeGenderModel=_0x5bddb2=>nets[_0x2e1d5a(0x3f5)][_0x2e1d5a(0x2f0)](_0x5bddb2),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x582348,_0x30c115,_0xa73359){const _0xebcb48=_0x2e1d5a;super(),this[_0xebcb48(0x295)]=_0x582348,this[_0xebcb48(0x32d)]=_0x30c115,this[_0xebcb48(0x432)]=_0xa73359;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x52ca30=_0x2e1d5a,_0x244518=await this[_0x52ca30(0x295)],_0x2e6ca9=await extractAllFacesAndComputeResults(_0x244518,this[_0x52ca30(0x32d)],async _0x4d6d98=>Promise[_0x52ca30(0x3c5)](_0x4d6d98['map'](_0x2e8e29=>nets['faceExpressionNet'][_0x52ca30(0x201)](_0x2e8e29))),this['extractedFaces']);return _0x244518[_0x52ca30(0x39a)]((_0x41be6b,_0x414e95)=>extendWithFaceExpressions(_0x41be6b,_0x2e6ca9[_0x414e95]));}[_0x2e1d5a(0x263)](){const _0x58c21b=_0x2e1d5a;return new PredictAllAgeAndGenderTask(this,this[_0x58c21b(0x32d)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x37440c=_0x2e1d5a,_0x53f1a4=await this[_0x37440c(0x295)];if(!_0x53f1a4)return void 0x0;const _0x4cfa9a=await extractSingleFaceAndComputeResult(_0x53f1a4,this[_0x37440c(0x32d)],_0x5b4211=>nets[_0x37440c(0x2ca)][_0x37440c(0x201)](_0x5b4211),this['extractedFaces']);return extendWithFaceExpressions(_0x53f1a4,_0x4cfa9a);}[_0x2e1d5a(0x263)](){const _0x16ab24=_0x2e1d5a;return new PredictSingleAgeAndGenderTask(this,this[_0x16ab24(0x32d)]);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{[_0x2e1d5a(0x263)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}['withFaceDescriptors'](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x2e1d5a(0x263)](){const _0x1e5305=_0x2e1d5a;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x1e5305(0x32d)]);}[_0x2e1d5a(0x356)](){const _0x36191a=_0x2e1d5a;return new ComputeSingleFaceDescriptorTask(this,this[_0x36191a(0x32d)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x446749,_0x1a5efd,_0x11ddb3){const _0x281497=_0x2e1d5a;super(),this[_0x281497(0x295)]=_0x446749,this[_0x281497(0x32d)]=_0x1a5efd,this[_0x281497(0x432)]=_0x11ddb3;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x565502=_0x2e1d5a,_0x21e51d=await this['parentTask'],_0x545735=await extractAllFacesAndComputeResults(_0x21e51d,this[_0x565502(0x32d)],async _0xe1c097=>Promise[_0x565502(0x3c5)](_0xe1c097['map'](_0x36f734=>nets[_0x565502(0x3f5)][_0x565502(0x2f6)](_0x36f734))),this[_0x565502(0x432)]);return _0x21e51d[_0x565502(0x39a)]((_0x2931f7,_0x47c9ca)=>{const {age:_0x4c163a,gender:_0x35dbf1,genderProbability:_0x162557}=_0x545735[_0x47c9ca];return extendWithAge(extendWithGender(_0x2931f7,_0x35dbf1,_0x162557),_0x4c163a);});}[_0x2e1d5a(0x20c)](){const _0x2d1838=_0x2e1d5a;return new PredictAllFaceExpressionsTask(this,this[_0x2d1838(0x32d)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x310f6a=_0x2e1d5a,_0x45d89a=await this['parentTask'];if(!_0x45d89a)return void 0x0;const {age:_0x1cfcad,gender:_0x540020,genderProbability:_0x223c06}=await extractSingleFaceAndComputeResult(_0x45d89a,this[_0x310f6a(0x32d)],_0x54094c=>nets[_0x310f6a(0x3f5)]['predictAgeAndGender'](_0x54094c),this['extractedFaces']);return extendWithAge(extendWithGender(_0x45d89a,_0x540020,_0x223c06),_0x1cfcad);}['withFaceExpressions'](){const _0x33a73f=_0x2e1d5a;return new PredictSingleFaceExpressionsTask(this,this[_0x33a73f(0x32d)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{['withFaceExpressions'](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}['withFaceDescriptors'](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{[_0x2e1d5a(0x20c)](){const _0xea3c62=_0x2e1d5a;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0xea3c62(0x32d)]);}[_0x2e1d5a(0x356)](){const _0x5ee71e=_0x2e1d5a;return new ComputeSingleFaceDescriptorTask(this,this[_0x5ee71e(0x32d)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x53fd8e,_0xcade69){const _0x527bea=_0x2e1d5a;super(),this[_0x527bea(0x295)]=_0x53fd8e,this[_0x527bea(0x32d)]=_0xcade69;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x54a03b=_0x2e1d5a,_0x4b678a=await this[_0x54a03b(0x295)],_0x1d9573=await extractAllFacesAndComputeResults(_0x4b678a,this[_0x54a03b(0x32d)],_0x13d044=>Promise[_0x54a03b(0x3c5)](_0x13d044[_0x54a03b(0x39a)](_0x49c056=>nets[_0x54a03b(0x36f)][_0x54a03b(0x22c)](_0x49c056))),null,_0x34dac2=>_0x34dac2['landmarks'][_0x54a03b(0x31a)](null,{'useDlibAlignment':!![]}));return _0x1d9573[_0x54a03b(0x39a)]((_0x242b09,_0x8dc46c)=>extendWithFaceDescriptor(_0x4b678a[_0x8dc46c],_0x242b09));}[_0x2e1d5a(0x20c)](){const _0x18daa8=_0x2e1d5a;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x18daa8(0x32d)]);}[_0x2e1d5a(0x263)](){const _0x462560=_0x2e1d5a;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x462560(0x32d)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x8b7ada=_0x2e1d5a,_0x19616b=await this[_0x8b7ada(0x295)];if(!_0x19616b)return void 0x0;const _0x5de45f=await extractSingleFaceAndComputeResult(_0x19616b,this[_0x8b7ada(0x32d)],_0x3c1593=>nets[_0x8b7ada(0x36f)][_0x8b7ada(0x22c)](_0x3c1593),null,_0x51ce81=>_0x51ce81[_0x8b7ada(0x40b)][_0x8b7ada(0x31a)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x19616b,_0x5de45f);}[_0x2e1d5a(0x20c)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x2e1d5a(0x263)](){const _0x5629d1=_0x2e1d5a;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x5629d1(0x32d)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x4e5491,_0x649f0c,_0x6e94e5){const _0x429ea4=_0x2e1d5a;super(),this['parentTask']=_0x4e5491,this[_0x429ea4(0x32d)]=_0x649f0c,this[_0x429ea4(0x43b)]=_0x6e94e5;}get[_0x2e1d5a(0x395)](){const _0x51996b=_0x2e1d5a;return this['useTinyLandmarkNet']?nets['faceLandmark68TinyNet']:nets[_0x51996b(0x1d2)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x5b35b6=_0x2e1d5a,_0x1cfefd=await this[_0x5b35b6(0x295)],_0x30b8e0=_0x1cfefd[_0x5b35b6(0x39a)](_0x1e15b2=>_0x1e15b2[_0x5b35b6(0x438)]),_0x1ae315=this['input']instanceof tf41['Tensor']?await extractFaceTensors(this['input'],_0x30b8e0):await extractFaces(this[_0x5b35b6(0x32d)],_0x30b8e0),_0x3d7ad4=await Promise[_0x5b35b6(0x3c5)](_0x1ae315[_0x5b35b6(0x39a)](_0x3fc02a=>this['landmarkNet']['detectLandmarks'](_0x3fc02a)));_0x1ae315[_0x5b35b6(0x3ab)](_0x22b69d=>_0x22b69d instanceof tf41[_0x5b35b6(0x3b6)]&&_0x22b69d[_0x5b35b6(0x294)]());const _0x533668=_0x1cfefd[_0x5b35b6(0x42c)]((_0x4a4153,_0x58fc2b)=>_0x3d7ad4[_0x58fc2b])['map']((_0x266338,_0xf7e99f)=>extendWithFaceLandmarks(_0x266338,_0x3d7ad4[_0xf7e99f]));return _0x533668;}[_0x2e1d5a(0x20c)](){const _0x3b930c=_0x2e1d5a;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x3b930c(0x32d)]);}[_0x2e1d5a(0x263)](){const _0x12d307=_0x2e1d5a;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x12d307(0x32d)]);}['withFaceDescriptors'](){const _0x79ea1c=_0x2e1d5a;return new ComputeAllFaceDescriptorsTask(this,this[_0x79ea1c(0x32d)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x277569=_0x2e1d5a,_0x1d57f3=await this[_0x277569(0x295)];if(!_0x1d57f3)return void 0x0;const {detection:_0x44d08b}=_0x1d57f3,_0x4f3631=this[_0x277569(0x32d)]instanceof tf41[_0x277569(0x3b6)]?await extractFaceTensors(this[_0x277569(0x32d)],[_0x44d08b]):await extractFaces(this[_0x277569(0x32d)],[_0x44d08b]),_0x1c2ec2=await this[_0x277569(0x395)][_0x277569(0x1e8)](_0x4f3631[0x0]);return _0x4f3631[_0x277569(0x3ab)](_0x414091=>_0x414091 instanceof tf41['Tensor']&&_0x414091[_0x277569(0x294)]()),extendWithFaceLandmarks(_0x1d57f3,_0x1c2ec2);}['withFaceExpressions'](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x2e1d5a(0x263)](){const _0x339bb6=_0x2e1d5a;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x339bb6(0x32d)]);}['withFaceDescriptor'](){const _0x2d2861=_0x2e1d5a;return new ComputeSingleFaceDescriptorTask(this,this[_0x2d2861(0x32d)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x52de5d,_0x1d0850=new SsdMobilenetv1Options()){const _0xc7bc90=_0x2e1d5a;super(),this[_0xc7bc90(0x32d)]=_0x52de5d,this[_0xc7bc90(0x29e)]=_0x1d0850;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x26b76f=_0x2e1d5a,{input:_0x25a0b4,options:_0x37c2c4}=this;let _0x36be6d;if(_0x37c2c4 instanceof TinyFaceDetectorOptions)_0x36be6d=nets[_0x26b76f(0x2d0)]['locateFaces'](_0x25a0b4,_0x37c2c4);else{if(_0x37c2c4 instanceof SsdMobilenetv1Options)_0x36be6d=nets[_0x26b76f(0x252)][_0x26b76f(0x389)](_0x25a0b4,_0x37c2c4);else{if(_0x37c2c4 instanceof TinyYolov2Options)_0x36be6d=nets[_0x26b76f(0x273)]['locateFaces'](_0x25a0b4,_0x37c2c4);else throw new Error(_0x26b76f(0x3b3));}}return _0x36be6d;}['runAndExtendWithFaceDetections'](){return new Promise((_0x170290,_0x35de47)=>{const _0x4055ef=_0x5847;this[_0x4055ef(0x2bf)]()['then'](_0x2fc5fc=>_0x170290(_0x2fc5fc['map'](_0x3b68e3=>extendWithFaceDetection({},_0x3b68e3))))['catch'](_0x273c87=>_0x35de47(_0x273c87));});}[_0x2e1d5a(0x417)](_0x50e751=![]){const _0x3fb526=_0x2e1d5a;return new DetectAllFaceLandmarksTask(this[_0x3fb526(0x229)](),this[_0x3fb526(0x32d)],_0x50e751);}[_0x2e1d5a(0x20c)](){const _0x1b4dd8=_0x2e1d5a;return new PredictAllFaceExpressionsTask(this[_0x1b4dd8(0x229)](),this[_0x1b4dd8(0x32d)]);}[_0x2e1d5a(0x263)](){return new PredictAllAgeAndGenderTask(this['runAndExtendWithFaceDetections'](),this['input']);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x2e1d5a(0x2bf)](){const _0x100dc4=_0x2e1d5a,_0x3a6113=await new DetectAllFacesTask(this[_0x100dc4(0x32d)],this['options']);let _0x40de7b=_0x3a6113[0x0];return _0x3a6113['forEach'](_0x3070e9=>{if(_0x3070e9['score']>_0x40de7b['score'])_0x40de7b=_0x3070e9;}),_0x40de7b;}[_0x2e1d5a(0x421)](){return new Promise(async _0x1617f6=>{const _0xe87146=await this['run']();_0x1617f6(_0xe87146?extendWithFaceDetection({},_0xe87146):void 0x0);});}[_0x2e1d5a(0x417)](_0x298288=![]){const _0x302dbe=_0x2e1d5a;return new DetectSingleFaceLandmarksTask(this[_0x302dbe(0x421)](),this[_0x302dbe(0x32d)],_0x298288);}[_0x2e1d5a(0x20c)](){const _0x187c51=_0x2e1d5a;return new PredictSingleFaceExpressionsTask(this['runAndExtendWithFaceDetection'](),this[_0x187c51(0x32d)]);}[_0x2e1d5a(0x263)](){const _0x194179=_0x2e1d5a;return new PredictSingleAgeAndGenderTask(this[_0x194179(0x421)](),this[_0x194179(0x32d)]);}};function detectSingleFace(_0x326705,_0x1680fb=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x326705,_0x1680fb);}function detectAllFaces(_0x32a06a,_0xd00626=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x32a06a,_0xd00626);}async function allFacesSsdMobilenetv1(_0x399560,_0x1df12b){const _0x156532=_0x2e1d5a;return detectAllFaces(_0x399560,new SsdMobilenetv1Options(_0x1df12b?{'minConfidence':_0x1df12b}:{}))[_0x156532(0x417)]()[_0x156532(0x23e)]();}async function allFacesTinyYolov2(_0x56a3ba,_0x22687d={}){const _0x344907=_0x2e1d5a;return detectAllFaces(_0x56a3ba,new TinyYolov2Options(_0x22687d))[_0x344907(0x417)]()[_0x344907(0x23e)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x53d637,_0x3320f8){const _0x34879c=_0x2e1d5a;if(_0x53d637[_0x34879c(0x2c8)]!==_0x3320f8[_0x34879c(0x2c8)])throw new Error(_0x34879c(0x1f9));const _0x33b62d=Array['from'](_0x53d637),_0x46cd47=Array['from'](_0x3320f8);return Math[_0x34879c(0x2f7)](_0x33b62d[_0x34879c(0x39a)]((_0x540a69,_0xa1f548)=>_0x540a69-_0x46cd47[_0xa1f548])['reduce']((_0x3db3ea,_0x54097c)=>_0x3db3ea+_0x54097c**0x2,0x0));}var FaceMatcher=class{constructor(_0x46ae59,_0x2752e0=0.6){const _0x440c5f=_0x2e1d5a;this['_distanceThreshold']=_0x2752e0;const _0x34aaa3=Array[_0x440c5f(0x1d6)](_0x46ae59)?_0x46ae59:[_0x46ae59];if(!_0x34aaa3['length'])throw new Error(_0x440c5f(0x434));let _0x3c3def=0x1;const _0x273245=()=>_0x440c5f(0x382)+_0x3c3def++;this[_0x440c5f(0x305)]=_0x34aaa3[_0x440c5f(0x39a)](_0x5f0ee6=>{const _0xb3c0d8=_0x440c5f;if(_0x5f0ee6 instanceof LabeledFaceDescriptors)return _0x5f0ee6;if(_0x5f0ee6 instanceof Float32Array)return new LabeledFaceDescriptors(_0x273245(),[_0x5f0ee6]);if(_0x5f0ee6[_0xb3c0d8(0x43f)]&&_0x5f0ee6['descriptor']instanceof Float32Array)return new LabeledFaceDescriptors(_0x273245(),[_0x5f0ee6['descriptor']]);throw new Error('FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>');});}get['labeledDescriptors'](){const _0x2b9591=_0x2e1d5a;return this[_0x2b9591(0x305)];}get[_0x2e1d5a(0x1dc)](){const _0x7796a3=_0x2e1d5a;return this[_0x7796a3(0x416)];}[_0x2e1d5a(0x43a)](_0x3eb1d1,_0x8c8b67){const _0xd35b1e=_0x2e1d5a;return _0x8c8b67[_0xd35b1e(0x39a)](_0x4579b6=>euclideanDistance(_0x4579b6,_0x3eb1d1))['reduce']((_0x1cf447,_0x161fa6)=>_0x1cf447+_0x161fa6,0x0)/(_0x8c8b67['length']||0x1);}['matchDescriptor'](_0x16c0be){const _0x19610f=_0x2e1d5a;return this['labeledDescriptors'][_0x19610f(0x39a)](({descriptors:_0x365268,label:_0x265be6})=>new FaceMatch(_0x265be6,this[_0x19610f(0x43a)](_0x16c0be,_0x365268)))['reduce']((_0x440b0b,_0x449c97)=>_0x440b0b[_0x19610f(0x3b9)]<_0x449c97['distance']?_0x440b0b:_0x449c97);}[_0x2e1d5a(0x316)](_0x57c5a5){const _0x10d059=_0x2e1d5a,_0x27728c=this[_0x10d059(0x3a0)](_0x57c5a5);return _0x27728c[_0x10d059(0x3b9)]<this[_0x10d059(0x416)]?_0x27728c:new FaceMatch(_0x10d059(0x2d4),_0x27728c[_0x10d059(0x3b9)]);}[_0x2e1d5a(0x3a6)](){const _0x40829f=_0x2e1d5a;return{'distanceThreshold':this[_0x40829f(0x416)],'labeledDescriptors':this['_labeledDescriptors'][_0x40829f(0x39a)](_0x456c75=>_0x456c75['toJSON']())};}static[_0x2e1d5a(0x23d)](_0x1952d9){const _0x4f529c=_0x2e1d5a,_0x1d9b9b=_0x1952d9['labeledDescriptors']['map'](_0x30453e=>LabeledFaceDescriptors[_0x4f529c(0x23d)](_0x30453e));return new FaceMatcher(_0x1d9b9b,_0x1952d9[_0x4f529c(0x1dc)]);}};function createTinyFaceDetector(_0x1b93d5){const _0x3885dd=_0x2e1d5a,_0x415bc9=new TinyFaceDetector();return _0x415bc9[_0x3885dd(0x352)](_0x1b93d5),_0x415bc9;}function resizeResults(_0x2b6f35,_0x4bddc5){const _0x1cb409=_0x2e1d5a,{width:_0x5198a0,height:_0x556561}=new Dimensions(_0x4bddc5[_0x1cb409(0x3b2)],_0x4bddc5[_0x1cb409(0x2e0)]);if(_0x5198a0<=0x0||_0x556561<=0x0)throw new Error(_0x1cb409(0x20d)+JSON['stringify']({'width':_0x5198a0,'height':_0x556561}));if(Array[_0x1cb409(0x1d6)](_0x2b6f35))return _0x2b6f35[_0x1cb409(0x39a)](_0x3a5b8b=>resizeResults(_0x3a5b8b,{'width':_0x5198a0,'height':_0x556561}));if(isWithFaceLandmarks(_0x2b6f35)){const _0x47c822=_0x2b6f35[_0x1cb409(0x438)][_0x1cb409(0x386)](_0x5198a0,_0x556561),_0x312130=_0x2b6f35[_0x1cb409(0x3df)][_0x1cb409(0x386)](_0x47c822[_0x1cb409(0x242)][_0x1cb409(0x3b2)],_0x47c822[_0x1cb409(0x242)]['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x2b6f35,_0x47c822),_0x312130);}if(isWithFaceDetection(_0x2b6f35))return extendWithFaceDetection(_0x2b6f35,_0x2b6f35[_0x1cb409(0x438)][_0x1cb409(0x386)](_0x5198a0,_0x556561));if(_0x2b6f35 instanceof FaceLandmarks||_0x2b6f35 instanceof FaceDetection)return _0x2b6f35[_0x1cb409(0x386)](_0x5198a0,_0x556561);return _0x2b6f35;}var version2=version;0x0&&(module[_0x2e1d5a(0x401)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});