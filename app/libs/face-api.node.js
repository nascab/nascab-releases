'use strict';const _0x4382ac=_0x7004;(function(_0x141f36,_0x1086e8){const _0x3af4cf=_0x7004,_0x28a544=_0x141f36();while(!![]){try{const _0x45ddd2=-parseInt(_0x3af4cf(0x9e))/0x1+parseInt(_0x3af4cf(0x215))/0x2+parseInt(_0x3af4cf(0x1e4))/0x3+-parseInt(_0x3af4cf(0x279))/0x4+parseInt(_0x3af4cf(0x23d))/0x5+parseInt(_0x3af4cf(0x203))/0x6*(-parseInt(_0x3af4cf(0x1a8))/0x7)+-parseInt(_0x3af4cf(0x292))/0x8*(-parseInt(_0x3af4cf(0xbf))/0x9);if(_0x45ddd2===_0x1086e8)break;else _0x28a544['push'](_0x28a544['shift']());}catch(_0x37bc5f){_0x28a544['push'](_0x28a544['shift']());}}}(_0x5ee7,0x4f419));var __create=Object[_0x4382ac(0x2c6)],__defProp=Object[_0x4382ac(0xb9)],__getOwnPropDesc=Object['getOwnPropertyDescriptor'],__getOwnPropNames=Object[_0x4382ac(0x2bf)],__getProtoOf=Object[_0x4382ac(0x1ca)],__hasOwnProp=Object[_0x4382ac(0xab)][_0x4382ac(0x10e)],__commonJS=(_0xfdec15,_0x28abdb)=>function _0xc247bb(){const _0x18b7e0=_0x4382ac;return _0x28abdb||(0x0,_0xfdec15[__getOwnPropNames(_0xfdec15)[0x0]])((_0x28abdb={'exports':{}})[_0x18b7e0(0x1bb)],_0x28abdb),_0x28abdb[_0x18b7e0(0x1bb)];},__export=(_0x4be41b,_0x4eed8f)=>{for(var _0x11ac0f in _0x4eed8f)__defProp(_0x4be41b,_0x11ac0f,{'get':_0x4eed8f[_0x11ac0f],'enumerable':!![]});},__copyProps=(_0x33e027,_0x505d93,_0x3e9358,_0x503b00)=>{const _0x2c889f=_0x4382ac;if(_0x505d93&&typeof _0x505d93===_0x2c889f(0xb6)||typeof _0x505d93===_0x2c889f(0xed)){for(let _0x26c4f0 of __getOwnPropNames(_0x505d93))if(!__hasOwnProp['call'](_0x33e027,_0x26c4f0)&&_0x26c4f0!==_0x3e9358)__defProp(_0x33e027,_0x26c4f0,{'get':()=>_0x505d93[_0x26c4f0],'enumerable':!(_0x503b00=__getOwnPropDesc(_0x505d93,_0x26c4f0))||_0x503b00[_0x2c889f(0x190)]});}return _0x33e027;},__toESM=(_0x106c17,_0x234d67,_0x570e2f)=>(_0x570e2f=_0x106c17!=null?__create(__getProtoOf(_0x106c17)):{},__copyProps(_0x234d67||!_0x106c17||!_0x106c17[_0x4382ac(0x224)]?__defProp(_0x570e2f,_0x4382ac(0x12d),{'value':_0x106c17,'enumerable':!![]}):_0x570e2f,_0x106c17)),__toCommonJS=_0x7e4227=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x7e4227),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x1c7929,_0x237b15){'use strict';const _0x5a4a94=_0x4382ac;var _0x12001c=Object['defineProperty'],_0x4570e2=Object['getOwnPropertyDescriptor'],_0x42bd6b=Object[_0x5a4a94(0x2bf)],_0x8b532=Object[_0x5a4a94(0xab)]['hasOwnProperty'],_0x6ee383=(_0x565dfe,_0x240c4d,_0x8d0e1b,_0x147cf1)=>{const _0x1a7b03=_0x5a4a94;if(_0x240c4d&&typeof _0x240c4d===_0x1a7b03(0xb6)||typeof _0x240c4d===_0x1a7b03(0xed)){for(let _0x3b1a2d of _0x42bd6b(_0x240c4d))if(!_0x8b532[_0x1a7b03(0x86)](_0x565dfe,_0x3b1a2d)&&_0x3b1a2d!==_0x8d0e1b)_0x12001c(_0x565dfe,_0x3b1a2d,{'get':()=>_0x240c4d[_0x3b1a2d],'enumerable':!(_0x147cf1=_0x4570e2(_0x240c4d,_0x3b1a2d))||_0x147cf1[_0x1a7b03(0x190)]});}return _0x565dfe;},_0x1c8444=(_0x5e9b46,_0x2a0c18,_0x2c8e5b)=>(_0x6ee383(_0x5e9b46,_0x2a0c18,_0x5a4a94(0x12d)),_0x2c8e5b&&_0x6ee383(_0x2c8e5b,_0x2a0c18,_0x5a4a94(0x12d))),_0x5795dd=_0x1b495b=>_0x6ee383(_0x12001c({},_0x5a4a94(0x224),{'value':!![]}),_0x1b495b),_0xe7f4cf={};_0x237b15[_0x5a4a94(0x1bb)]=_0x5795dd(_0xe7f4cf),_0x1c8444(_0xe7f4cf,require(_0x5a4a94(0x1f1)),_0x237b15[_0x5a4a94(0x1bb)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module['exports']=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x524065,_0x38a4a5,_0x3f3203=![]){const _0x5e5b4a=_0x4382ac;_0x524065[_0x5e5b4a(0x2e9)](),_0x38a4a5[_0x5e5b4a(0xc7)](0x1)[_0x5e5b4a(0x1e6)](({x:_0x3c00c9,y:_0x1a0b01},_0x5b209e)=>{const _0x4981a8=_0x38a4a5[_0x5b209e];_0x524065['moveTo'](_0x4981a8['x'],_0x4981a8['y']),_0x524065['lineTo'](_0x3c00c9,_0x1a0b01);});if(_0x3f3203){const _0x248399=_0x38a4a5[_0x38a4a5['length']-0x1],_0x17df24=_0x38a4a5[0x0];if(!_0x248399||!_0x17df24)return;_0x524065['moveTo'](_0x248399['x'],_0x248399['y']),_0x524065['lineTo'](_0x17df24['x'],_0x17df24['y']);}_0x524065[_0x5e5b4a(0x1c4)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x3b33ce,_0x230a13){const _0x17d9fe=_0x4382ac;if(!isValidNumber(_0x3b33ce)||!isValidNumber(_0x230a13))throw new Error(_0x17d9fe(0x1fd)+JSON[_0x17d9fe(0xb1)]({'width':_0x3b33ce,'height':_0x230a13}));this[_0x17d9fe(0x251)]=_0x3b33ce,this[_0x17d9fe(0x14c)]=_0x230a13;}get['width'](){return this['_width'];}get[_0x4382ac(0x26b)](){return this['_height'];}[_0x4382ac(0x147)](){const _0x5a3a07=_0x4382ac;return new Dimensions(0x1/this['width'],0x1/this[_0x5a3a07(0x26b)]);}};function isTensor(_0x2ebabc,_0x819eac){const _0x1e0eff=_0x4382ac;return _0x2ebabc instanceof tf[_0x1e0eff(0x2d6)]&&_0x2ebabc['shape']['length']===_0x819eac;}function isTensor1D(_0x4f3d27){return isTensor(_0x4f3d27,0x1);}function isTensor2D(_0x2e1091){return isTensor(_0x2e1091,0x2);}function isTensor3D(_0x215ac2){return isTensor(_0x215ac2,0x3);}function isTensor4D(_0x570853){return isTensor(_0x570853,0x4);}function isFloat(_0x3915a7){return _0x3915a7%0x1!==0x0;}function isEven(_0x382133){return _0x382133%0x2===0x0;}function round(_0x594cbc,_0x5be8da=0x2){const _0x2ac5dc=0xa**_0x5be8da;return Math['floor'](_0x594cbc*_0x2ac5dc)/_0x2ac5dc;}function isDimensions(_0x275c52){const _0x5b59c9=_0x4382ac;return _0x275c52&&_0x275c52[_0x5b59c9(0x134)]&&_0x275c52[_0x5b59c9(0x26b)];}function _0x7004(_0x1d1705,_0x11d012){const _0x5ee782=_0x5ee7();return _0x7004=function(_0x700413,_0x31c0d9){_0x700413=_0x700413-0x68;let _0x234a7b=_0x5ee782[_0x700413];return _0x234a7b;},_0x7004(_0x1d1705,_0x11d012);}function computeReshapedDimensions({width:_0x26455b,height:_0xfd0dfc},_0xd4d97f){const _0x51003e=_0x4382ac,_0x33882b=_0xd4d97f/Math['max'](_0xfd0dfc,_0x26455b);return new Dimensions(Math[_0x51003e(0x265)](_0x26455b*_0x33882b),Math['round'](_0xfd0dfc*_0x33882b));}function getCenterPoint(_0x50afe1){const _0x3ad5db=_0x4382ac;return _0x50afe1[_0x3ad5db(0x2b1)]((_0xe86419,_0x20086c)=>_0xe86419[_0x3ad5db(0x1d1)](_0x20086c),new Point(0x0,0x0))[_0x3ad5db(0x107)](new Point(_0x50afe1['length'],_0x50afe1[_0x3ad5db(0xec)]));}function range(_0x17f7d9,_0x350fa8,_0x1acec0){const _0x1d22df=_0x4382ac;return Array(_0x17f7d9)['fill'](0x0)[_0x1d22df(0x23e)]((_0x21eacc,_0x4144b1)=>_0x350fa8+_0x4144b1*_0x1acec0);}function isValidNumber(_0x186a04){const _0x18bb29=_0x4382ac;return!!_0x186a04&&_0x186a04!==Infinity&&_0x186a04!==-Infinity&&!Number[_0x18bb29(0x12b)](_0x186a04)||_0x186a04===0x0;}function isValidProbablitiy(_0x4dab37){return isValidNumber(_0x4dab37)&&_0x4dab37>=0x0&&_0x4dab37<=0x1;}var Point=class{constructor(_0x556856,_0x1b7e13){this['_x']=_0x556856,this['_y']=_0x1b7e13;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x4382ac(0x1d1)](_0x331142){return new Point(this['x']+_0x331142['x'],this['y']+_0x331142['y']);}[_0x4382ac(0xa4)](_0x6244e0){return new Point(this['x']-_0x6244e0['x'],this['y']-_0x6244e0['y']);}[_0x4382ac(0x101)](_0x277f9d){return new Point(this['x']*_0x277f9d['x'],this['y']*_0x277f9d['y']);}[_0x4382ac(0x107)](_0x1887c3){return new Point(this['x']/_0x1887c3['x'],this['y']/_0x1887c3['y']);}[_0x4382ac(0xe9)](){const _0x4d5dc5=_0x4382ac;return new Point(Math[_0x4d5dc5(0xe9)](this['x']),Math[_0x4d5dc5(0xe9)](this['y']));}[_0x4382ac(0x113)](){const _0x2c1e74=_0x4382ac;return Math[_0x2c1e74(0x222)](this['x']**0x2+this['y']**0x2);}[_0x4382ac(0x1b6)](){const _0xbd343=_0x4382ac;return new Point(Math[_0xbd343(0x1b6)](this['x']),Math[_0xbd343(0x1b6)](this['y']));}},Box=class{static[_0x4382ac(0x2b5)](_0x432861){const _0x122b49=_0x4382ac;return!!_0x432861&&[_0x432861['x'],_0x432861['y'],_0x432861['width'],_0x432861[_0x122b49(0x26b)]][_0x122b49(0x1fa)](isValidNumber);}static[_0x4382ac(0x103)](_0xcc2ed0,_0xbf1882,_0x39866e=![]){const _0x27bf34=_0x4382ac;if(!Box[_0x27bf34(0x2b5)](_0xcc2ed0))throw new Error(_0xbf1882+_0x27bf34(0xfc)+JSON[_0x27bf34(0xb1)](_0xcc2ed0)+_0x27bf34(0x2c3));if(!_0x39866e&&(_0xcc2ed0[_0x27bf34(0x134)]<0x0||_0xcc2ed0['height']<0x0))throw new Error(_0xbf1882+_0x27bf34(0x19b)+_0xcc2ed0[_0x27bf34(0x134)]+')\x20and\x20height\x20('+_0xcc2ed0[_0x27bf34(0x26b)]+')\x20must\x20be\x20positive\x20numbers');}constructor(_0x11e5f2,_0x31fc14=!![]){const _0x297ec7=_0x4382ac,_0x1b0028=_0x11e5f2||{},_0x7daf2=[_0x1b0028['left'],_0x1b0028[_0x297ec7(0x22a)],_0x1b0028[_0x297ec7(0x187)],_0x1b0028['bottom']][_0x297ec7(0x1fa)](isValidNumber),_0x17b0ff=[_0x1b0028['x'],_0x1b0028['y'],_0x1b0028[_0x297ec7(0x134)],_0x1b0028[_0x297ec7(0x26b)]]['every'](isValidNumber);if(!_0x17b0ff&&!_0x7daf2)throw new Error(_0x297ec7(0x2dd)+JSON[_0x297ec7(0xb1)](_0x1b0028));const [_0x183ac3,_0x111004,_0x2620b9,_0x295c5f]=_0x17b0ff?[_0x1b0028['x'],_0x1b0028['y'],_0x1b0028[_0x297ec7(0x134)],_0x1b0028[_0x297ec7(0x26b)]]:[_0x1b0028[_0x297ec7(0xf8)],_0x1b0028[_0x297ec7(0x22a)],_0x1b0028[_0x297ec7(0x187)]-_0x1b0028[_0x297ec7(0xf8)],_0x1b0028[_0x297ec7(0x106)]-_0x1b0028[_0x297ec7(0x22a)]];Box['assertIsValidBox']({'x':_0x183ac3,'y':_0x111004,'width':_0x2620b9,'height':_0x295c5f},_0x297ec7(0xbb),_0x31fc14),this['_x']=_0x183ac3,this['_y']=_0x111004,this['_width']=_0x2620b9,this['_height']=_0x295c5f;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get['width'](){const _0x289b3f=_0x4382ac;return this[_0x289b3f(0x251)];}get['height'](){const _0x42a98a=_0x4382ac;return this[_0x42a98a(0x14c)];}get[_0x4382ac(0xf8)](){return this['x'];}get[_0x4382ac(0x22a)](){return this['y'];}get[_0x4382ac(0x187)](){return this['x']+this['width'];}get[_0x4382ac(0x106)](){const _0x1f5de5=_0x4382ac;return this['y']+this[_0x1f5de5(0x26b)];}get[_0x4382ac(0xc4)](){const _0x1aeec6=_0x4382ac;return this['width']*this[_0x1aeec6(0x26b)];}get[_0x4382ac(0x129)](){const _0x189188=_0x4382ac;return new Point(this[_0x189188(0xf8)],this['top']);}get['topRight'](){const _0x12a05c=_0x4382ac;return new Point(this['right'],this[_0x12a05c(0x22a)]);}get['bottomLeft'](){const _0xaa7a6b=_0x4382ac;return new Point(this[_0xaa7a6b(0xf8)],this[_0xaa7a6b(0x106)]);}get[_0x4382ac(0x274)](){return new Point(this['right'],this['bottom']);}[_0x4382ac(0x265)](){const _0x599fc2=_0x4382ac,[_0x54943a,_0x5e692f,_0x5cdee1,_0x4ce972]=[this['x'],this['y'],this[_0x599fc2(0x134)],this[_0x599fc2(0x26b)]][_0x599fc2(0x23e)](_0x19ee77=>Math[_0x599fc2(0x265)](_0x19ee77));return new Box({'x':_0x54943a,'y':_0x5e692f,'width':_0x5cdee1,'height':_0x4ce972});}[_0x4382ac(0x1b6)](){const _0x2d7b00=_0x4382ac,[_0x3760d1,_0x494214,_0xc9ec42,_0x34cc26]=[this['x'],this['y'],this[_0x2d7b00(0x134)],this[_0x2d7b00(0x26b)]][_0x2d7b00(0x23e)](_0x57c13c=>Math[_0x2d7b00(0x1b6)](_0x57c13c));return new Box({'x':_0x3760d1,'y':_0x494214,'width':_0xc9ec42,'height':_0x34cc26});}[_0x4382ac(0x76)](){const _0x276711=_0x4382ac;let {x:_0x204a61,y:_0x45929f,width:_0x24f164,height:_0x3b4318}=this;const _0x583f37=Math[_0x276711(0xe9)](_0x24f164-_0x3b4318);return _0x24f164<_0x3b4318&&(_0x204a61-=_0x583f37/0x2,_0x24f164+=_0x583f37),_0x3b4318<_0x24f164&&(_0x45929f-=_0x583f37/0x2,_0x3b4318+=_0x583f37),new Box({'x':_0x204a61,'y':_0x45929f,'width':_0x24f164,'height':_0x3b4318});}[_0x4382ac(0x1f2)](_0x13307d){const _0x2f0fee=_0x4382ac,_0x314f9e=isDimensions(_0x13307d)?_0x13307d[_0x2f0fee(0x134)]:_0x13307d,_0x1d0e16=isDimensions(_0x13307d)?_0x13307d[_0x2f0fee(0x26b)]:_0x13307d;return new Box({'x':this['x']*_0x314f9e,'y':this['y']*_0x1d0e16,'width':this['width']*_0x314f9e,'height':this[_0x2f0fee(0x26b)]*_0x1d0e16});}[_0x4382ac(0x14e)](_0x3a0e5d,_0x200950){const [_0x22733c,_0x26328d,_0x54b8ba,_0x4b5900]=[this['x']-_0x3a0e5d/0x2,this['y']-_0x200950/0x2,this['width']+_0x3a0e5d,this['height']+_0x200950];return new Box({'x':_0x22733c,'y':_0x26328d,'width':_0x54b8ba,'height':_0x4b5900});}['clipAtImageBorders'](_0x6076c3,_0x4f7f96){const _0x1e7f54=_0x4382ac,{x:_0x34690c,y:_0x159661,right:_0x46b3da,bottom:_0xbc9f6d}=this,_0x280e21=Math['max'](_0x34690c,0x0),_0x566122=Math[_0x1e7f54(0x2cd)](_0x159661,0x0),_0x1f03f5=_0x46b3da-_0x280e21,_0x1e39c7=_0xbc9f6d-_0x566122,_0x57c56e=Math[_0x1e7f54(0x1f3)](_0x1f03f5,_0x6076c3-_0x280e21),_0x5ac00c=Math[_0x1e7f54(0x1f3)](_0x1e39c7,_0x4f7f96-_0x566122);return new Box({'x':_0x280e21,'y':_0x566122,'width':_0x57c56e,'height':_0x5ac00c})[_0x1e7f54(0x1b6)]();}['shift'](_0x3c57af,_0x33697c){const {width:_0x473c9a,height:_0x4a7754}=this,_0x3117a5=this['x']+_0x3c57af,_0x13caa6=this['y']+_0x33697c;return new Box({'x':_0x3117a5,'y':_0x13caa6,'width':_0x473c9a,'height':_0x4a7754});}[_0x4382ac(0x119)](_0x1048b8,_0x2ef387){const _0xb4cc6=_0x4382ac,_0x2a170c=this[_0xb4cc6(0x134)]+0x1,_0x1de98c=this['height']+0x1,_0x821413=0x1,_0x2f12ac=0x1;let _0x22feec=_0x2a170c,_0x1fbc21=_0x1de98c,_0x4daf45=this[_0xb4cc6(0xf8)],_0x4ffce1=this[_0xb4cc6(0x22a)],_0x530f16=this[_0xb4cc6(0x187)],_0x12d766=this[_0xb4cc6(0x106)];return _0x530f16>_0x2ef387&&(_0x22feec=-_0x530f16+_0x2ef387+_0x2a170c,_0x530f16=_0x2ef387),_0x12d766>_0x1048b8&&(_0x1fbc21=-_0x12d766+_0x1048b8+_0x1de98c,_0x12d766=_0x1048b8),_0x4daf45<0x1&&(_0x1fbc21=0x2-_0x4daf45,_0x4daf45=0x1),_0x4ffce1<0x1&&(_0x1fbc21=0x2-_0x4ffce1,_0x4ffce1=0x1),{'dy':_0x2f12ac,'edy':_0x1fbc21,'dx':_0x821413,'edx':_0x22feec,'y':_0x4ffce1,'ey':_0x12d766,'x':_0x4daf45,'ex':_0x530f16,'w':_0x2a170c,'h':_0x1de98c};}[_0x4382ac(0x235)](_0xaf13c){const _0x5adb4f=_0x4382ac;return new Box({'left':this[_0x5adb4f(0xf8)]+_0xaf13c[_0x5adb4f(0xf8)]*this[_0x5adb4f(0x134)],'top':this['top']+_0xaf13c[_0x5adb4f(0x22a)]*this[_0x5adb4f(0x26b)],'right':this[_0x5adb4f(0x187)]+_0xaf13c['right']*this[_0x5adb4f(0x134)],'bottom':this[_0x5adb4f(0x106)]+_0xaf13c[_0x5adb4f(0x106)]*this[_0x5adb4f(0x26b)]})[_0x5adb4f(0x76)]()[_0x5adb4f(0x265)]();}},BoundingBox=class extends Box{constructor(_0x1d891a,_0x50101e,_0x34dcc4,_0x44b369,_0x28b170=![]){super({'left':_0x1d891a,'top':_0x50101e,'right':_0x34dcc4,'bottom':_0x44b369},_0x28b170);}},ObjectDetection=class{constructor(_0x2a516f,_0x355378,_0x5bce79,_0x715b79,_0x6cc9d5){const _0x118390=_0x4382ac;this[_0x118390(0x148)]=new Dimensions(_0x6cc9d5['width'],_0x6cc9d5[_0x118390(0x26b)]),this[_0x118390(0x2e6)]=_0x2a516f,this['_classScore']=_0x355378,this[_0x118390(0xf3)]=_0x5bce79,this[_0x118390(0x1d7)]=new Box(_0x715b79)[_0x118390(0x1f2)](this[_0x118390(0x148)]);}get[_0x4382ac(0x194)](){const _0xff45dc=_0x4382ac;return this[_0xff45dc(0x2e6)];}get['classScore'](){const _0x2ebdfe=_0x4382ac;return this[_0x2ebdfe(0xc0)];}get[_0x4382ac(0x1ce)](){const _0x101359=_0x4382ac;return this[_0x101359(0xf3)];}get[_0x4382ac(0x1e9)](){const _0x53bd84=_0x4382ac;return this[_0x53bd84(0x1d7)];}get['imageDims'](){const _0xf737b3=_0x4382ac;return this[_0xf737b3(0x148)];}get['imageWidth'](){const _0x2323e3=_0x4382ac;return this[_0x2323e3(0x2dc)][_0x2323e3(0x134)];}get[_0x4382ac(0x11a)](){const _0x3c81a3=_0x4382ac;return this[_0x3c81a3(0x2dc)][_0x3c81a3(0x26b)];}get[_0x4382ac(0x141)](){const _0x41ed9b=_0x4382ac;return new Box(this[_0x41ed9b(0x1d7)])[_0x41ed9b(0x1f2)](this[_0x41ed9b(0x2dc)][_0x41ed9b(0x147)]());}[_0x4382ac(0x2b7)](_0x183f58,_0x21e648){const _0x2a72a3=_0x4382ac;return new ObjectDetection(this[_0x2a72a3(0x194)],this[_0x2a72a3(0x26a)],this['className'],this['relativeBox'],{'width':_0x183f58,'height':_0x21e648});}},FaceDetection=class extends ObjectDetection{constructor(_0x54d9bd,_0xbd439a,_0xf9297d){super(_0x54d9bd,_0x54d9bd,'',_0xbd439a,_0xf9297d);}[_0x4382ac(0x2b7)](_0x2c0fb4,_0x53e712){const _0x641444=_0x4382ac,{score:_0x532cb6,relativeBox:_0x478038,imageDims:_0x1cef53}=super[_0x641444(0x2b7)](_0x2c0fb4,_0x53e712);return new FaceDetection(_0x532cb6,_0x478038,_0x1cef53);}};function iou(_0x130ce9,_0x591b2a,_0x4d761e=!![]){const _0x3d3d27=_0x4382ac,_0x32a2b3=Math['max'](0x0,Math[_0x3d3d27(0x1f3)](_0x130ce9['right'],_0x591b2a[_0x3d3d27(0x187)])-Math[_0x3d3d27(0x2cd)](_0x130ce9[_0x3d3d27(0xf8)],_0x591b2a[_0x3d3d27(0xf8)])),_0x2b9bf8=Math[_0x3d3d27(0x2cd)](0x0,Math[_0x3d3d27(0x1f3)](_0x130ce9[_0x3d3d27(0x106)],_0x591b2a[_0x3d3d27(0x106)])-Math[_0x3d3d27(0x2cd)](_0x130ce9[_0x3d3d27(0x22a)],_0x591b2a['top'])),_0x357007=_0x32a2b3*_0x2b9bf8;return _0x4d761e?_0x357007/(_0x130ce9[_0x3d3d27(0xc4)]+_0x591b2a[_0x3d3d27(0xc4)]-_0x357007):_0x357007/Math['min'](_0x130ce9['area'],_0x591b2a[_0x3d3d27(0xc4)]);}function minBbox(_0x11ce6c){const _0x46d270=_0x4382ac,_0x48e6d7=_0x11ce6c['map'](_0x3cc4b6=>_0x3cc4b6['x']),_0x625f93=_0x11ce6c[_0x46d270(0x23e)](_0x5e9a06=>_0x5e9a06['y']),_0x4d7e16=_0x48e6d7[_0x46d270(0x2b1)]((_0x356983,_0x422825)=>_0x422825<_0x356983?_0x422825:_0x356983,Infinity),_0x4573fc=_0x625f93[_0x46d270(0x2b1)]((_0x5a8088,_0x114998)=>_0x114998<_0x5a8088?_0x114998:_0x5a8088,Infinity),_0x1a379a=_0x48e6d7[_0x46d270(0x2b1)]((_0x1bd1c3,_0xeb1458)=>_0x1bd1c3<_0xeb1458?_0xeb1458:_0x1bd1c3,0x0),_0x111280=_0x625f93[_0x46d270(0x2b1)]((_0x5cf321,_0x5b7640)=>_0x5cf321<_0x5b7640?_0x5b7640:_0x5cf321,0x0);return new BoundingBox(_0x4d7e16,_0x4573fc,_0x1a379a,_0x111280);}function nonMaxSuppression(_0x422474,_0x316871,_0x474d84,_0x595d63=!![]){const _0x54504b=_0x4382ac;let _0xa91ec7=_0x316871[_0x54504b(0x23e)]((_0x4015d7,_0x1f06de)=>({'score':_0x4015d7,'boxIndex':_0x1f06de}))['sort']((_0x2d6782,_0x5bb79b)=>_0x2d6782[_0x54504b(0x194)]-_0x5bb79b['score'])[_0x54504b(0x23e)](_0x57e4f4=>_0x57e4f4[_0x54504b(0x109)]);const _0x4985ad=[];while(_0xa91ec7['length']>0x0){const _0x47ad12=_0xa91ec7[_0x54504b(0xb8)]();_0x4985ad[_0x54504b(0x216)](_0x47ad12);const _0x1e0b67=_0xa91ec7,_0x13b383=[];for(let _0x5b288a=0x0;_0x5b288a<_0x1e0b67[_0x54504b(0xec)];_0x5b288a++){const _0x3f38d8=_0x1e0b67[_0x5b288a],_0x4d00ae=_0x422474[_0x47ad12],_0x3e191a=_0x422474[_0x3f38d8];_0x13b383['push'](iou(_0x4d00ae,_0x3e191a,_0x595d63));}_0xa91ec7=_0xa91ec7[_0x54504b(0x1dc)]((_0x1d2b34,_0x5193f9)=>_0x13b383[_0x5193f9]<=_0x474d84);}return _0x4985ad;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x38e7ec,_0x335e43){const _0x199efe=_0x4382ac;return tf2[_0x199efe(0xd9)](()=>{const _0x3f89e2=_0x199efe,[_0x244de4,_0x413158,_0x488dfa]=_0x335e43,_0xe263de=tf2[_0x3f89e2(0x253)]([..._0x38e7ec[_0x3f89e2(0x206)][_0x3f89e2(0xc7)](0x0,0x3),0x1],_0x244de4,_0x3f89e2(0x127)),_0x102ca6=tf2[_0x3f89e2(0x253)]([..._0x38e7ec[_0x3f89e2(0x206)][_0x3f89e2(0xc7)](0x0,0x3),0x1],_0x413158,'float32'),_0x56474f=tf2[_0x3f89e2(0x253)]([..._0x38e7ec[_0x3f89e2(0x206)]['slice'](0x0,0x3),0x1],_0x488dfa,_0x3f89e2(0x127)),_0x571cb1=tf2['concat']([_0xe263de,_0x102ca6,_0x56474f],0x3);return tf2['sub'](_0x38e7ec,_0x571cb1);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x381ef8,_0x1c258c=![]){const _0x1eb37a=_0x4382ac;return tf3[_0x1eb37a(0xd9)](()=>{const _0x1cc51d=_0x1eb37a,[_0x57274d,_0x44a1e5]=_0x381ef8[_0x1cc51d(0x206)][_0x1cc51d(0xc7)](0x1);if(_0x57274d===_0x44a1e5)return _0x381ef8;const _0x332503=Math['abs'](_0x57274d-_0x44a1e5),_0x1270d7=Math[_0x1cc51d(0x265)](_0x332503*(_0x1c258c?0.5:0x1)),_0x6aa5f3=_0x57274d>_0x44a1e5?0x2:0x1,_0xcb02fd=_0x514c6d=>{const _0x203d78=_0x1cc51d,_0xa7cb8a=_0x381ef8[_0x203d78(0x206)]['slice']();return _0xa7cb8a[_0x6aa5f3]=_0x514c6d,tf3[_0x203d78(0x253)](_0xa7cb8a,0x0,'float32');},_0x2dad56=_0xcb02fd(_0x1270d7),_0x3be8a1=_0x332503-_0x2dad56['shape'][_0x6aa5f3],_0x152e9e=_0x1c258c&&_0x3be8a1?_0xcb02fd(_0x3be8a1):null,_0x50e7c0=[_0x152e9e,_0x381ef8,_0x2dad56][_0x1cc51d(0x1dc)](_0x25faba=>!!_0x25faba)[_0x1cc51d(0x23e)](_0x2cbbe2=>tf3[_0x1cc51d(0x105)](_0x2cbbe2,_0x1cc51d(0x127)));return tf3[_0x1cc51d(0x27f)](_0x50e7c0,_0x6aa5f3);});}function shuffleArray(_0x4ff358){const _0x216ba4=_0x4382ac,_0x13d939=_0x4ff358[_0x216ba4(0xc7)]();for(let _0x32dc86=_0x13d939['length']-0x1;_0x32dc86>0x0;_0x32dc86--){const _0x391ce9=Math[_0x216ba4(0x1b6)](Math['random']()*(_0x32dc86+0x1)),_0x3e7c90=_0x13d939[_0x32dc86];_0x13d939[_0x32dc86]=_0x13d939[_0x391ce9],_0x13d939[_0x391ce9]=_0x3e7c90;}return _0x13d939;}function sigmoid(_0x1b8460){const _0x5f2730=_0x4382ac;return 0x1/(0x1+Math[_0x5f2730(0x197)](-_0x1b8460));}function inverseSigmoid(_0x24607d){const _0x5b7f2e=_0x4382ac;return Math[_0x5b7f2e(0x1aa)](_0x24607d/(0x1-_0x24607d));}var Rect=class extends Box{constructor(_0x3e71a6,_0x3a7015,_0x1e8a05,_0x509b4d,_0x23eb29=![]){super({'x':_0x3e71a6,'y':_0x3a7015,'width':_0x1e8a05,'height':_0x509b4d},_0x23eb29);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x7fba54,_0x3b4269,_0xef978b=new Point(0x0,0x0)){const _0x135c03=_0x4382ac,{width:_0x1032ce,height:_0xbdc224}=_0x3b4269;this[_0x135c03(0xcd)]=new Dimensions(_0x1032ce,_0xbdc224),this[_0x135c03(0x11e)]=_0xef978b,this['_positions']=_0x7fba54[_0x135c03(0x23e)](_0x1d5b8c=>_0x1d5b8c[_0x135c03(0x101)](new Point(_0x1032ce,_0xbdc224))[_0x135c03(0x1d1)](_0xef978b));}get['shift'](){const _0x50fd22=_0x4382ac;return new Point(this[_0x50fd22(0x11e)]['x'],this[_0x50fd22(0x11e)]['y']);}get['imageWidth'](){const _0x3d0e9f=_0x4382ac;return this[_0x3d0e9f(0xcd)][_0x3d0e9f(0x134)];}get[_0x4382ac(0x11a)](){const _0x1b8b8b=_0x4382ac;return this[_0x1b8b8b(0xcd)][_0x1b8b8b(0x26b)];}get[_0x4382ac(0x270)](){return this['_positions'];}get[_0x4382ac(0x1ae)](){const _0x58d1a3=_0x4382ac;return this['_positions'][_0x58d1a3(0x23e)](_0x8bc435=>_0x8bc435[_0x58d1a3(0xa4)](this[_0x58d1a3(0x11e)])[_0x58d1a3(0x107)](new Point(this[_0x58d1a3(0x7b)],this[_0x58d1a3(0x11a)])));}[_0x4382ac(0x2b7)](_0x23c26c,_0x586db6){const _0x39cbf8=_0x4382ac;return new this[(_0x39cbf8(0x13b))](this[_0x39cbf8(0x1ae)],{'width':_0x23c26c,'height':_0x586db6});}[_0x4382ac(0x232)](_0x86f25e,_0x2a26c4){const _0x46c637=_0x4382ac;return new this[(_0x46c637(0x13b))](this[_0x46c637(0x1ae)],this[_0x46c637(0xcd)],new Point(_0x86f25e,_0x2a26c4));}[_0x4382ac(0x146)](_0x2428de){const _0x31ac8b=_0x4382ac;return this[_0x31ac8b(0x232)](_0x2428de['x'],_0x2428de['y']);}[_0x4382ac(0x2a9)](_0x2bd683,_0x381714={}){const _0x37b11b=_0x4382ac;if(_0x2bd683){const _0x2c5cf8=_0x2bd683 instanceof FaceDetection?_0x2bd683[_0x37b11b(0x1e9)][_0x37b11b(0x1b6)]():new Box(_0x2bd683);return this[_0x37b11b(0x232)](_0x2c5cf8['x'],_0x2c5cf8['y'])['align'](null,_0x381714);}const {useDlibAlignment:_0x2c87da,minBoxPadding:_0xec3c7d}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x381714};if(_0x2c87da)return this[_0x37b11b(0x94)]();return this[_0x37b11b(0x2e0)](_0xec3c7d);}['alignDlib'](){const _0x293f79=_0x4382ac,_0x2b8094=this[_0x293f79(0xc1)](),[_0x28a82f,_0x584eb0,_0x439b8e]=_0x2b8094,_0x31924e=_0x4b182f=>_0x439b8e['sub'](_0x4b182f)[_0x293f79(0x113)](),_0x102015=(_0x31924e(_0x28a82f)+_0x31924e(_0x584eb0))/0x2,_0x201ef3=Math[_0x293f79(0x1b6)](_0x102015/relScale),_0x3151f6=getCenterPoint(_0x2b8094),_0x42a19a=Math[_0x293f79(0x1b6)](Math[_0x293f79(0x2cd)](0x0,_0x3151f6['x']-relX*_0x201ef3)),_0x46fd22=Math['floor'](Math[_0x293f79(0x2cd)](0x0,_0x3151f6['y']-relY*_0x201ef3));return new Rect(_0x42a19a,_0x46fd22,Math[_0x293f79(0x1f3)](_0x201ef3,this['imageWidth']+_0x42a19a),Math['min'](_0x201ef3,this['imageHeight']+_0x46fd22));}[_0x4382ac(0x2e0)](_0x3c05e7){const _0x5d6d90=_0x4382ac,_0x38d459=minBbox(this[_0x5d6d90(0x270)]);return _0x38d459[_0x5d6d90(0x14e)](_0x38d459[_0x5d6d90(0x134)]*_0x3c05e7,_0x38d459['height']*_0x3c05e7);}[_0x4382ac(0xc1)](){throw new Error('getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class');}},FaceLandmarks5=class extends FaceLandmarks{[_0x4382ac(0xc1)](){const _0xf5f6cf=_0x4382ac,_0x51a3e7=this[_0xf5f6cf(0x270)];return[_0x51a3e7[0x0],_0x51a3e7[0x1],getCenterPoint([_0x51a3e7[0x3],_0x51a3e7[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x4382ac(0x281)](){const _0x16a64c=_0x4382ac;return this[_0x16a64c(0x270)][_0x16a64c(0xc7)](0x0,0x11);}[_0x4382ac(0x6f)](){const _0x12cf70=_0x4382ac;return this[_0x12cf70(0x270)][_0x12cf70(0xc7)](0x11,0x16);}[_0x4382ac(0x11f)](){const _0x5982bf=_0x4382ac;return this[_0x5982bf(0x270)][_0x5982bf(0xc7)](0x16,0x1b);}['getNose'](){const _0x363d78=_0x4382ac;return this[_0x363d78(0x270)][_0x363d78(0xc7)](0x1b,0x24);}[_0x4382ac(0x2c8)](){const _0x5bd395=_0x4382ac;return this[_0x5bd395(0x270)][_0x5bd395(0xc7)](0x24,0x2a);}[_0x4382ac(0xd0)](){const _0x592ed3=_0x4382ac;return this['positions'][_0x592ed3(0xc7)](0x2a,0x30);}['getMouth'](){const _0x2a19c2=_0x4382ac;return this['positions'][_0x2a19c2(0xc7)](0x30,0x44);}[_0x4382ac(0xc1)](){const _0x4cae21=_0x4382ac;return[this[_0x4cae21(0x2c8)](),this[_0x4cae21(0xd0)](),this[_0x4cae21(0x2b6)]()][_0x4cae21(0x23e)](getCenterPoint);}},FaceMatch=class{constructor(_0x569289,_0x28c4f8){this['_label']=_0x569289,this['_distance']=_0x28c4f8;}get[_0x4382ac(0xb3)](){return this['_label'];}get[_0x4382ac(0x2a3)](){const _0x5db026=_0x4382ac;return this[_0x5db026(0x1d5)];}[_0x4382ac(0x120)](_0x955343=!![]){const _0x17229e=_0x4382ac;return''+this[_0x17229e(0xb3)]+(_0x955343?'\x20('+round(this[_0x17229e(0x2a3)])+')':'');}},LabeledBox=class extends Box{constructor(_0x29d8e3,_0x14bc69){const _0x8f58a3=_0x4382ac;super(_0x29d8e3),this[_0x8f58a3(0xae)]=_0x14bc69;}static['assertIsValidLabeledBox'](_0xf48d63,_0x3c8910){const _0x561e36=_0x4382ac;Box['assertIsValidBox'](_0xf48d63,_0x3c8910);if(!isValidNumber(_0xf48d63['label']))throw new Error(_0x3c8910+'\x20-\x20expected\x20property\x20label\x20('+_0xf48d63[_0x561e36(0xb3)]+_0x561e36(0x278));}get[_0x4382ac(0xb3)](){const _0x2520dd=_0x4382ac;return this[_0x2520dd(0xae)];}},LabeledFaceDescriptors=class{constructor(_0x4c9e5d,_0xd83bba){const _0x3db62b=_0x4382ac;if(!(typeof _0x4c9e5d==='string'))throw new Error(_0x3db62b(0x133));if(!Array['isArray'](_0xd83bba)||_0xd83bba[_0x3db62b(0x8f)](_0x715ce9=>!(_0x715ce9 instanceof Float32Array)))throw new Error(_0x3db62b(0xd2));this[_0x3db62b(0xae)]=_0x4c9e5d,this[_0x3db62b(0xe8)]=_0xd83bba;}get['label'](){const _0x44c17d=_0x4382ac;return this[_0x44c17d(0xae)];}get[_0x4382ac(0x2aa)](){return this['_descriptors'];}[_0x4382ac(0x1c0)](){const _0x44e778=_0x4382ac;return{'label':this['label'],'descriptors':this[_0x44e778(0x2aa)]['map'](_0x294c39=>Array[_0x44e778(0x1df)](_0x294c39))};}static[_0x4382ac(0x1f8)](_0x2a1f83){const _0xe15afe=_0x4382ac,_0x2df6b3=_0x2a1f83['descriptors']['map'](_0x1eeca7=>new Float32Array(_0x1eeca7));return new LabeledFaceDescriptors(_0x2a1f83[_0xe15afe(0xb3)],_0x2df6b3);}},PredictedBox=class extends LabeledBox{constructor(_0xd79c7a,_0x20de36,_0x1f8733,_0x59c886){const _0x412a8c=_0x4382ac;super(_0xd79c7a,_0x20de36),this['_score']=_0x1f8733,this[_0x412a8c(0xc0)]=_0x59c886;}static['assertIsValidPredictedBox'](_0x295e86,_0x4c8af2){const _0x2bbae2=_0x4382ac;LabeledBox['assertIsValidLabeledBox'](_0x295e86,_0x4c8af2);if(!isValidProbablitiy(_0x295e86[_0x2bbae2(0x194)])||!isValidProbablitiy(_0x295e86[_0x2bbae2(0x26a)]))throw new Error(_0x4c8af2+_0x2bbae2(0x289)+_0x295e86[_0x2bbae2(0x194)]+_0x2bbae2(0x156)+_0x295e86[_0x2bbae2(0x26a)]+_0x2bbae2(0x172));}get['score'](){const _0x89293e=_0x4382ac;return this[_0x89293e(0x2e6)];}get[_0x4382ac(0x26a)](){return this['_classScore'];}};function isWithFaceDetection(_0x2dee8f){return _0x2dee8f['detection']instanceof FaceDetection;}function extendWithFaceDetection(_0x143455,_0x5067c7){const _0x2e3823={'detection':_0x5067c7};return{..._0x143455,..._0x2e3823};}function createBrowserEnv(){const _0x2e8d37=_0x4382ac,_0x36ccd1=window[_0x2e8d37(0x16a)];if(!_0x36ccd1)throw new Error(_0x2e8d37(0x16e));const _0x4326c6=()=>{const _0x3c9364=_0x2e8d37;throw new Error(_0x3c9364(0x1a5));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document['createElement'](_0x2e8d37(0x294)),'createImageElement':()=>document[_0x2e8d37(0x9f)]('img'),'createVideoElement':()=>document['createElement']('video'),'fetch':_0x36ccd1,'readFile':_0x4326c6};}function isNodejs(){const _0x44c92c=_0x4382ac;return typeof global===_0x44c92c(0xb6)&&typeof process!==_0x44c92c(0x2a0)&&process['versions']!=null&&process[_0x44c92c(0x78)][_0x44c92c(0x11d)]!=null;}function createFileSystem(_0x516dc6){const _0x489f0d=_0x4382ac;let _0xe390dd='';if(!_0x516dc6&&isNodejs())try{_0x516dc6=require('fs');}catch(_0x2592ee){console[_0x489f0d(0x1aa)](_0x489f0d(0x158),_0x2592ee),_0xe390dd=_0x2592ee[_0x489f0d(0x120)]();}const _0x8cd891=_0x516dc6?_0x33aca1=>new Promise((_0x2e2e57,_0x44e5ca)=>{_0x516dc6['readFile'](_0x33aca1,(_0x14104e,_0x5c6fcc)=>_0x14104e?_0x44e5ca(_0x14104e):_0x2e2e57(_0x5c6fcc));}):()=>{const _0x19e415=_0x489f0d;throw new Error(_0x19e415(0x6b)+_0xe390dd);};return{'readFile':_0x8cd891};}function createNodejsEnv(){const _0x470ed8=_0x4382ac,_0x5928f2=global[_0x470ed8(0x6d)]||global[_0x470ed8(0x95)],_0x4bc602=global[_0x470ed8(0x2d3)]||global[_0x470ed8(0x238)],_0x181509=global[_0x470ed8(0x1a9)]||global[_0x470ed8(0x7e)],_0x22b44c=()=>{if(_0x5928f2)return new _0x5928f2();throw new Error('createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment');},_0x3088da=()=>{if(_0x4bc602)return new _0x4bc602();throw new Error('createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment');},_0x44fbfb=()=>{const _0x3f7a64=_0x470ed8;if(_0x181509)return new _0x181509();throw new Error(_0x3f7a64(0x2cb));},_0x21bba0=global[_0x470ed8(0x16a)],_0x3e9024=createFileSystem();return{'Canvas':_0x5928f2||class{},'CanvasRenderingContext2D':global[_0x470ed8(0x84)]||class{},'Image':_0x4bc602||class{},'ImageData':global[_0x470ed8(0x124)]||class{},'Video':global[_0x470ed8(0x7e)]||class{},'createCanvasElement':_0x22b44c,'createImageElement':_0x3088da,'createVideoElement':_0x44fbfb,'fetch':_0x21bba0,..._0x3e9024};}function isBrowser(){const _0x4727d4=_0x4382ac;return typeof window===_0x4727d4(0xb6)&&typeof document!=='undefined'&&typeof HTMLImageElement!==_0x4727d4(0x2a0)&&typeof HTMLCanvasElement!==_0x4727d4(0x2a0)&&typeof HTMLVideoElement!==_0x4727d4(0x2a0)&&typeof ImageData!=='undefined'&&typeof CanvasRenderingContext2D!=='undefined';}var environment;function getEnv(){const _0x106d9e=_0x4382ac;if(!environment)throw new Error(_0x106d9e(0x266));return environment;}function setEnv(_0x44842a){environment=_0x44842a;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x287846){const _0x171dda=_0x4382ac;!environment&&initialize();if(!environment)throw new Error('monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()');const {Canvas:Canvas=environment[_0x171dda(0x6d)],Image:Image=environment[_0x171dda(0x2d3)]}=_0x287846;environment[_0x171dda(0x6d)]=Canvas,environment['Image']=Image,environment[_0x171dda(0xaf)]=_0x287846['createCanvasElement']||(()=>new Canvas()),environment[_0x171dda(0x1e0)]=_0x287846[_0x171dda(0x1e0)]||(()=>new Image()),environment[_0x171dda(0x124)]=_0x287846[_0x171dda(0x124)]||environment[_0x171dda(0x124)],environment[_0x171dda(0x1a9)]=_0x287846[_0x171dda(0x1a9)]||environment['Video'],environment[_0x171dda(0x16a)]=_0x287846[_0x171dda(0x16a)]||environment[_0x171dda(0x16a)],environment[_0x171dda(0x2c0)]=_0x287846[_0x171dda(0x2c0)]||environment[_0x171dda(0x2c0)];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x4edad0){const _0x314366=_0x4382ac;if(!env[_0x314366(0x10a)]()&&typeof _0x4edad0===_0x314366(0x128))return document[_0x314366(0x24d)](_0x4edad0);return _0x4edad0;}function getContext2dOrThrow(_0x107a0c){const _0x17b9d=_0x4382ac,{Canvas:_0x49315a,CanvasRenderingContext2D:_0x235aba}=env[_0x17b9d(0x1a1)]();if(_0x107a0c instanceof _0x235aba)return _0x107a0c;const _0x55632a=resolveInput(_0x107a0c);if(!(_0x55632a instanceof _0x49315a))throw new Error(_0x17b9d(0x1d9));const _0x910b34=_0x55632a[_0x17b9d(0xbe)]('2d');if(!_0x910b34)throw new Error(_0x17b9d(0x2bc));return _0x910b34;}var AnchorPosition=(_0x4a2913=>{const _0x5016a2=_0x4382ac;return _0x4a2913[_0x5016a2(0x247)]=_0x5016a2(0x247),_0x4a2913[_0x5016a2(0x259)]=_0x5016a2(0x259),_0x4a2913[_0x5016a2(0x9d)]='BOTTOM_LEFT',_0x4a2913[_0x5016a2(0x208)]=_0x5016a2(0x208),_0x4a2913;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x293504={}){const _0x3d4b5c=_0x4382ac,{anchorPosition:_0x5f531f,backgroundColor:_0x2f6a80,fontColor:_0x177e09,fontSize:_0x15adfe,fontStyle:_0x5ab519,padding:_0x150659}=_0x293504;this[_0x3d4b5c(0xdf)]=_0x5f531f||_0x3d4b5c(0x247),this[_0x3d4b5c(0x68)]=_0x2f6a80||_0x3d4b5c(0x1f6),this['fontColor']=_0x177e09||_0x3d4b5c(0x183),this['fontSize']=_0x15adfe||0xe,this['fontStyle']=_0x5ab519||_0x3d4b5c(0x242),this[_0x3d4b5c(0x14f)]=_0x150659||0x4;}},DrawTextField=class{constructor(_0x538450,_0x3b0e98,_0x5bce4d={}){const _0x760fef=_0x4382ac;this[_0x760fef(0x21c)]=typeof _0x538450===_0x760fef(0x128)?[_0x538450]:_0x538450 instanceof DrawTextField?_0x538450[_0x760fef(0x21c)]:_0x538450,this['anchor']=_0x3b0e98,this[_0x760fef(0x2e4)]=new DrawTextFieldOptions(_0x5bce4d);}[_0x4382ac(0x21b)](_0x1711b1){const _0x5a6a0b=_0x4382ac,{padding:_0x278881}=this[_0x5a6a0b(0x2e4)];return this[_0x5a6a0b(0x21c)][_0x5a6a0b(0x23e)](_0x90bec5=>_0x1711b1[_0x5a6a0b(0x1a2)](_0x90bec5)[_0x5a6a0b(0x134)])[_0x5a6a0b(0x2b1)]((_0x852bf,_0x2f64ee)=>_0x852bf<_0x2f64ee?_0x2f64ee:_0x852bf,0x0)+0x2*_0x278881;}['measureHeight'](){const _0x51eb4a=_0x4382ac,{fontSize:_0x11b604,padding:_0x1ab508}=this[_0x51eb4a(0x2e4)];return this['text'][_0x51eb4a(0xec)]*_0x11b604+0x2*_0x1ab508;}[_0x4382ac(0x223)](_0x5bde32,_0x3eae26){const _0x3c5c7e=_0x4382ac,{anchorPosition:_0x463cb4}=this['options'],_0x471369=_0x463cb4===_0x3c5c7e(0x208)||_0x463cb4===_0x3c5c7e(0x259),_0x18e5e4=_0x463cb4===_0x3c5c7e(0x9d)||_0x463cb4===_0x3c5c7e(0x208),_0x2f5075=this[_0x3c5c7e(0x21b)](_0x5bde32),_0x4f3b2d=this[_0x3c5c7e(0x2c7)](),_0x175a78=_0x471369?this[_0x3c5c7e(0x256)]['x']-_0x2f5075:this['anchor']['x'],_0x14990c=_0x18e5e4?this['anchor']['y']-_0x4f3b2d:this[_0x3c5c7e(0x256)]['y'];if(_0x3eae26){const {width:_0x34f10e,height:_0x58f532}=_0x3eae26,_0x17fa30=Math[_0x3c5c7e(0x2cd)](Math['min'](_0x175a78,_0x34f10e-_0x2f5075),0x0),_0x59718c=Math[_0x3c5c7e(0x2cd)](Math['min'](_0x14990c,_0x58f532-_0x4f3b2d),0x0);return{'x':_0x17fa30,'y':_0x59718c};}return{'x':_0x175a78,'y':_0x14990c};}[_0x4382ac(0x21e)](_0x16b284){const _0x25bc41=_0x4382ac,_0xf19cd6=resolveInput(_0x16b284),_0x5a057c=getContext2dOrThrow(_0xf19cd6),{backgroundColor:_0x5d53dc,fontColor:_0x9964e9,fontSize:_0x207ae6,fontStyle:_0x256d35,padding:_0x1f5b84}=this[_0x25bc41(0x2e4)];_0x5a057c[_0x25bc41(0x2de)]=_0x207ae6+_0x25bc41(0x2ac)+_0x256d35;const _0x14595d=this[_0x25bc41(0x21b)](_0x5a057c),_0x3343e8=this[_0x25bc41(0x2c7)]();_0x5a057c['fillStyle']=_0x5d53dc;const _0x514f0b=this[_0x25bc41(0x223)](_0x5a057c,_0xf19cd6);_0x5a057c[_0x25bc41(0x2be)](_0x514f0b['x'],_0x514f0b['y'],_0x14595d,_0x3343e8),_0x5a057c['fillStyle']=_0x9964e9,this[_0x25bc41(0x21c)][_0x25bc41(0x1e6)]((_0xceda78,_0x3559cb)=>{const _0xb9b99=_0x25bc41,_0x279cae=_0x1f5b84+_0x514f0b['x'],_0x59c16f=_0x1f5b84+_0x514f0b['y']+(_0x3559cb+0x1)*_0x207ae6;_0x5a057c[_0xb9b99(0x8b)](_0xceda78,_0x279cae,_0x59c16f);});}},DrawBoxOptions=class{constructor(_0x375291={}){const _0x1c08cf=_0x4382ac,{boxColor:_0x54da12,lineWidth:_0x40dc75,label:_0x1b0c10,drawLabelOptions:_0x34338a}=_0x375291;this[_0x1c08cf(0x24b)]=_0x54da12||'rgba(0,\x200,\x20255,\x201)',this['lineWidth']=_0x40dc75||0x2,this[_0x1c08cf(0xb3)]=_0x1b0c10;const _0x6550ea={'anchorPosition':_0x1c08cf(0x9d),'backgroundColor':this[_0x1c08cf(0x24b)]};this[_0x1c08cf(0x284)]=new DrawTextFieldOptions({..._0x6550ea,..._0x34338a});}},DrawBox=class{constructor(_0x242128,_0x22734f={}){const _0x2a37b0=_0x4382ac;this[_0x2a37b0(0x1e9)]=new Box(_0x242128),this[_0x2a37b0(0x2e4)]=new DrawBoxOptions(_0x22734f);}[_0x4382ac(0x21e)](_0x5b80fc){const _0x490881=_0x4382ac,_0x376270=getContext2dOrThrow(_0x5b80fc),{boxColor:_0x256a07,lineWidth:_0x4282ee}=this['options'],{x:_0x34cff8,y:_0xb30cf2,width:_0x6ef043,height:_0x4fd8a8}=this['box'];_0x376270[_0x490881(0x27e)]=_0x256a07,_0x376270[_0x490881(0x2bd)]=_0x4282ee,_0x376270[_0x490881(0x75)](_0x34cff8,_0xb30cf2,_0x6ef043,_0x4fd8a8);const {label:_0x4c66aa}=this['options'];_0x4c66aa&&new DrawTextField([_0x4c66aa],{'x':_0x34cff8-_0x4282ee/0x2,'y':_0xb30cf2},this[_0x490881(0x2e4)][_0x490881(0x284)])['draw'](_0x5b80fc);}};function drawDetections(_0x50effa,_0x92dc94){const _0x118dad=_0x4382ac,_0x2a2c82=Array[_0x118dad(0xf6)](_0x92dc94)?_0x92dc94:[_0x92dc94];_0x2a2c82[_0x118dad(0x1e6)](_0x1b799f=>{const _0x3fbc24=_0x118dad,_0x36a66c=_0x1b799f instanceof FaceDetection?_0x1b799f[_0x3fbc24(0x194)]:isWithFaceDetection(_0x1b799f)?_0x1b799f[_0x3fbc24(0x2db)][_0x3fbc24(0x194)]:void 0x0,_0x233fa4=_0x1b799f instanceof FaceDetection?_0x1b799f[_0x3fbc24(0x1e9)]:isWithFaceDetection(_0x1b799f)?_0x1b799f[_0x3fbc24(0x2db)][_0x3fbc24(0x1e9)]:new Box(_0x1b799f),_0x48a024=_0x36a66c?''+round(_0x36a66c):void 0x0;new DrawBox(_0x233fa4,{'label':_0x48a024})[_0x3fbc24(0x21e)](_0x50effa);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x2b4381){const _0x1574b9=_0x4382ac,{Image:_0x5f104a,Video:_0x23fa7d}=env[_0x1574b9(0x1a1)]();return _0x2b4381 instanceof _0x5f104a&&_0x2b4381['complete']||_0x2b4381 instanceof _0x23fa7d&&_0x2b4381[_0x1574b9(0x7d)]>=0x3;}function awaitMediaLoaded(_0x396998){return new Promise((_0x299466,_0x341171)=>{const _0x2e2b83=_0x7004;if(_0x396998 instanceof env[_0x2e2b83(0x1a1)]()[_0x2e2b83(0x6d)]||isMediaLoaded(_0x396998))_0x299466(null);function _0x153f81(_0x2f26d7){const _0x19a935=_0x2e2b83;if(!_0x2f26d7['currentTarget'])return;_0x2f26d7['currentTarget'][_0x19a935(0x229)](_0x19a935(0x72),_0x56c5ff),_0x2f26d7['currentTarget'][_0x19a935(0x229)](_0x19a935(0x158),_0x153f81),_0x341171(_0x2f26d7);}function _0x56c5ff(_0x156a7a){const _0x225faf=_0x2e2b83;if(!_0x156a7a[_0x225faf(0x165)])return;_0x156a7a[_0x225faf(0x165)][_0x225faf(0x229)](_0x225faf(0x72),_0x56c5ff),_0x156a7a[_0x225faf(0x165)][_0x225faf(0x229)](_0x225faf(0x158),_0x153f81),_0x299466(_0x156a7a);}_0x396998[_0x2e2b83(0x28f)](_0x2e2b83(0x72),_0x56c5ff),_0x396998['addEventListener']('error',_0x153f81);});}function bufferToImage(_0x5207bd){return new Promise((_0x2deccc,_0x316dd3)=>{const _0x1921b9=_0x7004;if(!(_0x5207bd instanceof Blob))_0x316dd3(new Error('bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0x40af67=new FileReader();_0x40af67[_0x1921b9(0x19a)]=()=>{const _0x265be6=_0x1921b9;if(typeof _0x40af67[_0x265be6(0x240)]!=='string')_0x316dd3(new Error('bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload'));const _0x2ff887=env[_0x265be6(0x1a1)]()['createImageElement']();_0x2ff887[_0x265be6(0x19a)]=()=>_0x2deccc(_0x2ff887),_0x2ff887['onerror']=_0x316dd3,_0x2ff887[_0x265be6(0x173)]=_0x40af67['result'];},_0x40af67[_0x1921b9(0x13f)]=_0x316dd3,_0x40af67[_0x1921b9(0x280)](_0x5207bd);});}function getMediaDimensions(_0x421f54){const _0xbc2a04=_0x4382ac,{Image:_0x35f0c2,Video:_0x668552}=env[_0xbc2a04(0x1a1)]();if(_0x421f54 instanceof _0x35f0c2)return new Dimensions(_0x421f54[_0xbc2a04(0x2b9)],_0x421f54['naturalHeight']);if(_0x421f54 instanceof _0x668552)return new Dimensions(_0x421f54[_0xbc2a04(0x175)],_0x421f54['videoHeight']);return new Dimensions(_0x421f54[_0xbc2a04(0x134)],_0x421f54[_0xbc2a04(0x26b)]);}function createCanvas({width:_0x2e3f16,height:_0x149787}){const _0x597133=_0x4382ac,{createCanvasElement:_0x174284}=env[_0x597133(0x1a1)](),_0x2705d8=_0x174284();return _0x2705d8[_0x597133(0x134)]=_0x2e3f16,_0x2705d8[_0x597133(0x26b)]=_0x149787,_0x2705d8;}function createCanvasFromMedia(_0x2d9985,_0x4022fc){const _0x5798ba=_0x4382ac,{ImageData:_0x424865}=env[_0x5798ba(0x1a1)]();if(!(_0x2d9985 instanceof _0x424865)&&!isMediaLoaded(_0x2d9985))throw new Error(_0x5798ba(0xff));const {width:_0x386518,height:_0x41f388}=_0x4022fc||getMediaDimensions(_0x2d9985),_0x145a7b=createCanvas({'width':_0x386518,'height':_0x41f388});return _0x2d9985 instanceof _0x424865?getContext2dOrThrow(_0x145a7b)[_0x5798ba(0x1af)](_0x2d9985,0x0,0x0):getContext2dOrThrow(_0x145a7b)[_0x5798ba(0x2df)](_0x2d9985,0x0,0x0,_0x386518,_0x41f388),_0x145a7b;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x3b3d04,_0x459fb6){const _0x1eba77=_0x4382ac,_0x22ad11=_0x459fb6||env[_0x1eba77(0x1a1)]()[_0x1eba77(0xaf)](),[_0x426ed6,_0xd583c2,_0x4ec1af]=_0x3b3d04[_0x1eba77(0x206)][_0x1eba77(0xc7)](isTensor4D(_0x3b3d04)?0x1:0x0),_0x5b70c7=tf4['tidy'](()=>_0x3b3d04[_0x1eba77(0x24e)](_0x426ed6,_0xd583c2,_0x4ec1af)['toInt']());return await tf4[_0x1eba77(0x74)][_0x1eba77(0x1ab)](_0x5b70c7,_0x22ad11),_0x5b70c7[_0x1eba77(0x136)](),_0x22ad11;}function isMediaElement(_0x2e5ac9){const {Image:_0x4d5d84,Canvas:_0x254c4c,Video:_0x353cfc}=env['getEnv']();return _0x2e5ac9 instanceof _0x4d5d84||_0x2e5ac9 instanceof _0x254c4c||_0x2e5ac9 instanceof _0x353cfc;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x1f1367,_0x2c135a,_0x5074b9=![]){const _0x3b93bf=_0x4382ac,{Image:_0x17ab47,Canvas:_0xb0bec7}=env['getEnv']();if(!(_0x1f1367 instanceof _0x17ab47||_0x1f1367 instanceof _0xb0bec7))throw new Error(_0x3b93bf(0x236));if(_0x2c135a<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x214d35=getMediaDimensions(_0x1f1367),_0x2d9c7e=_0x2c135a/Math[_0x3b93bf(0x2cd)](_0x214d35['height'],_0x214d35[_0x3b93bf(0x134)]),_0x379dc6=_0x2d9c7e*_0x214d35[_0x3b93bf(0x134)],_0x4813d6=_0x2d9c7e*_0x214d35['height'],_0x4202c1=createCanvas({'width':_0x2c135a,'height':_0x2c135a}),_0x226677=_0x1f1367 instanceof _0xb0bec7?_0x1f1367:createCanvasFromMedia(_0x1f1367),_0x90b0f8=Math[_0x3b93bf(0xe9)](_0x379dc6-_0x4813d6)/0x2,_0x2485ff=_0x5074b9&&_0x379dc6<_0x4813d6?_0x90b0f8:0x0,_0xc0a79e=_0x5074b9&&_0x4813d6<_0x379dc6?_0x90b0f8:0x0;if(_0x226677[_0x3b93bf(0x134)]>0x0&&_0x226677['height']>0x0)getContext2dOrThrow(_0x4202c1)[_0x3b93bf(0x2df)](_0x226677,_0x2485ff,_0xc0a79e,_0x379dc6,_0x4813d6);return _0x4202c1;}var NetInput=class{constructor(_0x62026d,_0x34e63a=![]){const _0x533246=_0x4382ac;this[_0x533246(0x2d2)]=[],this[_0x533246(0x7a)]=[],this[_0x533246(0x83)]=![],this[_0x533246(0x1b4)]=[],this[_0x533246(0x170)]=0x0;if(!Array[_0x533246(0xf6)](_0x62026d))throw new Error('NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20'+_0x62026d);this[_0x533246(0x83)]=_0x34e63a,this['_batchSize']=_0x62026d[_0x533246(0xec)],_0x62026d['forEach']((_0x4f35ab,_0x3f4ebe)=>{const _0x2fa7e5=_0x533246;if(isTensor3D(_0x4f35ab)){this[_0x2fa7e5(0x2d2)][_0x3f4ebe]=_0x4f35ab,this[_0x2fa7e5(0x1b4)][_0x3f4ebe]=_0x4f35ab[_0x2fa7e5(0x206)];return;}if(isTensor4D(_0x4f35ab)){const _0x509b93=_0x4f35ab['shape'][0x0];if(_0x509b93!==0x1)throw new Error(_0x2fa7e5(0x186)+_0x509b93+_0x2fa7e5(0xcf));this['_imageTensors'][_0x3f4ebe]=_0x4f35ab,this[_0x2fa7e5(0x1b4)][_0x3f4ebe]=_0x4f35ab[_0x2fa7e5(0x206)][_0x2fa7e5(0xc7)](0x1);return;}const _0x165fac=_0x4f35ab instanceof env[_0x2fa7e5(0x1a1)]()[_0x2fa7e5(0x6d)]?_0x4f35ab:createCanvasFromMedia(_0x4f35ab);this[_0x2fa7e5(0x7a)][_0x3f4ebe]=_0x165fac,this[_0x2fa7e5(0x1b4)][_0x3f4ebe]=[_0x165fac[_0x2fa7e5(0x26b)],_0x165fac[_0x2fa7e5(0x134)],0x3];});}get[_0x4382ac(0xa2)](){return this['_imageTensors'];}get[_0x4382ac(0x19d)](){const _0x2367d7=_0x4382ac;return this[_0x2367d7(0x7a)];}get[_0x4382ac(0x245)](){const _0x42dcbf=_0x4382ac;return this[_0x42dcbf(0x96)]>0x1||this['_treatAsBatchInput'];}get[_0x4382ac(0x96)](){const _0x2469dc=_0x4382ac;return this[_0x2469dc(0x29b)];}get['inputDimensions'](){return this['_inputDimensions'];}get[_0x4382ac(0x1c6)](){return this['_inputSize'];}get[_0x4382ac(0xee)](){const _0x4f864c=_0x4382ac;return range(this['batchSize'],0x0,0x1)[_0x4f864c(0x23e)]((_0x790a2c,_0x5487bf)=>this[_0x4f864c(0x132)](_0x5487bf));}[_0x4382ac(0x16f)](_0x2077e7){const _0x496786=_0x4382ac;return this['canvases'][_0x2077e7]||this[_0x496786(0xa2)][_0x2077e7];}[_0x4382ac(0x1b9)](_0x235faf){const _0x4e7510=_0x4382ac;return this[_0x4e7510(0x1b4)][_0x235faf];}['getInputHeight'](_0x362087){const _0x2ef78f=_0x4382ac;return this[_0x2ef78f(0x1b4)][_0x362087][0x0];}['getInputWidth'](_0x5c5935){const _0x1cb3c2=_0x4382ac;return this[_0x1cb3c2(0x1b4)][_0x5c5935][0x1];}[_0x4382ac(0x132)](_0x3cbf26){const _0x41fe5a=_0x4382ac;if(typeof this[_0x41fe5a(0x1c6)]!==_0x41fe5a(0x1ea))throw new Error(_0x41fe5a(0x131));const _0x32216f=this[_0x41fe5a(0x18a)](_0x3cbf26),_0xaba89c=this[_0x41fe5a(0x20a)](_0x3cbf26);return computeReshapedDimensions({'width':_0x32216f,'height':_0xaba89c},this[_0x41fe5a(0x1c6)]);}[_0x4382ac(0x1cb)](_0x5bf8ca,_0x3ede0f=!![]){const _0x166519=_0x4382ac;return this[_0x166519(0x170)]=_0x5bf8ca,tf5[_0x166519(0xd9)](()=>{const _0x4ca0f7=_0x166519,_0x3569f3=range(this[_0x4ca0f7(0x96)],0x0,0x1)['map'](_0xa78fb0=>{const _0xd78bd9=_0x4ca0f7,_0x1b14ce=this['getInput'](_0xa78fb0);if(_0x1b14ce instanceof tf5['Tensor']){let _0x5b1632=isTensor4D(_0x1b14ce)?_0x1b14ce:tf5[_0xd78bd9(0x80)](_0x1b14ce);return _0x5b1632=padToSquare(_0x5b1632,_0x3ede0f),(_0x5b1632['shape'][0x1]!==_0x5bf8ca||_0x5b1632[_0xd78bd9(0x206)][0x2]!==_0x5bf8ca)&&(_0x5b1632=tf5[_0xd78bd9(0x99)][_0xd78bd9(0x276)](_0x5b1632,[_0x5bf8ca,_0x5bf8ca],![],![])),_0x5b1632['as3D'](_0x5bf8ca,_0x5bf8ca,0x3);}if(_0x1b14ce instanceof env['getEnv']()[_0xd78bd9(0x6d)])return tf5[_0xd78bd9(0x74)]['fromPixels'](imageToSquare(_0x1b14ce,_0x5bf8ca,_0x3ede0f));throw new Error(_0xd78bd9(0x22e)+_0xa78fb0+_0xd78bd9(0x1e5)+_0x1b14ce);}),_0xd63935=tf5[_0x4ca0f7(0x16d)](_0x3569f3[_0x4ca0f7(0x23e)](_0x457a26=>tf5[_0x4ca0f7(0x105)](_0x457a26,_0x4ca0f7(0x127))))[_0x4ca0f7(0x130)](this[_0x4ca0f7(0x96)],_0x5bf8ca,_0x5bf8ca,0x3);return _0xd63935;});}};async function toNetInput(_0x71d270){const _0x21d59e=_0x4382ac;if(_0x71d270 instanceof NetInput)return _0x71d270;const _0x5ce17c=Array[_0x21d59e(0xf6)](_0x71d270)?_0x71d270:[_0x71d270];if(!_0x5ce17c[_0x21d59e(0xec)])throw new Error(_0x21d59e(0x1c7));const _0x991bdb=_0x3d5474=>Array['isArray'](_0x71d270)?_0x21d59e(0x92)+_0x3d5474+':':'',_0x393168=_0x5ce17c['map'](resolveInput);return _0x393168[_0x21d59e(0x1e6)]((_0x425916,_0x525a86)=>{const _0x1750ba=_0x21d59e;if(!isMediaElement(_0x425916)&&!isTensor3D(_0x425916)&&!isTensor4D(_0x425916)){if(typeof _0x5ce17c[_0x525a86]==='string')throw new Error(_0x1750ba(0xdd)+_0x991bdb(_0x525a86)+_0x1750ba(0x1a6)+_0x5ce17c[_0x525a86]);throw new Error('toNetInput\x20-'+_0x991bdb(_0x525a86)+'\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id');}if(isTensor4D(_0x425916)){const _0x4b1cc5=_0x425916['shape'][0x0];if(_0x4b1cc5!==0x1)throw new Error(_0x1750ba(0xdd)+_0x991bdb(_0x525a86)+_0x1750ba(0x20d)+_0x4b1cc5+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');}}),await Promise[_0x21d59e(0x1da)](_0x393168['map'](_0x14b3ec=>isMediaElement(_0x14b3ec)&&awaitMediaLoaded(_0x14b3ec))),new NetInput(_0x393168,Array[_0x21d59e(0xf6)](_0x71d270));}async function extractFaces(_0xb2c386,_0x8e9cfd){const _0x485f16=_0x4382ac,{Canvas:_0x3c400f}=env[_0x485f16(0x1a1)]();let _0x3e0132=_0xb2c386;if(!(_0xb2c386 instanceof _0x3c400f)){const _0x4e78e1=await toNetInput(_0xb2c386);if(_0x4e78e1[_0x485f16(0x96)]>0x1)throw new Error(_0x485f16(0x243));const _0x4eefad=_0x4e78e1[_0x485f16(0x16f)](0x0);_0x3e0132=_0x4eefad instanceof _0x3c400f?_0x4eefad:await imageTensorToCanvas(_0x4eefad);}const _0x53edcc=getContext2dOrThrow(_0x3e0132),_0x2d9f7f=_0x8e9cfd[_0x485f16(0x23e)](_0x42db26=>_0x42db26 instanceof FaceDetection?_0x42db26[_0x485f16(0x2b7)](_0x3e0132['width'],_0x3e0132[_0x485f16(0x26b)])[_0x485f16(0x1e9)]['floor']():_0x42db26)[_0x485f16(0x23e)](_0x10439a=>_0x10439a[_0x485f16(0x180)](_0x3e0132[_0x485f16(0x134)],_0x3e0132['height']));return _0x2d9f7f[_0x485f16(0x23e)](({x:_0x189f7e,y:_0x3ac93e,width:_0x14d347,height:_0x40c44c})=>{const _0x479c2e=_0x485f16,_0x59454f=createCanvas({'width':_0x14d347,'height':_0x40c44c});if(_0x14d347>0x0&&_0x40c44c>0x0)getContext2dOrThrow(_0x59454f)[_0x479c2e(0x1af)](_0x53edcc['getImageData'](_0x189f7e,_0x3ac93e,_0x14d347,_0x40c44c),0x0,0x0);return _0x59454f;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x1eaa5a,_0x31d1ac){const _0x176b8a=_0x4382ac;if(!isTensor3D(_0x1eaa5a)&&!isTensor4D(_0x1eaa5a))throw new Error(_0x176b8a(0x17d));if(isTensor4D(_0x1eaa5a)&&_0x1eaa5a[_0x176b8a(0x206)][0x0]>0x1)throw new Error(_0x176b8a(0x29c));return tf6[_0x176b8a(0xd9)](()=>{const _0x4144c3=_0x176b8a,[_0x4b66a8,_0x29de93,_0x3c88ca]=_0x1eaa5a[_0x4144c3(0x206)][_0x4144c3(0xc7)](isTensor4D(_0x1eaa5a)?0x1:0x0),_0x230208=_0x31d1ac[_0x4144c3(0x23e)](_0x4b5228=>_0x4b5228 instanceof FaceDetection?_0x4b5228['forSize'](_0x29de93,_0x4b66a8)[_0x4144c3(0x1e9)]:_0x4b5228)[_0x4144c3(0x23e)](_0x3ee2c3=>_0x3ee2c3[_0x4144c3(0x180)](_0x29de93,_0x4b66a8)),_0x392249=_0x230208['filter'](_0x90d476=>_0x90d476['width']>0x0&&_0x90d476[_0x4144c3(0x26b)]>0x0)[_0x4144c3(0x23e)](({x:_0x243f31,y:_0x29e0af,width:_0x5440c0,height:_0x2f872e})=>tf6['slice3d'](_0x1eaa5a[_0x4144c3(0x24e)](_0x4b66a8,_0x29de93,_0x3c88ca),[_0x29e0af,_0x243f31,0x0],[_0x2f872e,_0x5440c0,_0x3c88ca]));return _0x392249;});}async function fetchOrThrow(_0x27cb3a,_0x3fa7ac){const _0x1ef489=_0x4382ac,{fetch:_0x5f0e84}=env[_0x1ef489(0x1a1)](),_0x1a59e7=await _0x5f0e84(_0x27cb3a,_0x3fa7ac);if(!(_0x1a59e7[_0x1ef489(0x1ba)]<0x190))throw new Error(_0x1ef489(0x174)+_0x1a59e7['status']+')\x20'+_0x1a59e7[_0x1ef489(0x199)]+_0x1ef489(0x1c8)+_0x1a59e7['url']);return _0x1a59e7;}async function fetchImage(_0x41ecf0){const _0x2bf604=_0x4382ac,_0x36f76f=await fetchOrThrow(_0x41ecf0),_0x3c359e=await _0x36f76f[_0x2bf604(0x18d)]();if(!_0x3c359e[_0x2bf604(0x295)][_0x2bf604(0x17a)]('image/'))throw new Error(_0x2bf604(0xce)+_0x3c359e['type']+_0x2bf604(0x81)+_0x36f76f[_0x2bf604(0x1ec)]);return bufferToImage(_0x3c359e);}async function fetchJson(_0x2303f0){return(await fetchOrThrow(_0x2303f0))['json']();}async function fetchNetWeights(_0x5617ec){const _0x3cea17=_0x4382ac;return new Float32Array(await(await fetchOrThrow(_0x5617ec))[_0x3cea17(0x123)]());}function bufferToVideo(_0x41d8b2){return new Promise((_0x70d275,_0x1832ba)=>{const _0x377756=_0x7004;if(!(_0x41d8b2 instanceof Blob))_0x1832ba(new Error('bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0x4da0c9=env[_0x377756(0x1a1)]()[_0x377756(0x189)]();_0x4da0c9['oncanplay']=()=>_0x70d275(_0x4da0c9),_0x4da0c9[_0x377756(0x13f)]=_0x1832ba,_0x4da0c9[_0x377756(0x271)]=!![],_0x4da0c9[_0x377756(0x24f)]=!![],_0x4da0c9[_0x377756(0x173)]=URL[_0x377756(0x24c)](_0x41d8b2),_0x4da0c9[_0x377756(0x250)]();});}async function fetchVideo(_0xcde9b3){const _0x2267a6=_0x4382ac,_0x3f137d=await fetchOrThrow(_0xcde9b3),_0x62e873=await _0x3f137d['blob']();if(!_0x62e873[_0x2267a6(0x295)][_0x2267a6(0x17a)](_0x2267a6(0x73)))throw new Error(_0x2267a6(0x17f)+_0x62e873[_0x2267a6(0x295)]+_0x2267a6(0x81)+_0x3f137d[_0x2267a6(0x1ec)]);return bufferToVideo(_0x62e873);}function _0x5ee7(){const _0xe1af73=['expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','cast','bottom','div','conv64_3','boxIndex','isNodejs','dense2','tile','prediction_layer/box_predictor_5/class_predictor','hasOwnProperty','/sub','tinyFaceDetector','lineColor','tensor1d','magnitude','detectLandmarks','getClassifierChannelsOut','FaceLandmark68Net','/conv/filters','resizeResults\x20-\x20invalid\x20dimensions:\x20','padAtBorders','imageHeight','conv256_2','iouThreshold','node','_shift','getRightEyeBrow','toString','conv_2','params','arrayBuffer','ImageData','/BatchNorm/moving_variance','\x20-\x20load\x20model\x20before\x20inference','float32','string','topLeft','matMul','isNaN','prediction_layer/box_predictor_2/box_encoding_predictor','default','tiny_yolov2_separable_conv_model','prediction_layer/box_predictor_0/class_predictor','as4D','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','getReshapedInputDimensions','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','width','expansion_conv','dispose','conv256_down','entry_flow/reduction_block_0','MobilenetV1','runAndExtendWithFaceDetections','constructor','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','.loadFromUri\x20-\x20expected\x20model\x20uri','male','onerror','main_block_','relativeBox','runNet','MALE','_config','_depthwise','shiftByPoint','reverse','_imageDims','FaceExpressionNet','/BoxEncodingPredictor','_params','_height','_positions','pad','padding','landmarkNet','/BatchNorm/gamma','landmarks','descriptor','withSeparableConvs','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20',')\x20and\x20(','conv_4','error','withFaceDescriptor','conv64_down','faceLandmark68Net',']\x20to\x20be\x20a\x20Tensor','as1D','pointSize','prediction_layer/conv_2','filters','pointwise_conv','/expansion_conv','boxPredictionEncoding','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','currentTarget','scoreThreshold','prediction_layer/box_predictor_0/box_encoding_predictor','_pointwise/weights','withFaceExpressions','fetch','prediction_layer/box_predictor_1/class_predictor','roll','stack','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','getInput','_inputSize','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]','src','failed\x20to\x20fetch:\x20(','videoWidth','/conv3','pointwise_filter','extractWeights','/pointwise_conv','startsWith','nextObj','prediction_layer/box_predictor_4/class_predictor','extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20','clipAtImageBorders','/filters','mobilenetv1/conv_5','rgba(255,\x20255,\x20255,\x201)','fearful','class_predictor','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','right','runTinyYolov2','createVideoElement','getInputWidth','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','ssdMobilenetv1','blob',',\x20weights.length:\x20','/batch_norm_offset','enumerable','output_layer/extra_dim','/conv1','.json','score','mobilenetv1/conv_2','/pointwise_filter','exp','dense1','statusText','onload','\x20-\x20width\x20(','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','canvases','postProcess','meanRgb','extractedFaces','getEnv','measureText','run','/weights','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','withAgeAndGender','178738qTWiLV','Video','log','toPixels','originalPath','tensor4d','relativePositions','putImageData','loadFromDisk','getDefaultModelName','conv5','conv128_1','_inputDimensions','split','floor','mobilenetv1','getTrainableParams','getInputDimensions','status','exports','extractParams','conv_6','computeMeanDistance','/conv/bias','toJSON','then','_numMainBlocks','parse','stroke','face_expression_model','inputSize','toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input',',\x20from\x20url:\x20','happy','getPrototypeOf','toBatchTensor','buffer','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','className','loadFromWeightMap','arc','add','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','/bias','tensor','_distance','mobilenetv1/conv_3','_box','_distanceThreshold','resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas','all','faceLandmarks','filter','tensor3d','/conv2','from','createImageElement','expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20','locateFaces','/scale','664890dBVJeC',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','forEach','classes','expressions','box','number','prediction_layer/box_predictor_','url','extractParamsFromWeightMap','TinyFaceDetectorOptions','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','faceExpressionNet','@tensorflow/tfjs-node','rescale','min','MobilenetV1/Conv2d_','conv256_down_out','rgba(0,\x200,\x200,\x200.5)','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','fromJSON','conv2d','every','getParamFromPath','separable_conv','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','/bn','_scoreThreshold','mobilenetv1/conv_1','mobilenetv1/conv_10','_minConfidence','36lpUTZD','conv64_1','extractClassifierParams','shape','exit_flow','BOTTOM_RIGHT','dataSync','getInputHeight','_faceFeatureExtractor','conv8','\x20tf.Tensor4D\x20with\x20batchSize\x20','mobilenetv1/conv_12','probability','extractPredictedClass','conv7','TinyYolov2','FaceFeatureExtractor','tiny_face_detector_model','22490TrmIsB','push','DEFAULT_FILTER_SIZES',',\x20for\x20path\x20','depthwise_conv','-weights_manifest.json','measureWidth','text','getNose','draw','runMobilenet','Prediction','female','sqrt','getUpperLeft','__esModule','bias','filterSizes','_maxResults','valid','removeEventListener','top','classPrediction','invalid\x20config:\x20','/batch_norm_variance','toBatchTensor\x20-\x20at\x20batchIdx\x20','dense3','tensor2d','prediction_layer/conv_6','shiftBy','yaw','/box_encoding_predictor','calibrate','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','out','HTMLImageElement','conv_10','distanceThreshold','boxEncodingSize','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','2825075QApoTc','map','/scale/biases','result','/Conv2d_','Georgia','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','mean','isBatchInput','conv_12','TOP_LEFT','same','genderProbability','matchDescriptor','boxColor','createObjectURL','getElementById','as3D','muted','play','_width','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','fill','conv32_2','unshiftedLandmarks','anchor','loadWeights','reshape','TOP_RIGHT','sort','conv4','/depthwise_conv','loadClassifierParams','biases','softmax','useTinyLandmarkNet','arraySync','anchors','asSortedArray','pointColor','round','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','box_predictor_0','/batch_norm_mean','avgPool','classScore','height','data','withClassScores','fc/age','SsdMobilenetv1Options','positions','playsInline','relu','join','bottomRight','box_predictor_3','resizeBilinear','conv128_2',')\x20to\x20be\x20a\x20number','1396748ZeRpen','/biases','getParamList','sad','box_predictor_1','strokeStyle','concat','readAsDataURL','getJawOutline','prediction_layer/conv_3','prediction_layer/box_predictor_1/box_encoding_predictor','drawLabelOptions','withFaceLandmarks','batch_norm_mean','maxPool','dense0','\x20-\x20expected\x20properties\x20score\x20(','separable_conv0','_paramMappings','Output/extra_dim','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','/separable_conv0','addEventListener','reassignParamFromPath','/depthwise_filter','40ysVxZS','depth\x20has\x20to\x20be\x20an\x20integer:\x20','canvas','type','https://','weights\x20remaing\x20after\x20extract:\x20','extra_dim','fc/gender','input','_batchSize','extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported','array','batchNorm','conv64_2','undefined','faceLandmark68TinyNet','angry','distance','/separable_conv1','box_encoding_predictor','batch_norm_variance','face_landmark_68_model','maxResults','align','descriptors','reduction_block_1','px\x20','middle_flow/main_block_','inputDimensions','bottomLeft','AgeGenderNet','reduce','parentTask','/depthwise_weights','entry_flow','isRect','getMouth','forSize','gender','naturalWidth','tiny_xception_model','TinyXception','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','lineWidth','fillRect','getOwnPropertyNames','readFile','conv_3','rgba(0,\x20255,\x20255,\x201)',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','conv2','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','create','measureHeight','getLeftEye','faceRecognitionNet','depthwise_filter','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','loadFromUri','max','TinyFaceFeatureExtractor','conv32_3','/ClassPredictor','extractBoxes','_imageTensors','Image','conv','entry_flow/reduction_block_1','Tensor','predictAgeAndGender','surprised','/separable_conv2','labeledDescriptors','detection','imageDims','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','font','drawImage','alignMinBbox','prediction_layer/conv_7','withFaceDescriptors','ssd_mobilenetv1_model','options','middle_flow','_score','freeze','predictExpressions','beginPath','backgroundColor','/batch_norm_scale','entry_flow/conv_in','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','conv256_1','Canvas','conv3','getLeftEyeBrow','drawPoints','endsWith','load','video/','browser','strokeRect','toSquare','conv32_1','versions','FEMALE','_canvases','imageWidth','1.7.3','readyState','HTMLVideoElement','isFirstLayerConv2d','expandDims',',\x20for\x20url:\x20','ageGenderNet','_treatAsBatchInput','CanvasRenderingContext2D','zeros','call','_name','conv6','isLoaded','/conv','fillText','conv0','prediction_layer/conv_5','face_feature_extractor_model','some','catch','faceFeatureExtractor','\x20at\x20input\x20index\x20','conv_5','alignDlib','HTMLCanvasElement','batchSize','conv11','config','image','prediction_layer/conv_0','depthwiseConv2d','paramMappings','BOTTOM_LEFT','329431JnXMYt','createElement','boolean','conv32_down','imageTensors','neutral','sub','mobilenetv1/conv_0','/truediv','conv_in','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','variable','exit_flow/separable_conv','prototype','conv_0','Prediction/BoxPredictor_','_label','createCanvasElement','forwardInput','stringify','weights','label','face_feature_extractor_tiny_model','conv_7','object','conv_9','pop','defineProperty','computeFaceDescriptor','Box.constructor','keys','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','getContext','645417zFSlGF','_classScore','getRefPointsForAlignment','clipByValue','prediction_layer/conv_1','area','mobilenetv1/conv_8','D,\x20instead\x20have\x20','slice','person\x20','disgusted','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','mobilenetv1/conv_','mobilenetv1/conv_6','_imgDims','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','getRightEye','conv_8','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','transpose','/conv0','exit_flow/reduction_block','unstack','conv_1','mobilenetv1/conv_9','tidy','traversePropertyPath','/class_predictor','http://','toNetInput\x20-','config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20','anchorPosition','expression','\x20filterSizes\x20in\x20config','forward','FaceLandmark68TinyNet','tinyYolov2','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','/BatchNorm/beta','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','_descriptors','abs','age','prediction_layer/box_predictor_5/box_encoding_predictor','length','function','reshapedInputDimensions','scalar','mobilenetv1/conv_11','conv128_down','/scale/weights','_className','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','prediction_layer/conv_4','isArray','replace','left','_labeledDescriptors','detect','conv1','\x20-\x20invalid\x20box:\x20','getClassifierChannelsIn','runAndExtendWithFaceDetection','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','ComposableTask\x20-\x20run\x20is\x20not\x20implemented','mul','as2D','assertIsValidBox'];_0x5ee7=function(){return _0xe1af73;};return _0x5ee7();}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x4d881a,_0xadf471){const _0x4515e0=_0x4382ac,_0x270bcd=_0xadf471+_0x4515e0(0x21a);if(!_0x4d881a)return{'modelBaseUri':'','manifestUri':_0x270bcd};if(_0x4d881a==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x270bcd};const _0x137523=_0x4d881a[_0x4515e0(0x17a)](_0x4515e0(0xdc))?_0x4515e0(0xdc):_0x4d881a['startsWith'](_0x4515e0(0x296))?'https://':'';_0x4d881a=_0x4d881a[_0x4515e0(0xf7)](_0x137523,'');const _0xbb7c64=_0x4d881a[_0x4515e0(0x1b5)]('/')['filter'](_0x4149a3=>_0x4149a3),_0x3a90de=_0x4d881a['endsWith'](_0x4515e0(0x193))?_0xbb7c64[_0xbb7c64[_0x4515e0(0xec)]-0x1]:_0x270bcd;let _0x94704b=_0x137523+(_0x4d881a[_0x4515e0(0x71)](_0x4515e0(0x193))?_0xbb7c64[_0x4515e0(0xc7)](0x0,_0xbb7c64[_0x4515e0(0xec)]-0x1):_0xbb7c64)[_0x4515e0(0x273)]('/');return _0x94704b=_0x4d881a[_0x4515e0(0x17a)]('/')?'/'+_0x94704b:_0x94704b,{'modelBaseUri':_0x94704b,'manifestUri':_0x94704b==='/'?'/'+_0x3a90de:_0x94704b+'/'+_0x3a90de};}async function loadWeightMap(_0x573484,_0xdb3f2d){const _0x21a233=_0x4382ac,{manifestUri:_0x2303f8,modelBaseUri:_0x5904df}=getModelUris(_0x573484,_0xdb3f2d),_0x5a92f4=await fetchJson(_0x2303f8);return tf7['io'][_0x21a233(0x257)](_0x5a92f4,_0x5904df);}function matchDimensions(_0x4ba28d,_0x24f379,_0x1dd749=![]){const _0x2a62e3=_0x4382ac,{width:_0x5dc534,height:_0x49e126}=_0x1dd749?getMediaDimensions(_0x24f379):_0x24f379;return _0x4ba28d['width']=_0x5dc534,_0x4ba28d[_0x2a62e3(0x26b)]=_0x49e126,{'width':_0x5dc534,'height':_0x49e126};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x233aa0){const _0x55cde0=_0x4382ac;this['_params']=void 0x0,this[_0x55cde0(0x28b)]=[],this[_0x55cde0(0x87)]=_0x233aa0;}get[_0x4382ac(0x122)](){return this['_params'];}get[_0x4382ac(0x9c)](){const _0x28f25a=_0x4382ac;return this[_0x28f25a(0x28b)];}get[_0x4382ac(0x89)](){const _0x2e00a7=_0x4382ac;return!!this[_0x2e00a7(0x122)];}['getParamFromPath'](_0x381a35){const _0x146ed4=_0x4382ac,{obj:_0x56346d,objProp:_0x44fb35}=this[_0x146ed4(0xda)](_0x381a35);return _0x56346d[_0x44fb35];}[_0x4382ac(0x290)](_0x16b816,_0x1630f3){const _0x3d4d29=_0x4382ac,{obj:_0xc98f6c,objProp:_0x31f827}=this['traversePropertyPath'](_0x16b816);_0xc98f6c[_0x31f827][_0x3d4d29(0x136)](),_0xc98f6c[_0x31f827]=_0x1630f3;}[_0x4382ac(0x27b)](){const _0x5792f0=_0x4382ac;return this[_0x5792f0(0x28b)][_0x5792f0(0x23e)](({paramPath:_0x34d048})=>({'path':_0x34d048,'tensor':this[_0x5792f0(0x1fb)](_0x34d048)}));}['getTrainableParams'](){const _0x4e4027=_0x4382ac;return this[_0x4e4027(0x27b)]()[_0x4e4027(0x1dc)](_0x1cdd01=>_0x1cdd01[_0x4e4027(0x1d4)]instanceof tf8['Variable']);}['getFrozenParams'](){const _0x30e63e=_0x4382ac;return this[_0x30e63e(0x27b)]()['filter'](_0x6d1265=>!(_0x6d1265[_0x30e63e(0x1d4)]instanceof tf8['Variable']));}['variable'](){const _0x1d1ac2=_0x4382ac;this['getFrozenParams']()[_0x1d1ac2(0x1e6)](({path:_0x587035,tensor:_0x558821})=>{const _0x49397f=_0x1d1ac2;this[_0x49397f(0x290)](_0x587035,_0x558821[_0x49397f(0xa9)]());});}[_0x4382ac(0x2e7)](){const _0x23966a=_0x4382ac;this[_0x23966a(0x1b8)]()['forEach'](({path:_0x335396,tensor:_0x48c2b5})=>{const _0x1e2286=_0x23966a,_0x58d6d4=tf8[_0x1e2286(0x1d4)](_0x48c2b5['dataSync']());_0x48c2b5[_0x1e2286(0x136)](),this['reassignParamFromPath'](_0x335396,_0x58d6d4);});}[_0x4382ac(0x136)](_0x211fec=!![]){const _0xd2aaed=_0x4382ac;this[_0xd2aaed(0x27b)]()['forEach'](_0x541f8d=>{const _0x38b4f0=_0xd2aaed;if(_0x211fec&&_0x541f8d[_0x38b4f0(0x1d4)]['isDisposed'])throw new Error(_0x38b4f0(0xbd)+_0x541f8d['path']);_0x541f8d[_0x38b4f0(0x1d4)][_0x38b4f0(0x136)]();}),this[_0xd2aaed(0x14b)]=void 0x0;}['serializeParams'](){const _0x3ff728=_0x4382ac;return new Float32Array(this[_0x3ff728(0x27b)]()['map'](({tensor:_0x4bc859})=>Array['from'](_0x4bc859[_0x3ff728(0x209)]()))[_0x3ff728(0x2b1)]((_0x37b6aa,_0x376b09)=>_0x37b6aa[_0x3ff728(0x27f)](_0x376b09)));}async[_0x4382ac(0x72)](_0x5e1caf){const _0x577da9=_0x4382ac;if(_0x5e1caf instanceof Float32Array){this['extractWeights'](_0x5e1caf);return;}await this[_0x577da9(0x2cc)](_0x5e1caf);}async[_0x4382ac(0x2cc)](_0xf32a88){const _0x239f66=_0x4382ac;if(_0xf32a88&&typeof _0xf32a88!=='string')throw new Error(this[_0x239f66(0x87)]+_0x239f66(0x13d));const _0x34ad3e=await loadWeightMap(_0xf32a88,this[_0x239f66(0x1b1)]());this['loadFromWeightMap'](_0x34ad3e);}async[_0x4382ac(0x1b0)](_0x356f39){const _0x3c67c5=_0x4382ac;if(_0x356f39&&typeof _0x356f39!=='string')throw new Error(this['_name']+_0x3c67c5(0x1cd));const {readFile:_0x3d6672}=env[_0x3c67c5(0x1a1)](),{manifestUri:_0x54383d,modelBaseUri:_0x1bcdd4}=getModelUris(_0x356f39,this[_0x3c67c5(0x1b1)]()),_0x3fdba0=_0x3136fe=>Promise[_0x3c67c5(0x1da)](_0x3136fe[_0x3c67c5(0x23e)](_0x5c65ba=>_0x3d6672(_0x5c65ba)['then'](_0x39e4a6=>_0x39e4a6[_0x3c67c5(0x1cc)]))),_0x437c76=tf8['io']['weightsLoaderFactory'](_0x3fdba0),_0x44693e=JSON[_0x3c67c5(0x1c3)]((await _0x3d6672(_0x54383d))['toString']()),_0x522b29=await _0x437c76(_0x44693e,_0x1bcdd4);this['loadFromWeightMap'](_0x522b29);}[_0x4382ac(0x1cf)](_0x16e027){const _0x22b6ea=_0x4382ac,{paramMappings:_0x1f60fa,params:_0x42d4e4}=this[_0x22b6ea(0x1ed)](_0x16e027);this[_0x22b6ea(0x28b)]=_0x1f60fa,this[_0x22b6ea(0x14b)]=_0x42d4e4;}['extractWeights'](_0x357a8b){const _0x2ba91c=_0x4382ac,{paramMappings:_0x27abac,params:_0x1f82d0}=this[_0x2ba91c(0x1bc)](_0x357a8b);this[_0x2ba91c(0x28b)]=_0x27abac,this[_0x2ba91c(0x14b)]=_0x1f82d0;}[_0x4382ac(0xda)](_0x479198){const _0x26f3c=_0x4382ac;if(!this['params'])throw new Error(_0x26f3c(0x1f7));const _0x484fdb=_0x479198[_0x26f3c(0x1b5)]('/')['reduce']((_0x32108f,_0x46cb3e)=>{const _0x332a8b=_0x26f3c;if(!_0x32108f['nextObj'][_0x332a8b(0x10e)](_0x46cb3e))throw new Error(_0x332a8b(0x19c)+_0x46cb3e+_0x332a8b(0x218)+_0x479198);return{'obj':_0x32108f['nextObj'],'objProp':_0x46cb3e,'nextObj':_0x32108f[_0x332a8b(0x17b)][_0x46cb3e]};},{'nextObj':this[_0x26f3c(0x122)]}),{obj:_0x44acd0,objProp:_0x114ce6}=_0x484fdb;if(!_0x44acd0||!_0x114ce6||!(_0x44acd0[_0x114ce6]instanceof tf8[_0x26f3c(0x2d6)]))throw new Error(_0x26f3c(0x13c)+_0x479198);return{'obj':_0x44acd0,'objProp':_0x114ce6};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x3df24b,_0x3c0409,_0x590d72){return tf9['tidy'](()=>{const _0x5cc4f5=_0x7004;let _0x298369=tf9['separableConv2d'](_0x3df24b,_0x3c0409[_0x5cc4f5(0x2ca)],_0x3c0409[_0x5cc4f5(0x177)],_0x590d72,_0x5cc4f5(0x248));return _0x298369=tf9[_0x5cc4f5(0x1d1)](_0x298369,_0x3c0409[_0x5cc4f5(0x225)]),_0x298369;});}function denseBlock3(_0x3f163d,_0x41acf1,_0x1c5ba1=![]){const _0x2791c1=_0x4382ac;return tf10[_0x2791c1(0xd9)](()=>{const _0x38c104=_0x2791c1,_0xfcf960=tf10['relu'](_0x1c5ba1?tf10['add'](tf10[_0x38c104(0x1f9)](_0x3f163d,_0x41acf1[_0x38c104(0x8c)][_0x38c104(0x160)],[0x2,0x2],_0x38c104(0x248)),_0x41acf1['conv0']['bias']):depthwiseSeparableConv(_0x3f163d,_0x41acf1['conv0'],[0x2,0x2])),_0x5168e3=depthwiseSeparableConv(_0xfcf960,_0x41acf1[_0x38c104(0xfb)],[0x1,0x1]),_0x28a3f=tf10[_0x38c104(0x272)](tf10[_0x38c104(0x1d1)](_0xfcf960,_0x5168e3)),_0x452f64=depthwiseSeparableConv(_0x28a3f,_0x41acf1[_0x38c104(0x2c4)],[0x1,0x1]);return tf10[_0x38c104(0x272)](tf10[_0x38c104(0x1d1)](_0xfcf960,tf10[_0x38c104(0x1d1)](_0x5168e3,_0x452f64)));});}function denseBlock4(_0x320667,_0x3b741b,_0x2613e2=![],_0x17b033=!![]){const _0x4c5106=_0x4382ac;return tf10[_0x4c5106(0xd9)](()=>{const _0x22965d=_0x4c5106,_0x20ca5f=tf10[_0x22965d(0x272)](_0x2613e2?tf10['add'](tf10[_0x22965d(0x1f9)](_0x320667,_0x3b741b['conv0'][_0x22965d(0x160)],_0x17b033?[0x2,0x2]:[0x1,0x1],_0x22965d(0x248)),_0x3b741b[_0x22965d(0x8c)]['bias']):depthwiseSeparableConv(_0x320667,_0x3b741b[_0x22965d(0x8c)],_0x17b033?[0x2,0x2]:[0x1,0x1])),_0x3ba4c6=depthwiseSeparableConv(_0x20ca5f,_0x3b741b[_0x22965d(0xfb)],[0x1,0x1]),_0x14a206=tf10[_0x22965d(0x272)](tf10[_0x22965d(0x1d1)](_0x20ca5f,_0x3ba4c6)),_0x1f3eb5=depthwiseSeparableConv(_0x14a206,_0x3b741b[_0x22965d(0x2c4)],[0x1,0x1]),_0x291d8d=tf10[_0x22965d(0x272)](tf10[_0x22965d(0x1d1)](_0x20ca5f,tf10['add'](_0x3ba4c6,_0x1f3eb5))),_0x396ca5=depthwiseSeparableConv(_0x291d8d,_0x3b741b['conv3'],[0x1,0x1]);return tf10[_0x22965d(0x272)](tf10[_0x22965d(0x1d1)](_0x20ca5f,tf10[_0x22965d(0x1d1)](_0x3ba4c6,tf10[_0x22965d(0x1d1)](_0x1f3eb5,_0x396ca5))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x5acd30,_0x7a4d61,_0xd9f4df='same',_0x358525=![]){return tf11['tidy'](()=>{const _0x2fb92a=_0x7004,_0x317765=tf11[_0x2fb92a(0x1d1)](tf11[_0x2fb92a(0x1f9)](_0x5acd30,_0x7a4d61[_0x2fb92a(0x160)],[0x1,0x1],_0xd9f4df),_0x7a4d61['bias']);return _0x358525?tf11[_0x2fb92a(0x272)](_0x317765):_0x317765;});}function disposeUnusedWeightTensors(_0xffd0e7,_0x4531b1){const _0x1ddd2f=_0x4382ac;Object[_0x1ddd2f(0xbc)](_0xffd0e7)[_0x1ddd2f(0x1e6)](_0x34f1a0=>{const _0x3cfa27=_0x1ddd2f;!_0x4531b1['some'](_0x11693e=>_0x11693e[_0x3cfa27(0x1ac)]===_0x34f1a0)&&_0xffd0e7[_0x34f1a0][_0x3cfa27(0x136)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x975cab,_0x1d08b8){return(_0x2c8e9b,_0x1da209,_0x2e1bd1,_0x51a22c)=>{const _0x1e1fcd=_0x7004,_0x57f0a6=tf12[_0x1e1fcd(0x1ad)](_0x975cab(_0x2c8e9b*_0x1da209*_0x2e1bd1*_0x2e1bd1),[_0x2e1bd1,_0x2e1bd1,_0x2c8e9b,_0x1da209]),_0x95455d=tf12[_0x1e1fcd(0x112)](_0x975cab(_0x1da209));return _0x1d08b8[_0x1e1fcd(0x216)]({'paramPath':_0x51a22c+_0x1e1fcd(0x181)},{'paramPath':_0x51a22c+'/bias'}),{'filters':_0x57f0a6,'bias':_0x95455d};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x4e7f0f,_0x45bc7a){return(_0x153c44,_0x2ab0f7,_0x4573c2)=>{const _0x54c3d3=_0x7004,_0x22a3f6=tf13[_0x54c3d3(0x230)](_0x4e7f0f(_0x153c44*_0x2ab0f7),[_0x153c44,_0x2ab0f7]),_0x1cae57=tf13[_0x54c3d3(0x112)](_0x4e7f0f(_0x2ab0f7));return _0x45bc7a[_0x54c3d3(0x216)]({'paramPath':_0x4573c2+_0x54c3d3(0x1a4)},{'paramPath':_0x4573c2+'/bias'}),{'weights':_0x22a3f6,'bias':_0x1cae57};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x3a4623,_0x3eb8de,_0x29d0c4){this['depthwise_filter']=_0x3a4623,this['pointwise_filter']=_0x3eb8de,this['bias']=_0x29d0c4;}};function extractSeparableConvParamsFactory(_0x203bf2,_0x457495){return(_0x2fa27,_0x1e52bb,_0x58d494)=>{const _0x25ae81=_0x7004,_0xbd25bd=tf14[_0x25ae81(0x1ad)](_0x203bf2(0x3*0x3*_0x2fa27),[0x3,0x3,_0x2fa27,0x1]),_0x22d2e6=tf14[_0x25ae81(0x1ad)](_0x203bf2(_0x2fa27*_0x1e52bb),[0x1,0x1,_0x2fa27,_0x1e52bb]),_0x4d15ef=tf14[_0x25ae81(0x112)](_0x203bf2(_0x1e52bb));return _0x457495[_0x25ae81(0x216)]({'paramPath':_0x58d494+'/depthwise_filter'},{'paramPath':_0x58d494+_0x25ae81(0x196)},{'paramPath':_0x58d494+_0x25ae81(0x1d3)}),new SeparableConvParams(_0xbd25bd,_0x22d2e6,_0x4d15ef);};}function loadSeparableConvParamsFactory(_0x571e2a){return _0x1f2b69=>{const _0x49ffcc=_0x7004,_0xc1732d=_0x571e2a(_0x1f2b69+_0x49ffcc(0x291),0x4),_0x61e739=_0x571e2a(_0x1f2b69+_0x49ffcc(0x196),0x4),_0x3003cc=_0x571e2a(_0x1f2b69+_0x49ffcc(0x1d3),0x1);return new SeparableConvParams(_0xc1732d,_0x61e739,_0x3003cc);};}function extractWeightEntryFactory(_0x38fa5e,_0x343cdd){return(_0x2ae87d,_0x2643f3,_0x4fc86a)=>{const _0x237493=_0x7004,_0x486e6f=_0x38fa5e[_0x2ae87d];if(!isTensor(_0x486e6f,_0x2643f3))throw new Error('expected\x20weightMap['+_0x2ae87d+_0x237493(0x15c)+_0x2643f3+_0x237493(0xc6)+_0x486e6f);return _0x343cdd[_0x237493(0x216)]({'originalPath':_0x2ae87d,'paramPath':_0x4fc86a||_0x2ae87d}),_0x486e6f;};}function extractWeightsFactory(_0xbe2fd0){let _0x1576de=_0xbe2fd0;function _0x39af69(_0xecadfd){const _0x26ebfd=_0x7004,_0x3d5053=_0x1576de[_0x26ebfd(0xc7)](0x0,_0xecadfd);return _0x1576de=_0x1576de[_0x26ebfd(0xc7)](_0xecadfd),_0x3d5053;}function _0x35b0d1(){return _0x1576de;}return{'extractWeights':_0x39af69,'getRemainingWeights':_0x35b0d1};}function extractorsFactory(_0x28c464,_0x564bde){const _0x4c902=extractConvParamsFactory(_0x28c464,_0x564bde),_0x36d57f=extractSeparableConvParamsFactory(_0x28c464,_0x564bde);function _0xce4775(_0x549e7f,_0x3d092e,_0x30f85b,_0x33fcba=![]){const _0x7a8981=_0x7004,_0x2cae92=_0x33fcba?_0x4c902(_0x549e7f,_0x3d092e,0x3,_0x30f85b+_0x7a8981(0xd4)):_0x36d57f(_0x549e7f,_0x3d092e,_0x30f85b+_0x7a8981(0xd4)),_0x2489e6=_0x36d57f(_0x3d092e,_0x3d092e,_0x30f85b+'/conv1'),_0x56fc27=_0x36d57f(_0x3d092e,_0x3d092e,_0x30f85b+_0x7a8981(0x1de));return{'conv0':_0x2cae92,'conv1':_0x2489e6,'conv2':_0x56fc27};}function _0x56e640(_0x4300b0,_0x4c1418,_0x5d084e,_0x2a216b=![]){const _0x1b65ad=_0x7004,{conv0:_0x7c4fb5,conv1:_0x483f5f,conv2:_0x52d8e0}=_0xce4775(_0x4300b0,_0x4c1418,_0x5d084e,_0x2a216b),_0x53e1f3=_0x36d57f(_0x4c1418,_0x4c1418,_0x5d084e+_0x1b65ad(0x176));return{'conv0':_0x7c4fb5,'conv1':_0x483f5f,'conv2':_0x52d8e0,'conv3':_0x53e1f3};}return{'extractDenseBlock3Params':_0xce4775,'extractDenseBlock4Params':_0x56e640};}function extractParams(_0x466687){const _0x2aed56=_0x4382ac,_0x315381=[],{extractWeights:_0x19b461,getRemainingWeights:_0x18f9cb}=extractWeightsFactory(_0x466687),{extractDenseBlock4Params:_0x18fbf1}=extractorsFactory(_0x19b461,_0x315381),_0x3710aa=_0x18fbf1(0x3,0x20,'dense0',!![]),_0x45a5bd=_0x18fbf1(0x20,0x40,_0x2aed56(0x198)),_0x49c031=_0x18fbf1(0x40,0x80,'dense2'),_0x4f991f=_0x18fbf1(0x80,0x100,'dense3');if(_0x18f9cb()[_0x2aed56(0xec)]!==0x0)throw new Error(_0x2aed56(0x297)+_0x18f9cb()[_0x2aed56(0xec)]);return{'paramMappings':_0x315381,'params':{'dense0':_0x3710aa,'dense1':_0x45a5bd,'dense2':_0x49c031,'dense3':_0x4f991f}};}function loadConvParamsFactory(_0x188cd0){return _0x1d455a=>{const _0x373efd=_0x7004,_0x2c7d26=_0x188cd0(_0x1d455a+_0x373efd(0x181),0x4),_0x39619e=_0x188cd0(_0x1d455a+_0x373efd(0x1d3),0x1);return{'filters':_0x2c7d26,'bias':_0x39619e};};}function loadParamsFactory(_0x44d0bd,_0x545c0b){const _0x5d2c73=extractWeightEntryFactory(_0x44d0bd,_0x545c0b),_0xaa0d1b=loadConvParamsFactory(_0x5d2c73),_0x54a1be=loadSeparableConvParamsFactory(_0x5d2c73);function _0x1948f9(_0x3fdc78,_0x468380=![]){const _0x460ee7=_0x7004,_0x26037d=_0x468380?_0xaa0d1b(_0x3fdc78+_0x460ee7(0xd4)):_0x54a1be(_0x3fdc78+_0x460ee7(0xd4)),_0x14c13e=_0x54a1be(_0x3fdc78+'/conv1'),_0x556879=_0x54a1be(_0x3fdc78+_0x460ee7(0x1de));return{'conv0':_0x26037d,'conv1':_0x14c13e,'conv2':_0x556879};}function _0x862d95(_0x2e202d,_0x1083a2=![]){const _0x27ef9d=_0x7004,_0x2656e5=_0x1083a2?_0xaa0d1b(_0x2e202d+_0x27ef9d(0xd4)):_0x54a1be(_0x2e202d+_0x27ef9d(0xd4)),_0x453dea=_0x54a1be(_0x2e202d+_0x27ef9d(0x192)),_0xc87689=_0x54a1be(_0x2e202d+'/conv2'),_0x1b08ca=_0x54a1be(_0x2e202d+_0x27ef9d(0x176));return{'conv0':_0x2656e5,'conv1':_0x453dea,'conv2':_0xc87689,'conv3':_0x1b08ca};}return{'extractDenseBlock3Params':_0x1948f9,'extractDenseBlock4Params':_0x862d95};}function extractParamsFromWeightMap(_0x26c2f8){const _0x31e819=_0x4382ac,_0x5cf90b=[],{extractDenseBlock4Params:_0xd23f54}=loadParamsFactory(_0x26c2f8,_0x5cf90b),_0x5a2640={'dense0':_0xd23f54(_0x31e819(0x288),!![]),'dense1':_0xd23f54(_0x31e819(0x198)),'dense2':_0xd23f54(_0x31e819(0x10b)),'dense3':_0xd23f54(_0x31e819(0x22f))};return disposeUnusedWeightTensors(_0x26c2f8,_0x5cf90b),{'params':_0x5a2640,'paramMappings':_0x5cf90b};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x409a01=_0x4382ac;super(_0x409a01(0x213));}[_0x4382ac(0xb0)](_0xc73f25){const _0x2949f8=_0x4382ac,{params:_0x328035}=this;if(!_0x328035)throw new Error(_0x2949f8(0x1d2));return tf15[_0x2949f8(0xd9)](()=>{const _0x143abf=_0x2949f8,_0x36bbdb=tf15[_0x143abf(0x105)](_0xc73f25[_0x143abf(0x1cb)](0x70,!![]),_0x143abf(0x127)),_0x2b3bcf=[122.782,117.001,104.298],_0x519ded=normalize(_0x36bbdb,_0x2b3bcf)['div'](0xff);let _0xce5ade=denseBlock4(_0x519ded,_0x328035[_0x143abf(0x288)],!![]);return _0xce5ade=denseBlock4(_0xce5ade,_0x328035[_0x143abf(0x198)]),_0xce5ade=denseBlock4(_0xce5ade,_0x328035[_0x143abf(0x10b)]),_0xce5ade=denseBlock4(_0xce5ade,_0x328035[_0x143abf(0x22f)]),_0xce5ade=tf15['avgPool'](_0xce5ade,[0x7,0x7],[0x2,0x2],_0x143abf(0x228)),_0xce5ade;});}async[_0x4382ac(0xe2)](_0x557bbd){return this['forwardInput'](await toNetInput(_0x557bbd));}[_0x4382ac(0x1b1)](){const _0x9876b1=_0x4382ac;return _0x9876b1(0x8e);}['extractParamsFromWeightMap'](_0x964123){return extractParamsFromWeightMap(_0x964123);}[_0x4382ac(0x1bc)](_0x26a3de){return extractParams(_0x26a3de);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x4e8b01,_0x1e11d7){const _0x1a9921=_0x4382ac;return tf16[_0x1a9921(0xd9)](()=>tf16[_0x1a9921(0x1d1)](tf16['matMul'](_0x4e8b01,_0x1e11d7[_0x1a9921(0xb2)]),_0x1e11d7[_0x1a9921(0x225)]));}function extractParams2(_0x503a76,_0x3721b9,_0x31f920){const _0x3a5546=_0x4382ac,_0x18aed4=[],{extractWeights:_0x5e3b39,getRemainingWeights:_0x20391c}=extractWeightsFactory(_0x503a76),_0x2de258=extractFCParamsFactory(_0x5e3b39,_0x18aed4),_0x57ff7b=_0x2de258(_0x3721b9,_0x31f920,'fc');if(_0x20391c()[_0x3a5546(0xec)]!==0x0)throw new Error(_0x3a5546(0x297)+_0x20391c()['length']);return{'paramMappings':_0x18aed4,'params':{'fc':_0x57ff7b}};}function extractParamsFromWeightMap2(_0x3a7aa5){const _0x45b5b0=[],_0x23df29=extractWeightEntryFactory(_0x3a7aa5,_0x45b5b0);function _0x35a118(_0x45e480){const _0x3ea393=_0x7004,_0x35730a=_0x23df29(_0x45e480+_0x3ea393(0x1a4),0x2),_0x58ac02=_0x23df29(_0x45e480+'/bias',0x1);return{'weights':_0x35730a,'bias':_0x58ac02};}const _0x35854c={'fc':_0x35a118('fc')};return disposeUnusedWeightTensors(_0x3a7aa5,_0x45b5b0),{'params':_0x35854c,'paramMappings':_0x45b5b0};}function seperateWeightMaps(_0x3259af){const _0x254391=_0x4382ac,_0x1661d4={},_0x16232b={};return Object[_0x254391(0xbc)](_0x3259af)[_0x254391(0x1e6)](_0x5ed139=>{const _0x1f3608=_0x254391,_0x2a336e=_0x5ed139[_0x1f3608(0x17a)]('fc')?_0x16232b:_0x1661d4;_0x2a336e[_0x5ed139]=_0x3259af[_0x5ed139];}),{'featureExtractorMap':_0x1661d4,'classifierMap':_0x16232b};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x71f0df,_0x383717){const _0x3cd341=_0x4382ac;super(_0x71f0df),this[_0x3cd341(0x20b)]=_0x383717;}get[_0x4382ac(0x91)](){return this['_faceFeatureExtractor'];}[_0x4382ac(0x142)](_0x7c8b88){const _0x196c33=_0x4382ac,{params:_0xda36de}=this;if(!_0xda36de)throw new Error(this[_0x196c33(0x87)]+'\x20-\x20load\x20model\x20before\x20inference');return tf17[_0x196c33(0xd9)](()=>{const _0x48040d=_0x196c33,_0x2da341=_0x7c8b88 instanceof NetInput?this['faceFeatureExtractor'][_0x48040d(0xb0)](_0x7c8b88):_0x7c8b88;return fullyConnectedLayer(_0x2da341[_0x48040d(0x102)](_0x2da341[_0x48040d(0x206)][0x0],-0x1),_0xda36de['fc']);});}[_0x4382ac(0x136)](_0x3e4b8c=!![]){const _0x1e2060=_0x4382ac;this[_0x1e2060(0x91)][_0x1e2060(0x136)](_0x3e4b8c),super[_0x1e2060(0x136)](_0x3e4b8c);}[_0x4382ac(0x25d)](_0x2f0315){const _0x1a0c8d=_0x4382ac,{params:_0x5771ec,paramMappings:_0x52ca6e}=this[_0x1a0c8d(0x205)](_0x2f0315);this['_params']=_0x5771ec,this[_0x1a0c8d(0x28b)]=_0x52ca6e;}[_0x4382ac(0x205)](_0x3f6bfc){const _0x58a3f1=_0x4382ac;return extractParams2(_0x3f6bfc,this[_0x58a3f1(0xfd)](),this[_0x58a3f1(0x115)]());}[_0x4382ac(0x1ed)](_0x45a8ba){const _0x4db21f=_0x4382ac,{featureExtractorMap:_0x2c63ee,classifierMap:_0x9633a6}=seperateWeightMaps(_0x45a8ba);return this[_0x4db21f(0x91)][_0x4db21f(0x1cf)](_0x2c63ee),extractParamsFromWeightMap2(_0x9633a6);}['extractParams'](_0x3bce99){const _0x4358b6=_0x4382ac,_0x458c86=this[_0x4358b6(0xfd)](),_0x45df58=this[_0x4358b6(0x115)](),_0x44c2cc=_0x45df58*_0x458c86+_0x45df58,_0x17bb69=_0x3bce99['slice'](0x0,_0x3bce99[_0x4358b6(0xec)]-_0x44c2cc),_0x27c254=_0x3bce99[_0x4358b6(0xc7)](_0x3bce99[_0x4358b6(0xec)]-_0x44c2cc);return this[_0x4358b6(0x91)][_0x4358b6(0x178)](_0x17bb69),this[_0x4358b6(0x205)](_0x27c254);}},FACE_EXPRESSION_LABELS=[_0x4382ac(0xa3),_0x4382ac(0x1c9),_0x4382ac(0x27c),_0x4382ac(0x2a2),_0x4382ac(0x184),_0x4382ac(0xc9),_0x4382ac(0x2d8)],FaceExpressions=class{constructor(_0x26a926){const _0x192732=_0x4382ac;this['neutral']=0x0,this[_0x192732(0x1c9)]=0x0,this[_0x192732(0x27c)]=0x0,this['angry']=0x0,this[_0x192732(0x184)]=0x0,this[_0x192732(0xc9)]=0x0,this[_0x192732(0x2d8)]=0x0;if(_0x26a926['length']!==0x7)throw new Error(_0x192732(0x17e)+_0x26a926[_0x192732(0xec)]);FACE_EXPRESSION_LABELS[_0x192732(0x1e6)]((_0x188f76,_0x526819)=>{this[_0x188f76]=_0x26a926[_0x526819];});}[_0x4382ac(0x263)](){const _0x5564ba=_0x4382ac;return FACE_EXPRESSION_LABELS[_0x5564ba(0x23e)](_0x437e81=>({'expression':_0x437e81,'probability':this[_0x437e81]}))[_0x5564ba(0x25a)]((_0x430a3a,_0x4e857a)=>_0x4e857a['probability']-_0x430a3a['probability']);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x2583ae=new FaceFeatureExtractor()){const _0x2970fd=_0x4382ac;super(_0x2970fd(0x149),_0x2583ae);}[_0x4382ac(0xb0)](_0x417827){const _0x2db8a5=_0x4382ac;return tf18[_0x2db8a5(0xd9)](()=>tf18[_0x2db8a5(0x25f)](this['runNet'](_0x417827)));}async[_0x4382ac(0xe2)](_0x1cf8bd){const _0x2cf6ae=_0x4382ac;return this[_0x2cf6ae(0xb0)](await toNetInput(_0x1cf8bd));}async['predictExpressions'](_0xc5aa95){const _0x24a7a9=_0x4382ac,_0x30f1cf=await toNetInput(_0xc5aa95),_0x500db7=await this[_0x24a7a9(0xb0)](_0x30f1cf),_0x5a93ed=await Promise[_0x24a7a9(0x1da)](tf18[_0x24a7a9(0xd6)](_0x500db7)[_0x24a7a9(0x23e)](async _0x2005dd=>{const _0x486b87=_0x24a7a9,_0x6ee2f4=_0x2005dd['dataSync']();return _0x2005dd[_0x486b87(0x136)](),_0x6ee2f4;}));_0x500db7['dispose']();const _0x4f1274=_0x5a93ed[_0x24a7a9(0x23e)](_0x376b54=>new FaceExpressions(_0x376b54));return _0x30f1cf['isBatchInput']?_0x4f1274:_0x4f1274[0x0];}[_0x4382ac(0x1b1)](){const _0x4f7f9a=_0x4382ac;return _0x4f7f9a(0x1c5);}[_0x4382ac(0xfd)](){return 0x100;}[_0x4382ac(0x115)](){return 0x7;}};function isWithFaceExpressions(_0x373de2){const _0x43eafc=_0x4382ac;return _0x373de2[_0x43eafc(0x1e8)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x32cbf4,_0x14b478){const _0x4b173a={'expressions':_0x14b478};return{..._0x32cbf4,..._0x4b173a};}function drawFaceExpressions(_0x241457,_0x4287a1,_0x386f99=0.1,_0xbf2f90){const _0x4c05ff=_0x4382ac,_0x57d186=Array[_0x4c05ff(0xf6)](_0x4287a1)?_0x4287a1:[_0x4287a1];_0x57d186[_0x4c05ff(0x1e6)](_0x1ddff1=>{const _0x13c69b=_0x4c05ff,_0x588f7e=_0x1ddff1 instanceof FaceExpressions?_0x1ddff1:isWithFaceExpressions(_0x1ddff1)?_0x1ddff1['expressions']:void 0x0;if(!_0x588f7e)throw new Error(_0x13c69b(0x2c5));const _0x310223=_0x588f7e[_0x13c69b(0x263)](),_0x9f3a1a=_0x310223[_0x13c69b(0x1dc)](_0x418d81=>_0x418d81[_0x13c69b(0x20f)]>_0x386f99),_0x4d1827=isWithFaceDetection(_0x1ddff1)?_0x1ddff1['detection'][_0x13c69b(0x1e9)][_0x13c69b(0x2af)]:_0xbf2f90||new Point(0x0,0x0),_0x248203=new DrawTextField(_0x9f3a1a[_0x13c69b(0x23e)](_0x17df38=>_0x17df38[_0x13c69b(0xe0)]+'\x20('+round(_0x17df38['probability'])+')'),_0x4d1827);_0x248203[_0x13c69b(0x21e)](_0x241457);});}function isWithFaceLandmarks(_0x2d7abf){const _0x42c550=_0x4382ac;return isWithFaceDetection(_0x2d7abf)&&_0x2d7abf[_0x42c550(0x152)]instanceof FaceLandmarks&&_0x2d7abf[_0x42c550(0x255)]instanceof FaceLandmarks&&_0x2d7abf['alignedRect']instanceof FaceDetection;}function calculateFaceAngle(_0x3f84a5){const _0x1c9b66=_0x4382ac,_0x474966=(_0x60daf,_0x2eed12,_0x29504f,_0x4bfff2)=>Math['atan2'](_0x4bfff2-_0x2eed12,_0x29504f-_0x60daf)%Math['PI'],_0x104dcc=_0x13937d=>_0x13937d*0xb4/Math['PI'],_0x2cd313={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x3f84a5||!_0x3f84a5[_0x1c9b66(0x14d)]||_0x3f84a5[_0x1c9b66(0x14d)][_0x1c9b66(0xec)]!==0x44)return _0x2cd313;const _0x1b6818=_0x3f84a5['_positions'];_0x2cd313[_0x1c9b66(0x16c)]=-_0x474966(_0x1b6818[0x24]['_x'],_0x1b6818[0x24]['_y'],_0x1b6818[0x2d]['_x'],_0x1b6818[0x2d]['_y']),_0x2cd313['pitch']=_0x474966(0x0,Math[_0x1c9b66(0xe9)](_0x1b6818[0x0]['_x']-_0x1b6818[0x1e]['_x'])/_0x1b6818[0x1e]['_x'],Math['PI'],Math[_0x1c9b66(0xe9)](_0x1b6818[0x10]['_x']-_0x1b6818[0x1e]['_x'])/_0x1b6818[0x1e]['_x']);const _0x1cfa18=_0x1b6818['reduce']((_0x30a87e,_0x25ebb4)=>_0x30a87e<_0x25ebb4['_y']?_0x30a87e:_0x25ebb4['_y'],Infinity),_0x519e05=_0x1b6818[_0x1c9b66(0x2b1)]((_0x44daec,_0x89404d)=>_0x44daec>_0x89404d['_y']?_0x44daec:_0x89404d['_y'],-Infinity);return _0x2cd313[_0x1c9b66(0x233)]=Math['PI']*(_0x3f84a5[_0x1c9b66(0xcd)][_0x1c9b66(0x14c)]/(_0x519e05-_0x1cfa18)/1.4-0x1),_0x2cd313;}function extendWithFaceLandmarks(_0xe0bc8f,_0x249760){const _0x37bf65=_0x4382ac,{box:_0x96e981}=_0xe0bc8f['detection'],_0x50d45d=_0x249760[_0x37bf65(0x232)](_0x96e981['x'],_0x96e981['y']),_0xfee230=_0x50d45d[_0x37bf65(0x2a9)](),{imageDims:_0x10fe49}=_0xe0bc8f[_0x37bf65(0x2db)],_0x4043a1=new FaceDetection(_0xe0bc8f[_0x37bf65(0x2db)][_0x37bf65(0x194)],_0xfee230['rescale'](_0x10fe49['reverse']()),_0x10fe49),_0x2dd340=calculateFaceAngle(_0x249760),_0x35590e={'landmarks':_0x50d45d,'unshiftedLandmarks':_0x249760,'alignedRect':_0x4043a1,'angle':_0x2dd340};return{..._0xe0bc8f,..._0x35590e};}var DrawFaceLandmarksOptions=class{constructor(_0x25a621={}){const _0x313654=_0x4382ac,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x3dd69b,lineColor:_0x54c441,pointSize:_0x54045b,pointColor:_0x693f2e}=_0x25a621;this['drawLines']=drawLines,this[_0x313654(0x70)]=drawPoints,this[_0x313654(0x2bd)]=_0x3dd69b||0x1,this[_0x313654(0x15e)]=_0x54045b||0x2,this[_0x313654(0x111)]=_0x54c441||_0x313654(0x2c2),this[_0x313654(0x264)]=_0x693f2e||'rgba(255,\x200,\x20255,\x201)';}},DrawFaceLandmarks=class{constructor(_0xb0ea02,_0x4496ed={}){const _0x270238=_0x4382ac;this[_0x270238(0x1db)]=_0xb0ea02,this['options']=new DrawFaceLandmarksOptions(_0x4496ed);}[_0x4382ac(0x21e)](_0x291acf){const _0x1e050a=_0x4382ac,_0x3f81e2=getContext2dOrThrow(_0x291acf),{drawLines:_0x392bb2,drawPoints:_0x176449,lineWidth:_0x3a1eda,lineColor:_0x4ec3e2,pointSize:_0x352ece,pointColor:_0x35f27a}=this[_0x1e050a(0x2e4)];_0x392bb2&&this[_0x1e050a(0x1db)]instanceof FaceLandmarks68&&(_0x3f81e2['strokeStyle']=_0x4ec3e2,_0x3f81e2[_0x1e050a(0x2bd)]=_0x3a1eda,drawContour(_0x3f81e2,this[_0x1e050a(0x1db)]['getJawOutline']()),drawContour(_0x3f81e2,this[_0x1e050a(0x1db)][_0x1e050a(0x6f)]()),drawContour(_0x3f81e2,this[_0x1e050a(0x1db)][_0x1e050a(0x11f)]()),drawContour(_0x3f81e2,this[_0x1e050a(0x1db)][_0x1e050a(0x21d)]()),drawContour(_0x3f81e2,this[_0x1e050a(0x1db)][_0x1e050a(0x2c8)](),!![]),drawContour(_0x3f81e2,this[_0x1e050a(0x1db)][_0x1e050a(0xd0)](),!![]),drawContour(_0x3f81e2,this[_0x1e050a(0x1db)][_0x1e050a(0x2b6)](),!![]));if(_0x176449){_0x3f81e2[_0x1e050a(0x27e)]=_0x35f27a,_0x3f81e2['fillStyle']=_0x35f27a;const _0x1575aa=_0x58c72c=>{const _0x4e3220=_0x1e050a;_0x3f81e2[_0x4e3220(0x2e9)](),_0x3f81e2[_0x4e3220(0x1d0)](_0x58c72c['x'],_0x58c72c['y'],_0x352ece,0x0,0x2*Math['PI']),_0x3f81e2[_0x4e3220(0x253)]();};this[_0x1e050a(0x1db)]['positions']['forEach'](_0x1575aa);}}};function drawFaceLandmarks(_0x12335c,_0x280c68){const _0x5f5cde=_0x4382ac,_0x5cd39c=Array['isArray'](_0x280c68)?_0x280c68:[_0x280c68];_0x5cd39c[_0x5f5cde(0x1e6)](_0x43e297=>{const _0x32cc2b=_0x5f5cde,_0xf42b59=_0x43e297 instanceof FaceLandmarks?_0x43e297:isWithFaceLandmarks(_0x43e297)?_0x43e297['landmarks']:void 0x0;if(!_0xf42b59)throw new Error('drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof');new DrawFaceLandmarks(_0xf42b59)[_0x32cc2b(0x21e)](_0x12335c);});}var version=_0x4382ac(0x7c),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x52e9a2,_0x3263f4){const _0xfa712b=extractConvParamsFactory(_0x52e9a2,_0x3263f4),_0x263975=extractSeparableConvParamsFactory(_0x52e9a2,_0x3263f4);function _0x4e1fbc(_0x2eec8f,_0xcf4fce,_0x32909b){const _0x3bee40=_0x7004,_0x5b8014=_0x263975(_0x2eec8f,_0xcf4fce,_0x32909b+'/separable_conv0'),_0x271bdd=_0x263975(_0xcf4fce,_0xcf4fce,_0x32909b+'/separable_conv1'),_0x173754=_0xfa712b(_0x2eec8f,_0xcf4fce,0x1,_0x32909b+_0x3bee40(0x162));return{'separable_conv0':_0x5b8014,'separable_conv1':_0x271bdd,'expansion_conv':_0x173754};}function _0x555104(_0x3f3973,_0x2c81d4){const _0x399579=_0x7004,_0x1625a0=_0x263975(_0x3f3973,_0x3f3973,_0x2c81d4+_0x399579(0x28e)),_0x1b8b38=_0x263975(_0x3f3973,_0x3f3973,_0x2c81d4+_0x399579(0x2a4)),_0x4acb9c=_0x263975(_0x3f3973,_0x3f3973,_0x2c81d4+_0x399579(0x2d9));return{'separable_conv0':_0x1625a0,'separable_conv1':_0x1b8b38,'separable_conv2':_0x4acb9c};}return{'extractConvParams':_0xfa712b,'extractSeparableConvParams':_0x263975,'extractReductionBlockParams':_0x4e1fbc,'extractMainBlockParams':_0x555104};}function extractParams3(_0x288438,_0x5815e7){const _0xcd28d4=_0x4382ac,_0x154a4a=[],{extractWeights:_0x50e5ba,getRemainingWeights:_0x1fc4b1}=extractWeightsFactory(_0x288438),{extractConvParams:_0x23e664,extractSeparableConvParams:_0x2b5742,extractReductionBlockParams:_0x312607,extractMainBlockParams:_0x31ba43}=extractorsFactory2(_0x50e5ba,_0x154a4a),_0x4d3909=_0x23e664(0x3,0x20,0x3,_0xcd28d4(0x6a)),_0x14b332=_0x312607(0x20,0x40,'entry_flow/reduction_block_0'),_0x29eb0a=_0x312607(0x40,0x80,'entry_flow/reduction_block_1'),_0x2735a4={'conv_in':_0x4d3909,'reduction_block_0':_0x14b332,'reduction_block_1':_0x29eb0a},_0x43409c={};range(_0x5815e7,0x0,0x1)[_0xcd28d4(0x1e6)](_0x2fd3a2=>{const _0x8902df=_0xcd28d4;_0x43409c[_0x8902df(0x140)+_0x2fd3a2]=_0x31ba43(0x80,_0x8902df(0x2ad)+_0x2fd3a2);});const _0x3c1ff0=_0x312607(0x80,0x100,'exit_flow/reduction_block'),_0x53ae03=_0x2b5742(0x100,0x200,_0xcd28d4(0xaa)),_0x469597={'reduction_block':_0x3c1ff0,'separable_conv':_0x53ae03};if(_0x1fc4b1()[_0xcd28d4(0xec)]!==0x0)throw new Error(_0xcd28d4(0x297)+_0x1fc4b1()[_0xcd28d4(0xec)]);return{'paramMappings':_0x154a4a,'params':{'entry_flow':_0x2735a4,'middle_flow':_0x43409c,'exit_flow':_0x469597}};}function loadParamsFactory2(_0x3746d4,_0x9b5158){const _0x3040f5=extractWeightEntryFactory(_0x3746d4,_0x9b5158),_0xa836eb=loadConvParamsFactory(_0x3040f5),_0x11ae90=loadSeparableConvParamsFactory(_0x3040f5);function _0x5c5810(_0x8b5a3d){const _0x4af450=_0x7004,_0x3986eb=_0x11ae90(_0x8b5a3d+_0x4af450(0x28e)),_0x4d4da9=_0x11ae90(_0x8b5a3d+_0x4af450(0x2a4)),_0x4fe936=_0xa836eb(_0x8b5a3d+_0x4af450(0x162));return{'separable_conv0':_0x3986eb,'separable_conv1':_0x4d4da9,'expansion_conv':_0x4fe936};}function _0x1a1b21(_0x13bda7){const _0x50b64f=_0x7004,_0x369b5b=_0x11ae90(_0x13bda7+_0x50b64f(0x28e)),_0x2ad92c=_0x11ae90(_0x13bda7+'/separable_conv1'),_0x5480d5=_0x11ae90(_0x13bda7+_0x50b64f(0x2d9));return{'separable_conv0':_0x369b5b,'separable_conv1':_0x2ad92c,'separable_conv2':_0x5480d5};}return{'extractConvParams':_0xa836eb,'extractSeparableConvParams':_0x11ae90,'extractReductionBlockParams':_0x5c5810,'extractMainBlockParams':_0x1a1b21};}function extractParamsFromWeightMap3(_0x3ecfde,_0x485c77){const _0x46c4b7=_0x4382ac,_0x17ae65=[],{extractConvParams:_0x4ef7a7,extractSeparableConvParams:_0xaa5c84,extractReductionBlockParams:_0x2057f7,extractMainBlockParams:_0x32f73c}=loadParamsFactory2(_0x3ecfde,_0x17ae65),_0x5af98e=_0x4ef7a7(_0x46c4b7(0x6a)),_0x38250d=_0x2057f7(_0x46c4b7(0x138)),_0x3c0f4d=_0x2057f7(_0x46c4b7(0x2d5)),_0x32010e={'conv_in':_0x5af98e,'reduction_block_0':_0x38250d,'reduction_block_1':_0x3c0f4d},_0x41f8fd={};range(_0x485c77,0x0,0x1)[_0x46c4b7(0x1e6)](_0x570879=>{const _0x4cc895=_0x46c4b7;_0x41f8fd[_0x4cc895(0x140)+_0x570879]=_0x32f73c(_0x4cc895(0x2ad)+_0x570879);});const _0x16d6f0=_0x2057f7(_0x46c4b7(0xd5)),_0x21b764=_0xaa5c84('exit_flow/separable_conv'),_0x2e4bcc={'reduction_block':_0x16d6f0,'separable_conv':_0x21b764};return disposeUnusedWeightTensors(_0x3ecfde,_0x17ae65),{'params':{'entry_flow':_0x32010e,'middle_flow':_0x41f8fd,'exit_flow':_0x2e4bcc},'paramMappings':_0x17ae65};}function conv(_0x242fde,_0x37e040,_0x1e0bdc){const _0x167432=_0x4382ac;return tf19[_0x167432(0x1d1)](tf19[_0x167432(0x1f9)](_0x242fde,_0x37e040['filters'],_0x1e0bdc,_0x167432(0x248)),_0x37e040[_0x167432(0x225)]);}function reductionBlock(_0x1fe576,_0x3f0604,_0x43b688=!![]){const _0x442628=_0x4382ac;let _0x19c814=_0x43b688?tf19[_0x442628(0x272)](_0x1fe576):_0x1fe576;return _0x19c814=depthwiseSeparableConv(_0x19c814,_0x3f0604['separable_conv0'],[0x1,0x1]),_0x19c814=depthwiseSeparableConv(tf19['relu'](_0x19c814),_0x3f0604['separable_conv1'],[0x1,0x1]),_0x19c814=tf19[_0x442628(0x287)](_0x19c814,[0x3,0x3],[0x2,0x2],_0x442628(0x248)),_0x19c814=tf19[_0x442628(0x1d1)](_0x19c814,conv(_0x1fe576,_0x3f0604[_0x442628(0x135)],[0x2,0x2])),_0x19c814;}function mainBlock(_0x3aee9c,_0x3b1f2f){const _0x1e4f05=_0x4382ac;let _0x5889d7=depthwiseSeparableConv(tf19[_0x1e4f05(0x272)](_0x3aee9c),_0x3b1f2f[_0x1e4f05(0x28a)],[0x1,0x1]);return _0x5889d7=depthwiseSeparableConv(tf19[_0x1e4f05(0x272)](_0x5889d7),_0x3b1f2f['separable_conv1'],[0x1,0x1]),_0x5889d7=depthwiseSeparableConv(tf19[_0x1e4f05(0x272)](_0x5889d7),_0x3b1f2f['separable_conv2'],[0x1,0x1]),_0x5889d7=tf19[_0x1e4f05(0x1d1)](_0x5889d7,_0x3aee9c),_0x5889d7;}var TinyXception=class extends NeuralNetwork{constructor(_0x29b719){const _0x25ab7f=_0x4382ac;super(_0x25ab7f(0x2bb)),this[_0x25ab7f(0x1c2)]=_0x29b719;}['forwardInput'](_0x54bd03){const _0x982d6d=_0x4382ac,{params:_0x52a70a}=this;if(!_0x52a70a)throw new Error('TinyXception\x20-\x20load\x20model\x20before\x20inference');return tf19[_0x982d6d(0xd9)](()=>{const _0x2e1d1f=_0x982d6d,_0x4ba974=tf19['cast'](_0x54bd03[_0x2e1d1f(0x1cb)](0x70,!![]),_0x2e1d1f(0x127)),_0x40ad33=[122.782,117.001,104.298],_0x2a33e7=normalize(_0x4ba974,_0x40ad33)[_0x2e1d1f(0x107)](0xff);let _0x47462c=tf19[_0x2e1d1f(0x272)](conv(_0x2a33e7,_0x52a70a[_0x2e1d1f(0x2b4)][_0x2e1d1f(0xa7)],[0x2,0x2]));return _0x47462c=reductionBlock(_0x47462c,_0x52a70a[_0x2e1d1f(0x2b4)]['reduction_block_0'],![]),_0x47462c=reductionBlock(_0x47462c,_0x52a70a[_0x2e1d1f(0x2b4)][_0x2e1d1f(0x2ab)]),range(this[_0x2e1d1f(0x1c2)],0x0,0x1)['forEach'](_0x2044bd=>{const _0x37536a=_0x2e1d1f;_0x47462c=mainBlock(_0x47462c,_0x52a70a[_0x37536a(0x2e5)][_0x37536a(0x140)+_0x2044bd]);}),_0x47462c=reductionBlock(_0x47462c,_0x52a70a[_0x2e1d1f(0x207)]['reduction_block']),_0x47462c=tf19[_0x2e1d1f(0x272)](depthwiseSeparableConv(_0x47462c,_0x52a70a[_0x2e1d1f(0x207)][_0x2e1d1f(0x1fc)],[0x1,0x1])),_0x47462c;});}async[_0x4382ac(0xe2)](_0x5aa9b6){return this['forwardInput'](await toNetInput(_0x5aa9b6));}[_0x4382ac(0x1b1)](){const _0x30da12=_0x4382ac;return _0x30da12(0x2ba);}[_0x4382ac(0x1ed)](_0x3ed00d){const _0x1b45ae=_0x4382ac;return extractParamsFromWeightMap3(_0x3ed00d,this[_0x1b45ae(0x1c2)]);}[_0x4382ac(0x1bc)](_0x22cfd5){return extractParams3(_0x22cfd5,this['_numMainBlocks']);}};function extractParams4(_0x1de2ff){const _0x104fac=_0x4382ac,_0x24c9ec=[],{extractWeights:_0x33ecfa,getRemainingWeights:_0x1dbf61}=extractWeightsFactory(_0x1de2ff),_0x5b17fd=extractFCParamsFactory(_0x33ecfa,_0x24c9ec),_0x5f3792=_0x5b17fd(0x200,0x1,_0x104fac(0x26e)),_0x48834a=_0x5b17fd(0x200,0x2,_0x104fac(0x299));if(_0x1dbf61()[_0x104fac(0xec)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x1dbf61()[_0x104fac(0xec)]);return{'paramMappings':_0x24c9ec,'params':{'fc':{'age':_0x5f3792,'gender':_0x48834a}}};}function extractParamsFromWeightMap4(_0x2e7286){const _0x44f9d9=_0x4382ac,_0x5b04f5=[],_0xaa0a1d=extractWeightEntryFactory(_0x2e7286,_0x5b04f5);function _0x477e34(_0x6878b0){const _0x2a08fc=_0xaa0a1d(_0x6878b0+'/weights',0x2),_0x1fa017=_0xaa0a1d(_0x6878b0+'/bias',0x1);return{'weights':_0x2a08fc,'bias':_0x1fa017};}const _0x205a83={'fc':{'age':_0x477e34(_0x44f9d9(0x26e)),'gender':_0x477e34(_0x44f9d9(0x299))}};return disposeUnusedWeightTensors(_0x2e7286,_0x5b04f5),{'params':_0x205a83,'paramMappings':_0x5b04f5};}var Gender=(_0x1ca17f=>{const _0x4749e3=_0x4382ac;return _0x1ca17f[_0x4749e3(0x79)]='female',_0x1ca17f[_0x4749e3(0x143)]='male',_0x1ca17f;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x9193c8=new TinyXception(0x2)){const _0x145ff0=_0x4382ac;super(_0x145ff0(0x2b0)),this[_0x145ff0(0x20b)]=_0x9193c8;}get[_0x4382ac(0x91)](){const _0x3b3e92=_0x4382ac;return this[_0x3b3e92(0x20b)];}['runNet'](_0x41bc7d){const _0x7be369=_0x4382ac,{params:_0x176e75}=this;if(!_0x176e75)throw new Error(this[_0x7be369(0x87)]+_0x7be369(0x126));return tf20[_0x7be369(0xd9)](()=>{const _0xf80900=_0x7be369,_0x7d0e84=_0x41bc7d instanceof NetInput?this[_0xf80900(0x91)]['forwardInput'](_0x41bc7d):_0x41bc7d,_0x38621c=tf20[_0xf80900(0x269)](_0x7d0e84,[0x7,0x7],[0x2,0x2],'valid')[_0xf80900(0x102)](_0x7d0e84[_0xf80900(0x206)][0x0],-0x1),_0xabbd4d=fullyConnectedLayer(_0x38621c,_0x176e75['fc']['age'])[_0xf80900(0x15d)](),_0x2f27e4=fullyConnectedLayer(_0x38621c,_0x176e75['fc']['gender']);return{'age':_0xabbd4d,'gender':_0x2f27e4};});}[_0x4382ac(0xb0)](_0x26a450){const _0x5b02d6=_0x4382ac;return tf20[_0x5b02d6(0xd9)](()=>{const _0x5837a7=_0x5b02d6,{age:_0x2e4032,gender:_0x541015}=this[_0x5837a7(0x142)](_0x26a450);return{'age':_0x2e4032,'gender':tf20['softmax'](_0x541015)};});}async[_0x4382ac(0xe2)](_0x16f709){const _0x3132a0=_0x4382ac;return this[_0x3132a0(0xb0)](await toNetInput(_0x16f709));}async['predictAgeAndGender'](_0x3d8997){const _0x22de00=_0x4382ac,_0x51b323=await toNetInput(_0x3d8997),_0x1885b6=await this['forwardInput'](_0x51b323),_0x56d4a7=tf20['unstack'](_0x1885b6[_0x22de00(0xea)]),_0x58ee8b=tf20[_0x22de00(0xd6)](_0x1885b6[_0x22de00(0x2b8)]),_0x58f7e8=_0x56d4a7['map']((_0x23578f,_0x2723c1)=>({'ageTensor':_0x23578f,'genderTensor':_0x58ee8b[_0x2723c1]})),_0xd978ec=await Promise[_0x22de00(0x1da)](_0x58f7e8['map'](async({ageTensor:_0x2598e2,genderTensor:_0x1fc1b9})=>{const _0x5adbc5=_0x22de00,_0x2fc1a1=_0x2598e2[_0x5adbc5(0x209)]()[0x0],_0x234c87=_0x1fc1b9[_0x5adbc5(0x209)]()[0x0],_0x5466ec=_0x234c87>0.5,_0x3ee899=_0x5466ec?_0x5adbc5(0x13e):_0x5adbc5(0x221),_0x36216d=_0x5466ec?_0x234c87:0x1-_0x234c87;return _0x2598e2['dispose'](),_0x1fc1b9['dispose'](),{'age':_0x2fc1a1,'gender':_0x3ee899,'genderProbability':_0x36216d};}));return _0x1885b6[_0x22de00(0xea)]['dispose'](),_0x1885b6[_0x22de00(0x2b8)]['dispose'](),_0x51b323['isBatchInput']?_0xd978ec:_0xd978ec[0x0];}[_0x4382ac(0x1b1)](){return'age_gender_model';}[_0x4382ac(0x136)](_0x374a37=!![]){const _0x5998e7=_0x4382ac;this['faceFeatureExtractor'][_0x5998e7(0x136)](_0x374a37),super[_0x5998e7(0x136)](_0x374a37);}[_0x4382ac(0x25d)](_0x49c9a2){const _0x2197a8=_0x4382ac,{params:_0x50483d,paramMappings:_0x334445}=this[_0x2197a8(0x205)](_0x49c9a2);this[_0x2197a8(0x14b)]=_0x50483d,this[_0x2197a8(0x28b)]=_0x334445;}[_0x4382ac(0x205)](_0x372775){return extractParams4(_0x372775);}[_0x4382ac(0x1ed)](_0x15a97e){const {featureExtractorMap:_0x15fc11,classifierMap:_0x201e15}=seperateWeightMaps(_0x15a97e);return this['faceFeatureExtractor']['loadFromWeightMap'](_0x15fc11),extractParamsFromWeightMap4(_0x201e15);}[_0x4382ac(0x1bc)](_0x1bce50){const _0x46cdd3=_0x4382ac,_0x50a69b=0x200*0x1+0x1+(0x200*0x2+0x2),_0x23a543=_0x1bce50[_0x46cdd3(0xc7)](0x0,_0x1bce50[_0x46cdd3(0xec)]-_0x50a69b),_0x2d5cdc=_0x1bce50['slice'](_0x1bce50[_0x46cdd3(0xec)]-_0x50a69b);return this[_0x46cdd3(0x91)][_0x46cdd3(0x178)](_0x23a543),this[_0x46cdd3(0x205)](_0x2d5cdc);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{[_0x4382ac(0x19e)](_0x3bee38,_0x4d420e,_0xa2da3){const _0x34902e=_0x4382ac,_0x509b1a=_0xa2da3[_0x34902e(0x23e)](({width:_0x94e86e,height:_0x1d08f8})=>{const _0x25886e=_0x34902e,_0x4cab44=_0x4d420e/Math[_0x25886e(0x2cd)](_0x1d08f8,_0x94e86e);return{'width':_0x94e86e*_0x4cab44,'height':_0x1d08f8*_0x4cab44};}),_0xd7a8bd=_0x509b1a[_0x34902e(0xec)];return tf21[_0x34902e(0xd9)](()=>{const _0x1fdbb4=_0x34902e,_0x4a6b94=(_0x1824ef,_0x2e119e)=>tf21[_0x1fdbb4(0x16d)]([tf21[_0x1fdbb4(0x253)]([0x44],_0x1824ef,'float32'),tf21[_0x1fdbb4(0x253)]([0x44],_0x2e119e,'float32')],0x1)[_0x1fdbb4(0x102)](0x1,0x88)['as1D'](),_0x211baf=(_0x22815a,_0x3732f1)=>{const _0x28061c=_0x1fdbb4,{width:_0x41b314,height:_0xe39d5e}=_0x509b1a[_0x22815a];return _0x3732f1(_0x41b314,_0xe39d5e)?Math[_0x28061c(0xe9)](_0x41b314-_0xe39d5e)/0x2:0x0;},_0x4fe573=_0x4cf039=>_0x211baf(_0x4cf039,(_0x260955,_0x5506e7)=>_0x260955<_0x5506e7),_0x3d26a8=_0x4a029f=>_0x211baf(_0x4a029f,(_0x3a1f43,_0x2decf3)=>_0x2decf3<_0x3a1f43),_0x4f15c0=_0x3bee38['mul'](tf21['fill']([_0xd7a8bd,0x88],_0x4d420e,_0x1fdbb4(0x127)))['sub'](tf21[_0x1fdbb4(0x16d)](Array[_0x1fdbb4(0x1df)](Array(_0xd7a8bd),(_0x5191d1,_0x34f3d4)=>_0x4a6b94(_0x4fe573(_0x34f3d4),_0x3d26a8(_0x34f3d4)))))[_0x1fdbb4(0x107)](tf21[_0x1fdbb4(0x16d)](Array[_0x1fdbb4(0x1df)](Array(_0xd7a8bd),(_0x1da76f,_0x1224cb)=>_0x4a6b94(_0x509b1a[_0x1224cb]['width'],_0x509b1a[_0x1224cb][_0x1fdbb4(0x26b)]))));return _0x4f15c0;});}[_0x4382ac(0xb0)](_0x23c451){const _0xb5767e=_0x4382ac;return tf21[_0xb5767e(0xd9)](()=>{const _0x214c16=_0xb5767e,_0x4b8b3f=this[_0x214c16(0x142)](_0x23c451);return this[_0x214c16(0x19e)](_0x4b8b3f,_0x23c451['inputSize'],_0x23c451[_0x214c16(0x2ae)][_0x214c16(0x23e)](([_0xe9d47e,_0x4212cc])=>({'height':_0xe9d47e,'width':_0x4212cc})));});}async[_0x4382ac(0xe2)](_0x2c157e){const _0x584aa7=_0x4382ac;return this[_0x584aa7(0xb0)](await toNetInput(_0x2c157e));}async['detectLandmarks'](_0x38a65c){const _0x393552=_0x4382ac,_0x19d773=await toNetInput(_0x38a65c),_0xdea8e3=tf21[_0x393552(0xd9)](()=>tf21[_0x393552(0xd6)](this[_0x393552(0xb0)](_0x19d773))),_0x3d5123=await Promise['all'](_0xdea8e3['map'](async(_0x3ef4de,_0x437664)=>{const _0x7035f7=_0x393552,_0x511480=Array['from'](_0x3ef4de[_0x7035f7(0x209)]()),_0x26a007=_0x511480[_0x7035f7(0x1dc)]((_0x510bc6,_0x4e8404)=>isEven(_0x4e8404)),_0xfd2c5a=_0x511480['filter']((_0xa3feaf,_0x3ada03)=>!isEven(_0x3ada03));return new FaceLandmarks68(Array(0x44)[_0x7035f7(0x253)](0x0)['map']((_0x28b1dd,_0xa31ded)=>new Point(_0x26a007[_0xa31ded],_0xfd2c5a[_0xa31ded])),{'height':_0x19d773['getInputHeight'](_0x437664),'width':_0x19d773[_0x7035f7(0x18a)](_0x437664)});}));return _0xdea8e3[_0x393552(0x1e6)](_0x325957=>_0x325957[_0x393552(0x136)]()),_0x19d773[_0x393552(0x245)]?_0x3d5123:_0x3d5123[0x0];}['getClassifierChannelsOut'](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x3cd9f0=new FaceFeatureExtractor()){const _0x71ef10=_0x4382ac;super(_0x71ef10(0x116),_0x3cd9f0);}[_0x4382ac(0x1b1)](){const _0x51861a=_0x4382ac;return _0x51861a(0x2a7);}['getClassifierChannelsIn'](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x34f8bb){const _0xa37536=_0x4382ac,_0x1ed374=[],{extractDenseBlock3Params:_0x58f989}=loadParamsFactory(_0x34f8bb,_0x1ed374),_0x2b2dc2={'dense0':_0x58f989(_0xa37536(0x288),!![]),'dense1':_0x58f989(_0xa37536(0x198)),'dense2':_0x58f989(_0xa37536(0x10b))};return disposeUnusedWeightTensors(_0x34f8bb,_0x1ed374),{'params':_0x2b2dc2,'paramMappings':_0x1ed374};}function extractParamsTiny(_0x1badf5){const _0x2c88a9=_0x4382ac,_0x2f4292=[],{extractWeights:_0x5ce5ee,getRemainingWeights:_0x2a2770}=extractWeightsFactory(_0x1badf5),{extractDenseBlock3Params:_0x4e5fb3}=extractorsFactory(_0x5ce5ee,_0x2f4292),_0x3b3aa7=_0x4e5fb3(0x3,0x20,_0x2c88a9(0x288),!![]),_0x34597a=_0x4e5fb3(0x20,0x40,_0x2c88a9(0x198)),_0x345b83=_0x4e5fb3(0x40,0x80,_0x2c88a9(0x10b));if(_0x2a2770()[_0x2c88a9(0xec)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x2a2770()[_0x2c88a9(0xec)]);return{'paramMappings':_0x2f4292,'params':{'dense0':_0x3b3aa7,'dense1':_0x34597a,'dense2':_0x345b83}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x4c8f5e=_0x4382ac;super(_0x4c8f5e(0x2ce));}['forwardInput'](_0x13dc62){const _0x5db564=_0x4382ac,{params:_0x12a88e}=this;if(!_0x12a88e)throw new Error('TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference');return tf22[_0x5db564(0xd9)](()=>{const _0x3df345=_0x5db564,_0xa926b3=tf22[_0x3df345(0x105)](_0x13dc62[_0x3df345(0x1cb)](0x70,!![]),_0x3df345(0x127)),_0x3b8601=[122.782,117.001,104.298],_0x2f7263=normalize(_0xa926b3,_0x3b8601)['div'](0xff);let _0xe5a21d=denseBlock3(_0x2f7263,_0x12a88e[_0x3df345(0x288)],!![]);return _0xe5a21d=denseBlock3(_0xe5a21d,_0x12a88e[_0x3df345(0x198)]),_0xe5a21d=denseBlock3(_0xe5a21d,_0x12a88e[_0x3df345(0x10b)]),_0xe5a21d=tf22[_0x3df345(0x269)](_0xe5a21d,[0xe,0xe],[0x2,0x2],_0x3df345(0x228)),_0xe5a21d;});}async[_0x4382ac(0xe2)](_0x2d21c0){const _0x554590=_0x4382ac;return this[_0x554590(0xb0)](await toNetInput(_0x2d21c0));}[_0x4382ac(0x1b1)](){const _0x552020=_0x4382ac;return _0x552020(0xb4);}[_0x4382ac(0x1ed)](_0x4234dc){return extractParamsFromWeightMapTiny(_0x4234dc);}[_0x4382ac(0x1bc)](_0x5212e5){return extractParamsTiny(_0x5212e5);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x269f29=new TinyFaceFeatureExtractor()){const _0x8ce08a=_0x4382ac;super(_0x8ce08a(0xe3),_0x269f29);}[_0x4382ac(0x1b1)](){return'face_landmark_68_tiny_model';}[_0x4382ac(0xfd)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x19b247,_0x3c4059){const _0x57a53f=_0x4382ac;return tf23['add'](tf23[_0x57a53f(0x101)](_0x19b247,_0x3c4059[_0x57a53f(0xb2)]),_0x3c4059[_0x57a53f(0x25e)]);}function convLayer2(_0x78f679,_0x1dd740,_0x4f4bff,_0x58f6a6,_0x239813=_0x4382ac(0x248)){const _0x360c22=_0x4382ac,{filters:_0x1bfa0b,bias:_0x1072c5}=_0x1dd740[_0x360c22(0x2d4)];let _0x217691=tf24[_0x360c22(0x1f9)](_0x78f679,_0x1bfa0b,_0x4f4bff,_0x239813);return _0x217691=tf24[_0x360c22(0x1d1)](_0x217691,_0x1072c5),_0x217691=scale(_0x217691,_0x1dd740['scale']),_0x58f6a6?tf24[_0x360c22(0x272)](_0x217691):_0x217691;}function conv2(_0xb6c31c,_0x388265){return convLayer2(_0xb6c31c,_0x388265,[0x1,0x1],!![]);}function convNoRelu(_0x3713be,_0x204ff0){return convLayer2(_0x3713be,_0x204ff0,[0x1,0x1],![]);}function convDown(_0x191c53,_0x3278ea){const _0x1e8635=_0x4382ac;return convLayer2(_0x191c53,_0x3278ea,[0x2,0x2],!![],_0x1e8635(0x228));}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0xebbd4c,_0x146f96){function _0xe42f02(_0x2f1c3c,_0x8ade2b,_0x4b45a8){const _0x4d30e4=_0x7004,_0x30da4c=_0xebbd4c(_0x2f1c3c),_0x53c87e=_0x30da4c['length']/(_0x8ade2b*_0x4b45a8*_0x4b45a8);if(isFloat(_0x53c87e))throw new Error(_0x4d30e4(0x293)+_0x53c87e+_0x4d30e4(0x18e)+_0x30da4c[_0x4d30e4(0xec)]+',\x20numFilters:\x20'+_0x8ade2b+',\x20filterSize:\x20'+_0x4b45a8);return tf25[_0x4d30e4(0xd9)](()=>tf25['transpose'](tf25[_0x4d30e4(0x1ad)](_0x30da4c,[_0x8ade2b,_0x53c87e,_0x4b45a8,_0x4b45a8]),[0x2,0x3,0x1,0x0]));}function _0x261ab7(_0x34f2b9,_0x3efa91,_0x2d6203,_0xee8d9f){const _0x4236bf=_0x7004,_0x5a17ce=_0xe42f02(_0x34f2b9,_0x3efa91,_0x2d6203),_0x5d52e7=tf25['tensor1d'](_0xebbd4c(_0x3efa91));return _0x146f96[_0x4236bf(0x216)]({'paramPath':_0xee8d9f+_0x4236bf(0x181)},{'paramPath':_0xee8d9f+'/bias'}),{'filters':_0x5a17ce,'bias':_0x5d52e7};}function _0x245820(_0x113415,_0x572a4c){const _0x411276=_0x7004,_0x4f18a8=tf25[_0x411276(0x112)](_0xebbd4c(_0x113415)),_0x4bdf2c=tf25['tensor1d'](_0xebbd4c(_0x113415));return _0x146f96['push']({'paramPath':_0x572a4c+_0x411276(0x1a4)},{'paramPath':_0x572a4c+_0x411276(0x27a)}),{'weights':_0x4f18a8,'biases':_0x4bdf2c};}function _0x1454b1(_0x425bba,_0x1bef15,_0x29c943,_0x3af74b){const _0xaec665=_0x7004,_0x18ae84=_0x261ab7(_0x425bba,_0x1bef15,_0x29c943,_0x3af74b+_0xaec665(0x8a)),_0x1ea3a2=_0x245820(_0x1bef15,_0x3af74b+_0xaec665(0x1e3));return{'conv':_0x18ae84,'scale':_0x1ea3a2};}function _0x1243f5(_0x5bc58e,_0x236ba5,_0x498809,_0x57bc89,_0x44ea41=![]){const _0x1089c8=_0x7004,_0x127855=_0x1454b1((_0x44ea41?0.5:0x1)*_0x5bc58e,_0x236ba5,_0x498809,_0x57bc89+'/conv1'),_0x10b9b2=_0x1454b1(_0x5bc58e,_0x236ba5,_0x498809,_0x57bc89+_0x1089c8(0x1de));return{'conv1':_0x127855,'conv2':_0x10b9b2};}return{'extractConvLayerParams':_0x1454b1,'extractResidualLayerParams':_0x1243f5};}function extractParams5(_0x418e18){const _0x2de5eb=_0x4382ac,{extractWeights:_0x1b1c10,getRemainingWeights:_0x4d5929}=extractWeightsFactory(_0x418e18),_0xf49076=[],{extractConvLayerParams:_0x5e54d3,extractResidualLayerParams:_0x51152f}=extractorsFactory3(_0x1b1c10,_0xf49076),_0x5d1a13=_0x5e54d3(0x1260,0x20,0x7,_0x2de5eb(0xa1)),_0xb64ee1=_0x51152f(0x2400,0x20,0x3,_0x2de5eb(0x77)),_0x3f7147=_0x51152f(0x2400,0x20,0x3,'conv32_2'),_0x38f9da=_0x51152f(0x2400,0x20,0x3,_0x2de5eb(0x2cf)),_0x42c5a3=_0x51152f(0x9000,0x40,0x3,_0x2de5eb(0x15a),!![]),_0x5abcd0=_0x51152f(0x9000,0x40,0x3,_0x2de5eb(0x204)),_0x234a2f=_0x51152f(0x9000,0x40,0x3,_0x2de5eb(0x29f)),_0x246ff8=_0x51152f(0x9000,0x40,0x3,_0x2de5eb(0x108)),_0x33293c=_0x51152f(0x24000,0x80,0x3,_0x2de5eb(0xf1),!![]),_0x288b40=_0x51152f(0x24000,0x80,0x3,_0x2de5eb(0x1b3)),_0x3031c9=_0x51152f(0x24000,0x80,0x3,_0x2de5eb(0x277)),_0x2bb0dd=_0x51152f(0x90000,0x100,0x3,_0x2de5eb(0x137),!![]),_0x152c77=_0x51152f(0x90000,0x100,0x3,_0x2de5eb(0x6c)),_0x47a1b6=_0x51152f(0x90000,0x100,0x3,_0x2de5eb(0x11b)),_0x4bd540=_0x51152f(0x90000,0x100,0x3,'conv256_down_out'),_0x432738=tf25['tidy'](()=>tf25[_0x2de5eb(0xd3)](tf25[_0x2de5eb(0x230)](_0x1b1c10(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0xf49076[_0x2de5eb(0x216)]({'paramPath':'fc'});if(_0x4d5929()[_0x2de5eb(0xec)]!==0x0)throw new Error(_0x2de5eb(0x297)+_0x4d5929()['length']);const _0x438d9f={'conv32_down':_0x5d1a13,'conv32_1':_0xb64ee1,'conv32_2':_0x3f7147,'conv32_3':_0x38f9da,'conv64_down':_0x42c5a3,'conv64_1':_0x5abcd0,'conv64_2':_0x234a2f,'conv64_3':_0x246ff8,'conv128_down':_0x33293c,'conv128_1':_0x288b40,'conv128_2':_0x3031c9,'conv256_down':_0x2bb0dd,'conv256_1':_0x152c77,'conv256_2':_0x47a1b6,'conv256_down_out':_0x4bd540,'fc':_0x432738};return{'params':_0x438d9f,'paramMappings':_0xf49076};}function extractorsFactory4(_0x59b602,_0x529f3c){const _0x118e07=extractWeightEntryFactory(_0x59b602,_0x529f3c);function _0x1e3558(_0x16521b){const _0x5a7571=_0x7004,_0x2087f2=_0x118e07(_0x16521b+_0x5a7571(0xf2),0x1),_0x31a325=_0x118e07(_0x16521b+_0x5a7571(0x23f),0x1);return{'weights':_0x2087f2,'biases':_0x31a325};}function _0x42e897(_0x58f0dd){const _0x289272=_0x7004,_0x4a4666=_0x118e07(_0x58f0dd+_0x289272(0x117),0x4),_0x2e1501=_0x118e07(_0x58f0dd+_0x289272(0x1bf),0x1),_0x119d66=_0x1e3558(_0x58f0dd);return{'conv':{'filters':_0x4a4666,'bias':_0x2e1501},'scale':_0x119d66};}function _0x183f6e(_0x22e6f8){const _0x471349=_0x7004;return{'conv1':_0x42e897(_0x22e6f8+_0x471349(0x192)),'conv2':_0x42e897(_0x22e6f8+'/conv2')};}return{'extractConvLayerParams':_0x42e897,'extractResidualLayerParams':_0x183f6e};}function extractParamsFromWeightMap5(_0xfd80a){const _0x4e537b=_0x4382ac,_0x4a5fd0=[],{extractConvLayerParams:_0x158783,extractResidualLayerParams:_0x10b02d}=extractorsFactory4(_0xfd80a,_0x4a5fd0),_0x359b91=_0x158783(_0x4e537b(0xa1)),_0x8cdd20=_0x10b02d(_0x4e537b(0x77)),_0xedf858=_0x10b02d(_0x4e537b(0x254)),_0x261573=_0x10b02d(_0x4e537b(0x2cf)),_0x41124e=_0x10b02d(_0x4e537b(0x15a)),_0xff673b=_0x10b02d(_0x4e537b(0x204)),_0x2b25ab=_0x10b02d(_0x4e537b(0x29f)),_0x5b5340=_0x10b02d('conv64_3'),_0x10e08c=_0x10b02d(_0x4e537b(0xf1)),_0x43bf64=_0x10b02d(_0x4e537b(0x1b3)),_0x2189c7=_0x10b02d(_0x4e537b(0x277)),_0x49f808=_0x10b02d('conv256_down'),_0x40e8a8=_0x10b02d(_0x4e537b(0x6c)),_0x25c46c=_0x10b02d('conv256_2'),_0x317e31=_0x10b02d(_0x4e537b(0x1f5)),{fc:_0x22b2b4}=_0xfd80a;_0x4a5fd0[_0x4e537b(0x216)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x22b2b4))throw new Error(_0x4e537b(0x1e1)+_0x22b2b4);const _0x495c2a={'conv32_down':_0x359b91,'conv32_1':_0x8cdd20,'conv32_2':_0xedf858,'conv32_3':_0x261573,'conv64_down':_0x41124e,'conv64_1':_0xff673b,'conv64_2':_0x2b25ab,'conv64_3':_0x5b5340,'conv128_down':_0x10e08c,'conv128_1':_0x43bf64,'conv128_2':_0x2189c7,'conv256_down':_0x49f808,'conv256_1':_0x40e8a8,'conv256_2':_0x25c46c,'conv256_down_out':_0x317e31,'fc':_0x22b2b4};return disposeUnusedWeightTensors(_0xfd80a,_0x4a5fd0),{'params':_0x495c2a,'paramMappings':_0x4a5fd0};}var tf26=__toESM(require_tfjs_esm());function residual(_0x355c25,_0x4803be){const _0xc66465=_0x4382ac;let _0xe0198a=conv2(_0x355c25,_0x4803be[_0xc66465(0xfb)]);return _0xe0198a=convNoRelu(_0xe0198a,_0x4803be['conv2']),_0xe0198a=tf26[_0xc66465(0x1d1)](_0xe0198a,_0x355c25),_0xe0198a=tf26[_0xc66465(0x272)](_0xe0198a),_0xe0198a;}function residualDown(_0x37b0dd,_0x207274){const _0x55e00e=_0x4382ac;let _0x4600ba=convDown(_0x37b0dd,_0x207274['conv1']);_0x4600ba=convNoRelu(_0x4600ba,_0x207274['conv2']);let _0x1a9bf8=tf26[_0x55e00e(0x269)](_0x37b0dd,0x2,0x2,_0x55e00e(0x228));const _0x41f74c=tf26['zeros'](_0x1a9bf8[_0x55e00e(0x206)]),_0x5c705a=_0x1a9bf8[_0x55e00e(0x206)][0x3]!==_0x4600ba[_0x55e00e(0x206)][0x3],_0x5befae=_0x1a9bf8['shape'][0x1]!==_0x4600ba[_0x55e00e(0x206)][0x1]||_0x1a9bf8[_0x55e00e(0x206)][0x2]!==_0x4600ba[_0x55e00e(0x206)][0x2];if(_0x5befae){const _0x2f99ab=[..._0x4600ba[_0x55e00e(0x206)]];_0x2f99ab[0x1]=0x1;const _0x249a63=tf26[_0x55e00e(0x85)](_0x2f99ab);_0x4600ba=tf26[_0x55e00e(0x27f)]([_0x4600ba,_0x249a63],0x1);const _0x5a060a=[..._0x4600ba['shape']];_0x5a060a[0x2]=0x1;const _0x311a69=tf26[_0x55e00e(0x85)](_0x5a060a);_0x4600ba=tf26[_0x55e00e(0x27f)]([_0x4600ba,_0x311a69],0x2);}return _0x1a9bf8=_0x5c705a?tf26[_0x55e00e(0x27f)]([_0x1a9bf8,_0x41f74c],0x3):_0x1a9bf8,_0x4600ba=tf26[_0x55e00e(0x1d1)](_0x1a9bf8,_0x4600ba),_0x4600ba=tf26[_0x55e00e(0x272)](_0x4600ba),_0x4600ba;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){super('FaceRecognitionNet');}[_0x4382ac(0xb0)](_0x2164ea){const _0x28d9d5=_0x4382ac,{params:_0x57c581}=this;if(!_0x57c581)throw new Error(_0x28d9d5(0xf4));return tf27[_0x28d9d5(0xd9)](()=>{const _0x2f43f8=_0x28d9d5,_0x13eb58=tf27[_0x2f43f8(0x105)](_0x2164ea[_0x2f43f8(0x1cb)](0x96,!![]),'float32'),_0x659ac7=[122.782,117.001,104.298],_0x53014d=normalize(_0x13eb58,_0x659ac7)['div'](0xff);let _0x3f609b=convDown(_0x53014d,_0x57c581[_0x2f43f8(0xa1)]);_0x3f609b=tf27[_0x2f43f8(0x287)](_0x3f609b,0x3,0x2,_0x2f43f8(0x228)),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x77)]),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x254)]),_0x3f609b=residual(_0x3f609b,_0x57c581['conv32_3']),_0x3f609b=residualDown(_0x3f609b,_0x57c581['conv64_down']),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x204)]),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x29f)]),_0x3f609b=residual(_0x3f609b,_0x57c581['conv64_3']),_0x3f609b=residualDown(_0x3f609b,_0x57c581[_0x2f43f8(0xf1)]),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x1b3)]),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x277)]),_0x3f609b=residualDown(_0x3f609b,_0x57c581[_0x2f43f8(0x137)]),_0x3f609b=residual(_0x3f609b,_0x57c581['conv256_1']),_0x3f609b=residual(_0x3f609b,_0x57c581[_0x2f43f8(0x11b)]),_0x3f609b=residualDown(_0x3f609b,_0x57c581[_0x2f43f8(0x1f5)]);const _0x279b2e=_0x3f609b[_0x2f43f8(0x244)]([0x1,0x2]),_0x45dd73=tf27[_0x2f43f8(0x12a)](_0x279b2e,_0x57c581['fc']);return _0x45dd73;});}async[_0x4382ac(0xe2)](_0x5797b7){const _0x578cc2=_0x4382ac;return this[_0x578cc2(0xb0)](await toNetInput(_0x5797b7));}async[_0x4382ac(0xba)](_0x28e905){const _0x43dcc5=_0x4382ac;var _0x45fb23;if((_0x45fb23=_0x28e905==null?void 0x0:_0x28e905['shape'])==null?void 0x0:_0x45fb23[_0x43dcc5(0x8f)](_0x5eb689=>_0x5eb689<=0x0))return new Float32Array(0x80);const _0x5bffa3=await toNetInput(_0x28e905),_0x205ed7=tf27['tidy'](()=>tf27[_0x43dcc5(0xd6)](this['forwardInput'](_0x5bffa3))),_0x456dc1=await Promise[_0x43dcc5(0x1da)](_0x205ed7[_0x43dcc5(0x23e)](_0x4d4b6a=>_0x4d4b6a[_0x43dcc5(0x26c)]()));return _0x205ed7[_0x43dcc5(0x1e6)](_0x53a2d7=>_0x53a2d7[_0x43dcc5(0x136)]()),_0x5bffa3[_0x43dcc5(0x245)]?_0x456dc1:_0x456dc1[0x0];}[_0x4382ac(0x1b1)](){return'face_recognition_model';}[_0x4382ac(0x1ed)](_0x51f064){return extractParamsFromWeightMap5(_0x51f064);}[_0x4382ac(0x1bc)](_0x561270){return extractParams5(_0x561270);}};function createFaceRecognitionNet(_0x143c9d){const _0x4c6414=_0x4382ac,_0xec2d43=new FaceRecognitionNet();return _0xec2d43[_0x4c6414(0x178)](_0x143c9d),_0xec2d43;}function extendWithFaceDescriptor(_0xaffdb9,_0x40eb83){const _0x487c5f={'descriptor':_0x40eb83};return{..._0xaffdb9,..._0x487c5f};}function isWithAge(_0x35277a){const _0x2f0069=_0x4382ac;return typeof _0x35277a[_0x2f0069(0xea)]===_0x2f0069(0x1ea);}function extendWithAge(_0x480a7d,_0x24086b){const _0x1b704e={'age':_0x24086b};return{..._0x480a7d,..._0x1b704e};}function isWithGender(_0x1d32ad){const _0x6f5f5b=_0x4382ac;return(_0x1d32ad[_0x6f5f5b(0x2b8)]==='male'||_0x1d32ad[_0x6f5f5b(0x2b8)]===_0x6f5f5b(0x221))&&isValidProbablitiy(_0x1d32ad[_0x6f5f5b(0x249)]);}function extendWithGender(_0x3c5635,_0x3c1139,_0x5090c8){const _0x5e62e8={'gender':_0x3c1139,'genderProbability':_0x5090c8};return{..._0x3c5635,..._0x5e62e8};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x4da12c,_0xa552b7){function _0x41ea86(_0x86f151,_0x1fe137){const _0x58ab3d=_0x7004,_0x3c7c9e=tf28['tensor4d'](_0x4da12c(0x3*0x3*_0x86f151),[0x3,0x3,_0x86f151,0x1]),_0x347ed9=tf28[_0x58ab3d(0x112)](_0x4da12c(_0x86f151)),_0x4fce3f=tf28[_0x58ab3d(0x112)](_0x4da12c(_0x86f151)),_0x5a25d1=tf28[_0x58ab3d(0x112)](_0x4da12c(_0x86f151)),_0x2334c8=tf28[_0x58ab3d(0x112)](_0x4da12c(_0x86f151));return _0xa552b7['push']({'paramPath':_0x1fe137+_0x58ab3d(0x181)},{'paramPath':_0x1fe137+'/batch_norm_scale'},{'paramPath':_0x1fe137+_0x58ab3d(0x18f)},{'paramPath':_0x1fe137+_0x58ab3d(0x268)},{'paramPath':_0x1fe137+'/batch_norm_variance'}),{'filters':_0x3c7c9e,'batch_norm_scale':_0x347ed9,'batch_norm_offset':_0x4fce3f,'batch_norm_mean':_0x5a25d1,'batch_norm_variance':_0x2334c8};}function _0x107392(_0x1fab99,_0xf49747,_0x4a4ce8,_0x5d9df4,_0x112e61){const _0x39f497=_0x7004,_0x34a3c0=tf28[_0x39f497(0x1ad)](_0x4da12c(_0x1fab99*_0xf49747*_0x4a4ce8*_0x4a4ce8),[_0x4a4ce8,_0x4a4ce8,_0x1fab99,_0xf49747]),_0x14aeb4=tf28[_0x39f497(0x112)](_0x4da12c(_0xf49747));return _0xa552b7[_0x39f497(0x216)]({'paramPath':_0x5d9df4+'/filters'},{'paramPath':_0x5d9df4+'/'+(_0x112e61?'batch_norm_offset':_0x39f497(0x225))}),{'filters':_0x34a3c0,'bias':_0x14aeb4};}function _0x44830f(_0x1e015c,_0x2bf974,_0x49a665,_0x104a79){const {filters:_0x86006a,bias:_0x1ed8ef}=_0x107392(_0x1e015c,_0x2bf974,_0x49a665,_0x104a79,!![]);return{'filters':_0x86006a,'batch_norm_offset':_0x1ed8ef};}function _0x309915(_0x2ba389,_0x3623f0,_0x276e34){const _0x49e1d2=_0x7004,_0x444c9f=_0x41ea86(_0x2ba389,_0x276e34+_0x49e1d2(0x25c)),_0x3a3f84=_0x44830f(_0x2ba389,_0x3623f0,0x1,_0x276e34+_0x49e1d2(0x179));return{'depthwise_conv':_0x444c9f,'pointwise_conv':_0x3a3f84};}function _0x770b02(){const _0x3de1a4=_0x7004,_0x454a79=_0x44830f(0x3,0x20,0x3,_0x3de1a4(0xa5)),_0x1dae1c=_0x309915(0x20,0x40,_0x3de1a4(0x200)),_0x10c31e=_0x309915(0x40,0x80,_0x3de1a4(0x195)),_0x15979c=_0x309915(0x80,0x80,_0x3de1a4(0x1d6)),_0x21b294=_0x309915(0x80,0x100,'mobilenetv1/conv_4'),_0x36d942=_0x309915(0x100,0x100,_0x3de1a4(0x182)),_0x258f0f=_0x309915(0x100,0x200,_0x3de1a4(0xcc)),_0x542816=_0x309915(0x200,0x200,'mobilenetv1/conv_7'),_0x59a34e=_0x309915(0x200,0x200,_0x3de1a4(0xc5)),_0x4f66db=_0x309915(0x200,0x200,_0x3de1a4(0xd8)),_0x11dcad=_0x309915(0x200,0x200,_0x3de1a4(0x201)),_0x1a2090=_0x309915(0x200,0x200,_0x3de1a4(0xf0)),_0x431081=_0x309915(0x200,0x400,_0x3de1a4(0x20e)),_0x51a12f=_0x309915(0x400,0x400,'mobilenetv1/conv_13');return{'conv_0':_0x454a79,'conv_1':_0x1dae1c,'conv_2':_0x10c31e,'conv_3':_0x15979c,'conv_4':_0x21b294,'conv_5':_0x36d942,'conv_6':_0x258f0f,'conv_7':_0x542816,'conv_8':_0x59a34e,'conv_9':_0x4f66db,'conv_10':_0x11dcad,'conv_11':_0x1a2090,'conv_12':_0x431081,'conv_13':_0x51a12f};}function _0x3239f1(){const _0x1cbc66=_0x7004,_0x163c5f=_0x44830f(0x400,0x100,0x1,_0x1cbc66(0x9a)),_0x1d7db5=_0x44830f(0x100,0x200,0x3,_0x1cbc66(0xc3)),_0x24ea1d=_0x44830f(0x200,0x80,0x1,'prediction_layer/conv_2'),_0x5208b2=_0x44830f(0x80,0x100,0x3,_0x1cbc66(0x282)),_0x339a03=_0x44830f(0x100,0x80,0x1,_0x1cbc66(0xf5)),_0xa6559e=_0x44830f(0x80,0x100,0x3,_0x1cbc66(0x8d)),_0x27fed0=_0x44830f(0x100,0x40,0x1,_0x1cbc66(0x231)),_0x341ecb=_0x44830f(0x40,0x80,0x3,_0x1cbc66(0x2e1)),_0x53a82b=_0x107392(0x200,0xc,0x1,_0x1cbc66(0x167)),_0x4c80ba=_0x107392(0x200,0x9,0x1,_0x1cbc66(0x12f)),_0xe9fad6=_0x107392(0x400,0x18,0x1,_0x1cbc66(0x283)),_0xb95e60=_0x107392(0x400,0x12,0x1,_0x1cbc66(0x16b)),_0x70ce08=_0x107392(0x200,0x18,0x1,_0x1cbc66(0x12c)),_0x797798=_0x107392(0x200,0x12,0x1,'prediction_layer/box_predictor_2/class_predictor'),_0x22b9f2=_0x107392(0x100,0x18,0x1,'prediction_layer/box_predictor_3/box_encoding_predictor'),_0x18b6f1=_0x107392(0x100,0x12,0x1,'prediction_layer/box_predictor_3/class_predictor'),_0x4173a2=_0x107392(0x100,0x18,0x1,'prediction_layer/box_predictor_4/box_encoding_predictor'),_0x19d226=_0x107392(0x100,0x12,0x1,_0x1cbc66(0x17c)),_0x4e83d9=_0x107392(0x80,0x18,0x1,_0x1cbc66(0xeb)),_0x1cb2f6=_0x107392(0x80,0x12,0x1,_0x1cbc66(0x10d)),_0xe2f502={'box_encoding_predictor':_0x53a82b,'class_predictor':_0x4c80ba},_0x2bba67={'box_encoding_predictor':_0xe9fad6,'class_predictor':_0xb95e60},_0x5c947b={'box_encoding_predictor':_0x70ce08,'class_predictor':_0x797798},_0x15caae={'box_encoding_predictor':_0x22b9f2,'class_predictor':_0x18b6f1},_0x5c5816={'box_encoding_predictor':_0x4173a2,'class_predictor':_0x19d226},_0x3da7ad={'box_encoding_predictor':_0x4e83d9,'class_predictor':_0x1cb2f6};return{'conv_0':_0x163c5f,'conv_1':_0x1d7db5,'conv_2':_0x24ea1d,'conv_3':_0x5208b2,'conv_4':_0x339a03,'conv_5':_0xa6559e,'conv_6':_0x27fed0,'conv_7':_0x341ecb,'box_predictor_0':_0xe2f502,'box_predictor_1':_0x2bba67,'box_predictor_2':_0x5c947b,'box_predictor_3':_0x15caae,'box_predictor_4':_0x5c5816,'box_predictor_5':_0x3da7ad};}return{'extractMobilenetV1Params':_0x770b02,'extractPredictionLayerParams':_0x3239f1};}function extractParams6(_0x45bcfe){const _0x1545ad=_0x4382ac,_0x46fa4a=[],{extractWeights:_0x368345,getRemainingWeights:_0x499f18}=extractWeightsFactory(_0x45bcfe),{extractMobilenetV1Params:_0x3996f1,extractPredictionLayerParams:_0x4a021a}=extractorsFactory5(_0x368345,_0x46fa4a),_0x5954d8=_0x3996f1(),_0x13968e=_0x4a021a(),_0x1e6994=tf28[_0x1545ad(0x1dd)](_0x368345(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x11e8c8={'extra_dim':_0x1e6994};_0x46fa4a[_0x1545ad(0x216)]({'paramPath':_0x1545ad(0x191)});if(_0x499f18()[_0x1545ad(0xec)]!==0x0)throw new Error(_0x1545ad(0x297)+_0x499f18()['length']);return{'params':{'mobilenetv1':_0x5954d8,'prediction_layer':_0x13968e,'output_layer':_0x11e8c8},'paramMappings':_0x46fa4a};}function extractorsFactory6(_0x48d335,_0x362b1f){const _0x21b3c9=extractWeightEntryFactory(_0x48d335,_0x362b1f);function _0x5b8afa(_0xd347e8,_0x247af9,_0x1398be){const _0x4f817a=_0x7004,_0x52ba9c=_0x21b3c9(_0xd347e8+_0x4f817a(0x241)+_0x247af9+_0x4f817a(0x168),0x4,_0x1398be+_0x4f817a(0x181)),_0x4b2bd0=_0x21b3c9(_0xd347e8+'/Conv2d_'+_0x247af9+'_pointwise/convolution_bn_offset',0x1,_0x1398be+_0x4f817a(0x18f));return{'filters':_0x52ba9c,'batch_norm_offset':_0x4b2bd0};}function _0x3a4561(_0x3721a0){const _0x3f129e=_0x7004,_0x5ac503=_0x3f129e(0xcb)+_0x3721a0,_0x29cb98=_0x3f129e(0x1f4)+_0x3721a0+_0x3f129e(0x145),_0x4e2aff=_0x5ac503+_0x3f129e(0x25c),_0x2a2ff1=_0x5ac503+_0x3f129e(0x179),_0x13ae87=_0x21b3c9(_0x29cb98+_0x3f129e(0x2b3),0x4,_0x4e2aff+_0x3f129e(0x181)),_0x553578=_0x21b3c9(_0x29cb98+_0x3f129e(0x151),0x1,_0x4e2aff+_0x3f129e(0x69)),_0xacdd96=_0x21b3c9(_0x29cb98+_0x3f129e(0xe6),0x1,_0x4e2aff+_0x3f129e(0x18f)),_0x39286c=_0x21b3c9(_0x29cb98+'/BatchNorm/moving_mean',0x1,_0x4e2aff+_0x3f129e(0x268)),_0x17caa1=_0x21b3c9(_0x29cb98+_0x3f129e(0x125),0x1,_0x4e2aff+_0x3f129e(0x22d));return{'depthwise_conv':{'filters':_0x13ae87,'batch_norm_scale':_0x553578,'batch_norm_offset':_0xacdd96,'batch_norm_mean':_0x39286c,'batch_norm_variance':_0x17caa1},'pointwise_conv':_0x5b8afa(_0x3f129e(0x139),_0x3721a0,_0x2a2ff1)};}function _0x28ede8(){const _0x5709dc=_0x7004;return{'conv_0':_0x5b8afa(_0x5709dc(0x139),0x0,_0x5709dc(0xa5)),'conv_1':_0x3a4561(0x1),'conv_2':_0x3a4561(0x2),'conv_3':_0x3a4561(0x3),'conv_4':_0x3a4561(0x4),'conv_5':_0x3a4561(0x5),'conv_6':_0x3a4561(0x6),'conv_7':_0x3a4561(0x7),'conv_8':_0x3a4561(0x8),'conv_9':_0x3a4561(0x9),'conv_10':_0x3a4561(0xa),'conv_11':_0x3a4561(0xb),'conv_12':_0x3a4561(0xc),'conv_13':_0x3a4561(0xd)};}function _0x2cfe09(_0x3b8b9b,_0x2962c8){const _0xc63aaa=_0x7004,_0x20b364=_0x21b3c9(_0x3b8b9b+_0xc63aaa(0x1a4),0x4,_0x2962c8+'/filters'),_0x40d7d0=_0x21b3c9(_0x3b8b9b+'/biases',0x1,_0x2962c8+'/bias');return{'filters':_0x20b364,'bias':_0x40d7d0};}function _0x226825(_0xc80859){const _0x531518=_0x7004,_0x468396=_0x2cfe09('Prediction/BoxPredictor_'+_0xc80859+_0x531518(0x14a),'prediction_layer/box_predictor_'+_0xc80859+_0x531518(0x234)),_0x52639f=_0x2cfe09(_0x531518(0xad)+_0xc80859+_0x531518(0x2d0),_0x531518(0x1eb)+_0xc80859+_0x531518(0xdb));return{'box_encoding_predictor':_0x468396,'class_predictor':_0x52639f};}function _0x425ab4(){const _0x26cd42=_0x7004;return{'conv_0':_0x5b8afa(_0x26cd42(0x220),0x0,_0x26cd42(0x9a)),'conv_1':_0x5b8afa(_0x26cd42(0x220),0x1,_0x26cd42(0xc3)),'conv_2':_0x5b8afa(_0x26cd42(0x220),0x2,_0x26cd42(0x15f)),'conv_3':_0x5b8afa(_0x26cd42(0x220),0x3,_0x26cd42(0x282)),'conv_4':_0x5b8afa(_0x26cd42(0x220),0x4,'prediction_layer/conv_4'),'conv_5':_0x5b8afa(_0x26cd42(0x220),0x5,_0x26cd42(0x8d)),'conv_6':_0x5b8afa(_0x26cd42(0x220),0x6,_0x26cd42(0x231)),'conv_7':_0x5b8afa(_0x26cd42(0x220),0x7,'prediction_layer/conv_7'),'box_predictor_0':_0x226825(0x0),'box_predictor_1':_0x226825(0x1),'box_predictor_2':_0x226825(0x2),'box_predictor_3':_0x226825(0x3),'box_predictor_4':_0x226825(0x4),'box_predictor_5':_0x226825(0x5)};}return{'extractMobilenetV1Params':_0x28ede8,'extractPredictionLayerParams':_0x425ab4};}function extractParamsFromWeightMap6(_0x134af6){const _0x4c9391=_0x4382ac,_0x2409d0=[],{extractMobilenetV1Params:_0x5deae7,extractPredictionLayerParams:_0x19bc91}=extractorsFactory6(_0x134af6,_0x2409d0),_0x294f1b=_0x134af6[_0x4c9391(0x28c)];_0x2409d0[_0x4c9391(0x216)]({'originalPath':_0x4c9391(0x28c),'paramPath':_0x4c9391(0x191)});if(!isTensor3D(_0x294f1b))throw new Error(_0x4c9391(0x104)+_0x294f1b);const _0x551014={'mobilenetv1':_0x5deae7(),'prediction_layer':_0x19bc91(),'output_layer':{'extra_dim':_0x294f1b}};return disposeUnusedWeightTensors(_0x134af6,_0x2409d0),{'params':_0x551014,'paramMappings':_0x2409d0};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x485ca5,_0xd9095b,_0x1675ea){const _0x109eeb=_0x4382ac;return tf29[_0x109eeb(0xd9)](()=>{const _0x1dd3ab=_0x109eeb;let _0x1978c7=tf29[_0x1dd3ab(0x1f9)](_0x485ca5,_0xd9095b[_0x1dd3ab(0x160)],_0x1675ea,_0x1dd3ab(0x248));return _0x1978c7=tf29[_0x1dd3ab(0x1d1)](_0x1978c7,_0xd9095b['batch_norm_offset']),tf29[_0x1dd3ab(0xc2)](_0x1978c7,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x3e7a7d,_0x192c7b,_0x1f4436){const _0x28e8cb=_0x4382ac;return tf30[_0x28e8cb(0xd9)](()=>{const _0x3cb1b5=_0x28e8cb;let _0x1d6e91=tf30[_0x3cb1b5(0x9b)](_0x3e7a7d,_0x192c7b[_0x3cb1b5(0x160)],_0x1f4436,_0x3cb1b5(0x248));return _0x1d6e91=tf30[_0x3cb1b5(0x29e)](_0x1d6e91,_0x192c7b[_0x3cb1b5(0x286)],_0x192c7b[_0x3cb1b5(0x2a6)],_0x192c7b['batch_norm_offset'],_0x192c7b['batch_norm_scale'],epsilon),tf30['clipByValue'](_0x1d6e91,0x0,0x6);});}function getStridesForLayerIdx(_0xbe98c9){return[0x2,0x4,0x6,0xc]['some'](_0x1a152a=>_0x1a152a===_0xbe98c9)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x3e4e37,_0x2b2208){return tf30['tidy'](()=>{const _0x1b30b1=_0x7004;let _0x52764d,_0x45e8e9=pointwiseConvLayer(_0x3e4e37,_0x2b2208[_0x1b30b1(0xac)],[0x2,0x2]);const _0x40e3a5=[_0x2b2208['conv_1'],_0x2b2208[_0x1b30b1(0x121)],_0x2b2208[_0x1b30b1(0x2c1)],_0x2b2208[_0x1b30b1(0x157)],_0x2b2208[_0x1b30b1(0x93)],_0x2b2208[_0x1b30b1(0x1bd)],_0x2b2208[_0x1b30b1(0xb5)],_0x2b2208[_0x1b30b1(0xd1)],_0x2b2208[_0x1b30b1(0xb7)],_0x2b2208[_0x1b30b1(0x239)],_0x2b2208['conv_11'],_0x2b2208[_0x1b30b1(0x246)],_0x2b2208['conv_13']];_0x40e3a5[_0x1b30b1(0x1e6)]((_0x576c95,_0x153533)=>{const _0x594ed1=_0x1b30b1,_0x569f3b=_0x153533+0x1,_0x53a177=getStridesForLayerIdx(_0x569f3b);_0x45e8e9=depthwiseConvLayer(_0x45e8e9,_0x576c95[_0x594ed1(0x219)],_0x53a177),_0x45e8e9=pointwiseConvLayer(_0x45e8e9,_0x576c95[_0x594ed1(0x161)],[0x1,0x1]);if(_0x569f3b===0xb)_0x52764d=_0x45e8e9;});if(_0x52764d===null)throw new Error('mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null');return{'out':_0x45e8e9,'conv11':_0x52764d};});}function IOU(_0x33b6ad,_0x15adc5,_0x401e28){const _0x315a05=_0x4382ac,_0x47b9e2=_0x33b6ad[_0x315a05(0x261)](),_0x1eaf82=Math[_0x315a05(0x1f3)](_0x47b9e2[_0x15adc5][0x0],_0x47b9e2[_0x15adc5][0x2]),_0x59e488=Math['min'](_0x47b9e2[_0x15adc5][0x1],_0x47b9e2[_0x15adc5][0x3]),_0x2b554b=Math[_0x315a05(0x2cd)](_0x47b9e2[_0x15adc5][0x0],_0x47b9e2[_0x15adc5][0x2]),_0x111ee5=Math[_0x315a05(0x2cd)](_0x47b9e2[_0x15adc5][0x1],_0x47b9e2[_0x15adc5][0x3]),_0x30cf77=Math['min'](_0x47b9e2[_0x401e28][0x0],_0x47b9e2[_0x401e28][0x2]),_0x2ae196=Math[_0x315a05(0x1f3)](_0x47b9e2[_0x401e28][0x1],_0x47b9e2[_0x401e28][0x3]),_0x290ef0=Math[_0x315a05(0x2cd)](_0x47b9e2[_0x401e28][0x0],_0x47b9e2[_0x401e28][0x2]),_0x2e8e8f=Math['max'](_0x47b9e2[_0x401e28][0x1],_0x47b9e2[_0x401e28][0x3]),_0x2ee19e=(_0x2b554b-_0x1eaf82)*(_0x111ee5-_0x59e488),_0x9b066d=(_0x290ef0-_0x30cf77)*(_0x2e8e8f-_0x2ae196);if(_0x2ee19e<=0x0||_0x9b066d<=0x0)return 0x0;const _0x47a4b5=Math[_0x315a05(0x2cd)](_0x1eaf82,_0x30cf77),_0x554003=Math[_0x315a05(0x2cd)](_0x59e488,_0x2ae196),_0x18009a=Math[_0x315a05(0x1f3)](_0x2b554b,_0x290ef0),_0x552ab6=Math[_0x315a05(0x1f3)](_0x111ee5,_0x2e8e8f),_0x2959f3=Math[_0x315a05(0x2cd)](_0x18009a-_0x47a4b5,0x0)*Math['max'](_0x552ab6-_0x554003,0x0);return _0x2959f3/(_0x2ee19e+_0x9b066d-_0x2959f3);}function nonMaxSuppression2(_0x134071,_0x5f20e7,_0x446ef3,_0x37c26e,_0x1b91a0){const _0x461df2=_0x4382ac,_0xa0b8ac=_0x134071[_0x461df2(0x206)][0x0],_0x15adc6=Math['min'](_0x446ef3,_0xa0b8ac),_0x3a4a6f=_0x5f20e7[_0x461df2(0x23e)]((_0x15450e,_0x1076c7)=>({'score':_0x15450e,'boxIndex':_0x1076c7}))[_0x461df2(0x1dc)](_0x32a3e1=>_0x32a3e1[_0x461df2(0x194)]>_0x1b91a0)['sort']((_0x3dc2c2,_0x2e648b)=>_0x2e648b[_0x461df2(0x194)]-_0x3dc2c2['score']),_0xd89ac6=_0x304857=>_0x304857<=_0x37c26e?0x1:0x0,_0x1bab17=[];return _0x3a4a6f[_0x461df2(0x1e6)](_0x5741ac=>{const _0xba8a4=_0x461df2;if(_0x1bab17[_0xba8a4(0xec)]>=_0x15adc6)return;const _0x3a638d=_0x5741ac[_0xba8a4(0x194)];for(let _0x5e866f=_0x1bab17['length']-0x1;_0x5e866f>=0x0;--_0x5e866f){const _0x2bf51f=IOU(_0x134071,_0x5741ac[_0xba8a4(0x109)],_0x1bab17[_0x5e866f]);if(_0x2bf51f===0x0)continue;_0x5741ac[_0xba8a4(0x194)]*=_0xd89ac6(_0x2bf51f);if(_0x5741ac[_0xba8a4(0x194)]<=_0x1b91a0)break;}_0x3a638d===_0x5741ac['score']&&_0x1bab17[_0xba8a4(0x216)](_0x5741ac[_0xba8a4(0x109)]);}),_0x1bab17;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x2d3d41){const _0x4fda3a=_0x4382ac,_0x46a730=tf31['unstack'](tf31[_0x4fda3a(0xd3)](_0x2d3d41,[0x1,0x0])),_0x5cee8b=[tf31['sub'](_0x46a730[0x2],_0x46a730[0x0]),tf31[_0x4fda3a(0xa4)](_0x46a730[0x3],_0x46a730[0x1])],_0x120a1e=[tf31[_0x4fda3a(0x1d1)](_0x46a730[0x0],tf31['div'](_0x5cee8b[0x0],0x2)),tf31[_0x4fda3a(0x1d1)](_0x46a730[0x1],tf31[_0x4fda3a(0x107)](_0x5cee8b[0x1],0x2))];return{'sizes':_0x5cee8b,'centers':_0x120a1e};}function decodeBoxesLayer(_0x2bc5e0,_0xc464f5){const _0x568402=_0x4382ac,{sizes:_0x5e7c9e,centers:_0x4aa513}=getCenterCoordinatesAndSizesLayer(_0x2bc5e0),_0x4fd70d=tf31[_0x568402(0xd6)](tf31[_0x568402(0xd3)](_0xc464f5,[0x1,0x0])),_0x5b0d0b=tf31[_0x568402(0x107)](tf31['mul'](tf31[_0x568402(0x197)](tf31[_0x568402(0x107)](_0x4fd70d[0x2],0x5)),_0x5e7c9e[0x0]),0x2),_0x3612de=tf31[_0x568402(0x1d1)](tf31[_0x568402(0x101)](tf31[_0x568402(0x107)](_0x4fd70d[0x0],0xa),_0x5e7c9e[0x0]),_0x4aa513[0x0]),_0x186ece=tf31[_0x568402(0x107)](tf31[_0x568402(0x101)](tf31[_0x568402(0x197)](tf31[_0x568402(0x107)](_0x4fd70d[0x3],0x5)),_0x5e7c9e[0x1]),0x2),_0x437f75=tf31['add'](tf31[_0x568402(0x101)](tf31[_0x568402(0x107)](_0x4fd70d[0x1],0xa),_0x5e7c9e[0x1]),_0x4aa513[0x1]);return tf31[_0x568402(0xd3)](tf31[_0x568402(0x16d)]([tf31['sub'](_0x3612de,_0x5b0d0b),tf31[_0x568402(0xa4)](_0x437f75,_0x186ece),tf31[_0x568402(0x1d1)](_0x3612de,_0x5b0d0b),tf31[_0x568402(0x1d1)](_0x437f75,_0x186ece)]),[0x1,0x0]);}function outputLayer(_0x349947,_0x3a07a7,_0x51766a){return tf31['tidy'](()=>{const _0x967f08=_0x7004,_0x2b9f8b=_0x349947['shape'][0x0];let _0x14f516=decodeBoxesLayer(tf31['reshape'](tf31[_0x967f08(0x10c)](_0x51766a[_0x967f08(0x298)],[_0x2b9f8b,0x1,0x1]),[-0x1,0x4]),tf31[_0x967f08(0x258)](_0x349947,[-0x1,0x4]));_0x14f516=tf31[_0x967f08(0x258)](_0x14f516,[_0x2b9f8b,_0x14f516[_0x967f08(0x206)][0x0]/_0x2b9f8b,0x4]);const _0x49abf2=tf31['sigmoid'](tf31[_0x967f08(0xc7)](_0x3a07a7,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0xdfacbb=tf31[_0x967f08(0xc7)](_0x49abf2,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0xdfacbb=tf31[_0x967f08(0x258)](_0xdfacbb,[_0x2b9f8b,_0xdfacbb[_0x967f08(0x206)][0x1]]);const _0x3fd35f=tf31[_0x967f08(0xd6)](_0x14f516),_0x25aa3e=tf31[_0x967f08(0xd6)](_0xdfacbb);return{'boxes':_0x3fd35f,'scores':_0x25aa3e};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x1c9d48,_0x313ba6){const _0x18ea9c=_0x4382ac;return tf32[_0x18ea9c(0xd9)](()=>{const _0x517074=_0x18ea9c,_0xef7ba7=_0x1c9d48['shape'][0x0],_0x4b4ae4=tf32[_0x517074(0x258)](convLayer(_0x1c9d48,_0x313ba6[_0x517074(0x2a5)]),[_0xef7ba7,-0x1,0x1,0x4]),_0x551a7a=tf32[_0x517074(0x258)](convLayer(_0x1c9d48,_0x313ba6[_0x517074(0x185)]),[_0xef7ba7,-0x1,0x3]);return{'boxPredictionEncoding':_0x4b4ae4,'classPrediction':_0x551a7a};});}function predictionLayer(_0x22abab,_0x104516,_0x51f3a3){return tf33['tidy'](()=>{const _0x3b3e51=_0x7004,_0x9cf8e3=pointwiseConvLayer(_0x22abab,_0x51f3a3[_0x3b3e51(0xac)],[0x1,0x1]),_0x144ab0=pointwiseConvLayer(_0x9cf8e3,_0x51f3a3[_0x3b3e51(0xd7)],[0x2,0x2]),_0x760b61=pointwiseConvLayer(_0x144ab0,_0x51f3a3['conv_2'],[0x1,0x1]),_0x1343aa=pointwiseConvLayer(_0x760b61,_0x51f3a3['conv_3'],[0x2,0x2]),_0x16a348=pointwiseConvLayer(_0x1343aa,_0x51f3a3[_0x3b3e51(0x157)],[0x1,0x1]),_0x4b7855=pointwiseConvLayer(_0x16a348,_0x51f3a3[_0x3b3e51(0x93)],[0x2,0x2]),_0x1c634d=pointwiseConvLayer(_0x4b7855,_0x51f3a3[_0x3b3e51(0x1bd)],[0x1,0x1]),_0x20158b=pointwiseConvLayer(_0x1c634d,_0x51f3a3[_0x3b3e51(0xb5)],[0x2,0x2]),_0x111603=boxPredictionLayer(_0x104516,_0x51f3a3[_0x3b3e51(0x267)]),_0x108fde=boxPredictionLayer(_0x22abab,_0x51f3a3[_0x3b3e51(0x27d)]),_0x4f384a=boxPredictionLayer(_0x144ab0,_0x51f3a3['box_predictor_2']),_0x41b224=boxPredictionLayer(_0x1343aa,_0x51f3a3[_0x3b3e51(0x275)]),_0x14879c=boxPredictionLayer(_0x4b7855,_0x51f3a3['box_predictor_4']),_0x21cb10=boxPredictionLayer(_0x20158b,_0x51f3a3['box_predictor_5']),_0x4157e5=tf33[_0x3b3e51(0x27f)]([_0x111603[_0x3b3e51(0x163)],_0x108fde[_0x3b3e51(0x163)],_0x4f384a[_0x3b3e51(0x163)],_0x41b224[_0x3b3e51(0x163)],_0x14879c[_0x3b3e51(0x163)],_0x21cb10['boxPredictionEncoding']],0x1),_0x27ce32=tf33[_0x3b3e51(0x27f)]([_0x111603[_0x3b3e51(0x22b)],_0x108fde[_0x3b3e51(0x22b)],_0x4f384a[_0x3b3e51(0x22b)],_0x41b224[_0x3b3e51(0x22b)],_0x14879c['classPrediction'],_0x21cb10['classPrediction']],0x1);return{'boxPredictions':_0x4157e5,'classPredictions':_0x27ce32};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x2ebe45,maxResults:_0x17d06a}={}){const _0xde1fdf=_0x4382ac;this[_0xde1fdf(0x87)]=_0xde1fdf(0x26f),this['_minConfidence']=_0x2ebe45||0.5,this[_0xde1fdf(0x227)]=_0x17d06a||0x64;if(typeof this[_0xde1fdf(0x202)]!=='number'||this['_minConfidence']<=0x0||this[_0xde1fdf(0x202)]>=0x1)throw new Error(this[_0xde1fdf(0x87)]+_0xde1fdf(0x171));if(typeof this[_0xde1fdf(0x227)]!==_0xde1fdf(0x1ea))throw new Error(this[_0xde1fdf(0x87)]+'\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number');}get['minConfidence'](){const _0x534d37=_0x4382ac;return this[_0x534d37(0x202)];}get[_0x4382ac(0x2a8)](){const _0x4f0259=_0x4382ac;return this[_0x4f0259(0x227)];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){super('SsdMobilenetv1');}['forwardInput'](_0x3f7496){const _0x2511bc=_0x4382ac,{params:_0x397559}=this;if(!_0x397559)throw new Error(_0x2511bc(0xe5));return tf34[_0x2511bc(0xd9)](()=>{const _0x55f2f3=_0x2511bc,_0x2a6436=tf34[_0x55f2f3(0x105)](_0x3f7496[_0x55f2f3(0x1cb)](0x200,![]),_0x55f2f3(0x127)),_0x5d2012=tf34[_0x55f2f3(0xa4)](tf34['div'](_0x2a6436,127.5),0x1),_0x10423e=mobileNetV1(_0x5d2012,_0x397559[_0x55f2f3(0x1b7)]),{boxPredictions:_0x1cf68e,classPredictions:_0x236dcf}=predictionLayer(_0x10423e[_0x55f2f3(0x237)],_0x10423e[_0x55f2f3(0x97)],_0x397559['prediction_layer']);return outputLayer(_0x1cf68e,_0x236dcf,_0x397559['output_layer']);});}async[_0x4382ac(0xe2)](_0x458d78){const _0x45a947=_0x4382ac;return this[_0x45a947(0xb0)](await toNetInput(_0x458d78));}async[_0x4382ac(0x1e2)](_0x38f8d1,_0x5e19c9={}){const _0x2f62ef=_0x4382ac,{maxResults:_0x3326be,minConfidence:_0x58e604}=new SsdMobilenetv1Options(_0x5e19c9),_0x65929d=await toNetInput(_0x38f8d1),{boxes:_0x4562f6,scores:_0x45072e}=this[_0x2f62ef(0xb0)](_0x65929d),_0x8f5e8f=_0x4562f6[0x0],_0x432389=_0x45072e[0x0];for(let _0x355830=0x1;_0x355830<_0x4562f6[_0x2f62ef(0xec)];_0x355830++){_0x4562f6[_0x355830][_0x2f62ef(0x136)](),_0x45072e[_0x355830][_0x2f62ef(0x136)]();}const _0x78b8d1=Array[_0x2f62ef(0x1df)](_0x432389[_0x2f62ef(0x209)]()),_0x1e8180=0.5,_0x3eccff=nonMaxSuppression2(_0x8f5e8f,_0x78b8d1,_0x3326be,_0x1e8180,_0x58e604),_0x390830=_0x65929d[_0x2f62ef(0x132)](0x0),_0x3f4ab5=_0x65929d[_0x2f62ef(0x1c6)],_0x146b94=_0x3f4ab5/_0x390830[_0x2f62ef(0x134)],_0x1c9275=_0x3f4ab5/_0x390830[_0x2f62ef(0x26b)],_0x538267=_0x8f5e8f[_0x2f62ef(0x261)](),_0x2eb900=_0x3eccff['map'](_0x5aa6bd=>{const _0x3688b3=_0x2f62ef,[_0xad8e12,_0x585d99]=[Math['max'](0x0,_0x538267[_0x5aa6bd][0x0]),Math['min'](0x1,_0x538267[_0x5aa6bd][0x2])][_0x3688b3(0x23e)](_0xdf23b7=>_0xdf23b7*_0x1c9275),[_0x2c5391,_0x17a050]=[Math['max'](0x0,_0x538267[_0x5aa6bd][0x1]),Math[_0x3688b3(0x1f3)](0x1,_0x538267[_0x5aa6bd][0x3])][_0x3688b3(0x23e)](_0x49020d=>_0x49020d*_0x146b94);return new FaceDetection(_0x78b8d1[_0x5aa6bd],new Rect(_0x2c5391,_0xad8e12,_0x17a050-_0x2c5391,_0x585d99-_0xad8e12),{'height':_0x65929d['getInputHeight'](0x0),'width':_0x65929d[_0x3688b3(0x18a)](0x0)});});return _0x8f5e8f['dispose'](),_0x432389[_0x2f62ef(0x136)](),_0x2eb900;}[_0x4382ac(0x1b1)](){const _0x148cb6=_0x4382ac;return _0x148cb6(0x2e3);}[_0x4382ac(0x1ed)](_0x1dfa21){return extractParamsFromWeightMap6(_0x1dfa21);}['extractParams'](_0x1b9e55){return extractParams6(_0x1b9e55);}};function createSsdMobilenetv1(_0x1382d1){const _0x4e85a8=new SsdMobilenetv1();return _0x4e85a8['extractWeights'](_0x1382d1),_0x4e85a8;}function createFaceDetectionNet(_0x2ba20c){return createSsdMobilenetv1(_0x2ba20c);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME='tiny_yolov2_model',DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x4382ac(0x12e),tf39=__toESM(require_tfjs_esm()),isNumber=_0x377a61=>typeof _0x377a61==='number';function validateConfig(_0x4936e9){const _0x4c1620=_0x4382ac;if(!_0x4936e9)throw new Error(_0x4c1620(0x22c)+_0x4936e9);if(typeof _0x4936e9[_0x4c1620(0x154)]!==_0x4c1620(0xa0))throw new Error(_0x4c1620(0xca)+_0x4936e9[_0x4c1620(0x154)]);if(!isNumber(_0x4936e9[_0x4c1620(0x11c)])||_0x4936e9['iouThreshold']<0x0||_0x4936e9[_0x4c1620(0x11c)]>0x1)throw new Error('config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20'+_0x4936e9['iouThreshold']);if(!Array[_0x4c1620(0xf6)](_0x4936e9[_0x4c1620(0x1e7)])||!_0x4936e9[_0x4c1620(0x1e7)][_0x4c1620(0xec)]||!_0x4936e9[_0x4c1620(0x1e7)]['every'](_0x2eab3c=>typeof _0x2eab3c===_0x4c1620(0x128)))throw new Error(_0x4c1620(0x155)+JSON[_0x4c1620(0xb1)](_0x4936e9[_0x4c1620(0x1e7)]));if(!Array[_0x4c1620(0xf6)](_0x4936e9[_0x4c1620(0x262)])||!_0x4936e9['anchors'][_0x4c1620(0xec)]||!_0x4936e9['anchors'][_0x4c1620(0x23e)](_0x2758bc=>_0x2758bc||{})[_0x4c1620(0x1fa)](_0x58edde=>isNumber(_0x58edde['x'])&&isNumber(_0x58edde['y'])))throw new Error(_0x4c1620(0xde)+JSON[_0x4c1620(0xb1)](_0x4936e9[_0x4c1620(0x262)]));if(_0x4936e9[_0x4c1620(0x19f)]&&(!Array[_0x4c1620(0xf6)](_0x4936e9[_0x4c1620(0x19f)])||_0x4936e9[_0x4c1620(0x19f)][_0x4c1620(0xec)]!==0x3||!_0x4936e9['meanRgb'][_0x4c1620(0x1fa)](isNumber)))throw new Error(_0x4c1620(0xa8)+JSON[_0x4c1620(0xb1)](_0x4936e9['meanRgb']));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x55741d){const _0x176e08=_0x4382ac;return tf35[_0x176e08(0xd9)](()=>{const _0x48edc8=_0x176e08,_0x15249f=tf35[_0x48edc8(0x101)](_0x55741d,tf35[_0x48edc8(0xef)](0.10000000149011612));return tf35[_0x48edc8(0x1d1)](tf35[_0x48edc8(0x272)](tf35[_0x48edc8(0xa4)](_0x55741d,_0x15249f)),_0x15249f);});}function convWithBatchNorm(_0x402638,_0x50e994){const _0x2043da=_0x4382ac;return tf36[_0x2043da(0xd9)](()=>{const _0x269e37=_0x2043da;let _0x2636cc=tf36[_0x269e37(0x14e)](_0x402638,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x2636cc=tf36['conv2d'](_0x2636cc,_0x50e994['conv'][_0x269e37(0x160)],[0x1,0x1],_0x269e37(0x228)),_0x2636cc=tf36[_0x269e37(0xa4)](_0x2636cc,_0x50e994['bn'][_0x269e37(0xa4)]),_0x2636cc=tf36[_0x269e37(0x101)](_0x2636cc,_0x50e994['bn']['truediv']),_0x2636cc=tf36[_0x269e37(0x1d1)](_0x2636cc,_0x50e994[_0x269e37(0x2d4)][_0x269e37(0x225)]),leaky(_0x2636cc);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x36797a,_0x378594){const _0x52d394=_0x4382ac;return tf37[_0x52d394(0xd9)](()=>{const _0x2c6082=_0x52d394;let _0xb07636=tf37[_0x2c6082(0x14e)](_0x36797a,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0xb07636=tf37['separableConv2d'](_0xb07636,_0x378594[_0x2c6082(0x2ca)],_0x378594[_0x2c6082(0x177)],[0x1,0x1],_0x2c6082(0x228)),_0xb07636=tf37[_0x2c6082(0x1d1)](_0xb07636,_0x378594['bias']),leaky(_0xb07636);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x9440b5,_0xb42b91){const _0x450323=extractConvParamsFactory(_0x9440b5,_0xb42b91);function _0x1aa2a8(_0x23b1f4,_0x25303f){const _0x427b73=_0x7004,_0x2c21da=tf38['tensor1d'](_0x9440b5(_0x23b1f4)),_0x108385=tf38[_0x427b73(0x112)](_0x9440b5(_0x23b1f4));return _0xb42b91[_0x427b73(0x216)]({'paramPath':_0x25303f+_0x427b73(0x10f)},{'paramPath':_0x25303f+_0x427b73(0xa6)}),{'sub':_0x2c21da,'truediv':_0x108385};}function _0x33b4d5(_0x29191b,_0x126f70,_0x130473){const _0x44cdc0=_0x7004,_0x159781=_0x450323(_0x29191b,_0x126f70,0x3,_0x130473+_0x44cdc0(0x8a)),_0x2120fd=_0x1aa2a8(_0x126f70,_0x130473+_0x44cdc0(0x1fe));return{'conv':_0x159781,'bn':_0x2120fd};}const _0x400067=extractSeparableConvParamsFactory(_0x9440b5,_0xb42b91);return{'extractConvParams':_0x450323,'extractConvWithBatchNormParams':_0x33b4d5,'extractSeparableConvParams':_0x400067};}function extractParams7(_0x3f41a,_0x1a9825,_0x8313df,_0x4c7017){const _0x55ff3b=_0x4382ac,{extractWeights:_0x1dd53a,getRemainingWeights:_0xcec22}=extractWeightsFactory(_0x3f41a),_0x3b59d7=[],{extractConvParams:_0x25f1ef,extractConvWithBatchNormParams:_0x1d6a3a,extractSeparableConvParams:_0x1c37b0}=extractorsFactory7(_0x1dd53a,_0x3b59d7);let _0x4e6b93;if(_0x1a9825[_0x55ff3b(0x154)]){const [_0x21679e,_0x1d5c6c,_0x111e70,_0x5a65c9,_0x3c23be,_0x1d0873,_0x4413e2,_0x5c8cfd,_0x4fdca3]=_0x4c7017,_0x2d8015=_0x1a9825[_0x55ff3b(0x7f)]?_0x25f1ef(_0x21679e,_0x1d5c6c,0x3,'conv0'):_0x1c37b0(_0x21679e,_0x1d5c6c,_0x55ff3b(0x8c)),_0x2fd396=_0x1c37b0(_0x1d5c6c,_0x111e70,_0x55ff3b(0xfb)),_0x15eb85=_0x1c37b0(_0x111e70,_0x5a65c9,_0x55ff3b(0x2c4)),_0x169387=_0x1c37b0(_0x5a65c9,_0x3c23be,_0x55ff3b(0x6e)),_0xbe6f12=_0x1c37b0(_0x3c23be,_0x1d0873,_0x55ff3b(0x25b)),_0x416882=_0x1c37b0(_0x1d0873,_0x4413e2,_0x55ff3b(0x1b2)),_0x14be75=_0x5c8cfd?_0x1c37b0(_0x4413e2,_0x5c8cfd,_0x55ff3b(0x88)):void 0x0,_0x5a0bf7=_0x4fdca3?_0x1c37b0(_0x5c8cfd,_0x4fdca3,'conv7'):void 0x0,_0x5c6d49=_0x25f1ef(_0x4fdca3||_0x5c8cfd||_0x4413e2,0x5*_0x8313df,0x1,'conv8');_0x4e6b93={'conv0':_0x2d8015,'conv1':_0x2fd396,'conv2':_0x15eb85,'conv3':_0x169387,'conv4':_0xbe6f12,'conv5':_0x416882,'conv6':_0x14be75,'conv7':_0x5a0bf7,'conv8':_0x5c6d49};}else{const [_0x492485,_0x2480e8,_0x2e26c1,_0x252f49,_0x540096,_0x596037,_0x1cdf01,_0x46877e,_0x2c1ecb]=_0x4c7017,_0x33c511=_0x1d6a3a(_0x492485,_0x2480e8,_0x55ff3b(0x8c)),_0x514e07=_0x1d6a3a(_0x2480e8,_0x2e26c1,_0x55ff3b(0xfb)),_0x5ceed4=_0x1d6a3a(_0x2e26c1,_0x252f49,'conv2'),_0x4621bf=_0x1d6a3a(_0x252f49,_0x540096,_0x55ff3b(0x6e)),_0x30b635=_0x1d6a3a(_0x540096,_0x596037,_0x55ff3b(0x25b)),_0x5de059=_0x1d6a3a(_0x596037,_0x1cdf01,_0x55ff3b(0x1b2)),_0x1c9bad=_0x1d6a3a(_0x1cdf01,_0x46877e,_0x55ff3b(0x88)),_0x55539a=_0x1d6a3a(_0x46877e,_0x2c1ecb,_0x55ff3b(0x211)),_0x285d6b=_0x25f1ef(_0x2c1ecb,0x5*_0x8313df,0x1,_0x55ff3b(0x20c));_0x4e6b93={'conv0':_0x33c511,'conv1':_0x514e07,'conv2':_0x5ceed4,'conv3':_0x4621bf,'conv4':_0x30b635,'conv5':_0x5de059,'conv6':_0x1c9bad,'conv7':_0x55539a,'conv8':_0x285d6b};}if(_0xcec22()[_0x55ff3b(0xec)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0xcec22()[_0x55ff3b(0xec)]);return{'params':_0x4e6b93,'paramMappings':_0x3b59d7};}function extractorsFactory8(_0x2aadae,_0x244b15){const _0x520ebb=extractWeightEntryFactory(_0x2aadae,_0x244b15);function _0x42f3de(_0x545b00){const _0x428f42=_0x7004,_0x5c2f3d=_0x520ebb(_0x545b00+_0x428f42(0x10f),0x1),_0x4f1197=_0x520ebb(_0x545b00+_0x428f42(0xa6),0x1);return{'sub':_0x5c2f3d,'truediv':_0x4f1197};}function _0x335b1b(_0x35b321){const _0x52d3d6=_0x7004,_0x461dbb=_0x520ebb(_0x35b321+'/filters',0x4),_0x54ba1a=_0x520ebb(_0x35b321+_0x52d3d6(0x1d3),0x1);return{'filters':_0x461dbb,'bias':_0x54ba1a};}function _0x3ca87b(_0x30f003){const _0x1dea7d=_0x7004,_0x52e9f7=_0x335b1b(_0x30f003+'/conv'),_0x1eeabd=_0x42f3de(_0x30f003+_0x1dea7d(0x1fe));return{'conv':_0x52e9f7,'bn':_0x1eeabd};}const _0x1ea3d6=loadSeparableConvParamsFactory(_0x520ebb);return{'extractConvParams':_0x335b1b,'extractConvWithBatchNormParams':_0x3ca87b,'extractSeparableConvParams':_0x1ea3d6};}function extractParamsFromWeightMap7(_0x497a35,_0x439b18){const _0x122219=_0x4382ac,_0x2056c8=[],{extractConvParams:_0x3f5d87,extractConvWithBatchNormParams:_0xe15552,extractSeparableConvParams:_0x2cc97a}=extractorsFactory8(_0x497a35,_0x2056c8);let _0x3dcc39;if(_0x439b18[_0x122219(0x154)]){const _0x1b6491=_0x439b18[_0x122219(0x226)]&&_0x439b18[_0x122219(0x226)][_0x122219(0xec)]||0x9;_0x3dcc39={'conv0':_0x439b18[_0x122219(0x7f)]?_0x3f5d87('conv0'):_0x2cc97a('conv0'),'conv1':_0x2cc97a('conv1'),'conv2':_0x2cc97a(_0x122219(0x2c4)),'conv3':_0x2cc97a(_0x122219(0x6e)),'conv4':_0x2cc97a('conv4'),'conv5':_0x2cc97a(_0x122219(0x1b2)),'conv6':_0x1b6491>0x7?_0x2cc97a('conv6'):void 0x0,'conv7':_0x1b6491>0x8?_0x2cc97a(_0x122219(0x211)):void 0x0,'conv8':_0x3f5d87(_0x122219(0x20c))};}else _0x3dcc39={'conv0':_0xe15552(_0x122219(0x8c)),'conv1':_0xe15552(_0x122219(0xfb)),'conv2':_0xe15552(_0x122219(0x2c4)),'conv3':_0xe15552(_0x122219(0x6e)),'conv4':_0xe15552(_0x122219(0x25b)),'conv5':_0xe15552(_0x122219(0x1b2)),'conv6':_0xe15552(_0x122219(0x88)),'conv7':_0xe15552(_0x122219(0x211)),'conv8':_0x3f5d87(_0x122219(0x20c))};return disposeUnusedWeightTensors(_0x497a35,_0x2056c8),{'params':_0x3dcc39,'paramMappings':_0x2056c8};}var TinyYolov2Options=class{constructor({inputSize:_0x14129f,scoreThreshold:_0x58e479}={}){const _0x48bddd=_0x4382ac;this['_name']='TinyYolov2Options',this[_0x48bddd(0x170)]=_0x14129f||0x1a0,this['_scoreThreshold']=_0x58e479||0.5;if(typeof this[_0x48bddd(0x170)]!=='number'||this[_0x48bddd(0x170)]%0x20!==0x0)throw new Error(this[_0x48bddd(0x87)]+_0x48bddd(0x28d));if(typeof this[_0x48bddd(0x1ff)]!==_0x48bddd(0x1ea)||this[_0x48bddd(0x1ff)]<=0x0||this[_0x48bddd(0x1ff)]>=0x1)throw new Error(this[_0x48bddd(0x87)]+'\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201');}get[_0x4382ac(0x1c6)](){const _0x4a45dd=_0x4382ac;return this[_0x4a45dd(0x170)];}get[_0x4382ac(0x166)](){const _0xaf8104=_0x4382ac;return this[_0xaf8104(0x1ff)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x41fca4){const _0x1de77e=_0x4382ac;super(_0x1de77e(0x212)),validateConfig(_0x41fca4),this[_0x1de77e(0x144)]=_0x41fca4;}get[_0x4382ac(0x98)](){const _0x2b934a=_0x4382ac;return this[_0x2b934a(0x144)];}get[_0x4382ac(0x26d)](){const _0x599b43=_0x4382ac;return this['config']['withClassScores']||this[_0x599b43(0x98)][_0x599b43(0x1e7)][_0x599b43(0xec)]>0x1;}get[_0x4382ac(0x23b)](){const _0x550896=_0x4382ac;return 0x5+(this[_0x550896(0x26d)]?this[_0x550896(0x98)][_0x550896(0x1e7)]['length']:0x0);}['runTinyYolov2'](_0x1e4d5b,_0x4e3a5a){const _0x337612=_0x4382ac;let _0x44eaf7=convWithBatchNorm(_0x1e4d5b,_0x4e3a5a['conv0']);return _0x44eaf7=tf39[_0x337612(0x287)](_0x44eaf7,[0x2,0x2],[0x2,0x2],_0x337612(0x248)),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a[_0x337612(0xfb)]),_0x44eaf7=tf39[_0x337612(0x287)](_0x44eaf7,[0x2,0x2],[0x2,0x2],'same'),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a[_0x337612(0x2c4)]),_0x44eaf7=tf39[_0x337612(0x287)](_0x44eaf7,[0x2,0x2],[0x2,0x2],_0x337612(0x248)),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a[_0x337612(0x6e)]),_0x44eaf7=tf39[_0x337612(0x287)](_0x44eaf7,[0x2,0x2],[0x2,0x2],_0x337612(0x248)),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a['conv4']),_0x44eaf7=tf39['maxPool'](_0x44eaf7,[0x2,0x2],[0x2,0x2],_0x337612(0x248)),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a[_0x337612(0x1b2)]),_0x44eaf7=tf39['maxPool'](_0x44eaf7,[0x2,0x2],[0x1,0x1],_0x337612(0x248)),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a[_0x337612(0x88)]),_0x44eaf7=convWithBatchNorm(_0x44eaf7,_0x4e3a5a[_0x337612(0x211)]),convLayer(_0x44eaf7,_0x4e3a5a[_0x337612(0x20c)],_0x337612(0x228),![]);}[_0x4382ac(0x21f)](_0x2706a3,_0x2e7f73){const _0x494947=_0x4382ac;let _0x5b311f=this[_0x494947(0x98)][_0x494947(0x7f)]?leaky(convLayer(_0x2706a3,_0x2e7f73[_0x494947(0x8c)],'valid',![])):depthwiseSeparableConv2(_0x2706a3,_0x2e7f73['conv0']);return _0x5b311f=tf39[_0x494947(0x287)](_0x5b311f,[0x2,0x2],[0x2,0x2],'same'),_0x5b311f=depthwiseSeparableConv2(_0x5b311f,_0x2e7f73[_0x494947(0xfb)]),_0x5b311f=tf39[_0x494947(0x287)](_0x5b311f,[0x2,0x2],[0x2,0x2],_0x494947(0x248)),_0x5b311f=depthwiseSeparableConv2(_0x5b311f,_0x2e7f73[_0x494947(0x2c4)]),_0x5b311f=tf39['maxPool'](_0x5b311f,[0x2,0x2],[0x2,0x2],_0x494947(0x248)),_0x5b311f=depthwiseSeparableConv2(_0x5b311f,_0x2e7f73[_0x494947(0x6e)]),_0x5b311f=tf39[_0x494947(0x287)](_0x5b311f,[0x2,0x2],[0x2,0x2],_0x494947(0x248)),_0x5b311f=depthwiseSeparableConv2(_0x5b311f,_0x2e7f73[_0x494947(0x25b)]),_0x5b311f=tf39[_0x494947(0x287)](_0x5b311f,[0x2,0x2],[0x2,0x2],'same'),_0x5b311f=depthwiseSeparableConv2(_0x5b311f,_0x2e7f73['conv5']),_0x5b311f=tf39[_0x494947(0x287)](_0x5b311f,[0x2,0x2],[0x1,0x1],'same'),_0x5b311f=_0x2e7f73[_0x494947(0x88)]?depthwiseSeparableConv2(_0x5b311f,_0x2e7f73[_0x494947(0x88)]):_0x5b311f,_0x5b311f=_0x2e7f73[_0x494947(0x211)]?depthwiseSeparableConv2(_0x5b311f,_0x2e7f73['conv7']):_0x5b311f,convLayer(_0x5b311f,_0x2e7f73[_0x494947(0x20c)],_0x494947(0x228),![]);}[_0x4382ac(0xb0)](_0x4355d0,_0x3533f6){const _0x3ca714=_0x4382ac,{params:_0x144759}=this;if(!_0x144759)throw new Error(_0x3ca714(0x23c));return tf39[_0x3ca714(0xd9)](()=>{const _0x3adf90=_0x3ca714;let _0x39dbe=tf39[_0x3adf90(0x105)](_0x4355d0[_0x3adf90(0x1cb)](_0x3533f6,![]),'float32');return _0x39dbe=this[_0x3adf90(0x98)]['meanRgb']?normalize(_0x39dbe,this[_0x3adf90(0x98)][_0x3adf90(0x19f)]):_0x39dbe,_0x39dbe=_0x39dbe[_0x3adf90(0x107)](0xff),this['config'][_0x3adf90(0x154)]?this[_0x3adf90(0x21f)](_0x39dbe,_0x144759):this[_0x3adf90(0x188)](_0x39dbe,_0x144759);});}async[_0x4382ac(0xe2)](_0x279e70,_0x58f7ed){const _0x30c4e1=_0x4382ac;return this[_0x30c4e1(0xb0)](await toNetInput(_0x279e70),_0x58f7ed);}async[_0x4382ac(0xfa)](_0x5ce249,_0x237567={}){const _0xf10043=_0x4382ac,{inputSize:_0x2e9144,scoreThreshold:_0x715dc2}=new TinyYolov2Options(_0x237567),_0x515eef=await toNetInput(_0x5ce249),_0x1723b8=await this['forwardInput'](_0x515eef,_0x2e9144),_0x1bf916=tf39['tidy'](()=>tf39[_0xf10043(0xd6)](_0x1723b8)[0x0]['expandDims']()),_0x7c42ad={'width':_0x515eef[_0xf10043(0x18a)](0x0),'height':_0x515eef[_0xf10043(0x20a)](0x0)},_0x4ec8a3=await this['extractBoxes'](_0x1bf916,_0x515eef[_0xf10043(0x132)](0x0),_0x715dc2);_0x1723b8[_0xf10043(0x136)](),_0x1bf916['dispose']();const _0x467732=_0x4ec8a3[_0xf10043(0x23e)](_0x3d0ada=>_0x3d0ada[_0xf10043(0x1e9)]),_0x20eb62=_0x4ec8a3['map'](_0x31eaf1=>_0x31eaf1[_0xf10043(0x194)]),_0x239626=_0x4ec8a3[_0xf10043(0x23e)](_0x5252ae=>_0x5252ae[_0xf10043(0x26a)]),_0xdbd88d=_0x4ec8a3['map'](_0x101f43=>this['config'][_0xf10043(0x1e7)][_0x101f43['label']]),_0x135867=nonMaxSuppression(_0x467732[_0xf10043(0x23e)](_0x26f342=>_0x26f342[_0xf10043(0x1f2)](_0x2e9144)),_0x20eb62,this['config'][_0xf10043(0x11c)],!![]),_0x1187cb=_0x135867[_0xf10043(0x23e)](_0x11f18d=>new ObjectDetection(_0x20eb62[_0x11f18d],_0x239626[_0x11f18d],_0xdbd88d[_0x11f18d],_0x467732[_0x11f18d],_0x7c42ad));return _0x1187cb;}[_0x4382ac(0x1b1)](){return'';}[_0x4382ac(0x1ed)](_0x9355e6){const _0x5441f6=_0x4382ac;return extractParamsFromWeightMap7(_0x9355e6,this[_0x5441f6(0x98)]);}['extractParams'](_0x194b54){const _0x42078a=_0x4382ac,_0x4a2d25=this[_0x42078a(0x98)][_0x42078a(0x226)]||_TinyYolov2Base['DEFAULT_FILTER_SIZES'],_0x1987e7=_0x4a2d25?_0x4a2d25[_0x42078a(0xec)]:void 0x0;if(_0x1987e7!==0x7&&_0x1987e7!==0x8&&_0x1987e7!==0x9)throw new Error(_0x42078a(0xe7)+_0x1987e7+_0x42078a(0xe1));return extractParams7(_0x194b54,this[_0x42078a(0x98)],this['boxEncodingSize'],_0x4a2d25);}async[_0x4382ac(0x2d1)](_0x42bdf0,_0x19b736,_0x4a47d7){const _0x110f0e=_0x4382ac,{width:_0x5f83c1,height:_0x56e811}=_0x19b736,_0x1d62f6=Math[_0x110f0e(0x2cd)](_0x5f83c1,_0x56e811),_0x242f42=_0x1d62f6/_0x5f83c1,_0x532f15=_0x1d62f6/_0x56e811,_0x583842=_0x42bdf0[_0x110f0e(0x206)][0x1],_0x23dc34=this[_0x110f0e(0x98)]['anchors']['length'],[_0x52f8eb,_0x2b319f,_0x209560]=tf39[_0x110f0e(0xd9)](()=>{const _0x501bb9=_0x110f0e,_0x1f54e0=_0x42bdf0[_0x501bb9(0x258)]([_0x583842,_0x583842,_0x23dc34,this['boxEncodingSize']]),_0xb3ed96=_0x1f54e0[_0x501bb9(0xc7)]([0x0,0x0,0x0,0x0],[_0x583842,_0x583842,_0x23dc34,0x4]),_0x1623ec=_0x1f54e0[_0x501bb9(0xc7)]([0x0,0x0,0x0,0x4],[_0x583842,_0x583842,_0x23dc34,0x1]),_0x10d1c9=this[_0x501bb9(0x26d)]?tf39['softmax'](_0x1f54e0['slice']([0x0,0x0,0x0,0x5],[_0x583842,_0x583842,_0x23dc34,this[_0x501bb9(0x98)][_0x501bb9(0x1e7)]['length']]),0x3):tf39[_0x501bb9(0xef)](0x0);return[_0xb3ed96,_0x1623ec,_0x10d1c9];}),_0x38089a=[],_0x2d6cd9=await _0x2b319f[_0x110f0e(0x29d)](),_0x46b572=await _0x52f8eb[_0x110f0e(0x29d)]();for(let _0x294e2a=0x0;_0x294e2a<_0x583842;_0x294e2a++){for(let _0x205aac=0x0;_0x205aac<_0x583842;_0x205aac++){for(let _0x568dfe=0x0;_0x568dfe<_0x23dc34;_0x568dfe++){const _0x15b143=sigmoid(_0x2d6cd9[_0x294e2a][_0x205aac][_0x568dfe][0x0]);if(!_0x4a47d7||_0x15b143>_0x4a47d7){const _0x4cad45=(_0x205aac+sigmoid(_0x46b572[_0x294e2a][_0x205aac][_0x568dfe][0x0]))/_0x583842*_0x242f42,_0x36e3c3=(_0x294e2a+sigmoid(_0x46b572[_0x294e2a][_0x205aac][_0x568dfe][0x1]))/_0x583842*_0x532f15,_0x3b86ae=Math[_0x110f0e(0x197)](_0x46b572[_0x294e2a][_0x205aac][_0x568dfe][0x2])*this['config'][_0x110f0e(0x262)][_0x568dfe]['x']/_0x583842*_0x242f42,_0x16a555=Math['exp'](_0x46b572[_0x294e2a][_0x205aac][_0x568dfe][0x3])*this[_0x110f0e(0x98)][_0x110f0e(0x262)][_0x568dfe]['y']/_0x583842*_0x532f15,_0x2953d3=_0x4cad45-_0x3b86ae/0x2,_0x2703e1=_0x36e3c3-_0x16a555/0x2,_0x40343b={'row':_0x294e2a,'col':_0x205aac,'anchor':_0x568dfe},{classScore:_0x3f45d7,label:_0x246a23}=this['withClassScores']?await this['extractPredictedClass'](_0x209560,_0x40343b):{'classScore':0x1,'label':0x0};_0x38089a[_0x110f0e(0x216)]({'box':new BoundingBox(_0x2953d3,_0x2703e1,_0x2953d3+_0x3b86ae,_0x2703e1+_0x16a555),'score':_0x15b143,'classScore':_0x15b143*_0x3f45d7,'label':_0x246a23,..._0x40343b});}}}}return _0x52f8eb[_0x110f0e(0x136)](),_0x2b319f[_0x110f0e(0x136)](),_0x209560[_0x110f0e(0x136)](),_0x38089a;}async[_0x4382ac(0x210)](_0xf92403,_0x410609){const _0x377b12=_0x4382ac,{row:_0x8e59bd,col:_0x30e80c,anchor:_0xa2f0d1}=_0x410609,_0xcfa4ef=await _0xf92403['array']();return Array(this['config'][_0x377b12(0x1e7)][_0x377b12(0xec)])[_0x377b12(0x253)](0x0)[_0x377b12(0x23e)]((_0x5642c9,_0x1958b2)=>_0xcfa4ef[_0x8e59bd][_0x30e80c][_0xa2f0d1][_0x1958b2])[_0x377b12(0x23e)]((_0x37f2d9,_0x2b2c87)=>({'classScore':_0x37f2d9,'label':_0x2b2c87}))[_0x377b12(0x2b1)]((_0x2e575e,_0x5cd4b7)=>_0x2e575e[_0x377b12(0x26a)]>_0x5cd4b7[_0x377b12(0x26a)]?_0x2e575e:_0x5cd4b7);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base[_0x4382ac(0x217)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x59a972=!![]){const _0x577462={'withSeparableConvs':_0x59a972,'iouThreshold':IOU_THRESHOLD,'classes':['face'],..._0x59a972?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x577462);}get[_0x4382ac(0x154)](){const _0x15fe99=_0x4382ac;return this[_0x15fe99(0x98)][_0x15fe99(0x154)];}get[_0x4382ac(0x262)](){const _0x4b3ded=_0x4382ac;return this[_0x4b3ded(0x98)]['anchors'];}async[_0x4382ac(0x1e2)](_0x4091b6,_0x37adc0){const _0x5ea81e=_0x4382ac,_0x2c2bbe=await this[_0x5ea81e(0xfa)](_0x4091b6,_0x37adc0);return _0x2c2bbe[_0x5ea81e(0x23e)](_0x44bd4b=>new FaceDetection(_0x44bd4b[_0x5ea81e(0x194)],_0x44bd4b[_0x5ea81e(0x141)],{'width':_0x44bd4b[_0x5ea81e(0x7b)],'height':_0x44bd4b['imageHeight']}));}[_0x4382ac(0x1b1)](){const _0x541415=_0x4382ac;return this[_0x541415(0x154)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x4382ac(0x1ed)](_0x4998ea){const _0x5b9dc4=_0x4382ac;return super[_0x5b9dc4(0x1ed)](_0x4998ea);}};function createTinyYolov2(_0x590996,_0x3e5030=!![]){const _0x252276=_0x4382ac,_0x132f84=new TinyYolov2(_0x3e5030);return _0x132f84[_0x252276(0x178)](_0x590996),_0x132f84;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x17a2fd=_0x4382ac;super(...arguments),this[_0x17a2fd(0x87)]=_0x17a2fd(0x1ee);}},ComposableTask=class{async[_0x4382ac(0x1c1)](_0x26d6f1){return _0x26d6f1(await this['run']());}async['run'](){const _0x2cb330=_0x4382ac;throw new Error(_0x2cb330(0x100));}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x34abee,_0x30a65b,_0x1990dc,_0x55cf16,_0xdd3533=({alignedRect:_0x1679c4})=>_0x1679c4){const _0x5515ef=_0x4382ac,_0x34a9ac=_0x34abee[_0x5515ef(0x23e)](_0x5c4faa=>isWithFaceLandmarks(_0x5c4faa)?_0xdd3533(_0x5c4faa):_0x5c4faa[_0x5515ef(0x2db)]),_0x211684=_0x55cf16||(_0x30a65b instanceof tf40['Tensor']?await extractFaceTensors(_0x30a65b,_0x34a9ac):await extractFaces(_0x30a65b,_0x34a9ac)),_0x36969c=await _0x1990dc(_0x211684);return _0x211684[_0x5515ef(0x1e6)](_0x4afc16=>_0x4afc16 instanceof tf40[_0x5515ef(0x2d6)]&&_0x4afc16['dispose']()),_0x36969c;}async function extractSingleFaceAndComputeResult(_0x306186,_0x4ab885,_0x4aba5f,_0x2897df,_0x19871f){return extractAllFacesAndComputeResults([_0x306186],_0x4ab885,async _0x1d6d06=>_0x4aba5f(_0x1d6d06[0x0]),_0x2897df,_0x19871f);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x730cbe={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':['face'],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x730cbe);}get[_0x4382ac(0x262)](){const _0x2c099e=_0x4382ac;return this[_0x2c099e(0x98)][_0x2c099e(0x262)];}async[_0x4382ac(0x1e2)](_0x5c13e5,_0x5e68c9){const _0x4324a6=_0x4382ac,_0x14fca6=await this[_0x4324a6(0xfa)](_0x5c13e5,_0x5e68c9);return _0x14fca6[_0x4324a6(0x23e)](_0x11dcaa=>new FaceDetection(_0x11dcaa['score'],_0x11dcaa[_0x4324a6(0x141)],{'width':_0x11dcaa[_0x4324a6(0x7b)],'height':_0x11dcaa[_0x4324a6(0x11a)]}));}[_0x4382ac(0x1b1)](){const _0x6b50fc=_0x4382ac;return _0x6b50fc(0x214);}[_0x4382ac(0x1ed)](_0x44e954){return super['extractParamsFromWeightMap'](_0x44e954);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x3270b2,_0x65196a)=>nets[_0x4382ac(0x18c)][_0x4382ac(0x1e2)](_0x3270b2,_0x65196a),tinyFaceDetector=(_0x396196,_0x342887)=>nets[_0x4382ac(0x110)]['locateFaces'](_0x396196,_0x342887),tinyYolov2=(_0x5defa6,_0x1af853)=>nets[_0x4382ac(0xe4)][_0x4382ac(0x1e2)](_0x5defa6,_0x1af853),detectFaceLandmarks=_0xed600d=>nets['faceLandmark68Net'][_0x4382ac(0x114)](_0xed600d),detectFaceLandmarksTiny=_0xe0a807=>nets[_0x4382ac(0x2a1)][_0x4382ac(0x114)](_0xe0a807),computeFaceDescriptor=_0x1a479c=>nets[_0x4382ac(0x2c9)][_0x4382ac(0xba)](_0x1a479c),recognizeFaceExpressions=_0x29d183=>nets['faceExpressionNet'][_0x4382ac(0x2e8)](_0x29d183),predictAgeAndGender=_0x522e5e=>nets[_0x4382ac(0x82)][_0x4382ac(0x2d7)](_0x522e5e),loadSsdMobilenetv1Model=_0x204043=>nets[_0x4382ac(0x18c)][_0x4382ac(0x72)](_0x204043),loadTinyFaceDetectorModel=_0xb4fb0e=>nets[_0x4382ac(0x110)][_0x4382ac(0x72)](_0xb4fb0e),loadTinyYolov2Model=_0x56bf0a=>nets[_0x4382ac(0xe4)][_0x4382ac(0x72)](_0x56bf0a),loadFaceLandmarkModel=_0x21a9b2=>nets[_0x4382ac(0x15b)]['load'](_0x21a9b2),loadFaceLandmarkTinyModel=_0x3773cc=>nets[_0x4382ac(0x2a1)][_0x4382ac(0x72)](_0x3773cc),loadFaceRecognitionModel=_0x2b3b4a=>nets[_0x4382ac(0x2c9)][_0x4382ac(0x72)](_0x2b3b4a),loadFaceExpressionModel=_0x5240ac=>nets[_0x4382ac(0x1f0)][_0x4382ac(0x72)](_0x5240ac),loadAgeGenderModel=_0x262794=>nets[_0x4382ac(0x82)][_0x4382ac(0x72)](_0x262794),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x238e99,_0x2c1b6a,_0xa5ff78){const _0x79e054=_0x4382ac;super(),this[_0x79e054(0x2b2)]=_0x238e99,this[_0x79e054(0x29a)]=_0x2c1b6a,this[_0x79e054(0x1a0)]=_0xa5ff78;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x4382ac(0x1a3)](){const _0x183ca0=_0x4382ac,_0x55c725=await this[_0x183ca0(0x2b2)],_0x1aa09d=await extractAllFacesAndComputeResults(_0x55c725,this['input'],async _0x2fad41=>Promise[_0x183ca0(0x1da)](_0x2fad41[_0x183ca0(0x23e)](_0x5ecba5=>nets[_0x183ca0(0x1f0)]['predictExpressions'](_0x5ecba5))),this[_0x183ca0(0x1a0)]);return _0x55c725[_0x183ca0(0x23e)]((_0x1d0210,_0x14229a)=>extendWithFaceExpressions(_0x1d0210,_0x1aa09d[_0x14229a]));}[_0x4382ac(0x1a7)](){const _0x1f1f45=_0x4382ac;return new PredictAllAgeAndGenderTask(this,this[_0x1f1f45(0x29a)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async['run'](){const _0x521f87=_0x4382ac,_0x2cf3fe=await this['parentTask'];if(!_0x2cf3fe)return void 0x0;const _0x82b479=await extractSingleFaceAndComputeResult(_0x2cf3fe,this['input'],_0x3c0173=>nets[_0x521f87(0x1f0)][_0x521f87(0x2e8)](_0x3c0173),this[_0x521f87(0x1a0)]);return extendWithFaceExpressions(_0x2cf3fe,_0x82b479);}[_0x4382ac(0x1a7)](){const _0x92be62=_0x4382ac;return new PredictSingleAgeAndGenderTask(this,this[_0x92be62(0x29a)]);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{[_0x4382ac(0x1a7)](){const _0x2e76f7=_0x4382ac;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x2e76f7(0x29a)]);}[_0x4382ac(0x2e2)](){const _0xf72b16=_0x4382ac;return new ComputeAllFaceDescriptorsTask(this,this[_0xf72b16(0x29a)]);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x4382ac(0x1a7)](){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this['input']);}[_0x4382ac(0x159)](){const _0x5c3292=_0x4382ac;return new ComputeSingleFaceDescriptorTask(this,this[_0x5c3292(0x29a)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x2f98df,_0x17747c,_0x5c89b7){const _0x167157=_0x4382ac;super(),this[_0x167157(0x2b2)]=_0x2f98df,this[_0x167157(0x29a)]=_0x17747c,this['extractedFaces']=_0x5c89b7;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x4382ac(0x1a3)](){const _0x4bb2bb=_0x4382ac,_0x58a7d1=await this[_0x4bb2bb(0x2b2)],_0x4445cb=await extractAllFacesAndComputeResults(_0x58a7d1,this[_0x4bb2bb(0x29a)],async _0x3e6cce=>Promise[_0x4bb2bb(0x1da)](_0x3e6cce[_0x4bb2bb(0x23e)](_0x320d8a=>nets['ageGenderNet'][_0x4bb2bb(0x2d7)](_0x320d8a))),this[_0x4bb2bb(0x1a0)]);return _0x58a7d1['map']((_0x468ee6,_0x1c312c)=>{const {age:_0xed3cad,gender:_0x53caa1,genderProbability:_0x31f978}=_0x4445cb[_0x1c312c];return extendWithAge(extendWithGender(_0x468ee6,_0x53caa1,_0x31f978),_0xed3cad);});}['withFaceExpressions'](){const _0x1d530a=_0x4382ac;return new PredictAllFaceExpressionsTask(this,this[_0x1d530a(0x29a)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x4382ac(0x1a3)](){const _0xe9ceaf=_0x4382ac,_0x19b539=await this['parentTask'];if(!_0x19b539)return void 0x0;const {age:_0x20f4e8,gender:_0x574158,genderProbability:_0x55e1d3}=await extractSingleFaceAndComputeResult(_0x19b539,this[_0xe9ceaf(0x29a)],_0x1e168d=>nets[_0xe9ceaf(0x82)]['predictAgeAndGender'](_0x1e168d),this[_0xe9ceaf(0x1a0)]);return extendWithAge(extendWithGender(_0x19b539,_0x574158,_0x55e1d3),_0x20f4e8);}[_0x4382ac(0x169)](){const _0x290017=_0x4382ac;return new PredictSingleFaceExpressionsTask(this,this[_0x290017(0x29a)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x4382ac(0x169)](){const _0x344e69=_0x4382ac;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x344e69(0x29a)]);}['withFaceDescriptors'](){const _0x3d5846=_0x4382ac;return new ComputeAllFaceDescriptorsTask(this,this[_0x3d5846(0x29a)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{[_0x4382ac(0x169)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x4382ac(0x159)](){const _0x529411=_0x4382ac;return new ComputeSingleFaceDescriptorTask(this,this[_0x529411(0x29a)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x66c609,_0x4549f5){const _0x10c8bf=_0x4382ac;super(),this[_0x10c8bf(0x2b2)]=_0x66c609,this[_0x10c8bf(0x29a)]=_0x4549f5;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async['run'](){const _0x2ede5f=_0x4382ac,_0x4bace0=await this['parentTask'],_0x2b7344=await extractAllFacesAndComputeResults(_0x4bace0,this[_0x2ede5f(0x29a)],_0x118481=>Promise['all'](_0x118481[_0x2ede5f(0x23e)](_0x2ecf22=>nets[_0x2ede5f(0x2c9)][_0x2ede5f(0xba)](_0x2ecf22))),null,_0x6be15b=>_0x6be15b[_0x2ede5f(0x152)][_0x2ede5f(0x2a9)](null,{'useDlibAlignment':!![]}));return _0x2b7344[_0x2ede5f(0x23e)]((_0x1f22b4,_0x3dc427)=>extendWithFaceDescriptor(_0x4bace0[_0x3dc427],_0x1f22b4));}['withFaceExpressions'](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x4382ac(0x1a7)](){const _0x585478=_0x4382ac;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x585478(0x29a)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x4382ac(0x1a3)](){const _0x45152f=_0x4382ac,_0x31f5a3=await this[_0x45152f(0x2b2)];if(!_0x31f5a3)return void 0x0;const _0x32b2a3=await extractSingleFaceAndComputeResult(_0x31f5a3,this['input'],_0x5dc239=>nets['faceRecognitionNet'][_0x45152f(0xba)](_0x5dc239),null,_0x435b4e=>_0x435b4e[_0x45152f(0x152)][_0x45152f(0x2a9)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x31f5a3,_0x32b2a3);}[_0x4382ac(0x169)](){const _0x476537=_0x4382ac;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x476537(0x29a)]);}[_0x4382ac(0x1a7)](){const _0x1f17dc=_0x4382ac;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x1f17dc(0x29a)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x282076,_0x12c484,_0x2dc560){const _0x44f021=_0x4382ac;super(),this['parentTask']=_0x282076,this[_0x44f021(0x29a)]=_0x12c484,this[_0x44f021(0x260)]=_0x2dc560;}get['landmarkNet'](){const _0x79f680=_0x4382ac;return this[_0x79f680(0x260)]?nets['faceLandmark68TinyNet']:nets[_0x79f680(0x15b)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x4382ac(0x1a3)](){const _0x1172d4=_0x4382ac,_0x146421=await this[_0x1172d4(0x2b2)],_0x226895=_0x146421['map'](_0xbaca0b=>_0xbaca0b['detection']),_0x3af9e8=this['input']instanceof tf41[_0x1172d4(0x2d6)]?await extractFaceTensors(this[_0x1172d4(0x29a)],_0x226895):await extractFaces(this[_0x1172d4(0x29a)],_0x226895),_0x56d41e=await Promise[_0x1172d4(0x1da)](_0x3af9e8[_0x1172d4(0x23e)](_0x5a550b=>this[_0x1172d4(0x150)][_0x1172d4(0x114)](_0x5a550b)));_0x3af9e8[_0x1172d4(0x1e6)](_0x459580=>_0x459580 instanceof tf41[_0x1172d4(0x2d6)]&&_0x459580[_0x1172d4(0x136)]());const _0x4b0073=_0x146421['filter']((_0x86d942,_0x4826f9)=>_0x56d41e[_0x4826f9])[_0x1172d4(0x23e)]((_0x34d924,_0xdfe230)=>extendWithFaceLandmarks(_0x34d924,_0x56d41e[_0xdfe230]));return _0x4b0073;}['withFaceExpressions'](){const _0x8e4917=_0x4382ac;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x8e4917(0x29a)]);}[_0x4382ac(0x1a7)](){const _0x50c030=_0x4382ac;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x50c030(0x29a)]);}[_0x4382ac(0x2e2)](){const _0x5f5448=_0x4382ac;return new ComputeAllFaceDescriptorsTask(this,this[_0x5f5448(0x29a)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x4382ac(0x1a3)](){const _0x377206=_0x4382ac,_0x223e3f=await this['parentTask'];if(!_0x223e3f)return void 0x0;const {detection:_0x38b2fd}=_0x223e3f,_0x3aae23=this[_0x377206(0x29a)]instanceof tf41[_0x377206(0x2d6)]?await extractFaceTensors(this[_0x377206(0x29a)],[_0x38b2fd]):await extractFaces(this[_0x377206(0x29a)],[_0x38b2fd]),_0xe7fb30=await this[_0x377206(0x150)][_0x377206(0x114)](_0x3aae23[0x0]);return _0x3aae23['forEach'](_0x14c798=>_0x14c798 instanceof tf41[_0x377206(0x2d6)]&&_0x14c798[_0x377206(0x136)]()),extendWithFaceLandmarks(_0x223e3f,_0xe7fb30);}[_0x4382ac(0x169)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x4382ac(0x1a7)](){const _0x2069fd=_0x4382ac;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x2069fd(0x29a)]);}[_0x4382ac(0x159)](){const _0x48e617=_0x4382ac;return new ComputeSingleFaceDescriptorTask(this,this[_0x48e617(0x29a)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x572b72,_0x838af=new SsdMobilenetv1Options()){const _0x4c0354=_0x4382ac;super(),this[_0x4c0354(0x29a)]=_0x572b72,this['options']=_0x838af;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async['run'](){const _0x222241=_0x4382ac,{input:_0x4d2cb2,options:_0x4d08bb}=this;let _0x880721;if(_0x4d08bb instanceof TinyFaceDetectorOptions)_0x880721=nets['tinyFaceDetector']['locateFaces'](_0x4d2cb2,_0x4d08bb);else{if(_0x4d08bb instanceof SsdMobilenetv1Options)_0x880721=nets[_0x222241(0x18c)][_0x222241(0x1e2)](_0x4d2cb2,_0x4d08bb);else{if(_0x4d08bb instanceof TinyYolov2Options)_0x880721=nets['tinyYolov2'][_0x222241(0x1e2)](_0x4d2cb2,_0x4d08bb);else throw new Error(_0x222241(0x164));}}return _0x880721;}[_0x4382ac(0x13a)](){return new Promise((_0x51bbbb,_0x3396f1)=>{const _0x2b58bd=_0x7004;this[_0x2b58bd(0x1a3)]()[_0x2b58bd(0x1c1)](_0x248177=>_0x51bbbb(_0x248177['map'](_0x302ef4=>extendWithFaceDetection({},_0x302ef4))))[_0x2b58bd(0x90)](_0x34e82f=>_0x3396f1(_0x34e82f));});}[_0x4382ac(0x285)](_0x5c0906=![]){const _0xa46231=_0x4382ac;return new DetectAllFaceLandmarksTask(this[_0xa46231(0x13a)](),this[_0xa46231(0x29a)],_0x5c0906);}[_0x4382ac(0x169)](){const _0x4664be=_0x4382ac;return new PredictAllFaceExpressionsTask(this[_0x4664be(0x13a)](),this[_0x4664be(0x29a)]);}[_0x4382ac(0x1a7)](){const _0x5dc6eb=_0x4382ac;return new PredictAllAgeAndGenderTask(this['runAndExtendWithFaceDetections'](),this[_0x5dc6eb(0x29a)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x4382ac(0x1a3)](){const _0x433dd1=_0x4382ac,_0x4d4269=await new DetectAllFacesTask(this[_0x433dd1(0x29a)],this[_0x433dd1(0x2e4)]);let _0x40a9ac=_0x4d4269[0x0];return _0x4d4269['forEach'](_0x3f6d8a=>{const _0x121d08=_0x433dd1;if(_0x3f6d8a[_0x121d08(0x194)]>_0x40a9ac[_0x121d08(0x194)])_0x40a9ac=_0x3f6d8a;}),_0x40a9ac;}[_0x4382ac(0xfe)](){return new Promise(async _0x530e39=>{const _0x298748=await this['run']();_0x530e39(_0x298748?extendWithFaceDetection({},_0x298748):void 0x0);});}['withFaceLandmarks'](_0x2ef618=![]){const _0x5a80f0=_0x4382ac;return new DetectSingleFaceLandmarksTask(this[_0x5a80f0(0xfe)](),this[_0x5a80f0(0x29a)],_0x2ef618);}[_0x4382ac(0x169)](){const _0x4f424c=_0x4382ac;return new PredictSingleFaceExpressionsTask(this[_0x4f424c(0xfe)](),this[_0x4f424c(0x29a)]);}[_0x4382ac(0x1a7)](){const _0x141525=_0x4382ac;return new PredictSingleAgeAndGenderTask(this[_0x141525(0xfe)](),this[_0x141525(0x29a)]);}};function detectSingleFace(_0x173166,_0x2dac48=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x173166,_0x2dac48);}function detectAllFaces(_0x4567ba,_0x517883=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x4567ba,_0x517883);}async function allFacesSsdMobilenetv1(_0x42fc64,_0x38743f){const _0x5ab0ea=_0x4382ac;return detectAllFaces(_0x42fc64,new SsdMobilenetv1Options(_0x38743f?{'minConfidence':_0x38743f}:{}))[_0x5ab0ea(0x285)]()[_0x5ab0ea(0x2e2)]();}async function allFacesTinyYolov2(_0x28a506,_0x2e1f90={}){const _0x3427b9=_0x4382ac;return detectAllFaces(_0x28a506,new TinyYolov2Options(_0x2e1f90))[_0x3427b9(0x285)]()[_0x3427b9(0x2e2)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x33c2a3,_0x1c1184){const _0x5cca57=_0x4382ac;if(_0x33c2a3[_0x5cca57(0xec)]!==_0x1c1184[_0x5cca57(0xec)])throw new Error(_0x5cca57(0x252));const _0x5a585d=Array[_0x5cca57(0x1df)](_0x33c2a3),_0x4185f4=Array[_0x5cca57(0x1df)](_0x1c1184);return Math['sqrt'](_0x5a585d[_0x5cca57(0x23e)]((_0x40b9bf,_0xbde05)=>_0x40b9bf-_0x4185f4[_0xbde05])['reduce']((_0x4d68fb,_0x37c561)=>_0x4d68fb+_0x37c561**0x2,0x0));}var FaceMatcher=class{constructor(_0x22831e,_0x1e13f0=0.6){const _0xb5de66=_0x4382ac;this[_0xb5de66(0x1d8)]=_0x1e13f0;const _0x59da09=Array['isArray'](_0x22831e)?_0x22831e:[_0x22831e];if(!_0x59da09[_0xb5de66(0xec)])throw new Error(_0xb5de66(0x18b));let _0x55d7ca=0x1;const _0x106b27=()=>_0xb5de66(0xc8)+_0x55d7ca++;this['_labeledDescriptors']=_0x59da09['map'](_0x295b79=>{const _0x5913c3=_0xb5de66;if(_0x295b79 instanceof LabeledFaceDescriptors)return _0x295b79;if(_0x295b79 instanceof Float32Array)return new LabeledFaceDescriptors(_0x106b27(),[_0x295b79]);if(_0x295b79[_0x5913c3(0x153)]&&_0x295b79[_0x5913c3(0x153)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x106b27(),[_0x295b79[_0x5913c3(0x153)]]);throw new Error(_0x5913c3(0x1ef));});}get[_0x4382ac(0x2da)](){const _0x1521ff=_0x4382ac;return this[_0x1521ff(0xf9)];}get[_0x4382ac(0x23a)](){const _0xbe0494=_0x4382ac;return this[_0xbe0494(0x1d8)];}[_0x4382ac(0x1be)](_0x254581,_0xd2fb9c){const _0x74d596=_0x4382ac;return _0xd2fb9c[_0x74d596(0x23e)](_0x4eb2d9=>euclideanDistance(_0x4eb2d9,_0x254581))[_0x74d596(0x2b1)]((_0x3ae79f,_0x2e1cba)=>_0x3ae79f+_0x2e1cba,0x0)/(_0xd2fb9c['length']||0x1);}[_0x4382ac(0x24a)](_0x163a15){const _0x4778df=_0x4382ac;return this[_0x4778df(0x2da)][_0x4778df(0x23e)](({descriptors:_0x3b1880,label:_0x282bd8})=>new FaceMatch(_0x282bd8,this[_0x4778df(0x1be)](_0x163a15,_0x3b1880)))[_0x4778df(0x2b1)]((_0x29e8ec,_0x26f345)=>_0x29e8ec['distance']<_0x26f345[_0x4778df(0x2a3)]?_0x29e8ec:_0x26f345);}['findBestMatch'](_0x34c2bf){const _0x52ee7b=_0x4382ac,_0x352b41=this['matchDescriptor'](_0x34c2bf);return _0x352b41[_0x52ee7b(0x2a3)]<this[_0x52ee7b(0x1d8)]?_0x352b41:new FaceMatch('unknown',_0x352b41[_0x52ee7b(0x2a3)]);}[_0x4382ac(0x1c0)](){const _0x20241a=_0x4382ac;return{'distanceThreshold':this[_0x20241a(0x1d8)],'labeledDescriptors':this[_0x20241a(0xf9)][_0x20241a(0x23e)](_0x4c53e5=>_0x4c53e5[_0x20241a(0x1c0)]())};}static[_0x4382ac(0x1f8)](_0x2b2217){const _0x3b55b5=_0x4382ac,_0x13350f=_0x2b2217[_0x3b55b5(0x2da)][_0x3b55b5(0x23e)](_0x3c3c6c=>LabeledFaceDescriptors['fromJSON'](_0x3c3c6c));return new FaceMatcher(_0x13350f,_0x2b2217['distanceThreshold']);}};function createTinyFaceDetector(_0xc73e60){const _0xde1402=_0x4382ac,_0x36e2b8=new TinyFaceDetector();return _0x36e2b8[_0xde1402(0x178)](_0xc73e60),_0x36e2b8;}function resizeResults(_0x380a1c,_0x37213a){const _0x41c224=_0x4382ac,{width:_0x2298b0,height:_0x2b25c2}=new Dimensions(_0x37213a[_0x41c224(0x134)],_0x37213a[_0x41c224(0x26b)]);if(_0x2298b0<=0x0||_0x2b25c2<=0x0)throw new Error(_0x41c224(0x118)+JSON[_0x41c224(0xb1)]({'width':_0x2298b0,'height':_0x2b25c2}));if(Array[_0x41c224(0xf6)](_0x380a1c))return _0x380a1c[_0x41c224(0x23e)](_0x35aad=>resizeResults(_0x35aad,{'width':_0x2298b0,'height':_0x2b25c2}));if(isWithFaceLandmarks(_0x380a1c)){const _0x39a544=_0x380a1c[_0x41c224(0x2db)][_0x41c224(0x2b7)](_0x2298b0,_0x2b25c2),_0x4bb385=_0x380a1c[_0x41c224(0x255)][_0x41c224(0x2b7)](_0x39a544[_0x41c224(0x1e9)]['width'],_0x39a544[_0x41c224(0x1e9)]['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x380a1c,_0x39a544),_0x4bb385);}if(isWithFaceDetection(_0x380a1c))return extendWithFaceDetection(_0x380a1c,_0x380a1c[_0x41c224(0x2db)][_0x41c224(0x2b7)](_0x2298b0,_0x2b25c2));if(_0x380a1c instanceof FaceLandmarks||_0x380a1c instanceof FaceDetection)return _0x380a1c[_0x41c224(0x2b7)](_0x2298b0,_0x2b25c2);return _0x380a1c;}var version2=version;0x0&&(module[_0x4382ac(0x1bb)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});