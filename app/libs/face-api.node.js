'use strict';const _0x3be095=_0xae3a;(function(_0x4d4b9e,_0x51c42b){const _0x15a192=_0xae3a,_0xde11ff=_0x4d4b9e();while(!![]){try{const _0x414286=parseInt(_0x15a192(0x171))/0x1*(parseInt(_0x15a192(0x124))/0x2)+-parseInt(_0x15a192(0x16c))/0x3*(parseInt(_0x15a192(0x195))/0x4)+-parseInt(_0x15a192(0x375))/0x5+-parseInt(_0x15a192(0x26b))/0x6*(parseInt(_0x15a192(0x175))/0x7)+parseInt(_0x15a192(0x14b))/0x8+parseInt(_0x15a192(0x261))/0x9*(-parseInt(_0x15a192(0x293))/0xa)+-parseInt(_0x15a192(0x251))/0xb*(-parseInt(_0x15a192(0x1df))/0xc);if(_0x414286===_0x51c42b)break;else _0xde11ff['push'](_0xde11ff['shift']());}catch(_0x2bc799){_0xde11ff['push'](_0xde11ff['shift']());}}}(_0x2bf3,0x9176a));var __create=Object[_0x3be095(0x22e)],__defProp=Object[_0x3be095(0x28c)],__getOwnPropDesc=Object['getOwnPropertyDescriptor'],__getOwnPropNames=Object[_0x3be095(0x34a)],__getProtoOf=Object[_0x3be095(0x34b)],__hasOwnProp=Object[_0x3be095(0x344)][_0x3be095(0x2fc)],__commonJS=(_0x11ea60,_0xabddb8)=>function _0x38a704(){const _0x58c330=_0x3be095;return _0xabddb8||(0x0,_0x11ea60[__getOwnPropNames(_0x11ea60)[0x0]])((_0xabddb8={'exports':{}})[_0x58c330(0x164)],_0xabddb8),_0xabddb8[_0x58c330(0x164)];},__export=(_0x2c00c2,_0x2e55af)=>{for(var _0x16f7c8 in _0x2e55af)__defProp(_0x2c00c2,_0x16f7c8,{'get':_0x2e55af[_0x16f7c8],'enumerable':!![]});},__copyProps=(_0x187fb4,_0x54cbc1,_0x67c154,_0x41659f)=>{const _0x2f983e=_0x3be095;if(_0x54cbc1&&typeof _0x54cbc1==='object'||typeof _0x54cbc1===_0x2f983e(0x2a2)){for(let _0x29ec9e of __getOwnPropNames(_0x54cbc1))if(!__hasOwnProp[_0x2f983e(0x15a)](_0x187fb4,_0x29ec9e)&&_0x29ec9e!==_0x67c154)__defProp(_0x187fb4,_0x29ec9e,{'get':()=>_0x54cbc1[_0x29ec9e],'enumerable':!(_0x41659f=__getOwnPropDesc(_0x54cbc1,_0x29ec9e))||_0x41659f[_0x2f983e(0x2f4)]});}return _0x187fb4;},__toESM=(_0x436d98,_0x464d16,_0x3d2c53)=>(_0x3d2c53=_0x436d98!=null?__create(__getProtoOf(_0x436d98)):{},__copyProps(_0x464d16||!_0x436d98||!_0x436d98[_0x3be095(0x1f4)]?__defProp(_0x3d2c53,'default',{'value':_0x436d98,'enumerable':!![]}):_0x3d2c53,_0x436d98)),__toCommonJS=_0x1bdfa9=>__copyProps(__defProp({},_0x3be095(0x1f4),{'value':!![]}),_0x1bdfa9),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x370086,_0x415b05){'use strict';const _0x1b3b7e=_0x3be095;var _0x3dce81=Object[_0x1b3b7e(0x28c)],_0x4e3d5a=Object['getOwnPropertyDescriptor'],_0x1026c2=Object['getOwnPropertyNames'],_0x3983ec=Object['prototype'][_0x1b3b7e(0x2fc)],_0x494075=(_0x5a2fde,_0x38714f,_0x4d487a,_0x1ae9cc)=>{const _0x3caadc=_0x1b3b7e;if(_0x38714f&&typeof _0x38714f===_0x3caadc(0x1b6)||typeof _0x38714f==='function'){for(let _0x4d6124 of _0x1026c2(_0x38714f))if(!_0x3983ec[_0x3caadc(0x15a)](_0x5a2fde,_0x4d6124)&&_0x4d6124!==_0x4d487a)_0x3dce81(_0x5a2fde,_0x4d6124,{'get':()=>_0x38714f[_0x4d6124],'enumerable':!(_0x1ae9cc=_0x4e3d5a(_0x38714f,_0x4d6124))||_0x1ae9cc['enumerable']});}return _0x5a2fde;},_0x4c129d=(_0x47e8ea,_0x164c57,_0x827db8)=>(_0x494075(_0x47e8ea,_0x164c57,_0x1b3b7e(0x2c5)),_0x827db8&&_0x494075(_0x827db8,_0x164c57,'default')),_0x15ae87=_0x5adbbc=>_0x494075(_0x3dce81({},_0x1b3b7e(0x1f4),{'value':!![]}),_0x5adbbc),_0x28985c={};_0x415b05[_0x1b3b7e(0x164)]=_0x15ae87(_0x28985c),_0x4c129d(_0x28985c,require(_0x1b3b7e(0x185)),_0x415b05[_0x1b3b7e(0x164)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module['exports']=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x319fcc,_0x1245e2,_0x44c8e8=![]){const _0x15266c=_0x3be095;_0x319fcc[_0x15266c(0x114)](),_0x1245e2[_0x15266c(0x162)](0x1)[_0x15266c(0x1ea)](({x:_0x145257,y:_0x205ec1},_0x54e475)=>{const _0x1de0d6=_0x15266c,_0x3794b9=_0x1245e2[_0x54e475];_0x319fcc[_0x1de0d6(0x189)](_0x3794b9['x'],_0x3794b9['y']),_0x319fcc[_0x1de0d6(0x339)](_0x145257,_0x205ec1);});if(_0x44c8e8){const _0x20c192=_0x1245e2[_0x1245e2[_0x15266c(0x249)]-0x1],_0x4506f6=_0x1245e2[0x0];if(!_0x20c192||!_0x4506f6)return;_0x319fcc[_0x15266c(0x189)](_0x20c192['x'],_0x20c192['y']),_0x319fcc[_0x15266c(0x339)](_0x4506f6['x'],_0x4506f6['y']);}_0x319fcc[_0x15266c(0x317)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x36ea23,_0x547fa2){const _0x3aeeb3=_0x3be095;if(!isValidNumber(_0x36ea23)||!isValidNumber(_0x547fa2))throw new Error(_0x3aeeb3(0x128)+JSON[_0x3aeeb3(0x226)]({'width':_0x36ea23,'height':_0x547fa2}));this[_0x3aeeb3(0x146)]=_0x36ea23,this[_0x3aeeb3(0xef)]=_0x547fa2;}get[_0x3be095(0x1bb)](){const _0x4d32e4=_0x3be095;return this[_0x4d32e4(0x146)];}get[_0x3be095(0x223)](){const _0x50d528=_0x3be095;return this[_0x50d528(0xef)];}[_0x3be095(0x2ea)](){const _0xf97aeb=_0x3be095;return new Dimensions(0x1/this[_0xf97aeb(0x1bb)],0x1/this[_0xf97aeb(0x223)]);}};function isTensor(_0x46b862,_0x21bd35){const _0x20f213=_0x3be095;return _0x46b862 instanceof tf[_0x20f213(0x2ce)]&&_0x46b862[_0x20f213(0x126)][_0x20f213(0x249)]===_0x21bd35;}function isTensor1D(_0x41bd5a){return isTensor(_0x41bd5a,0x1);}function isTensor2D(_0xc545e7){return isTensor(_0xc545e7,0x2);}function isTensor3D(_0x436fce){return isTensor(_0x436fce,0x3);}function isTensor4D(_0x29249d){return isTensor(_0x29249d,0x4);}function isFloat(_0x2944c1){return _0x2944c1%0x1!==0x0;}function isEven(_0x24c4dd){return _0x24c4dd%0x2===0x0;}function round(_0x3a89d1,_0x5ad7d8=0x2){const _0xa80331=_0x3be095,_0x2a236f=0xa**_0x5ad7d8;return Math[_0xa80331(0x153)](_0x3a89d1*_0x2a236f)/_0x2a236f;}function isDimensions(_0x58f959){const _0x57fcad=_0x3be095;return _0x58f959&&_0x58f959[_0x57fcad(0x1bb)]&&_0x58f959[_0x57fcad(0x223)];}function computeReshapedDimensions({width:_0x2acfc4,height:_0x11656f},_0x332f12){const _0x22bb38=_0x3be095,_0x317deb=_0x332f12/Math[_0x22bb38(0xeb)](_0x11656f,_0x2acfc4);return new Dimensions(Math[_0x22bb38(0x106)](_0x2acfc4*_0x317deb),Math['round'](_0x11656f*_0x317deb));}function getCenterPoint(_0x454272){const _0x59e818=_0x3be095;return _0x454272[_0x59e818(0x378)]((_0x46e06a,_0x12843e)=>_0x46e06a[_0x59e818(0x2d3)](_0x12843e),new Point(0x0,0x0))[_0x59e818(0x1f9)](new Point(_0x454272[_0x59e818(0x249)],_0x454272['length']));}function range(_0x1d213a,_0x54c54b,_0x3c9d82){const _0x35fd73=_0x3be095;return Array(_0x1d213a)['fill'](0x0)[_0x35fd73(0x1fc)]((_0x12de99,_0x2ac4f6)=>_0x54c54b+_0x2ac4f6*_0x3c9d82);}function isValidNumber(_0x9c94ee){const _0x1144e8=_0x3be095;return!!_0x9c94ee&&_0x9c94ee!==Infinity&&_0x9c94ee!==-Infinity&&!Number[_0x1144e8(0x151)](_0x9c94ee)||_0x9c94ee===0x0;}function isValidProbablitiy(_0x25c2e6){return isValidNumber(_0x25c2e6)&&_0x25c2e6>=0x0&&_0x25c2e6<=0x1;}function _0x2bf3(){const _0x3c87e9=['\x20tf.Tensor4D\x20with\x20batchSize\x20','/Conv2d_','_imgDims','toSquare','/separable_conv1','pad','box_predictor_1','as1D','measureHeight','padding','relativeBox','min','batch_norm_variance','filterSizes','length','/truediv','mobilenetv1/conv_6','concat','conv_5','conv_3','toBatchTensor\x20-\x20at\x20batchIdx\x20','batchSize','957PbODOp','runNet','readyState','SsdMobilenetv1','iouThreshold','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','batch_norm_scale','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','every','Box.constructor','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','measureText','-weights_manifest.json','inputSize','fontStyle',',\x20from\x20url:\x20','45HTHJIC','entry_flow','rgba(0,\x200,\x20255,\x201)','imageDims','prediction_layer/box_predictor_0/box_encoding_predictor','tiny_xception_model','conv_13','/conv3','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','then','6VOXkhe','matMul','_classScore','node','dense2','fillText','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','tensor4d','backgroundColor',')\x20and\x20height\x20(','scalar','topRight','extractParamsFromWeightMap','getNose','\x20at\x20input\x20index\x20','tiny_face_detector_model','withFaceLandmarks','bottomLeft','score','HTMLImageElement','probability','runAndExtendWithFaceDetections','mobilenetv1/conv_13','toPixels','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','parentTask','measureWidth','prediction_layer/conv_0','isBatchInput','abs','config','_minConfidence','withAgeAndGender','defineProperty','/conv','draw','conv7','tensor2d','drawLabelOptions','getRightEyeBrow','510750yViAdV','imageHeight','getLeftEye','expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20','/batch_norm_scale','putImageData','nextObj','/bias','asSortedArray','error','conv64_2','getLeftEyeBrow','conv','FaceFeatureExtractor','face_expression_model','function','variable','mean','mobilenetv1/conv_2','clipByValue','buffer','_descriptors','all','getInputDimensions','align','push','prediction_layer/conv_1','conv_6','toInt','forward','box_encoding_predictor','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','separableConv2d','extractWeights','gender','conv32_1','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','distance','\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number','top','descriptor','Prediction','right','conv256_down','shiftByPoint','pointwise_conv','Video','freeze','constructor','/depthwise_filter','default','conv8','rgba(255,\x200,\x20255,\x201)','reduction_block','_positions','isRect','addEventListener','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','_label','Tensor','valid','matchDescriptor','shift','prediction_layer/box_predictor_3/class_predictor','add','/batch_norm_mean','tinyYolov2','weightsLoaderFactory','withFaceDescriptor','minConfidence','reduction_block_1','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','conv_1','sub','boxIndex','prediction_layer/conv_6','depthwiseConv2d','class_predictor','shiftBy','/pointwise_filter','TinyFaceDetectorOptions','createObjectURL','anchor','boolean','undefined','/conv/filters','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','reverse','withFaceDescriptors','detection','conv2d','/BoxEncodingPredictor','traversePropertyPath','/bn','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','tensor','enumerable','_labeledDescriptors','fetch','TinyFaceFeatureExtractor','createElement','arraySync','text','fontColor','hasOwnProperty','padAtBorders','exp','_pointwise/weights','currentTarget','avgPool','conv5','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','_maxResults','MobilenetV1/Conv2d_','dataSync','forwardInput','toJSON','batch_norm_offset','arc','male','face_feature_extractor_tiny_model','Prediction/BoxPredictor_','Georgia','FaceLandmark68Net',',\x20filterSize:\x20','age_gender_model','naturalWidth','clipAtImageBorders','/conv0','computeMeanDistance','conv_0','stroke','getFrozenParams','expansion_conv','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','ImageData','_faceFeatureExtractor','/scale','/separable_conv0','getRefPointsForAlignment','mobilenetv1/conv_11','stack','rgba(0,\x20255,\x20255,\x201)','/expansion_conv','happy','readFile','area','sad','HTMLVideoElement','extractedFaces','loadFromWeightMap','options','prediction_layer/conv_7','postProcess','conv128_1','detect','path','box','fc/gender','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','conv32_2','as3D','font','/weights','loadFromDisk','lineTo','getMouth','load','img','\x20-\x20width\x20(','exit_flow/separable_conv','dense0','rgba(0,\x200,\x200,\x200.5)','getJawOutline','extractClassifierParams','mobilenetv1/conv_8','prototype','fillStyle','relu','onerror','getElementById','exit_flow/reduction_block','getOwnPropertyNames','getPrototypeOf','mobilenetv1/conv_4','descriptors','_score','drawLines','className','bottom','status','fc/age','conv4','imageTensors','mobilenetv1/conv_0','endsWith','age','conv128_2','unstack','extractPredictedClass','dense3','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','imageWidth','getRightEye','prediction_layer/box_predictor_2/class_predictor','reshape','lineWidth','mobilenetv1/conv_12','getUpperLeft','dense1','prediction_layer','fontSize','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','failed\x20to\x20fetch:\x20(','TinyYolov2Options','isDisposed','classes','/BatchNorm/moving_mean','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','face','Canvas',')\x20must\x20be\x20positive\x20numbers','split','classScore','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','3445235kpOmhv','getTrainableParams','/box_encoding_predictor','reduce','batch_norm_mean','complete','scoreThreshold','max','detectLandmarks','_treatAsBatchInput','_config','_height','disgusted','/depthwise_conv','separable_conv0','getInput','dispose','/scale/biases','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','float32','prediction_layer/box_predictor_4/box_encoding_predictor','/filters','pop','bias','getParamFromPath','alignDlib',',\x20for\x20url:\x20','middle_flow/main_block_','_batchSize','ageGenderNet','fromJSON','_numMainBlocks','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','withSeparableConvs','round','ssdMobilenetv1','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','AgeGenderNet','/class_predictor','https://','label','fillRect','same','_imageDims','landmarks','output_layer','fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20','videoHeight','beginPath','entry_flow/reduction_block_1',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','maxPool','landmarkNet','canvases','sort','filters','Output/extra_dim',',\x20for\x20path\x20','weights','TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','toNetInput\x20-','faceLandmark68TinyNet','play','meanRgb','184hySIVP','_paramMappings','shape','resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','_inputSize','transpose','/sub','_params','removeEventListener','tidy','getContext','\x20-\x20invalid\x20box:\x20','mobilenetv1/conv_1','_canvases','number','conv_in','predictAgeAndGender','_distance','params','assertIsValidBox','exit_flow','data','type','getDefaultModelName','random','isLoaded','conv6','TinyXception','conv_9','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','faceLandmark68Net','canvas','conv256_down_out','_width','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','yaw','conv32_down','D,\x20instead\x20have\x20','8654472wuYieD','box_predictor_3','expressions','tinyFaceDetector','boxEncodingSize','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','isNaN','prediction_layer/conv_4','floor','conv256_1','parse','mul','as2D','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','getClassifierChannelsIn','call','prediction_layer/conv_3','loadClassifierParams','getInputWidth','TOP_RIGHT','tile','TinyYolov2','predictExpressions','slice','conv64_down','exports','http://','url','prediction_layer/box_predictor_','toBatchTensor','playsInline','drawPoints','reduction_block_0','12MawxDx','BOTTOM_RIGHT',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','conv32_3','TOP_LEFT','9462eCZbLI','as4D','/separable_conv2','neutral','7057099UgLQTC','tiny_yolov2_separable_conv_model','px\x20','conv2','image','\x20filterSizes\x20in\x20config','createImageElement','log','findBestMatch','middle_flow','withFaceExpressions','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','video/','_box','/conv1','tensor3d','@tensorflow/tfjs-node','separable_conv1','some',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]','moveTo','prediction_layer/box_predictor_1/class_predictor','magnitude','expression',',\x20numFilters:\x20','depthwise_filter','MobilenetV1','conv1','loadFromUri','getClassifierChannelsOut','resizeResults\x20-\x20invalid\x20dimensions:\x20','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','74164VAUSWT','prediction_layer/box_predictor_5/box_encoding_predictor','inputDimensions','box_predictor_4',']\x20to\x20be\x20a\x20Tensor','withClassScores','reassignParamFromPath','getReshapedInputDimensions','biases','conv_12','conv64_3','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','Image','filter','_scoreThreshold','_inputDimensions','\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','video','conv3','browser','from','box_predictor_5','_className','unshiftedLandmarks','toString','sqrt','sigmoid','arrayBuffer','scale','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','fill','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','object','startsWith','string','anchors','/biases','width','input','/batch_norm_offset','calibrate','separable_conv','useTinyLandmarkNet','DEFAULT_FILTER_SIZES','weights\x20remaing\x20after\x20extract:\x20','output_layer/extra_dim','conv_2','entry_flow/reduction_block_0','conv0','tensor1d','versions','isArray','getParamList','\x20-\x20load\x20model\x20before\x20inference','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','labeledDescriptors','_pointwise/convolution_bn_offset','prediction_layer/box_predictor_1/box_encoding_predictor','ssd_mobilenetv1_model','TinyXception\x20-\x20load\x20model\x20before\x20inference','face_feature_extractor_model','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','reshapedInputDimensions','assertIsValidLabeledBox','getInputHeight','.json','left','readAsDataURL','1.7.3','conv_10','conv_4','/pointwise_conv','prediction_layer/conv_2','92448gPitXc','SsdMobilenetv1Options','extractBoxes','boxColor','mobilenetv1/conv_5','conv128_down','array','distanceThreshold','box_predictor_0','NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20','runAndExtendWithFaceDetection','forEach','statusText','createVideoElement','blob','catch','serializeParams','prediction_layer/box_predictor_5/class_predictor','conv256_2','HTMLCanvasElement','_shift','__esModule','mobilenetv1/conv_10','onload','src','conv11','div','conv_7','run','map','maxResults','cast','computeFaceDescriptor','expandDims','positions','naturalHeight','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','CanvasRenderingContext2D','lineColor','atan2','ComposableTask\x20-\x20run\x20is\x20not\x20implemented','\x20-\x20expected\x20property\x20label\x20(','depthwise_conv',',\x20weights.length:\x20','getEnv','rescale','fromPixels','createCanvasElement','locateFaces','keys','faceRecognitionNet','mobilenetv1/conv_','_imageTensors','main_block_','result','alignMinBbox','_name','pointwise_filter','forSize','runTinyYolov2','/depthwise_weights','extractParams','faceLandmarks','faceExpressionNet','out','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','female','BOTTOM_LEFT','height','alignedRect','face_recognition_model','stringify','getImageData','softmax','classPrediction','FaceExpressionNet','runMobilenet','_depthwise','/conv2','create','prediction_layer/conv_5','drawImage','/BatchNorm/gamma','mobilenetv1/conv_3','boxPredictionEncoding','bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload','prediction_layer/box_predictor_2/box_encoding_predictor','isFirstLayerConv2d','_distanceThreshold','faceFeatureExtractor','zeros','relativePositions'];_0x2bf3=function(){return _0x3c87e9;};return _0x2bf3();}var Point=class{constructor(_0x1a7161,_0x35bf5d){this['_x']=_0x1a7161,this['_y']=_0x35bf5d;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x3be095(0x2d3)](_0x101900){return new Point(this['x']+_0x101900['x'],this['y']+_0x101900['y']);}[_0x3be095(0x2dc)](_0x19edef){return new Point(this['x']-_0x19edef['x'],this['y']-_0x19edef['y']);}[_0x3be095(0x156)](_0x51e3a5){return new Point(this['x']*_0x51e3a5['x'],this['y']*_0x51e3a5['y']);}[_0x3be095(0x1f9)](_0x85d047){return new Point(this['x']/_0x85d047['x'],this['y']/_0x85d047['y']);}[_0x3be095(0x288)](){const _0xcbf73c=_0x3be095;return new Point(Math[_0xcbf73c(0x288)](this['x']),Math['abs'](this['y']));}[_0x3be095(0x18b)](){const _0x1fc772=_0x3be095;return Math[_0x1fc772(0x1af)](this['x']**0x2+this['y']**0x2);}[_0x3be095(0x153)](){const _0x429d57=_0x3be095;return new Point(Math[_0x429d57(0x153)](this['x']),Math[_0x429d57(0x153)](this['y']));}},Box=class{static[_0x3be095(0x2ca)](_0x37ff3c){const _0x1e1158=_0x3be095;return!!_0x37ff3c&&[_0x37ff3c['x'],_0x37ff3c['y'],_0x37ff3c['width'],_0x37ff3c[_0x1e1158(0x223)]][_0x1e1158(0x259)](isValidNumber);}static[_0x3be095(0x138)](_0x32f073,_0x1718af,_0x309691=![]){const _0x575f9b=_0x3be095;if(!Box['isRect'](_0x32f073))throw new Error(_0x1718af+_0x575f9b(0x130)+JSON['stringify'](_0x32f073)+_0x575f9b(0x116));if(!_0x309691&&(_0x32f073['width']<0x0||_0x32f073['height']<0x0))throw new Error(_0x1718af+_0x575f9b(0x33d)+_0x32f073['width']+_0x575f9b(0x274)+_0x32f073[_0x575f9b(0x223)]+_0x575f9b(0x371));}constructor(_0x4c0efa,_0xb88c85=!![]){const _0x46dfdb=_0x3be095,_0x147208=_0x4c0efa||{},_0x156b2f=[_0x147208[_0x46dfdb(0x1d8)],_0x147208[_0x46dfdb(0x2ba)],_0x147208[_0x46dfdb(0x2bd)],_0x147208[_0x46dfdb(0x351)]][_0x46dfdb(0x259)](isValidNumber),_0x1ef3ab=[_0x147208['x'],_0x147208['y'],_0x147208[_0x46dfdb(0x1bb)],_0x147208['height']][_0x46dfdb(0x259)](isValidNumber);if(!_0x1ef3ab&&!_0x156b2f)throw new Error(_0x46dfdb(0x194)+JSON[_0x46dfdb(0x226)](_0x147208));const [_0x57ae7d,_0x4fe95a,_0x4be7e9,_0x700d15]=_0x1ef3ab?[_0x147208['x'],_0x147208['y'],_0x147208[_0x46dfdb(0x1bb)],_0x147208['height']]:[_0x147208[_0x46dfdb(0x1d8)],_0x147208['top'],_0x147208[_0x46dfdb(0x2bd)]-_0x147208[_0x46dfdb(0x1d8)],_0x147208['bottom']-_0x147208['top']];Box[_0x46dfdb(0x138)]({'x':_0x57ae7d,'y':_0x4fe95a,'width':_0x4be7e9,'height':_0x700d15},_0x46dfdb(0x25a),_0xb88c85),this['_x']=_0x57ae7d,this['_y']=_0x4fe95a,this[_0x46dfdb(0x146)]=_0x4be7e9,this[_0x46dfdb(0xef)]=_0x700d15;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get['width'](){return this['_width'];}get[_0x3be095(0x223)](){const _0x28fe83=_0x3be095;return this[_0x28fe83(0xef)];}get[_0x3be095(0x1d8)](){return this['x'];}get['top'](){return this['y'];}get[_0x3be095(0x2bd)](){const _0x41bcb3=_0x3be095;return this['x']+this[_0x41bcb3(0x1bb)];}get[_0x3be095(0x351)](){const _0x4d68a0=_0x3be095;return this['y']+this[_0x4d68a0(0x223)];}get['area'](){const _0x4d6f8e=_0x3be095;return this[_0x4d6f8e(0x1bb)]*this['height'];}get['topLeft'](){const _0x4f73f8=_0x3be095;return new Point(this[_0x4f73f8(0x1d8)],this[_0x4f73f8(0x2ba)]);}get[_0x3be095(0x276)](){const _0x1a42cf=_0x3be095;return new Point(this[_0x1a42cf(0x2bd)],this[_0x1a42cf(0x2ba)]);}get[_0x3be095(0x27c)](){const _0x4e17b3=_0x3be095;return new Point(this[_0x4e17b3(0x1d8)],this[_0x4e17b3(0x351)]);}get['bottomRight'](){const _0x3958ec=_0x3be095;return new Point(this['right'],this[_0x3958ec(0x351)]);}[_0x3be095(0x106)](){const _0x56affa=_0x3be095,[_0x5c993d,_0x21e94f,_0x42e1d8,_0x2b1add]=[this['x'],this['y'],this[_0x56affa(0x1bb)],this[_0x56affa(0x223)]][_0x56affa(0x1fc)](_0x57fadb=>Math[_0x56affa(0x106)](_0x57fadb));return new Box({'x':_0x5c993d,'y':_0x21e94f,'width':_0x42e1d8,'height':_0x2b1add});}[_0x3be095(0x153)](){const _0x5cd939=_0x3be095,[_0x29ef3a,_0x25aa33,_0x4a1826,_0x2ba093]=[this['x'],this['y'],this['width'],this[_0x5cd939(0x223)]][_0x5cd939(0x1fc)](_0x576042=>Math[_0x5cd939(0x153)](_0x576042));return new Box({'x':_0x29ef3a,'y':_0x25aa33,'width':_0x4a1826,'height':_0x2ba093});}[_0x3be095(0x23e)](){const _0x14345d=_0x3be095;let {x:_0x52d76b,y:_0x3bb3a6,width:_0x1ae578,height:_0x50e401}=this;const _0x26986c=Math[_0x14345d(0x288)](_0x1ae578-_0x50e401);return _0x1ae578<_0x50e401&&(_0x52d76b-=_0x26986c/0x2,_0x1ae578+=_0x26986c),_0x50e401<_0x1ae578&&(_0x3bb3a6-=_0x26986c/0x2,_0x50e401+=_0x26986c),new Box({'x':_0x52d76b,'y':_0x3bb3a6,'width':_0x1ae578,'height':_0x50e401});}[_0x3be095(0x20c)](_0xae0b0){const _0x36e1f3=_0x3be095,_0x4f4ceb=isDimensions(_0xae0b0)?_0xae0b0[_0x36e1f3(0x1bb)]:_0xae0b0,_0x4b3eea=isDimensions(_0xae0b0)?_0xae0b0['height']:_0xae0b0;return new Box({'x':this['x']*_0x4f4ceb,'y':this['y']*_0x4b3eea,'width':this['width']*_0x4f4ceb,'height':this[_0x36e1f3(0x223)]*_0x4b3eea});}[_0x3be095(0x240)](_0x1e1e7b,_0x863f5e){const _0x58b01a=_0x3be095,[_0x595906,_0x4ba548,_0x2aed6d,_0x54e398]=[this['x']-_0x1e1e7b/0x2,this['y']-_0x863f5e/0x2,this[_0x58b01a(0x1bb)]+_0x1e1e7b,this[_0x58b01a(0x223)]+_0x863f5e];return new Box({'x':_0x595906,'y':_0x4ba548,'width':_0x2aed6d,'height':_0x54e398});}[_0x3be095(0x313)](_0x14cb00,_0x434ef1){const _0x291072=_0x3be095,{x:_0x13ef3c,y:_0x5a874a,right:_0x645fd2,bottom:_0x457dab}=this,_0x3149e1=Math[_0x291072(0xeb)](_0x13ef3c,0x0),_0x1f82c1=Math[_0x291072(0xeb)](_0x5a874a,0x0),_0x5a08c8=_0x645fd2-_0x3149e1,_0x12024a=_0x457dab-_0x1f82c1,_0x43a156=Math[_0x291072(0x246)](_0x5a08c8,_0x14cb00-_0x3149e1),_0x5a8996=Math[_0x291072(0x246)](_0x12024a,_0x434ef1-_0x1f82c1);return new Box({'x':_0x3149e1,'y':_0x1f82c1,'width':_0x43a156,'height':_0x5a8996})[_0x291072(0x153)]();}[_0x3be095(0x2d1)](_0x3659f8,_0x5bdeb5){const {width:_0x31f954,height:_0x21d5c9}=this,_0x51dfcd=this['x']+_0x3659f8,_0x220bcb=this['y']+_0x5bdeb5;return new Box({'x':_0x51dfcd,'y':_0x220bcb,'width':_0x31f954,'height':_0x21d5c9});}[_0x3be095(0x2fd)](_0x20074e,_0x594068){const _0x7cbcc1=_0x3be095,_0x3aac1f=this['width']+0x1,_0x4cb910=this['height']+0x1,_0x599be5=0x1,_0x5b11ee=0x1;let _0x51dcf7=_0x3aac1f,_0x35f1df=_0x4cb910,_0x9e3de2=this[_0x7cbcc1(0x1d8)],_0x4cd23f=this[_0x7cbcc1(0x2ba)],_0xa70036=this[_0x7cbcc1(0x2bd)],_0x153d60=this[_0x7cbcc1(0x351)];return _0xa70036>_0x594068&&(_0x51dcf7=-_0xa70036+_0x594068+_0x3aac1f,_0xa70036=_0x594068),_0x153d60>_0x20074e&&(_0x35f1df=-_0x153d60+_0x20074e+_0x4cb910,_0x153d60=_0x20074e),_0x9e3de2<0x1&&(_0x35f1df=0x2-_0x9e3de2,_0x9e3de2=0x1),_0x4cd23f<0x1&&(_0x35f1df=0x2-_0x4cd23f,_0x4cd23f=0x1),{'dy':_0x5b11ee,'edy':_0x35f1df,'dx':_0x599be5,'edx':_0x51dcf7,'y':_0x4cd23f,'ey':_0x153d60,'x':_0x9e3de2,'ex':_0xa70036,'w':_0x3aac1f,'h':_0x4cb910};}[_0x3be095(0x1be)](_0x198962){const _0x410a7e=_0x3be095;return new Box({'left':this[_0x410a7e(0x1d8)]+_0x198962[_0x410a7e(0x1d8)]*this[_0x410a7e(0x1bb)],'top':this['top']+_0x198962[_0x410a7e(0x2ba)]*this[_0x410a7e(0x223)],'right':this[_0x410a7e(0x2bd)]+_0x198962[_0x410a7e(0x2bd)]*this[_0x410a7e(0x1bb)],'bottom':this[_0x410a7e(0x351)]+_0x198962[_0x410a7e(0x351)]*this[_0x410a7e(0x223)]})[_0x410a7e(0x23e)]()[_0x410a7e(0x106)]();}},BoundingBox=class extends Box{constructor(_0x692b86,_0x54a9c8,_0x357482,_0x4ee553,_0x26c5aa=![]){super({'left':_0x692b86,'top':_0x54a9c8,'right':_0x357482,'bottom':_0x4ee553},_0x26c5aa);}},ObjectDetection=class{constructor(_0x57c1d9,_0x53874d,_0x71f097,_0x5e4197,_0x1debba){const _0x14fa52=_0x3be095;this[_0x14fa52(0x10f)]=new Dimensions(_0x1debba['width'],_0x1debba[_0x14fa52(0x223)]),this[_0x14fa52(0x34e)]=_0x57c1d9,this[_0x14fa52(0x26d)]=_0x53874d,this['_className']=_0x71f097,this[_0x14fa52(0x182)]=new Box(_0x5e4197)[_0x14fa52(0x20c)](this[_0x14fa52(0x10f)]);}get[_0x3be095(0x27d)](){const _0x20f72e=_0x3be095;return this[_0x20f72e(0x34e)];}get[_0x3be095(0x373)](){const _0x21ec27=_0x3be095;return this[_0x21ec27(0x26d)];}get[_0x3be095(0x350)](){const _0x341b3d=_0x3be095;return this[_0x341b3d(0x1ac)];}get[_0x3be095(0x331)](){const _0x3bc109=_0x3be095;return this[_0x3bc109(0x182)];}get['imageDims'](){const _0x109835=_0x3be095;return this[_0x109835(0x10f)];}get[_0x3be095(0x35e)](){const _0x108533=_0x3be095;return this[_0x108533(0x264)][_0x108533(0x1bb)];}get[_0x3be095(0x294)](){const _0x240c16=_0x3be095;return this[_0x240c16(0x264)][_0x240c16(0x223)];}get['relativeBox'](){const _0x529a2d=_0x3be095;return new Box(this[_0x529a2d(0x182)])[_0x529a2d(0x20c)](this['imageDims']['reverse']());}[_0x3be095(0x219)](_0x292200,_0x484c82){const _0x3b044a=_0x3be095;return new ObjectDetection(this[_0x3b044a(0x27d)],this['classScore'],this[_0x3b044a(0x350)],this[_0x3b044a(0x245)],{'width':_0x292200,'height':_0x484c82});}},FaceDetection=class extends ObjectDetection{constructor(_0xbec5a0,_0x1ed090,_0x4497a9){super(_0xbec5a0,_0xbec5a0,'',_0x1ed090,_0x4497a9);}['forSize'](_0x2bdab1,_0x101509){const _0x5c25dc=_0x3be095,{score:_0x47ce69,relativeBox:_0x39467f,imageDims:_0x3cc869}=super[_0x5c25dc(0x219)](_0x2bdab1,_0x101509);return new FaceDetection(_0x47ce69,_0x39467f,_0x3cc869);}};function iou(_0x262048,_0x3f14a4,_0x2a13e4=!![]){const _0xd6a147=_0x3be095,_0x2771db=Math[_0xd6a147(0xeb)](0x0,Math['min'](_0x262048[_0xd6a147(0x2bd)],_0x3f14a4['right'])-Math[_0xd6a147(0xeb)](_0x262048[_0xd6a147(0x1d8)],_0x3f14a4[_0xd6a147(0x1d8)])),_0x37f135=Math['max'](0x0,Math['min'](_0x262048[_0xd6a147(0x351)],_0x3f14a4[_0xd6a147(0x351)])-Math[_0xd6a147(0xeb)](_0x262048[_0xd6a147(0x2ba)],_0x3f14a4['top'])),_0x40db8c=_0x2771db*_0x37f135;return _0x2a13e4?_0x40db8c/(_0x262048[_0xd6a147(0x326)]+_0x3f14a4[_0xd6a147(0x326)]-_0x40db8c):_0x40db8c/Math['min'](_0x262048[_0xd6a147(0x326)],_0x3f14a4[_0xd6a147(0x326)]);}function minBbox(_0x2c77bb){const _0x2f9234=_0x3be095,_0x4b2957=_0x2c77bb[_0x2f9234(0x1fc)](_0x47c283=>_0x47c283['x']),_0x4cfd11=_0x2c77bb[_0x2f9234(0x1fc)](_0x2b76da=>_0x2b76da['y']),_0xfa245d=_0x4b2957[_0x2f9234(0x378)]((_0x3a8b58,_0x5ae5be)=>_0x5ae5be<_0x3a8b58?_0x5ae5be:_0x3a8b58,Infinity),_0x11733a=_0x4cfd11[_0x2f9234(0x378)]((_0x683826,_0x59313a)=>_0x59313a<_0x683826?_0x59313a:_0x683826,Infinity),_0x226e98=_0x4b2957['reduce']((_0x4babe9,_0x5369aa)=>_0x4babe9<_0x5369aa?_0x5369aa:_0x4babe9,0x0),_0x599641=_0x4cfd11[_0x2f9234(0x378)]((_0x187da3,_0x2561ba)=>_0x187da3<_0x2561ba?_0x2561ba:_0x187da3,0x0);return new BoundingBox(_0xfa245d,_0x11733a,_0x226e98,_0x599641);}function nonMaxSuppression(_0xbc22b3,_0x5b7500,_0x3258c8,_0x1f9ff0=!![]){const _0x4269cb=_0x3be095;let _0x33ad25=_0x5b7500[_0x4269cb(0x1fc)]((_0x43ab46,_0x340aea)=>({'score':_0x43ab46,'boxIndex':_0x340aea}))[_0x4269cb(0x11a)]((_0x49a641,_0x4f9fb0)=>_0x49a641[_0x4269cb(0x27d)]-_0x4f9fb0[_0x4269cb(0x27d)])[_0x4269cb(0x1fc)](_0x50f859=>_0x50f859[_0x4269cb(0x2dd)]);const _0x3ebc84=[];while(_0x33ad25[_0x4269cb(0x249)]>0x0){const _0x5f34ae=_0x33ad25[_0x4269cb(0xfa)]();_0x3ebc84[_0x4269cb(0x2ac)](_0x5f34ae);const _0x4abe8d=_0x33ad25,_0x37706b=[];for(let _0x6f857b=0x0;_0x6f857b<_0x4abe8d['length'];_0x6f857b++){const _0x9ee079=_0x4abe8d[_0x6f857b],_0x82c89c=_0xbc22b3[_0x5f34ae],_0x1fa851=_0xbc22b3[_0x9ee079];_0x37706b['push'](iou(_0x82c89c,_0x1fa851,_0x1f9ff0));}_0x33ad25=_0x33ad25[_0x4269cb(0x1a2)]((_0x4f2c19,_0x1eaa62)=>_0x37706b[_0x1eaa62]<=_0x3258c8);}return _0x3ebc84;}var tf2=__toESM(require_tfjs_esm());function _0xae3a(_0x3adede,_0x16d2be){const _0x2bf344=_0x2bf3();return _0xae3a=function(_0xae3a96,_0xc076f9){_0xae3a96=_0xae3a96-0xe8;let _0x2e6a05=_0x2bf344[_0xae3a96];return _0x2e6a05;},_0xae3a(_0x3adede,_0x16d2be);}function normalize(_0x3d298c,_0x35c52f){return tf2['tidy'](()=>{const _0x36abc5=_0xae3a,[_0x73828c,_0xa88e0b,_0x4eba5f]=_0x35c52f,_0x47c5cb=tf2['fill']([..._0x3d298c[_0x36abc5(0x126)][_0x36abc5(0x162)](0x0,0x3),0x1],_0x73828c,'float32'),_0x5b541b=tf2[_0x36abc5(0x1b4)]([..._0x3d298c[_0x36abc5(0x126)]['slice'](0x0,0x3),0x1],_0xa88e0b,_0x36abc5(0xf7)),_0x371e67=tf2['fill']([..._0x3d298c[_0x36abc5(0x126)][_0x36abc5(0x162)](0x0,0x3),0x1],_0x4eba5f,'float32'),_0x5430e0=tf2[_0x36abc5(0x24c)]([_0x47c5cb,_0x5b541b,_0x371e67],0x3);return tf2[_0x36abc5(0x2dc)](_0x3d298c,_0x5430e0);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x38c4e2,_0x243ea1=![]){const _0x504c00=_0x3be095;return tf3[_0x504c00(0x12e)](()=>{const _0x1fe706=_0x504c00,[_0x3f43fb,_0x47690f]=_0x38c4e2['shape'][_0x1fe706(0x162)](0x1);if(_0x3f43fb===_0x47690f)return _0x38c4e2;const _0x377167=Math[_0x1fe706(0x288)](_0x3f43fb-_0x47690f),_0x1f4657=Math[_0x1fe706(0x106)](_0x377167*(_0x243ea1?0.5:0x1)),_0x23dc71=_0x3f43fb>_0x47690f?0x2:0x1,_0x2ef5f0=_0x8385a2=>{const _0x5e9034=_0x1fe706,_0x5eba4b=_0x38c4e2['shape'][_0x5e9034(0x162)]();return _0x5eba4b[_0x23dc71]=_0x8385a2,tf3[_0x5e9034(0x1b4)](_0x5eba4b,0x0,_0x5e9034(0xf7));},_0x5c8a1a=_0x2ef5f0(_0x1f4657),_0x193b10=_0x377167-_0x5c8a1a[_0x1fe706(0x126)][_0x23dc71],_0x4639e7=_0x243ea1&&_0x193b10?_0x2ef5f0(_0x193b10):null,_0x4506ba=[_0x4639e7,_0x38c4e2,_0x5c8a1a][_0x1fe706(0x1a2)](_0x2b9857=>!!_0x2b9857)['map'](_0x33c13b=>tf3[_0x1fe706(0x1fe)](_0x33c13b,_0x1fe706(0xf7)));return tf3[_0x1fe706(0x24c)](_0x4506ba,_0x23dc71);});}function shuffleArray(_0x347417){const _0x28aa06=_0x3be095,_0x28e172=_0x347417[_0x28aa06(0x162)]();for(let _0x272e1f=_0x28e172['length']-0x1;_0x272e1f>0x0;_0x272e1f--){const _0x46fca4=Math[_0x28aa06(0x153)](Math[_0x28aa06(0x13d)]()*(_0x272e1f+0x1)),_0x288dee=_0x28e172[_0x272e1f];_0x28e172[_0x272e1f]=_0x28e172[_0x46fca4],_0x28e172[_0x46fca4]=_0x288dee;}return _0x28e172;}function sigmoid(_0x151e3c){const _0x1cc412=_0x3be095;return 0x1/(0x1+Math[_0x1cc412(0x2fe)](-_0x151e3c));}function inverseSigmoid(_0x557823){const _0x3416d3=_0x3be095;return Math[_0x3416d3(0x17c)](_0x557823/(0x1-_0x557823));}var Rect=class extends Box{constructor(_0x374c39,_0x3f7d20,_0x5ec157,_0x4446e5,_0x229335=![]){super({'x':_0x374c39,'y':_0x3f7d20,'width':_0x5ec157,'height':_0x4446e5},_0x229335);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x584c8d,_0x20cbe6,_0x385044=new Point(0x0,0x0)){const _0x2151c0=_0x3be095,{width:_0x441486,height:_0x5ab7fe}=_0x20cbe6;this['_imgDims']=new Dimensions(_0x441486,_0x5ab7fe),this[_0x2151c0(0x1f3)]=_0x385044,this['_positions']=_0x584c8d[_0x2151c0(0x1fc)](_0x532db7=>_0x532db7['mul'](new Point(_0x441486,_0x5ab7fe))[_0x2151c0(0x2d3)](_0x385044));}get[_0x3be095(0x2d1)](){const _0x11242f=_0x3be095;return new Point(this[_0x11242f(0x1f3)]['x'],this[_0x11242f(0x1f3)]['y']);}get[_0x3be095(0x35e)](){const _0x151632=_0x3be095;return this[_0x151632(0x23d)][_0x151632(0x1bb)];}get[_0x3be095(0x294)](){const _0x391c99=_0x3be095;return this[_0x391c99(0x23d)]['height'];}get[_0x3be095(0x201)](){const _0x56daa1=_0x3be095;return this[_0x56daa1(0x2c9)];}get[_0x3be095(0x23a)](){const _0x21f9dc=_0x3be095;return this['_positions'][_0x21f9dc(0x1fc)](_0x1a6fde=>_0x1a6fde['sub'](this[_0x21f9dc(0x1f3)])['div'](new Point(this[_0x21f9dc(0x35e)],this[_0x21f9dc(0x294)])));}[_0x3be095(0x219)](_0x22eb69,_0x4f1427){const _0x54f4ed=_0x3be095;return new this[(_0x54f4ed(0x2c3))](this[_0x54f4ed(0x23a)],{'width':_0x22eb69,'height':_0x4f1427});}['shiftBy'](_0x6b807,_0xe94177){const _0x1b51e7=_0x3be095;return new this[(_0x1b51e7(0x2c3))](this[_0x1b51e7(0x23a)],this[_0x1b51e7(0x23d)],new Point(_0x6b807,_0xe94177));}[_0x3be095(0x2bf)](_0x2011ef){const _0x30f183=_0x3be095;return this[_0x30f183(0x2e1)](_0x2011ef['x'],_0x2011ef['y']);}['align'](_0x5753af,_0x4fbecc={}){const _0x5671aa=_0x3be095;if(_0x5753af){const _0x2fabd2=_0x5753af instanceof FaceDetection?_0x5753af[_0x5671aa(0x331)][_0x5671aa(0x153)]():new Box(_0x5753af);return this[_0x5671aa(0x2e1)](_0x2fabd2['x'],_0x2fabd2['y'])['align'](null,_0x4fbecc);}const {useDlibAlignment:_0xc3fb28,minBoxPadding:_0x3df843}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x4fbecc};if(_0xc3fb28)return this[_0x5671aa(0xfd)]();return this[_0x5671aa(0x216)](_0x3df843);}['alignDlib'](){const _0x305d80=_0x3be095,_0x458e10=this[_0x305d80(0x31f)](),[_0x518285,_0x5bac76,_0x47ca27]=_0x458e10,_0x33daa9=_0x40d18c=>_0x47ca27[_0x305d80(0x2dc)](_0x40d18c)[_0x305d80(0x18b)](),_0x4b0b51=(_0x33daa9(_0x518285)+_0x33daa9(_0x5bac76))/0x2,_0x207551=Math[_0x305d80(0x153)](_0x4b0b51/relScale),_0x41e096=getCenterPoint(_0x458e10),_0x291121=Math[_0x305d80(0x153)](Math[_0x305d80(0xeb)](0x0,_0x41e096['x']-relX*_0x207551)),_0x3b770d=Math[_0x305d80(0x153)](Math[_0x305d80(0xeb)](0x0,_0x41e096['y']-relY*_0x207551));return new Rect(_0x291121,_0x3b770d,Math['min'](_0x207551,this[_0x305d80(0x35e)]+_0x291121),Math[_0x305d80(0x246)](_0x207551,this['imageHeight']+_0x3b770d));}[_0x3be095(0x216)](_0x16a193){const _0x8ed2d0=_0x3be095,_0x2c031d=minBbox(this[_0x8ed2d0(0x201)]);return _0x2c031d[_0x8ed2d0(0x240)](_0x2c031d['width']*_0x16a193,_0x2c031d[_0x8ed2d0(0x223)]*_0x16a193);}['getRefPointsForAlignment'](){const _0x5e5dab=_0x3be095;throw new Error(_0x5e5dab(0x1a6));}},FaceLandmarks5=class extends FaceLandmarks{['getRefPointsForAlignment'](){const _0x14427e=_0x3be095,_0x5a490b=this[_0x14427e(0x201)];return[_0x5a490b[0x0],_0x5a490b[0x1],getCenterPoint([_0x5a490b[0x3],_0x5a490b[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x3be095(0x341)](){const _0x2ba753=_0x3be095;return this[_0x2ba753(0x201)][_0x2ba753(0x162)](0x0,0x11);}[_0x3be095(0x29e)](){const _0x5040e9=_0x3be095;return this[_0x5040e9(0x201)]['slice'](0x11,0x16);}['getRightEyeBrow'](){const _0x358a1a=_0x3be095;return this[_0x358a1a(0x201)]['slice'](0x16,0x1b);}[_0x3be095(0x278)](){const _0x4b8e13=_0x3be095;return this[_0x4b8e13(0x201)]['slice'](0x1b,0x24);}[_0x3be095(0x295)](){const _0x1a5548=_0x3be095;return this[_0x1a5548(0x201)][_0x1a5548(0x162)](0x24,0x2a);}[_0x3be095(0x35f)](){const _0x53e68d=_0x3be095;return this['positions'][_0x53e68d(0x162)](0x2a,0x30);}[_0x3be095(0x33a)](){const _0x4c0f05=_0x3be095;return this[_0x4c0f05(0x201)][_0x4c0f05(0x162)](0x30,0x44);}['getRefPointsForAlignment'](){const _0x563ba2=_0x3be095;return[this[_0x563ba2(0x295)](),this[_0x563ba2(0x35f)](),this[_0x563ba2(0x33a)]()][_0x563ba2(0x1fc)](getCenterPoint);}},FaceMatch=class{constructor(_0x28f74e,_0x26425c){const _0x419e74=_0x3be095;this[_0x419e74(0x2cd)]=_0x28f74e,this[_0x419e74(0x136)]=_0x26425c;}get['label'](){return this['_label'];}get[_0x3be095(0x2b8)](){const _0x9c586c=_0x3be095;return this[_0x9c586c(0x136)];}['toString'](_0x250ae4=!![]){const _0xb30fd9=_0x3be095;return''+this[_0xb30fd9(0x10c)]+(_0x250ae4?'\x20('+round(this[_0xb30fd9(0x2b8)])+')':'');}},LabeledBox=class extends Box{constructor(_0x2e4d57,_0x51a421){const _0x307d68=_0x3be095;super(_0x2e4d57),this[_0x307d68(0x2cd)]=_0x51a421;}static['assertIsValidLabeledBox'](_0x2c5015,_0x29f6bd){const _0x29fb9d=_0x3be095;Box[_0x29fb9d(0x138)](_0x2c5015,_0x29f6bd);if(!isValidNumber(_0x2c5015[_0x29fb9d(0x10c)]))throw new Error(_0x29f6bd+_0x29fb9d(0x208)+_0x2c5015[_0x29fb9d(0x10c)]+')\x20to\x20be\x20a\x20number');}get[_0x3be095(0x10c)](){const _0x5831bb=_0x3be095;return this[_0x5831bb(0x2cd)];}},LabeledFaceDescriptors=class{constructor(_0x112c62,_0x3b2e05){const _0x2bfdfb=_0x3be095;if(!(typeof _0x112c62==='string'))throw new Error(_0x2bfdfb(0x2e9));if(!Array[_0x2bfdfb(0x1c9)](_0x3b2e05)||_0x3b2e05[_0x2bfdfb(0x187)](_0x1831bc=>!(_0x1831bc instanceof Float32Array)))throw new Error('LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array');this[_0x2bfdfb(0x2cd)]=_0x112c62,this[_0x2bfdfb(0x2a8)]=_0x3b2e05;}get['label'](){const _0xdafa68=_0x3be095;return this[_0xdafa68(0x2cd)];}get[_0x3be095(0x34d)](){const _0x18268f=_0x3be095;return this[_0x18268f(0x2a8)];}[_0x3be095(0x308)](){const _0x4deb4c=_0x3be095;return{'label':this[_0x4deb4c(0x10c)],'descriptors':this['descriptors'][_0x4deb4c(0x1fc)](_0x10e179=>Array[_0x4deb4c(0x1aa)](_0x10e179))};}static[_0x3be095(0x102)](_0x631a6a){const _0x5d8202=_0x3be095,_0x13b3ff=_0x631a6a[_0x5d8202(0x34d)][_0x5d8202(0x1fc)](_0x24686b=>new Float32Array(_0x24686b));return new LabeledFaceDescriptors(_0x631a6a['label'],_0x13b3ff);}},PredictedBox=class extends LabeledBox{constructor(_0x58b9ca,_0x295848,_0x158266,_0x1c3e48){const _0x3d03c6=_0x3be095;super(_0x58b9ca,_0x295848),this[_0x3d03c6(0x34e)]=_0x158266,this[_0x3d03c6(0x26d)]=_0x1c3e48;}static['assertIsValidPredictedBox'](_0x34d139,_0x32c29c){const _0xe471ba=_0x3be095;LabeledBox[_0xe471ba(0x1d5)](_0x34d139,_0x32c29c);if(!isValidProbablitiy(_0x34d139[_0xe471ba(0x27d)])||!isValidProbablitiy(_0x34d139[_0xe471ba(0x373)]))throw new Error(_0x32c29c+'\x20-\x20expected\x20properties\x20score\x20('+_0x34d139[_0xe471ba(0x27d)]+')\x20and\x20('+_0x34d139[_0xe471ba(0x373)]+_0xe471ba(0x188));}get['score'](){const _0x499c6a=_0x3be095;return this[_0x499c6a(0x34e)];}get[_0x3be095(0x373)](){const _0x18638e=_0x3be095;return this[_0x18638e(0x26d)];}};function isWithFaceDetection(_0x59dd3d){const _0x449abe=_0x3be095;return _0x59dd3d[_0x449abe(0x2ec)]instanceof FaceDetection;}function extendWithFaceDetection(_0x6984de,_0x505888){const _0x215a31={'detection':_0x505888};return{..._0x6984de,..._0x215a31};}function createBrowserEnv(){const _0x5206ea=_0x3be095,_0x125b14=window[_0x5206ea(0x2f6)];if(!_0x125b14)throw new Error(_0x5206ea(0x303));const _0x41db1c=()=>{const _0x2c0a1f=_0x5206ea;throw new Error(_0x2c0a1f(0x2b7));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document['createElement'](_0x5206ea(0x144)),'createImageElement':()=>document[_0x5206ea(0x2f8)](_0x5206ea(0x33c)),'createVideoElement':()=>document['createElement'](_0x5206ea(0x1a7)),'fetch':_0x125b14,'readFile':_0x41db1c};}function isNodejs(){const _0x1a4e15=_0x3be095;return typeof global===_0x1a4e15(0x1b6)&&typeof process!==_0x1a4e15(0x2e7)&&process[_0x1a4e15(0x1c8)]!=null&&process[_0x1a4e15(0x1c8)][_0x1a4e15(0x26e)]!=null;}function createFileSystem(_0x5d0233){const _0x4335ed=_0x3be095;let _0x11e211='';if(!_0x5d0233&&isNodejs())try{_0x5d0233=require('fs');}catch(_0x94ede2){console[_0x4335ed(0x17c)](_0x4335ed(0x29c),_0x94ede2),_0x11e211=_0x94ede2[_0x4335ed(0x1ae)]();}const _0x4001e2=_0x5d0233?_0xcb2a36=>new Promise((_0x20876a,_0x355587)=>{_0x5d0233['readFile'](_0xcb2a36,(_0x1e137e,_0x5ade6b)=>_0x1e137e?_0x355587(_0x1e137e):_0x20876a(_0x5ade6b));}):()=>{const _0x5e8e2b=_0x4335ed;throw new Error(_0x5e8e2b(0x25b)+_0x11e211);};return{'readFile':_0x4001e2};}function createNodejsEnv(){const _0x5ba83e=_0x3be095,_0x2858b6=global['Canvas']||global[_0x5ba83e(0x1f2)],_0x8716f4=global[_0x5ba83e(0x1a1)]||global[_0x5ba83e(0x27e)],_0x147b13=global[_0x5ba83e(0x2c1)]||global['HTMLVideoElement'],_0x5c14f7=()=>{if(_0x2858b6)return new _0x2858b6();throw new Error('createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment');},_0x495366=()=>{const _0x3fa55f=_0x5ba83e;if(_0x8716f4)return new _0x8716f4();throw new Error(_0x3fa55f(0x180));},_0x150ce1=()=>{if(_0x147b13)return new _0x147b13();throw new Error('createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment');},_0xca007e=global['fetch'],_0x22973a=createFileSystem();return{'Canvas':_0x2858b6||class{},'CanvasRenderingContext2D':global[_0x5ba83e(0x204)]||class{},'Image':_0x8716f4||class{},'ImageData':global[_0x5ba83e(0x31b)]||class{},'Video':global[_0x5ba83e(0x328)]||class{},'createCanvasElement':_0x5c14f7,'createImageElement':_0x495366,'createVideoElement':_0x150ce1,'fetch':_0xca007e,..._0x22973a};}function isBrowser(){const _0x27f058=_0x3be095;return typeof window===_0x27f058(0x1b6)&&typeof document!==_0x27f058(0x2e7)&&typeof HTMLImageElement!=='undefined'&&typeof HTMLCanvasElement!==_0x27f058(0x2e7)&&typeof HTMLVideoElement!==_0x27f058(0x2e7)&&typeof ImageData!==_0x27f058(0x2e7)&&typeof CanvasRenderingContext2D!==_0x27f058(0x2e7);}var environment;function getEnv(){if(!environment)throw new Error('getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()');return environment;}function setEnv(_0x476e05){environment=_0x476e05;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x433fc0){const _0x60dd82=_0x3be095;!environment&&initialize();if(!environment)throw new Error(_0x60dd82(0x150));const {Canvas:Canvas=environment[_0x60dd82(0x370)],Image:Image=environment[_0x60dd82(0x1a1)]}=_0x433fc0;environment['Canvas']=Canvas,environment['Image']=Image,environment[_0x60dd82(0x20e)]=_0x433fc0[_0x60dd82(0x20e)]||(()=>new Canvas()),environment[_0x60dd82(0x17b)]=_0x433fc0['createImageElement']||(()=>new Image()),environment[_0x60dd82(0x31b)]=_0x433fc0[_0x60dd82(0x31b)]||environment['ImageData'],environment[_0x60dd82(0x2c1)]=_0x433fc0['Video']||environment[_0x60dd82(0x2c1)],environment[_0x60dd82(0x2f6)]=_0x433fc0[_0x60dd82(0x2f6)]||environment[_0x60dd82(0x2f6)],environment[_0x60dd82(0x325)]=_0x433fc0[_0x60dd82(0x325)]||environment['readFile'];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x50a19d){const _0x104d3b=_0x3be095;if(!env['isNodejs']()&&typeof _0x50a19d===_0x104d3b(0x1b8))return document[_0x104d3b(0x348)](_0x50a19d);return _0x50a19d;}function getContext2dOrThrow(_0x4bc568){const _0xdf598f=_0x3be095,{Canvas:_0x5237ce,CanvasRenderingContext2D:_0x72e8ce}=env['getEnv']();if(_0x4bc568 instanceof _0x72e8ce)return _0x4bc568;const _0xac70c2=resolveInput(_0x4bc568);if(!(_0xac70c2 instanceof _0x5237ce))throw new Error(_0xdf598f(0x127));const _0x3f64cf=_0xac70c2[_0xdf598f(0x12f)]('2d');if(!_0x3f64cf)throw new Error(_0xdf598f(0x258));return _0x3f64cf;}var AnchorPosition=(_0x41d165=>{const _0x31a6a4=_0x3be095;return _0x41d165[_0x31a6a4(0x170)]='TOP_LEFT',_0x41d165[_0x31a6a4(0x15e)]=_0x31a6a4(0x15e),_0x41d165[_0x31a6a4(0x222)]=_0x31a6a4(0x222),_0x41d165[_0x31a6a4(0x16d)]=_0x31a6a4(0x16d),_0x41d165;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x123c67={}){const _0x2bdf38=_0x3be095,{anchorPosition:_0x1615dc,backgroundColor:_0x34bb00,fontColor:_0x41d377,fontSize:_0x28bbad,fontStyle:_0x4df1ec,padding:_0x25c370}=_0x123c67;this['anchorPosition']=_0x1615dc||_0x2bdf38(0x170),this[_0x2bdf38(0x273)]=_0x34bb00||_0x2bdf38(0x340),this[_0x2bdf38(0x2fb)]=_0x41d377||'rgba(255,\x20255,\x20255,\x201)',this[_0x2bdf38(0x367)]=_0x28bbad||0xe,this[_0x2bdf38(0x25f)]=_0x4df1ec||_0x2bdf38(0x30e),this[_0x2bdf38(0x244)]=_0x25c370||0x4;}},DrawTextField=class{constructor(_0x145c1a,_0x1717dc,_0x3b2725={}){const _0x19f9b3=_0x3be095;this['text']=typeof _0x145c1a==='string'?[_0x145c1a]:_0x145c1a instanceof DrawTextField?_0x145c1a[_0x19f9b3(0x2fa)]:_0x145c1a,this[_0x19f9b3(0x2e5)]=_0x1717dc,this[_0x19f9b3(0x32b)]=new DrawTextFieldOptions(_0x3b2725);}[_0x3be095(0x285)](_0x22a609){const _0x290c91=_0x3be095,{padding:_0x2d55f9}=this['options'];return this[_0x290c91(0x2fa)][_0x290c91(0x1fc)](_0x458ebb=>_0x22a609[_0x290c91(0x25c)](_0x458ebb)[_0x290c91(0x1bb)])['reduce']((_0x2aeef6,_0x3b3907)=>_0x2aeef6<_0x3b3907?_0x3b3907:_0x2aeef6,0x0)+0x2*_0x2d55f9;}['measureHeight'](){const _0x2317b3=_0x3be095,{fontSize:_0x1f096c,padding:_0x2718aa}=this[_0x2317b3(0x32b)];return this[_0x2317b3(0x2fa)][_0x2317b3(0x249)]*_0x1f096c+0x2*_0x2718aa;}[_0x3be095(0x364)](_0x108b5e,_0x491c6a){const _0x1796af=_0x3be095,{anchorPosition:_0x331fd9}=this['options'],_0x341931=_0x331fd9===_0x1796af(0x16d)||_0x331fd9===_0x1796af(0x15e),_0x43953b=_0x331fd9===_0x1796af(0x222)||_0x331fd9===_0x1796af(0x16d),_0x1092e0=this[_0x1796af(0x285)](_0x108b5e),_0x311bd1=this[_0x1796af(0x243)](),_0x392294=_0x341931?this[_0x1796af(0x2e5)]['x']-_0x1092e0:this['anchor']['x'],_0x4fb2c8=_0x43953b?this['anchor']['y']-_0x311bd1:this[_0x1796af(0x2e5)]['y'];if(_0x491c6a){const {width:_0x2d8d51,height:_0x67fea6}=_0x491c6a,_0x4585bf=Math[_0x1796af(0xeb)](Math[_0x1796af(0x246)](_0x392294,_0x2d8d51-_0x1092e0),0x0),_0x591f6b=Math[_0x1796af(0xeb)](Math['min'](_0x4fb2c8,_0x67fea6-_0x311bd1),0x0);return{'x':_0x4585bf,'y':_0x591f6b};}return{'x':_0x392294,'y':_0x4fb2c8};}['draw'](_0x299984){const _0x38da18=_0x3be095,_0x2c8dff=resolveInput(_0x299984),_0x466387=getContext2dOrThrow(_0x2c8dff),{backgroundColor:_0x2d9e61,fontColor:_0x57ffa0,fontSize:_0x41d6d5,fontStyle:_0x39a232,padding:_0x6d9c82}=this[_0x38da18(0x32b)];_0x466387[_0x38da18(0x336)]=_0x41d6d5+_0x38da18(0x177)+_0x39a232;const _0x3849eb=this['measureWidth'](_0x466387),_0x4ebf38=this[_0x38da18(0x243)]();_0x466387[_0x38da18(0x345)]=_0x2d9e61;const _0x309bfb=this['getUpperLeft'](_0x466387,_0x2c8dff);_0x466387[_0x38da18(0x10d)](_0x309bfb['x'],_0x309bfb['y'],_0x3849eb,_0x4ebf38),_0x466387[_0x38da18(0x345)]=_0x57ffa0,this[_0x38da18(0x2fa)][_0x38da18(0x1ea)]((_0x3a60a1,_0x36c016)=>{const _0x21fea4=_0x38da18,_0x12f250=_0x6d9c82+_0x309bfb['x'],_0x12353d=_0x6d9c82+_0x309bfb['y']+(_0x36c016+0x1)*_0x41d6d5;_0x466387[_0x21fea4(0x270)](_0x3a60a1,_0x12f250,_0x12353d);});}},DrawBoxOptions=class{constructor(_0x5c3546={}){const _0x1faa93=_0x3be095,{boxColor:_0x54d38e,lineWidth:_0x1a5a19,label:_0x17d3ce,drawLabelOptions:_0x1f251c}=_0x5c3546;this[_0x1faa93(0x1e2)]=_0x54d38e||_0x1faa93(0x263),this[_0x1faa93(0x362)]=_0x1a5a19||0x2,this['label']=_0x17d3ce;const _0x49a63d={'anchorPosition':_0x1faa93(0x222),'backgroundColor':this[_0x1faa93(0x1e2)]};this[_0x1faa93(0x291)]=new DrawTextFieldOptions({..._0x49a63d,..._0x1f251c});}},DrawBox=class{constructor(_0x5a66f7,_0x155bbc={}){const _0x267850=_0x3be095;this[_0x267850(0x331)]=new Box(_0x5a66f7),this['options']=new DrawBoxOptions(_0x155bbc);}[_0x3be095(0x28e)](_0x4b973b){const _0x7ed6de=_0x3be095,_0x3293a2=getContext2dOrThrow(_0x4b973b),{boxColor:_0x38b7ae,lineWidth:_0x38ed19}=this[_0x7ed6de(0x32b)],{x:_0x461fc9,y:_0x400f6a,width:_0x2017be,height:_0x3bbfac}=this[_0x7ed6de(0x331)];_0x3293a2['strokeStyle']=_0x38b7ae,_0x3293a2[_0x7ed6de(0x362)]=_0x38ed19,_0x3293a2['strokeRect'](_0x461fc9,_0x400f6a,_0x2017be,_0x3bbfac);const {label:_0x21d45e}=this[_0x7ed6de(0x32b)];_0x21d45e&&new DrawTextField([_0x21d45e],{'x':_0x461fc9-_0x38ed19/0x2,'y':_0x400f6a},this[_0x7ed6de(0x32b)][_0x7ed6de(0x291)])[_0x7ed6de(0x28e)](_0x4b973b);}};function drawDetections(_0x19f35b,_0x3ed6bd){const _0x29df04=_0x3be095,_0x576c1f=Array[_0x29df04(0x1c9)](_0x3ed6bd)?_0x3ed6bd:[_0x3ed6bd];_0x576c1f['forEach'](_0x2e8dff=>{const _0x510693=_0x29df04,_0x38db0b=_0x2e8dff instanceof FaceDetection?_0x2e8dff[_0x510693(0x27d)]:isWithFaceDetection(_0x2e8dff)?_0x2e8dff[_0x510693(0x2ec)]['score']:void 0x0,_0x4f2ac8=_0x2e8dff instanceof FaceDetection?_0x2e8dff[_0x510693(0x331)]:isWithFaceDetection(_0x2e8dff)?_0x2e8dff[_0x510693(0x2ec)][_0x510693(0x331)]:new Box(_0x2e8dff),_0x233e7b=_0x38db0b?''+round(_0x38db0b):void 0x0;new DrawBox(_0x4f2ac8,{'label':_0x233e7b})[_0x510693(0x28e)](_0x19f35b);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x53aace){const _0x573f9f=_0x3be095,{Image:_0x2020cf,Video:_0x5a27ca}=env['getEnv']();return _0x53aace instanceof _0x2020cf&&_0x53aace[_0x573f9f(0xe9)]||_0x53aace instanceof _0x5a27ca&&_0x53aace[_0x573f9f(0x253)]>=0x3;}function awaitMediaLoaded(_0x15fdf9){return new Promise((_0x17e551,_0x42f63b)=>{const _0x4f0107=_0xae3a;if(_0x15fdf9 instanceof env[_0x4f0107(0x20b)]()[_0x4f0107(0x370)]||isMediaLoaded(_0x15fdf9))_0x17e551(null);function _0x125796(_0x37818d){const _0x2ce83f=_0x4f0107;if(!_0x37818d[_0x2ce83f(0x300)])return;_0x37818d[_0x2ce83f(0x300)]['removeEventListener']('load',_0x44bafd),_0x37818d[_0x2ce83f(0x300)][_0x2ce83f(0x12d)](_0x2ce83f(0x29c),_0x125796),_0x42f63b(_0x37818d);}function _0x44bafd(_0x1e5e04){const _0x5ca7cf=_0x4f0107;if(!_0x1e5e04[_0x5ca7cf(0x300)])return;_0x1e5e04['currentTarget']['removeEventListener']('load',_0x44bafd),_0x1e5e04[_0x5ca7cf(0x300)]['removeEventListener'](_0x5ca7cf(0x29c),_0x125796),_0x17e551(_0x1e5e04);}_0x15fdf9[_0x4f0107(0x2cb)](_0x4f0107(0x33b),_0x44bafd),_0x15fdf9[_0x4f0107(0x2cb)]('error',_0x125796);});}function bufferToImage(_0x4fc64e){return new Promise((_0x3eb830,_0x14a6f0)=>{const _0x177c9c=_0xae3a;if(!(_0x4fc64e instanceof Blob))_0x14a6f0(new Error('bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0x3b62a6=new FileReader();_0x3b62a6[_0x177c9c(0x1f6)]=()=>{const _0x3be9ac=_0x177c9c;if(typeof _0x3b62a6[_0x3be9ac(0x215)]!==_0x3be9ac(0x1b8))_0x14a6f0(new Error(_0x3be9ac(0x234)));const _0x16cd8f=env[_0x3be9ac(0x20b)]()[_0x3be9ac(0x17b)]();_0x16cd8f[_0x3be9ac(0x1f6)]=()=>_0x3eb830(_0x16cd8f),_0x16cd8f[_0x3be9ac(0x347)]=_0x14a6f0,_0x16cd8f[_0x3be9ac(0x1f7)]=_0x3b62a6['result'];},_0x3b62a6[_0x177c9c(0x347)]=_0x14a6f0,_0x3b62a6[_0x177c9c(0x1d9)](_0x4fc64e);});}function getMediaDimensions(_0x5eca1d){const _0x424290=_0x3be095,{Image:_0x55a12b,Video:_0xf6292f}=env[_0x424290(0x20b)]();if(_0x5eca1d instanceof _0x55a12b)return new Dimensions(_0x5eca1d[_0x424290(0x312)],_0x5eca1d[_0x424290(0x202)]);if(_0x5eca1d instanceof _0xf6292f)return new Dimensions(_0x5eca1d['videoWidth'],_0x5eca1d[_0x424290(0x113)]);return new Dimensions(_0x5eca1d[_0x424290(0x1bb)],_0x5eca1d[_0x424290(0x223)]);}function createCanvas({width:_0x158810,height:_0x23f4fb}){const _0x25ac6b=_0x3be095,{createCanvasElement:_0x312f1a}=env['getEnv'](),_0x5c6af7=_0x312f1a();return _0x5c6af7[_0x25ac6b(0x1bb)]=_0x158810,_0x5c6af7['height']=_0x23f4fb,_0x5c6af7;}function createCanvasFromMedia(_0x32d745,_0x341e34){const _0x103aae=_0x3be095,{ImageData:_0x1897d7}=env[_0x103aae(0x20b)]();if(!(_0x32d745 instanceof _0x1897d7)&&!isMediaLoaded(_0x32d745))throw new Error(_0x103aae(0x1a0));const {width:_0x4d104b,height:_0x2df861}=_0x341e34||getMediaDimensions(_0x32d745),_0x394c33=createCanvas({'width':_0x4d104b,'height':_0x2df861});return _0x32d745 instanceof _0x1897d7?getContext2dOrThrow(_0x394c33)[_0x103aae(0x298)](_0x32d745,0x0,0x0):getContext2dOrThrow(_0x394c33)['drawImage'](_0x32d745,0x0,0x0,_0x4d104b,_0x2df861),_0x394c33;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x311010,_0x16a4e6){const _0x6cb61e=_0x3be095,_0x45e274=_0x16a4e6||env[_0x6cb61e(0x20b)]()[_0x6cb61e(0x20e)](),[_0x376abd,_0x39266b,_0x45cd2d]=_0x311010[_0x6cb61e(0x126)][_0x6cb61e(0x162)](isTensor4D(_0x311010)?0x1:0x0),_0x53ce3b=tf4[_0x6cb61e(0x12e)](()=>_0x311010[_0x6cb61e(0x335)](_0x376abd,_0x39266b,_0x45cd2d)[_0x6cb61e(0x2af)]());return await tf4[_0x6cb61e(0x1a9)][_0x6cb61e(0x282)](_0x53ce3b,_0x45e274),_0x53ce3b[_0x6cb61e(0xf4)](),_0x45e274;}function isMediaElement(_0x1f578c){const _0x1b0ca3=_0x3be095,{Image:_0x205f51,Canvas:_0x1d7230,Video:_0x1b7945}=env[_0x1b0ca3(0x20b)]();return _0x1f578c instanceof _0x205f51||_0x1f578c instanceof _0x1d7230||_0x1f578c instanceof _0x1b7945;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x2c5446,_0x173932,_0x53c14d=![]){const _0x1ed659=_0x3be095,{Image:_0x56c70d,Canvas:_0x21958c}=env[_0x1ed659(0x20b)]();if(!(_0x2c5446 instanceof _0x56c70d||_0x2c5446 instanceof _0x21958c))throw new Error(_0x1ed659(0x374));if(_0x173932<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x164663=getMediaDimensions(_0x2c5446),_0x33c8b8=_0x173932/Math['max'](_0x164663['height'],_0x164663[_0x1ed659(0x1bb)]),_0x29e797=_0x33c8b8*_0x164663['width'],_0x56ba22=_0x33c8b8*_0x164663[_0x1ed659(0x223)],_0x429400=createCanvas({'width':_0x173932,'height':_0x173932}),_0x5e3782=_0x2c5446 instanceof _0x21958c?_0x2c5446:createCanvasFromMedia(_0x2c5446),_0xac02=Math[_0x1ed659(0x288)](_0x29e797-_0x56ba22)/0x2,_0x32f293=_0x53c14d&&_0x29e797<_0x56ba22?_0xac02:0x0,_0x250074=_0x53c14d&&_0x56ba22<_0x29e797?_0xac02:0x0;if(_0x5e3782[_0x1ed659(0x1bb)]>0x0&&_0x5e3782['height']>0x0)getContext2dOrThrow(_0x429400)[_0x1ed659(0x230)](_0x5e3782,_0x32f293,_0x250074,_0x29e797,_0x56ba22);return _0x429400;}var NetInput=class{constructor(_0x3a2ecb,_0x512f33=![]){const _0x2280ac=_0x3be095;this[_0x2280ac(0x213)]=[],this[_0x2280ac(0x132)]=[],this[_0x2280ac(0xed)]=![],this[_0x2280ac(0x1a4)]=[],this[_0x2280ac(0x129)]=0x0;if(!Array['isArray'](_0x3a2ecb))throw new Error(_0x2280ac(0x1e8)+_0x3a2ecb);this[_0x2280ac(0xed)]=_0x512f33,this[_0x2280ac(0x100)]=_0x3a2ecb[_0x2280ac(0x249)],_0x3a2ecb[_0x2280ac(0x1ea)]((_0x22a2e4,_0x583629)=>{const _0x5693a8=_0x2280ac;if(isTensor3D(_0x22a2e4)){this[_0x5693a8(0x213)][_0x583629]=_0x22a2e4,this[_0x5693a8(0x1a4)][_0x583629]=_0x22a2e4[_0x5693a8(0x126)];return;}if(isTensor4D(_0x22a2e4)){const _0x381875=_0x22a2e4[_0x5693a8(0x126)][0x0];if(_0x381875!==0x1)throw new Error('NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20'+_0x381875+_0x5693a8(0x1b5));this[_0x5693a8(0x213)][_0x583629]=_0x22a2e4,this['_inputDimensions'][_0x583629]=_0x22a2e4[_0x5693a8(0x126)][_0x5693a8(0x162)](0x1);return;}const _0x433da3=_0x22a2e4 instanceof env[_0x5693a8(0x20b)]()[_0x5693a8(0x370)]?_0x22a2e4:createCanvasFromMedia(_0x22a2e4);this[_0x5693a8(0x132)][_0x583629]=_0x433da3,this['_inputDimensions'][_0x583629]=[_0x433da3[_0x5693a8(0x223)],_0x433da3[_0x5693a8(0x1bb)],0x3];});}get['imageTensors'](){const _0x402fd3=_0x3be095;return this[_0x402fd3(0x213)];}get[_0x3be095(0x119)](){const _0x34c1c9=_0x3be095;return this[_0x34c1c9(0x132)];}get[_0x3be095(0x287)](){const _0x9b3f60=_0x3be095;return this[_0x9b3f60(0x250)]>0x1||this[_0x9b3f60(0xed)];}get[_0x3be095(0x250)](){return this['_batchSize'];}get[_0x3be095(0x197)](){const _0x3f59df=_0x3be095;return this[_0x3f59df(0x1a4)];}get[_0x3be095(0x25e)](){const _0x27fab9=_0x3be095;return this[_0x27fab9(0x129)];}get[_0x3be095(0x1d4)](){const _0x1a2f7c=_0x3be095;return range(this[_0x1a2f7c(0x250)],0x0,0x1)[_0x1a2f7c(0x1fc)]((_0x272f49,_0x16265a)=>this[_0x1a2f7c(0x19c)](_0x16265a));}[_0x3be095(0xf3)](_0x4c7486){const _0x11c880=_0x3be095;return this['canvases'][_0x4c7486]||this[_0x11c880(0x355)][_0x4c7486];}[_0x3be095(0x2aa)](_0x41c0ad){const _0x362e7f=_0x3be095;return this[_0x362e7f(0x1a4)][_0x41c0ad];}[_0x3be095(0x1d6)](_0x12b3ff){const _0x30b783=_0x3be095;return this[_0x30b783(0x1a4)][_0x12b3ff][0x0];}[_0x3be095(0x15d)](_0x421446){const _0x508814=_0x3be095;return this[_0x508814(0x1a4)][_0x421446][0x1];}[_0x3be095(0x19c)](_0x530e6c){const _0x46211e=_0x3be095;if(typeof this[_0x46211e(0x25e)]!==_0x46211e(0x133))throw new Error(_0x46211e(0x269));const _0x560e84=this[_0x46211e(0x15d)](_0x530e6c),_0x3a4a5f=this['getInputHeight'](_0x530e6c);return computeReshapedDimensions({'width':_0x560e84,'height':_0x3a4a5f},this[_0x46211e(0x25e)]);}[_0x3be095(0x168)](_0x2ffb17,_0x76bc46=!![]){const _0x47ea45=_0x3be095;return this[_0x47ea45(0x129)]=_0x2ffb17,tf5['tidy'](()=>{const _0x29cdc2=_0x47ea45,_0x44409b=range(this[_0x29cdc2(0x250)],0x0,0x1)[_0x29cdc2(0x1fc)](_0x5ac23c=>{const _0x3c6b2e=_0x29cdc2,_0x2ab1c1=this[_0x3c6b2e(0xf3)](_0x5ac23c);if(_0x2ab1c1 instanceof tf5[_0x3c6b2e(0x2ce)]){let _0x4257b9=isTensor4D(_0x2ab1c1)?_0x2ab1c1:tf5[_0x3c6b2e(0x200)](_0x2ab1c1);return _0x4257b9=padToSquare(_0x4257b9,_0x76bc46),(_0x4257b9[_0x3c6b2e(0x126)][0x1]!==_0x2ffb17||_0x4257b9[_0x3c6b2e(0x126)][0x2]!==_0x2ffb17)&&(_0x4257b9=tf5[_0x3c6b2e(0x179)]['resizeBilinear'](_0x4257b9,[_0x2ffb17,_0x2ffb17],![],![])),_0x4257b9[_0x3c6b2e(0x335)](_0x2ffb17,_0x2ffb17,0x3);}if(_0x2ab1c1 instanceof env[_0x3c6b2e(0x20b)]()[_0x3c6b2e(0x370)])return tf5[_0x3c6b2e(0x1a9)][_0x3c6b2e(0x20d)](imageToSquare(_0x2ab1c1,_0x2ffb17,_0x76bc46));throw new Error(_0x3c6b2e(0x24f)+_0x5ac23c+_0x3c6b2e(0x16e)+_0x2ab1c1);}),_0x3ff03f=tf5[_0x29cdc2(0x321)](_0x44409b[_0x29cdc2(0x1fc)](_0x31ef75=>tf5[_0x29cdc2(0x1fe)](_0x31ef75,_0x29cdc2(0xf7))))[_0x29cdc2(0x172)](this[_0x29cdc2(0x250)],_0x2ffb17,_0x2ffb17,0x3);return _0x3ff03f;});}};async function toNetInput(_0x503851){const _0x5c211f=_0x3be095;if(_0x503851 instanceof NetInput)return _0x503851;const _0x118836=Array[_0x5c211f(0x1c9)](_0x503851)?_0x503851:[_0x503851];if(!_0x118836['length'])throw new Error('toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input');const _0xf68376=_0x4aff47=>Array[_0x5c211f(0x1c9)](_0x503851)?_0x5c211f(0x279)+_0x4aff47+':':'',_0x4db036=_0x118836[_0x5c211f(0x1fc)](resolveInput);return _0x4db036[_0x5c211f(0x1ea)]((_0x20c661,_0x4ae4bf)=>{const _0x3a0cb0=_0x5c211f;if(!isMediaElement(_0x20c661)&&!isTensor3D(_0x20c661)&&!isTensor4D(_0x20c661)){if(typeof _0x118836[_0x4ae4bf]===_0x3a0cb0(0x1b8))throw new Error(_0x3a0cb0(0x120)+_0xf68376(_0x4ae4bf)+'\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20'+_0x118836[_0x4ae4bf]);throw new Error('toNetInput\x20-'+_0xf68376(_0x4ae4bf)+_0x3a0cb0(0x1a5));}if(isTensor4D(_0x20c661)){const _0x39616d=_0x20c661[_0x3a0cb0(0x126)][0x0];if(_0x39616d!==0x1)throw new Error(_0x3a0cb0(0x120)+_0xf68376(_0x4ae4bf)+_0x3a0cb0(0x23b)+_0x39616d+_0x3a0cb0(0x1b5));}}),await Promise[_0x5c211f(0x2a9)](_0x4db036[_0x5c211f(0x1fc)](_0x151669=>isMediaElement(_0x151669)&&awaitMediaLoaded(_0x151669))),new NetInput(_0x4db036,Array[_0x5c211f(0x1c9)](_0x503851));}async function extractFaces(_0x3cce59,_0x3bb37e){const _0x5a9ad2=_0x3be095,{Canvas:_0x2b5285}=env[_0x5a9ad2(0x20b)]();let _0x198891=_0x3cce59;if(!(_0x3cce59 instanceof _0x2b5285)){const _0x28d45b=await toNetInput(_0x3cce59);if(_0x28d45b[_0x5a9ad2(0x250)]>0x1)throw new Error(_0x5a9ad2(0x142));const _0x30e15c=_0x28d45b[_0x5a9ad2(0xf3)](0x0);_0x198891=_0x30e15c instanceof _0x2b5285?_0x30e15c:await imageTensorToCanvas(_0x30e15c);}const _0x2e3bfc=getContext2dOrThrow(_0x198891),_0x484bce=_0x3bb37e['map'](_0xd7bd3c=>_0xd7bd3c instanceof FaceDetection?_0xd7bd3c[_0x5a9ad2(0x219)](_0x198891['width'],_0x198891['height'])[_0x5a9ad2(0x331)]['floor']():_0xd7bd3c)['map'](_0x5450e8=>_0x5450e8['clipAtImageBorders'](_0x198891['width'],_0x198891[_0x5a9ad2(0x223)]));return _0x484bce[_0x5a9ad2(0x1fc)](({x:_0x2a6aa7,y:_0x5ba171,width:_0xe1bcff,height:_0x5cd77d})=>{const _0x436a1e=_0x5a9ad2,_0x23f64f=createCanvas({'width':_0xe1bcff,'height':_0x5cd77d});if(_0xe1bcff>0x0&&_0x5cd77d>0x0)getContext2dOrThrow(_0x23f64f)['putImageData'](_0x2e3bfc[_0x436a1e(0x227)](_0x2a6aa7,_0x5ba171,_0xe1bcff,_0x5cd77d),0x0,0x0);return _0x23f64f;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x45183c,_0x246bb3){const _0x1cd38c=_0x3be095;if(!isTensor3D(_0x45183c)&&!isTensor4D(_0x45183c))throw new Error('extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D');if(isTensor4D(_0x45183c)&&_0x45183c['shape'][0x0]>0x1)throw new Error('extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported');return tf6[_0x1cd38c(0x12e)](()=>{const _0x4ae0f6=_0x1cd38c,[_0x5d919e,_0x637e8,_0x9a861d]=_0x45183c['shape'][_0x4ae0f6(0x162)](isTensor4D(_0x45183c)?0x1:0x0),_0x24a92f=_0x246bb3[_0x4ae0f6(0x1fc)](_0x3f3abb=>_0x3f3abb instanceof FaceDetection?_0x3f3abb[_0x4ae0f6(0x219)](_0x637e8,_0x5d919e)['box']:_0x3f3abb)[_0x4ae0f6(0x1fc)](_0x2a6947=>_0x2a6947[_0x4ae0f6(0x313)](_0x637e8,_0x5d919e)),_0x1b8b6d=_0x24a92f['filter'](_0x25e8cb=>_0x25e8cb[_0x4ae0f6(0x1bb)]>0x0&&_0x25e8cb[_0x4ae0f6(0x223)]>0x0)['map'](({x:_0x16498d,y:_0x444ccd,width:_0x58980a,height:_0xc620de})=>tf6['slice3d'](_0x45183c[_0x4ae0f6(0x335)](_0x5d919e,_0x637e8,_0x9a861d),[_0x444ccd,_0x16498d,0x0],[_0xc620de,_0x58980a,_0x9a861d]));return _0x1b8b6d;});}async function fetchOrThrow(_0x4277aa,_0x23eeee){const _0x16d054=_0x3be095,{fetch:_0x18f1c1}=env['getEnv'](),_0x4aa792=await _0x18f1c1(_0x4277aa,_0x23eeee);if(!(_0x4aa792[_0x16d054(0x352)]<0x190))throw new Error(_0x16d054(0x369)+_0x4aa792[_0x16d054(0x352)]+')\x20'+_0x4aa792[_0x16d054(0x1eb)]+_0x16d054(0x260)+_0x4aa792[_0x16d054(0x166)]);return _0x4aa792;}async function fetchImage(_0x418d96){const _0xb58dac=_0x3be095,_0x408af2=await fetchOrThrow(_0x418d96),_0x5919de=await _0x408af2[_0xb58dac(0x1ed)]();if(!_0x5919de[_0xb58dac(0x13b)]['startsWith']('image/'))throw new Error(_0xb58dac(0x2cc)+_0x5919de[_0xb58dac(0x13b)]+',\x20for\x20url:\x20'+_0x408af2[_0xb58dac(0x166)]);return bufferToImage(_0x5919de);}async function fetchJson(_0x526348){return(await fetchOrThrow(_0x526348))['json']();}async function fetchNetWeights(_0xfc68af){const _0x88e658=_0x3be095;return new Float32Array(await(await fetchOrThrow(_0xfc68af))[_0x88e658(0x1b1)]());}function bufferToVideo(_0x1e4974){return new Promise((_0x417762,_0x46d29f)=>{const _0x188665=_0xae3a;if(!(_0x1e4974 instanceof Blob))_0x46d29f(new Error(_0x188665(0x203)));const _0x103441=env[_0x188665(0x20b)]()[_0x188665(0x1ec)]();_0x103441['oncanplay']=()=>_0x417762(_0x103441),_0x103441[_0x188665(0x347)]=_0x46d29f,_0x103441[_0x188665(0x169)]=!![],_0x103441['muted']=!![],_0x103441['src']=URL[_0x188665(0x2e4)](_0x1e4974),_0x103441[_0x188665(0x122)]();});}async function fetchVideo(_0x41196d){const _0x319cd5=_0x3be095,_0x5c2a6b=await fetchOrThrow(_0x41196d),_0x1aa6d5=await _0x5c2a6b[_0x319cd5(0x1ed)]();if(!_0x1aa6d5[_0x319cd5(0x13b)][_0x319cd5(0x1b7)](_0x319cd5(0x181)))throw new Error(_0x319cd5(0x112)+_0x1aa6d5['type']+_0x319cd5(0xfe)+_0x5c2a6b[_0x319cd5(0x166)]);return bufferToVideo(_0x1aa6d5);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x25a4f2,_0xebd97e){const _0x3975ee=_0x3be095,_0x367c5f=_0xebd97e+_0x3975ee(0x25d);if(!_0x25a4f2)return{'modelBaseUri':'','manifestUri':_0x367c5f};if(_0x25a4f2==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x367c5f};const _0x545751=_0x25a4f2[_0x3975ee(0x1b7)](_0x3975ee(0x165))?_0x3975ee(0x165):_0x25a4f2['startsWith'](_0x3975ee(0x10b))?_0x3975ee(0x10b):'';_0x25a4f2=_0x25a4f2['replace'](_0x545751,'');const _0x6b77fe=_0x25a4f2[_0x3975ee(0x372)]('/')[_0x3975ee(0x1a2)](_0x5a1e8e=>_0x5a1e8e),_0x9bd272=_0x25a4f2['endsWith'](_0x3975ee(0x1d7))?_0x6b77fe[_0x6b77fe['length']-0x1]:_0x367c5f;let _0x221291=_0x545751+(_0x25a4f2[_0x3975ee(0x357)](_0x3975ee(0x1d7))?_0x6b77fe['slice'](0x0,_0x6b77fe[_0x3975ee(0x249)]-0x1):_0x6b77fe)['join']('/');return _0x221291=_0x25a4f2[_0x3975ee(0x1b7)]('/')?'/'+_0x221291:_0x221291,{'modelBaseUri':_0x221291,'manifestUri':_0x221291==='/'?'/'+_0x9bd272:_0x221291+'/'+_0x9bd272};}async function loadWeightMap(_0x46091f,_0x2bb2ef){const {manifestUri:_0x153b9a,modelBaseUri:_0x4609de}=getModelUris(_0x46091f,_0x2bb2ef),_0xd61498=await fetchJson(_0x153b9a);return tf7['io']['loadWeights'](_0xd61498,_0x4609de);}function matchDimensions(_0x530126,_0x231f6c,_0x36d5bf=![]){const _0x49d341=_0x3be095,{width:_0x2e1978,height:_0x5680af}=_0x36d5bf?getMediaDimensions(_0x231f6c):_0x231f6c;return _0x530126[_0x49d341(0x1bb)]=_0x2e1978,_0x530126[_0x49d341(0x223)]=_0x5680af,{'width':_0x2e1978,'height':_0x5680af};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x536095){const _0x287442=_0x3be095;this[_0x287442(0x12c)]=void 0x0,this[_0x287442(0x125)]=[],this[_0x287442(0x217)]=_0x536095;}get[_0x3be095(0x137)](){const _0x1163e8=_0x3be095;return this[_0x1163e8(0x12c)];}get['paramMappings'](){const _0x23cef4=_0x3be095;return this[_0x23cef4(0x125)];}get[_0x3be095(0x13e)](){const _0x212289=_0x3be095;return!!this[_0x212289(0x137)];}[_0x3be095(0xfc)](_0x3b18e7){const _0x1d8b85=_0x3be095,{obj:_0xb109b9,objProp:_0x5d90d5}=this[_0x1d8b85(0x2ef)](_0x3b18e7);return _0xb109b9[_0x5d90d5];}['reassignParamFromPath'](_0xe014c6,_0x1721b5){const _0x11b455=_0x3be095,{obj:_0x59ed4d,objProp:_0x29599d}=this[_0x11b455(0x2ef)](_0xe014c6);_0x59ed4d[_0x29599d][_0x11b455(0xf4)](),_0x59ed4d[_0x29599d]=_0x1721b5;}[_0x3be095(0x1ca)](){const _0xaf15b0=_0x3be095;return this[_0xaf15b0(0x125)][_0xaf15b0(0x1fc)](({paramPath:_0x527975})=>({'path':_0x527975,'tensor':this[_0xaf15b0(0xfc)](_0x527975)}));}[_0x3be095(0x376)](){const _0x1bc487=_0x3be095;return this[_0x1bc487(0x1ca)]()['filter'](_0x5a39e2=>_0x5a39e2[_0x1bc487(0x2f3)]instanceof tf8['Variable']);}[_0x3be095(0x318)](){const _0x199c54=_0x3be095;return this[_0x199c54(0x1ca)]()[_0x199c54(0x1a2)](_0x51ea88=>!(_0x51ea88[_0x199c54(0x2f3)]instanceof tf8['Variable']));}[_0x3be095(0x2a3)](){const _0x16db52=_0x3be095;this[_0x16db52(0x318)]()['forEach'](({path:_0x9b62c8,tensor:_0x5e913c})=>{const _0x3a82eb=_0x16db52;this[_0x3a82eb(0x19b)](_0x9b62c8,_0x5e913c[_0x3a82eb(0x2a3)]());});}[_0x3be095(0x2c2)](){const _0x121c08=_0x3be095;this[_0x121c08(0x376)]()[_0x121c08(0x1ea)](({path:_0x32cb1d,tensor:_0x481d76})=>{const _0x5dd4e2=_0x121c08,_0x270714=tf8[_0x5dd4e2(0x2f3)](_0x481d76[_0x5dd4e2(0x306)]());_0x481d76[_0x5dd4e2(0xf4)](),this[_0x5dd4e2(0x19b)](_0x32cb1d,_0x270714);});}[_0x3be095(0xf4)](_0x4efd31=!![]){const _0x59f6e1=_0x3be095;this[_0x59f6e1(0x1ca)]()[_0x59f6e1(0x1ea)](_0x35902d=>{const _0x351fe4=_0x59f6e1;if(_0x4efd31&&_0x35902d[_0x351fe4(0x2f3)][_0x351fe4(0x36b)])throw new Error(_0x351fe4(0x36e)+_0x35902d[_0x351fe4(0x330)]);_0x35902d[_0x351fe4(0x2f3)][_0x351fe4(0xf4)]();}),this[_0x59f6e1(0x12c)]=void 0x0;}[_0x3be095(0x1ef)](){const _0x28f3c9=_0x3be095;return new Float32Array(this[_0x28f3c9(0x1ca)]()[_0x28f3c9(0x1fc)](({tensor:_0x15d162})=>Array['from'](_0x15d162['dataSync']()))[_0x28f3c9(0x378)]((_0x5c3944,_0x55133b)=>_0x5c3944['concat'](_0x55133b)));}async['load'](_0x228291){const _0x6add97=_0x3be095;if(_0x228291 instanceof Float32Array){this[_0x6add97(0x2b4)](_0x228291);return;}await this['loadFromUri'](_0x228291);}async[_0x3be095(0x191)](_0x4cac24){const _0x1c1893=_0x3be095;if(_0x4cac24&&typeof _0x4cac24!=='string')throw new Error(this[_0x1c1893(0x217)]+'.loadFromUri\x20-\x20expected\x20model\x20uri');const _0x222721=await loadWeightMap(_0x4cac24,this[_0x1c1893(0x13c)]());this[_0x1c1893(0x32a)](_0x222721);}async[_0x3be095(0x338)](_0x39f7ea){const _0x26b52b=_0x3be095;if(_0x39f7ea&&typeof _0x39f7ea!==_0x26b52b(0x1b8))throw new Error(this['_name']+_0x26b52b(0x35d));const {readFile:_0x1464de}=env['getEnv'](),{manifestUri:_0x3f5117,modelBaseUri:_0xe717eb}=getModelUris(_0x39f7ea,this[_0x26b52b(0x13c)]()),_0x2add5a=_0x248cd1=>Promise['all'](_0x248cd1[_0x26b52b(0x1fc)](_0xd144ae=>_0x1464de(_0xd144ae)[_0x26b52b(0x26a)](_0x57f097=>_0x57f097[_0x26b52b(0x2a7)]))),_0x12f86c=tf8['io'][_0x26b52b(0x2d6)](_0x2add5a),_0x5370c4=JSON[_0x26b52b(0x155)]((await _0x1464de(_0x3f5117))[_0x26b52b(0x1ae)]()),_0x4c8534=await _0x12f86c(_0x5370c4,_0xe717eb);this[_0x26b52b(0x32a)](_0x4c8534);}[_0x3be095(0x32a)](_0x79c887){const _0x351224=_0x3be095,{paramMappings:_0x964006,params:_0x6fd685}=this['extractParamsFromWeightMap'](_0x79c887);this[_0x351224(0x125)]=_0x964006,this[_0x351224(0x12c)]=_0x6fd685;}[_0x3be095(0x2b4)](_0x52edab){const _0x1a7d74=_0x3be095,{paramMappings:_0x57e485,params:_0x527bfb}=this['extractParams'](_0x52edab);this[_0x1a7d74(0x125)]=_0x57e485,this[_0x1a7d74(0x12c)]=_0x527bfb;}[_0x3be095(0x2ef)](_0x367700){const _0x63c0b2=_0x3be095;if(!this[_0x63c0b2(0x137)])throw new Error(_0x63c0b2(0x220));const _0x5a360a=_0x367700[_0x63c0b2(0x372)]('/')['reduce']((_0x132fcb,_0x2716b6)=>{const _0x1a1e96=_0x63c0b2;if(!_0x132fcb[_0x1a1e96(0x299)][_0x1a1e96(0x2fc)](_0x2716b6))throw new Error(_0x1a1e96(0x1d3)+_0x2716b6+_0x1a1e96(0x11d)+_0x367700);return{'obj':_0x132fcb[_0x1a1e96(0x299)],'objProp':_0x2716b6,'nextObj':_0x132fcb[_0x1a1e96(0x299)][_0x2716b6]};},{'nextObj':this[_0x63c0b2(0x137)]}),{obj:_0x2f105d,objProp:_0x41526a}=_0x5a360a;if(!_0x2f105d||!_0x41526a||!(_0x2f105d[_0x41526a]instanceof tf8[_0x63c0b2(0x2ce)]))throw new Error(_0x63c0b2(0x368)+_0x367700);return{'obj':_0x2f105d,'objProp':_0x41526a};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x2fb01f,_0x349fbc,_0x3f1331){const _0x5aa155=_0x3be095;return tf9[_0x5aa155(0x12e)](()=>{const _0x3b8b4e=_0x5aa155;let _0x42d63e=tf9[_0x3b8b4e(0x2b3)](_0x2fb01f,_0x349fbc[_0x3b8b4e(0x18e)],_0x349fbc[_0x3b8b4e(0x218)],_0x3f1331,_0x3b8b4e(0x10e));return _0x42d63e=tf9[_0x3b8b4e(0x2d3)](_0x42d63e,_0x349fbc['bias']),_0x42d63e;});}function denseBlock3(_0x363f43,_0x5f0e5a,_0x1350b1=![]){return tf10['tidy'](()=>{const _0x30ba15=_0xae3a,_0x450d43=tf10[_0x30ba15(0x346)](_0x1350b1?tf10[_0x30ba15(0x2d3)](tf10['conv2d'](_0x363f43,_0x5f0e5a[_0x30ba15(0x1c6)]['filters'],[0x2,0x2],'same'),_0x5f0e5a[_0x30ba15(0x1c6)][_0x30ba15(0xfb)]):depthwiseSeparableConv(_0x363f43,_0x5f0e5a[_0x30ba15(0x1c6)],[0x2,0x2])),_0x12ed4b=depthwiseSeparableConv(_0x450d43,_0x5f0e5a['conv1'],[0x1,0x1]),_0x57cec4=tf10[_0x30ba15(0x346)](tf10[_0x30ba15(0x2d3)](_0x450d43,_0x12ed4b)),_0x2e63b7=depthwiseSeparableConv(_0x57cec4,_0x5f0e5a[_0x30ba15(0x178)],[0x1,0x1]);return tf10[_0x30ba15(0x346)](tf10[_0x30ba15(0x2d3)](_0x450d43,tf10[_0x30ba15(0x2d3)](_0x12ed4b,_0x2e63b7)));});}function denseBlock4(_0xbd4345,_0x1772f3,_0x42eb27=![],_0x89ece2=!![]){const _0xc9a69a=_0x3be095;return tf10[_0xc9a69a(0x12e)](()=>{const _0x24afa6=_0xc9a69a,_0x5a6e60=tf10[_0x24afa6(0x346)](_0x42eb27?tf10[_0x24afa6(0x2d3)](tf10[_0x24afa6(0x2ed)](_0xbd4345,_0x1772f3[_0x24afa6(0x1c6)]['filters'],_0x89ece2?[0x2,0x2]:[0x1,0x1],_0x24afa6(0x10e)),_0x1772f3[_0x24afa6(0x1c6)][_0x24afa6(0xfb)]):depthwiseSeparableConv(_0xbd4345,_0x1772f3['conv0'],_0x89ece2?[0x2,0x2]:[0x1,0x1])),_0x501082=depthwiseSeparableConv(_0x5a6e60,_0x1772f3['conv1'],[0x1,0x1]),_0x22e928=tf10[_0x24afa6(0x346)](tf10[_0x24afa6(0x2d3)](_0x5a6e60,_0x501082)),_0x20870d=depthwiseSeparableConv(_0x22e928,_0x1772f3[_0x24afa6(0x178)],[0x1,0x1]),_0x4cfc45=tf10[_0x24afa6(0x346)](tf10[_0x24afa6(0x2d3)](_0x5a6e60,tf10[_0x24afa6(0x2d3)](_0x501082,_0x20870d))),_0xe0a15f=depthwiseSeparableConv(_0x4cfc45,_0x1772f3[_0x24afa6(0x1a8)],[0x1,0x1]);return tf10[_0x24afa6(0x346)](tf10[_0x24afa6(0x2d3)](_0x5a6e60,tf10[_0x24afa6(0x2d3)](_0x501082,tf10[_0x24afa6(0x2d3)](_0x20870d,_0xe0a15f))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x51ae17,_0x20ba09,_0x39f0f8=_0x3be095(0x10e),_0x1a2e5a=![]){const _0x5be8fc=_0x3be095;return tf11[_0x5be8fc(0x12e)](()=>{const _0x424708=_0x5be8fc,_0x4fb51b=tf11[_0x424708(0x2d3)](tf11['conv2d'](_0x51ae17,_0x20ba09['filters'],[0x1,0x1],_0x39f0f8),_0x20ba09[_0x424708(0xfb)]);return _0x1a2e5a?tf11['relu'](_0x4fb51b):_0x4fb51b;});}function disposeUnusedWeightTensors(_0x5ee12e,_0xee21fb){const _0x4e1e2b=_0x3be095;Object[_0x4e1e2b(0x210)](_0x5ee12e)[_0x4e1e2b(0x1ea)](_0x25239b=>{const _0x2a2580=_0x4e1e2b;!_0xee21fb[_0x2a2580(0x187)](_0x249ba1=>_0x249ba1['originalPath']===_0x25239b)&&_0x5ee12e[_0x25239b][_0x2a2580(0xf4)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x5c728b,_0x44ccbb){return(_0x56f8bc,_0x210fc1,_0xbffee8,_0x159ae6)=>{const _0x22b57f=_0xae3a,_0x592aa7=tf12[_0x22b57f(0x272)](_0x5c728b(_0x56f8bc*_0x210fc1*_0xbffee8*_0xbffee8),[_0xbffee8,_0xbffee8,_0x56f8bc,_0x210fc1]),_0x54ba78=tf12[_0x22b57f(0x1c7)](_0x5c728b(_0x210fc1));return _0x44ccbb[_0x22b57f(0x2ac)]({'paramPath':_0x159ae6+'/filters'},{'paramPath':_0x159ae6+_0x22b57f(0x29a)}),{'filters':_0x592aa7,'bias':_0x54ba78};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x14929f,_0x22671b){return(_0x49ec5e,_0x5367a3,_0x280dfb)=>{const _0x356377=_0xae3a,_0x3d6235=tf13[_0x356377(0x290)](_0x14929f(_0x49ec5e*_0x5367a3),[_0x49ec5e,_0x5367a3]),_0x30475d=tf13[_0x356377(0x1c7)](_0x14929f(_0x5367a3));return _0x22671b['push']({'paramPath':_0x280dfb+'/weights'},{'paramPath':_0x280dfb+_0x356377(0x29a)}),{'weights':_0x3d6235,'bias':_0x30475d};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x6d472d,_0x347f12,_0x25448f){const _0x4a1d87=_0x3be095;this[_0x4a1d87(0x18e)]=_0x6d472d,this[_0x4a1d87(0x218)]=_0x347f12,this[_0x4a1d87(0xfb)]=_0x25448f;}};function extractSeparableConvParamsFactory(_0x327305,_0x513644){return(_0x37ca98,_0x4818e5,_0x45a772)=>{const _0x3c5f52=_0xae3a,_0x306eef=tf14['tensor4d'](_0x327305(0x3*0x3*_0x37ca98),[0x3,0x3,_0x37ca98,0x1]),_0x220b29=tf14[_0x3c5f52(0x272)](_0x327305(_0x37ca98*_0x4818e5),[0x1,0x1,_0x37ca98,_0x4818e5]),_0x2ba200=tf14[_0x3c5f52(0x1c7)](_0x327305(_0x4818e5));return _0x513644['push']({'paramPath':_0x45a772+_0x3c5f52(0x2c4)},{'paramPath':_0x45a772+'/pointwise_filter'},{'paramPath':_0x45a772+_0x3c5f52(0x29a)}),new SeparableConvParams(_0x306eef,_0x220b29,_0x2ba200);};}function loadSeparableConvParamsFactory(_0x154379){return _0x55fa25=>{const _0x46a6bc=_0xae3a,_0x292929=_0x154379(_0x55fa25+_0x46a6bc(0x2c4),0x4),_0x4534ad=_0x154379(_0x55fa25+_0x46a6bc(0x2e2),0x4),_0x242c8d=_0x154379(_0x55fa25+'/bias',0x1);return new SeparableConvParams(_0x292929,_0x4534ad,_0x242c8d);};}function extractWeightEntryFactory(_0x361782,_0x1eb946){return(_0x5a15ee,_0x807d9c,_0x13db75)=>{const _0x4ee985=_0xae3a,_0x517ea2=_0x361782[_0x5a15ee];if(!isTensor(_0x517ea2,_0x807d9c))throw new Error('expected\x20weightMap['+_0x5a15ee+_0x4ee985(0x199)+_0x807d9c+_0x4ee985(0x14a)+_0x517ea2);return _0x1eb946[_0x4ee985(0x2ac)]({'originalPath':_0x5a15ee,'paramPath':_0x13db75||_0x5a15ee}),_0x517ea2;};}function extractWeightsFactory(_0x250b3b){let _0x2252e5=_0x250b3b;function _0x12df6f(_0x88554){const _0x167374=_0xae3a,_0xbb5de0=_0x2252e5[_0x167374(0x162)](0x0,_0x88554);return _0x2252e5=_0x2252e5[_0x167374(0x162)](_0x88554),_0xbb5de0;}function _0x1ccb76(){return _0x2252e5;}return{'extractWeights':_0x12df6f,'getRemainingWeights':_0x1ccb76};}function extractorsFactory(_0x2462df,_0x46ff18){const _0x469889=extractConvParamsFactory(_0x2462df,_0x46ff18),_0x4f2dd5=extractSeparableConvParamsFactory(_0x2462df,_0x46ff18);function _0x364636(_0x4d791a,_0x5309e3,_0x162414,_0xae8d8f=![]){const _0x28a28b=_0xae3a,_0x50fdc0=_0xae8d8f?_0x469889(_0x4d791a,_0x5309e3,0x3,_0x162414+_0x28a28b(0x314)):_0x4f2dd5(_0x4d791a,_0x5309e3,_0x162414+_0x28a28b(0x314)),_0x45d8ff=_0x4f2dd5(_0x5309e3,_0x5309e3,_0x162414+'/conv1'),_0x121014=_0x4f2dd5(_0x5309e3,_0x5309e3,_0x162414+_0x28a28b(0x22d));return{'conv0':_0x50fdc0,'conv1':_0x45d8ff,'conv2':_0x121014};}function _0x1f37b8(_0x41ac25,_0x5384d5,_0x3daa4e,_0x4bc99d=![]){const _0xc32d2c=_0xae3a,{conv0:_0x224b64,conv1:_0x4a22d0,conv2:_0x26eead}=_0x364636(_0x41ac25,_0x5384d5,_0x3daa4e,_0x4bc99d),_0x3e9e12=_0x4f2dd5(_0x5384d5,_0x5384d5,_0x3daa4e+_0xc32d2c(0x268));return{'conv0':_0x224b64,'conv1':_0x4a22d0,'conv2':_0x26eead,'conv3':_0x3e9e12};}return{'extractDenseBlock3Params':_0x364636,'extractDenseBlock4Params':_0x1f37b8};}function extractParams(_0x2df53d){const _0x121bb1=_0x3be095,_0x23a757=[],{extractWeights:_0x20187b,getRemainingWeights:_0x2f6d86}=extractWeightsFactory(_0x2df53d),{extractDenseBlock4Params:_0x5075c6}=extractorsFactory(_0x20187b,_0x23a757),_0x5faf1f=_0x5075c6(0x3,0x20,_0x121bb1(0x33f),!![]),_0x4dc74e=_0x5075c6(0x20,0x40,'dense1'),_0xd85e4c=_0x5075c6(0x40,0x80,_0x121bb1(0x26f)),_0xa26b2c=_0x5075c6(0x80,0x100,_0x121bb1(0x35c));if(_0x2f6d86()[_0x121bb1(0x249)]!==0x0)throw new Error(_0x121bb1(0x1c2)+_0x2f6d86()[_0x121bb1(0x249)]);return{'paramMappings':_0x23a757,'params':{'dense0':_0x5faf1f,'dense1':_0x4dc74e,'dense2':_0xd85e4c,'dense3':_0xa26b2c}};}function loadConvParamsFactory(_0x2ffd5d){return _0x9d0743=>{const _0x3b8fab=_0xae3a,_0x189290=_0x2ffd5d(_0x9d0743+_0x3b8fab(0xf9),0x4),_0xda5956=_0x2ffd5d(_0x9d0743+_0x3b8fab(0x29a),0x1);return{'filters':_0x189290,'bias':_0xda5956};};}function loadParamsFactory(_0x241f7f,_0x5b4506){const _0x357543=extractWeightEntryFactory(_0x241f7f,_0x5b4506),_0x585071=loadConvParamsFactory(_0x357543),_0xa8f52d=loadSeparableConvParamsFactory(_0x357543);function _0x16c899(_0x47ea5c,_0x4fcf52=![]){const _0x2953a8=_0xae3a,_0x67938c=_0x4fcf52?_0x585071(_0x47ea5c+'/conv0'):_0xa8f52d(_0x47ea5c+_0x2953a8(0x314)),_0x4cfb16=_0xa8f52d(_0x47ea5c+_0x2953a8(0x183)),_0x3de252=_0xa8f52d(_0x47ea5c+'/conv2');return{'conv0':_0x67938c,'conv1':_0x4cfb16,'conv2':_0x3de252};}function _0x559789(_0x3c4b40,_0x4ebfe0=![]){const _0x3dca22=_0xae3a,_0x3450d9=_0x4ebfe0?_0x585071(_0x3c4b40+_0x3dca22(0x314)):_0xa8f52d(_0x3c4b40+_0x3dca22(0x314)),_0x461a31=_0xa8f52d(_0x3c4b40+_0x3dca22(0x183)),_0x204775=_0xa8f52d(_0x3c4b40+'/conv2'),_0x5d44d9=_0xa8f52d(_0x3c4b40+_0x3dca22(0x268));return{'conv0':_0x3450d9,'conv1':_0x461a31,'conv2':_0x204775,'conv3':_0x5d44d9};}return{'extractDenseBlock3Params':_0x16c899,'extractDenseBlock4Params':_0x559789};}function extractParamsFromWeightMap(_0x4736f5){const _0xc1b2af=_0x3be095,_0x238869=[],{extractDenseBlock4Params:_0x3c4f34}=loadParamsFactory(_0x4736f5,_0x238869),_0x1a6e3a={'dense0':_0x3c4f34('dense0',!![]),'dense1':_0x3c4f34(_0xc1b2af(0x365)),'dense2':_0x3c4f34('dense2'),'dense3':_0x3c4f34(_0xc1b2af(0x35c))};return disposeUnusedWeightTensors(_0x4736f5,_0x238869),{'params':_0x1a6e3a,'paramMappings':_0x238869};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x56a837=_0x3be095;super(_0x56a837(0x2a0));}[_0x3be095(0x307)](_0x4dc512){const _0x508056=_0x3be095,{params:_0x5935ba}=this;if(!_0x5935ba)throw new Error(_0x508056(0xf6));return tf15[_0x508056(0x12e)](()=>{const _0x1aacd7=_0x508056,_0x511032=tf15[_0x1aacd7(0x1fe)](_0x4dc512[_0x1aacd7(0x168)](0x70,!![]),_0x1aacd7(0xf7)),_0x50bd98=[122.782,117.001,104.298],_0x410b6f=normalize(_0x511032,_0x50bd98)['div'](0xff);let _0x3fba37=denseBlock4(_0x410b6f,_0x5935ba['dense0'],!![]);return _0x3fba37=denseBlock4(_0x3fba37,_0x5935ba[_0x1aacd7(0x365)]),_0x3fba37=denseBlock4(_0x3fba37,_0x5935ba[_0x1aacd7(0x26f)]),_0x3fba37=denseBlock4(_0x3fba37,_0x5935ba[_0x1aacd7(0x35c)]),_0x3fba37=tf15['avgPool'](_0x3fba37,[0x7,0x7],[0x2,0x2],'valid'),_0x3fba37;});}async['forward'](_0x327e6f){const _0x48bc6c=_0x3be095;return this[_0x48bc6c(0x307)](await toNetInput(_0x327e6f));}['getDefaultModelName'](){const _0x4b9e80=_0x3be095;return _0x4b9e80(0x1d2);}[_0x3be095(0x277)](_0x197e9d){return extractParamsFromWeightMap(_0x197e9d);}['extractParams'](_0x2f7610){return extractParams(_0x2f7610);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x2276ef,_0xe63f02){const _0x48ee51=_0x3be095;return tf16[_0x48ee51(0x12e)](()=>tf16[_0x48ee51(0x2d3)](tf16[_0x48ee51(0x26c)](_0x2276ef,_0xe63f02[_0x48ee51(0x11e)]),_0xe63f02[_0x48ee51(0xfb)]));}function extractParams2(_0x36c5d8,_0x32dffd,_0xa47153){const _0x4d299b=_0x3be095,_0x1501ff=[],{extractWeights:_0x275780,getRemainingWeights:_0x120110}=extractWeightsFactory(_0x36c5d8),_0x3cbaa8=extractFCParamsFactory(_0x275780,_0x1501ff),_0x27def2=_0x3cbaa8(_0x32dffd,_0xa47153,'fc');if(_0x120110()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x120110()[_0x4d299b(0x249)]);return{'paramMappings':_0x1501ff,'params':{'fc':_0x27def2}};}function extractParamsFromWeightMap2(_0xaf5bd){const _0x446deb=[],_0x3103ef=extractWeightEntryFactory(_0xaf5bd,_0x446deb);function _0x295c33(_0x2f8ff3){const _0x5eb0bb=_0xae3a,_0x6275e5=_0x3103ef(_0x2f8ff3+_0x5eb0bb(0x337),0x2),_0x104003=_0x3103ef(_0x2f8ff3+'/bias',0x1);return{'weights':_0x6275e5,'bias':_0x104003};}const _0x54742d={'fc':_0x295c33('fc')};return disposeUnusedWeightTensors(_0xaf5bd,_0x446deb),{'params':_0x54742d,'paramMappings':_0x446deb};}function seperateWeightMaps(_0x1a9f84){const _0x522aa8=_0x3be095,_0xe60d5e={},_0x4076ee={};return Object['keys'](_0x1a9f84)[_0x522aa8(0x1ea)](_0x4a96b8=>{const _0x260b2e=_0x522aa8,_0xd25f3c=_0x4a96b8[_0x260b2e(0x1b7)]('fc')?_0x4076ee:_0xe60d5e;_0xd25f3c[_0x4a96b8]=_0x1a9f84[_0x4a96b8];}),{'featureExtractorMap':_0xe60d5e,'classifierMap':_0x4076ee};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x14d493,_0x129742){const _0x318211=_0x3be095;super(_0x14d493),this[_0x318211(0x31c)]=_0x129742;}get['faceFeatureExtractor'](){return this['_faceFeatureExtractor'];}[_0x3be095(0x252)](_0x2399d0){const _0x3e0381=_0x3be095,{params:_0x30b61a}=this;if(!_0x30b61a)throw new Error(this['_name']+_0x3e0381(0x1cb));return tf17[_0x3e0381(0x12e)](()=>{const _0x4ecb3d=_0x3e0381,_0x215c77=_0x2399d0 instanceof NetInput?this['faceFeatureExtractor'][_0x4ecb3d(0x307)](_0x2399d0):_0x2399d0;return fullyConnectedLayer(_0x215c77[_0x4ecb3d(0x157)](_0x215c77[_0x4ecb3d(0x126)][0x0],-0x1),_0x30b61a['fc']);});}[_0x3be095(0xf4)](_0x4f847c=!![]){const _0x5273a7=_0x3be095;this[_0x5273a7(0x238)]['dispose'](_0x4f847c),super[_0x5273a7(0xf4)](_0x4f847c);}[_0x3be095(0x15c)](_0xf101e6){const _0x404cf8=_0x3be095,{params:_0xc77235,paramMappings:_0x4d2fbb}=this[_0x404cf8(0x342)](_0xf101e6);this[_0x404cf8(0x12c)]=_0xc77235,this[_0x404cf8(0x125)]=_0x4d2fbb;}[_0x3be095(0x342)](_0x4cad4c){const _0x43298b=_0x3be095;return extractParams2(_0x4cad4c,this[_0x43298b(0x159)](),this[_0x43298b(0x192)]());}[_0x3be095(0x277)](_0x55980c){const _0x69110a=_0x3be095,{featureExtractorMap:_0x3595ec,classifierMap:_0x151ba9}=seperateWeightMaps(_0x55980c);return this[_0x69110a(0x238)][_0x69110a(0x32a)](_0x3595ec),extractParamsFromWeightMap2(_0x151ba9);}[_0x3be095(0x21c)](_0x1f8ae1){const _0x1cd7c9=_0x3be095,_0xd882ee=this[_0x1cd7c9(0x159)](),_0xbadcd7=this[_0x1cd7c9(0x192)](),_0x11dce4=_0xbadcd7*_0xd882ee+_0xbadcd7,_0x23981d=_0x1f8ae1[_0x1cd7c9(0x162)](0x0,_0x1f8ae1['length']-_0x11dce4),_0x44a3ae=_0x1f8ae1[_0x1cd7c9(0x162)](_0x1f8ae1[_0x1cd7c9(0x249)]-_0x11dce4);return this['faceFeatureExtractor']['extractWeights'](_0x23981d),this['extractClassifierParams'](_0x44a3ae);}},FACE_EXPRESSION_LABELS=[_0x3be095(0x174),_0x3be095(0x324),_0x3be095(0x327),'angry','fearful',_0x3be095(0xf0),'surprised'],FaceExpressions=class{constructor(_0x5f5cc7){const _0x4f8225=_0x3be095;this['neutral']=0x0,this['happy']=0x0,this[_0x4f8225(0x327)]=0x0,this['angry']=0x0,this['fearful']=0x0,this[_0x4f8225(0xf0)]=0x0,this['surprised']=0x0;if(_0x5f5cc7['length']!==0x7)throw new Error(_0x4f8225(0x2b2)+_0x5f5cc7[_0x4f8225(0x249)]);FACE_EXPRESSION_LABELS[_0x4f8225(0x1ea)]((_0x3d840a,_0x4f8fc3)=>{this[_0x3d840a]=_0x5f5cc7[_0x4f8fc3];});}[_0x3be095(0x29b)](){const _0x5be71d=_0x3be095;return FACE_EXPRESSION_LABELS[_0x5be71d(0x1fc)](_0x529a90=>({'expression':_0x529a90,'probability':this[_0x529a90]}))['sort']((_0x54de03,_0x2fd3fe)=>_0x2fd3fe[_0x5be71d(0x27f)]-_0x54de03['probability']);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x12cc33=new FaceFeatureExtractor()){const _0x236722=_0x3be095;super(_0x236722(0x22a),_0x12cc33);}[_0x3be095(0x307)](_0x431c85){const _0x38a51b=_0x3be095;return tf18['tidy'](()=>tf18[_0x38a51b(0x228)](this[_0x38a51b(0x252)](_0x431c85)));}async[_0x3be095(0x2b0)](_0x5ce666){const _0x39d6a3=_0x3be095;return this[_0x39d6a3(0x307)](await toNetInput(_0x5ce666));}async['predictExpressions'](_0xbe2f06){const _0x361262=_0x3be095,_0x28d43a=await toNetInput(_0xbe2f06),_0x2665b6=await this[_0x361262(0x307)](_0x28d43a),_0x73fd87=await Promise['all'](tf18[_0x361262(0x35a)](_0x2665b6)[_0x361262(0x1fc)](async _0x54cb1e=>{const _0xa51136=_0x361262,_0xde1282=_0x54cb1e[_0xa51136(0x306)]();return _0x54cb1e['dispose'](),_0xde1282;}));_0x2665b6[_0x361262(0xf4)]();const _0x5207da=_0x73fd87['map'](_0x568120=>new FaceExpressions(_0x568120));return _0x28d43a['isBatchInput']?_0x5207da:_0x5207da[0x0];}['getDefaultModelName'](){const _0x58b2f4=_0x3be095;return _0x58b2f4(0x2a1);}['getClassifierChannelsIn'](){return 0x100;}['getClassifierChannelsOut'](){return 0x7;}};function isWithFaceExpressions(_0xf0c8a){const _0x19baed=_0x3be095;return _0xf0c8a[_0x19baed(0x14d)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x102730,_0x16833b){const _0x454c95={'expressions':_0x16833b};return{..._0x102730,..._0x454c95};}function drawFaceExpressions(_0x5ab51d,_0x22d815,_0xa53f0e=0.1,_0x414857){const _0x2effd6=_0x3be095,_0x50aa90=Array[_0x2effd6(0x1c9)](_0x22d815)?_0x22d815:[_0x22d815];_0x50aa90[_0x2effd6(0x1ea)](_0x481389=>{const _0xe0383a=_0x2effd6,_0x11305a=_0x481389 instanceof FaceExpressions?_0x481389:isWithFaceExpressions(_0x481389)?_0x481389[_0xe0383a(0x14d)]:void 0x0;if(!_0x11305a)throw new Error('drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof');const _0x165477=_0x11305a['asSortedArray'](),_0x42856b=_0x165477[_0xe0383a(0x1a2)](_0x178ce9=>_0x178ce9[_0xe0383a(0x27f)]>_0xa53f0e),_0x18f469=isWithFaceDetection(_0x481389)?_0x481389[_0xe0383a(0x2ec)][_0xe0383a(0x331)][_0xe0383a(0x27c)]:_0x414857||new Point(0x0,0x0),_0x49e5cd=new DrawTextField(_0x42856b['map'](_0x22f75d=>_0x22f75d[_0xe0383a(0x18c)]+'\x20('+round(_0x22f75d[_0xe0383a(0x27f)])+')'),_0x18f469);_0x49e5cd[_0xe0383a(0x28e)](_0x5ab51d);});}function isWithFaceLandmarks(_0x5141df){const _0x4ce8c5=_0x3be095;return isWithFaceDetection(_0x5141df)&&_0x5141df[_0x4ce8c5(0x110)]instanceof FaceLandmarks&&_0x5141df[_0x4ce8c5(0x1ad)]instanceof FaceLandmarks&&_0x5141df[_0x4ce8c5(0x224)]instanceof FaceDetection;}function calculateFaceAngle(_0x42248b){const _0x51012a=_0x3be095,_0x396704=(_0x5c1b91,_0x47e5c3,_0x4b8ee8,_0x31f26c)=>Math[_0x51012a(0x206)](_0x31f26c-_0x47e5c3,_0x4b8ee8-_0x5c1b91)%Math['PI'],_0x353479=_0x459925=>_0x459925*0xb4/Math['PI'],_0x3220b3={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x42248b||!_0x42248b[_0x51012a(0x2c9)]||_0x42248b[_0x51012a(0x2c9)][_0x51012a(0x249)]!==0x44)return _0x3220b3;const _0x308296=_0x42248b[_0x51012a(0x2c9)];_0x3220b3['roll']=-_0x396704(_0x308296[0x24]['_x'],_0x308296[0x24]['_y'],_0x308296[0x2d]['_x'],_0x308296[0x2d]['_y']),_0x3220b3['pitch']=_0x396704(0x0,Math['abs'](_0x308296[0x0]['_x']-_0x308296[0x1e]['_x'])/_0x308296[0x1e]['_x'],Math['PI'],Math[_0x51012a(0x288)](_0x308296[0x10]['_x']-_0x308296[0x1e]['_x'])/_0x308296[0x1e]['_x']);const _0x9de4de=_0x308296['reduce']((_0x337f77,_0x470ddf)=>_0x337f77<_0x470ddf['_y']?_0x337f77:_0x470ddf['_y'],Infinity),_0x1dbbf7=_0x308296['reduce']((_0x1be9b2,_0x3fe874)=>_0x1be9b2>_0x3fe874['_y']?_0x1be9b2:_0x3fe874['_y'],-Infinity);return _0x3220b3[_0x51012a(0x148)]=Math['PI']*(_0x42248b[_0x51012a(0x23d)][_0x51012a(0xef)]/(_0x1dbbf7-_0x9de4de)/1.4-0x1),_0x3220b3;}function extendWithFaceLandmarks(_0x4f8942,_0x518375){const _0x59e36a=_0x3be095,{box:_0x3c79b8}=_0x4f8942[_0x59e36a(0x2ec)],_0x4e18b3=_0x518375[_0x59e36a(0x2e1)](_0x3c79b8['x'],_0x3c79b8['y']),_0x3cd1c3=_0x4e18b3['align'](),{imageDims:_0x42256e}=_0x4f8942[_0x59e36a(0x2ec)],_0x50fdb0=new FaceDetection(_0x4f8942[_0x59e36a(0x2ec)][_0x59e36a(0x27d)],_0x3cd1c3[_0x59e36a(0x20c)](_0x42256e[_0x59e36a(0x2ea)]()),_0x42256e),_0xa9f379=calculateFaceAngle(_0x518375),_0x5b6c35={'landmarks':_0x4e18b3,'unshiftedLandmarks':_0x518375,'alignedRect':_0x50fdb0,'angle':_0xa9f379};return{..._0x4f8942,..._0x5b6c35};}var DrawFaceLandmarksOptions=class{constructor(_0x2690ea={}){const _0x364d1a=_0x3be095,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x369289,lineColor:_0x89742,pointSize:_0x5a2d8e,pointColor:_0x5baaef}=_0x2690ea;this[_0x364d1a(0x34f)]=drawLines,this[_0x364d1a(0x16a)]=drawPoints,this['lineWidth']=_0x369289||0x1,this['pointSize']=_0x5a2d8e||0x2,this[_0x364d1a(0x205)]=_0x89742||_0x364d1a(0x322),this['pointColor']=_0x5baaef||_0x364d1a(0x2c7);}},DrawFaceLandmarks=class{constructor(_0x1bb4ea,_0x2abc92={}){const _0x1fd4f5=_0x3be095;this['faceLandmarks']=_0x1bb4ea,this[_0x1fd4f5(0x32b)]=new DrawFaceLandmarksOptions(_0x2abc92);}[_0x3be095(0x28e)](_0x2e49d8){const _0xd8627a=_0x3be095,_0x4a9d8a=getContext2dOrThrow(_0x2e49d8),{drawLines:_0x321532,drawPoints:_0x1cd65a,lineWidth:_0x4d88a,lineColor:_0x49a500,pointSize:_0x1f78e2,pointColor:_0x54e9cb}=this['options'];_0x321532&&this['faceLandmarks']instanceof FaceLandmarks68&&(_0x4a9d8a['strokeStyle']=_0x49a500,_0x4a9d8a[_0xd8627a(0x362)]=_0x4d88a,drawContour(_0x4a9d8a,this[_0xd8627a(0x21d)]['getJawOutline']()),drawContour(_0x4a9d8a,this[_0xd8627a(0x21d)][_0xd8627a(0x29e)]()),drawContour(_0x4a9d8a,this['faceLandmarks'][_0xd8627a(0x292)]()),drawContour(_0x4a9d8a,this[_0xd8627a(0x21d)]['getNose']()),drawContour(_0x4a9d8a,this['faceLandmarks'][_0xd8627a(0x295)](),!![]),drawContour(_0x4a9d8a,this[_0xd8627a(0x21d)][_0xd8627a(0x35f)](),!![]),drawContour(_0x4a9d8a,this[_0xd8627a(0x21d)]['getMouth'](),!![]));if(_0x1cd65a){_0x4a9d8a['strokeStyle']=_0x54e9cb,_0x4a9d8a['fillStyle']=_0x54e9cb;const _0x3eeb5b=_0x5192d9=>{const _0x749066=_0xd8627a;_0x4a9d8a['beginPath'](),_0x4a9d8a[_0x749066(0x30a)](_0x5192d9['x'],_0x5192d9['y'],_0x1f78e2,0x0,0x2*Math['PI']),_0x4a9d8a[_0x749066(0x1b4)]();};this[_0xd8627a(0x21d)][_0xd8627a(0x201)][_0xd8627a(0x1ea)](_0x3eeb5b);}}};function drawFaceLandmarks(_0x33caab,_0x3be8ca){const _0x517898=_0x3be095,_0x26dd23=Array[_0x517898(0x1c9)](_0x3be8ca)?_0x3be8ca:[_0x3be8ca];_0x26dd23[_0x517898(0x1ea)](_0x20c52b=>{const _0x23c809=_0x517898,_0x4887ab=_0x20c52b instanceof FaceLandmarks?_0x20c52b:isWithFaceLandmarks(_0x20c52b)?_0x20c52b[_0x23c809(0x110)]:void 0x0;if(!_0x4887ab)throw new Error('drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof');new DrawFaceLandmarks(_0x4887ab)['draw'](_0x33caab);});}var version=_0x3be095(0x1da),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x89e70b,_0x1aaeb9){const _0x500fb3=extractConvParamsFactory(_0x89e70b,_0x1aaeb9),_0x28c2d0=extractSeparableConvParamsFactory(_0x89e70b,_0x1aaeb9);function _0x3e1776(_0xebd873,_0x323302,_0x1efc10){const _0x475749=_0xae3a,_0x395e9e=_0x28c2d0(_0xebd873,_0x323302,_0x1efc10+_0x475749(0x31e)),_0x496012=_0x28c2d0(_0x323302,_0x323302,_0x1efc10+_0x475749(0x23f)),_0x2f3153=_0x500fb3(_0xebd873,_0x323302,0x1,_0x1efc10+'/expansion_conv');return{'separable_conv0':_0x395e9e,'separable_conv1':_0x496012,'expansion_conv':_0x2f3153};}function _0x9847a4(_0x2ec51f,_0x2c4712){const _0x26286c=_0xae3a,_0x495a1e=_0x28c2d0(_0x2ec51f,_0x2ec51f,_0x2c4712+'/separable_conv0'),_0x466a82=_0x28c2d0(_0x2ec51f,_0x2ec51f,_0x2c4712+'/separable_conv1'),_0xa5835=_0x28c2d0(_0x2ec51f,_0x2ec51f,_0x2c4712+_0x26286c(0x173));return{'separable_conv0':_0x495a1e,'separable_conv1':_0x466a82,'separable_conv2':_0xa5835};}return{'extractConvParams':_0x500fb3,'extractSeparableConvParams':_0x28c2d0,'extractReductionBlockParams':_0x3e1776,'extractMainBlockParams':_0x9847a4};}function extractParams3(_0x5bfe60,_0x406fcb){const _0x51470e=_0x3be095,_0x1ea9a8=[],{extractWeights:_0x55fcf3,getRemainingWeights:_0x423f82}=extractWeightsFactory(_0x5bfe60),{extractConvParams:_0x1055f3,extractSeparableConvParams:_0xaa5564,extractReductionBlockParams:_0x9a849b,extractMainBlockParams:_0x56b491}=extractorsFactory2(_0x55fcf3,_0x1ea9a8),_0x6d917=_0x1055f3(0x3,0x20,0x3,'entry_flow/conv_in'),_0x216561=_0x9a849b(0x20,0x40,_0x51470e(0x1c5)),_0x5cb59a=_0x9a849b(0x40,0x80,_0x51470e(0x115)),_0x24e3d3={'conv_in':_0x6d917,'reduction_block_0':_0x216561,'reduction_block_1':_0x5cb59a},_0x33634d={};range(_0x406fcb,0x0,0x1)[_0x51470e(0x1ea)](_0x13e12a=>{const _0x1bc549=_0x51470e;_0x33634d[_0x1bc549(0x214)+_0x13e12a]=_0x56b491(0x80,'middle_flow/main_block_'+_0x13e12a);});const _0x4ec50e=_0x9a849b(0x80,0x100,_0x51470e(0x349)),_0x569ca2=_0xaa5564(0x100,0x200,'exit_flow/separable_conv'),_0x5ee457={'reduction_block':_0x4ec50e,'separable_conv':_0x569ca2};if(_0x423f82()[_0x51470e(0x249)]!==0x0)throw new Error(_0x51470e(0x1c2)+_0x423f82()[_0x51470e(0x249)]);return{'paramMappings':_0x1ea9a8,'params':{'entry_flow':_0x24e3d3,'middle_flow':_0x33634d,'exit_flow':_0x5ee457}};}function loadParamsFactory2(_0x21ba15,_0x168820){const _0x558d9f=extractWeightEntryFactory(_0x21ba15,_0x168820),_0x3559bb=loadConvParamsFactory(_0x558d9f),_0x183b5f=loadSeparableConvParamsFactory(_0x558d9f);function _0x49c751(_0x2d7155){const _0x251623=_0xae3a,_0x3c3119=_0x183b5f(_0x2d7155+_0x251623(0x31e)),_0x29d649=_0x183b5f(_0x2d7155+_0x251623(0x23f)),_0x3951bc=_0x3559bb(_0x2d7155+_0x251623(0x323));return{'separable_conv0':_0x3c3119,'separable_conv1':_0x29d649,'expansion_conv':_0x3951bc};}function _0x1e17e1(_0x9e7766){const _0x264d52=_0xae3a,_0x4b8584=_0x183b5f(_0x9e7766+_0x264d52(0x31e)),_0x2cbfcb=_0x183b5f(_0x9e7766+_0x264d52(0x23f)),_0x5dea0a=_0x183b5f(_0x9e7766+_0x264d52(0x173));return{'separable_conv0':_0x4b8584,'separable_conv1':_0x2cbfcb,'separable_conv2':_0x5dea0a};}return{'extractConvParams':_0x3559bb,'extractSeparableConvParams':_0x183b5f,'extractReductionBlockParams':_0x49c751,'extractMainBlockParams':_0x1e17e1};}function extractParamsFromWeightMap3(_0x24ee07,_0x58a716){const _0xa7941d=_0x3be095,_0x3aefc7=[],{extractConvParams:_0x2ed9dd,extractSeparableConvParams:_0x9e4a47,extractReductionBlockParams:_0x31dd0f,extractMainBlockParams:_0x43c874}=loadParamsFactory2(_0x24ee07,_0x3aefc7),_0xc800bb=_0x2ed9dd('entry_flow/conv_in'),_0x131693=_0x31dd0f('entry_flow/reduction_block_0'),_0x521632=_0x31dd0f(_0xa7941d(0x115)),_0x2bd3ad={'conv_in':_0xc800bb,'reduction_block_0':_0x131693,'reduction_block_1':_0x521632},_0x53c050={};range(_0x58a716,0x0,0x1)['forEach'](_0x337df8=>{const _0x2bb513=_0xa7941d;_0x53c050[_0x2bb513(0x214)+_0x337df8]=_0x43c874(_0x2bb513(0xff)+_0x337df8);});const _0x5e73a6=_0x31dd0f(_0xa7941d(0x349)),_0x255f0b=_0x9e4a47(_0xa7941d(0x33e)),_0x561ee9={'reduction_block':_0x5e73a6,'separable_conv':_0x255f0b};return disposeUnusedWeightTensors(_0x24ee07,_0x3aefc7),{'params':{'entry_flow':_0x2bd3ad,'middle_flow':_0x53c050,'exit_flow':_0x561ee9},'paramMappings':_0x3aefc7};}function conv(_0x402858,_0xf54853,_0x4f434a){const _0x3fd109=_0x3be095;return tf19[_0x3fd109(0x2d3)](tf19[_0x3fd109(0x2ed)](_0x402858,_0xf54853[_0x3fd109(0x11b)],_0x4f434a,_0x3fd109(0x10e)),_0xf54853[_0x3fd109(0xfb)]);}function reductionBlock(_0x3b8df8,_0x1feeea,_0x5ab386=!![]){const _0x455903=_0x3be095;let _0x5eb0d7=_0x5ab386?tf19['relu'](_0x3b8df8):_0x3b8df8;return _0x5eb0d7=depthwiseSeparableConv(_0x5eb0d7,_0x1feeea[_0x455903(0xf2)],[0x1,0x1]),_0x5eb0d7=depthwiseSeparableConv(tf19['relu'](_0x5eb0d7),_0x1feeea[_0x455903(0x186)],[0x1,0x1]),_0x5eb0d7=tf19[_0x455903(0x117)](_0x5eb0d7,[0x3,0x3],[0x2,0x2],'same'),_0x5eb0d7=tf19[_0x455903(0x2d3)](_0x5eb0d7,conv(_0x3b8df8,_0x1feeea[_0x455903(0x319)],[0x2,0x2])),_0x5eb0d7;}function mainBlock(_0x4dd52c,_0x3c018d){const _0x2a75c7=_0x3be095;let _0x24781b=depthwiseSeparableConv(tf19[_0x2a75c7(0x346)](_0x4dd52c),_0x3c018d[_0x2a75c7(0xf2)],[0x1,0x1]);return _0x24781b=depthwiseSeparableConv(tf19['relu'](_0x24781b),_0x3c018d[_0x2a75c7(0x186)],[0x1,0x1]),_0x24781b=depthwiseSeparableConv(tf19[_0x2a75c7(0x346)](_0x24781b),_0x3c018d['separable_conv2'],[0x1,0x1]),_0x24781b=tf19[_0x2a75c7(0x2d3)](_0x24781b,_0x4dd52c),_0x24781b;}var TinyXception=class extends NeuralNetwork{constructor(_0x22b2cb){const _0x55038b=_0x3be095;super(_0x55038b(0x140)),this['_numMainBlocks']=_0x22b2cb;}[_0x3be095(0x307)](_0x14b48a){const _0x3fe1a8=_0x3be095,{params:_0x33a0c4}=this;if(!_0x33a0c4)throw new Error(_0x3fe1a8(0x1d1));return tf19[_0x3fe1a8(0x12e)](()=>{const _0x346328=_0x3fe1a8,_0x53efc3=tf19[_0x346328(0x1fe)](_0x14b48a[_0x346328(0x168)](0x70,!![]),_0x346328(0xf7)),_0x15867b=[122.782,117.001,104.298],_0x2655e6=normalize(_0x53efc3,_0x15867b)['div'](0xff);let _0x66677b=tf19[_0x346328(0x346)](conv(_0x2655e6,_0x33a0c4['entry_flow'][_0x346328(0x134)],[0x2,0x2]));return _0x66677b=reductionBlock(_0x66677b,_0x33a0c4[_0x346328(0x262)][_0x346328(0x16b)],![]),_0x66677b=reductionBlock(_0x66677b,_0x33a0c4[_0x346328(0x262)][_0x346328(0x2d9)]),range(this[_0x346328(0x103)],0x0,0x1)['forEach'](_0x15d2a2=>{const _0x3169c5=_0x346328;_0x66677b=mainBlock(_0x66677b,_0x33a0c4[_0x3169c5(0x17e)]['main_block_'+_0x15d2a2]);}),_0x66677b=reductionBlock(_0x66677b,_0x33a0c4[_0x346328(0x139)][_0x346328(0x2c8)]),_0x66677b=tf19['relu'](depthwiseSeparableConv(_0x66677b,_0x33a0c4[_0x346328(0x139)][_0x346328(0x1bf)],[0x1,0x1])),_0x66677b;});}async[_0x3be095(0x2b0)](_0xc60279){const _0x195e8a=_0x3be095;return this[_0x195e8a(0x307)](await toNetInput(_0xc60279));}[_0x3be095(0x13c)](){const _0x533a7f=_0x3be095;return _0x533a7f(0x266);}['extractParamsFromWeightMap'](_0x1cddb5){const _0x176c0a=_0x3be095;return extractParamsFromWeightMap3(_0x1cddb5,this[_0x176c0a(0x103)]);}['extractParams'](_0x11346b){const _0x546533=_0x3be095;return extractParams3(_0x11346b,this[_0x546533(0x103)]);}};function extractParams4(_0x2c2ac0){const _0x4778bb=_0x3be095,_0x535ce7=[],{extractWeights:_0x469066,getRemainingWeights:_0x476b36}=extractWeightsFactory(_0x2c2ac0),_0x32f1d9=extractFCParamsFactory(_0x469066,_0x535ce7),_0x260110=_0x32f1d9(0x200,0x1,_0x4778bb(0x353)),_0x2c9d55=_0x32f1d9(0x200,0x2,_0x4778bb(0x332));if(_0x476b36()[_0x4778bb(0x249)]!==0x0)throw new Error(_0x4778bb(0x1c2)+_0x476b36()['length']);return{'paramMappings':_0x535ce7,'params':{'fc':{'age':_0x260110,'gender':_0x2c9d55}}};}function extractParamsFromWeightMap4(_0x10cabc){const _0x198378=_0x3be095,_0x45f592=[],_0x5256e8=extractWeightEntryFactory(_0x10cabc,_0x45f592);function _0x1ddf0e(_0x488396){const _0x61f894=_0xae3a,_0xfad9c3=_0x5256e8(_0x488396+_0x61f894(0x337),0x2),_0x4f7d44=_0x5256e8(_0x488396+_0x61f894(0x29a),0x1);return{'weights':_0xfad9c3,'bias':_0x4f7d44};}const _0x4f755e={'fc':{'age':_0x1ddf0e(_0x198378(0x353)),'gender':_0x1ddf0e(_0x198378(0x332))}};return disposeUnusedWeightTensors(_0x10cabc,_0x45f592),{'params':_0x4f755e,'paramMappings':_0x45f592};}var Gender=(_0x52ac18=>{const _0x300489=_0x3be095;return _0x52ac18['FEMALE']=_0x300489(0x221),_0x52ac18['MALE']=_0x300489(0x30b),_0x52ac18;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x265090=new TinyXception(0x2)){const _0x3104c9=_0x3be095;super(_0x3104c9(0x109)),this['_faceFeatureExtractor']=_0x265090;}get[_0x3be095(0x238)](){const _0x205d06=_0x3be095;return this[_0x205d06(0x31c)];}[_0x3be095(0x252)](_0x2f8187){const _0x47588c=_0x3be095,{params:_0x2ab2a5}=this;if(!_0x2ab2a5)throw new Error(this[_0x47588c(0x217)]+'\x20-\x20load\x20model\x20before\x20inference');return tf20[_0x47588c(0x12e)](()=>{const _0x2cbc48=_0x47588c,_0x5708fb=_0x2f8187 instanceof NetInput?this[_0x2cbc48(0x238)][_0x2cbc48(0x307)](_0x2f8187):_0x2f8187,_0x2865fb=tf20[_0x2cbc48(0x301)](_0x5708fb,[0x7,0x7],[0x2,0x2],_0x2cbc48(0x2cf))['as2D'](_0x5708fb['shape'][0x0],-0x1),_0x40b792=fullyConnectedLayer(_0x2865fb,_0x2ab2a5['fc'][_0x2cbc48(0x358)])['as1D'](),_0x4f5188=fullyConnectedLayer(_0x2865fb,_0x2ab2a5['fc'][_0x2cbc48(0x2b5)]);return{'age':_0x40b792,'gender':_0x4f5188};});}[_0x3be095(0x307)](_0x5b0db1){const _0x3e2650=_0x3be095;return tf20[_0x3e2650(0x12e)](()=>{const _0x2434c1=_0x3e2650,{age:_0x3e9e63,gender:_0x4076b3}=this['runNet'](_0x5b0db1);return{'age':_0x3e9e63,'gender':tf20[_0x2434c1(0x228)](_0x4076b3)};});}async[_0x3be095(0x2b0)](_0x249657){const _0x53427f=_0x3be095;return this[_0x53427f(0x307)](await toNetInput(_0x249657));}async[_0x3be095(0x135)](_0x40b4b1){const _0x339644=_0x3be095,_0x361fe1=await toNetInput(_0x40b4b1),_0x1fc9cb=await this['forwardInput'](_0x361fe1),_0x36cf5a=tf20['unstack'](_0x1fc9cb['age']),_0x198751=tf20['unstack'](_0x1fc9cb[_0x339644(0x2b5)]),_0x431a37=_0x36cf5a[_0x339644(0x1fc)]((_0x3439db,_0x2651c8)=>({'ageTensor':_0x3439db,'genderTensor':_0x198751[_0x2651c8]})),_0x135762=await Promise[_0x339644(0x2a9)](_0x431a37[_0x339644(0x1fc)](async({ageTensor:_0x2bc733,genderTensor:_0x1654bb})=>{const _0x43fccf=_0x339644,_0x500a99=_0x2bc733[_0x43fccf(0x306)]()[0x0],_0x2a20a2=_0x1654bb['dataSync']()[0x0],_0xaa5187=_0x2a20a2>0.5,_0x29aafc=_0xaa5187?'male':'female',_0x52885f=_0xaa5187?_0x2a20a2:0x1-_0x2a20a2;return _0x2bc733[_0x43fccf(0xf4)](),_0x1654bb[_0x43fccf(0xf4)](),{'age':_0x500a99,'gender':_0x29aafc,'genderProbability':_0x52885f};}));return _0x1fc9cb[_0x339644(0x358)]['dispose'](),_0x1fc9cb[_0x339644(0x2b5)][_0x339644(0xf4)](),_0x361fe1[_0x339644(0x287)]?_0x135762:_0x135762[0x0];}['getDefaultModelName'](){const _0x1dacbe=_0x3be095;return _0x1dacbe(0x311);}[_0x3be095(0xf4)](_0x34394b=!![]){const _0x380c3c=_0x3be095;this[_0x380c3c(0x238)][_0x380c3c(0xf4)](_0x34394b),super[_0x380c3c(0xf4)](_0x34394b);}['loadClassifierParams'](_0x417ead){const _0x4c8685=_0x3be095,{params:_0x4e4f0c,paramMappings:_0x28ffbe}=this[_0x4c8685(0x342)](_0x417ead);this[_0x4c8685(0x12c)]=_0x4e4f0c,this[_0x4c8685(0x125)]=_0x28ffbe;}['extractClassifierParams'](_0x325791){return extractParams4(_0x325791);}[_0x3be095(0x277)](_0x103dcc){const _0x32f56f=_0x3be095,{featureExtractorMap:_0x4ff352,classifierMap:_0x308a1d}=seperateWeightMaps(_0x103dcc);return this[_0x32f56f(0x238)]['loadFromWeightMap'](_0x4ff352),extractParamsFromWeightMap4(_0x308a1d);}[_0x3be095(0x21c)](_0x432068){const _0x48989e=_0x3be095,_0x4cfa66=0x200*0x1+0x1+(0x200*0x2+0x2),_0x3ce83b=_0x432068[_0x48989e(0x162)](0x0,_0x432068['length']-_0x4cfa66),_0x5590d3=_0x432068[_0x48989e(0x162)](_0x432068['length']-_0x4cfa66);return this[_0x48989e(0x238)][_0x48989e(0x2b4)](_0x3ce83b),this[_0x48989e(0x342)](_0x5590d3);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{['postProcess'](_0x3c06f3,_0x51e30a,_0x42d8d3){const _0x20d349=_0x3be095,_0x3a0ba5=_0x42d8d3[_0x20d349(0x1fc)](({width:_0x35c937,height:_0x2bf1bf})=>{const _0x254dd0=_0x51e30a/Math['max'](_0x2bf1bf,_0x35c937);return{'width':_0x35c937*_0x254dd0,'height':_0x2bf1bf*_0x254dd0};}),_0x2691bc=_0x3a0ba5[_0x20d349(0x249)];return tf21[_0x20d349(0x12e)](()=>{const _0x16b140=_0x20d349,_0x21e481=(_0x33e51e,_0x25c9ae)=>tf21[_0x16b140(0x321)]([tf21[_0x16b140(0x1b4)]([0x44],_0x33e51e,'float32'),tf21[_0x16b140(0x1b4)]([0x44],_0x25c9ae,'float32')],0x1)[_0x16b140(0x157)](0x1,0x88)[_0x16b140(0x242)](),_0x4003b9=(_0x13a95f,_0xadc7c0)=>{const _0x243a34=_0x16b140,{width:_0x45c51c,height:_0x3b8c9e}=_0x3a0ba5[_0x13a95f];return _0xadc7c0(_0x45c51c,_0x3b8c9e)?Math[_0x243a34(0x288)](_0x45c51c-_0x3b8c9e)/0x2:0x0;},_0x4508ad=_0x3d54e1=>_0x4003b9(_0x3d54e1,(_0x2ba679,_0x212233)=>_0x2ba679<_0x212233),_0x3c03a6=_0x28b8b9=>_0x4003b9(_0x28b8b9,(_0x379da,_0x28df3d)=>_0x28df3d<_0x379da),_0x1202c5=_0x3c06f3[_0x16b140(0x156)](tf21[_0x16b140(0x1b4)]([_0x2691bc,0x88],_0x51e30a,_0x16b140(0xf7)))[_0x16b140(0x2dc)](tf21[_0x16b140(0x321)](Array['from'](Array(_0x2691bc),(_0x4a15a5,_0x31ee45)=>_0x21e481(_0x4508ad(_0x31ee45),_0x3c03a6(_0x31ee45)))))[_0x16b140(0x1f9)](tf21['stack'](Array[_0x16b140(0x1aa)](Array(_0x2691bc),(_0x3e0d9e,_0x3c40c6)=>_0x21e481(_0x3a0ba5[_0x3c40c6][_0x16b140(0x1bb)],_0x3a0ba5[_0x3c40c6][_0x16b140(0x223)]))));return _0x1202c5;});}[_0x3be095(0x307)](_0x2c92f4){const _0x1c14e7=_0x3be095;return tf21[_0x1c14e7(0x12e)](()=>{const _0x49f483=_0x1c14e7,_0x23b960=this['runNet'](_0x2c92f4);return this[_0x49f483(0x32d)](_0x23b960,_0x2c92f4[_0x49f483(0x25e)],_0x2c92f4[_0x49f483(0x197)][_0x49f483(0x1fc)](([_0x2f2746,_0x3e924e])=>({'height':_0x2f2746,'width':_0x3e924e})));});}async['forward'](_0x5041da){const _0x4cf96d=_0x3be095;return this[_0x4cf96d(0x307)](await toNetInput(_0x5041da));}async[_0x3be095(0xec)](_0xcf015){const _0x4486a3=_0x3be095,_0x31dbc7=await toNetInput(_0xcf015),_0x504d4f=tf21[_0x4486a3(0x12e)](()=>tf21['unstack'](this[_0x4486a3(0x307)](_0x31dbc7))),_0x443401=await Promise[_0x4486a3(0x2a9)](_0x504d4f[_0x4486a3(0x1fc)](async(_0x983372,_0x6b2716)=>{const _0x72ccd=_0x4486a3,_0x1bd944=Array['from'](_0x983372['dataSync']()),_0x3873b7=_0x1bd944[_0x72ccd(0x1a2)]((_0x18df26,_0x40ba7d)=>isEven(_0x40ba7d)),_0x385de5=_0x1bd944[_0x72ccd(0x1a2)]((_0x5745fc,_0x2f55ef)=>!isEven(_0x2f55ef));return new FaceLandmarks68(Array(0x44)[_0x72ccd(0x1b4)](0x0)[_0x72ccd(0x1fc)]((_0x5aeba6,_0x65929a)=>new Point(_0x3873b7[_0x65929a],_0x385de5[_0x65929a])),{'height':_0x31dbc7[_0x72ccd(0x1d6)](_0x6b2716),'width':_0x31dbc7[_0x72ccd(0x15d)](_0x6b2716)});}));return _0x504d4f[_0x4486a3(0x1ea)](_0x479b98=>_0x479b98[_0x4486a3(0xf4)]()),_0x31dbc7[_0x4486a3(0x287)]?_0x443401:_0x443401[0x0];}[_0x3be095(0x192)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x2bc0b3=new FaceFeatureExtractor()){const _0x81af47=_0x3be095;super(_0x81af47(0x30f),_0x2bc0b3);}[_0x3be095(0x13c)](){return'face_landmark_68_model';}['getClassifierChannelsIn'](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x2a6e68){const _0x121efa=_0x3be095,_0x495cc7=[],{extractDenseBlock3Params:_0xffbeac}=loadParamsFactory(_0x2a6e68,_0x495cc7),_0x27b160={'dense0':_0xffbeac(_0x121efa(0x33f),!![]),'dense1':_0xffbeac(_0x121efa(0x365)),'dense2':_0xffbeac(_0x121efa(0x26f))};return disposeUnusedWeightTensors(_0x2a6e68,_0x495cc7),{'params':_0x27b160,'paramMappings':_0x495cc7};}function extractParamsTiny(_0x210c87){const _0x2ec7d3=_0x3be095,_0x39c373=[],{extractWeights:_0x3d7be0,getRemainingWeights:_0x3a371a}=extractWeightsFactory(_0x210c87),{extractDenseBlock3Params:_0x1578af}=extractorsFactory(_0x3d7be0,_0x39c373),_0x507119=_0x1578af(0x3,0x20,'dense0',!![]),_0x4e2941=_0x1578af(0x20,0x40,_0x2ec7d3(0x365)),_0x3f82f4=_0x1578af(0x40,0x80,'dense2');if(_0x3a371a()[_0x2ec7d3(0x249)]!==0x0)throw new Error(_0x2ec7d3(0x1c2)+_0x3a371a()[_0x2ec7d3(0x249)]);return{'paramMappings':_0x39c373,'params':{'dense0':_0x507119,'dense1':_0x4e2941,'dense2':_0x3f82f4}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0xc7c8f5=_0x3be095;super(_0xc7c8f5(0x2f7));}[_0x3be095(0x307)](_0x50f41e){const _0x2d41be=_0x3be095,{params:_0x5f5443}=this;if(!_0x5f5443)throw new Error(_0x2d41be(0x11f));return tf22[_0x2d41be(0x12e)](()=>{const _0x45ce2f=_0x2d41be,_0x4c8e28=tf22['cast'](_0x50f41e[_0x45ce2f(0x168)](0x70,!![]),_0x45ce2f(0xf7)),_0x10ea64=[122.782,117.001,104.298],_0x1c9609=normalize(_0x4c8e28,_0x10ea64)[_0x45ce2f(0x1f9)](0xff);let _0x2351e0=denseBlock3(_0x1c9609,_0x5f5443[_0x45ce2f(0x33f)],!![]);return _0x2351e0=denseBlock3(_0x2351e0,_0x5f5443[_0x45ce2f(0x365)]),_0x2351e0=denseBlock3(_0x2351e0,_0x5f5443['dense2']),_0x2351e0=tf22[_0x45ce2f(0x301)](_0x2351e0,[0xe,0xe],[0x2,0x2],_0x45ce2f(0x2cf)),_0x2351e0;});}async['forward'](_0x3d5691){const _0x18456b=_0x3be095;return this[_0x18456b(0x307)](await toNetInput(_0x3d5691));}['getDefaultModelName'](){const _0x3a25d7=_0x3be095;return _0x3a25d7(0x30c);}['extractParamsFromWeightMap'](_0x52c4dd){return extractParamsFromWeightMapTiny(_0x52c4dd);}[_0x3be095(0x21c)](_0x38b62d){return extractParamsTiny(_0x38b62d);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x14ea67=new TinyFaceFeatureExtractor()){super('FaceLandmark68TinyNet',_0x14ea67);}[_0x3be095(0x13c)](){return'face_landmark_68_tiny_model';}['getClassifierChannelsIn'](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x4acb2b,_0x3133d1){const _0x58debb=_0x3be095;return tf23[_0x58debb(0x2d3)](tf23[_0x58debb(0x156)](_0x4acb2b,_0x3133d1['weights']),_0x3133d1[_0x58debb(0x19d)]);}function convLayer2(_0x550ab0,_0x6aca9a,_0x58e7bb,_0x3a15d9,_0x3857d6=_0x3be095(0x10e)){const _0x48b183=_0x3be095,{filters:_0x97eb7b,bias:_0x57e003}=_0x6aca9a['conv'];let _0x27a205=tf24[_0x48b183(0x2ed)](_0x550ab0,_0x97eb7b,_0x58e7bb,_0x3857d6);return _0x27a205=tf24[_0x48b183(0x2d3)](_0x27a205,_0x57e003),_0x27a205=scale(_0x27a205,_0x6aca9a[_0x48b183(0x1b2)]),_0x3a15d9?tf24[_0x48b183(0x346)](_0x27a205):_0x27a205;}function conv2(_0x27476d,_0x224c62){return convLayer2(_0x27476d,_0x224c62,[0x1,0x1],!![]);}function convNoRelu(_0x56fc46,_0x29a0d9){return convLayer2(_0x56fc46,_0x29a0d9,[0x1,0x1],![]);}function convDown(_0x333591,_0x10604f){return convLayer2(_0x333591,_0x10604f,[0x2,0x2],!![],'valid');}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x3246d3,_0x44fde9){function _0x11ef3d(_0x1d519e,_0x42bdc6,_0x4d9eee){const _0x16d20b=_0xae3a,_0x26a40f=_0x3246d3(_0x1d519e),_0x11cec9=_0x26a40f[_0x16d20b(0x249)]/(_0x42bdc6*_0x4d9eee*_0x4d9eee);if(isFloat(_0x11cec9))throw new Error('depth\x20has\x20to\x20be\x20an\x20integer:\x20'+_0x11cec9+_0x16d20b(0x20a)+_0x26a40f['length']+_0x16d20b(0x18d)+_0x42bdc6+_0x16d20b(0x310)+_0x4d9eee);return tf25['tidy'](()=>tf25['transpose'](tf25[_0x16d20b(0x272)](_0x26a40f,[_0x42bdc6,_0x11cec9,_0x4d9eee,_0x4d9eee]),[0x2,0x3,0x1,0x0]));}function _0x67cf21(_0x5d9988,_0x3dca62,_0x33162a,_0x494864){const _0x18ab4b=_0xae3a,_0x19d779=_0x11ef3d(_0x5d9988,_0x3dca62,_0x33162a),_0x5b942c=tf25[_0x18ab4b(0x1c7)](_0x3246d3(_0x3dca62));return _0x44fde9[_0x18ab4b(0x2ac)]({'paramPath':_0x494864+'/filters'},{'paramPath':_0x494864+_0x18ab4b(0x29a)}),{'filters':_0x19d779,'bias':_0x5b942c};}function _0x5f34c8(_0x1a9a22,_0x1f0cc0){const _0x427e45=_0xae3a,_0x5d00a1=tf25[_0x427e45(0x1c7)](_0x3246d3(_0x1a9a22)),_0x345be4=tf25[_0x427e45(0x1c7)](_0x3246d3(_0x1a9a22));return _0x44fde9[_0x427e45(0x2ac)]({'paramPath':_0x1f0cc0+'/weights'},{'paramPath':_0x1f0cc0+_0x427e45(0x1ba)}),{'weights':_0x5d00a1,'biases':_0x345be4};}function _0x465063(_0x2b1657,_0x3c2cad,_0x8d51a,_0x2756a5){const _0x175653=_0xae3a,_0x41f3b9=_0x67cf21(_0x2b1657,_0x3c2cad,_0x8d51a,_0x2756a5+_0x175653(0x28d)),_0x1f197b=_0x5f34c8(_0x3c2cad,_0x2756a5+_0x175653(0x31d));return{'conv':_0x41f3b9,'scale':_0x1f197b};}function _0x1d971a(_0x3e3147,_0x239061,_0x4a2c68,_0x50ac0a,_0x2473ba=![]){const _0x40e8e5=_0x465063((_0x2473ba?0.5:0x1)*_0x3e3147,_0x239061,_0x4a2c68,_0x50ac0a+'/conv1'),_0xb25217=_0x465063(_0x3e3147,_0x239061,_0x4a2c68,_0x50ac0a+'/conv2');return{'conv1':_0x40e8e5,'conv2':_0xb25217};}return{'extractConvLayerParams':_0x465063,'extractResidualLayerParams':_0x1d971a};}function extractParams5(_0x3f3306){const _0x3bde65=_0x3be095,{extractWeights:_0x1b60cc,getRemainingWeights:_0x2e80a3}=extractWeightsFactory(_0x3f3306),_0x159917=[],{extractConvLayerParams:_0x162600,extractResidualLayerParams:_0x15b6f7}=extractorsFactory3(_0x1b60cc,_0x159917),_0x99b7d=_0x162600(0x1260,0x20,0x7,_0x3bde65(0x149)),_0xe34bb7=_0x15b6f7(0x2400,0x20,0x3,_0x3bde65(0x2b6)),_0x38dd5b=_0x15b6f7(0x2400,0x20,0x3,'conv32_2'),_0x30fc6e=_0x15b6f7(0x2400,0x20,0x3,_0x3bde65(0x16f)),_0x2c0781=_0x15b6f7(0x9000,0x40,0x3,_0x3bde65(0x163),!![]),_0x20bcca=_0x15b6f7(0x9000,0x40,0x3,'conv64_1'),_0x17ecb9=_0x15b6f7(0x9000,0x40,0x3,_0x3bde65(0x29d)),_0x62c715=_0x15b6f7(0x9000,0x40,0x3,_0x3bde65(0x19f)),_0x49eb42=_0x15b6f7(0x24000,0x80,0x3,_0x3bde65(0x1e4),!![]),_0xec66e6=_0x15b6f7(0x24000,0x80,0x3,_0x3bde65(0x32e)),_0x13a393=_0x15b6f7(0x24000,0x80,0x3,_0x3bde65(0x359)),_0x31dffa=_0x15b6f7(0x90000,0x100,0x3,_0x3bde65(0x2be),!![]),_0x37eabc=_0x15b6f7(0x90000,0x100,0x3,_0x3bde65(0x154)),_0x1cde13=_0x15b6f7(0x90000,0x100,0x3,_0x3bde65(0x1f1)),_0x320809=_0x15b6f7(0x90000,0x100,0x3,_0x3bde65(0x145)),_0x3c382e=tf25[_0x3bde65(0x12e)](()=>tf25[_0x3bde65(0x12a)](tf25[_0x3bde65(0x290)](_0x1b60cc(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x159917[_0x3bde65(0x2ac)]({'paramPath':'fc'});if(_0x2e80a3()['length']!==0x0)throw new Error(_0x3bde65(0x1c2)+_0x2e80a3()[_0x3bde65(0x249)]);const _0x570704={'conv32_down':_0x99b7d,'conv32_1':_0xe34bb7,'conv32_2':_0x38dd5b,'conv32_3':_0x30fc6e,'conv64_down':_0x2c0781,'conv64_1':_0x20bcca,'conv64_2':_0x17ecb9,'conv64_3':_0x62c715,'conv128_down':_0x49eb42,'conv128_1':_0xec66e6,'conv128_2':_0x13a393,'conv256_down':_0x31dffa,'conv256_1':_0x37eabc,'conv256_2':_0x1cde13,'conv256_down_out':_0x320809,'fc':_0x3c382e};return{'params':_0x570704,'paramMappings':_0x159917};}function extractorsFactory4(_0x535106,_0x337625){const _0x2f6abc=extractWeightEntryFactory(_0x535106,_0x337625);function _0x1b8bf2(_0x562d83){const _0x530d45=_0xae3a,_0xf2b676=_0x2f6abc(_0x562d83+'/scale/weights',0x1),_0x1f43ba=_0x2f6abc(_0x562d83+_0x530d45(0xf5),0x1);return{'weights':_0xf2b676,'biases':_0x1f43ba};}function _0x14bcd1(_0x4de222){const _0x18e9da=_0xae3a,_0x1a2542=_0x2f6abc(_0x4de222+_0x18e9da(0x2e8),0x4),_0x575a6d=_0x2f6abc(_0x4de222+'/conv/bias',0x1),_0x55143b=_0x1b8bf2(_0x4de222);return{'conv':{'filters':_0x1a2542,'bias':_0x575a6d},'scale':_0x55143b};}function _0x551e3f(_0x1ffdf8){const _0x2e0daf=_0xae3a;return{'conv1':_0x14bcd1(_0x1ffdf8+_0x2e0daf(0x183)),'conv2':_0x14bcd1(_0x1ffdf8+_0x2e0daf(0x22d))};}return{'extractConvLayerParams':_0x14bcd1,'extractResidualLayerParams':_0x551e3f};}function extractParamsFromWeightMap5(_0x188d37){const _0x1a5593=_0x3be095,_0x5083f6=[],{extractConvLayerParams:_0x2ee605,extractResidualLayerParams:_0x2b1ede}=extractorsFactory4(_0x188d37,_0x5083f6),_0xda9eb3=_0x2ee605(_0x1a5593(0x149)),_0x515b9e=_0x2b1ede(_0x1a5593(0x2b6)),_0x1ea1ff=_0x2b1ede(_0x1a5593(0x334)),_0x508585=_0x2b1ede(_0x1a5593(0x16f)),_0x252280=_0x2b1ede('conv64_down'),_0x503eff=_0x2b1ede('conv64_1'),_0x3561bc=_0x2b1ede(_0x1a5593(0x29d)),_0x19cec0=_0x2b1ede(_0x1a5593(0x19f)),_0x2ff4c1=_0x2b1ede(_0x1a5593(0x1e4)),_0x5f5b91=_0x2b1ede(_0x1a5593(0x32e)),_0x5e9892=_0x2b1ede('conv128_2'),_0x387070=_0x2b1ede(_0x1a5593(0x2be)),_0x5735a5=_0x2b1ede('conv256_1'),_0x17312b=_0x2b1ede(_0x1a5593(0x1f1)),_0x4bcb0f=_0x2b1ede(_0x1a5593(0x145)),{fc:_0x2317e2}=_0x188d37;_0x5083f6[_0x1a5593(0x2ac)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x2317e2))throw new Error(_0x1a5593(0x296)+_0x2317e2);const _0x242a58={'conv32_down':_0xda9eb3,'conv32_1':_0x515b9e,'conv32_2':_0x1ea1ff,'conv32_3':_0x508585,'conv64_down':_0x252280,'conv64_1':_0x503eff,'conv64_2':_0x3561bc,'conv64_3':_0x19cec0,'conv128_down':_0x2ff4c1,'conv128_1':_0x5f5b91,'conv128_2':_0x5e9892,'conv256_down':_0x387070,'conv256_1':_0x5735a5,'conv256_2':_0x17312b,'conv256_down_out':_0x4bcb0f,'fc':_0x2317e2};return disposeUnusedWeightTensors(_0x188d37,_0x5083f6),{'params':_0x242a58,'paramMappings':_0x5083f6};}var tf26=__toESM(require_tfjs_esm());function residual(_0x238044,_0x57fee6){const _0x14424a=_0x3be095;let _0x519d0d=conv2(_0x238044,_0x57fee6[_0x14424a(0x190)]);return _0x519d0d=convNoRelu(_0x519d0d,_0x57fee6[_0x14424a(0x178)]),_0x519d0d=tf26['add'](_0x519d0d,_0x238044),_0x519d0d=tf26[_0x14424a(0x346)](_0x519d0d),_0x519d0d;}function residualDown(_0x4d174c,_0x3e7c7b){const _0x34ae0d=_0x3be095;let _0x435f1d=convDown(_0x4d174c,_0x3e7c7b[_0x34ae0d(0x190)]);_0x435f1d=convNoRelu(_0x435f1d,_0x3e7c7b[_0x34ae0d(0x178)]);let _0x4d67f8=tf26[_0x34ae0d(0x301)](_0x4d174c,0x2,0x2,'valid');const _0x5e1984=tf26[_0x34ae0d(0x239)](_0x4d67f8[_0x34ae0d(0x126)]),_0x135c9d=_0x4d67f8[_0x34ae0d(0x126)][0x3]!==_0x435f1d[_0x34ae0d(0x126)][0x3],_0x57e684=_0x4d67f8[_0x34ae0d(0x126)][0x1]!==_0x435f1d['shape'][0x1]||_0x4d67f8[_0x34ae0d(0x126)][0x2]!==_0x435f1d[_0x34ae0d(0x126)][0x2];if(_0x57e684){const _0x4d39f1=[..._0x435f1d['shape']];_0x4d39f1[0x1]=0x1;const _0x46703c=tf26[_0x34ae0d(0x239)](_0x4d39f1);_0x435f1d=tf26[_0x34ae0d(0x24c)]([_0x435f1d,_0x46703c],0x1);const _0x254536=[..._0x435f1d[_0x34ae0d(0x126)]];_0x254536[0x2]=0x1;const _0x3d907e=tf26[_0x34ae0d(0x239)](_0x254536);_0x435f1d=tf26[_0x34ae0d(0x24c)]([_0x435f1d,_0x3d907e],0x2);}return _0x4d67f8=_0x135c9d?tf26[_0x34ae0d(0x24c)]([_0x4d67f8,_0x5e1984],0x3):_0x4d67f8,_0x435f1d=tf26['add'](_0x4d67f8,_0x435f1d),_0x435f1d=tf26[_0x34ae0d(0x346)](_0x435f1d),_0x435f1d;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){super('FaceRecognitionNet');}[_0x3be095(0x307)](_0x2d7b2c){const _0x48bee1=_0x3be095,{params:_0x2f3ca3}=this;if(!_0x2f3ca3)throw new Error(_0x48bee1(0x283));return tf27[_0x48bee1(0x12e)](()=>{const _0x4e4d59=_0x48bee1,_0x2fc593=tf27[_0x4e4d59(0x1fe)](_0x2d7b2c[_0x4e4d59(0x168)](0x96,!![]),'float32'),_0x4ed52d=[122.782,117.001,104.298],_0x332568=normalize(_0x2fc593,_0x4ed52d)[_0x4e4d59(0x1f9)](0xff);let _0x24287e=convDown(_0x332568,_0x2f3ca3['conv32_down']);_0x24287e=tf27['maxPool'](_0x24287e,0x3,0x2,'valid'),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x2b6)]),_0x24287e=residual(_0x24287e,_0x2f3ca3['conv32_2']),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x16f)]),_0x24287e=residualDown(_0x24287e,_0x2f3ca3[_0x4e4d59(0x163)]),_0x24287e=residual(_0x24287e,_0x2f3ca3['conv64_1']),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x29d)]),_0x24287e=residual(_0x24287e,_0x2f3ca3['conv64_3']),_0x24287e=residualDown(_0x24287e,_0x2f3ca3[_0x4e4d59(0x1e4)]),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x32e)]),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x359)]),_0x24287e=residualDown(_0x24287e,_0x2f3ca3[_0x4e4d59(0x2be)]),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x154)]),_0x24287e=residual(_0x24287e,_0x2f3ca3[_0x4e4d59(0x1f1)]),_0x24287e=residualDown(_0x24287e,_0x2f3ca3['conv256_down_out']);const _0x2ad205=_0x24287e[_0x4e4d59(0x2a4)]([0x1,0x2]),_0xa7140c=tf27[_0x4e4d59(0x26c)](_0x2ad205,_0x2f3ca3['fc']);return _0xa7140c;});}async['forward'](_0x8b9c24){const _0x46415c=_0x3be095;return this[_0x46415c(0x307)](await toNetInput(_0x8b9c24));}async['computeFaceDescriptor'](_0x198e74){const _0x234889=_0x3be095;var _0x46787d;if((_0x46787d=_0x198e74==null?void 0x0:_0x198e74['shape'])==null?void 0x0:_0x46787d[_0x234889(0x187)](_0x3bc290=>_0x3bc290<=0x0))return new Float32Array(0x80);const _0x533f74=await toNetInput(_0x198e74),_0x1c21ec=tf27[_0x234889(0x12e)](()=>tf27[_0x234889(0x35a)](this[_0x234889(0x307)](_0x533f74))),_0xec921d=await Promise[_0x234889(0x2a9)](_0x1c21ec[_0x234889(0x1fc)](_0x6a378f=>_0x6a378f[_0x234889(0x13a)]()));return _0x1c21ec[_0x234889(0x1ea)](_0x4e44e5=>_0x4e44e5[_0x234889(0xf4)]()),_0x533f74[_0x234889(0x287)]?_0xec921d:_0xec921d[0x0];}['getDefaultModelName'](){const _0x7d4eda=_0x3be095;return _0x7d4eda(0x225);}['extractParamsFromWeightMap'](_0x3d03e5){return extractParamsFromWeightMap5(_0x3d03e5);}[_0x3be095(0x21c)](_0x32e1a7){return extractParams5(_0x32e1a7);}};function createFaceRecognitionNet(_0xa5835f){const _0x1b1be3=_0x3be095,_0x6d612=new FaceRecognitionNet();return _0x6d612[_0x1b1be3(0x2b4)](_0xa5835f),_0x6d612;}function extendWithFaceDescriptor(_0x5566ae,_0x555a48){const _0xc4852c={'descriptor':_0x555a48};return{..._0x5566ae,..._0xc4852c};}function isWithAge(_0x43aab6){const _0x342606=_0x3be095;return typeof _0x43aab6['age']===_0x342606(0x133);}function extendWithAge(_0x5e97f8,_0x310787){const _0x5ea23d={'age':_0x310787};return{..._0x5e97f8,..._0x5ea23d};}function isWithGender(_0x5399ce){const _0x3757f4=_0x3be095;return(_0x5399ce[_0x3757f4(0x2b5)]==='male'||_0x5399ce[_0x3757f4(0x2b5)]==='female')&&isValidProbablitiy(_0x5399ce['genderProbability']);}function extendWithGender(_0x571de6,_0x5c03b3,_0xad21b4){const _0x1d4aab={'gender':_0x5c03b3,'genderProbability':_0xad21b4};return{..._0x571de6,..._0x1d4aab};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x5ef754,_0xaf858c){function _0xa8132b(_0x311a4a,_0x2357c4){const _0x4d830e=_0xae3a,_0xc76b1=tf28[_0x4d830e(0x272)](_0x5ef754(0x3*0x3*_0x311a4a),[0x3,0x3,_0x311a4a,0x1]),_0x4b0914=tf28[_0x4d830e(0x1c7)](_0x5ef754(_0x311a4a)),_0x5c17d0=tf28[_0x4d830e(0x1c7)](_0x5ef754(_0x311a4a)),_0x22ca1b=tf28['tensor1d'](_0x5ef754(_0x311a4a)),_0x5948de=tf28[_0x4d830e(0x1c7)](_0x5ef754(_0x311a4a));return _0xaf858c[_0x4d830e(0x2ac)]({'paramPath':_0x2357c4+'/filters'},{'paramPath':_0x2357c4+'/batch_norm_scale'},{'paramPath':_0x2357c4+'/batch_norm_offset'},{'paramPath':_0x2357c4+_0x4d830e(0x2d4)},{'paramPath':_0x2357c4+'/batch_norm_variance'}),{'filters':_0xc76b1,'batch_norm_scale':_0x4b0914,'batch_norm_offset':_0x5c17d0,'batch_norm_mean':_0x22ca1b,'batch_norm_variance':_0x5948de};}function _0x53ffec(_0xd5c7c4,_0x1f808e,_0x565ab0,_0x5978f3,_0x30fac9){const _0x12a443=_0xae3a,_0x7eced8=tf28[_0x12a443(0x272)](_0x5ef754(_0xd5c7c4*_0x1f808e*_0x565ab0*_0x565ab0),[_0x565ab0,_0x565ab0,_0xd5c7c4,_0x1f808e]),_0x28f1bf=tf28[_0x12a443(0x1c7)](_0x5ef754(_0x1f808e));return _0xaf858c[_0x12a443(0x2ac)]({'paramPath':_0x5978f3+'/filters'},{'paramPath':_0x5978f3+'/'+(_0x30fac9?_0x12a443(0x309):'bias')}),{'filters':_0x7eced8,'bias':_0x28f1bf};}function _0x5f32b8(_0x2dc100,_0x27f031,_0x9780be,_0x3376b5){const {filters:_0x631b2b,bias:_0x4c930a}=_0x53ffec(_0x2dc100,_0x27f031,_0x9780be,_0x3376b5,!![]);return{'filters':_0x631b2b,'batch_norm_offset':_0x4c930a};}function _0x4e3a4c(_0x25f7b8,_0x32671e,_0x17332b){const _0xa1a445=_0xae3a,_0x51fcc1=_0xa8132b(_0x25f7b8,_0x17332b+_0xa1a445(0xf1)),_0x2761fb=_0x5f32b8(_0x25f7b8,_0x32671e,0x1,_0x17332b+_0xa1a445(0x1dd));return{'depthwise_conv':_0x51fcc1,'pointwise_conv':_0x2761fb};}function _0x1df910(){const _0x40a537=_0xae3a,_0x45db8f=_0x5f32b8(0x3,0x20,0x3,_0x40a537(0x356)),_0x210435=_0x4e3a4c(0x20,0x40,_0x40a537(0x131)),_0x2af23e=_0x4e3a4c(0x40,0x80,_0x40a537(0x2a5)),_0x5891df=_0x4e3a4c(0x80,0x80,_0x40a537(0x232)),_0x4325a8=_0x4e3a4c(0x80,0x100,_0x40a537(0x34c)),_0x1d87af=_0x4e3a4c(0x100,0x100,_0x40a537(0x1e3)),_0x25647a=_0x4e3a4c(0x100,0x200,_0x40a537(0x24b)),_0x3eeb99=_0x4e3a4c(0x200,0x200,'mobilenetv1/conv_7'),_0x5222a0=_0x4e3a4c(0x200,0x200,_0x40a537(0x343)),_0x5e5c10=_0x4e3a4c(0x200,0x200,'mobilenetv1/conv_9'),_0x3bf045=_0x4e3a4c(0x200,0x200,_0x40a537(0x1f5)),_0x47ff56=_0x4e3a4c(0x200,0x200,_0x40a537(0x320)),_0x2e5498=_0x4e3a4c(0x200,0x400,_0x40a537(0x363)),_0x1536b6=_0x4e3a4c(0x400,0x400,_0x40a537(0x281));return{'conv_0':_0x45db8f,'conv_1':_0x210435,'conv_2':_0x2af23e,'conv_3':_0x5891df,'conv_4':_0x4325a8,'conv_5':_0x1d87af,'conv_6':_0x25647a,'conv_7':_0x3eeb99,'conv_8':_0x5222a0,'conv_9':_0x5e5c10,'conv_10':_0x3bf045,'conv_11':_0x47ff56,'conv_12':_0x2e5498,'conv_13':_0x1536b6};}function _0x30282b(){const _0x514550=_0xae3a,_0x3cd3f3=_0x5f32b8(0x400,0x100,0x1,_0x514550(0x286)),_0x49505f=_0x5f32b8(0x100,0x200,0x3,_0x514550(0x2ad)),_0x5efc90=_0x5f32b8(0x200,0x80,0x1,'prediction_layer/conv_2'),_0x116358=_0x5f32b8(0x80,0x100,0x3,_0x514550(0x15b)),_0x11d2f5=_0x5f32b8(0x100,0x80,0x1,_0x514550(0x152)),_0x1262db=_0x5f32b8(0x80,0x100,0x3,_0x514550(0x22f)),_0x47eb0d=_0x5f32b8(0x100,0x40,0x1,_0x514550(0x2de)),_0x36a0d3=_0x5f32b8(0x40,0x80,0x3,_0x514550(0x32c)),_0x3226ef=_0x53ffec(0x200,0xc,0x1,_0x514550(0x265)),_0x17704a=_0x53ffec(0x200,0x9,0x1,'prediction_layer/box_predictor_0/class_predictor'),_0xa6925c=_0x53ffec(0x400,0x18,0x1,_0x514550(0x1cf)),_0x369167=_0x53ffec(0x400,0x12,0x1,_0x514550(0x18a)),_0x17e6ec=_0x53ffec(0x200,0x18,0x1,_0x514550(0x235)),_0x11bf10=_0x53ffec(0x200,0x12,0x1,_0x514550(0x360)),_0x2e6d2e=_0x53ffec(0x100,0x18,0x1,'prediction_layer/box_predictor_3/box_encoding_predictor'),_0x497164=_0x53ffec(0x100,0x12,0x1,_0x514550(0x2d2)),_0x2de779=_0x53ffec(0x100,0x18,0x1,_0x514550(0xf8)),_0x1ddb21=_0x53ffec(0x100,0x12,0x1,'prediction_layer/box_predictor_4/class_predictor'),_0x45be76=_0x53ffec(0x80,0x18,0x1,_0x514550(0x196)),_0x4f2117=_0x53ffec(0x80,0x12,0x1,_0x514550(0x1f0)),_0x39e3d7={'box_encoding_predictor':_0x3226ef,'class_predictor':_0x17704a},_0x2d25bc={'box_encoding_predictor':_0xa6925c,'class_predictor':_0x369167},_0x536ffb={'box_encoding_predictor':_0x17e6ec,'class_predictor':_0x11bf10},_0x236b4f={'box_encoding_predictor':_0x2e6d2e,'class_predictor':_0x497164},_0x1aca4f={'box_encoding_predictor':_0x2de779,'class_predictor':_0x1ddb21},_0x5923a5={'box_encoding_predictor':_0x45be76,'class_predictor':_0x4f2117};return{'conv_0':_0x3cd3f3,'conv_1':_0x49505f,'conv_2':_0x5efc90,'conv_3':_0x116358,'conv_4':_0x11d2f5,'conv_5':_0x1262db,'conv_6':_0x47eb0d,'conv_7':_0x36a0d3,'box_predictor_0':_0x39e3d7,'box_predictor_1':_0x2d25bc,'box_predictor_2':_0x536ffb,'box_predictor_3':_0x236b4f,'box_predictor_4':_0x1aca4f,'box_predictor_5':_0x5923a5};}return{'extractMobilenetV1Params':_0x1df910,'extractPredictionLayerParams':_0x30282b};}function extractParams6(_0x34467c){const _0x421c52=_0x3be095,_0x252e06=[],{extractWeights:_0xc40d45,getRemainingWeights:_0x4ee51e}=extractWeightsFactory(_0x34467c),{extractMobilenetV1Params:_0x3ea900,extractPredictionLayerParams:_0x4b18df}=extractorsFactory5(_0xc40d45,_0x252e06),_0x59e7fe=_0x3ea900(),_0x20acd7=_0x4b18df(),_0x3bcc2a=tf28[_0x421c52(0x184)](_0xc40d45(0x13fe*0x4),[0x1,0x13fe,0x4]),_0xa7bd68={'extra_dim':_0x3bcc2a};_0x252e06[_0x421c52(0x2ac)]({'paramPath':'output_layer/extra_dim'});if(_0x4ee51e()[_0x421c52(0x249)]!==0x0)throw new Error(_0x421c52(0x1c2)+_0x4ee51e()['length']);return{'params':{'mobilenetv1':_0x59e7fe,'prediction_layer':_0x20acd7,'output_layer':_0xa7bd68},'paramMappings':_0x252e06};}function extractorsFactory6(_0x304d4a,_0x34429c){const _0x1b2adb=extractWeightEntryFactory(_0x304d4a,_0x34429c);function _0x46bb6a(_0x5610e0,_0x2d631b,_0x3ae9b0){const _0x2a1674=_0xae3a,_0x5beb14=_0x1b2adb(_0x5610e0+_0x2a1674(0x23c)+_0x2d631b+_0x2a1674(0x2ff),0x4,_0x3ae9b0+_0x2a1674(0xf9)),_0x5ad856=_0x1b2adb(_0x5610e0+_0x2a1674(0x23c)+_0x2d631b+_0x2a1674(0x1ce),0x1,_0x3ae9b0+_0x2a1674(0x1bd));return{'filters':_0x5beb14,'batch_norm_offset':_0x5ad856};}function _0x32a970(_0x4bfe5c){const _0x5bbaa9=_0xae3a,_0x2f7787=_0x5bbaa9(0x212)+_0x4bfe5c,_0xd4d05b=_0x5bbaa9(0x305)+_0x4bfe5c+_0x5bbaa9(0x22c),_0x528975=_0x2f7787+_0x5bbaa9(0xf1),_0x88ca60=_0x2f7787+_0x5bbaa9(0x1dd),_0x1809c2=_0x1b2adb(_0xd4d05b+_0x5bbaa9(0x21b),0x4,_0x528975+_0x5bbaa9(0xf9)),_0x51575e=_0x1b2adb(_0xd4d05b+_0x5bbaa9(0x231),0x1,_0x528975+_0x5bbaa9(0x297)),_0x141468=_0x1b2adb(_0xd4d05b+'/BatchNorm/beta',0x1,_0x528975+_0x5bbaa9(0x1bd)),_0x330a57=_0x1b2adb(_0xd4d05b+_0x5bbaa9(0x36d),0x1,_0x528975+'/batch_norm_mean'),_0xb44524=_0x1b2adb(_0xd4d05b+'/BatchNorm/moving_variance',0x1,_0x528975+'/batch_norm_variance');return{'depthwise_conv':{'filters':_0x1809c2,'batch_norm_scale':_0x51575e,'batch_norm_offset':_0x141468,'batch_norm_mean':_0x330a57,'batch_norm_variance':_0xb44524},'pointwise_conv':_0x46bb6a(_0x5bbaa9(0x18f),_0x4bfe5c,_0x88ca60)};}function _0x2e165f(){const _0x28971f=_0xae3a;return{'conv_0':_0x46bb6a('MobilenetV1',0x0,_0x28971f(0x356)),'conv_1':_0x32a970(0x1),'conv_2':_0x32a970(0x2),'conv_3':_0x32a970(0x3),'conv_4':_0x32a970(0x4),'conv_5':_0x32a970(0x5),'conv_6':_0x32a970(0x6),'conv_7':_0x32a970(0x7),'conv_8':_0x32a970(0x8),'conv_9':_0x32a970(0x9),'conv_10':_0x32a970(0xa),'conv_11':_0x32a970(0xb),'conv_12':_0x32a970(0xc),'conv_13':_0x32a970(0xd)};}function _0x48c9de(_0x11ab75,_0xd5545d){const _0x3ae052=_0xae3a,_0x1fb2c5=_0x1b2adb(_0x11ab75+_0x3ae052(0x337),0x4,_0xd5545d+_0x3ae052(0xf9)),_0x52b1e5=_0x1b2adb(_0x11ab75+_0x3ae052(0x1ba),0x1,_0xd5545d+_0x3ae052(0x29a));return{'filters':_0x1fb2c5,'bias':_0x52b1e5};}function _0x1d3f73(_0x583d4c){const _0x5e519a=_0xae3a,_0x268105=_0x48c9de(_0x5e519a(0x30d)+_0x583d4c+_0x5e519a(0x2ee),_0x5e519a(0x167)+_0x583d4c+_0x5e519a(0x377)),_0x360a7d=_0x48c9de(_0x5e519a(0x30d)+_0x583d4c+'/ClassPredictor','prediction_layer/box_predictor_'+_0x583d4c+_0x5e519a(0x10a));return{'box_encoding_predictor':_0x268105,'class_predictor':_0x360a7d};}function _0x539b6b(){const _0x5cb92f=_0xae3a;return{'conv_0':_0x46bb6a(_0x5cb92f(0x2bc),0x0,'prediction_layer/conv_0'),'conv_1':_0x46bb6a(_0x5cb92f(0x2bc),0x1,_0x5cb92f(0x2ad)),'conv_2':_0x46bb6a('Prediction',0x2,_0x5cb92f(0x1de)),'conv_3':_0x46bb6a(_0x5cb92f(0x2bc),0x3,_0x5cb92f(0x15b)),'conv_4':_0x46bb6a('Prediction',0x4,_0x5cb92f(0x152)),'conv_5':_0x46bb6a(_0x5cb92f(0x2bc),0x5,_0x5cb92f(0x22f)),'conv_6':_0x46bb6a(_0x5cb92f(0x2bc),0x6,_0x5cb92f(0x2de)),'conv_7':_0x46bb6a(_0x5cb92f(0x2bc),0x7,_0x5cb92f(0x32c)),'box_predictor_0':_0x1d3f73(0x0),'box_predictor_1':_0x1d3f73(0x1),'box_predictor_2':_0x1d3f73(0x2),'box_predictor_3':_0x1d3f73(0x3),'box_predictor_4':_0x1d3f73(0x4),'box_predictor_5':_0x1d3f73(0x5)};}return{'extractMobilenetV1Params':_0x2e165f,'extractPredictionLayerParams':_0x539b6b};}function extractParamsFromWeightMap6(_0x467264){const _0x1f6650=_0x3be095,_0x429379=[],{extractMobilenetV1Params:_0xa31a87,extractPredictionLayerParams:_0x132db0}=extractorsFactory6(_0x467264,_0x429379),_0x16a30a=_0x467264['Output/extra_dim'];_0x429379[_0x1f6650(0x2ac)]({'originalPath':_0x1f6650(0x11c),'paramPath':_0x1f6650(0x1c3)});if(!isTensor3D(_0x16a30a))throw new Error(_0x1f6650(0x2f1)+_0x16a30a);const _0xadc533={'mobilenetv1':_0xa31a87(),'prediction_layer':_0x132db0(),'output_layer':{'extra_dim':_0x16a30a}};return disposeUnusedWeightTensors(_0x467264,_0x429379),{'params':_0xadc533,'paramMappings':_0x429379};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x12de49,_0x1f54ad,_0x5626fd){const _0x4404fd=_0x3be095;return tf29[_0x4404fd(0x12e)](()=>{const _0x369216=_0x4404fd;let _0x9f6f91=tf29['conv2d'](_0x12de49,_0x1f54ad[_0x369216(0x11b)],_0x5626fd,_0x369216(0x10e));return _0x9f6f91=tf29[_0x369216(0x2d3)](_0x9f6f91,_0x1f54ad[_0x369216(0x309)]),tf29['clipByValue'](_0x9f6f91,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0xd21950,_0x13347f,_0x47d869){const _0xe18bf=_0x3be095;return tf30[_0xe18bf(0x12e)](()=>{const _0x2c44a5=_0xe18bf;let _0x3dcc02=tf30[_0x2c44a5(0x2df)](_0xd21950,_0x13347f[_0x2c44a5(0x11b)],_0x47d869,_0x2c44a5(0x10e));return _0x3dcc02=tf30['batchNorm'](_0x3dcc02,_0x13347f[_0x2c44a5(0xe8)],_0x13347f[_0x2c44a5(0x247)],_0x13347f['batch_norm_offset'],_0x13347f[_0x2c44a5(0x257)],epsilon),tf30[_0x2c44a5(0x2a6)](_0x3dcc02,0x0,0x6);});}function getStridesForLayerIdx(_0x4b7a28){const _0x275501=_0x3be095;return[0x2,0x4,0x6,0xc][_0x275501(0x187)](_0x4f95ca=>_0x4f95ca===_0x4b7a28)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x56142c,_0x266c5b){const _0xe30139=_0x3be095;return tf30[_0xe30139(0x12e)](()=>{const _0x2196c2=_0xe30139;let _0x27ed4b,_0x2a1b79=pointwiseConvLayer(_0x56142c,_0x266c5b[_0x2196c2(0x316)],[0x2,0x2]);const _0x2968ee=[_0x266c5b[_0x2196c2(0x2db)],_0x266c5b[_0x2196c2(0x1c4)],_0x266c5b[_0x2196c2(0x24e)],_0x266c5b['conv_4'],_0x266c5b[_0x2196c2(0x24d)],_0x266c5b[_0x2196c2(0x2ae)],_0x266c5b[_0x2196c2(0x1fa)],_0x266c5b['conv_8'],_0x266c5b[_0x2196c2(0x141)],_0x266c5b[_0x2196c2(0x1db)],_0x266c5b['conv_11'],_0x266c5b[_0x2196c2(0x19e)],_0x266c5b[_0x2196c2(0x267)]];_0x2968ee[_0x2196c2(0x1ea)]((_0x2be532,_0x274cdf)=>{const _0x4d4a06=_0x2196c2,_0x23c747=_0x274cdf+0x1,_0x10be7d=getStridesForLayerIdx(_0x23c747);_0x2a1b79=depthwiseConvLayer(_0x2a1b79,_0x2be532[_0x4d4a06(0x209)],_0x10be7d),_0x2a1b79=pointwiseConvLayer(_0x2a1b79,_0x2be532[_0x4d4a06(0x2c0)],[0x1,0x1]);if(_0x23c747===0xb)_0x27ed4b=_0x2a1b79;});if(_0x27ed4b===null)throw new Error('mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null');return{'out':_0x2a1b79,'conv11':_0x27ed4b};});}function IOU(_0x497339,_0x531d9c,_0x2fabea){const _0x51f31e=_0x3be095,_0x169b7a=_0x497339['arraySync'](),_0x56dd8f=Math[_0x51f31e(0x246)](_0x169b7a[_0x531d9c][0x0],_0x169b7a[_0x531d9c][0x2]),_0x71d619=Math['min'](_0x169b7a[_0x531d9c][0x1],_0x169b7a[_0x531d9c][0x3]),_0x577168=Math[_0x51f31e(0xeb)](_0x169b7a[_0x531d9c][0x0],_0x169b7a[_0x531d9c][0x2]),_0x584924=Math[_0x51f31e(0xeb)](_0x169b7a[_0x531d9c][0x1],_0x169b7a[_0x531d9c][0x3]),_0x39fe17=Math[_0x51f31e(0x246)](_0x169b7a[_0x2fabea][0x0],_0x169b7a[_0x2fabea][0x2]),_0xbfa7ac=Math['min'](_0x169b7a[_0x2fabea][0x1],_0x169b7a[_0x2fabea][0x3]),_0xa535f9=Math['max'](_0x169b7a[_0x2fabea][0x0],_0x169b7a[_0x2fabea][0x2]),_0x212e97=Math[_0x51f31e(0xeb)](_0x169b7a[_0x2fabea][0x1],_0x169b7a[_0x2fabea][0x3]),_0xbd1ce9=(_0x577168-_0x56dd8f)*(_0x584924-_0x71d619),_0x282172=(_0xa535f9-_0x39fe17)*(_0x212e97-_0xbfa7ac);if(_0xbd1ce9<=0x0||_0x282172<=0x0)return 0x0;const _0x228e82=Math[_0x51f31e(0xeb)](_0x56dd8f,_0x39fe17),_0x556d5e=Math['max'](_0x71d619,_0xbfa7ac),_0x2095c8=Math['min'](_0x577168,_0xa535f9),_0x3de5b7=Math[_0x51f31e(0x246)](_0x584924,_0x212e97),_0x4e5879=Math[_0x51f31e(0xeb)](_0x2095c8-_0x228e82,0x0)*Math[_0x51f31e(0xeb)](_0x3de5b7-_0x556d5e,0x0);return _0x4e5879/(_0xbd1ce9+_0x282172-_0x4e5879);}function nonMaxSuppression2(_0x9d1e10,_0x21ec6a,_0x5c849b,_0xe264ca,_0x5bc0e9){const _0x3512b7=_0x3be095,_0x1c1f58=_0x9d1e10[_0x3512b7(0x126)][0x0],_0x4215fb=Math[_0x3512b7(0x246)](_0x5c849b,_0x1c1f58),_0x4ac4d5=_0x21ec6a[_0x3512b7(0x1fc)]((_0x5e9b74,_0x56296f)=>({'score':_0x5e9b74,'boxIndex':_0x56296f}))[_0x3512b7(0x1a2)](_0x39904b=>_0x39904b[_0x3512b7(0x27d)]>_0x5bc0e9)[_0x3512b7(0x11a)]((_0x2b75e1,_0x4f3432)=>_0x4f3432[_0x3512b7(0x27d)]-_0x2b75e1[_0x3512b7(0x27d)]),_0x8c6354=_0x1a9cb3=>_0x1a9cb3<=_0xe264ca?0x1:0x0,_0x238ef1=[];return _0x4ac4d5[_0x3512b7(0x1ea)](_0x4dca01=>{const _0x599094=_0x3512b7;if(_0x238ef1['length']>=_0x4215fb)return;const _0x2b4276=_0x4dca01[_0x599094(0x27d)];for(let _0x5a69b0=_0x238ef1[_0x599094(0x249)]-0x1;_0x5a69b0>=0x0;--_0x5a69b0){const _0x3b1b17=IOU(_0x9d1e10,_0x4dca01['boxIndex'],_0x238ef1[_0x5a69b0]);if(_0x3b1b17===0x0)continue;_0x4dca01[_0x599094(0x27d)]*=_0x8c6354(_0x3b1b17);if(_0x4dca01[_0x599094(0x27d)]<=_0x5bc0e9)break;}_0x2b4276===_0x4dca01[_0x599094(0x27d)]&&_0x238ef1['push'](_0x4dca01[_0x599094(0x2dd)]);}),_0x238ef1;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x3efaee){const _0x57f8a9=_0x3be095,_0x93a2ff=tf31[_0x57f8a9(0x35a)](tf31['transpose'](_0x3efaee,[0x1,0x0])),_0x2dbd07=[tf31['sub'](_0x93a2ff[0x2],_0x93a2ff[0x0]),tf31[_0x57f8a9(0x2dc)](_0x93a2ff[0x3],_0x93a2ff[0x1])],_0x1476f0=[tf31[_0x57f8a9(0x2d3)](_0x93a2ff[0x0],tf31[_0x57f8a9(0x1f9)](_0x2dbd07[0x0],0x2)),tf31[_0x57f8a9(0x2d3)](_0x93a2ff[0x1],tf31[_0x57f8a9(0x1f9)](_0x2dbd07[0x1],0x2))];return{'sizes':_0x2dbd07,'centers':_0x1476f0};}function decodeBoxesLayer(_0x348617,_0x234b38){const _0x4b27b2=_0x3be095,{sizes:_0x2deaff,centers:_0x49f32c}=getCenterCoordinatesAndSizesLayer(_0x348617),_0x4d9af3=tf31[_0x4b27b2(0x35a)](tf31[_0x4b27b2(0x12a)](_0x234b38,[0x1,0x0])),_0x3ead07=tf31[_0x4b27b2(0x1f9)](tf31[_0x4b27b2(0x156)](tf31['exp'](tf31['div'](_0x4d9af3[0x2],0x5)),_0x2deaff[0x0]),0x2),_0x23b6ab=tf31[_0x4b27b2(0x2d3)](tf31[_0x4b27b2(0x156)](tf31[_0x4b27b2(0x1f9)](_0x4d9af3[0x0],0xa),_0x2deaff[0x0]),_0x49f32c[0x0]),_0x326bd7=tf31[_0x4b27b2(0x1f9)](tf31['mul'](tf31[_0x4b27b2(0x2fe)](tf31['div'](_0x4d9af3[0x3],0x5)),_0x2deaff[0x1]),0x2),_0x36dfbc=tf31['add'](tf31[_0x4b27b2(0x156)](tf31[_0x4b27b2(0x1f9)](_0x4d9af3[0x1],0xa),_0x2deaff[0x1]),_0x49f32c[0x1]);return tf31[_0x4b27b2(0x12a)](tf31['stack']([tf31[_0x4b27b2(0x2dc)](_0x23b6ab,_0x3ead07),tf31[_0x4b27b2(0x2dc)](_0x36dfbc,_0x326bd7),tf31[_0x4b27b2(0x2d3)](_0x23b6ab,_0x3ead07),tf31[_0x4b27b2(0x2d3)](_0x36dfbc,_0x326bd7)]),[0x1,0x0]);}function outputLayer(_0x4f6ef7,_0x369546,_0xb8b9f2){const _0x3c687b=_0x3be095;return tf31[_0x3c687b(0x12e)](()=>{const _0x5514a4=_0x3c687b,_0x55d054=_0x4f6ef7[_0x5514a4(0x126)][0x0];let _0x1a5fd9=decodeBoxesLayer(tf31[_0x5514a4(0x361)](tf31[_0x5514a4(0x15f)](_0xb8b9f2['extra_dim'],[_0x55d054,0x1,0x1]),[-0x1,0x4]),tf31[_0x5514a4(0x361)](_0x4f6ef7,[-0x1,0x4]));_0x1a5fd9=tf31[_0x5514a4(0x361)](_0x1a5fd9,[_0x55d054,_0x1a5fd9['shape'][0x0]/_0x55d054,0x4]);const _0x685bd=tf31[_0x5514a4(0x1b0)](tf31['slice'](_0x369546,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x57c691=tf31[_0x5514a4(0x162)](_0x685bd,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x57c691=tf31[_0x5514a4(0x361)](_0x57c691,[_0x55d054,_0x57c691[_0x5514a4(0x126)][0x1]]);const _0x4b7026=tf31[_0x5514a4(0x35a)](_0x1a5fd9),_0x20b94b=tf31[_0x5514a4(0x35a)](_0x57c691);return{'boxes':_0x4b7026,'scores':_0x20b94b};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x99b6d1,_0x299899){const _0x4c68b4=_0x3be095;return tf32[_0x4c68b4(0x12e)](()=>{const _0x15764b=_0x4c68b4,_0x15b7b0=_0x99b6d1[_0x15764b(0x126)][0x0],_0x10764f=tf32['reshape'](convLayer(_0x99b6d1,_0x299899[_0x15764b(0x2b1)]),[_0x15b7b0,-0x1,0x1,0x4]),_0x16319c=tf32['reshape'](convLayer(_0x99b6d1,_0x299899[_0x15764b(0x2e0)]),[_0x15b7b0,-0x1,0x3]);return{'boxPredictionEncoding':_0x10764f,'classPrediction':_0x16319c};});}function predictionLayer(_0x1870ba,_0x21cb17,_0x4598ea){const _0x5b81da=_0x3be095;return tf33[_0x5b81da(0x12e)](()=>{const _0x4e97f1=_0x5b81da,_0x3928d0=pointwiseConvLayer(_0x1870ba,_0x4598ea[_0x4e97f1(0x316)],[0x1,0x1]),_0x23ea97=pointwiseConvLayer(_0x3928d0,_0x4598ea['conv_1'],[0x2,0x2]),_0x2d8e89=pointwiseConvLayer(_0x23ea97,_0x4598ea[_0x4e97f1(0x1c4)],[0x1,0x1]),_0x1078c5=pointwiseConvLayer(_0x2d8e89,_0x4598ea[_0x4e97f1(0x24e)],[0x2,0x2]),_0x1f6acd=pointwiseConvLayer(_0x1078c5,_0x4598ea[_0x4e97f1(0x1dc)],[0x1,0x1]),_0xf738f3=pointwiseConvLayer(_0x1f6acd,_0x4598ea[_0x4e97f1(0x24d)],[0x2,0x2]),_0x59eeb6=pointwiseConvLayer(_0xf738f3,_0x4598ea[_0x4e97f1(0x2ae)],[0x1,0x1]),_0x1d1e75=pointwiseConvLayer(_0x59eeb6,_0x4598ea['conv_7'],[0x2,0x2]),_0x1c3eb0=boxPredictionLayer(_0x21cb17,_0x4598ea[_0x4e97f1(0x1e7)]),_0x1da26c=boxPredictionLayer(_0x1870ba,_0x4598ea[_0x4e97f1(0x241)]),_0x2de6f6=boxPredictionLayer(_0x23ea97,_0x4598ea['box_predictor_2']),_0x1da6f6=boxPredictionLayer(_0x1078c5,_0x4598ea[_0x4e97f1(0x14c)]),_0x5e81f2=boxPredictionLayer(_0xf738f3,_0x4598ea[_0x4e97f1(0x198)]),_0x4d58a5=boxPredictionLayer(_0x1d1e75,_0x4598ea[_0x4e97f1(0x1ab)]),_0x3bd695=tf33[_0x4e97f1(0x24c)]([_0x1c3eb0[_0x4e97f1(0x233)],_0x1da26c[_0x4e97f1(0x233)],_0x2de6f6[_0x4e97f1(0x233)],_0x1da6f6[_0x4e97f1(0x233)],_0x5e81f2[_0x4e97f1(0x233)],_0x4d58a5[_0x4e97f1(0x233)]],0x1),_0x1cb300=tf33[_0x4e97f1(0x24c)]([_0x1c3eb0['classPrediction'],_0x1da26c[_0x4e97f1(0x229)],_0x2de6f6[_0x4e97f1(0x229)],_0x1da6f6[_0x4e97f1(0x229)],_0x5e81f2[_0x4e97f1(0x229)],_0x4d58a5[_0x4e97f1(0x229)]],0x1);return{'boxPredictions':_0x3bd695,'classPredictions':_0x1cb300};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x54ae45,maxResults:_0x441fb2}={}){const _0x40d09a=_0x3be095;this[_0x40d09a(0x217)]=_0x40d09a(0x1e0),this[_0x40d09a(0x28a)]=_0x54ae45||0.5,this[_0x40d09a(0x304)]=_0x441fb2||0x64;if(typeof this[_0x40d09a(0x28a)]!==_0x40d09a(0x133)||this['_minConfidence']<=0x0||this[_0x40d09a(0x28a)]>=0x1)throw new Error(this['_name']+_0x40d09a(0x1b3));if(typeof this[_0x40d09a(0x304)]!==_0x40d09a(0x133))throw new Error(this['_name']+_0x40d09a(0x2b9));}get[_0x3be095(0x2d8)](){const _0x232848=_0x3be095;return this[_0x232848(0x28a)];}get[_0x3be095(0x1fd)](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){const _0x1a4531=_0x3be095;super(_0x1a4531(0x254));}[_0x3be095(0x307)](_0x7c8ebe){const _0x5df11e=_0x3be095,{params:_0xee2aa5}=this;if(!_0xee2aa5)throw new Error(_0x5df11e(0x158));return tf34[_0x5df11e(0x12e)](()=>{const _0x2ec885=_0x5df11e,_0x489283=tf34[_0x2ec885(0x1fe)](_0x7c8ebe[_0x2ec885(0x168)](0x200,![]),_0x2ec885(0xf7)),_0x5c9290=tf34[_0x2ec885(0x2dc)](tf34['div'](_0x489283,127.5),0x1),_0x17bb86=mobileNetV1(_0x5c9290,_0xee2aa5['mobilenetv1']),{boxPredictions:_0xaea0c3,classPredictions:_0x1b3756}=predictionLayer(_0x17bb86[_0x2ec885(0x21f)],_0x17bb86[_0x2ec885(0x1f8)],_0xee2aa5[_0x2ec885(0x366)]);return outputLayer(_0xaea0c3,_0x1b3756,_0xee2aa5[_0x2ec885(0x111)]);});}async['forward'](_0x5e78de){return this['forwardInput'](await toNetInput(_0x5e78de));}async[_0x3be095(0x20f)](_0x45f40b,_0x10bc36={}){const _0x1a32bb=_0x3be095,{maxResults:_0x88bfd0,minConfidence:_0x2182b0}=new SsdMobilenetv1Options(_0x10bc36),_0x2690a3=await toNetInput(_0x45f40b),{boxes:_0x3f8d18,scores:_0x28707b}=this[_0x1a32bb(0x307)](_0x2690a3),_0x1772b9=_0x3f8d18[0x0],_0x4126ee=_0x28707b[0x0];for(let _0xa7cdab=0x1;_0xa7cdab<_0x3f8d18['length'];_0xa7cdab++){_0x3f8d18[_0xa7cdab][_0x1a32bb(0xf4)](),_0x28707b[_0xa7cdab]['dispose']();}const _0x3b7bf7=Array[_0x1a32bb(0x1aa)](_0x4126ee[_0x1a32bb(0x306)]()),_0x48a1d0=0.5,_0x472db1=nonMaxSuppression2(_0x1772b9,_0x3b7bf7,_0x88bfd0,_0x48a1d0,_0x2182b0),_0xfcd7aa=_0x2690a3[_0x1a32bb(0x19c)](0x0),_0x123c14=_0x2690a3[_0x1a32bb(0x25e)],_0x415905=_0x123c14/_0xfcd7aa[_0x1a32bb(0x1bb)],_0x384ecf=_0x123c14/_0xfcd7aa['height'],_0x3ec0c5=_0x1772b9[_0x1a32bb(0x2f9)](),_0x7340fd=_0x472db1[_0x1a32bb(0x1fc)](_0x409bdd=>{const _0x456f21=_0x1a32bb,[_0x31ec17,_0xf6044]=[Math[_0x456f21(0xeb)](0x0,_0x3ec0c5[_0x409bdd][0x0]),Math[_0x456f21(0x246)](0x1,_0x3ec0c5[_0x409bdd][0x2])][_0x456f21(0x1fc)](_0x23ced4=>_0x23ced4*_0x384ecf),[_0x371730,_0x24ff8c]=[Math[_0x456f21(0xeb)](0x0,_0x3ec0c5[_0x409bdd][0x1]),Math[_0x456f21(0x246)](0x1,_0x3ec0c5[_0x409bdd][0x3])][_0x456f21(0x1fc)](_0x194632=>_0x194632*_0x415905);return new FaceDetection(_0x3b7bf7[_0x409bdd],new Rect(_0x371730,_0x31ec17,_0x24ff8c-_0x371730,_0xf6044-_0x31ec17),{'height':_0x2690a3[_0x456f21(0x1d6)](0x0),'width':_0x2690a3[_0x456f21(0x15d)](0x0)});});return _0x1772b9[_0x1a32bb(0xf4)](),_0x4126ee['dispose'](),_0x7340fd;}[_0x3be095(0x13c)](){const _0x1becd0=_0x3be095;return _0x1becd0(0x1d0);}['extractParamsFromWeightMap'](_0x352ef8){return extractParamsFromWeightMap6(_0x352ef8);}[_0x3be095(0x21c)](_0x1a1f1b){return extractParams6(_0x1a1f1b);}};function createSsdMobilenetv1(_0x10d019){const _0x444d27=_0x3be095,_0x1c5a94=new SsdMobilenetv1();return _0x1c5a94[_0x444d27(0x2b4)](_0x10d019),_0x1c5a94;}function createFaceDetectionNet(_0x3d3b9c){return createSsdMobilenetv1(_0x3d3b9c);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME='tiny_yolov2_model',DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x3be095(0x176),tf39=__toESM(require_tfjs_esm()),isNumber=_0x1b2d25=>typeof _0x1b2d25===_0x3be095(0x133);function validateConfig(_0x82d126){const _0x34bc6b=_0x3be095;if(!_0x82d126)throw new Error('invalid\x20config:\x20'+_0x82d126);if(typeof _0x82d126[_0x34bc6b(0x105)]!==_0x34bc6b(0x2e6))throw new Error(_0x34bc6b(0x271)+_0x82d126[_0x34bc6b(0x105)]);if(!isNumber(_0x82d126[_0x34bc6b(0x255)])||_0x82d126[_0x34bc6b(0x255)]<0x0||_0x82d126[_0x34bc6b(0x255)]>0x1)throw new Error(_0x34bc6b(0x31a)+_0x82d126[_0x34bc6b(0x255)]);if(!Array['isArray'](_0x82d126[_0x34bc6b(0x36c)])||!_0x82d126[_0x34bc6b(0x36c)]['length']||!_0x82d126[_0x34bc6b(0x36c)][_0x34bc6b(0x259)](_0x373d42=>typeof _0x373d42===_0x34bc6b(0x1b8)))throw new Error('config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20'+JSON[_0x34bc6b(0x226)](_0x82d126[_0x34bc6b(0x36c)]));if(!Array[_0x34bc6b(0x1c9)](_0x82d126['anchors'])||!_0x82d126[_0x34bc6b(0x1b9)]['length']||!_0x82d126[_0x34bc6b(0x1b9)][_0x34bc6b(0x1fc)](_0x38a103=>_0x38a103||{})[_0x34bc6b(0x259)](_0x23679b=>isNumber(_0x23679b['x'])&&isNumber(_0x23679b['y'])))throw new Error('config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20'+JSON['stringify'](_0x82d126['anchors']));if(_0x82d126[_0x34bc6b(0x123)]&&(!Array[_0x34bc6b(0x1c9)](_0x82d126[_0x34bc6b(0x123)])||_0x82d126[_0x34bc6b(0x123)][_0x34bc6b(0x249)]!==0x3||!_0x82d126[_0x34bc6b(0x123)][_0x34bc6b(0x259)](isNumber)))throw new Error(_0x34bc6b(0x1cc)+JSON[_0x34bc6b(0x226)](_0x82d126[_0x34bc6b(0x123)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x3ce7fa){const _0x3af9e3=_0x3be095;return tf35[_0x3af9e3(0x12e)](()=>{const _0x95d8da=_0x3af9e3,_0xa11907=tf35[_0x95d8da(0x156)](_0x3ce7fa,tf35[_0x95d8da(0x275)](0.10000000149011612));return tf35[_0x95d8da(0x2d3)](tf35[_0x95d8da(0x346)](tf35[_0x95d8da(0x2dc)](_0x3ce7fa,_0xa11907)),_0xa11907);});}function convWithBatchNorm(_0xb999ba,_0x3b3902){return tf36['tidy'](()=>{const _0x1174a2=_0xae3a;let _0x16af86=tf36[_0x1174a2(0x240)](_0xb999ba,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x16af86=tf36[_0x1174a2(0x2ed)](_0x16af86,_0x3b3902['conv'][_0x1174a2(0x11b)],[0x1,0x1],_0x1174a2(0x2cf)),_0x16af86=tf36[_0x1174a2(0x2dc)](_0x16af86,_0x3b3902['bn'][_0x1174a2(0x2dc)]),_0x16af86=tf36['mul'](_0x16af86,_0x3b3902['bn']['truediv']),_0x16af86=tf36[_0x1174a2(0x2d3)](_0x16af86,_0x3b3902[_0x1174a2(0x29f)][_0x1174a2(0xfb)]),leaky(_0x16af86);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0xda4ac0,_0x30066f){const _0x48d753=_0x3be095;return tf37[_0x48d753(0x12e)](()=>{const _0x3221c7=_0x48d753;let _0x5d0e34=tf37[_0x3221c7(0x240)](_0xda4ac0,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x5d0e34=tf37[_0x3221c7(0x2b3)](_0x5d0e34,_0x30066f[_0x3221c7(0x18e)],_0x30066f['pointwise_filter'],[0x1,0x1],_0x3221c7(0x2cf)),_0x5d0e34=tf37[_0x3221c7(0x2d3)](_0x5d0e34,_0x30066f[_0x3221c7(0xfb)]),leaky(_0x5d0e34);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0xf85151,_0x5ef6a8){const _0x3e2740=extractConvParamsFactory(_0xf85151,_0x5ef6a8);function _0x5a7dec(_0x47d23e,_0x4d2440){const _0x20d7f6=_0xae3a,_0x429834=tf38[_0x20d7f6(0x1c7)](_0xf85151(_0x47d23e)),_0x49af16=tf38[_0x20d7f6(0x1c7)](_0xf85151(_0x47d23e));return _0x5ef6a8[_0x20d7f6(0x2ac)]({'paramPath':_0x4d2440+_0x20d7f6(0x12b)},{'paramPath':_0x4d2440+_0x20d7f6(0x24a)}),{'sub':_0x429834,'truediv':_0x49af16};}function _0x375aec(_0x2d31c8,_0x44b9f3,_0x558953){const _0x2454c8=_0xae3a,_0x1234eb=_0x3e2740(_0x2d31c8,_0x44b9f3,0x3,_0x558953+_0x2454c8(0x28d)),_0x2f8fcd=_0x5a7dec(_0x44b9f3,_0x558953+_0x2454c8(0x2f0));return{'conv':_0x1234eb,'bn':_0x2f8fcd};}const _0x37911a=extractSeparableConvParamsFactory(_0xf85151,_0x5ef6a8);return{'extractConvParams':_0x3e2740,'extractConvWithBatchNormParams':_0x375aec,'extractSeparableConvParams':_0x37911a};}function extractParams7(_0x5bd757,_0x3e0f1f,_0x55f40e,_0x1d4fc6){const _0x24846a=_0x3be095,{extractWeights:_0x25d1cc,getRemainingWeights:_0x2c62ec}=extractWeightsFactory(_0x5bd757),_0x2b7a4b=[],{extractConvParams:_0x475ec1,extractConvWithBatchNormParams:_0x512ecd,extractSeparableConvParams:_0x38ac25}=extractorsFactory7(_0x25d1cc,_0x2b7a4b);let _0x478a28;if(_0x3e0f1f[_0x24846a(0x105)]){const [_0x7dbe22,_0x14b1e4,_0x2d9f40,_0x38fb2e,_0x1f4531,_0x306403,_0x5618da,_0x3109bb,_0x7bbee2]=_0x1d4fc6,_0x3149f0=_0x3e0f1f['isFirstLayerConv2d']?_0x475ec1(_0x7dbe22,_0x14b1e4,0x3,_0x24846a(0x1c6)):_0x38ac25(_0x7dbe22,_0x14b1e4,_0x24846a(0x1c6)),_0x3e9793=_0x38ac25(_0x14b1e4,_0x2d9f40,_0x24846a(0x190)),_0xa6dee6=_0x38ac25(_0x2d9f40,_0x38fb2e,_0x24846a(0x178)),_0x5b99aa=_0x38ac25(_0x38fb2e,_0x1f4531,'conv3'),_0x374842=_0x38ac25(_0x1f4531,_0x306403,'conv4'),_0x4c67d0=_0x38ac25(_0x306403,_0x5618da,_0x24846a(0x302)),_0x3bc11e=_0x3109bb?_0x38ac25(_0x5618da,_0x3109bb,_0x24846a(0x13f)):void 0x0,_0x637e18=_0x7bbee2?_0x38ac25(_0x3109bb,_0x7bbee2,_0x24846a(0x28f)):void 0x0,_0x2d9f44=_0x475ec1(_0x7bbee2||_0x3109bb||_0x5618da,0x5*_0x55f40e,0x1,_0x24846a(0x2c6));_0x478a28={'conv0':_0x3149f0,'conv1':_0x3e9793,'conv2':_0xa6dee6,'conv3':_0x5b99aa,'conv4':_0x374842,'conv5':_0x4c67d0,'conv6':_0x3bc11e,'conv7':_0x637e18,'conv8':_0x2d9f44};}else{const [_0x1c2fbf,_0x5b7114,_0x5553ff,_0x529e7b,_0x32c5d3,_0x36e7c2,_0x4444db,_0x5e4162,_0x1c3018]=_0x1d4fc6,_0x5d573a=_0x512ecd(_0x1c2fbf,_0x5b7114,_0x24846a(0x1c6)),_0x177603=_0x512ecd(_0x5b7114,_0x5553ff,_0x24846a(0x190)),_0xdf09d8=_0x512ecd(_0x5553ff,_0x529e7b,'conv2'),_0x148d2a=_0x512ecd(_0x529e7b,_0x32c5d3,_0x24846a(0x1a8)),_0x57ef89=_0x512ecd(_0x32c5d3,_0x36e7c2,_0x24846a(0x354)),_0x3b92dc=_0x512ecd(_0x36e7c2,_0x4444db,_0x24846a(0x302)),_0x25884b=_0x512ecd(_0x4444db,_0x5e4162,'conv6'),_0x59cfad=_0x512ecd(_0x5e4162,_0x1c3018,_0x24846a(0x28f)),_0x2a986c=_0x475ec1(_0x1c3018,0x5*_0x55f40e,0x1,_0x24846a(0x2c6));_0x478a28={'conv0':_0x5d573a,'conv1':_0x177603,'conv2':_0xdf09d8,'conv3':_0x148d2a,'conv4':_0x57ef89,'conv5':_0x3b92dc,'conv6':_0x25884b,'conv7':_0x59cfad,'conv8':_0x2a986c};}if(_0x2c62ec()['length']!==0x0)throw new Error(_0x24846a(0x1c2)+_0x2c62ec()[_0x24846a(0x249)]);return{'params':_0x478a28,'paramMappings':_0x2b7a4b};}function extractorsFactory8(_0x360849,_0x2562d6){const _0x219e5b=extractWeightEntryFactory(_0x360849,_0x2562d6);function _0x2dd2e5(_0xeb8b85){const _0xc44dd5=_0xae3a,_0x4762d0=_0x219e5b(_0xeb8b85+_0xc44dd5(0x12b),0x1),_0xa7735c=_0x219e5b(_0xeb8b85+_0xc44dd5(0x24a),0x1);return{'sub':_0x4762d0,'truediv':_0xa7735c};}function _0x10472e(_0x29ebae){const _0x4d932b=_0x219e5b(_0x29ebae+'/filters',0x4),_0x6efe4b=_0x219e5b(_0x29ebae+'/bias',0x1);return{'filters':_0x4d932b,'bias':_0x6efe4b};}function _0x19a45f(_0x424254){const _0x12c6f1=_0x10472e(_0x424254+'/conv'),_0x2c35fa=_0x2dd2e5(_0x424254+'/bn');return{'conv':_0x12c6f1,'bn':_0x2c35fa};}const _0x57373b=loadSeparableConvParamsFactory(_0x219e5b);return{'extractConvParams':_0x10472e,'extractConvWithBatchNormParams':_0x19a45f,'extractSeparableConvParams':_0x57373b};}function extractParamsFromWeightMap7(_0x568470,_0x3ba77d){const _0x372a30=_0x3be095,_0x39a7c1=[],{extractConvParams:_0x15adc0,extractConvWithBatchNormParams:_0x2be427,extractSeparableConvParams:_0x546d8d}=extractorsFactory8(_0x568470,_0x39a7c1);let _0x522e9d;if(_0x3ba77d['withSeparableConvs']){const _0x199354=_0x3ba77d[_0x372a30(0x248)]&&_0x3ba77d[_0x372a30(0x248)][_0x372a30(0x249)]||0x9;_0x522e9d={'conv0':_0x3ba77d[_0x372a30(0x236)]?_0x15adc0(_0x372a30(0x1c6)):_0x546d8d(_0x372a30(0x1c6)),'conv1':_0x546d8d(_0x372a30(0x190)),'conv2':_0x546d8d(_0x372a30(0x178)),'conv3':_0x546d8d(_0x372a30(0x1a8)),'conv4':_0x546d8d(_0x372a30(0x354)),'conv5':_0x546d8d(_0x372a30(0x302)),'conv6':_0x199354>0x7?_0x546d8d(_0x372a30(0x13f)):void 0x0,'conv7':_0x199354>0x8?_0x546d8d('conv7'):void 0x0,'conv8':_0x15adc0(_0x372a30(0x2c6))};}else _0x522e9d={'conv0':_0x2be427(_0x372a30(0x1c6)),'conv1':_0x2be427(_0x372a30(0x190)),'conv2':_0x2be427(_0x372a30(0x178)),'conv3':_0x2be427('conv3'),'conv4':_0x2be427(_0x372a30(0x354)),'conv5':_0x2be427('conv5'),'conv6':_0x2be427(_0x372a30(0x13f)),'conv7':_0x2be427(_0x372a30(0x28f)),'conv8':_0x15adc0(_0x372a30(0x2c6))};return disposeUnusedWeightTensors(_0x568470,_0x39a7c1),{'params':_0x522e9d,'paramMappings':_0x39a7c1};}var TinyYolov2Options=class{constructor({inputSize:_0x1dfbd3,scoreThreshold:_0x51da4d}={}){const _0x2258ef=_0x3be095;this[_0x2258ef(0x217)]=_0x2258ef(0x36a),this[_0x2258ef(0x129)]=_0x1dfbd3||0x1a0,this[_0x2258ef(0x1a3)]=_0x51da4d||0.5;if(typeof this[_0x2258ef(0x129)]!==_0x2258ef(0x133)||this[_0x2258ef(0x129)]%0x20!==0x0)throw new Error(this[_0x2258ef(0x217)]+_0x2258ef(0x2f2));if(typeof this[_0x2258ef(0x1a3)]!==_0x2258ef(0x133)||this[_0x2258ef(0x1a3)]<=0x0||this[_0x2258ef(0x1a3)]>=0x1)throw new Error(this[_0x2258ef(0x217)]+_0x2258ef(0x104));}get['inputSize'](){const _0x27710d=_0x3be095;return this[_0x27710d(0x129)];}get[_0x3be095(0xea)](){const _0x3d10ad=_0x3be095;return this[_0x3d10ad(0x1a3)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x360b86){const _0x3591f4=_0x3be095;super(_0x3591f4(0x160)),validateConfig(_0x360b86),this['_config']=_0x360b86;}get[_0x3be095(0x289)](){const _0x528440=_0x3be095;return this[_0x528440(0xee)];}get[_0x3be095(0x19a)](){const _0x5bc8e8=_0x3be095;return this['config'][_0x5bc8e8(0x19a)]||this['config'][_0x5bc8e8(0x36c)][_0x5bc8e8(0x249)]>0x1;}get[_0x3be095(0x14f)](){const _0x118f95=_0x3be095;return 0x5+(this[_0x118f95(0x19a)]?this[_0x118f95(0x289)]['classes'][_0x118f95(0x249)]:0x0);}[_0x3be095(0x21a)](_0x4ec6ad,_0x5c9c94){const _0x179fa4=_0x3be095;let _0x4e0b4c=convWithBatchNorm(_0x4ec6ad,_0x5c9c94['conv0']);return _0x4e0b4c=tf39[_0x179fa4(0x117)](_0x4e0b4c,[0x2,0x2],[0x2,0x2],'same'),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x190)]),_0x4e0b4c=tf39[_0x179fa4(0x117)](_0x4e0b4c,[0x2,0x2],[0x2,0x2],_0x179fa4(0x10e)),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x178)]),_0x4e0b4c=tf39[_0x179fa4(0x117)](_0x4e0b4c,[0x2,0x2],[0x2,0x2],_0x179fa4(0x10e)),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x1a8)]),_0x4e0b4c=tf39['maxPool'](_0x4e0b4c,[0x2,0x2],[0x2,0x2],_0x179fa4(0x10e)),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x354)]),_0x4e0b4c=tf39[_0x179fa4(0x117)](_0x4e0b4c,[0x2,0x2],[0x2,0x2],_0x179fa4(0x10e)),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x302)]),_0x4e0b4c=tf39[_0x179fa4(0x117)](_0x4e0b4c,[0x2,0x2],[0x1,0x1],_0x179fa4(0x10e)),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x13f)]),_0x4e0b4c=convWithBatchNorm(_0x4e0b4c,_0x5c9c94[_0x179fa4(0x28f)]),convLayer(_0x4e0b4c,_0x5c9c94['conv8'],_0x179fa4(0x2cf),![]);}[_0x3be095(0x22b)](_0xef16a,_0x134ad2){const _0x55ed97=_0x3be095;let _0x54a72a=this[_0x55ed97(0x289)][_0x55ed97(0x236)]?leaky(convLayer(_0xef16a,_0x134ad2['conv0'],'valid',![])):depthwiseSeparableConv2(_0xef16a,_0x134ad2[_0x55ed97(0x1c6)]);return _0x54a72a=tf39[_0x55ed97(0x117)](_0x54a72a,[0x2,0x2],[0x2,0x2],_0x55ed97(0x10e)),_0x54a72a=depthwiseSeparableConv2(_0x54a72a,_0x134ad2[_0x55ed97(0x190)]),_0x54a72a=tf39['maxPool'](_0x54a72a,[0x2,0x2],[0x2,0x2],_0x55ed97(0x10e)),_0x54a72a=depthwiseSeparableConv2(_0x54a72a,_0x134ad2[_0x55ed97(0x178)]),_0x54a72a=tf39[_0x55ed97(0x117)](_0x54a72a,[0x2,0x2],[0x2,0x2],_0x55ed97(0x10e)),_0x54a72a=depthwiseSeparableConv2(_0x54a72a,_0x134ad2['conv3']),_0x54a72a=tf39[_0x55ed97(0x117)](_0x54a72a,[0x2,0x2],[0x2,0x2],'same'),_0x54a72a=depthwiseSeparableConv2(_0x54a72a,_0x134ad2[_0x55ed97(0x354)]),_0x54a72a=tf39[_0x55ed97(0x117)](_0x54a72a,[0x2,0x2],[0x2,0x2],_0x55ed97(0x10e)),_0x54a72a=depthwiseSeparableConv2(_0x54a72a,_0x134ad2[_0x55ed97(0x302)]),_0x54a72a=tf39['maxPool'](_0x54a72a,[0x2,0x2],[0x1,0x1],_0x55ed97(0x10e)),_0x54a72a=_0x134ad2[_0x55ed97(0x13f)]?depthwiseSeparableConv2(_0x54a72a,_0x134ad2['conv6']):_0x54a72a,_0x54a72a=_0x134ad2[_0x55ed97(0x28f)]?depthwiseSeparableConv2(_0x54a72a,_0x134ad2['conv7']):_0x54a72a,convLayer(_0x54a72a,_0x134ad2[_0x55ed97(0x2c6)],'valid',![]);}[_0x3be095(0x307)](_0x3d9934,_0x28d8d8){const _0xe8c326=_0x3be095,{params:_0xf3cd9a}=this;if(!_0xf3cd9a)throw new Error(_0xe8c326(0x256));return tf39[_0xe8c326(0x12e)](()=>{const _0x19ecd5=_0xe8c326;let _0x402e01=tf39[_0x19ecd5(0x1fe)](_0x3d9934[_0x19ecd5(0x168)](_0x28d8d8,![]),'float32');return _0x402e01=this['config'][_0x19ecd5(0x123)]?normalize(_0x402e01,this[_0x19ecd5(0x289)]['meanRgb']):_0x402e01,_0x402e01=_0x402e01[_0x19ecd5(0x1f9)](0xff),this['config'][_0x19ecd5(0x105)]?this[_0x19ecd5(0x22b)](_0x402e01,_0xf3cd9a):this[_0x19ecd5(0x21a)](_0x402e01,_0xf3cd9a);});}async['forward'](_0x5cf04b,_0x5f2c90){const _0x2152b3=_0x3be095;return this[_0x2152b3(0x307)](await toNetInput(_0x5cf04b),_0x5f2c90);}async[_0x3be095(0x32f)](_0x29c4e9,_0xdb9894={}){const _0x1a8027=_0x3be095,{inputSize:_0x2914a7,scoreThreshold:_0x1803f5}=new TinyYolov2Options(_0xdb9894),_0x2c0909=await toNetInput(_0x29c4e9),_0xf5fd75=await this[_0x1a8027(0x307)](_0x2c0909,_0x2914a7),_0xd06cc1=tf39[_0x1a8027(0x12e)](()=>tf39['unstack'](_0xf5fd75)[0x0][_0x1a8027(0x200)]()),_0x14a4e2={'width':_0x2c0909[_0x1a8027(0x15d)](0x0),'height':_0x2c0909[_0x1a8027(0x1d6)](0x0)},_0x4491a2=await this[_0x1a8027(0x1e1)](_0xd06cc1,_0x2c0909['getReshapedInputDimensions'](0x0),_0x1803f5);_0xf5fd75[_0x1a8027(0xf4)](),_0xd06cc1[_0x1a8027(0xf4)]();const _0x598713=_0x4491a2[_0x1a8027(0x1fc)](_0xd5c320=>_0xd5c320[_0x1a8027(0x331)]),_0xd1648d=_0x4491a2['map'](_0x494040=>_0x494040[_0x1a8027(0x27d)]),_0x55d2ca=_0x4491a2['map'](_0x508012=>_0x508012['classScore']),_0x111829=_0x4491a2[_0x1a8027(0x1fc)](_0x396b2a=>this['config'][_0x1a8027(0x36c)][_0x396b2a[_0x1a8027(0x10c)]]),_0x4491fe=nonMaxSuppression(_0x598713[_0x1a8027(0x1fc)](_0x13fac1=>_0x13fac1['rescale'](_0x2914a7)),_0xd1648d,this[_0x1a8027(0x289)][_0x1a8027(0x255)],!![]),_0x550a0d=_0x4491fe[_0x1a8027(0x1fc)](_0x47eecc=>new ObjectDetection(_0xd1648d[_0x47eecc],_0x55d2ca[_0x47eecc],_0x111829[_0x47eecc],_0x598713[_0x47eecc],_0x14a4e2));return _0x550a0d;}[_0x3be095(0x13c)](){return'';}[_0x3be095(0x277)](_0x1ddc76){return extractParamsFromWeightMap7(_0x1ddc76,this['config']);}[_0x3be095(0x21c)](_0x57a578){const _0x347a1f=_0x3be095,_0x4d2fba=this[_0x347a1f(0x289)][_0x347a1f(0x248)]||_TinyYolov2Base[_0x347a1f(0x1c1)],_0x49be18=_0x4d2fba?_0x4d2fba[_0x347a1f(0x249)]:void 0x0;if(_0x49be18!==0x7&&_0x49be18!==0x8&&_0x49be18!==0x9)throw new Error(_0x347a1f(0x333)+_0x49be18+_0x347a1f(0x17a));return extractParams7(_0x57a578,this[_0x347a1f(0x289)],this[_0x347a1f(0x14f)],_0x4d2fba);}async['extractBoxes'](_0x43d27f,_0x1fc680,_0x588cf0){const _0x3a2fcb=_0x3be095,{width:_0x193dcd,height:_0x5abec5}=_0x1fc680,_0x81d0e0=Math[_0x3a2fcb(0xeb)](_0x193dcd,_0x5abec5),_0x11d858=_0x81d0e0/_0x193dcd,_0xa56cb6=_0x81d0e0/_0x5abec5,_0x4d26c2=_0x43d27f[_0x3a2fcb(0x126)][0x1],_0x21ba2d=this[_0x3a2fcb(0x289)][_0x3a2fcb(0x1b9)]['length'],[_0x3a6fed,_0x459315,_0x489015]=tf39[_0x3a2fcb(0x12e)](()=>{const _0x58bcbe=_0x3a2fcb,_0x1f8f0f=_0x43d27f[_0x58bcbe(0x361)]([_0x4d26c2,_0x4d26c2,_0x21ba2d,this['boxEncodingSize']]),_0x78f326=_0x1f8f0f[_0x58bcbe(0x162)]([0x0,0x0,0x0,0x0],[_0x4d26c2,_0x4d26c2,_0x21ba2d,0x4]),_0x44dc0c=_0x1f8f0f[_0x58bcbe(0x162)]([0x0,0x0,0x0,0x4],[_0x4d26c2,_0x4d26c2,_0x21ba2d,0x1]),_0x419de0=this[_0x58bcbe(0x19a)]?tf39[_0x58bcbe(0x228)](_0x1f8f0f[_0x58bcbe(0x162)]([0x0,0x0,0x0,0x5],[_0x4d26c2,_0x4d26c2,_0x21ba2d,this['config'][_0x58bcbe(0x36c)][_0x58bcbe(0x249)]]),0x3):tf39[_0x58bcbe(0x275)](0x0);return[_0x78f326,_0x44dc0c,_0x419de0];}),_0x55cf14=[],_0x56781d=await _0x459315[_0x3a2fcb(0x1e5)](),_0x3d5cfc=await _0x3a6fed['array']();for(let _0x3822aa=0x0;_0x3822aa<_0x4d26c2;_0x3822aa++){for(let _0x4e1ec8=0x0;_0x4e1ec8<_0x4d26c2;_0x4e1ec8++){for(let _0x14209d=0x0;_0x14209d<_0x21ba2d;_0x14209d++){const _0x1d999d=sigmoid(_0x56781d[_0x3822aa][_0x4e1ec8][_0x14209d][0x0]);if(!_0x588cf0||_0x1d999d>_0x588cf0){const _0x8db348=(_0x4e1ec8+sigmoid(_0x3d5cfc[_0x3822aa][_0x4e1ec8][_0x14209d][0x0]))/_0x4d26c2*_0x11d858,_0x3fcef9=(_0x3822aa+sigmoid(_0x3d5cfc[_0x3822aa][_0x4e1ec8][_0x14209d][0x1]))/_0x4d26c2*_0xa56cb6,_0x39790d=Math[_0x3a2fcb(0x2fe)](_0x3d5cfc[_0x3822aa][_0x4e1ec8][_0x14209d][0x2])*this[_0x3a2fcb(0x289)][_0x3a2fcb(0x1b9)][_0x14209d]['x']/_0x4d26c2*_0x11d858,_0x29869c=Math[_0x3a2fcb(0x2fe)](_0x3d5cfc[_0x3822aa][_0x4e1ec8][_0x14209d][0x3])*this[_0x3a2fcb(0x289)]['anchors'][_0x14209d]['y']/_0x4d26c2*_0xa56cb6,_0x376662=_0x8db348-_0x39790d/0x2,_0x4227cc=_0x3fcef9-_0x29869c/0x2,_0x534496={'row':_0x3822aa,'col':_0x4e1ec8,'anchor':_0x14209d},{classScore:_0x5d01d3,label:_0x557ba7}=this[_0x3a2fcb(0x19a)]?await this['extractPredictedClass'](_0x489015,_0x534496):{'classScore':0x1,'label':0x0};_0x55cf14[_0x3a2fcb(0x2ac)]({'box':new BoundingBox(_0x376662,_0x4227cc,_0x376662+_0x39790d,_0x4227cc+_0x29869c),'score':_0x1d999d,'classScore':_0x1d999d*_0x5d01d3,'label':_0x557ba7,..._0x534496});}}}}return _0x3a6fed[_0x3a2fcb(0xf4)](),_0x459315[_0x3a2fcb(0xf4)](),_0x489015[_0x3a2fcb(0xf4)](),_0x55cf14;}async[_0x3be095(0x35b)](_0x77927,_0x1d8ae5){const _0x28b00d=_0x3be095,{row:_0x4e3f2d,col:_0x40122d,anchor:_0x54fb27}=_0x1d8ae5,_0x41d3ee=await _0x77927[_0x28b00d(0x1e5)]();return Array(this[_0x28b00d(0x289)]['classes'][_0x28b00d(0x249)])[_0x28b00d(0x1b4)](0x0)[_0x28b00d(0x1fc)]((_0x225948,_0xaf8953)=>_0x41d3ee[_0x4e3f2d][_0x40122d][_0x54fb27][_0xaf8953])[_0x28b00d(0x1fc)]((_0x149bea,_0x3ec769)=>({'classScore':_0x149bea,'label':_0x3ec769}))[_0x28b00d(0x378)]((_0x42fbd8,_0xf9381e)=>_0x42fbd8['classScore']>_0xf9381e[_0x28b00d(0x373)]?_0x42fbd8:_0xf9381e);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base[_0x3be095(0x1c1)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x40b69d=!![]){const _0x7d397e={'withSeparableConvs':_0x40b69d,'iouThreshold':IOU_THRESHOLD,'classes':['face'],..._0x40b69d?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x7d397e);}get[_0x3be095(0x105)](){const _0x10d2ba=_0x3be095;return this['config'][_0x10d2ba(0x105)];}get[_0x3be095(0x1b9)](){const _0x18f57e=_0x3be095;return this[_0x18f57e(0x289)][_0x18f57e(0x1b9)];}async[_0x3be095(0x20f)](_0x508d71,_0x4eb11e){const _0x142bb5=_0x3be095,_0x48e3c1=await this[_0x142bb5(0x32f)](_0x508d71,_0x4eb11e);return _0x48e3c1[_0x142bb5(0x1fc)](_0x4d3981=>new FaceDetection(_0x4d3981['score'],_0x4d3981[_0x142bb5(0x245)],{'width':_0x4d3981['imageWidth'],'height':_0x4d3981[_0x142bb5(0x294)]}));}[_0x3be095(0x13c)](){const _0x3738c3=_0x3be095;return this[_0x3738c3(0x105)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x3be095(0x277)](_0x27cbca){const _0x3881b1=_0x3be095;return super[_0x3881b1(0x277)](_0x27cbca);}};function createTinyYolov2(_0xf23c9f,_0xe89f4b=!![]){const _0x915ec8=_0x3be095,_0x40dc1e=new TinyYolov2(_0xe89f4b);return _0x40dc1e[_0x915ec8(0x2b4)](_0xf23c9f),_0x40dc1e;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x345bab=_0x3be095;super(...arguments),this[_0x345bab(0x217)]=_0x345bab(0x2e3);}},ComposableTask=class{async[_0x3be095(0x26a)](_0x33f036){return _0x33f036(await this['run']());}async[_0x3be095(0x1fb)](){const _0x152016=_0x3be095;throw new Error(_0x152016(0x207));}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x581f69,_0x32ae29,_0x295aad,_0x1d0660,_0x131b00=({alignedRect:_0x2e585d})=>_0x2e585d){const _0x6536bc=_0x3be095,_0x1ff850=_0x581f69[_0x6536bc(0x1fc)](_0x38ff93=>isWithFaceLandmarks(_0x38ff93)?_0x131b00(_0x38ff93):_0x38ff93[_0x6536bc(0x2ec)]),_0x2e5e95=_0x1d0660||(_0x32ae29 instanceof tf40[_0x6536bc(0x2ce)]?await extractFaceTensors(_0x32ae29,_0x1ff850):await extractFaces(_0x32ae29,_0x1ff850)),_0x20b807=await _0x295aad(_0x2e5e95);return _0x2e5e95[_0x6536bc(0x1ea)](_0x462d0c=>_0x462d0c instanceof tf40['Tensor']&&_0x462d0c[_0x6536bc(0xf4)]()),_0x20b807;}async function extractSingleFaceAndComputeResult(_0x365b27,_0x349d63,_0x2e478d,_0x114bd2,_0x4d36d6){return extractAllFacesAndComputeResults([_0x365b27],_0x349d63,async _0x396e81=>_0x2e478d(_0x396e81[0x0]),_0x114bd2,_0x4d36d6);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x449634=_0x3be095,_0x4c04a9={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':[_0x449634(0x36f)],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x4c04a9);}get['anchors'](){const _0x481f5c=_0x3be095;return this[_0x481f5c(0x289)][_0x481f5c(0x1b9)];}async[_0x3be095(0x20f)](_0x4925b4,_0x27fe16){const _0x3e05d6=_0x3be095,_0x1011e1=await this['detect'](_0x4925b4,_0x27fe16);return _0x1011e1[_0x3e05d6(0x1fc)](_0x402656=>new FaceDetection(_0x402656[_0x3e05d6(0x27d)],_0x402656[_0x3e05d6(0x245)],{'width':_0x402656[_0x3e05d6(0x35e)],'height':_0x402656[_0x3e05d6(0x294)]}));}[_0x3be095(0x13c)](){const _0xa2e3bd=_0x3be095;return _0xa2e3bd(0x27a);}['extractParamsFromWeightMap'](_0x1eeaaa){return super['extractParamsFromWeightMap'](_0x1eeaaa);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x3cc22a,_0x2cc328)=>nets[_0x3be095(0x107)]['locateFaces'](_0x3cc22a,_0x2cc328),tinyFaceDetector=(_0x552e0a,_0x2431fc)=>nets[_0x3be095(0x14e)]['locateFaces'](_0x552e0a,_0x2431fc),tinyYolov2=(_0x4dbcef,_0x2620c6)=>nets[_0x3be095(0x2d5)][_0x3be095(0x20f)](_0x4dbcef,_0x2620c6),detectFaceLandmarks=_0x4a83e4=>nets[_0x3be095(0x143)][_0x3be095(0xec)](_0x4a83e4),detectFaceLandmarksTiny=_0x41aabd=>nets[_0x3be095(0x121)][_0x3be095(0xec)](_0x41aabd),computeFaceDescriptor=_0x252114=>nets[_0x3be095(0x211)][_0x3be095(0x1ff)](_0x252114),recognizeFaceExpressions=_0x28f562=>nets[_0x3be095(0x21e)][_0x3be095(0x161)](_0x28f562),predictAgeAndGender=_0x3d8f60=>nets[_0x3be095(0x101)][_0x3be095(0x135)](_0x3d8f60),loadSsdMobilenetv1Model=_0x2a1219=>nets[_0x3be095(0x107)][_0x3be095(0x33b)](_0x2a1219),loadTinyFaceDetectorModel=_0xad03d6=>nets[_0x3be095(0x14e)][_0x3be095(0x33b)](_0xad03d6),loadTinyYolov2Model=_0x38c62d=>nets[_0x3be095(0x2d5)][_0x3be095(0x33b)](_0x38c62d),loadFaceLandmarkModel=_0x3cafbe=>nets['faceLandmark68Net'][_0x3be095(0x33b)](_0x3cafbe),loadFaceLandmarkTinyModel=_0x80994e=>nets['faceLandmark68TinyNet']['load'](_0x80994e),loadFaceRecognitionModel=_0x1fcbc1=>nets['faceRecognitionNet'][_0x3be095(0x33b)](_0x1fcbc1),loadFaceExpressionModel=_0x499112=>nets[_0x3be095(0x21e)]['load'](_0x499112),loadAgeGenderModel=_0x4536c0=>nets[_0x3be095(0x101)][_0x3be095(0x33b)](_0x4536c0),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x46ee0a,_0x40cc73,_0x350989){const _0xec45b=_0x3be095;super(),this[_0xec45b(0x284)]=_0x46ee0a,this[_0xec45b(0x1bc)]=_0x40cc73,this['extractedFaces']=_0x350989;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x3be095(0x1fb)](){const _0x2ab97d=_0x3be095,_0x58cb26=await this[_0x2ab97d(0x284)],_0x20ed93=await extractAllFacesAndComputeResults(_0x58cb26,this['input'],async _0x3bf3e5=>Promise['all'](_0x3bf3e5[_0x2ab97d(0x1fc)](_0x5d2fac=>nets[_0x2ab97d(0x21e)]['predictExpressions'](_0x5d2fac))),this['extractedFaces']);return _0x58cb26[_0x2ab97d(0x1fc)]((_0x30fcc0,_0x2aff52)=>extendWithFaceExpressions(_0x30fcc0,_0x20ed93[_0x2aff52]));}[_0x3be095(0x28b)](){const _0x2623f5=_0x3be095;return new PredictAllAgeAndGenderTask(this,this[_0x2623f5(0x1bc)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x3be095(0x1fb)](){const _0x173358=_0x3be095,_0x53c417=await this['parentTask'];if(!_0x53c417)return void 0x0;const _0x7b5caa=await extractSingleFaceAndComputeResult(_0x53c417,this['input'],_0x367b6a=>nets[_0x173358(0x21e)][_0x173358(0x161)](_0x367b6a),this[_0x173358(0x329)]);return extendWithFaceExpressions(_0x53c417,_0x7b5caa);}[_0x3be095(0x28b)](){const _0x21ad29=_0x3be095;return new PredictSingleAgeAndGenderTask(this,this[_0x21ad29(0x1bc)]);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{[_0x3be095(0x28b)](){const _0x9d18bd=_0x3be095;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x9d18bd(0x1bc)]);}[_0x3be095(0x2eb)](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x3be095(0x28b)](){const _0x92c798=_0x3be095;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x92c798(0x1bc)]);}['withFaceDescriptor'](){const _0x7f2928=_0x3be095;return new ComputeSingleFaceDescriptorTask(this,this[_0x7f2928(0x1bc)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x7c78a9,_0x22da97,_0x278dee){const _0x2e0350=_0x3be095;super(),this[_0x2e0350(0x284)]=_0x7c78a9,this['input']=_0x22da97,this['extractedFaces']=_0x278dee;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x3be095(0x1fb)](){const _0x324729=_0x3be095,_0x49246f=await this['parentTask'],_0x5b1ebe=await extractAllFacesAndComputeResults(_0x49246f,this[_0x324729(0x1bc)],async _0x4589cd=>Promise[_0x324729(0x2a9)](_0x4589cd['map'](_0x1eaaf7=>nets['ageGenderNet'][_0x324729(0x135)](_0x1eaaf7))),this[_0x324729(0x329)]);return _0x49246f[_0x324729(0x1fc)]((_0x56977e,_0x582f52)=>{const {age:_0x5e9f78,gender:_0x1d9a73,genderProbability:_0x5bbbe4}=_0x5b1ebe[_0x582f52];return extendWithAge(extendWithGender(_0x56977e,_0x1d9a73,_0x5bbbe4),_0x5e9f78);});}[_0x3be095(0x17f)](){const _0x31d515=_0x3be095;return new PredictAllFaceExpressionsTask(this,this[_0x31d515(0x1bc)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async['run'](){const _0x3e224f=_0x3be095,_0x4cf48c=await this[_0x3e224f(0x284)];if(!_0x4cf48c)return void 0x0;const {age:_0x4ae382,gender:_0x38571f,genderProbability:_0x1297f3}=await extractSingleFaceAndComputeResult(_0x4cf48c,this[_0x3e224f(0x1bc)],_0x5eeb7c=>nets[_0x3e224f(0x101)][_0x3e224f(0x135)](_0x5eeb7c),this[_0x3e224f(0x329)]);return extendWithAge(extendWithGender(_0x4cf48c,_0x38571f,_0x1297f3),_0x4ae382);}[_0x3be095(0x17f)](){const _0x2c6325=_0x3be095;return new PredictSingleFaceExpressionsTask(this,this[_0x2c6325(0x1bc)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{['withFaceExpressions'](){const _0x471837=_0x3be095;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x471837(0x1bc)]);}[_0x3be095(0x2eb)](){const _0x68f182=_0x3be095;return new ComputeAllFaceDescriptorsTask(this,this[_0x68f182(0x1bc)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{[_0x3be095(0x17f)](){const _0xb21bcd=_0x3be095;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0xb21bcd(0x1bc)]);}[_0x3be095(0x2d7)](){const _0x55d966=_0x3be095;return new ComputeSingleFaceDescriptorTask(this,this[_0x55d966(0x1bc)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x287989,_0x5b7279){const _0x18b639=_0x3be095;super(),this[_0x18b639(0x284)]=_0x287989,this['input']=_0x5b7279;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x3be095(0x1fb)](){const _0x3ed5b7=_0x3be095,_0x267479=await this[_0x3ed5b7(0x284)],_0x4d921b=await extractAllFacesAndComputeResults(_0x267479,this['input'],_0x4c1f92=>Promise[_0x3ed5b7(0x2a9)](_0x4c1f92[_0x3ed5b7(0x1fc)](_0x1e352e=>nets[_0x3ed5b7(0x211)][_0x3ed5b7(0x1ff)](_0x1e352e))),null,_0x1fb2ec=>_0x1fb2ec[_0x3ed5b7(0x110)][_0x3ed5b7(0x2ab)](null,{'useDlibAlignment':!![]}));return _0x4d921b[_0x3ed5b7(0x1fc)]((_0x40741f,_0x46d166)=>extendWithFaceDescriptor(_0x267479[_0x46d166],_0x40741f));}[_0x3be095(0x17f)](){const _0x4071cb=_0x3be095;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x4071cb(0x1bc)]);}['withAgeAndGender'](){const _0x5e5e9d=_0x3be095;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x5e5e9d(0x1bc)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async['run'](){const _0x457107=_0x3be095,_0x340d3c=await this[_0x457107(0x284)];if(!_0x340d3c)return void 0x0;const _0x267ddf=await extractSingleFaceAndComputeResult(_0x340d3c,this['input'],_0x3d2b1d=>nets['faceRecognitionNet']['computeFaceDescriptor'](_0x3d2b1d),null,_0x2b6fa7=>_0x2b6fa7['landmarks'][_0x457107(0x2ab)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x340d3c,_0x267ddf);}[_0x3be095(0x17f)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}['withAgeAndGender'](){const _0x5d58a3=_0x3be095;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x5d58a3(0x1bc)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x3be063,_0x3a16c9,_0x5c3898){const _0x143475=_0x3be095;super(),this[_0x143475(0x284)]=_0x3be063,this[_0x143475(0x1bc)]=_0x3a16c9,this[_0x143475(0x1c0)]=_0x5c3898;}get['landmarkNet'](){const _0x50cf81=_0x3be095;return this['useTinyLandmarkNet']?nets['faceLandmark68TinyNet']:nets[_0x50cf81(0x143)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x3be095(0x1fb)](){const _0x205d24=_0x3be095,_0x2f16cd=await this[_0x205d24(0x284)],_0x1d5363=_0x2f16cd[_0x205d24(0x1fc)](_0x12a9c9=>_0x12a9c9[_0x205d24(0x2ec)]),_0x55b7bf=this['input']instanceof tf41['Tensor']?await extractFaceTensors(this[_0x205d24(0x1bc)],_0x1d5363):await extractFaces(this[_0x205d24(0x1bc)],_0x1d5363),_0x53cbaa=await Promise[_0x205d24(0x2a9)](_0x55b7bf[_0x205d24(0x1fc)](_0x5b7a07=>this['landmarkNet'][_0x205d24(0xec)](_0x5b7a07)));_0x55b7bf[_0x205d24(0x1ea)](_0x206aa9=>_0x206aa9 instanceof tf41[_0x205d24(0x2ce)]&&_0x206aa9[_0x205d24(0xf4)]());const _0x5487d1=_0x2f16cd[_0x205d24(0x1a2)]((_0x3c34a4,_0x552b4a)=>_0x53cbaa[_0x552b4a])[_0x205d24(0x1fc)]((_0x248dc0,_0x57fa92)=>extendWithFaceLandmarks(_0x248dc0,_0x53cbaa[_0x57fa92]));return _0x5487d1;}[_0x3be095(0x17f)](){const _0x496143=_0x3be095;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x496143(0x1bc)]);}['withAgeAndGender'](){const _0x55d1ac=_0x3be095;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x55d1ac(0x1bc)]);}[_0x3be095(0x2eb)](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x3be095(0x1fb)](){const _0x1c43be=_0x3be095,_0x34065b=await this[_0x1c43be(0x284)];if(!_0x34065b)return void 0x0;const {detection:_0x2c8daa}=_0x34065b,_0x2e048e=this['input']instanceof tf41[_0x1c43be(0x2ce)]?await extractFaceTensors(this['input'],[_0x2c8daa]):await extractFaces(this['input'],[_0x2c8daa]),_0x1c591c=await this[_0x1c43be(0x118)][_0x1c43be(0xec)](_0x2e048e[0x0]);return _0x2e048e[_0x1c43be(0x1ea)](_0x4a1f6a=>_0x4a1f6a instanceof tf41['Tensor']&&_0x4a1f6a['dispose']()),extendWithFaceLandmarks(_0x34065b,_0x1c591c);}[_0x3be095(0x17f)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x3be095(0x28b)](){const _0x25f3f5=_0x3be095;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x25f3f5(0x1bc)]);}[_0x3be095(0x2d7)](){const _0x5dcfc6=_0x3be095;return new ComputeSingleFaceDescriptorTask(this,this[_0x5dcfc6(0x1bc)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x329d47,_0x4cfaa5=new SsdMobilenetv1Options()){const _0x5e214b=_0x3be095;super(),this[_0x5e214b(0x1bc)]=_0x329d47,this['options']=_0x4cfaa5;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x3be095(0x1fb)](){const _0x1fa356=_0x3be095,{input:_0x535236,options:_0x2880fb}=this;let _0x14974c;if(_0x2880fb instanceof TinyFaceDetectorOptions)_0x14974c=nets[_0x1fa356(0x14e)][_0x1fa356(0x20f)](_0x535236,_0x2880fb);else{if(_0x2880fb instanceof SsdMobilenetv1Options)_0x14974c=nets[_0x1fa356(0x107)][_0x1fa356(0x20f)](_0x535236,_0x2880fb);else{if(_0x2880fb instanceof TinyYolov2Options)_0x14974c=nets[_0x1fa356(0x2d5)][_0x1fa356(0x20f)](_0x535236,_0x2880fb);else throw new Error(_0x1fa356(0x147));}}return _0x14974c;}[_0x3be095(0x280)](){return new Promise((_0x355db6,_0x1eebb3)=>{const _0x3e61a8=_0xae3a;this[_0x3e61a8(0x1fb)]()[_0x3e61a8(0x26a)](_0x2b6bbc=>_0x355db6(_0x2b6bbc[_0x3e61a8(0x1fc)](_0x39b607=>extendWithFaceDetection({},_0x39b607))))[_0x3e61a8(0x1ee)](_0x83b71c=>_0x1eebb3(_0x83b71c));});}['withFaceLandmarks'](_0x249ec6=![]){const _0x6fde06=_0x3be095;return new DetectAllFaceLandmarksTask(this[_0x6fde06(0x280)](),this['input'],_0x249ec6);}[_0x3be095(0x17f)](){const _0x3b235a=_0x3be095;return new PredictAllFaceExpressionsTask(this[_0x3b235a(0x280)](),this[_0x3b235a(0x1bc)]);}['withAgeAndGender'](){const _0x151d87=_0x3be095;return new PredictAllAgeAndGenderTask(this[_0x151d87(0x280)](),this[_0x151d87(0x1bc)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x3be095(0x1fb)](){const _0x3cfb7d=_0x3be095,_0x2e9903=await new DetectAllFacesTask(this[_0x3cfb7d(0x1bc)],this[_0x3cfb7d(0x32b)]);let _0x252124=_0x2e9903[0x0];return _0x2e9903[_0x3cfb7d(0x1ea)](_0x277d0a=>{const _0x114dfa=_0x3cfb7d;if(_0x277d0a[_0x114dfa(0x27d)]>_0x252124[_0x114dfa(0x27d)])_0x252124=_0x277d0a;}),_0x252124;}['runAndExtendWithFaceDetection'](){return new Promise(async _0x44e8a1=>{const _0x51ab84=_0xae3a,_0x2d051e=await this[_0x51ab84(0x1fb)]();_0x44e8a1(_0x2d051e?extendWithFaceDetection({},_0x2d051e):void 0x0);});}[_0x3be095(0x27b)](_0x528540=![]){const _0x1e123c=_0x3be095;return new DetectSingleFaceLandmarksTask(this['runAndExtendWithFaceDetection'](),this[_0x1e123c(0x1bc)],_0x528540);}['withFaceExpressions'](){const _0xadf123=_0x3be095;return new PredictSingleFaceExpressionsTask(this['runAndExtendWithFaceDetection'](),this[_0xadf123(0x1bc)]);}['withAgeAndGender'](){const _0x5020c9=_0x3be095;return new PredictSingleAgeAndGenderTask(this[_0x5020c9(0x1e9)](),this[_0x5020c9(0x1bc)]);}};function detectSingleFace(_0x77285e,_0x585d8a=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x77285e,_0x585d8a);}function detectAllFaces(_0x12f8c8,_0x37934a=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x12f8c8,_0x37934a);}async function allFacesSsdMobilenetv1(_0x3b51cb,_0x3b987f){const _0x519b7f=_0x3be095;return detectAllFaces(_0x3b51cb,new SsdMobilenetv1Options(_0x3b987f?{'minConfidence':_0x3b987f}:{}))[_0x519b7f(0x27b)]()['withFaceDescriptors']();}async function allFacesTinyYolov2(_0x27b932,_0x2fc290={}){const _0x16aafb=_0x3be095;return detectAllFaces(_0x27b932,new TinyYolov2Options(_0x2fc290))[_0x16aafb(0x27b)]()['withFaceDescriptors']();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x53a093,_0x40b576){const _0x1caf33=_0x3be095;if(_0x53a093['length']!==_0x40b576[_0x1caf33(0x249)])throw new Error(_0x1caf33(0x108));const _0x402c33=Array[_0x1caf33(0x1aa)](_0x53a093),_0x3457c4=Array['from'](_0x40b576);return Math[_0x1caf33(0x1af)](_0x402c33[_0x1caf33(0x1fc)]((_0x438fcd,_0x4cfb06)=>_0x438fcd-_0x3457c4[_0x4cfb06])[_0x1caf33(0x378)]((_0x18243b,_0x47b470)=>_0x18243b+_0x47b470**0x2,0x0));}var FaceMatcher=class{constructor(_0x15c543,_0x2cee7d=0.6){const _0x31af4a=_0x3be095;this[_0x31af4a(0x237)]=_0x2cee7d;const _0x55b968=Array[_0x31af4a(0x1c9)](_0x15c543)?_0x15c543:[_0x15c543];if(!_0x55b968[_0x31af4a(0x249)])throw new Error('FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input');let _0x159e25=0x1;const _0x1f6d91=()=>'person\x20'+_0x159e25++;this[_0x31af4a(0x2f5)]=_0x55b968[_0x31af4a(0x1fc)](_0x33adae=>{const _0x3f2582=_0x31af4a;if(_0x33adae instanceof LabeledFaceDescriptors)return _0x33adae;if(_0x33adae instanceof Float32Array)return new LabeledFaceDescriptors(_0x1f6d91(),[_0x33adae]);if(_0x33adae['descriptor']&&_0x33adae['descriptor']instanceof Float32Array)return new LabeledFaceDescriptors(_0x1f6d91(),[_0x33adae[_0x3f2582(0x2bb)]]);throw new Error(_0x3f2582(0x2da));});}get[_0x3be095(0x1cd)](){const _0x4b1779=_0x3be095;return this[_0x4b1779(0x2f5)];}get[_0x3be095(0x1e6)](){return this['_distanceThreshold'];}[_0x3be095(0x315)](_0x3f1fc3,_0x1e69be){const _0x44bdac=_0x3be095;return _0x1e69be[_0x44bdac(0x1fc)](_0x24a61e=>euclideanDistance(_0x24a61e,_0x3f1fc3))[_0x44bdac(0x378)]((_0x59a5ed,_0x516f07)=>_0x59a5ed+_0x516f07,0x0)/(_0x1e69be[_0x44bdac(0x249)]||0x1);}[_0x3be095(0x2d0)](_0x4fc933){const _0x19c4a3=_0x3be095;return this[_0x19c4a3(0x1cd)][_0x19c4a3(0x1fc)](({descriptors:_0x58f820,label:_0x3711ee})=>new FaceMatch(_0x3711ee,this['computeMeanDistance'](_0x4fc933,_0x58f820)))[_0x19c4a3(0x378)]((_0x6635c2,_0x106868)=>_0x6635c2['distance']<_0x106868[_0x19c4a3(0x2b8)]?_0x6635c2:_0x106868);}[_0x3be095(0x17d)](_0x12d455){const _0x581e75=_0x3be095,_0x286bd7=this['matchDescriptor'](_0x12d455);return _0x286bd7['distance']<this[_0x581e75(0x237)]?_0x286bd7:new FaceMatch('unknown',_0x286bd7[_0x581e75(0x2b8)]);}['toJSON'](){const _0x582716=_0x3be095;return{'distanceThreshold':this[_0x582716(0x237)],'labeledDescriptors':this['_labeledDescriptors'][_0x582716(0x1fc)](_0x1f0508=>_0x1f0508[_0x582716(0x308)]())};}static[_0x3be095(0x102)](_0x1e5cd4){const _0x469390=_0x3be095,_0x5a6492=_0x1e5cd4[_0x469390(0x1cd)]['map'](_0x559573=>LabeledFaceDescriptors[_0x469390(0x102)](_0x559573));return new FaceMatcher(_0x5a6492,_0x1e5cd4['distanceThreshold']);}};function createTinyFaceDetector(_0x51ca33){const _0xd91fde=_0x3be095,_0x397917=new TinyFaceDetector();return _0x397917[_0xd91fde(0x2b4)](_0x51ca33),_0x397917;}function resizeResults(_0x56a699,_0x37e0ae){const _0x12ff2e=_0x3be095,{width:_0x3a42d2,height:_0x2c301d}=new Dimensions(_0x37e0ae[_0x12ff2e(0x1bb)],_0x37e0ae['height']);if(_0x3a42d2<=0x0||_0x2c301d<=0x0)throw new Error(_0x12ff2e(0x193)+JSON[_0x12ff2e(0x226)]({'width':_0x3a42d2,'height':_0x2c301d}));if(Array['isArray'](_0x56a699))return _0x56a699[_0x12ff2e(0x1fc)](_0x2ce56c=>resizeResults(_0x2ce56c,{'width':_0x3a42d2,'height':_0x2c301d}));if(isWithFaceLandmarks(_0x56a699)){const _0x19bbab=_0x56a699[_0x12ff2e(0x2ec)]['forSize'](_0x3a42d2,_0x2c301d),_0x5e2c87=_0x56a699[_0x12ff2e(0x1ad)]['forSize'](_0x19bbab['box'][_0x12ff2e(0x1bb)],_0x19bbab[_0x12ff2e(0x331)]['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x56a699,_0x19bbab),_0x5e2c87);}if(isWithFaceDetection(_0x56a699))return extendWithFaceDetection(_0x56a699,_0x56a699[_0x12ff2e(0x2ec)][_0x12ff2e(0x219)](_0x3a42d2,_0x2c301d));if(_0x56a699 instanceof FaceLandmarks||_0x56a699 instanceof FaceDetection)return _0x56a699[_0x12ff2e(0x219)](_0x3a42d2,_0x2c301d);return _0x56a699;}var version2=version;0x0&&(module[_0x3be095(0x164)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});