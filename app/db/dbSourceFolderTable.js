function _0x5146(){const _0x1be354=['\x20AND\x20','getAll','18tEfxCH','22544JEhZWT','count','create','media_type','findByTitle','delete','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20path=?\x20or\x20path\x20like\x20?','13206435TGJkqY','deleteSourceAndChilden','DELETE\x20FROM\x20source_folder\x20where\x20type=?','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20id=?','exports','9fdYMbd','\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20source_folder\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20','\x20not\x20like\x20\x27%','join','path','movie','466528LVcIzG','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20','all','SELECT\x20count(*)\x20as\x20count\x20FROM\x20source_folder\x20WHERE\x20type=?','run','type','25EFDdJA','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20ORDER\x20BY\x20id\x20ASC','getCount','775626pAbWLr','prepare','sep','clearTable','parse','length','ignore_match_info','缺少参数id','8KXYppm','DELETE\x20FROM\x20source_folder\x20WHERE\x20id=?','1066226zTriDR','ctime','get','\x27\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20','39258wswaqm','value','3288490mJOOOD','getPathByWhere'];_0x5146=function(){return _0x1be354;};return _0x5146();}function _0x44e6(_0x51c16c,_0x1417b9){const _0x5146c5=_0x5146();return _0x44e6=function(_0x44e62a,_0x56700e){_0x44e62a=_0x44e62a-0xea;let _0x11acc8=_0x5146c5[_0x44e62a];return _0x11acc8;},_0x44e6(_0x51c16c,_0x1417b9);}const _0x526648=_0x44e6;(function(_0x106f7d,_0x367b95){const _0x423822=_0x44e6,_0x39bb08=_0x106f7d();while(!![]){try{const _0x2a1ddc=parseInt(_0x423822(0x101))/0x1+parseInt(_0x423822(0xfa))/0x2*(-parseInt(_0x423822(0x10d))/0x3)+parseInt(_0x423822(0x113))/0x4+-parseInt(_0x423822(0x119))/0x5*(-parseInt(_0x423822(0xec))/0x6)+-parseInt(_0x423822(0xf6))/0x7*(-parseInt(_0x423822(0xf4))/0x8)+parseInt(_0x423822(0x100))/0x9*(parseInt(_0x423822(0xfc))/0xa)+-parseInt(_0x423822(0x108))/0xb;if(_0x2a1ddc===_0x367b95)break;else _0x39bb08['push'](_0x39bb08['shift']());}catch(_0x49706f){_0x39bb08['push'](_0x39bb08['shift']());}}}(_0x5146,0x520cb));let path=require(_0x526648(0x111));const dbConfigTable=require('../db/dbConfigTable');class dbSourceFolderTable{static['getPathByType'](_0x1cb13d,_0x86300){const _0xbfb1b4=_0x526648;return _0x1cb13d['prepare'](_0xbfb1b4(0xea))[_0xbfb1b4(0x115)](_0x86300);}static['getPathByTypeAndWhere'](_0x34c5eb,_0xca5935,_0x863991){const _0x283d13=_0x526648;return _0x34c5eb[_0x283d13(0xed)](_0x283d13(0x114)+_0x863991)['all'](_0xca5935);}static['getByPathAndType'](_0x28bdf7,_0x4e9fda,_0x1fa61c){const _0xf48b20=_0x526648;return _0x28bdf7['prepare']('SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20path=?')[_0xf48b20(0xf8)](_0x4e9fda,_0x1fa61c);}static[_0x526648(0xfd)](_0x397e37,_0x572afe,_0x44f258){const _0x200753=_0x526648;return _0x397e37[_0x200753(0xed)](_0x200753(0x114)+_0x44f258)[_0x200753(0xf8)](_0x572afe);}static['getByPath'](_0x5ef789,_0x42e81b){const _0x392b08=_0x526648;let _0x4eec9a=_0x392b08(0x107);return _0x5ef789[_0x392b08(0xed)](_0x4eec9a)[_0x392b08(0xf8)](_0x42e81b,_0x42e81b+path['sep']+'%');}static[_0x526648(0xff)](_0x8a1648){const _0x87417c=_0x526648;return _0x8a1648[_0x87417c(0xed)]('SELECT\x20*\x20FROM\x20source_folder')[_0x87417c(0x115)]();}static[_0x526648(0xeb)](_0x3eed79,_0x45f422){const _0x41924c=_0x526648;if(!_0x45f422){let _0x17ec94=_0x3eed79[_0x41924c(0xed)]('SELECT\x20count(*)\x20as\x20count\x20FROM\x20source_folder')[_0x41924c(0xf8)]();return _0x17ec94[_0x41924c(0x102)];}else{let _0x33e785=_0x3eed79[_0x41924c(0xed)](_0x41924c(0x116))[_0x41924c(0xf8)](_0x45f422);return _0x33e785[_0x41924c(0x102)];}}static['getById'](_0x1b5654,_0x5c635d){const _0xc8ced5=_0x526648;return _0x1b5654[_0xc8ced5(0xed)](_0xc8ced5(0x10b))[_0xc8ced5(0xf8)](_0x5c635d);}static[_0x526648(0x103)](_0x10c265,_0x4ddffc){const _0x5f569f=_0x526648;let _0x49b114=path[_0x5f569f(0x110)](_0x4ddffc[_0x5f569f(0x111)]);_0x4ddffc['media_type']=_0x4ddffc['media_type']?_0x4ddffc[_0x5f569f(0x104)]:_0x5f569f(0x112);const _0x1351f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20REPLACE\x20INTO\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_folder(path,type,ctime,ignore_match_info,media_type)\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?)';return _0x10c265[_0x5f569f(0xed)](_0x1351f5)[_0x5f569f(0x117)](_0x49b114,_0x4ddffc[_0x5f569f(0x118)],_0x4ddffc[_0x5f569f(0xf7)],_0x4ddffc[_0x5f569f(0xf2)]&&_0x4ddffc[_0x5f569f(0xf2)]==0x1?0x1:0x0,_0x4ddffc['media_type']);}static[_0x526648(0x106)](_0x4e0ed5,_0x28bb84){const _0x535221=_0x526648;if(!_0x28bb84)return cb(new Error(_0x535221(0xf3)));return _0x4e0ed5[_0x535221(0xed)](_0x535221(0xf5))['run'](_0x28bb84);}static[_0x526648(0xef)](_0x27e1d4,_0x2109a7){const _0x1ad396=_0x526648;return _0x2109a7?_0x27e1d4['prepare'](_0x1ad396(0x10a))[_0x1ad396(0x117)](_0x2109a7):_0x27e1d4['prepare']('DELETE\x20FROM\x20source_folder')['run']();}static[_0x526648(0x109)](_0x499b5d,_0x3ffe12,_0x1d3d3a){const _0x1ce5af=_0x526648;return _0x499b5d[_0x1ce5af(0xed)]('DELETE\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20(path=?\x20OR\x20path\x20like\x20?)')['run'](_0x1d3d3a,_0x3ffe12,_0x3ffe12+path[_0x1ce5af(0xee)]+'%');}static['updateByWhere'](_0x560c3a,_0x390135,_0xf8fdd1,_0x4460ee){const _0x54bdf4=_0x526648,_0x5a5588=_0x54bdf4(0x10e)+_0x390135+'=\x27'+_0xf8fdd1+_0x54bdf4(0xf9);return _0x560c3a[_0x54bdf4(0xed)](_0x5a5588)[_0x54bdf4(0x117)](_0x4460ee);}static['updateCtime'](_0x5570d8,_0x4edfa2,_0x3fc862){const _0x5033dd=_0x526648,_0x2251d4='\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20source_folder\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20ctime=?\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20';return _0x5570d8[_0x5033dd(0xed)](_0x2251d4)['run'](_0x4edfa2,_0x3fc862);}static['getExcludePathWhereStr'](_0x4c4d46,_0x15d64e,_0xa1b45e){const _0x41274c=_0x526648;try{let _0x3d2157=dbConfigTable[_0x41274c(0x105)](_0x4c4d46,_0xa1b45e);if(_0x3d2157&&_0x3d2157[_0x41274c(0xfb)]){let _0x1f0ab7=JSON[_0x41274c(0xf0)](_0x3d2157[_0x41274c(0xfb)]);if(!_0x1f0ab7||_0x1f0ab7[_0x41274c(0xf1)]<0x1)return'';let _0x4929b8='\x20(';for(let _0x30d218 in _0x1f0ab7){_0x4929b8+='\x20'+_0x15d64e+_0x41274c(0x10f)+_0x1f0ab7[_0x30d218]+'%\x27',_0x30d218!=_0x1f0ab7[_0x41274c(0xf1)]-0x1&&(_0x4929b8+=_0x41274c(0xfe));}return _0x4929b8+=')',_0x4929b8;}}catch(_0x1f4683){return'';}}}module[_0x526648(0x10c)]=dbSourceFolderTable;