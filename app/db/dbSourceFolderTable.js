function _0x5300(_0x38422a,_0x43c3bd){const _0x308bfe=_0x308b();return _0x5300=function(_0x5300eb,_0x367195){_0x5300eb=_0x5300eb-0x80;let _0x2804fe=_0x308bfe[_0x5300eb];return _0x2804fe;},_0x5300(_0x38422a,_0x43c3bd);}const _0x62e247=_0x5300;function _0x308b(){const _0x202ad4=['6981MKTbpe','movie','delete','value','DELETE\x20FROM\x20source_folder\x20WHERE\x20id=?','length','1549998NLxuRg','110696nPuvNy','clearTable','getPathByTypeAndWhere','getById','parse','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20id=?','ignore_match_info','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20path=?\x20or\x20path\x20like\x20?','3121506EHCnmN','getPathByType','DELETE\x20FROM\x20source_folder','6373585UxWqUF','deleteSourceAndChilden','\x27\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20REPLACE\x20INTO\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_folder(path,type,ctime,ignore_match_info,media_type)\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?)','create','prepare','all','38QzkaLV','SELECT\x20*\x20FROM\x20source_folder','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20','run','\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20source_folder\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20','exports','media_type','get','findByTitle','updateCtime','931mzIvcz','73496aeINYX','getCount','\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20source_folder\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20ctime=?\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20','getByPathAndType','\x20not\x20like\x20\x27%','\x20AND\x20','getAll','type','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20ORDER\x20BY\x20id\x20ASC','sep','path','6681996DKLFdk'];_0x308b=function(){return _0x202ad4;};return _0x308b();}(function(_0x3d24a8,_0x1c1e26){const _0xa0ae40=_0x5300,_0xd7bb1=_0x3d24a8();while(!![]){try{const _0x28551d=parseInt(_0xa0ae40(0xa6))/0x1*(parseInt(_0xa0ae40(0x8f))/0x2)+parseInt(_0xa0ae40(0x85))/0x3+-parseInt(_0xa0ae40(0xad))/0x4+parseInt(_0xa0ae40(0x88))/0x5+parseInt(_0xa0ae40(0xac))/0x6+-parseInt(_0xa0ae40(0x99))/0x7*(parseInt(_0xa0ae40(0x9a))/0x8)+-parseInt(_0xa0ae40(0xa5))/0x9;if(_0x28551d===_0x1c1e26)break;else _0xd7bb1['push'](_0xd7bb1['shift']());}catch(_0x4e534c){_0xd7bb1['push'](_0xd7bb1['shift']());}}}(_0x308b,0xae5da));let path=require('path');const dbConfigTable=require('../db/dbConfigTable');class dbSourceFolderTable{static[_0x62e247(0x86)](_0x3c5f87,_0x445699){const _0x222a79=_0x62e247;return _0x3c5f87[_0x222a79(0x8d)](_0x222a79(0xa2))[_0x222a79(0x8e)](_0x445699);}static[_0x62e247(0xaf)](_0x51b315,_0x3d0244,_0x413b79){const _0x76427=_0x62e247;return _0x51b315[_0x76427(0x8d)](_0x76427(0x91)+_0x413b79)[_0x76427(0x8e)](_0x3d0244);}static[_0x62e247(0x9d)](_0xcd77b,_0x30864c,_0x1a5f57){const _0x12dd44=_0x62e247;return _0xcd77b['prepare']('SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20path=?')[_0x12dd44(0x96)](_0x30864c,_0x1a5f57);}static['getPathByWhere'](_0x39f5ba,_0x1e6eeb,_0x24d8ee){const _0x121ff7=_0x62e247;return _0x39f5ba['prepare'](_0x121ff7(0x91)+_0x24d8ee)[_0x121ff7(0x96)](_0x1e6eeb);}static['getByPath'](_0x247621,_0x1cf06b){const _0x10883c=_0x62e247;let _0x590806=_0x10883c(0x84);return _0x247621['prepare'](_0x590806)['get'](_0x1cf06b,_0x1cf06b+path[_0x10883c(0xa3)]+'%');}static[_0x62e247(0xa0)](_0xbf123a){const _0x472c0c=_0x62e247;return _0xbf123a['prepare'](_0x472c0c(0x90))['all']();}static[_0x62e247(0x9b)](_0x24de23,_0x4a4c9f){const _0x191e09=_0x62e247;if(!_0x4a4c9f){let _0x233a2c=_0x24de23['prepare']('SELECT\x20count(*)\x20as\x20count\x20FROM\x20source_folder')['get']();return _0x233a2c['count'];}else{let _0x4f9e44=_0x24de23[_0x191e09(0x8d)]('SELECT\x20count(*)\x20as\x20count\x20FROM\x20source_folder\x20WHERE\x20type=?')[_0x191e09(0x96)](_0x4a4c9f);return _0x4f9e44['count'];}}static[_0x62e247(0x80)](_0x1219f0,_0xabfc33){const _0x16757a=_0x62e247;return _0x1219f0['prepare'](_0x16757a(0x82))[_0x16757a(0x96)](_0xabfc33);}static[_0x62e247(0x8c)](_0x515f0e,_0x6fe7a){const _0x1bfd7e=_0x62e247;let _0x2f31f9=path['join'](_0x6fe7a[_0x1bfd7e(0xa4)]);_0x6fe7a[_0x1bfd7e(0x95)]=_0x6fe7a[_0x1bfd7e(0x95)]?_0x6fe7a['media_type']:_0x1bfd7e(0xa7);const _0x9d56d3=_0x1bfd7e(0x8b);return _0x515f0e[_0x1bfd7e(0x8d)](_0x9d56d3)[_0x1bfd7e(0x92)](_0x2f31f9,_0x6fe7a[_0x1bfd7e(0xa1)],_0x6fe7a['ctime'],_0x6fe7a[_0x1bfd7e(0x83)]&&_0x6fe7a[_0x1bfd7e(0x83)]==0x1?0x1:0x0,_0x6fe7a[_0x1bfd7e(0x95)]);}static[_0x62e247(0xa8)](_0x27bc84,_0x1a8a8d){const _0xbaf328=_0x62e247;if(!_0x1a8a8d)return cb(new Error('缺少参数id'));return _0x27bc84[_0xbaf328(0x8d)](_0xbaf328(0xaa))[_0xbaf328(0x92)](_0x1a8a8d);}static[_0x62e247(0xae)](_0x3965d7,_0x25be7c){const _0x20f34c=_0x62e247;return _0x25be7c?_0x3965d7[_0x20f34c(0x8d)]('DELETE\x20FROM\x20source_folder\x20where\x20type=?')['run'](_0x25be7c):_0x3965d7['prepare'](_0x20f34c(0x87))['run']();}static[_0x62e247(0x89)](_0x40584c,_0x22224b,_0x2d1ce4){const _0x1307b0=_0x62e247;return _0x40584c[_0x1307b0(0x8d)]('DELETE\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20(path=?\x20OR\x20path\x20like\x20?)')[_0x1307b0(0x92)](_0x2d1ce4,_0x22224b,_0x22224b+path['sep']+'%');}static['updateByWhere'](_0x451a44,_0x53c914,_0x4ecb4c,_0x5d9cef){const _0x55cfaa=_0x62e247,_0x2c13a1=_0x55cfaa(0x93)+_0x53c914+'=\x27'+_0x4ecb4c+_0x55cfaa(0x8a);return _0x451a44['prepare'](_0x2c13a1)[_0x55cfaa(0x92)](_0x5d9cef);}static[_0x62e247(0x98)](_0x4463f2,_0x3a75d0,_0x537a38){const _0xb6becd=_0x62e247,_0x3ed013=_0xb6becd(0x9c);return _0x4463f2[_0xb6becd(0x8d)](_0x3ed013)[_0xb6becd(0x92)](_0x3a75d0,_0x537a38);}static['getExcludePathWhereStr'](_0x2b24f9,_0x39f7ed,_0x55bc45){const _0x5f1db6=_0x62e247;try{let _0x2609ea=dbConfigTable[_0x5f1db6(0x97)](_0x2b24f9,_0x55bc45);if(_0x2609ea&&_0x2609ea[_0x5f1db6(0xa9)]){let _0x28f587=JSON[_0x5f1db6(0x81)](_0x2609ea[_0x5f1db6(0xa9)]);if(!_0x28f587||_0x28f587[_0x5f1db6(0xab)]<0x1)return'';let _0x359fdb='\x20(';for(let _0x33f50d in _0x28f587){_0x359fdb+='\x20'+_0x39f7ed+_0x5f1db6(0x9e)+_0x28f587[_0x33f50d]+'%\x27',_0x33f50d!=_0x28f587[_0x5f1db6(0xab)]-0x1&&(_0x359fdb+=_0x5f1db6(0x9f));}return _0x359fdb+=')',_0x359fdb;}}catch(_0x1510b1){return'';}}}module[_0x62e247(0x94)]=dbSourceFolderTable;