function _0x2092(_0x177a07,_0x3d6d9f){const _0x2b7008=_0x2b70();return _0x2092=function(_0x209215,_0x2d2129){_0x209215=_0x209215-0x188;let _0x2ffded=_0x2b7008[_0x209215];return _0x2ffded;},_0x2092(_0x177a07,_0x3d6d9f);}function _0x2b70(){const _0x4d2d05=['Params\x20error\x20:\x20fileType','asc','isNumber','checkOrderParams','5068KSlFMb','path_list','8kICvfI','ordinaryAlbumId','getAllByWhereAndFieldFromFaceIndex','exports','sourceFolderList','get','getAlbumWhereStr','\x20>\x200','\x20AND\x20f.id\x20NOT\x20IN\x20(','geohash','log','sortType','\x20f.id,path,is_livephoto,is_raw,raw_filename,check_time,original_time,in_trash_time,original_date,filename,ext,type,f.width,f.height,duration,size,latitude,longitude,geohash,mode,tiny_path','timeType','parse','dbFileIndex','\x20GROUP\x20BY\x20f.id','\x20AND\x20(filename\x20LIKE\x20?\x20OR\x20mode\x20\x20LIKE\x20?)','excludeIdsJson','desc','3768870BqjzSM','aiClassId','excludeFilenamePhoto','is_raw','6376161nHloxs','whereStr','../utils/checkUtil','../../db/dbUserTable','Params\x20error\x20:\x20timestamp\x20/\x20timeType','getLivePhotoIndex','excludePathPhoto','getUserPathWhere','\x20ORDER\x20BY\x20','libraryId','5006466rgkTvd','\x20AND\x20in_trash=0','\x20AND\x20is_show=1','length','body','getAllByWhereAndField','Params\x20error\x20:\x20count','Params\x20error\x20:\x20sortType','4828995wUJgXD','faceId','Params\x20error\x20:\x20albumId','<=?\x20AND\x20','1083LWcIRw','../../db/dbAlbumTable','arrayInCheck','getRawImageIndex','photo','\x20AND\x20','app','\x20AND\x20(type=?\x20\x20and\x20is_livephoto!=1)','power_get','count','21VCtiYC','71576KiHUqi','INDEX_TABLE_NAME_PHOTO','push','\x20\x20AND\x20is_file=1\x20\x20','sortField','../../db/dbSourceFolderTable','albumId','dbOther','paramsList','doUserCanGet','getAllByWhereAndFieldFromOrdinaryAlbum','1261981HeLFNO','getExcludePathWhereStr','SELECT\x20*\x20FROM\x20photo_library\x20WHERE\x20id=?','filename','getPathWhere','raw_filename','rawImageIndex','20oIhudK'];_0x2b70=function(){return _0x4d2d05;};return _0x2b70();}const _0x592b0b=_0x2092;(function(_0x44c9ed,_0x4b5a25){const _0x3839f1=_0x2092,_0x402894=_0x44c9ed();while(!![]){try{const _0x10ef4d=-parseInt(_0x3839f1(0x195))/0x1*(-parseInt(_0x3839f1(0x196))/0x2)+parseInt(_0x3839f1(0x18b))/0x3*(-parseInt(_0x3839f1(0x1ad))/0x4)+-parseInt(_0x3839f1(0x1c3))/0x5+-parseInt(_0x3839f1(0x1d1))/0x6+parseInt(_0x3839f1(0x1a1))/0x7*(parseInt(_0x3839f1(0x1af))/0x8)+parseInt(_0x3839f1(0x1d9))/0x9*(parseInt(_0x3839f1(0x1a8))/0xa)+parseInt(_0x3839f1(0x1c7))/0xb;if(_0x10ef4d===_0x4b5a25)break;else _0x402894['push'](_0x402894['shift']());}catch(_0x5550ae){_0x402894['push'](_0x402894['shift']());}}}(_0x2b70,0x8398c));let photoApiUtil={};const dbFileIndexTable=require('../../db/dbFileIndexTable'),dbSourceFolderTable=require(_0x592b0b(0x19b));let checkUtil=require(_0x592b0b(0x1c9));const dbUserTable=require(_0x592b0b(0x1ca)),dbAlbumTable=require(_0x592b0b(0x18c));photoApiUtil['getPhotoByParams']=function(_0x16ed15,_0x3ea1ae){const _0x208695=_0x592b0b;if(dbUserTable[_0x208695(0x19f)](_0x16ed15,_0x3ea1ae,_0x208695(0x18f),_0x208695(0x193),'',!![])!=!![])return[];let _0x18ecec=_0x16ed15[_0x208695(0x1d5)][_0x208695(0x1b3)],_0x11f744=dbUserTable[_0x208695(0x1ce)](_0x16ed15,'photo','power_get',!![],_0x18ecec),_0x2867b6=_0x208695(0x1bb),_0x2e1f2c=_0x16ed15['body']['timestamp'],_0x259a88=_0x16ed15[_0x208695(0x1d5)][_0x208695(0x1bc)],_0x23f9f0=_0x16ed15['body'][_0x208695(0x194)],_0x2e804a=_0x16ed15['body']['fileType'],_0x4e7f12=_0x16ed15['body']['trash'],_0xec35f9=_0x16ed15[_0x208695(0x1d5)][_0x208695(0x19a)],_0x1dee36=_0x16ed15['body'][_0x208695(0x1ba)],_0x2f9d63=_0x16ed15['body'][_0x208695(0x1b8)],_0x45d5e0=_0x16ed15['body']['searchStr'],_0x2e5e8f=_0x16ed15['body'][_0x208695(0x1d0)];if(dbFileIndexTable[_0x208695(0x1ac)](_0x16ed15,_0x3ea1ae,_0xec35f9,_0x1dee36)!==!![])return[];if(!checkUtil[_0x208695(0x18d)]([_0x208695(0x1aa),_0x208695(0x1c2)],_0x1dee36))return console[_0x208695(0x1b9)](_0x208695(0x1d8)),[];if(!checkUtil[_0x208695(0x1ab)](_0x2e1f2c)||!checkUtil[_0x208695(0x1ab)](_0x259a88))return console['log'](_0x208695(0x1cb)),[];let _0x405d2e=_0x16ed15[_0x208695(0x1d5)]['excludeIds'];if(!_0x259a88||!_0x2e1f2c)return[];let _0x1faf0a='',_0x4e5d72=[];_0x259a88==0x1?(_0x1faf0a+='\x20'+_0xec35f9+_0x208695(0x18a)+_0xec35f9+_0x208695(0x1b6),_0x4e5d72[_0x208695(0x198)](_0x2e1f2c)):(_0x1faf0a+='\x20'+_0xec35f9+'>=?',_0x4e5d72[_0x208695(0x198)](_0x2e1f2c));let _0x58837e=_0x16ed15[_0x208695(0x1d5)][_0x208695(0x1c1)];if(_0x58837e)try{_0x405d2e=JSON[_0x208695(0x1bd)](_0x58837e);}catch(_0x29325e){console[_0x208695(0x1b9)](_0x29325e);}if(_0x405d2e&&_0x405d2e[_0x208695(0x1d4)]>0x0){_0x1faf0a+=_0x208695(0x1b7);for(let _0x467f8e=0x0;_0x467f8e<_0x405d2e[_0x208695(0x1d4)];_0x467f8e++){_0x1faf0a+=_0x405d2e[_0x467f8e],_0x467f8e!=_0x405d2e[_0x208695(0x1d4)]-0x1&&(_0x1faf0a+=',');}_0x1faf0a+=')';}_0x2f9d63&&(_0x1faf0a+='\x20AND\x20geohash\x20LIKE\x20?\x20',_0x4e5d72[_0x208695(0x198)](_0x2f9d63+'%'));let _0x52a7ad=dbSourceFolderTable[_0x208695(0x1a2)](_0x16ed15['app'][_0x208695(0x19d)],'path',_0x208695(0x1cd));_0x52a7ad&&(_0x1faf0a+=_0x208695(0x190)+_0x52a7ad);let _0x3a7b8b=dbSourceFolderTable['getExcludePathWhereStr'](_0x16ed15[_0x208695(0x191)]['dbOther'],_0x208695(0x1a4),_0x208695(0x1c5));_0x3a7b8b&&(_0x1faf0a+=_0x208695(0x190)+_0x3a7b8b);if(_0x2e804a==0x0||!_0x2e804a)_0x1faf0a+='\x20AND\x20(type=1\x20or\x20type=2)';else{if(_0x2e804a==0x1||_0x2e804a==0x2){if(!checkUtil[_0x208695(0x1ab)](_0x2e804a))return console['log'](_0x208695(0x1a9)),[];_0x1faf0a+=_0x208695(0x192),_0x4e5d72[_0x208695(0x198)](_0x2e804a);}else _0x2e804a==0x3&&(_0x1faf0a+='\x20AND\x20is_livephoto=1');}_0x45d5e0&&(_0x1faf0a+=_0x208695(0x1c0),_0x4e5d72[_0x208695(0x198)]('%'+_0x45d5e0+'%'),_0x4e5d72[_0x208695(0x198)]('%'+_0x45d5e0+'%'));!_0x4e7f12||_0x4e7f12==0x0?(_0x1faf0a+=_0x208695(0x1d2),_0x1faf0a+=_0x208695(0x1d3)):_0x1faf0a+='\x20AND\x20in_trash=1';if(_0x2e5e8f){let _0x5db766=_0x16ed15[_0x208695(0x191)][_0x208695(0x1be)]['prepare'](_0x208695(0x1a3))[_0x208695(0x1b4)](_0x2e5e8f);if(_0x5db766)try{let _0x14b2f2=JSON['parse'](_0x5db766[_0x208695(0x1ae)]),_0x2bbd23=dbUserTable[_0x208695(0x1a5)](!![],_0x14b2f2);_0x1faf0a+=_0x2bbd23['whereStr'],_0x4e5d72[_0x208695(0x198)](..._0x2bbd23['paramsList']);}catch(_0x560ee0){console[_0x208695(0x1b9)](_0x560ee0);}}if(_0x16ed15[_0x208695(0x1d5)][_0x208695(0x19c)]){if(!checkUtil['isNumber'](_0x16ed15[_0x208695(0x1d5)][_0x208695(0x19c)]))return console[_0x208695(0x1b9)](_0x208695(0x189)),[];let _0xb2b278=dbAlbumTable[_0x208695(0x1b5)](_0x16ed15[_0x208695(0x191)][_0x208695(0x19d)],_0x16ed15['body']['albumId']);_0xb2b278&&(_0x1faf0a+=_0x208695(0x190)+_0xb2b278);}_0x1faf0a+=_0x11f744[_0x208695(0x1c8)],_0x4e5d72[_0x208695(0x198)](..._0x11f744[_0x208695(0x19e)]),_0x1faf0a+=_0x208695(0x199);(_0x16ed15[_0x208695(0x1d5)][_0x208695(0x1c4)]||_0x16ed15[_0x208695(0x1d5)][_0x208695(0x188)])&&(_0x1faf0a+=_0x208695(0x1bf));_0x1faf0a+=_0x208695(0x1cf)+_0xec35f9+'\x20'+_0x1dee36;!_0x23f9f0&&(_0x23f9f0=0x32);if(!checkUtil[_0x208695(0x1ab)](_0x23f9f0))return console[_0x208695(0x1b9)](_0x208695(0x1d7)),[];_0x1faf0a+='\x20LIMIT\x20?',_0x4e5d72['push'](_0x23f9f0);let _0x447fd3=[];if(_0x16ed15[_0x208695(0x1d5)][_0x208695(0x1b0)])_0x447fd3=dbFileIndexTable[_0x208695(0x1a0)](_0x16ed15[_0x208695(0x191)]['dbFileIndex'],_0x1faf0a,_0x2867b6,[parseInt(_0x16ed15[_0x208695(0x1d5)][_0x208695(0x1b0)]),..._0x4e5d72]);else{if(_0x16ed15['body'][_0x208695(0x1c4)])_0x447fd3=dbFileIndexTable['getAllByWhereAndFieldFromAiClassesToIndex'](_0x16ed15['app'][_0x208695(0x1be)],_0x16ed15[_0x208695(0x1d5)]['aiClassId'],_0x1faf0a,_0x2867b6,_0x4e5d72);else _0x16ed15[_0x208695(0x1d5)][_0x208695(0x188)]?_0x447fd3=dbFileIndexTable[_0x208695(0x1b1)](_0x16ed15['app'][_0x208695(0x1be)],_0x16ed15[_0x208695(0x1d5)][_0x208695(0x188)],_0x1faf0a,_0x2867b6,_0x4e5d72):_0x447fd3=dbFileIndexTable[_0x208695(0x1d6)](_0x16ed15['app'][_0x208695(0x1be)],_0x1faf0a,_0x2867b6,dbFileIndexTable[_0x208695(0x197)],_0x4e5d72);}if(_0x447fd3&&_0x447fd3[_0x208695(0x1d4)]>0x0)for(let _0x1a3566 in _0x447fd3){_0x447fd3[_0x1a3566]['is_livephoto']==0x1&&(_0x447fd3[_0x1a3566]['livephotoIndex']=dbFileIndexTable[_0x208695(0x1cc)](_0x16ed15['app'][_0x208695(0x1be)],_0x447fd3[_0x1a3566],_0x2867b6));if(_0x447fd3[_0x1a3566][_0x208695(0x1c6)]==0x0&&_0x447fd3[_0x1a3566][_0x208695(0x1a6)]!=null&&_0x447fd3[_0x1a3566][_0x208695(0x1a6)]!=''){let _0x13cbd4=dbFileIndexTable[_0x208695(0x18e)](_0x16ed15[_0x208695(0x191)]['dbFileIndex'],_0x447fd3[_0x1a3566],_0x2867b6);_0x13cbd4&&(_0x447fd3[_0x1a3566][_0x208695(0x1a7)]=_0x13cbd4);}}return _0x447fd3;},module[_0x592b0b(0x1b2)]=photoApiUtil;