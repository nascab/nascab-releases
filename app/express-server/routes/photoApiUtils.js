function _0x3504(){const _0x199599=['getAllByWhereAndField','12UnJUaW','getPhotoByParams','getRawImageIndex','4568940SsWMgz','excludeIdsJson','INDEX_TABLE_NAME_PHOTO','libraryId','../../db/dbFileIndexTable','185892MFAeUd','\x20AND\x20in_trash=0','excludePathPhoto','15645104zJQSDv','getUserPathWhere','<=?\x20AND\x20','dbOther','\x20GROUP\x20BY\x20f.id','\x20>\x200','getAlbumWhereStr','whereStr','trash','dbFileIndex','path_list','461208BYwddV','length','checkOrderParams','913731JOjdio','fileType','2951140sNBLgF','power_get','sortType','parse','sourceFolderList','\x20\x20AND\x20is_file=1\x20\x20','\x20AND\x20','sortField','SELECT\x20*\x20FROM\x20photo_library\x20WHERE\x20id=?','geohash','\x20AND\x20f.id\x20NOT\x20IN\x20(','push','getAllByWhereAndFieldFromFaceIndex','faceId','\x20AND\x20(type=?\x20\x20and\x20is_livephoto!=1)','isNumber','photo','excludeIds','timeType','\x20AND\x20geohash\x20LIKE\x20?\x20','rawImageIndex','Params\x20error\x20:\x20sortType','searchStr','Params\x20error\x20:\x20timestamp\x20/\x20timeType','\x20f.id,path,is_livephoto,is_raw,raw_filename,check_time,original_time,in_trash_time,original_date,filename,ext,type,f.width,f.height,duration,size,latitude,longitude,geohash,mode,tiny_path','\x20AND\x20is_livephoto=1','2735595GKfLPN','body','app','timestamp','log','livephotoIndex','excludeFilenamePhoto','getExcludePathWhereStr','getPathWhere','getLivePhotoIndex','desc','\x20AND\x20in_trash=1','aiClassId','getAllByWhereAndFieldFromAiClassesToIndex','Params\x20error\x20:\x20albumId','ordinaryAlbumId','exports','../../db/dbAlbumTable','\x20AND\x20(type=1\x20or\x20type=2)','\x20AND\x20(filename\x20LIKE\x20?\x20OR\x20mode\x20\x20LIKE\x20?)','is_livephoto','paramsList','\x20AND\x20is_show=1','get','../utils/checkUtil'];_0x3504=function(){return _0x199599;};return _0x3504();}const _0x309f05=_0x3ff8;function _0x3ff8(_0x19b0fe,_0x411bdc){const _0x350455=_0x3504();return _0x3ff8=function(_0x3ff804,_0x15353a){_0x3ff804=_0x3ff804-0xb8;let _0x38ae5f=_0x350455[_0x3ff804];return _0x38ae5f;},_0x3ff8(_0x19b0fe,_0x411bdc);}(function(_0xf7cd7a,_0x5c8afb){const _0x43e6fd=_0x3ff8,_0x495c6a=_0xf7cd7a();while(!![]){try{const _0x15464a=-parseInt(_0x43e6fd(0xbd))/0x1+parseInt(_0x43e6fd(0xfe))/0x2*(-parseInt(_0x43e6fd(0xf6))/0x3)+-parseInt(_0x43e6fd(0xc2))/0x4+-parseInt(_0x43e6fd(0xdc))/0x5+parseInt(_0x43e6fd(0xf9))/0x6+-parseInt(_0x43e6fd(0xc0))/0x7+parseInt(_0x43e6fd(0x101))/0x8;if(_0x15464a===_0x5c8afb)break;else _0x495c6a['push'](_0x495c6a['shift']());}catch(_0xde043c){_0x495c6a['push'](_0x495c6a['shift']());}}}(_0x3504,0x726db));let photoApiUtil={};const dbFileIndexTable=require(_0x309f05(0xfd)),dbSourceFolderTable=require('../../db/dbSourceFolderTable');let checkUtil=require(_0x309f05(0xf4));const dbUserTable=require('../../db/dbUserTable'),dbAlbumTable=require(_0x309f05(0xed));photoApiUtil[_0x309f05(0xf7)]=function(_0x366205,_0x21a0d1){const _0x6874ee=_0x309f05;if(dbUserTable['doUserCanGet'](_0x366205,_0x21a0d1,_0x6874ee(0xd2),_0x6874ee(0xc3),'',!![])!=!![])return[];let _0x1bef72=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xc6)],_0x550017=dbUserTable[_0x6874ee(0x102)](_0x366205,_0x6874ee(0xd2),'power_get',!![],_0x1bef72),_0x40fb37=_0x6874ee(0xda),_0x2dab94=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xdf)],_0x222012=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xd4)],_0x58f323=_0x366205[_0x6874ee(0xdd)]['count'],_0x5a5204=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xc1)],_0x172743=_0x366205['body'][_0x6874ee(0xba)],_0x26e3b5=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xc9)],_0x14ab32=_0x366205['body'][_0x6874ee(0xc4)],_0x583929=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xcb)],_0x462ddf=_0x366205['body'][_0x6874ee(0xd8)],_0xedd3db=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xfc)];if(dbFileIndexTable[_0x6874ee(0xbf)](_0x366205,_0x21a0d1,_0x26e3b5,_0x14ab32)!==!![])return[];if(!checkUtil['arrayInCheck'](['asc',_0x6874ee(0xe6)],_0x14ab32))return console[_0x6874ee(0xe0)](_0x6874ee(0xd7)),[];if(!checkUtil[_0x6874ee(0xd1)](_0x2dab94)||!checkUtil[_0x6874ee(0xd1)](_0x222012))return console[_0x6874ee(0xe0)](_0x6874ee(0xd9)),[];let _0x2b81cf=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xd3)];if(!_0x222012||!_0x2dab94)return[];let _0x578abd='',_0x25e5d9=[];_0x222012==0x1?(_0x578abd+='\x20'+_0x26e3b5+_0x6874ee(0x103)+_0x26e3b5+_0x6874ee(0x106),_0x25e5d9[_0x6874ee(0xcd)](_0x2dab94)):(_0x578abd+='\x20'+_0x26e3b5+'>=?',_0x25e5d9[_0x6874ee(0xcd)](_0x2dab94));let _0x2d5249=_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xfa)];if(_0x2d5249)try{_0x2b81cf=JSON['parse'](_0x2d5249);}catch(_0x2fb1ff){console[_0x6874ee(0xe0)](_0x2fb1ff);}if(_0x2b81cf&&_0x2b81cf[_0x6874ee(0xbe)]>0x0){_0x578abd+=_0x6874ee(0xcc);for(let _0x28544a=0x0;_0x28544a<_0x2b81cf[_0x6874ee(0xbe)];_0x28544a++){_0x578abd+=_0x2b81cf[_0x28544a],_0x28544a!=_0x2b81cf['length']-0x1&&(_0x578abd+=',');}_0x578abd+=')';}_0x583929&&(_0x578abd+=_0x6874ee(0xd5),_0x25e5d9[_0x6874ee(0xcd)](_0x583929+'%'));let _0x773a9b=dbSourceFolderTable[_0x6874ee(0xe3)](_0x366205[_0x6874ee(0xde)][_0x6874ee(0x104)],'path',_0x6874ee(0x100));_0x773a9b&&(_0x578abd+=_0x6874ee(0xc8)+_0x773a9b);let _0x1fae19=dbSourceFolderTable[_0x6874ee(0xe3)](_0x366205[_0x6874ee(0xde)]['dbOther'],'filename',_0x6874ee(0xe2));_0x1fae19&&(_0x578abd+=_0x6874ee(0xc8)+_0x1fae19);if(_0x5a5204==0x0||!_0x5a5204)_0x578abd+=_0x6874ee(0xee);else{if(_0x5a5204==0x1||_0x5a5204==0x2){if(!checkUtil['isNumber'](_0x5a5204))return console[_0x6874ee(0xe0)]('Params\x20error\x20:\x20fileType'),[];_0x578abd+=_0x6874ee(0xd0),_0x25e5d9[_0x6874ee(0xcd)](_0x5a5204);}else _0x5a5204==0x3&&(_0x578abd+=_0x6874ee(0xdb));}_0x462ddf&&(_0x578abd+=_0x6874ee(0xef),_0x25e5d9[_0x6874ee(0xcd)]('%'+_0x462ddf+'%'),_0x25e5d9[_0x6874ee(0xcd)]('%'+_0x462ddf+'%'));!_0x172743||_0x172743==0x0?(_0x578abd+=_0x6874ee(0xff),_0x578abd+=_0x6874ee(0xf2)):_0x578abd+=_0x6874ee(0xe7);if(_0xedd3db){let _0x35b690=_0x366205[_0x6874ee(0xde)][_0x6874ee(0xbb)]['prepare'](_0x6874ee(0xca))[_0x6874ee(0xf3)](_0xedd3db);if(_0x35b690)try{let _0x4f7e23=JSON[_0x6874ee(0xc5)](_0x35b690[_0x6874ee(0xbc)]),_0x416646=dbUserTable[_0x6874ee(0xe4)](!![],_0x4f7e23);_0x578abd+=_0x416646[_0x6874ee(0xb9)],_0x25e5d9['push'](..._0x416646[_0x6874ee(0xf1)]);}catch(_0x12a83e){console[_0x6874ee(0xe0)](_0x12a83e);}}if(_0x366205[_0x6874ee(0xdd)]['albumId']){if(!checkUtil[_0x6874ee(0xd1)](_0x366205[_0x6874ee(0xdd)]['albumId']))return console['log'](_0x6874ee(0xea)),[];let _0x357daf=dbAlbumTable[_0x6874ee(0xb8)](_0x366205[_0x6874ee(0xde)][_0x6874ee(0x104)],_0x366205[_0x6874ee(0xdd)]['albumId']);_0x357daf&&(_0x578abd+=_0x6874ee(0xc8)+_0x357daf);}_0x578abd+=_0x550017[_0x6874ee(0xb9)],_0x25e5d9[_0x6874ee(0xcd)](..._0x550017['paramsList']),_0x578abd+=_0x6874ee(0xc7);(_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xe8)]||_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xcf)])&&(_0x578abd+=_0x6874ee(0x105));_0x578abd+='\x20ORDER\x20BY\x20'+_0x26e3b5+'\x20'+_0x14ab32;!_0x58f323&&(_0x58f323=0x32);if(!checkUtil[_0x6874ee(0xd1)](_0x58f323))return console['log']('Params\x20error\x20:\x20count'),[];_0x578abd+='\x20LIMIT\x20?',_0x25e5d9[_0x6874ee(0xcd)](_0x58f323);let _0x255bad=[];if(_0x366205['body'][_0x6874ee(0xeb)])_0x255bad=dbFileIndexTable['getAllByWhereAndFieldFromOrdinaryAlbum'](_0x366205[_0x6874ee(0xde)][_0x6874ee(0xbb)],_0x578abd,_0x40fb37,[parseInt(_0x366205[_0x6874ee(0xdd)]['ordinaryAlbumId']),..._0x25e5d9]);else{if(_0x366205[_0x6874ee(0xdd)][_0x6874ee(0xe8)])_0x255bad=dbFileIndexTable[_0x6874ee(0xe9)](_0x366205[_0x6874ee(0xde)]['dbFileIndex'],_0x366205[_0x6874ee(0xdd)]['aiClassId'],_0x578abd,_0x40fb37,_0x25e5d9);else _0x366205[_0x6874ee(0xdd)][_0x6874ee(0xcf)]?_0x255bad=dbFileIndexTable[_0x6874ee(0xce)](_0x366205['app'][_0x6874ee(0xbb)],_0x366205[_0x6874ee(0xdd)]['faceId'],_0x578abd,_0x40fb37,_0x25e5d9):_0x255bad=dbFileIndexTable[_0x6874ee(0xf5)](_0x366205[_0x6874ee(0xde)][_0x6874ee(0xbb)],_0x578abd,_0x40fb37,dbFileIndexTable[_0x6874ee(0xfb)],_0x25e5d9);}if(_0x255bad&&_0x255bad[_0x6874ee(0xbe)]>0x0)for(let _0x34712a in _0x255bad){_0x255bad[_0x34712a][_0x6874ee(0xf0)]==0x1&&(_0x255bad[_0x34712a][_0x6874ee(0xe1)]=dbFileIndexTable[_0x6874ee(0xe5)](_0x366205[_0x6874ee(0xde)][_0x6874ee(0xbb)],_0x255bad[_0x34712a],_0x40fb37));if(_0x255bad[_0x34712a]['is_raw']==0x0&&_0x255bad[_0x34712a]['raw_filename']!=null&&_0x255bad[_0x34712a]['raw_filename']!=''){let _0x2c133c=dbFileIndexTable[_0x6874ee(0xf8)](_0x366205['app']['dbFileIndex'],_0x255bad[_0x34712a],_0x40fb37);_0x2c133c&&(_0x255bad[_0x34712a][_0x6874ee(0xd6)]=_0x2c133c);}}return _0x255bad;},module[_0x309f05(0xec)]=photoApiUtil;