const _0x51fbdc=_0x3f83;function _0x3f83(_0x4c60b2,_0x4f8431){const _0xbb7bc1=_0xbb7b();return _0x3f83=function(_0x3f8388,_0x5e34c5){_0x3f8388=_0x3f8388-0x17b;let _0x17c9bd=_0xbb7bc1[_0x3f8388];return _0x17c9bd;},_0x3f83(_0x4c60b2,_0x4f8431);}(function(_0x370ae8,_0x452907){const _0x1f4632=_0x3f83,_0x30f518=_0x370ae8();while(!![]){try{const _0x504d9d=parseInt(_0x1f4632(0x190))/0x1+parseInt(_0x1f4632(0x183))/0x2*(parseInt(_0x1f4632(0x191))/0x3)+parseInt(_0x1f4632(0x195))/0x4+parseInt(_0x1f4632(0x182))/0x5+-parseInt(_0x1f4632(0x19e))/0x6+parseInt(_0x1f4632(0x194))/0x7*(-parseInt(_0x1f4632(0x18b))/0x8)+-parseInt(_0x1f4632(0x18d))/0x9*(parseInt(_0x1f4632(0x19d))/0xa);if(_0x504d9d===_0x452907)break;else _0x30f518['push'](_0x30f518['shift']());}catch(_0x1db949){_0x30f518['push'](_0x30f518['shift']());}}}(_0xbb7b,0x95c34));var express=require(_0x51fbdc(0x18f)),router=express[_0x51fbdc(0x180)]();let config=require('../../myConfig/config'),dbNoticeCenterTable=require(_0x51fbdc(0x19f));router[_0x51fbdc(0x198)](_0x51fbdc(0x199),(_0x5df9aa,_0x4fb779,_0x2f3e4c)=>{const _0x41bd45=_0x51fbdc;let _0x2bc840=_0x5df9aa[_0x41bd45(0x1a1)]['id'],_0x1d0415=_0x5df9aa[_0x41bd45(0x1a1)][_0x41bd45(0x185)],_0x5accb8=_0x5df9aa['body'][_0x41bd45(0x17b)];!_0x2bc840&&(_0x2bc840=0x9184e729fff);let _0x4c76c4=[_0x41bd45(0x19b),_0x41bd45(0x19c)];if(!_0x5accb8||!_0x4c76c4[_0x41bd45(0x18a)](_0x5accb8))return _0x5df9aa[_0x41bd45(0x187)]['returnErrMsg'](_0x4fb779,_0x4fb779['__'](_0x41bd45(0x17c)));let _0x5287c7='',_0x16079f=[];_0x5287c7+=_0x41bd45(0x181),_0x16079f[_0x41bd45(0x184)](_0x5accb8),_0x16079f['push'](_0x2bc840),_0x16079f[_0x41bd45(0x184)](_0x1d0415);let _0x2e16ef=dbNoticeCenterTable[_0x41bd45(0x192)](_0x5df9aa[_0x41bd45(0x187)]['dbOther'],_0x5287c7,_0x16079f),_0xe1ff9c=dbNoticeCenterTable[_0x41bd45(0x19a)](_0x5df9aa['app'][_0x41bd45(0x193)],_0x41bd45(0x19b)),_0x361351=dbNoticeCenterTable[_0x41bd45(0x19a)](_0x5df9aa[_0x41bd45(0x187)][_0x41bd45(0x193)],_0x41bd45(0x19c));_0x4fb779[_0x41bd45(0x17e)]({'code':0x0,'data':_0x2e16ef,'infoUnReadCount':_0xe1ff9c[_0x41bd45(0x185)],'errorUnReadCount':_0x361351['count']});}),router[_0x51fbdc(0x198)](_0x51fbdc(0x1a0),(_0x52667b,_0x37eef6,_0x32f19b)=>{const _0x28d429=_0x51fbdc;let _0x403882=_0x52667b[_0x28d429(0x1a1)]['level'],_0x5d2a52=dbNoticeCenterTable['getUnReadCount'](_0x52667b[_0x28d429(0x187)][_0x28d429(0x193)],_0x403882);_0x37eef6['json']({'code':0x0,'unReadCount':_0x5d2a52[_0x28d429(0x185)]});}),router[_0x51fbdc(0x198)](_0x51fbdc(0x197),(_0xeac938,_0x4bb4f8,_0x428bb7)=>{const _0x30d7ee=_0x51fbdc;let _0x541a5e=_0xeac938[_0x30d7ee(0x1a1)]['id'],_0x1a8625=_0xeac938['body'][_0x30d7ee(0x186)],_0x223450=_0xeac938[_0x30d7ee(0x1a1)][_0x30d7ee(0x17f)];_0x1a8625?dbNoticeCenterTable['refreshRead'](_0xeac938[_0x30d7ee(0x187)][_0x30d7ee(0x193)],_0x223450):dbNoticeCenterTable['refreshReadById'](_0xeac938[_0x30d7ee(0x187)][_0x30d7ee(0x193)],_0x541a5e),_0x4bb4f8[_0x30d7ee(0x17e)]({'code':0x0});}),router[_0x51fbdc(0x198)](_0x51fbdc(0x189),(_0x9b8cf7,_0x34db97,_0x414413)=>{const _0x4b67af=_0x51fbdc;if(_0x9b8cf7[_0x4b67af(0x188)][_0x4b67af(0x18c)]!=0x1)return _0x34db97[_0x4b67af(0x17e)]({'code':0x66});let _0x1905f6=_0x9b8cf7[_0x4b67af(0x1a1)]['id'],_0x32ba83=_0x9b8cf7[_0x4b67af(0x1a1)]['isAll'],_0x51eb69=_0x9b8cf7[_0x4b67af(0x1a1)][_0x4b67af(0x17f)];_0x32ba83?dbNoticeCenterTable[_0x4b67af(0x17d)](_0x9b8cf7['app'][_0x4b67af(0x193)],_0x51eb69):dbNoticeCenterTable[_0x4b67af(0x196)](_0x9b8cf7[_0x4b67af(0x187)][_0x4b67af(0x193)],_0x1905f6),_0x34db97[_0x4b67af(0x17e)]({'code':0x0});}),module[_0x51fbdc(0x18e)]=router;function _0xbb7b(){const _0x39be10=['count','isAll','app','currentUser','/delete','includes','64LwPAZF','is_admin','5731695HBwNgO','exports','express','178325iJGVxl','201MvSCrR','getByWhere','dbOther','159145eBbrQl','3413072OZHAUP','delete','/read','post','/getMessage','getUnReadCount','info','error','10KzfXbC','4262070PFbMPW','../../db/dbNoticeCenterTable','/getUnReadCount','body','msgType','operationFail','clearAllByLevel','json','level','Router','\x20level=?\x20AND\x20id\x20<\x20?\x20ORDER\x20BY\x20create_time\x20DESC\x20LIMIT\x20?\x20','2580110xTgFKX','17758dqfklt','push'];_0xbb7b=function(){return _0x39be10;};return _0xbb7b();}