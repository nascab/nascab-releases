const _0xc0d3ef=_0x5c57;(function(_0x4b40b9,_0xba492b){const _0x337465=_0x5c57,_0x31e141=_0x4b40b9();while(!![]){try{const _0x16ec5f=-parseInt(_0x337465(0x112))/0x1+-parseInt(_0x337465(0x10f))/0x2*(parseInt(_0x337465(0x105))/0x3)+-parseInt(_0x337465(0x10e))/0x4*(parseInt(_0x337465(0x10d))/0x5)+parseInt(_0x337465(0x10a))/0x6*(parseInt(_0x337465(0x110))/0x7)+-parseInt(_0x337465(0x109))/0x8+parseInt(_0x337465(0x116))/0x9+-parseInt(_0x337465(0x113))/0xa*(-parseInt(_0x337465(0xfd))/0xb);if(_0x16ec5f===_0xba492b)break;else _0x31e141['push'](_0x31e141['shift']());}catch(_0xab2587){_0x31e141['push'](_0x31e141['shift']());}}}(_0x31d8,0x51589));function _0x5c57(_0x1da178,_0x3be1b1){const _0x31d806=_0x31d8();return _0x5c57=function(_0x5c578c,_0x480dfb){_0x5c578c=_0x5c578c-0xf8;let _0x3b8421=_0x31d806[_0x5c578c];return _0x3b8421;},_0x5c57(_0x1da178,_0x3be1b1);}var express=require(_0xc0d3ef(0xf8)),router=express[_0xc0d3ef(0x11b)]();function _0x31d8(){const _0x2e1034=['5iwIazN','2544628EDPrfC','2QdiVwz','14wkqARi','refreshReadById','344795pbtDPQ','690wzxIrl','json','push','2901753BPlyYr','count','../../myConfig/config','../../db/dbNoticeCenterTable','app','Router','msgType','express','post','delete','info','body','187737FGmNCg','isAll','getByWhere','includes','is_admin','/delete','/read','getUnReadCount','659676RcYUMd','dbOther','exports','operationFail','4127496FTbZsT','1649802BLRRYZ','level','error'];_0x31d8=function(){return _0x2e1034;};return _0x31d8();}let config=require(_0xc0d3ef(0x118)),dbNoticeCenterTable=require(_0xc0d3ef(0x119));router[_0xc0d3ef(0xf9)]('/getMessage',(_0x37a493,_0x5aa354,_0x36fef5)=>{const _0x4616b3=_0xc0d3ef;let _0x566333=_0x37a493[_0x4616b3(0xfc)]['id'],_0xe187b3=_0x37a493[_0x4616b3(0xfc)][_0x4616b3(0x117)],_0x305573=_0x37a493[_0x4616b3(0xfc)][_0x4616b3(0x11c)];!_0x566333&&(_0x566333=0x9184e729fff);let _0x53bda7=['info','error'];if(!_0x305573||!_0x53bda7[_0x4616b3(0x100)](_0x305573))return _0x37a493[_0x4616b3(0x11a)]['returnErrMsg'](_0x5aa354,_0x5aa354['__'](_0x4616b3(0x108)));let _0x556703='',_0x294b4c=[];_0x556703+='\x20level=?\x20AND\x20id\x20<\x20?\x20ORDER\x20BY\x20create_time\x20DESC\x20LIMIT\x20?\x20',_0x294b4c[_0x4616b3(0x115)](_0x305573),_0x294b4c[_0x4616b3(0x115)](_0x566333),_0x294b4c[_0x4616b3(0x115)](_0xe187b3);let _0x26d284=dbNoticeCenterTable[_0x4616b3(0xff)](_0x37a493[_0x4616b3(0x11a)][_0x4616b3(0x106)],_0x556703,_0x294b4c),_0x4f5dd3=dbNoticeCenterTable['getUnReadCount'](_0x37a493['app'][_0x4616b3(0x106)],_0x4616b3(0xfb)),_0x5c4823=dbNoticeCenterTable[_0x4616b3(0x104)](_0x37a493['app'][_0x4616b3(0x106)],_0x4616b3(0x10c));_0x5aa354[_0x4616b3(0x114)]({'code':0x0,'data':_0x26d284,'infoUnReadCount':_0x4f5dd3['count'],'errorUnReadCount':_0x5c4823['count']});}),router[_0xc0d3ef(0xf9)]('/getUnReadCount',(_0x347b5c,_0x2722c9,_0x46894d)=>{const _0x1598b8=_0xc0d3ef;let _0x667351=_0x347b5c[_0x1598b8(0xfc)]['level'],_0x2d0ce3=dbNoticeCenterTable[_0x1598b8(0x104)](_0x347b5c[_0x1598b8(0x11a)][_0x1598b8(0x106)],_0x667351);_0x2722c9[_0x1598b8(0x114)]({'code':0x0,'unReadCount':_0x2d0ce3[_0x1598b8(0x117)]});}),router[_0xc0d3ef(0xf9)](_0xc0d3ef(0x103),(_0x4f40fc,_0x451496,_0x55d108)=>{const _0x2b9a2e=_0xc0d3ef;let _0x13c10a=_0x4f40fc[_0x2b9a2e(0xfc)]['id'],_0x1dd10d=_0x4f40fc[_0x2b9a2e(0xfc)][_0x2b9a2e(0xfe)],_0x31b551=_0x4f40fc[_0x2b9a2e(0xfc)][_0x2b9a2e(0x10b)];_0x1dd10d?dbNoticeCenterTable['refreshRead'](_0x4f40fc[_0x2b9a2e(0x11a)][_0x2b9a2e(0x106)],_0x31b551):dbNoticeCenterTable[_0x2b9a2e(0x111)](_0x4f40fc[_0x2b9a2e(0x11a)]['dbOther'],_0x13c10a),_0x451496[_0x2b9a2e(0x114)]({'code':0x0});}),router[_0xc0d3ef(0xf9)](_0xc0d3ef(0x102),(_0x496e51,_0x151a75,_0x43bb60)=>{const _0x1a9451=_0xc0d3ef;if(_0x496e51['currentUser'][_0x1a9451(0x101)]!=0x1)return _0x151a75[_0x1a9451(0x114)]({'code':0x66});let _0x426116=_0x496e51[_0x1a9451(0xfc)]['id'],_0x531392=_0x496e51[_0x1a9451(0xfc)][_0x1a9451(0xfe)],_0x5b1979=_0x496e51[_0x1a9451(0xfc)][_0x1a9451(0x10b)];_0x531392?dbNoticeCenterTable['clearAllByLevel'](_0x496e51[_0x1a9451(0x11a)][_0x1a9451(0x106)],_0x5b1979):dbNoticeCenterTable[_0x1a9451(0xfa)](_0x496e51['app'][_0x1a9451(0x106)],_0x426116),_0x151a75[_0x1a9451(0x114)]({'code':0x0});}),module[_0xc0d3ef(0x107)]=router;