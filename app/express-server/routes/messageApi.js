function _0x6d2d(){const _0x16ae8f=['getByWhere','1360848IYVHkP','count','includes','getUnReadCount','isAll','body','4083414EDJXxR','info','/getUnReadCount','/read','msgType','15cKAImI','/delete','operationFail','refreshReadById','app','exports','Router','14646mPpdFz','json','express','returnErrMsg','clearAllByLevel','/getMessage','dbOther','../../myConfig/config','post','3962HAgAhq','delete','19059174JYiYVt','215865xYvLLJ','push','316934FKKixi','error','189808jvStYT','currentUser','../../db/dbNoticeCenterTable','level'];_0x6d2d=function(){return _0x16ae8f;};return _0x6d2d();}const _0x19d56e=_0x455e;(function(_0x67c728,_0x458ceb){const _0x1222c7=_0x455e,_0x82611c=_0x67c728();while(!![]){try{const _0x3d0abe=-parseInt(_0x1222c7(0x8c))/0x1+parseInt(_0x1222c7(0x8e))/0x2+parseInt(_0x1222c7(0x74))/0x3+-parseInt(_0x1222c7(0x6e))/0x4*(parseInt(_0x1222c7(0x79))/0x5)+parseInt(_0x1222c7(0x80))/0x6*(-parseInt(_0x1222c7(0x89))/0x7)+-parseInt(_0x1222c7(0x69))/0x8+parseInt(_0x1222c7(0x8b))/0x9;if(_0x3d0abe===_0x458ceb)break;else _0x82611c['push'](_0x82611c['shift']());}catch(_0x2354d7){_0x82611c['push'](_0x82611c['shift']());}}}(_0x6d2d,0xf3082));var express=require(_0x19d56e(0x82)),router=express[_0x19d56e(0x7f)]();let config=require(_0x19d56e(0x87)),dbNoticeCenterTable=require(_0x19d56e(0x6b));function _0x455e(_0x132920,_0x5175aa){const _0x6d2d47=_0x6d2d();return _0x455e=function(_0x455ec5,_0x3a6b9c){_0x455ec5=_0x455ec5-0x68;let _0x34fe3c=_0x6d2d47[_0x455ec5];return _0x34fe3c;},_0x455e(_0x132920,_0x5175aa);}router['post'](_0x19d56e(0x85),(_0x261dcf,_0xe81b43,_0x36b80a)=>{const _0x46b61f=_0x19d56e;let _0x3ffa2e=_0x261dcf['body']['id'],_0x3f7afc=_0x261dcf[_0x46b61f(0x73)]['count'],_0x2d2507=_0x261dcf['body'][_0x46b61f(0x78)];!_0x3ffa2e&&(_0x3ffa2e=0x9184e729fff);let _0x3511a8=[_0x46b61f(0x75),'error'];if(!_0x2d2507||!_0x3511a8[_0x46b61f(0x70)](_0x2d2507))return _0x261dcf[_0x46b61f(0x7d)][_0x46b61f(0x83)](_0xe81b43,_0xe81b43['__'](_0x46b61f(0x7b)));let _0x3b348d='',_0x39c9da=[];_0x3b348d+='\x20level=?\x20AND\x20id\x20<\x20?\x20ORDER\x20BY\x20create_time\x20DESC\x20LIMIT\x20?\x20',_0x39c9da[_0x46b61f(0x8d)](_0x2d2507),_0x39c9da[_0x46b61f(0x8d)](_0x3ffa2e),_0x39c9da[_0x46b61f(0x8d)](_0x3f7afc);let _0x51f020=dbNoticeCenterTable[_0x46b61f(0x6d)](_0x261dcf[_0x46b61f(0x7d)][_0x46b61f(0x86)],_0x3b348d,_0x39c9da),_0x402360=dbNoticeCenterTable[_0x46b61f(0x71)](_0x261dcf[_0x46b61f(0x7d)][_0x46b61f(0x86)],'info'),_0x13e8b8=dbNoticeCenterTable[_0x46b61f(0x71)](_0x261dcf[_0x46b61f(0x7d)][_0x46b61f(0x86)],_0x46b61f(0x68));_0xe81b43[_0x46b61f(0x81)]({'code':0x0,'data':_0x51f020,'infoUnReadCount':_0x402360[_0x46b61f(0x6f)],'errorUnReadCount':_0x13e8b8['count']});}),router[_0x19d56e(0x88)](_0x19d56e(0x76),(_0xe8f12d,_0x3cc06b,_0x2f436a)=>{const _0x380f8c=_0x19d56e;let _0x59f883=_0xe8f12d['body'][_0x380f8c(0x6c)],_0x242afb=dbNoticeCenterTable[_0x380f8c(0x71)](_0xe8f12d[_0x380f8c(0x7d)][_0x380f8c(0x86)],_0x59f883);_0x3cc06b[_0x380f8c(0x81)]({'code':0x0,'unReadCount':_0x242afb[_0x380f8c(0x6f)]});}),router[_0x19d56e(0x88)](_0x19d56e(0x77),(_0x13f4c8,_0x82c250,_0x30fd74)=>{const _0x388f22=_0x19d56e;let _0x4179c0=_0x13f4c8[_0x388f22(0x73)]['id'],_0x16ae97=_0x13f4c8[_0x388f22(0x73)][_0x388f22(0x72)],_0x235633=_0x13f4c8[_0x388f22(0x73)]['level'];_0x16ae97?dbNoticeCenterTable['refreshRead'](_0x13f4c8[_0x388f22(0x7d)][_0x388f22(0x86)],_0x235633):dbNoticeCenterTable[_0x388f22(0x7c)](_0x13f4c8[_0x388f22(0x7d)][_0x388f22(0x86)],_0x4179c0),_0x82c250[_0x388f22(0x81)]({'code':0x0});}),router[_0x19d56e(0x88)](_0x19d56e(0x7a),(_0x3b6cbd,_0x167797,_0x58e7cb)=>{const _0x7c798c=_0x19d56e;if(_0x3b6cbd[_0x7c798c(0x6a)]['is_admin']!=0x1)return _0x167797[_0x7c798c(0x81)]({'code':0x66});let _0x218c3f=_0x3b6cbd[_0x7c798c(0x73)]['id'],_0x280aba=_0x3b6cbd[_0x7c798c(0x73)][_0x7c798c(0x72)],_0x1069ff=_0x3b6cbd[_0x7c798c(0x73)]['level'];_0x280aba?dbNoticeCenterTable[_0x7c798c(0x84)](_0x3b6cbd[_0x7c798c(0x7d)][_0x7c798c(0x86)],_0x1069ff):dbNoticeCenterTable[_0x7c798c(0x8a)](_0x3b6cbd[_0x7c798c(0x7d)][_0x7c798c(0x86)],_0x218c3f),_0x167797[_0x7c798c(0x81)]({'code':0x0});}),module[_0x19d56e(0x7e)]=router;