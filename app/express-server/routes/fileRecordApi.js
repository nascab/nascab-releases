const _0x4a6985=_0x29db;(function(_0x431ebd,_0x356c21){const _0x32adfd=_0x29db,_0x1aa802=_0x431ebd();while(!![]){try{const _0x2c4fe7=parseInt(_0x32adfd(0xff))/0x1+-parseInt(_0x32adfd(0xf8))/0x2+parseInt(_0x32adfd(0x10a))/0x3*(-parseInt(_0x32adfd(0xf9))/0x4)+-parseInt(_0x32adfd(0xf5))/0x5+-parseInt(_0x32adfd(0x111))/0x6+parseInt(_0x32adfd(0x115))/0x7+parseInt(_0x32adfd(0xf7))/0x8;if(_0x2c4fe7===_0x356c21)break;else _0x1aa802['push'](_0x1aa802['shift']());}catch(_0x4449ad){_0x1aa802['push'](_0x1aa802['shift']());}}}(_0x52c2,0x43cc6));function _0x52c2(){const _0x17879e=['20fNQybN','json','dbOther','Router','currentUser','join','48977ghRJHE','app','name','../../db/dbFileRecord','express','body','PARAMS\x20IS\x20INVALID','/addFileRecord','count','post','getAllByUid','117069hkezkk','../utils/fileUtils','deleteAllByType','exports','delete','/getFileRecord','type','3079104XDhPai','../../myConfig/config','path','create','43176dCpLFp','platform','1522495xipbEl','push','12289224UsKqBj','601596lZVtlv'];_0x52c2=function(){return _0x17879e;};return _0x52c2();}let express=require(_0x4a6985(0x103)),router=express[_0x4a6985(0xfc)](),path=require(_0x4a6985(0x113)),fs=require('fs'),fileUtil=require(_0x4a6985(0x10b));const os=require('os'),config=require(_0x4a6985(0x112)),dbFileRecord=require(_0x4a6985(0x102));function _0x29db(_0x361cce,_0x44fd8a){const _0x52c2d6=_0x52c2();return _0x29db=function(_0x29db0b,_0xd84fed){_0x29db0b=_0x29db0b-0xf5;let _0x40e085=_0x52c2d6[_0x29db0b];return _0x40e085;},_0x29db(_0x361cce,_0x44fd8a);}let platform=os[_0x4a6985(0x116)]();router[_0x4a6985(0x108)](_0x4a6985(0x10f),(_0x228db5,_0x58a29a,_0xb1a8d3)=>{const _0x21c4eb=_0x4a6985;let _0x593e48=_0x228db5['body'][_0x21c4eb(0x110)],_0x49f78a=_0x228db5[_0x21c4eb(0x104)][_0x21c4eb(0x107)],_0x11755b=dbFileRecord[_0x21c4eb(0x109)](_0x228db5[_0x21c4eb(0x100)][_0x21c4eb(0xfb)],_0x228db5[_0x21c4eb(0xfd)]['id'],_0x593e48,_0x49f78a),_0x4b5f7e=[];for(const _0x4391b3 of _0x11755b){let _0x53b045=path[_0x21c4eb(0xfe)](_0x4391b3['parent'],_0x4391b3[_0x21c4eb(0x101)]);fs['existsSync'](_0x53b045)?_0x4b5f7e[_0x21c4eb(0xf6)](_0x4391b3):dbFileRecord[_0x21c4eb(0x10e)](_0x228db5[_0x21c4eb(0x100)]['dbOther'],_0x4391b3['id'],_0x228db5[_0x21c4eb(0xfd)]['id']);}return _0x58a29a[_0x21c4eb(0xfa)]({'code':0x0,'data':_0x4b5f7e,'platform':platform});}),router['post'](_0x4a6985(0x106),(_0x3680f8,_0x46badd,_0x3fadf4)=>{const _0x443acf=_0x4a6985;return dbFileRecord[_0x443acf(0x114)](_0x3680f8[_0x443acf(0x100)][_0x443acf(0xfb)],_0x3680f8[_0x443acf(0xfd)]['id'],_0x3680f8[_0x443acf(0x104)]),_0x46badd[_0x443acf(0xfa)]({'code':0x0});}),router[_0x4a6985(0x108)]('/deleteFileRecord',(_0x15211f,_0x1784ff,_0xbdcc88)=>{const _0x53302b=_0x4a6985;let _0x345adf=_0x15211f[_0x53302b(0x104)]['deleteAll'],_0x43f287=_0x15211f[_0x53302b(0x104)]['id'],_0x346afc=_0x15211f[_0x53302b(0x104)][_0x53302b(0x110)];if(_0x345adf&&_0x346afc)dbFileRecord[_0x53302b(0x10c)](_0x15211f[_0x53302b(0x100)][_0x53302b(0xfb)],_0x346afc,_0x15211f[_0x53302b(0xfd)]['id']);else{if(_0x43f287)dbFileRecord[_0x53302b(0x10e)](_0x15211f['app'][_0x53302b(0xfb)],_0x43f287,_0x15211f[_0x53302b(0xfd)]['id']);else return _0x1784ff['json']({'code':0x1,'message':_0x53302b(0x105)});}return _0x1784ff[_0x53302b(0xfa)]({'code':0x0});}),module[_0x4a6985(0x10d)]=router;