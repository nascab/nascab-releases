const _0x44934f=_0x1831;(function(_0x2c01d2,_0x23ff55){const _0x107b39=_0x1831,_0x533040=_0x2c01d2();while(!![]){try{const _0x447dcb=parseInt(_0x107b39(0x6d))/0x1+parseInt(_0x107b39(0x76))/0x2*(parseInt(_0x107b39(0x7e))/0x3)+-parseInt(_0x107b39(0x80))/0x4*(-parseInt(_0x107b39(0x7c))/0x5)+-parseInt(_0x107b39(0x74))/0x6+parseInt(_0x107b39(0x78))/0x7+-parseInt(_0x107b39(0x6e))/0x8+parseInt(_0x107b39(0x7f))/0x9*(-parseInt(_0x107b39(0x71))/0xa);if(_0x447dcb===_0x23ff55)break;else _0x533040['push'](_0x533040['shift']());}catch(_0x449991){_0x533040['push'](_0x533040['shift']());}}}(_0x3dea,0x8af35));function _0x1831(_0x2fc07a,_0xf25e16){const _0x3deac5=_0x3dea();return _0x1831=function(_0x183163,_0x13d6c8){_0x183163=_0x183163-0x6d;let _0x593a3a=_0x3deac5[_0x183163];return _0x593a3a;},_0x1831(_0x2fc07a,_0xf25e16);}let express=require('express'),router=express['Router'](),path=require('path'),fs=require('fs'),fileUtil=require(_0x44934f(0x83));function _0x3dea(){const _0x172daa=['create','1556490JMbKrR','deleteAllByType','2vEnIej','exports','514633VUuhhM','currentUser','../../myConfig/config','body','5AcGePT','dbOther','3277239QduhHF','81UjUUhh','4327148aQlJgF','delete','post','../utils/fileUtils','join','../../db/dbFileRecord','deleteAll','json','app','type','/getFileRecord','1064551qrNmkl','6198280LSctjN','count','getAllByUid','1898810lygcbt','name'];_0x3dea=function(){return _0x172daa;};return _0x3dea();}const os=require('os'),config=require(_0x44934f(0x7a)),dbFileRecord=require(_0x44934f(0x85));let platform=os['platform']();router[_0x44934f(0x82)](_0x44934f(0x8a),(_0x3fdbea,_0x3e44bc,_0x7f1eb6)=>{const _0x1639f9=_0x44934f;let _0x54c739=_0x3fdbea[_0x1639f9(0x7b)][_0x1639f9(0x89)],_0x1479f8=_0x3fdbea[_0x1639f9(0x7b)][_0x1639f9(0x6f)],_0x2b3b78=dbFileRecord[_0x1639f9(0x70)](_0x3fdbea['app'][_0x1639f9(0x7d)],_0x3fdbea[_0x1639f9(0x79)]['id'],_0x54c739,_0x1479f8),_0x20ea3b=[];for(const _0x127bc4 of _0x2b3b78){let _0x3ac318=path[_0x1639f9(0x84)](_0x127bc4['parent'],_0x127bc4[_0x1639f9(0x72)]);fs['existsSync'](_0x3ac318)?_0x20ea3b['push'](_0x127bc4):dbFileRecord[_0x1639f9(0x81)](_0x3fdbea[_0x1639f9(0x88)][_0x1639f9(0x7d)],_0x127bc4['id'],_0x3fdbea['currentUser']['id']);}return _0x3e44bc[_0x1639f9(0x87)]({'code':0x0,'data':_0x20ea3b,'platform':platform});}),router[_0x44934f(0x82)]('/addFileRecord',(_0x33820d,_0x3841f2,_0x1ba4ec)=>{const _0x7131d1=_0x44934f;return dbFileRecord[_0x7131d1(0x73)](_0x33820d[_0x7131d1(0x88)]['dbOther'],_0x33820d['currentUser']['id'],_0x33820d['body']),_0x3841f2['json']({'code':0x0});}),router[_0x44934f(0x82)]('/deleteFileRecord',(_0x59cc96,_0x32a012,_0x50bcab)=>{const _0x1661c6=_0x44934f;let _0x5be60a=_0x59cc96[_0x1661c6(0x7b)][_0x1661c6(0x86)],_0x2e46b6=_0x59cc96[_0x1661c6(0x7b)]['id'],_0x2ef9ca=_0x59cc96[_0x1661c6(0x7b)][_0x1661c6(0x89)];if(_0x5be60a&&_0x2ef9ca)dbFileRecord[_0x1661c6(0x75)](_0x59cc96[_0x1661c6(0x88)][_0x1661c6(0x7d)],_0x2ef9ca,_0x59cc96[_0x1661c6(0x79)]['id']);else{if(_0x2e46b6)dbFileRecord['delete'](_0x59cc96[_0x1661c6(0x88)]['dbOther'],_0x2e46b6,_0x59cc96[_0x1661c6(0x79)]['id']);else return _0x32a012[_0x1661c6(0x87)]({'code':0x1,'message':'PARAMS\x20IS\x20INVALID'});}return _0x32a012[_0x1661c6(0x87)]({'code':0x0});}),module[_0x44934f(0x77)]=router;