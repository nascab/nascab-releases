const _0x5b4517=_0xdbe1;(function(_0x22c35c,_0x546dc4){const _0x1de278=_0xdbe1,_0x5bdb31=_0x22c35c();while(!![]){try{const _0x240093=-parseInt(_0x1de278(0xd8))/0x1*(-parseInt(_0x1de278(0xdf))/0x2)+parseInt(_0x1de278(0xe8))/0x3+parseInt(_0x1de278(0xe0))/0x4+-parseInt(_0x1de278(0xdc))/0x5*(parseInt(_0x1de278(0xdb))/0x6)+parseInt(_0x1de278(0xf6))/0x7+-parseInt(_0x1de278(0xec))/0x8*(-parseInt(_0x1de278(0xef))/0x9)+-parseInt(_0x1de278(0xee))/0xa;if(_0x240093===_0x546dc4)break;else _0x5bdb31['push'](_0x5bdb31['shift']());}catch(_0x1dc38c){_0x5bdb31['push'](_0x5bdb31['shift']());}}}(_0x1706,0xbf18d));let express=require(_0x5b4517(0xf4)),router=express['Router'](),path=require(_0x5b4517(0xe7)),fs=require('fs'),fileUtil=require(_0x5b4517(0xe9));const os=require('os'),config=require('../../myConfig/config'),dbFileRecord=require(_0x5b4517(0xe6));let platform=os[_0x5b4517(0xe1)]();function _0xdbe1(_0x3a1d94,_0x33d308){const _0x1706a2=_0x1706();return _0xdbe1=function(_0xdbe1cd,_0x230d40){_0xdbe1cd=_0xdbe1cd-0xd8;let _0x39edd1=_0x1706a2[_0xdbe1cd];return _0x39edd1;},_0xdbe1(_0x3a1d94,_0x33d308);}function _0x1706(){const _0x38cdb6=['5nNEJCX','dbOther','/getFileRecord','6AMDOzI','4911080KcMcam','name','count','70718ARULVX','5577328GtCwTA','platform','delete','type','existsSync','create','../../db/dbFileRecord','path','3114645KuDwJB','../utils/fileUtils','getAllByUid','push','56wNAOwF','/deleteFileRecord','30621980NkEGWf','878778UQaVzn','currentUser','join','body','PARAMS\x20IS\x20INVALID','express','post','10740177ywHRzL','exports','json','app'];_0x1706=function(){return _0x38cdb6;};return _0x1706();}router['post'](_0x5b4517(0xda),(_0x404806,_0x3e5b99,_0xef2373)=>{const _0x2b9a69=_0x5b4517;let _0x2ab3ab=_0x404806[_0x2b9a69(0xf2)][_0x2b9a69(0xe3)],_0x2d8364=_0x404806[_0x2b9a69(0xf2)][_0x2b9a69(0xde)],_0x4cff91=dbFileRecord[_0x2b9a69(0xea)](_0x404806[_0x2b9a69(0xf9)]['dbOther'],_0x404806[_0x2b9a69(0xf0)]['id'],_0x2ab3ab,_0x2d8364),_0x1071b5=[];for(const _0x1b9348 of _0x4cff91){let _0x530208=path[_0x2b9a69(0xf1)](_0x1b9348['parent'],_0x1b9348[_0x2b9a69(0xdd)]);fs[_0x2b9a69(0xe4)](_0x530208)?_0x1071b5[_0x2b9a69(0xeb)](_0x1b9348):dbFileRecord['delete'](_0x404806[_0x2b9a69(0xf9)][_0x2b9a69(0xd9)],_0x1b9348['id'],_0x404806[_0x2b9a69(0xf0)]['id']);}return _0x3e5b99[_0x2b9a69(0xf8)]({'code':0x0,'data':_0x1071b5,'platform':platform});}),router[_0x5b4517(0xf5)]('/addFileRecord',(_0x5c24f0,_0x4827a7,_0x177b98)=>{const _0x43ea2e=_0x5b4517;return dbFileRecord[_0x43ea2e(0xe5)](_0x5c24f0[_0x43ea2e(0xf9)]['dbOther'],_0x5c24f0['currentUser']['id'],_0x5c24f0['body']),_0x4827a7[_0x43ea2e(0xf8)]({'code':0x0});}),router[_0x5b4517(0xf5)](_0x5b4517(0xed),(_0x2c870d,_0x2612b2,_0x106b74)=>{const _0x32df05=_0x5b4517;let _0x4cc302=_0x2c870d[_0x32df05(0xf2)]['deleteAll'],_0x1b6971=_0x2c870d[_0x32df05(0xf2)]['id'],_0x296d70=_0x2c870d[_0x32df05(0xf2)][_0x32df05(0xe3)];if(_0x4cc302&&_0x296d70)dbFileRecord['deleteAllByType'](_0x2c870d[_0x32df05(0xf9)][_0x32df05(0xd9)],_0x296d70,_0x2c870d[_0x32df05(0xf0)]['id']);else{if(_0x1b6971)dbFileRecord[_0x32df05(0xe2)](_0x2c870d[_0x32df05(0xf9)][_0x32df05(0xd9)],_0x1b6971,_0x2c870d[_0x32df05(0xf0)]['id']);else return _0x2612b2[_0x32df05(0xf8)]({'code':0x1,'message':_0x32df05(0xf3)});}return _0x2612b2[_0x32df05(0xf8)]({'code':0x0});}),module[_0x5b4517(0xf7)]=router;