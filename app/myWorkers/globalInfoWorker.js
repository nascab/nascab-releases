const _0x11cca7=_0x3263;(function(_0x62ecfc,_0x3acd66){const _0x300695=_0x3263,_0x415c55=_0x62ecfc();while(!![]){try{const _0x6de247=-parseInt(_0x300695(0x10e))/0x1+-parseInt(_0x300695(0x137))/0x2*(-parseInt(_0x300695(0xbe))/0x3)+parseInt(_0x300695(0xf5))/0x4+-parseInt(_0x300695(0xef))/0x5*(-parseInt(_0x300695(0x111))/0x6)+parseInt(_0x300695(0x11e))/0x7*(-parseInt(_0x300695(0xc0))/0x8)+parseInt(_0x300695(0xeb))/0x9*(-parseInt(_0x300695(0xcd))/0xa)+-parseInt(_0x300695(0x10d))/0xb*(-parseInt(_0x300695(0xe7))/0xc);if(_0x6de247===_0x3acd66)break;else _0x415c55['push'](_0x415c55['shift']());}catch(_0x31750d){_0x415c55['push'](_0x415c55['shift']());}}}(_0x35da,0x71f55));let dbConfigTable=require(_0x11cca7(0x104)),dbFileOperationRecord=require('../db/dbFileOperationRecord'),axios=require(_0x11cca7(0x120));const config=require(_0x11cca7(0xbd));let fs=require('fs'),path=require(_0x11cca7(0xf3));const Database=require(_0x11cca7(0xfc));let dbOther=new Database(config['dbOther'],{}),dbFileIndex=new Database(config[_0x11cca7(0x13b)],{});dbFileIndex[_0x11cca7(0x13c)](_0x11cca7(0xc7)),dbOther[_0x11cca7(0x13c)](_0x11cca7(0xc7));let nasAccountUtil=require(_0x11cca7(0xe0));const OS=require('os'),platform=OS['platform'](),videoStreamUtil=require(_0x11cca7(0xec));let nasTrans=require(_0x11cca7(0x135));const globalInfoUtil=require(_0x11cca7(0x112));let FFmpeg=nasTrans[_0x11cca7(0x12c)];const packageInfo=require(_0x11cca7(0x129)),movieUtil=require('../express-server/utils/movieUtil'),bookIndexUtil=require(_0x11cca7(0xf6)),urlConfig=require(_0x11cca7(0xe9)),dbScanTaskTable=require('../db/dbScanTaskTable');process[_0x11cca7(0xfa)]=_0x11cca7(0xfe);let usableCoderList=[];function ffmpegTestDecoderEncoder(_0x2bc620,_0x130ff4,_0x18c0ec,_0x478625,_0x1aed6d){return new Promise((_0x1c83e7,_0x27cd5a)=>{const _0x3a3477=_0x3263;if(_0x1aed6d)for(parent of _0x1aed6d){for(useCoderItem of usableCoderList){if(parent==useCoderItem['coderName']&&_0x2bc620==useCoderItem['decoderType'])return _0x27cd5a();}}if(_0x3a3477(0x100)==_0x478625&&!_0x18c0ec&&!_0x130ff4)return _0x1c83e7();let _0x515455=_0x2bc620=='HEVC'?_0x3a3477(0xca):'transcodetesth264',_0x2aab68=path[_0x3a3477(0xdb)](config[_0x3a3477(0xd5)],_0x3a3477(0xee),_0x515455);if(packageInfo[_0x3a3477(0xfd)]){let _0x1d21c7=path['join'](config[_0x3a3477(0xd3)],_0x515455);if(!fs[_0x3a3477(0xf9)](_0x1d21c7))try{let _0x1097e6=fs['readFileSync'](_0x2aab68);fs['writeFileSync'](_0x1d21c7,_0x1097e6),_0x2aab68=_0x1d21c7,console[_0x3a3477(0xf1)](_0x3a3477(0xc5));}catch(_0x47f8c8){console[_0x3a3477(0xf1)](_0x3a3477(0x10a),_0x47f8c8);}else _0x2aab68=_0x1d21c7;}let _0x151ebd=path[_0x3a3477(0xdb)](config[_0x3a3477(0xd3)],_0x3a3477(0x118));fs[_0x3a3477(0x131)](_0x2aab68,(_0x4c660c,_0x548ae2)=>{const _0xdde0d5=_0x3a3477;if(_0x4c660c)return _0x27cd5a();let _0x4b7d1e=FFmpeg(_0x2aab68);_0x130ff4&&_0x4b7d1e[_0xdde0d5(0x114)](_0x130ff4),_0x18c0ec&&_0x4b7d1e[_0xdde0d5(0x114)](_0x18c0ec),_0x478625&&_0x4b7d1e[_0xdde0d5(0x134)](_0x478625),_0x4b7d1e['on'](_0xdde0d5(0xf2),function(_0x143cb0){})['on'](_0xdde0d5(0xd9),function(_0x3129a1){_0x27cd5a();})['on'](_0xdde0d5(0x106),function(_0x5857d7){_0x1c83e7();}),_0x4b7d1e[_0xdde0d5(0xde)](_0x151ebd),_0x4b7d1e[_0xdde0d5(0xdd)]();});});}function getFitDecoderEncoder(_0x1fc35a){const _0x5b4163=_0x11cca7;let _0x5ae125=[];_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0x138),'decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x5b4163(0xda)}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':'-hwaccel\x20cuda','decoderCommand':'','encoderName':_0x5b4163(0x110),'coderName':_0x5b4163(0xda)}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0xe3),'decoderCommand':'','encoderName':_0x5b4163(0x110),'coderName':_0x5b4163(0x122),'parents':[_0x5b4163(0xda)]}),_0x5ae125['push']({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xe3),'decoderCommand':'','encoderName':_0x5b4163(0x110),'coderName':_0x5b4163(0x122),'parents':['NVIDIA\x20GPU']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':'-hwaccel\x20auto','decoderCommand':_0x5b4163(0x12b),'encoderName':'','coderName':_0x5b4163(0x12f),'parents':[_0x5b4163(0xda),_0x5b4163(0x122)]}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xe3),'decoderCommand':_0x5b4163(0x13d),'encoderName':'','coderName':'NVIDIA\x20CUVID','parents':['NVIDIA\x20GPU',_0x5b4163(0x122)]}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0xe3),'decoderCommand':'','encoderName':_0x5b4163(0x12d),'coderName':'INTEL\x20GPU'}),_0x5ae125['push']({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xe3),'decoderCommand':'','encoderName':_0x5b4163(0x12d),'coderName':_0x5b4163(0x107)}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':_0x5b4163(0x12d),'coderName':'INTEL\x20GPU','parents':[_0x5b4163(0x107)]}),_0x5ae125['push']({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0xc4),'decoderCommand':'','encoderName':_0x5b4163(0x12d),'coderName':_0x5b4163(0x116)}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xc4),'decoderCommand':'','encoderName':_0x5b4163(0x12d),'coderName':'DXVA2+QSV'}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':'h264_qsv','coderName':'D3D11VA+QSV','parents':[_0x5b4163(0x107),'DXVA2+QSV']}),_0x5ae125['push']({'decoderType':_0x5b4163(0x101),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x5b4163(0x12d),'coderName':_0x5b4163(0xd6),'parents':['INTEL\x20GPU',_0x5b4163(0x116)]}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':'H264','hwaccel':_0x5b4163(0xc4),'decoderCommand':'','encoderName':'h264_amf','coderName':_0x5b4163(0x128),'parents':[_0x5b4163(0x107),'DXVA2+QSV','D3D11VA+QSV']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xc4),'decoderCommand':'','encoderName':_0x5b4163(0x125),'coderName':_0x5b4163(0x128),'parents':[_0x5b4163(0x107),'DXVA2+QSV','D3D11VA+QSV']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':'H264','hwaccel':_0x5b4163(0x115),'decoderCommand':'','encoderName':_0x5b4163(0x125),'coderName':'D3D11VA+AMF','parents':[_0x5b4163(0x107),_0x5b4163(0x116),_0x5b4163(0xd6)]}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0x115),'decoderCommand':'','encoderName':'h264_amf','coderName':_0x5b4163(0x13a),'parents':[_0x5b4163(0x107),_0x5b4163(0x116),'D3D11VA+QSV']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'decoderCommand':'','encoderName':_0x5b4163(0x125),'coderName':_0x5b4163(0xea),'parents':[_0x5b4163(0x128),_0x5b4163(0xd6),_0x5b4163(0x107),'DXVA2+QSV',_0x5b4163(0xd6)]}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'decoderCommand':'','encoderName':_0x5b4163(0x125),'coderName':_0x5b4163(0xea),'parents':['DXVA2+AFM',_0x5b4163(0xd6),_0x5b4163(0x107),_0x5b4163(0x116),'D3D11VA+QSV']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0xc4),'decoderCommand':'','encoderName':'','coderName':'DXVA2','parents':[_0x5b4163(0x128),_0x5b4163(0x116)]}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xc4),'decoderCommand':'','encoderName':'','coderName':_0x5b4163(0x127),'parents':[_0x5b4163(0x128),'DXVA2+QSV']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0x115),'decoderCommand':'','encoderName':'','coderName':'D3D11VA','parents':[_0x5b4163(0x136),'D3D11VA+QSV']}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':'HEVC','hwaccel':_0x5b4163(0x115),'decoderCommand':'','encoderName':'','coderName':_0x5b4163(0xcc),'parents':[_0x5b4163(0x136),_0x5b4163(0xd6)]});platform==_0x5b4163(0xff)&&(_0x5ae125['push']({'hwaccel':_0x5b4163(0xcf),'decoderType':_0x5b4163(0xed),'decoderCommand':'','encoderName':'h264_videotoolbox','coderName':_0x5b4163(0x139)}),_0x5ae125[_0x5b4163(0xe6)]({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':'HEVC','decoderCommand':'','encoderName':_0x5b4163(0x121),'coderName':'MacOs\x20VideoToolBox'}));_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0xed),'hwaccel':_0x5b4163(0xe3),'decoderCommand':'','encoderName':'','coderName':_0x5b4163(0x11f)}),_0x5ae125[_0x5b4163(0xe6)]({'decoderType':_0x5b4163(0x101),'hwaccel':_0x5b4163(0xe3),'decoderCommand':'','encoderName':'','coderName':_0x5b4163(0x11f)}),_0x5ae125['push']({'decoderType':'HEVC','decoderCommand':'','encoderName':_0x5b4163(0x100),'coderName':'CPU'}),_0x5ae125['push']({'decoderType':_0x5b4163(0xed),'decoderCommand':'','encoderName':_0x5b4163(0x100),'coderName':_0x5b4163(0x12e)});function _0xdaed4e(_0xa0552e){const _0x5440f0=_0x5b4163;function _0x30bedf(){const _0x126ec3=_0x3263;_0xa0552e>=_0x5ae125[_0x126ec3(0xc9)]-0x1?_0x1fc35a(usableCoderList):_0xdaed4e(_0xa0552e+0x1);}let _0x3c81a1=_0x5ae125[_0xa0552e][_0x5440f0(0xe8)],_0x26efcb=_0x5ae125[_0xa0552e]['decoderType'],_0x1dd17f=_0x5ae125[_0xa0552e][_0x5440f0(0xd4)],_0x4b1980=_0x5ae125[_0xa0552e][_0x5440f0(0x12a)],_0x37d120=_0x5ae125[_0xa0552e]['parents'];for(let _0xd476ab of usableCoderList){if(_0xd476ab[_0x5440f0(0xf4)]==_0x26efcb&&_0xd476ab['decoderCommand']==_0x1dd17f&&_0xd476ab['coderName']==_0x5ae125[_0xa0552e]['coderName'])return _0x30bedf();}ffmpegTestDecoderEncoder(_0x26efcb,_0x3c81a1,_0x1dd17f,_0x4b1980,_0x37d120)[_0x5440f0(0x11a)](()=>{const _0x4e9acf=_0x5440f0;usableCoderList[_0x4e9acf(0xe6)](_0x5ae125[_0xa0552e]),_0x30bedf();})[_0x5440f0(0xc2)](()=>{_0x30bedf();});}_0xdaed4e(0x0);}function detectFfmpegGpuCoder(){const _0x33b319=_0x11cca7;console[_0x33b319(0xf1)](_0x33b319(0xd2)),getFitDecoderEncoder(_0x58c124=>{const _0x53bc6e=_0x33b319;dbConfigTable[_0x53bc6e(0x124)](dbOther,{'title':_0x53bc6e(0x11d),'value':JSON[_0x53bc6e(0xc6)](_0x58c124)});});}function nasAccountRefresh(){const _0x43bf86=_0x11cca7;nasAccountUtil[_0x43bf86(0x105)](dbOther)[_0x43bf86(0x11a)](_0x53f89b=>{const _0x323d1a=_0x43bf86;if(_0x53f89b)_0x53f89b&&_0x53f89b[_0x323d1a(0x132)]&&_0x53f89b[_0x323d1a(0x132)][_0x323d1a(0xc9)]>0x0&&nasAccountUtil[_0x323d1a(0xe1)](dbOther,_0x53f89b['token'][_0x53f89b[_0x323d1a(0x132)][_0x323d1a(0xc9)]-0x1],()=>{},()=>{});else{}});}let lastCacheFolderMtimes=0x0,isCalutingCacheSize=![];function statisticsCachePath(){const _0x465b62=_0x11cca7;if(isCalutingCacheSize==!![])return;isCalutingCacheSize=!![];let _0x28ead2=path[_0x465b62(0xdb)](config['cacheParentPath'],_0x465b62(0xfb));fs[_0x465b62(0x131)](_0x28ead2,(_0x3cb4a7,_0x362eaf)=>{const _0x277dd9=_0x465b62;if(_0x3cb4a7)return;if(_0x362eaf['mtimeMs']==lastCacheFolderMtimes)return;lastCacheFolderMtimes=_0x362eaf[_0x277dd9(0xdf)];let _0x79b9e7=0x0;fs['readdir'](_0x28ead2,{},(_0x294a7f,_0x1e4e2d)=>{const _0x3ba900=_0x277dd9;if(_0x294a7f){console[_0x3ba900(0xf1)](_0x294a7f);return;}if(_0x1e4e2d[_0x3ba900(0xc9)]>0x0){function _0x3b6461(_0x6cad6a,_0x156b0f){const _0xff7eff=_0x3ba900;fs[_0xff7eff(0x131)](path[_0xff7eff(0xdb)](_0x28ead2,_0x1e4e2d[_0x6cad6a]),(_0x25f658,_0x208e88)=>{!_0x25f658&&(_0x79b9e7+=_0x208e88['size']),_0x6cad6a==_0x1e4e2d['length']-0x1?_0x156b0f():_0x3b6461(_0x6cad6a+0x1,_0x156b0f);});}_0x3b6461(0x0,()=>{const _0x882b4a=_0x3ba900;dbConfigTable[_0x882b4a(0x124)](dbOther,{'title':'cacheImageInfo','value':JSON[_0x882b4a(0xc6)]({'totalSize':_0x79b9e7,'count':_0x1e4e2d['length']})}),isCalutingCacheSize=![];});}else isCalutingCacheSize=![];});});}const M3u8DeleteTimeGap=0x3*0xe10*0x3e8;function _0x35da(){const _0x1d10d0=['log','start','path','decoderType','131392XeCRCJ','../myWorkers/index/bookIndexUtil','sep','getDiskInfo','existsSync','title','cache','better-sqlite3','isPkgPackage','NasCabGlobalInfoWorker','darwin','libx264','HEVC','count','clearExpiredLog','../db/dbConfigTable','getUserInfo','end','INTEL\x20GPU','dealFilenameNumberAll','func','COPY\x20TRANSCODE\x20FILE\x20ERROR','getCpuAndMemoryInfo','间隔扫描','19528619WKGZlw','680434TvvlcJ','getMinutes','h264_nvenc','6XqUbbR','../utils/globalInfoUtil','type','addInputOption','-hwaccel\x20d3d11va','DXVA2+QSV','close','transcode_test_output.mp4','includes','then','last_scan_time','UPDATE\x20file_index_photo\x20SET\x20in_trash=1\x20WHERE\x20in_trash=2','transCodeParams-coderList','1327179CKgeeI','AUTO','axios','h264_videotoolbox','NVIDIA\x20GPU[AUTO]','goParseMoviesKeys','create','h264_amf','getIpList','DXVA2','DXVA2+AFM','../../package.json','encoderName','-c:v\x20h264_cuvid','FFmpeg','h264_qsv','CPU','NVIDIA\x20CUVID','prepare','stat','token','force','videoCodec','../libs/nasTrans','D3D11VA+AFM','724030JhPgJz','-hwaccel\x20cuda','MacOs\x20VideoToolBox','D3D11VA+AMF','dbFileIndex','pragma','-c:v\x20hevc_cuvid','../myConfig/config','3QKnkEK','username','24pMygXH','resetNoFinishWork','catch','win32','-hwaccel\x20dxva2','COPY\x20TRANSCODE\x20FILE\x20TO\x20APP\x20FOLDER','stringify','journal_mode\x20=\x20WAL','select\x20*\x20from\x20user_power\x20where\x20path\x20like\x20\x27%','length','transcodetest','startScanPath','D3D11VA','17790zvSuek','send','-hwaccel\x20videotoolbox','delete\x20from\x20bg_task\x20where\x20task_state!=0\x20order\x20by\x20id\x20asc\x20limit\x20?','endsWith','开始检测FFMPEG编解码性能[Start\x20detecting\x20ffmpeg\x20gpu]','userDataFolder','decoderCommand','appRootPath','D3D11VA+QSV','getTime','getUpdateInfo','error','NVIDIA\x20GPU','join','getAllIndexInfo','run','output','mtimeMs','../express-server/utils/nasAccountUtils','loginByToken','m3u8TmpPath','-hwaccel\x20auto','\x20->\x20','all','push','12kpGCSh','hwaccel','../myConfig/urlConfig','AMD\x20GPU','2520VLqlNj','../utils/videoStreamUtil','H264','libs','219630XkZjSF','exit'];_0x35da=function(){return _0x1d10d0;};return _0x35da();}function clearM3u8Ts(){const _0x42f135=_0x11cca7;fs['readdir'](config[_0x42f135(0xe2)],(_0x2d726f,_0xe25abb)=>{const _0x5906d1=_0x42f135;if(_0x2d726f)return;for(let _0x11fd1a in _0xe25abb){let _0x146e8d=path[_0x5906d1(0xdb)](config[_0x5906d1(0xe2)],_0xe25abb[_0x11fd1a]);fs['stat'](_0x146e8d,(_0x5a950b,_0x2833bd)=>{const _0x3bb572=_0x5906d1;if(_0x5a950b)return console['log'](_0x5a950b);let _0x3ea1ee=new Date()[_0x3bb572(0xd7)](),_0x16cb4a=_0x3ea1ee-_0x2833bd[_0x3bb572(0xdf)];_0x16cb4a>M3u8DeleteTimeGap&&fs['rm'](_0x146e8d,{'recursive':!![],'maxRetries':0xa,'retryDelay':0x3e8},_0x282ec7=>{});});}});}function _0x3263(_0x11c168,_0x11b537){const _0x35da24=_0x35da();return _0x3263=function(_0x32638c,_0x10a069){_0x32638c=_0x32638c-0xbd;let _0x33f59b=_0x35da24[_0x32638c];return _0x33f59b;},_0x3263(_0x11c168,_0x11b537);}process['on']('message',_0xe2150a=>{const _0x32bafb=_0x11cca7;if(_0xe2150a[_0x32bafb(0x109)]==_0x32bafb(0xf8))globalInfoUtil['getDiskInfo'](dbOther,null,_0xe2150a[_0x32bafb(0x133)]);else{if(_0xe2150a['func']==_0x32bafb(0x126))globalInfoUtil[_0x32bafb(0x126)](dbOther);else{if(_0xe2150a['func']==_0x32bafb(0xdc))globalInfoUtil[_0x32bafb(0xdc)](dbOther,dbFileIndex);else _0xe2150a[_0x32bafb(0x109)]==_0x32bafb(0xd8)&&globalInfoUtil['getUpdateInfo'](dbOther);}}globalInfoUtil['getCpuAndMemoryInfo'](dbOther,null);}),globalInfoUtil[_0x11cca7(0xf8)](dbOther,null,!![]),globalInfoUtil[_0x11cca7(0x10b)](dbOther,null),detectFfmpegGpuCoder(),setTimeout(()=>{const _0x15afdd=_0x11cca7;globalInfoUtil[_0x15afdd(0x126)](dbOther);},0x1388);function intervalScan(){const _0x251ebd=_0x11cca7;let _0x189604=Date['now'](),_0x4bf52a=dbOther[_0x251ebd(0x130)]('SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20scan_interval=1\x20AND\x20last_scan_time<=?')[_0x251ebd(0xe5)](_0x189604-0x1b7740),_0x19f856=[];for(let _0x41efd1 of _0x4bf52a){let _0x1925fe=_0x41efd1['scan_interval_ms'];_0x41efd1[_0x251ebd(0x11b)]+_0x1925fe<_0x189604&&(console[_0x251ebd(0xf1)](_0x251ebd(0x10c),_0x41efd1['path']),dbScanTaskTable['addScanTask'](dbOther,_0x41efd1[_0x251ebd(0x113)],_0x41efd1[_0x251ebd(0xf3)]),!_0x19f856[_0x251ebd(0x119)][_0x41efd1[_0x251ebd(0x113)]]&&_0x19f856[_0x251ebd(0xe6)](_0x41efd1[_0x251ebd(0x113)]));}for(let _0xc841a6 of _0x19f856){process[_0x251ebd(0xce)]({'type':_0x251ebd(0xcb),'source_type':_0xc841a6,'restartWatcher':![]});}}function initInfo(){const _0x463c64=_0x11cca7;setInterval(()=>{statisticsCachePath();},0x2bf20),setInterval(statisticsCachePath,0x18*0x3c*0x3c*0x3e8),setInterval(clearM3u8Ts,0xe10*0x3e8),setInterval(nasAccountRefresh,0x18*0x3c*0x3c*0x3e8),setTimeout(()=>{nasAccountRefresh();},0x7530);let _0x2f1422=0x1388,_0x5d5402=dbOther['prepare']('select\x20count(*)\x20as\x20count\x20from\x20bg_task')['get']();if(_0x5d5402&&_0x5d5402[_0x463c64(0x102)]>_0x2f1422){let _0x370ddb=_0x5d5402[_0x463c64(0x102)]-_0x2f1422;dbOther[_0x463c64(0x130)](_0x463c64(0xd0))[_0x463c64(0xdd)](_0x370ddb);}dbFileIndex[_0x463c64(0x130)](_0x463c64(0x11c))[_0x463c64(0xdd)](),dbFileOperationRecord[_0x463c64(0xc1)](dbOther),dbFileOperationRecord[_0x463c64(0x103)](dbOther),setInterval(()=>{videoStreamUtil['goParseMoviesKeys'](dbOther,dbFileIndex);},0x708*0x3e8),setTimeout(()=>{const _0x40433a=_0x463c64;videoStreamUtil[_0x40433a(0x123)](dbOther,dbFileIndex,!![]);},0x7530),setInterval(()=>{const _0x3b1a3d=_0x463c64;globalInfoUtil[_0x3b1a3d(0x126)](dbOther);const _0x4f5393=new Date(),_0x465fd2=_0x4f5393[_0x3b1a3d(0x10f)]();(_0x465fd2==0x0||_0x465fd2==0x1e)&&intervalScan();},0x3c*0x3e8),movieUtil[_0x463c64(0x108)](dbFileIndex),bookIndexUtil['setAllBookType'](dbFileIndex);if(platform==_0x463c64(0xc3)){let _0x25c996=dbOther[_0x463c64(0x130)](_0x463c64(0xc8)+path[_0x463c64(0xf7)]+'\x27')[_0x463c64(0xe5)]();for(let _0x30bbd1 of _0x25c996){if(_0x30bbd1[_0x463c64(0xf3)]&&_0x30bbd1[_0x463c64(0xf3)][_0x463c64(0xd1)](path[_0x463c64(0xf7)])&&_0x30bbd1[_0x463c64(0xf3)][_0x463c64(0xc9)]>0x4){let _0x39daa1=_0x30bbd1[_0x463c64(0xf3)]['slice'](0x0,-0x1);console[_0x463c64(0xf1)]('修正授权路径\x20'+_0x30bbd1[_0x463c64(0xf3)]+_0x463c64(0xe4)+_0x39daa1),dbOther[_0x463c64(0x130)]('update\x20user_power\x20set\x20path=?\x20where\x20username=?\x20and\x20path=?')[_0x463c64(0xdd)](_0x39daa1,_0x30bbd1[_0x463c64(0xbf)],_0x30bbd1[_0x463c64(0xf3)]);}}}}initInfo();function exitProcess(){const _0x5beb81=_0x11cca7;process[_0x5beb81(0xce)]({'type':_0x5beb81(0x117)}),process[_0x5beb81(0xf0)]();}process['on'](_0x11cca7(0xf0),(_0x287b39,_0x246676)=>{const _0x1c188b=_0x11cca7;process[_0x1c188b(0xce)]({'type':'close'});});