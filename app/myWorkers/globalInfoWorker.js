const _0x4bf8b3=_0x3766;(function(_0xfe5dc,_0x49a204){const _0x107fc8=_0x3766,_0xae40f3=_0xfe5dc();while(!![]){try{const _0x53a783=parseInt(_0x107fc8(0x186))/0x1+-parseInt(_0x107fc8(0x1c0))/0x2+parseInt(_0x107fc8(0x1aa))/0x3+-parseInt(_0x107fc8(0x1a0))/0x4*(-parseInt(_0x107fc8(0x19d))/0x5)+-parseInt(_0x107fc8(0x1b9))/0x6+-parseInt(_0x107fc8(0x1bb))/0x7+parseInt(_0x107fc8(0x1ab))/0x8;if(_0x53a783===_0x49a204)break;else _0xae40f3['push'](_0xae40f3['shift']());}catch(_0xc0b41d){_0xae40f3['push'](_0xae40f3['shift']());}}}(_0xeaf7,0x6ec2e));let dbConfigTable=require(_0x4bf8b3(0x16b)),dbFileOperationRecord=require('../db/dbFileOperationRecord'),axios=require(_0x4bf8b3(0x192));const config=require('../myConfig/config');let fs=require('fs'),path=require(_0x4bf8b3(0x160));const Database=require(_0x4bf8b3(0x178));let dbOther=new Database(config[_0x4bf8b3(0x17f)],{}),dbFileIndex=new Database(config[_0x4bf8b3(0x197)],{});dbFileIndex[_0x4bf8b3(0x1a4)](_0x4bf8b3(0x174)),dbOther['pragma'](_0x4bf8b3(0x174));let nasAccountUtil=require(_0x4bf8b3(0x187));const OS=require('os'),platform=OS['platform'](),videoStreamUtil=require(_0x4bf8b3(0x17a));let nasTrans=require('../libs/nasTrans');function _0xeaf7(){const _0x53ec68=['1060944sgkeow','loginByToken','cache','间隔扫描','resetNoFinishWork','push','NVIDIA\x20GPU','../myConfig/urlConfig','H264','getCpuAndMemoryInfo','D3D11VA+QSV','count','FFmpeg','transcodetesth264','h264_amf','stringify','-hwaccel\x20auto','transcodetest','path','length','AUTO','D3D11VA+AFM','h264_videotoolbox','isPkgPackage','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20scan_interval=1\x20AND\x20last_scan_time<=?','close','DXVA2+QSV','libx264','DXVA2','../db/dbConfigTable','HEVC','then','m3u8TmpPath','cacheImageInfo','CPU','COPY\x20TRANSCODE\x20FILE\x20TO\x20APP\x20FOLDER','cacheParentPath','join','journal_mode\x20=\x20WAL','mtimeMs','prepare','goParseMoviesKeys','better-sqlite3','exit','../utils/videoStreamUtil','decoderCommand','../myWorkers/index/bookIndexUtil','NVIDIA\x20CUVID','dealFilenameNumberAll','dbOther','libs','UPDATE\x20file_index_photo\x20SET\x20in_trash=1\x20WHERE\x20in_trash=2','clearExpiredLog','all','output','getIpList','656496IzlKBW','../express-server/utils/nasAccountUtils','decoderType','type','startScanPath','transCodeParams-coderList','../db/dbScanTaskTable','addInputOption','getUpdateInfo','now','coderName','h264_qsv','axios','-hwaccel\x20dxva2','D3D11VA+AMF','getMinutes','force','dbFileIndex','transcode_test_output.mp4','DXVA2+AFM','getDiskInfo','writeFileSync','开始检测FFMPEG编解码性能[Start\x20detecting\x20ffmpeg\x20gpu]','3444125PnRCTC','-hwaccel\x20d3d11va','userDataFolder','4lVcVmF','-hwaccel\x20cuda','log','AMD\x20GPU','pragma','create','-c:v\x20h264_cuvid','start','stat','includes','16107JzfXPh','2846456GDUwmb','send','MacOs\x20VideoToolBox','INTEL\x20GPU','COPY\x20TRANSCODE\x20FILE\x20ERROR','h264_nvenc','message','NasCabGlobalInfoWorker','D3D11VA','run','token','hwaccel','end','getAllIndexInfo','908178rpdHew','func','3996888sUgXyk','setAllBookType','NVIDIA\x20GPU[AUTO]','../../package.json','videoCodec'];_0xeaf7=function(){return _0x53ec68;};return _0xeaf7();}const globalInfoUtil=require('../utils/globalInfoUtil');let FFmpeg=nasTrans[_0x4bf8b3(0x15a)];function _0x3766(_0x290bdd,_0x5381ef){const _0xeaf7a5=_0xeaf7();return _0x3766=function(_0x3766b6,_0x5acf10){_0x3766b6=_0x3766b6-0x155;let _0x19f0e6=_0xeaf7a5[_0x3766b6];return _0x19f0e6;},_0x3766(_0x290bdd,_0x5381ef);}const packageInfo=require(_0x4bf8b3(0x1be)),movieUtil=require('../express-server/utils/movieUtil'),bookIndexUtil=require(_0x4bf8b3(0x17c)),urlConfig=require(_0x4bf8b3(0x155)),dbScanTaskTable=require(_0x4bf8b3(0x18c));process['title']=_0x4bf8b3(0x1b2);let usableCoderList=[];function ffmpegTestDecoderEncoder(_0x5318cf,_0x3a5351,_0x1e2fa6,_0x5d8a81,_0x37200a){return new Promise((_0x11ad83,_0x3e964b)=>{const _0x479ccd=_0x3766;if(_0x37200a)for(parent of _0x37200a){for(useCoderItem of usableCoderList){if(parent==useCoderItem[_0x479ccd(0x190)]&&_0x5318cf==useCoderItem[_0x479ccd(0x188)])return _0x3e964b();}}if(_0x479ccd(0x169)==_0x5d8a81&&!_0x1e2fa6&&!_0x3a5351)return _0x11ad83();let _0x1980dd=_0x5318cf=='HEVC'?_0x479ccd(0x15f):_0x479ccd(0x15b),_0x45341a=path[_0x479ccd(0x173)](config['appRootPath'],_0x479ccd(0x180),_0x1980dd);if(packageInfo[_0x479ccd(0x165)]){let _0x12746d=path[_0x479ccd(0x173)](config['userDataFolder'],_0x1980dd);if(!fs['existsSync'](_0x12746d))try{let _0x2048c0=fs['readFileSync'](_0x45341a);fs[_0x479ccd(0x19b)](_0x12746d,_0x2048c0),_0x45341a=_0x12746d,console[_0x479ccd(0x1a2)](_0x479ccd(0x171));}catch(_0x53baad){console[_0x479ccd(0x1a2)](_0x479ccd(0x1af),_0x53baad);}else _0x45341a=_0x12746d;}let _0xbda27f=path[_0x479ccd(0x173)](config[_0x479ccd(0x19f)],_0x479ccd(0x198));fs[_0x479ccd(0x1a8)](_0x45341a,(_0x1faf48,_0x3188f8)=>{const _0x540eda=_0x479ccd;if(_0x1faf48)return _0x3e964b();let _0x4688f2=FFmpeg(_0x45341a);_0x3a5351&&_0x4688f2[_0x540eda(0x18d)](_0x3a5351),_0x1e2fa6&&_0x4688f2['addInputOption'](_0x1e2fa6),_0x5d8a81&&_0x4688f2[_0x540eda(0x1bf)](_0x5d8a81),_0x4688f2['on'](_0x540eda(0x1a7),function(_0xf78af2){})['on']('error',function(_0x57af10){_0x3e964b();})['on'](_0x540eda(0x1b7),function(_0x50e8c2){_0x11ad83();}),_0x4688f2[_0x540eda(0x184)](_0xbda27f),_0x4688f2['run']();});});}function getFitDecoderEncoder(_0xd33a96){const _0x42c8ce=_0x4bf8b3;let _0x32adbc=[];_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x1a1),'decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x42c8ce(0x1c6)}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x16c),'hwaccel':'-hwaccel\x20cuda','decoderCommand':'','encoderName':_0x42c8ce(0x1b0),'coderName':_0x42c8ce(0x1c6)}),_0x32adbc['push']({'decoderType':'H264','hwaccel':_0x42c8ce(0x15e),'decoderCommand':'','encoderName':'h264_nvenc','coderName':'NVIDIA\x20GPU[AUTO]','parents':[_0x42c8ce(0x1c6)]}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x15e),'decoderCommand':'','encoderName':_0x42c8ce(0x1b0),'coderName':_0x42c8ce(0x1bd),'parents':['NVIDIA\x20GPU']}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x15e),'decoderCommand':_0x42c8ce(0x1a6),'encoderName':'','coderName':_0x42c8ce(0x17d),'parents':[_0x42c8ce(0x1c6),'NVIDIA\x20GPU[AUTO]']}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x15e),'decoderCommand':'-c:v\x20hevc_cuvid','encoderName':'','coderName':_0x42c8ce(0x17d),'parents':[_0x42c8ce(0x1c6),_0x42c8ce(0x1bd)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x15e),'decoderCommand':'','encoderName':'h264_qsv','coderName':_0x42c8ce(0x1ae)}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x15e),'decoderCommand':'','encoderName':_0x42c8ce(0x191),'coderName':'INTEL\x20GPU'}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':'h264_qsv','coderName':_0x42c8ce(0x1ae),'parents':[_0x42c8ce(0x1ae)]}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x156),'hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':_0x42c8ce(0x191),'coderName':_0x42c8ce(0x168)}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x193),'decoderCommand':'','encoderName':_0x42c8ce(0x191),'coderName':_0x42c8ce(0x168)}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':'H264','hwaccel':_0x42c8ce(0x19e),'decoderCommand':'','encoderName':_0x42c8ce(0x191),'coderName':_0x42c8ce(0x158),'parents':[_0x42c8ce(0x1ae),_0x42c8ce(0x168)]}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x19e),'decoderCommand':'','encoderName':'h264_qsv','coderName':_0x42c8ce(0x158),'parents':[_0x42c8ce(0x1ae),_0x42c8ce(0x168)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x193),'decoderCommand':'','encoderName':'h264_amf','coderName':_0x42c8ce(0x199),'parents':[_0x42c8ce(0x1ae),_0x42c8ce(0x168),_0x42c8ce(0x158)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':_0x42c8ce(0x15c),'coderName':'DXVA2+AFM','parents':[_0x42c8ce(0x1ae),'DXVA2+QSV',_0x42c8ce(0x158)]}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x19e),'decoderCommand':'','encoderName':_0x42c8ce(0x15c),'coderName':_0x42c8ce(0x194),'parents':[_0x42c8ce(0x1ae),_0x42c8ce(0x168),_0x42c8ce(0x158)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x19e),'decoderCommand':'','encoderName':_0x42c8ce(0x15c),'coderName':_0x42c8ce(0x194),'parents':[_0x42c8ce(0x1ae),'DXVA2+QSV',_0x42c8ce(0x158)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'decoderCommand':'','encoderName':_0x42c8ce(0x15c),'coderName':_0x42c8ce(0x1a3),'parents':[_0x42c8ce(0x199),_0x42c8ce(0x158),_0x42c8ce(0x1ae),'DXVA2+QSV',_0x42c8ce(0x158)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'decoderCommand':'','encoderName':'h264_amf','coderName':_0x42c8ce(0x1a3),'parents':[_0x42c8ce(0x199),_0x42c8ce(0x158),_0x42c8ce(0x1ae),_0x42c8ce(0x168),'D3D11VA+QSV']}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x193),'decoderCommand':'','encoderName':'','coderName':_0x42c8ce(0x16a),'parents':[_0x42c8ce(0x199),_0x42c8ce(0x168)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x193),'decoderCommand':'','encoderName':'','coderName':_0x42c8ce(0x16a),'parents':[_0x42c8ce(0x199),_0x42c8ce(0x168)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'hwaccel':_0x42c8ce(0x19e),'decoderCommand':'','encoderName':'','coderName':_0x42c8ce(0x1b3),'parents':[_0x42c8ce(0x163),_0x42c8ce(0x158)]}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x19e),'decoderCommand':'','encoderName':'','coderName':_0x42c8ce(0x1b3),'parents':['D3D11VA+AFM',_0x42c8ce(0x158)]});platform=='darwin'&&(_0x32adbc[_0x42c8ce(0x1c5)]({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':_0x42c8ce(0x156),'decoderCommand':'','encoderName':_0x42c8ce(0x164),'coderName':'MacOs\x20VideoToolBox'}),_0x32adbc[_0x42c8ce(0x1c5)]({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':_0x42c8ce(0x16c),'decoderCommand':'','encoderName':_0x42c8ce(0x164),'coderName':_0x42c8ce(0x1ad)}));_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':'H264','hwaccel':_0x42c8ce(0x15e),'decoderCommand':'','encoderName':'','coderName':_0x42c8ce(0x162)}),_0x32adbc['push']({'decoderType':_0x42c8ce(0x16c),'hwaccel':_0x42c8ce(0x15e),'decoderCommand':'','encoderName':'','coderName':'AUTO'}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x16c),'decoderCommand':'','encoderName':_0x42c8ce(0x169),'coderName':'CPU'}),_0x32adbc[_0x42c8ce(0x1c5)]({'decoderType':_0x42c8ce(0x156),'decoderCommand':'','encoderName':_0x42c8ce(0x169),'coderName':_0x42c8ce(0x170)});function _0x20ebfc(_0x5e23d8){const _0x440b4a=_0x42c8ce;function _0xcc777e(){const _0x2c3aab=_0x3766;_0x5e23d8>=_0x32adbc[_0x2c3aab(0x161)]-0x1?_0xd33a96(usableCoderList):_0x20ebfc(_0x5e23d8+0x1);}let _0x35a6e2=_0x32adbc[_0x5e23d8][_0x440b4a(0x1b6)],_0x4b7bd8=_0x32adbc[_0x5e23d8]['decoderType'],_0x117bb0=_0x32adbc[_0x5e23d8][_0x440b4a(0x17b)],_0x4a3372=_0x32adbc[_0x5e23d8]['encoderName'],_0x4d88db=_0x32adbc[_0x5e23d8]['parents'];for(let _0x4f5207 of usableCoderList){if(_0x4f5207[_0x440b4a(0x188)]==_0x4b7bd8&&_0x4f5207[_0x440b4a(0x17b)]==_0x117bb0&&_0x4f5207[_0x440b4a(0x190)]==_0x32adbc[_0x5e23d8]['coderName'])return _0xcc777e();}ffmpegTestDecoderEncoder(_0x4b7bd8,_0x35a6e2,_0x117bb0,_0x4a3372,_0x4d88db)[_0x440b4a(0x16d)](()=>{const _0x313e1e=_0x440b4a;usableCoderList[_0x313e1e(0x1c5)](_0x32adbc[_0x5e23d8]),_0xcc777e();})['catch'](()=>{_0xcc777e();});}_0x20ebfc(0x0);}function detectFfmpegGpuCoder(){const _0x3c970a=_0x4bf8b3;console['log'](_0x3c970a(0x19c)),getFitDecoderEncoder(_0x40317d=>{const _0x77c077=_0x3c970a;dbConfigTable[_0x77c077(0x1a5)](dbOther,{'title':_0x77c077(0x18b),'value':JSON[_0x77c077(0x15d)](_0x40317d)});});}function nasAccountRefresh(){const _0x2ac019=_0x4bf8b3;nasAccountUtil['getUserInfo'](dbOther)[_0x2ac019(0x16d)](_0x49a307=>{const _0x4e23b2=_0x2ac019;if(_0x49a307)_0x49a307&&_0x49a307[_0x4e23b2(0x1b5)]&&_0x49a307[_0x4e23b2(0x1b5)][_0x4e23b2(0x161)]>0x0&&nasAccountUtil[_0x4e23b2(0x1c1)](dbOther,_0x49a307['token'][_0x49a307[_0x4e23b2(0x1b5)][_0x4e23b2(0x161)]-0x1],()=>{},()=>{});else{}});}let lastCacheFolderMtimes=0x0,isCalutingCacheSize=![];function statisticsCachePath(){const _0x94bad6=_0x4bf8b3;if(isCalutingCacheSize==!![])return;isCalutingCacheSize=!![];let _0xa843ad=path['join'](config[_0x94bad6(0x172)],_0x94bad6(0x1c2));fs[_0x94bad6(0x1a8)](_0xa843ad,(_0x5f1e81,_0x591257)=>{const _0x31568c=_0x94bad6;if(_0x5f1e81)return;if(_0x591257[_0x31568c(0x175)]==lastCacheFolderMtimes)return;lastCacheFolderMtimes=_0x591257[_0x31568c(0x175)];let _0x2deb10=0x0;fs['readdir'](_0xa843ad,{},(_0x13e194,_0x507103)=>{const _0xf0eb21=_0x31568c;if(_0x13e194){console[_0xf0eb21(0x1a2)](_0x13e194);return;}if(_0x507103[_0xf0eb21(0x161)]>0x0){function _0x1defbc(_0xb94e14,_0x2b0e3b){const _0x22396f=_0xf0eb21;fs[_0x22396f(0x1a8)](path['join'](_0xa843ad,_0x507103[_0xb94e14]),(_0x156f2d,_0x49b047)=>{const _0x30a263=_0x22396f;!_0x156f2d&&(_0x2deb10+=_0x49b047['size']),_0xb94e14==_0x507103[_0x30a263(0x161)]-0x1?_0x2b0e3b():_0x1defbc(_0xb94e14+0x1,_0x2b0e3b);});}_0x1defbc(0x0,()=>{const _0x37baa4=_0xf0eb21;dbConfigTable[_0x37baa4(0x1a5)](dbOther,{'title':_0x37baa4(0x16f),'value':JSON[_0x37baa4(0x15d)]({'totalSize':_0x2deb10,'count':_0x507103[_0x37baa4(0x161)]})}),isCalutingCacheSize=![];});}else isCalutingCacheSize=![];});});}const M3u8DeleteTimeGap=0x3*0xe10*0x3e8;function clearM3u8Ts(){const _0xa642e0=_0x4bf8b3;fs['readdir'](config[_0xa642e0(0x16e)],(_0x4ba84b,_0x8ac1a0)=>{const _0x7b6925=_0xa642e0;if(_0x4ba84b)return;for(let _0x3d8d29 in _0x8ac1a0){let _0x71cd22=path[_0x7b6925(0x173)](config['m3u8TmpPath'],_0x8ac1a0[_0x3d8d29]);fs[_0x7b6925(0x1a8)](_0x71cd22,(_0x48c379,_0x21a75c)=>{const _0x3a3617=_0x7b6925;if(_0x48c379)return console[_0x3a3617(0x1a2)](_0x48c379);let _0x26c719=new Date()['getTime'](),_0x518f72=_0x26c719-_0x21a75c[_0x3a3617(0x175)];_0x518f72>M3u8DeleteTimeGap&&fs['rm'](_0x71cd22,{'recursive':!![],'maxRetries':0xa,'retryDelay':0x3e8},_0x2b830a=>{});});}});}process['on'](_0x4bf8b3(0x1b1),_0x1ccb21=>{const _0x522019=_0x4bf8b3;if(_0x1ccb21['func']==_0x522019(0x19a))globalInfoUtil[_0x522019(0x19a)](dbOther,null,_0x1ccb21[_0x522019(0x196)]);else{if(_0x1ccb21[_0x522019(0x1ba)]==_0x522019(0x185))globalInfoUtil[_0x522019(0x185)](dbOther);else{if(_0x1ccb21[_0x522019(0x1ba)]==_0x522019(0x1b8))globalInfoUtil[_0x522019(0x1b8)](dbOther,dbFileIndex);else _0x1ccb21['func']==_0x522019(0x18e)&&globalInfoUtil['getUpdateInfo'](dbOther);}}globalInfoUtil[_0x522019(0x157)](dbOther,null);}),globalInfoUtil['getDiskInfo'](dbOther,null,!![]),globalInfoUtil['getCpuAndMemoryInfo'](dbOther,null),detectFfmpegGpuCoder(),setTimeout(()=>{const _0x1ec664=_0x4bf8b3;globalInfoUtil[_0x1ec664(0x185)](dbOther);},0x1388);function intervalScan(){const _0x34c33a=_0x4bf8b3;let _0x3209af=Date[_0x34c33a(0x18f)](),_0x1b3872=dbOther[_0x34c33a(0x176)](_0x34c33a(0x166))[_0x34c33a(0x183)](_0x3209af-0x1b7740),_0x509196=[];for(let _0x2da10f of _0x1b3872){let _0x37c39a=_0x2da10f['scan_interval_ms'];_0x2da10f['last_scan_time']+_0x37c39a<_0x3209af&&(console[_0x34c33a(0x1a2)](_0x34c33a(0x1c3),_0x2da10f[_0x34c33a(0x160)]),dbScanTaskTable['addScanTask'](dbOther,_0x2da10f[_0x34c33a(0x189)],_0x2da10f[_0x34c33a(0x160)]),!_0x509196[_0x34c33a(0x1a9)][_0x2da10f['type']]&&_0x509196[_0x34c33a(0x1c5)](_0x2da10f[_0x34c33a(0x189)]));}for(let _0xd117c of _0x509196){process['send']({'type':_0x34c33a(0x18a),'source_type':_0xd117c,'restartWatcher':![]});}}function initInfo(){const _0x30c0c3=_0x4bf8b3;setInterval(()=>{statisticsCachePath();},0x2bf20),setInterval(statisticsCachePath,0x18*0x3c*0x3c*0x3e8),setInterval(clearM3u8Ts,0xe10*0x3e8),setInterval(nasAccountRefresh,0x18*0x3c*0x3c*0x3e8),setTimeout(()=>{nasAccountRefresh();},0x7530);let _0x587657=0x1388,_0x11a0f6=dbOther[_0x30c0c3(0x176)]('select\x20count(*)\x20as\x20count\x20from\x20bg_task')['get']();if(_0x11a0f6&&_0x11a0f6[_0x30c0c3(0x159)]>_0x587657){let _0x4be7c4=_0x11a0f6[_0x30c0c3(0x159)]-_0x587657;dbOther['prepare']('delete\x20from\x20bg_task\x20where\x20task_state!=0\x20order\x20by\x20id\x20asc\x20limit\x20?')[_0x30c0c3(0x1b4)](_0x4be7c4);}dbFileIndex[_0x30c0c3(0x176)](_0x30c0c3(0x181))[_0x30c0c3(0x1b4)](),dbFileOperationRecord[_0x30c0c3(0x1c4)](dbOther),dbFileOperationRecord[_0x30c0c3(0x182)](dbOther),setInterval(()=>{videoStreamUtil['goParseMoviesKeys'](dbOther,dbFileIndex);},0x708*0x3e8),setTimeout(()=>{const _0xff4994=_0x30c0c3;videoStreamUtil[_0xff4994(0x177)](dbOther,dbFileIndex,!![]);},0x7530),setInterval(()=>{const _0x268de9=_0x30c0c3;globalInfoUtil[_0x268de9(0x185)](dbOther);const _0x274967=new Date(),_0x230f1d=_0x274967[_0x268de9(0x195)]();(_0x230f1d==0x0||_0x230f1d==0x1e)&&intervalScan();},0x3c*0x3e8),movieUtil[_0x30c0c3(0x17e)](dbFileIndex),bookIndexUtil[_0x30c0c3(0x1bc)](dbFileIndex);}initInfo();function exitProcess(){const _0x52add0=_0x4bf8b3;process[_0x52add0(0x1ac)]({'type':'close'}),process[_0x52add0(0x179)]();}process['on'](_0x4bf8b3(0x179),(_0x4c65fe,_0x3df974)=>{const _0x4fd89a=_0x4bf8b3;process[_0x4fd89a(0x1ac)]({'type':_0x4fd89a(0x167)});});