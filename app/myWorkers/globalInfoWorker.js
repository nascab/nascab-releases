const _0x55eceb=_0x1877;(function(_0x5b57d9,_0x42cfbc){const _0x37fb81=_0x1877,_0x14fa4f=_0x5b57d9();while(!![]){try{const _0x36cb65=parseInt(_0x37fb81(0x1f2))/0x1*(parseInt(_0x37fb81(0x232))/0x2)+parseInt(_0x37fb81(0x1c9))/0x3+-parseInt(_0x37fb81(0x1d0))/0x4*(-parseInt(_0x37fb81(0x1e2))/0x5)+parseInt(_0x37fb81(0x229))/0x6*(parseInt(_0x37fb81(0x1bc))/0x7)+-parseInt(_0x37fb81(0x1c4))/0x8*(parseInt(_0x37fb81(0x1fe))/0x9)+-parseInt(_0x37fb81(0x1bd))/0xa*(-parseInt(_0x37fb81(0x213))/0xb)+parseInt(_0x37fb81(0x1e0))/0xc*(-parseInt(_0x37fb81(0x237))/0xd);if(_0x36cb65===_0x42cfbc)break;else _0x14fa4f['push'](_0x14fa4f['shift']());}catch(_0x304296){_0x14fa4f['push'](_0x14fa4f['shift']());}}}(_0x2066,0x7d14b));function _0x1877(_0x2f22b5,_0x4dc7f9){const _0x20665b=_0x2066();return _0x1877=function(_0x1877a9,_0x3c2c6b){_0x1877a9=_0x1877a9-0x1b2;let _0xa4d485=_0x20665b[_0x1877a9];return _0xa4d485;},_0x1877(_0x2f22b5,_0x4dc7f9);}let dbConfigTable=require('../db/dbConfigTable'),dbFileOperationRecord=require(_0x55eceb(0x1eb)),axios=require(_0x55eceb(0x225));const config=require(_0x55eceb(0x20c));let fs=require('fs'),path=require(_0x55eceb(0x1ee));const Database=require(_0x55eceb(0x1e3));let dbOther=new Database(config['dbOther'],{}),dbFileIndex=new Database(config['dbFileIndex'],{});dbFileIndex[_0x55eceb(0x23c)](_0x55eceb(0x207)),dbOther[_0x55eceb(0x23c)](_0x55eceb(0x207));let nasAccountUtil=require(_0x55eceb(0x1ce));const OS=require('os'),platform=OS[_0x55eceb(0x1c5)](),videoStreamUtil=require(_0x55eceb(0x21b));let nasTrans=require(_0x55eceb(0x1b3));const globalInfoUtil=require(_0x55eceb(0x1da));let FFmpeg=nasTrans[_0x55eceb(0x1dc)];const packageInfo=require(_0x55eceb(0x21e)),movieUtil=require(_0x55eceb(0x1f9)),bookIndexUtil=require(_0x55eceb(0x23a)),urlConfig=require(_0x55eceb(0x20a)),dbScanTaskTable=require(_0x55eceb(0x1e4)),dbMediaTools=require('../db/dbMediaTools');process[_0x55eceb(0x1e5)]='NasCabGlobalInfoWorker';let usableCoderList=[];function ffmpegTestDecoderEncoder(_0x2d7fea,_0x5cbcab,_0x411174,_0x1e6838,_0x1cfe85){return new Promise((_0x124151,_0x6f7f9e)=>{const _0x5e936f=_0x1877;if(_0x1cfe85)for(parent of _0x1cfe85){for(useCoderItem of usableCoderList){if(parent==useCoderItem['coderName']&&_0x2d7fea==useCoderItem['decoderType'])return _0x6f7f9e();}}if(_0x5e936f(0x20e)==_0x1e6838&&!_0x411174&&!_0x5cbcab)return _0x124151();let _0xa88211=_0x2d7fea==_0x5e936f(0x22a)?_0x5e936f(0x1d6):_0x5e936f(0x200),_0x3cde2d=path[_0x5e936f(0x1d5)](config[_0x5e936f(0x1c6)],_0x5e936f(0x1f6),_0xa88211);if(packageInfo[_0x5e936f(0x206)]){let _0x416d5e=path[_0x5e936f(0x1d5)](config[_0x5e936f(0x22b)],_0xa88211);if(!fs[_0x5e936f(0x221)](_0x416d5e))try{let _0x21e09c=fs[_0x5e936f(0x1c3)](_0x3cde2d);fs[_0x5e936f(0x239)](_0x416d5e,_0x21e09c),_0x3cde2d=_0x416d5e,console[_0x5e936f(0x1fb)](_0x5e936f(0x1c7));}catch(_0x3adb2d){console[_0x5e936f(0x1fb)](_0x5e936f(0x1f0),_0x3adb2d);}else _0x3cde2d=_0x416d5e;}let _0x4dfa54=path[_0x5e936f(0x1d5)](config['userDataFolder'],_0x5e936f(0x1f4));fs[_0x5e936f(0x22d)](_0x3cde2d,(_0x3404d6,_0x5ef799)=>{const _0x11fc1b=_0x5e936f;if(_0x3404d6)return _0x6f7f9e();let _0x3c981c=FFmpeg(_0x3cde2d);_0x5cbcab&&_0x3c981c[_0x11fc1b(0x238)](_0x5cbcab),_0x411174&&_0x3c981c[_0x11fc1b(0x238)](_0x411174),_0x1e6838&&_0x3c981c[_0x11fc1b(0x1ca)](_0x1e6838),_0x3c981c['on'](_0x11fc1b(0x21a),function(_0x37bad8){})['on'](_0x11fc1b(0x1f5),function(_0x166842){_0x6f7f9e();})['on'](_0x11fc1b(0x1d4),function(_0x252de8){_0x124151();}),_0x3c981c[_0x11fc1b(0x1b2)](_0x4dfa54),_0x3c981c[_0x11fc1b(0x205)]();});});}function getFitDecoderEncoder(_0x144493){const _0x46c1ab=_0x55eceb;let _0x3b111e=[];_0x3b111e['push']({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x1e7),'decoderCommand':'','encoderName':_0x46c1ab(0x22c),'coderName':_0x46c1ab(0x1d8)}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':'HEVC','hwaccel':_0x46c1ab(0x1e7),'decoderCommand':'','encoderName':_0x46c1ab(0x22c),'coderName':'NVIDIA\x20GPU'}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':'','encoderName':_0x46c1ab(0x22c),'coderName':'NVIDIA\x20GPU[AUTO]','parents':[_0x46c1ab(0x1d8)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':'','encoderName':_0x46c1ab(0x22c),'coderName':_0x46c1ab(0x220),'parents':[_0x46c1ab(0x1d8)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':_0x46c1ab(0x1bb),'encoderName':'','coderName':_0x46c1ab(0x1f7),'parents':[_0x46c1ab(0x1d8),'NVIDIA\x20GPU[AUTO]']}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':'-c:v\x20hevc_cuvid','encoderName':'','coderName':_0x46c1ab(0x1f7),'parents':[_0x46c1ab(0x1d8),_0x46c1ab(0x220)]}),_0x3b111e['push']({'decoderType':_0x46c1ab(0x217),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':_0x46c1ab(0x233)}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':_0x46c1ab(0x233)}),_0x3b111e['push']({'decoderType':_0x46c1ab(0x22a),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':_0x46c1ab(0x233),'parents':[_0x46c1ab(0x233)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x1ed),'decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':_0x46c1ab(0x1d2)}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':_0x46c1ab(0x1ed),'decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':_0x46c1ab(0x1d2)}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x1e1),'decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':_0x46c1ab(0x201),'parents':[_0x46c1ab(0x233),_0x46c1ab(0x1d2)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x46c1ab(0x1cc),'coderName':'D3D11VA+QSV','parents':[_0x46c1ab(0x233),_0x46c1ab(0x1d2)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':_0x46c1ab(0x203),'coderName':_0x46c1ab(0x202),'parents':['INTEL\x20GPU',_0x46c1ab(0x1d2),_0x46c1ab(0x201)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':'h264_amf','coderName':_0x46c1ab(0x202),'parents':[_0x46c1ab(0x233),_0x46c1ab(0x1d2),'D3D11VA+QSV']}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':'H264','hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x46c1ab(0x203),'coderName':_0x46c1ab(0x1f1),'parents':[_0x46c1ab(0x233),'DXVA2+QSV',_0x46c1ab(0x201)]}),_0x3b111e['push']({'decoderType':_0x46c1ab(0x22a),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x46c1ab(0x203),'coderName':_0x46c1ab(0x1f1),'parents':['INTEL\x20GPU',_0x46c1ab(0x1d2),'D3D11VA+QSV']}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'decoderCommand':'','encoderName':_0x46c1ab(0x203),'coderName':_0x46c1ab(0x1e9),'parents':[_0x46c1ab(0x202),_0x46c1ab(0x201),_0x46c1ab(0x233),_0x46c1ab(0x1d2),'D3D11VA+QSV']}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'decoderCommand':'','encoderName':_0x46c1ab(0x203),'coderName':_0x46c1ab(0x1e9),'parents':[_0x46c1ab(0x202),_0x46c1ab(0x201),_0x46c1ab(0x233),'DXVA2+QSV',_0x46c1ab(0x201)]}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':'H264','hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':'','coderName':'DXVA2','parents':['DXVA2+AFM','DXVA2+QSV']}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x22a),'hwaccel':_0x46c1ab(0x1ed),'decoderCommand':'','encoderName':'','coderName':_0x46c1ab(0x23b),'parents':[_0x46c1ab(0x202),'DXVA2+QSV']}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x1e1),'decoderCommand':'','encoderName':'','coderName':_0x46c1ab(0x1ea),'parents':[_0x46c1ab(0x1ec),_0x46c1ab(0x201)]}),_0x3b111e['push']({'decoderType':'HEVC','hwaccel':_0x46c1ab(0x1e1),'decoderCommand':'','encoderName':'','coderName':'D3D11VA','parents':[_0x46c1ab(0x1ec),'D3D11VA+QSV']});platform==_0x46c1ab(0x1d3)&&(_0x3b111e[_0x46c1ab(0x1b8)]({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':'H264','decoderCommand':'','encoderName':_0x46c1ab(0x1be),'coderName':'MacOs\x20VideoToolBox'}),_0x3b111e['push']({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':_0x46c1ab(0x22a),'decoderCommand':'','encoderName':_0x46c1ab(0x1be),'coderName':_0x46c1ab(0x21d)}));_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':_0x46c1ab(0x217),'hwaccel':_0x46c1ab(0x21f),'decoderCommand':'','encoderName':'','coderName':_0x46c1ab(0x1ef)}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':'HEVC','hwaccel':_0x46c1ab(0x21f),'decoderCommand':'','encoderName':'','coderName':'AUTO'}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':'HEVC','decoderCommand':'','encoderName':_0x46c1ab(0x20e),'coderName':_0x46c1ab(0x208)}),_0x3b111e[_0x46c1ab(0x1b8)]({'decoderType':'H264','decoderCommand':'','encoderName':_0x46c1ab(0x20e),'coderName':_0x46c1ab(0x208)});function _0xa902e8(_0x5d2395){const _0xab4396=_0x46c1ab;function _0x530666(){const _0x3ae0a2=_0x1877;_0x5d2395>=_0x3b111e[_0x3ae0a2(0x216)]-0x1?_0x144493(usableCoderList):_0xa902e8(_0x5d2395+0x1);}let _0x555b5e=_0x3b111e[_0x5d2395]['hwaccel'],_0xa55d90=_0x3b111e[_0x5d2395][_0xab4396(0x1fc)],_0x68b94f=_0x3b111e[_0x5d2395][_0xab4396(0x22e)],_0xd9d4ff=_0x3b111e[_0x5d2395]['encoderName'],_0x1f0f01=_0x3b111e[_0x5d2395]['parents'];for(let _0x5632ea of usableCoderList){if(_0x5632ea['decoderType']==_0xa55d90&&_0x5632ea['decoderCommand']==_0x68b94f&&_0x5632ea[_0xab4396(0x1fa)]==_0x3b111e[_0x5d2395]['coderName'])return _0x530666();}ffmpegTestDecoderEncoder(_0xa55d90,_0x555b5e,_0x68b94f,_0xd9d4ff,_0x1f0f01)[_0xab4396(0x1e6)](()=>{const _0x5c5c16=_0xab4396;usableCoderList[_0x5c5c16(0x1b8)](_0x3b111e[_0x5d2395]),_0x530666();})[_0xab4396(0x1f3)](()=>{_0x530666();});}_0xa902e8(0x0);}function detectFfmpegGpuCoder(){const _0x13fe78=_0x55eceb;console['log'](_0x13fe78(0x210)),getFitDecoderEncoder(_0x1ba11c=>{const _0x233f01=_0x13fe78;dbConfigTable[_0x233f01(0x1b7)](dbOther,{'title':_0x233f01(0x1d9),'value':JSON['stringify'](_0x1ba11c)});});}function nasAccountRefresh(){const _0x58a61e=_0x55eceb;nasAccountUtil[_0x58a61e(0x1c0)](dbOther)['then'](_0x382f5e=>{const _0x281a9c=_0x58a61e;if(_0x382f5e)_0x382f5e&&_0x382f5e[_0x281a9c(0x235)]&&_0x382f5e[_0x281a9c(0x235)]['length']>0x0&&nasAccountUtil[_0x281a9c(0x1cb)](dbOther,_0x382f5e['token'][_0x382f5e[_0x281a9c(0x235)]['length']-0x1],()=>{},()=>{});else{}});}let lastCacheFolderMtimes=0x0,isCalutingCacheSize=![];function _0x2066(){const _0x25a41e=['-hwaccel\x20dxva2','path','AUTO','COPY\x20TRANSCODE\x20FILE\x20ERROR','D3D11VA+AMF','1676DXpord','catch','transcode_test_output.mp4','error','libs','NVIDIA\x20CUVID','setAllBookType','../express-server/utils/movieUtil','coderName','log','decoderType','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20scan_interval=1\x20AND\x20last_scan_time<=?','9NfOTDL','getTime','transcodetesth264','D3D11VA+QSV','DXVA2+AFM','h264_amf','startScanPath','run','isPkgPackage','journal_mode\x20=\x20WAL','CPU','间隔扫描','../myConfig/urlConfig','all','../myConfig/config','count','libx264','scan_interval_ms','开始检测FFMPEG编解码性能[Start\x20detecting\x20ffmpeg\x20gpu]','readdir','clearExpiredLog','27038prywGf','\x20->\x20','send','length','H264','username','last_scan_time','start','../utils/videoStreamUtil','close','MacOs\x20VideoToolBox','../../package.json','-hwaccel\x20auto','NVIDIA\x20GPU[AUTO]','existsSync','goParseMoviesKeys','setTaskToFailed','delete\x20from\x20bg_task\x20where\x20task_state!=0\x20order\x20by\x20id\x20asc\x20limit\x20?','axios','prepare','includes','now','2737686wFAuPR','HEVC','userDataFolder','h264_nvenc','stat','decoderCommand','resetNoFinishWork','mtimeMs','message','928jMPHgb','INTEL\x20GPU','size','token','select\x20count(*)\x20as\x20count\x20from\x20bg_task','773539OZsoLU','addInputOption','writeFileSync','../myWorkers/index/bookIndexUtil','DXVA2','pragma','getIpList','output','../libs/nasTrans','cache','select\x20*\x20from\x20user_power\x20where\x20path\x20like\x20\x27%','type','create','push','sep','getAllIndexInfo','-c:v\x20h264_cuvid','14wLfCFy','3090hCsmXe','h264_videotoolbox','stringify','getUserInfo','getCpuAndMemoryInfo','cacheParentPath','readFileSync','1598120UhoJZm','platform','appRootPath','COPY\x20TRANSCODE\x20FILE\x20TO\x20APP\x20FOLDER','func','1836378EkSPOD','videoCodec','loginByToken','h264_qsv','getMinutes','../express-server/utils/nasAccountUtils','getUpdateInfo','76Nvtawy','addScanTask','DXVA2+QSV','darwin','end','join','transcodetest','getDiskInfo','NVIDIA\x20GPU','transCodeParams-coderList','../utils/globalInfoUtil','UPDATE\x20file_index_photo\x20SET\x20in_trash=1\x20WHERE\x20in_trash=2','FFmpeg','cacheImageInfo','force','win32','660lSnktl','-hwaccel\x20d3d11va','242865yYLpYr','better-sqlite3','../db/dbScanTaskTable','title','then','-hwaccel\x20cuda','exit','AMD\x20GPU','D3D11VA','../db/dbFileOperationRecord','D3D11VA+AFM'];_0x2066=function(){return _0x25a41e;};return _0x2066();}function statisticsCachePath(){const _0x4a907b=_0x55eceb;if(isCalutingCacheSize==!![])return;isCalutingCacheSize=!![];let _0x2713b9=path[_0x4a907b(0x1d5)](config[_0x4a907b(0x1c2)],_0x4a907b(0x1b4));fs[_0x4a907b(0x22d)](_0x2713b9,(_0x343ff,_0x2fb38f)=>{const _0x3d629f=_0x4a907b;if(_0x343ff)return;if(_0x2fb38f[_0x3d629f(0x230)]==lastCacheFolderMtimes)return;lastCacheFolderMtimes=_0x2fb38f['mtimeMs'];let _0x42890b=0x0;fs[_0x3d629f(0x211)](_0x2713b9,{},(_0x4fb207,_0x2e52f1)=>{const _0x4b2c42=_0x3d629f;if(_0x4fb207){console[_0x4b2c42(0x1fb)](_0x4fb207);return;}if(_0x2e52f1[_0x4b2c42(0x216)]>0x0){function _0xbe7cce(_0x551ec8,_0x281b78){const _0x2f3893=_0x4b2c42;fs[_0x2f3893(0x22d)](path[_0x2f3893(0x1d5)](_0x2713b9,_0x2e52f1[_0x551ec8]),(_0x419da5,_0x255f1b)=>{const _0x4e540d=_0x2f3893;!_0x419da5&&(_0x42890b+=_0x255f1b[_0x4e540d(0x234)]),_0x551ec8==_0x2e52f1['length']-0x1?_0x281b78():_0xbe7cce(_0x551ec8+0x1,_0x281b78);});}_0xbe7cce(0x0,()=>{const _0x4a567c=_0x4b2c42;dbConfigTable[_0x4a567c(0x1b7)](dbOther,{'title':_0x4a567c(0x1dd),'value':JSON[_0x4a567c(0x1bf)]({'totalSize':_0x42890b,'count':_0x2e52f1['length']})}),isCalutingCacheSize=![];});}else isCalutingCacheSize=![];});});}const M3u8DeleteTimeGap=0x3*0xe10*0x3e8;function clearM3u8Ts(){const _0x2cf088=_0x55eceb;fs[_0x2cf088(0x211)](config['m3u8TmpPath'],(_0x3e8f2a,_0x4a057e)=>{const _0x493ca9=_0x2cf088;if(_0x3e8f2a)return;for(let _0x2cd24d in _0x4a057e){let _0x2fc074=path[_0x493ca9(0x1d5)](config['m3u8TmpPath'],_0x4a057e[_0x2cd24d]);fs[_0x493ca9(0x22d)](_0x2fc074,(_0x35eb35,_0x32f1c6)=>{const _0x3e10c7=_0x493ca9;if(_0x35eb35)return console[_0x3e10c7(0x1fb)](_0x35eb35);let _0x458ae0=new Date()[_0x3e10c7(0x1ff)](),_0x29ec51=_0x458ae0-_0x32f1c6[_0x3e10c7(0x230)];_0x29ec51>M3u8DeleteTimeGap&&fs['rm'](_0x2fc074,{'recursive':!![],'maxRetries':0xa,'retryDelay':0x3e8},_0x570469=>{});});}});}process['on'](_0x55eceb(0x231),_0xb4be06=>{const _0x259350=_0x55eceb;if(_0xb4be06['func']==_0x259350(0x1d7))globalInfoUtil[_0x259350(0x1d7)](dbOther,null,_0xb4be06[_0x259350(0x1de)]);else{if(_0xb4be06[_0x259350(0x1c8)]=='getIpList')globalInfoUtil['getIpList'](dbOther);else{if(_0xb4be06[_0x259350(0x1c8)]==_0x259350(0x1ba))globalInfoUtil['getAllIndexInfo'](dbOther,dbFileIndex);else _0xb4be06[_0x259350(0x1c8)]==_0x259350(0x1cf)&&globalInfoUtil[_0x259350(0x1cf)](dbOther);}}globalInfoUtil[_0x259350(0x1c1)](dbOther,null);}),globalInfoUtil[_0x55eceb(0x1d7)](dbOther,null,!![]),globalInfoUtil[_0x55eceb(0x1c1)](dbOther,null),detectFfmpegGpuCoder(),setTimeout(()=>{const _0x54df39=_0x55eceb;globalInfoUtil[_0x54df39(0x23d)](dbOther);},0x1388);function intervalScan(){const _0x1d9d99=_0x55eceb;let _0x5c82b6=Date[_0x1d9d99(0x228)](),_0x249a60=dbOther[_0x1d9d99(0x226)](_0x1d9d99(0x1fd))[_0x1d9d99(0x20b)](_0x5c82b6-0x1b7740),_0x210407=[];for(let _0x5b4780 of _0x249a60){let _0x3b9627=_0x5b4780[_0x1d9d99(0x20f)];_0x5b4780[_0x1d9d99(0x219)]+_0x3b9627<_0x5c82b6&&(console[_0x1d9d99(0x1fb)](_0x1d9d99(0x209),_0x5b4780[_0x1d9d99(0x1ee)]),dbScanTaskTable[_0x1d9d99(0x1d1)](dbOther,_0x5b4780[_0x1d9d99(0x1b6)],_0x5b4780[_0x1d9d99(0x1ee)]),!_0x210407[_0x1d9d99(0x227)][_0x5b4780['type']]&&_0x210407[_0x1d9d99(0x1b8)](_0x5b4780[_0x1d9d99(0x1b6)]));}for(let _0x353bab of _0x210407){process['send']({'type':_0x1d9d99(0x204),'source_type':_0x353bab,'restartWatcher':![]});}}function initInfo(){const _0x1f1097=_0x55eceb;setInterval(()=>{statisticsCachePath();},0x2bf20),setInterval(statisticsCachePath,0x18*0x3c*0x3c*0x3e8),setInterval(clearM3u8Ts,0xe10*0x3e8),setInterval(nasAccountRefresh,0x18*0x3c*0x3c*0x3e8),setTimeout(()=>{nasAccountRefresh();},0x7530);let _0x560578=0x1388,_0x101502=dbOther[_0x1f1097(0x226)](_0x1f1097(0x236))['get']();if(_0x101502&&_0x101502[_0x1f1097(0x20d)]>_0x560578){let _0x4b5618=_0x101502[_0x1f1097(0x20d)]-_0x560578;dbOther[_0x1f1097(0x226)](_0x1f1097(0x224))[_0x1f1097(0x205)](_0x4b5618);}dbFileIndex['prepare'](_0x1f1097(0x1db))[_0x1f1097(0x205)](),dbFileOperationRecord[_0x1f1097(0x22f)](dbOther),dbMediaTools[_0x1f1097(0x223)](dbOther),dbFileOperationRecord[_0x1f1097(0x212)](dbOther),setInterval(()=>{const _0x1bf4ba=_0x1f1097;videoStreamUtil[_0x1bf4ba(0x222)](dbOther,dbFileIndex);},0x708*0x3e8),setTimeout(()=>{const _0x3cba28=_0x1f1097;videoStreamUtil[_0x3cba28(0x222)](dbOther,dbFileIndex,!![]);},0x7530),setInterval(()=>{const _0x2588a8=_0x1f1097;globalInfoUtil['getIpList'](dbOther);const _0x510bd9=new Date(),_0x59ef74=_0x510bd9[_0x2588a8(0x1cd)]();(_0x59ef74==0x0||_0x59ef74==0x1e)&&intervalScan();},0x3c*0x3e8),movieUtil['dealFilenameNumberAll'](dbFileIndex),bookIndexUtil[_0x1f1097(0x1f8)](dbFileIndex);if(platform==_0x1f1097(0x1df)){let _0x424fe9=dbOther['prepare'](_0x1f1097(0x1b5)+path['sep']+'\x27')[_0x1f1097(0x20b)]();for(let _0x1da93f of _0x424fe9){if(_0x1da93f['path']&&_0x1da93f[_0x1f1097(0x1ee)]['endsWith'](path[_0x1f1097(0x1b9)])&&_0x1da93f[_0x1f1097(0x1ee)][_0x1f1097(0x216)]>0x4){let _0x5063c6=_0x1da93f[_0x1f1097(0x1ee)]['slice'](0x0,-0x1);console['log']('修正授权路径\x20'+_0x1da93f[_0x1f1097(0x1ee)]+_0x1f1097(0x214)+_0x5063c6),dbOther[_0x1f1097(0x226)]('update\x20user_power\x20set\x20path=?\x20where\x20username=?\x20and\x20path=?')[_0x1f1097(0x205)](_0x5063c6,_0x1da93f[_0x1f1097(0x218)],_0x1da93f['path']);}}}}initInfo();function exitProcess(){const _0x1d82b7=_0x55eceb;process[_0x1d82b7(0x215)]({'type':_0x1d82b7(0x21c)}),process[_0x1d82b7(0x1e8)]();}process['on'](_0x55eceb(0x1e8),(_0x44ac66,_0x3f8a6d)=>{const _0x294328=_0x55eceb;process[_0x294328(0x215)]({'type':_0x294328(0x21c)});});