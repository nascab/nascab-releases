const _0x32a0e7=_0x52f5;(function(_0x2b13ab,_0x4ae175){const _0x5c4053=_0x52f5,_0x58c880=_0x2b13ab();while(!![]){try{const _0xbd8af4=parseInt(_0x5c4053(0x242))/0x1*(-parseInt(_0x5c4053(0x230))/0x2)+parseInt(_0x5c4053(0x1f2))/0x3*(parseInt(_0x5c4053(0x226))/0x4)+-parseInt(_0x5c4053(0x215))/0x5*(-parseInt(_0x5c4053(0x1f7))/0x6)+parseInt(_0x5c4053(0x206))/0x7*(parseInt(_0x5c4053(0x255))/0x8)+parseInt(_0x5c4053(0x212))/0x9+-parseInt(_0x5c4053(0x22b))/0xa+-parseInt(_0x5c4053(0x1f9))/0xb;if(_0xbd8af4===_0x4ae175)break;else _0x58c880['push'](_0x58c880['shift']());}catch(_0x36c604){_0x58c880['push'](_0x58c880['shift']());}}}(_0x4389,0x7ec38));let dbConfigTable=require(_0x32a0e7(0x256)),dbFileOperationRecord=require(_0x32a0e7(0x21b)),axios=require(_0x32a0e7(0x227));const config=require(_0x32a0e7(0x1fd));let fs=require('fs'),path=require('path');const Database=require(_0x32a0e7(0x21d));let dbOther=new Database(config[_0x32a0e7(0x20e)],{}),dbFileIndex=new Database(config[_0x32a0e7(0x20f)],{});dbFileIndex[_0x32a0e7(0x24d)]('journal_mode\x20=\x20WAL'),dbOther[_0x32a0e7(0x24d)]('journal_mode\x20=\x20WAL');let nasAccountUtil=require('../express-server/utils/nasAccountUtils');const OS=require('os'),platform=OS[_0x32a0e7(0x1ee)](),videoStreamUtil=require('../utils/videoStreamUtil');function _0x4389(){const _0x2db2db=['last_scan_time','MacOs\x20VideoToolBox','2608482dlfTvk','darwin','23562220KzWtxD','NVIDIA\x20GPU','token','stat','../myConfig/config','size','win32','h264_nvenc','mtimeMs','CPU','get','output','H264','357pYhxBZ','cacheImageInfo','select\x20count(*)\x20as\x20count\x20from\x20bg_task','setAllBookType','COPY\x20TRANSCODE\x20FILE\x20TO\x20APP\x20FOLDER','NVIDIA\x20CUVID','getMinutes','push','dbOther','dbFileIndex','transCodeParams-coderList','D3D11VA','4444533WeKdYo','delete\x20from\x20bg_task\x20where\x20task_state!=0\x20order\x20by\x20id\x20asc\x20limit\x20?','transcodetest','10MXPbTY','m3u8TmpPath','-hwaccel\x20videotoolbox','exit','coderName','transcodetesth264','../db/dbFileOperationRecord','stringify','better-sqlite3','scan_interval_ms','join','sep','D3D11VA+AFM','h264_videotoolbox','\x20->\x20','../../package.json','end','8arFkyl','axios','existsSync','-hwaccel\x20d3d11va','D3D11VA+QSV','2877400NRFfQa','NVIDIA\x20GPU[AUTO]','path','getUpdateInfo','length','11432IzZGeX','readdir','transcode_test_output.mp4','getUserInfo','loginByToken','../db/dbScanTaskTable','start','DXVA2','decoderType','parents','select\x20*\x20from\x20user_power\x20where\x20path\x20like\x20\x27%','COPY\x20TRANSCODE\x20FILE\x20ERROR','run','decoderCommand','../db/dbMediaTools','includes','-c:v\x20h264_cuvid','getTime','40DLuhCA','libs','AUTO','resetNoFinishWork','close','getDiskInfo','修正授权路径\x20','slice','type','-hwaccel\x20dxva2','INTEL\x20GPU','pragma','prepare','-hwaccel\x20auto','DXVA2+AFM','h264_qsv','hwaccel','error','title','125800JIDEXT','../db/dbConfigTable','catch','libx264','isPkgPackage','DXVA2+QSV','cacheParentPath','username','FFmpeg','all','now','getCpuAndMemoryInfo','count','userDataFolder','addInputOption','clearExpiredLog','../express-server/utils/movieUtil','../utils/globalInfoUtil','getAllIndexInfo','D3D11VA+AMF','getIpList','setTaskToFailed','AMD\x20GPU','then','send','create','h264_amf','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20scan_interval=1\x20AND\x20last_scan_time<=?','appRootPath','NasCabGlobalInfoWorker','goParseMoviesKeys','platform','addScanTask','log','HEVC','1518477jHRQLd','writeFileSync','func'];_0x4389=function(){return _0x2db2db;};return _0x4389();}let nasTrans=require('../libs/nasTrans');const globalInfoUtil=require(_0x32a0e7(0x266));let FFmpeg=nasTrans[_0x32a0e7(0x25d)];const packageInfo=require(_0x32a0e7(0x224)),movieUtil=require(_0x32a0e7(0x265)),bookIndexUtil=require('../myWorkers/index/bookIndexUtil'),urlConfig=require('../myConfig/urlConfig'),dbScanTaskTable=require(_0x32a0e7(0x235)),dbMediaTools=require(_0x32a0e7(0x23e));process[_0x32a0e7(0x254)]=_0x32a0e7(0x1ec);let usableCoderList=[];function ffmpegTestDecoderEncoder(_0x13085f,_0x5a96c5,_0xd153f8,_0x2f88f4,_0x4c8caf){return new Promise((_0x3f93e9,_0x482977)=>{const _0x5a0117=_0x52f5;if(_0x4c8caf)for(parent of _0x4c8caf){for(useCoderItem of usableCoderList){if(parent==useCoderItem['coderName']&&_0x13085f==useCoderItem[_0x5a0117(0x238)])return _0x482977();}}if('libx264'==_0x2f88f4&&!_0xd153f8&&!_0x5a96c5)return _0x3f93e9();let _0x42a7fa=_0x13085f==_0x5a0117(0x1f1)?_0x5a0117(0x214):_0x5a0117(0x21a),_0x3395ec=path[_0x5a0117(0x21f)](config[_0x5a0117(0x1eb)],_0x5a0117(0x243),_0x42a7fa);if(packageInfo[_0x5a0117(0x259)]){let _0x30b3f0=path[_0x5a0117(0x21f)](config[_0x5a0117(0x262)],_0x42a7fa);if(!fs[_0x5a0117(0x228)](_0x30b3f0))try{let _0x261599=fs['readFileSync'](_0x3395ec);fs[_0x5a0117(0x1f3)](_0x30b3f0,_0x261599),_0x3395ec=_0x30b3f0,console[_0x5a0117(0x1f0)](_0x5a0117(0x20a));}catch(_0x34436e){console[_0x5a0117(0x1f0)](_0x5a0117(0x23b),_0x34436e);}else _0x3395ec=_0x30b3f0;}let _0x44e9e6=path[_0x5a0117(0x21f)](config[_0x5a0117(0x262)],_0x5a0117(0x232));fs[_0x5a0117(0x1fc)](_0x3395ec,(_0x22bfbf,_0x725066)=>{const _0x563a06=_0x5a0117;if(_0x22bfbf)return _0x482977();let _0x519cd8=FFmpeg(_0x3395ec);_0x5a96c5&&_0x519cd8[_0x563a06(0x263)](_0x5a96c5),_0xd153f8&&_0x519cd8[_0x563a06(0x263)](_0xd153f8),_0x2f88f4&&_0x519cd8['videoCodec'](_0x2f88f4),_0x519cd8['on'](_0x563a06(0x236),function(_0x3412f7){})['on'](_0x563a06(0x253),function(_0x1aa49d){_0x482977();})['on'](_0x563a06(0x225),function(_0x1e2034){_0x3f93e9();}),_0x519cd8[_0x563a06(0x204)](_0x44e9e6),_0x519cd8[_0x563a06(0x23c)]();});});}function getFitDecoderEncoder(_0x4d529a){const _0x3bfd10=_0x32a0e7;let _0x3d6333=[];_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':'-hwaccel\x20cuda','decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x3bfd10(0x1fa)}),_0x3d6333['push']({'decoderType':_0x3bfd10(0x1f1),'hwaccel':'-hwaccel\x20cuda','decoderCommand':'','encoderName':_0x3bfd10(0x200),'coderName':'NVIDIA\x20GPU'}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':'H264','hwaccel':_0x3bfd10(0x24f),'decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x3bfd10(0x22c),'parents':['NVIDIA\x20GPU']}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x3bfd10(0x22c),'parents':[_0x3bfd10(0x1fa)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':'H264','hwaccel':_0x3bfd10(0x24f),'decoderCommand':_0x3bfd10(0x240),'encoderName':'','coderName':_0x3bfd10(0x20b),'parents':[_0x3bfd10(0x1fa),_0x3bfd10(0x22c)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x24f),'decoderCommand':'-c:v\x20hevc_cuvid','encoderName':'','coderName':_0x3bfd10(0x20b),'parents':['NVIDIA\x20GPU',_0x3bfd10(0x22c)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':'h264_qsv','coderName':'INTEL\x20GPU'}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x24f),'decoderCommand':'','encoderName':_0x3bfd10(0x251),'coderName':'INTEL\x20GPU'}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x24f),'decoderCommand':'','encoderName':_0x3bfd10(0x251),'coderName':'INTEL\x20GPU','parents':[_0x3bfd10(0x24c)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':'H264','hwaccel':_0x3bfd10(0x24b),'decoderCommand':'','encoderName':_0x3bfd10(0x251),'coderName':_0x3bfd10(0x25a)}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':'HEVC','hwaccel':_0x3bfd10(0x24b),'decoderCommand':'','encoderName':_0x3bfd10(0x251),'coderName':'DXVA2+QSV'}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':'H264','hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x3bfd10(0x251),'coderName':_0x3bfd10(0x22a),'parents':[_0x3bfd10(0x24c),'DXVA2+QSV']}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x3bfd10(0x251),'coderName':_0x3bfd10(0x22a),'parents':[_0x3bfd10(0x24c),_0x3bfd10(0x25a)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':_0x3bfd10(0x24b),'decoderCommand':'','encoderName':_0x3bfd10(0x1e9),'coderName':_0x3bfd10(0x250),'parents':[_0x3bfd10(0x24c),_0x3bfd10(0x25a),_0x3bfd10(0x22a)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x24b),'decoderCommand':'','encoderName':_0x3bfd10(0x1e9),'coderName':_0x3bfd10(0x250),'parents':[_0x3bfd10(0x24c),'DXVA2+QSV','D3D11VA+QSV']}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':_0x3bfd10(0x229),'decoderCommand':'','encoderName':_0x3bfd10(0x1e9),'coderName':_0x3bfd10(0x1e2),'parents':[_0x3bfd10(0x24c),_0x3bfd10(0x25a),_0x3bfd10(0x22a)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x229),'decoderCommand':'','encoderName':'h264_amf','coderName':_0x3bfd10(0x1e2),'parents':[_0x3bfd10(0x24c),'DXVA2+QSV',_0x3bfd10(0x22a)]}),_0x3d6333['push']({'decoderType':_0x3bfd10(0x205),'decoderCommand':'','encoderName':_0x3bfd10(0x1e9),'coderName':_0x3bfd10(0x1e5),'parents':[_0x3bfd10(0x250),_0x3bfd10(0x22a),_0x3bfd10(0x24c),_0x3bfd10(0x25a),'D3D11VA+QSV']}),_0x3d6333['push']({'decoderType':_0x3bfd10(0x1f1),'decoderCommand':'','encoderName':_0x3bfd10(0x1e9),'coderName':'AMD\x20GPU','parents':['DXVA2+AFM',_0x3bfd10(0x22a),_0x3bfd10(0x24c),_0x3bfd10(0x25a),'D3D11VA+QSV']}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':_0x3bfd10(0x24b),'decoderCommand':'','encoderName':'','coderName':_0x3bfd10(0x237),'parents':[_0x3bfd10(0x250),'DXVA2+QSV']}),_0x3d6333['push']({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x24b),'decoderCommand':'','encoderName':'','coderName':_0x3bfd10(0x237),'parents':[_0x3bfd10(0x250),_0x3bfd10(0x25a)]}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':_0x3bfd10(0x229),'decoderCommand':'','encoderName':'','coderName':_0x3bfd10(0x211),'parents':[_0x3bfd10(0x221),_0x3bfd10(0x22a)]}),_0x3d6333['push']({'decoderType':'HEVC','hwaccel':_0x3bfd10(0x229),'decoderCommand':'','encoderName':'','coderName':'D3D11VA','parents':[_0x3bfd10(0x221),_0x3bfd10(0x22a)]});platform==_0x3bfd10(0x1f8)&&(_0x3d6333[_0x3bfd10(0x20d)]({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':_0x3bfd10(0x205),'decoderCommand':'','encoderName':_0x3bfd10(0x222),'coderName':_0x3bfd10(0x1f6)}),_0x3d6333['push']({'hwaccel':_0x3bfd10(0x217),'decoderType':_0x3bfd10(0x1f1),'decoderCommand':'','encoderName':_0x3bfd10(0x222),'coderName':'MacOs\x20VideoToolBox'}));_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x205),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':'','coderName':_0x3bfd10(0x244)}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':_0x3bfd10(0x1f1),'hwaccel':_0x3bfd10(0x24f),'decoderCommand':'','encoderName':'','coderName':_0x3bfd10(0x244)}),_0x3d6333['push']({'decoderType':_0x3bfd10(0x1f1),'decoderCommand':'','encoderName':_0x3bfd10(0x258),'coderName':_0x3bfd10(0x202)}),_0x3d6333[_0x3bfd10(0x20d)]({'decoderType':'H264','decoderCommand':'','encoderName':_0x3bfd10(0x258),'coderName':_0x3bfd10(0x202)});function _0xdb2557(_0x4ebf2c){const _0x1759b0=_0x3bfd10;function _0x2d5124(){_0x4ebf2c>=_0x3d6333['length']-0x1?_0x4d529a(usableCoderList):_0xdb2557(_0x4ebf2c+0x1);}let _0x214cc8=_0x3d6333[_0x4ebf2c][_0x1759b0(0x252)],_0x2717e6=_0x3d6333[_0x4ebf2c]['decoderType'],_0x4161c0=_0x3d6333[_0x4ebf2c]['decoderCommand'],_0x3c43f8=_0x3d6333[_0x4ebf2c]['encoderName'],_0x15217d=_0x3d6333[_0x4ebf2c][_0x1759b0(0x239)];for(let _0x5ba57a of usableCoderList){if(_0x5ba57a[_0x1759b0(0x238)]==_0x2717e6&&_0x5ba57a[_0x1759b0(0x23d)]==_0x4161c0&&_0x5ba57a[_0x1759b0(0x219)]==_0x3d6333[_0x4ebf2c][_0x1759b0(0x219)])return _0x2d5124();}ffmpegTestDecoderEncoder(_0x2717e6,_0x214cc8,_0x4161c0,_0x3c43f8,_0x15217d)[_0x1759b0(0x1e6)](()=>{const _0x18bc4d=_0x1759b0;usableCoderList[_0x18bc4d(0x20d)](_0x3d6333[_0x4ebf2c]),_0x2d5124();})[_0x1759b0(0x257)](()=>{_0x2d5124();});}_0xdb2557(0x0);}function detectFfmpegGpuCoder(){const _0x480f24=_0x32a0e7;console[_0x480f24(0x1f0)]('开始检测FFMPEG编解码性能[Start\x20detecting\x20ffmpeg\x20gpu]'),getFitDecoderEncoder(_0x252ab0=>{const _0x411f43=_0x480f24;dbConfigTable['create'](dbOther,{'title':_0x411f43(0x210),'value':JSON[_0x411f43(0x21c)](_0x252ab0)});});}function nasAccountRefresh(){const _0xffcdb0=_0x32a0e7;nasAccountUtil[_0xffcdb0(0x233)](dbOther)[_0xffcdb0(0x1e6)](_0x1cfb8f=>{const _0x337532=_0xffcdb0;if(_0x1cfb8f)_0x1cfb8f&&_0x1cfb8f[_0x337532(0x1fb)]&&_0x1cfb8f[_0x337532(0x1fb)][_0x337532(0x22f)]>0x0&&nasAccountUtil[_0x337532(0x234)](dbOther,_0x1cfb8f[_0x337532(0x1fb)][_0x1cfb8f['token'][_0x337532(0x22f)]-0x1],()=>{},()=>{});else{}});}let lastCacheFolderMtimes=0x0,isCalutingCacheSize=![];function statisticsCachePath(){const _0x231190=_0x32a0e7;if(isCalutingCacheSize==!![])return;isCalutingCacheSize=!![];let _0x17da29=path[_0x231190(0x21f)](config[_0x231190(0x25b)],'cache');fs[_0x231190(0x1fc)](_0x17da29,(_0x5f171e,_0x143285)=>{const _0x1eac42=_0x231190;if(_0x5f171e)return;if(_0x143285[_0x1eac42(0x201)]==lastCacheFolderMtimes)return;lastCacheFolderMtimes=_0x143285[_0x1eac42(0x201)];let _0x47df0e=0x0;fs[_0x1eac42(0x231)](_0x17da29,{},(_0x5c848,_0x35e84f)=>{const _0x2a01de=_0x1eac42;if(_0x5c848){console[_0x2a01de(0x1f0)](_0x5c848);return;}if(_0x35e84f[_0x2a01de(0x22f)]>0x0){function _0x5e4694(_0x37a2ee,_0x353dfd){const _0x536a8f=_0x2a01de;fs[_0x536a8f(0x1fc)](path[_0x536a8f(0x21f)](_0x17da29,_0x35e84f[_0x37a2ee]),(_0x25f216,_0x2f14f3)=>{const _0x223bc5=_0x536a8f;!_0x25f216&&(_0x47df0e+=_0x2f14f3[_0x223bc5(0x1fe)]),_0x37a2ee==_0x35e84f[_0x223bc5(0x22f)]-0x1?_0x353dfd():_0x5e4694(_0x37a2ee+0x1,_0x353dfd);});}_0x5e4694(0x0,()=>{const _0x50358f=_0x2a01de;dbConfigTable[_0x50358f(0x1e8)](dbOther,{'title':_0x50358f(0x207),'value':JSON[_0x50358f(0x21c)]({'totalSize':_0x47df0e,'count':_0x35e84f[_0x50358f(0x22f)]})}),isCalutingCacheSize=![];});}else isCalutingCacheSize=![];});});}const M3u8DeleteTimeGap=0x3*0xe10*0x3e8;function _0x52f5(_0x2e0ef8,_0x4f2a5d){const _0x438901=_0x4389();return _0x52f5=function(_0x52f5e6,_0x52ae3a){_0x52f5e6=_0x52f5e6-0x1e1;let _0x14c34a=_0x438901[_0x52f5e6];return _0x14c34a;},_0x52f5(_0x2e0ef8,_0x4f2a5d);}function clearM3u8Ts(){const _0x1742e4=_0x32a0e7;fs[_0x1742e4(0x231)](config[_0x1742e4(0x216)],(_0x320694,_0x59bc51)=>{const _0x3a8c60=_0x1742e4;if(_0x320694)return;for(let _0x38b7b9 in _0x59bc51){let _0x48f33a=path[_0x3a8c60(0x21f)](config[_0x3a8c60(0x216)],_0x59bc51[_0x38b7b9]);fs['stat'](_0x48f33a,(_0x1c8ef5,_0x5a28cc)=>{const _0x37b89e=_0x3a8c60;if(_0x1c8ef5)return console[_0x37b89e(0x1f0)](_0x1c8ef5);let _0x28617b=new Date()[_0x37b89e(0x241)](),_0x2b77df=_0x28617b-_0x5a28cc[_0x37b89e(0x201)];_0x2b77df>M3u8DeleteTimeGap&&fs['rm'](_0x48f33a,{'recursive':!![],'maxRetries':0xa,'retryDelay':0x3e8},_0x2d3905=>{});});}});}process['on']('message',_0x1e06fb=>{const _0x319610=_0x32a0e7;if(_0x1e06fb[_0x319610(0x1f4)]==_0x319610(0x247))globalInfoUtil[_0x319610(0x247)](dbOther,null,_0x1e06fb['force']);else{if(_0x1e06fb[_0x319610(0x1f4)]=='getIpList')globalInfoUtil['getIpList'](dbOther);else{if(_0x1e06fb['func']=='getAllIndexInfo')globalInfoUtil[_0x319610(0x1e1)](dbOther,dbFileIndex);else _0x1e06fb[_0x319610(0x1f4)]==_0x319610(0x22e)&&globalInfoUtil[_0x319610(0x22e)](dbOther);}}globalInfoUtil[_0x319610(0x260)](dbOther,null);}),globalInfoUtil[_0x32a0e7(0x247)](dbOther,null,!![]),globalInfoUtil[_0x32a0e7(0x260)](dbOther,null),detectFfmpegGpuCoder(),setTimeout(()=>{const _0x3f9e9e=_0x32a0e7;globalInfoUtil[_0x3f9e9e(0x1e3)](dbOther);},0x1388);function intervalScan(){const _0x1d99a8=_0x32a0e7;let _0x28ff3c=Date[_0x1d99a8(0x25f)](),_0x591a49=dbOther['prepare'](_0x1d99a8(0x1ea))['all'](_0x28ff3c-0x1b7740),_0x33c51c=[];for(let _0x40b5e7 of _0x591a49){let _0x56931d=_0x40b5e7[_0x1d99a8(0x21e)];_0x40b5e7[_0x1d99a8(0x1f5)]+_0x56931d<_0x28ff3c&&(console[_0x1d99a8(0x1f0)]('间隔扫描',_0x40b5e7[_0x1d99a8(0x22d)]),dbScanTaskTable[_0x1d99a8(0x1ef)](dbOther,_0x40b5e7[_0x1d99a8(0x24a)],_0x40b5e7[_0x1d99a8(0x22d)]),!_0x33c51c[_0x1d99a8(0x23f)][_0x40b5e7[_0x1d99a8(0x24a)]]&&_0x33c51c['push'](_0x40b5e7[_0x1d99a8(0x24a)]));}for(let _0x1fbe84 of _0x33c51c){process['send']({'type':'startScanPath','source_type':_0x1fbe84,'restartWatcher':![]});}}function initInfo(){const _0x5e1ae3=_0x32a0e7;setInterval(()=>{statisticsCachePath();},0x2bf20),setInterval(statisticsCachePath,0x18*0x3c*0x3c*0x3e8),setInterval(clearM3u8Ts,0xe10*0x3e8),setInterval(nasAccountRefresh,0x18*0x3c*0x3c*0x3e8),setTimeout(()=>{nasAccountRefresh();},0x7530);let _0x505a37=0x1388,_0x39afb7=dbOther['prepare'](_0x5e1ae3(0x208))[_0x5e1ae3(0x203)]();if(_0x39afb7&&_0x39afb7['count']>_0x505a37){let _0x500d02=_0x39afb7[_0x5e1ae3(0x261)]-_0x505a37;dbOther[_0x5e1ae3(0x24e)](_0x5e1ae3(0x213))['run'](_0x500d02);}dbFileIndex[_0x5e1ae3(0x24e)]('UPDATE\x20file_index_photo\x20SET\x20in_trash=1\x20WHERE\x20in_trash=2')[_0x5e1ae3(0x23c)](),dbFileOperationRecord[_0x5e1ae3(0x245)](dbOther),dbMediaTools[_0x5e1ae3(0x1e4)](dbOther),dbFileOperationRecord[_0x5e1ae3(0x264)](dbOther),setInterval(()=>{const _0x51e049=_0x5e1ae3;videoStreamUtil[_0x51e049(0x1ed)](dbOther,dbFileIndex);},0x708*0x3e8),setTimeout(()=>{videoStreamUtil['goParseMoviesKeys'](dbOther,dbFileIndex,!![]);},0x7530),setInterval(()=>{const _0x11e10f=_0x5e1ae3;globalInfoUtil[_0x11e10f(0x1e3)](dbOther);const _0x57b257=new Date(),_0x524665=_0x57b257[_0x11e10f(0x20c)]();(_0x524665==0x0||_0x524665==0x1e)&&intervalScan();},0x3c*0x3e8),movieUtil['dealFilenameNumberAll'](dbFileIndex),bookIndexUtil[_0x5e1ae3(0x209)](dbFileIndex);if(platform==_0x5e1ae3(0x1ff)){let _0xb1a0a7=dbOther[_0x5e1ae3(0x24e)](_0x5e1ae3(0x23a)+path[_0x5e1ae3(0x220)]+'\x27')[_0x5e1ae3(0x25e)]();for(let _0x4f901d of _0xb1a0a7){if(_0x4f901d['path']&&_0x4f901d['path']['endsWith'](path['sep'])&&_0x4f901d[_0x5e1ae3(0x22d)][_0x5e1ae3(0x22f)]>0x4){let _0x2977a9=_0x4f901d[_0x5e1ae3(0x22d)][_0x5e1ae3(0x249)](0x0,-0x1);console['log'](_0x5e1ae3(0x248)+_0x4f901d['path']+_0x5e1ae3(0x223)+_0x2977a9),dbOther['prepare']('update\x20user_power\x20set\x20path=?\x20where\x20username=?\x20and\x20path=?')[_0x5e1ae3(0x23c)](_0x2977a9,_0x4f901d[_0x5e1ae3(0x25c)],_0x4f901d[_0x5e1ae3(0x22d)]);}}}}initInfo();function exitProcess(){const _0x2eac40=_0x32a0e7;process[_0x2eac40(0x1e7)]({'type':_0x2eac40(0x246)}),process[_0x2eac40(0x218)]();}process['on']('exit',(_0x4d9b6f,_0x1f6f90)=>{const _0x556d06=_0x32a0e7;process[_0x556d06(0x1e7)]({'type':_0x556d06(0x246)});});