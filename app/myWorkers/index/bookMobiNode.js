const _0x249bd8=_0x6838;(function(_0x4e05e2,_0x57f809){const _0x56b112=_0x6838,_0x4f3695=_0x4e05e2();while(!![]){try{const _0x6ea562=parseInt(_0x56b112(0x13d))/0x1*(-parseInt(_0x56b112(0xe5))/0x2)+parseInt(_0x56b112(0xba))/0x3*(-parseInt(_0x56b112(0xf6))/0x4)+-parseInt(_0x56b112(0x190))/0x5+parseInt(_0x56b112(0x12f))/0x6*(-parseInt(_0x56b112(0x167))/0x7)+-parseInt(_0x56b112(0xfb))/0x8+parseInt(_0x56b112(0x1a8))/0x9*(-parseInt(_0x56b112(0x12e))/0xa)+parseInt(_0x56b112(0x113))/0xb*(parseInt(_0x56b112(0x102))/0xc);if(_0x6ea562===_0x57f809)break;else _0x4f3695['push'](_0x4f3695['shift']());}catch(_0x2bbf74){_0x4f3695['push'](_0x4f3695['shift']());}}}(_0x35d1,0xd6549));const unescapeHTML=_0x55684d=>{if(!_0x55684d)return'';},MIME={'XML':_0x249bd8(0xcc),'XHTML':_0x249bd8(0x15e),'HTML':'text/html','CSS':_0x249bd8(0x168),'SVG':_0x249bd8(0x1b0)},PDB_HEADER={'name':[0x0,0x20,_0x249bd8(0x10e)],'type':[0x3c,0x4,_0x249bd8(0x10e)],'creator':[0x40,0x4,_0x249bd8(0x10e)],'numRecords':[0x4c,0x2,'uint']},PALMDOC_HEADER={'compression':[0x0,0x2,_0x249bd8(0xbc)],'numTextRecords':[0x8,0x2,_0x249bd8(0xbc)],'recordSize':[0xa,0x2,_0x249bd8(0xbc)],'encryption':[0xc,0x2,_0x249bd8(0xbc)]},MOBI_HEADER={'magic':[0x10,0x4,'string'],'length':[0x14,0x4,_0x249bd8(0xbc)],'type':[0x18,0x4,_0x249bd8(0xbc)],'encoding':[0x1c,0x4,_0x249bd8(0xbc)],'uid':[0x20,0x4,_0x249bd8(0xbc)],'version':[0x24,0x4,'uint'],'titleOffset':[0x54,0x4,_0x249bd8(0xbc)],'titleLength':[0x58,0x4,_0x249bd8(0xbc)],'localeRegion':[0x5e,0x1,_0x249bd8(0xbc)],'localeLanguage':[0x5f,0x1,_0x249bd8(0xbc)],'resourceStart':[0x6c,0x4,_0x249bd8(0xbc)],'huffcdic':[0x70,0x4,_0x249bd8(0xbc)],'numHuffcdic':[0x74,0x4,_0x249bd8(0xbc)],'exthFlag':[0x80,0x4,_0x249bd8(0xbc)],'trailingFlags':[0xf0,0x4,_0x249bd8(0xbc)],'indx':[0xf4,0x4,'uint']},KF8_HEADER={'resourceStart':[0x6c,0x4,_0x249bd8(0xbc)],'fdst':[0xc0,0x4,'uint'],'numFdst':[0xc4,0x4,'uint'],'frag':[0xf8,0x4,_0x249bd8(0xbc)],'skel':[0xfc,0x4,_0x249bd8(0xbc)],'guide':[0x104,0x4,'uint']},EXTH_HEADER={'magic':[0x0,0x4,_0x249bd8(0x10e)],'length':[0x4,0x4,_0x249bd8(0xbc)],'count':[0x8,0x4,_0x249bd8(0xbc)]},INDX_HEADER={'magic':[0x0,0x4,_0x249bd8(0x10e)],'length':[0x4,0x4,_0x249bd8(0xbc)],'type':[0x8,0x4,_0x249bd8(0xbc)],'idxt':[0x14,0x4,'uint'],'numRecords':[0x18,0x4,_0x249bd8(0xbc)],'encoding':[0x1c,0x4,_0x249bd8(0xbc)],'language':[0x20,0x4,_0x249bd8(0xbc)],'total':[0x24,0x4,_0x249bd8(0xbc)],'ordt':[0x28,0x4,'uint'],'ligt':[0x2c,0x4,_0x249bd8(0xbc)],'numLigt':[0x30,0x4,_0x249bd8(0xbc)],'numCncx':[0x34,0x4,'uint']},TAGX_HEADER={'magic':[0x0,0x4,_0x249bd8(0x10e)],'length':[0x4,0x4,'uint'],'numControlBytes':[0x8,0x4,_0x249bd8(0xbc)]},HUFF_HEADER={'magic':[0x0,0x4,_0x249bd8(0x10e)],'offset1':[0x8,0x4,_0x249bd8(0xbc)],'offset2':[0xc,0x4,_0x249bd8(0xbc)]},CDIC_HEADER={'magic':[0x0,0x4,'string'],'length':[0x4,0x4,'uint'],'numEntries':[0x8,0x4,_0x249bd8(0xbc)],'codeLength':[0xc,0x4,_0x249bd8(0xbc)]},FDST_HEADER={'magic':[0x0,0x4,_0x249bd8(0x10e)],'numEntries':[0x8,0x4,_0x249bd8(0xbc)]},FONT_HEADER={'flags':[0x8,0x4,_0x249bd8(0xbc)],'dataStart':[0xc,0x4,'uint'],'keyLength':[0x10,0x4,_0x249bd8(0xbc)],'keyStart':[0x14,0x4,'uint']},MOBI_ENCODING={0x4e4:'windows-1252',0xfde9:_0x249bd8(0x197)},EXTH_RECORD_TYPE={0x64:[_0x249bd8(0x1ab),_0x249bd8(0x10e),!![]],0x65:['publisher'],0x67:['description'],0x68:[_0x249bd8(0xf9)],0x69:['subject',_0x249bd8(0x10e),!![]],0x6a:[_0x249bd8(0x19c)],0x6c:[_0x249bd8(0x12c),'string',!![]],0x6d:[_0x249bd8(0x121)],0x6e:[_0x249bd8(0xaf),_0x249bd8(0x10e),!![]],0x70:[_0x249bd8(0x1a9),_0x249bd8(0x10e),!![]],0x71:[_0x249bd8(0x1a3)],0x79:[_0x249bd8(0x18e),_0x249bd8(0xbc)],0x7a:['fixedLayout'],0x7d:['numResources',_0x249bd8(0xbc)],0x7e:['originalResolution'],0x7f:[_0x249bd8(0x154)],0x80:[_0x249bd8(0x136)],0x81:[_0x249bd8(0x181)],0x84:[_0x249bd8(0x188)],0xc9:[_0x249bd8(0xe7),'uint'],0xca:[_0x249bd8(0x1a5),_0x249bd8(0xbc)],0x1f7:[_0x249bd8(0xd7)],0x20c:['language',_0x249bd8(0x10e),!![]],0x20f:[_0x249bd8(0x199)]},MOBI_LANG={0x1:['ar','ar-SA',_0x249bd8(0x1b2),_0x249bd8(0x106),'ar-LY','ar-DZ',_0x249bd8(0x1ac),'ar-TN','ar-OM',_0x249bd8(0x193),_0x249bd8(0x17f),'ar-JO',_0x249bd8(0x18c),'ar-KW','ar-AE',_0x249bd8(0x12a),_0x249bd8(0xf7)],0x2:['bg'],0x3:['ca'],0x4:['zh',_0x249bd8(0x147),_0x249bd8(0x133),'zh-HK',_0x249bd8(0xea)],0x5:['cs'],0x6:['da'],0x7:['de',_0x249bd8(0xb8),_0x249bd8(0x148),_0x249bd8(0xd9),_0x249bd8(0x18b),_0x249bd8(0x178)],0x8:['el'],0x9:['en',_0x249bd8(0xfc),_0x249bd8(0x138),'en-AU',_0x249bd8(0x112),_0x249bd8(0x115),_0x249bd8(0xeb),'en-ZA','en-JM',null,_0x249bd8(0xc6),_0x249bd8(0x125),_0x249bd8(0x10d),_0x249bd8(0x1a2)],0xa:['es','es-ES','es-MX',null,_0x249bd8(0x169),_0x249bd8(0x114),_0x249bd8(0xfd),'es-DO',_0x249bd8(0xde),'es-CO',_0x249bd8(0x111),'es-AR','es-EC',_0x249bd8(0x130),_0x249bd8(0x108),_0x249bd8(0x110),_0x249bd8(0xca),_0x249bd8(0x142),_0x249bd8(0x144),_0x249bd8(0x10a),_0x249bd8(0xe8)],0xb:['fi'],0xc:['fr',_0x249bd8(0xb4),_0x249bd8(0xe4),_0x249bd8(0x179),_0x249bd8(0x105),_0x249bd8(0x159),_0x249bd8(0x1a6)],0xd:['he'],0xe:['hu'],0xf:['is'],0x10:['it',_0x249bd8(0x146),_0x249bd8(0xd3)],0x11:['ja'],0x12:['ko'],0x13:['nl','nl-NL',_0x249bd8(0xcd)],0x14:['no','nb','nn'],0x15:['pl'],0x16:['pt',_0x249bd8(0x1a7),'pt-PT'],0x17:['rm'],0x18:['ro'],0x19:['ru'],0x1a:['hr',null,'sr'],0x1b:['sk'],0x1c:['sq'],0x1d:['sv',_0x249bd8(0xdd),_0x249bd8(0xcf)],0x1e:['th'],0x1f:['tr'],0x20:['ur'],0x21:['id'],0x22:['uk'],0x23:['be'],0x24:['sl'],0x25:['et'],0x26:['lv'],0x27:['lt'],0x29:['fa'],0x2a:['vi'],0x2b:['hy'],0x2c:['az'],0x2d:['eu'],0x2e:[_0x249bd8(0xe3)],0x2f:['mk'],0x30:['st'],0x31:['ts'],0x32:['tn'],0x34:['xh'],0x35:['zu'],0x36:['af'],0x37:['ka'],0x38:['fo'],0x39:['hi'],0x3a:['mt'],0x3b:['se'],0x3e:['ms'],0x3f:['kk'],0x41:['sw'],0x43:['uz',null,_0x249bd8(0x10b)],0x44:['tt'],0x45:['bn'],0x46:['pa'],0x47:['gu'],0x48:['or'],0x49:['ta'],0x4a:['te'],0x4b:['kn'],0x4c:['ml'],0x4d:['as'],0x4e:['mr'],0x4f:['sa'],0x52:['cy',_0x249bd8(0x173)],0x53:['gl',_0x249bd8(0x116)],0x57:['kok'],0x61:['ne'],0x62:['fy']},concatTypedArray=(_0x516b48,_0x17a505)=>{const _0xd2e49e=_0x249bd8,_0x5cf74a=new _0x516b48[(_0xd2e49e(0x16e))](_0x516b48[_0xd2e49e(0x16c)]+_0x17a505[_0xd2e49e(0x16c)]);return _0x5cf74a[_0xd2e49e(0x13a)](_0x516b48),_0x5cf74a['set'](_0x17a505,_0x516b48['length']),_0x5cf74a;},concatTypedArray3=(_0x3a4111,_0xc644a7,_0x48a14e)=>{const _0x14d532=_0x249bd8,_0x3b7f52=new _0x3a4111[(_0x14d532(0x16e))](_0x3a4111['length']+_0xc644a7[_0x14d532(0x16c)]+_0x48a14e[_0x14d532(0x16c)]);return _0x3b7f52[_0x14d532(0x13a)](_0x3a4111),_0x3b7f52[_0x14d532(0x13a)](_0xc644a7,_0x3a4111[_0x14d532(0x16c)]),_0x3b7f52[_0x14d532(0x13a)](_0x48a14e,_0x3a4111['length']+_0xc644a7[_0x14d532(0x16c)]),_0x3b7f52;},decoder=new TextDecoder(),getString=function(_0x5d0566){return decoder['decode'](_0x5d0566);},getUint=function(_0x3cea74){const _0x50e7f5=_0x249bd8;if(!_0x3cea74)return;const _0x5de45a=_0x3cea74['byteLength'],_0x2d1e94=_0x5de45a===0x4?_0x50e7f5(0x19a):_0x5de45a===0x2?'getUint16':'getUint8';return new DataView(_0x3cea74)[_0x2d1e94](0x0);},getStruct=function(_0x4a637a,_0x5810a4){const _0xc3e78f=_0x249bd8;return Object[_0xc3e78f(0xb3)](Array[_0xc3e78f(0xc1)](Object['entries'](_0x4a637a))['map'](([_0x36d197,[_0x261e7d,_0x387a67,_0x462d4a]])=>[_0x36d197,(_0x462d4a==='string'?getString:getUint)(_0x5810a4[_0xc3e78f(0xd8)](_0x261e7d,_0x261e7d+_0x387a67))]));},getDecoder=_0x4f5134=>new TextDecoder(MOBI_ENCODING[_0x4f5134]),getVarLen=(_0x4b5575,_0x32aff9=0x0)=>{const _0x222597=_0x249bd8;let _0x5139c7=0x0,_0x1d4c46=0x0;for(const _0x12df73 of _0x4b5575[_0x222597(0xd4)](_0x32aff9,_0x32aff9+0x4)){_0x5139c7=_0x5139c7<<0x7|(_0x12df73&0x7f)>>>0x0,_0x1d4c46++;if(_0x12df73&0x80)break;}return{'value':_0x5139c7,'length':_0x1d4c46};},getVarLenFromEnd=_0x5eb71d=>{const _0x411823=_0x249bd8;let _0x46b5de=0x0;for(const _0x56500a of _0x5eb71d[_0x411823(0xd4)](-0x4)){if(_0x56500a&0x80)_0x46b5de=0x0;_0x46b5de=_0x46b5de<<0x7|_0x56500a&0x7f;}return _0x46b5de;},countBitsSet=_0x5dd702=>{let _0x181fd0=0x0;for(;_0x5dd702>0x0;_0x5dd702=_0x5dd702>>0x1)if((_0x5dd702&0x1)===0x1)_0x181fd0++;return _0x181fd0;},countUnsetEnd=_0x104bde=>{let _0x4f21f5=0x0;while((_0x104bde&0x1)===0x0)_0x104bde=_0x104bde>>0x1,_0x4f21f5++;return _0x4f21f5;},decompressPalmDOC=_0x87d92d=>{const _0x192ef7=_0x249bd8;let _0x5578e8=[];for(let _0x384942=0x0;_0x384942<_0x87d92d[_0x192ef7(0x16c)];_0x384942++){const _0xcd8f4b=_0x87d92d[_0x384942];if(_0xcd8f4b===0x0)_0x5578e8[_0x192ef7(0x1ad)](0x0);else{if(_0xcd8f4b<=0x8){for(const _0x17f1e4 of _0x87d92d[_0x192ef7(0xd4)](_0x384942+0x1,(_0x384942+=_0xcd8f4b)+0x1))_0x5578e8['push'](_0x17f1e4);}else{if(_0xcd8f4b<=0x7f)_0x5578e8[_0x192ef7(0x1ad)](_0xcd8f4b);else{if(_0xcd8f4b<=0xbf){const _0xc333dc=_0xcd8f4b<<0x8|_0x87d92d[_0x384942++ +0x1],_0x5ed154=(_0xc333dc&0x3fff)>>>0x3,_0x100f41=(_0xc333dc&0x7)+0x3;for(let _0x19947c=0x0;_0x19947c<_0x100f41;_0x19947c++)_0x5578e8['push'](_0x5578e8[_0x5578e8[_0x192ef7(0x16c)]-_0x5ed154]);}else _0x5578e8[_0x192ef7(0x1ad)](0x20,_0xcd8f4b^0x80);}}}}return Uint8Array[_0x192ef7(0xc1)](_0x5578e8);},read32Bits=(_0x4cef5b,_0x3fdea1)=>{const _0x5b4532=_0x3fdea1>>0x3,_0x49e830=_0x3fdea1+0x20,_0x3a180e=_0x49e830>>0x3;let _0x38739a=0x0n;for(let _0x2d01f8=_0x5b4532;_0x2d01f8<=_0x3a180e;_0x2d01f8++)_0x38739a=_0x38739a<<0x8n|BigInt(_0x4cef5b[_0x2d01f8]??0x0);return _0x38739a>>0x8n-BigInt(_0x49e830&0x7)&0xffffffffn;},huffcdic=async(_0x506c53,_0x26d588)=>{const _0x2b8073=_0x249bd8,_0x40e9c8=await _0x26d588(_0x506c53[_0x2b8073(0xce)]),{magic:_0xb93e54,offset1:_0x447b91,offset2:_0x58326c}=getStruct(HUFF_HEADER,_0x40e9c8);if(_0xb93e54!==_0x2b8073(0x198))throw new Error(_0x2b8073(0x15a));const _0x16d912=Array[_0x2b8073(0xc1)]({'length':0x100},(_0x325cd6,_0x38d30e)=>_0x447b91+_0x38d30e*0x4)[_0x2b8073(0xf4)](_0x4fe603=>getUint(_0x40e9c8[_0x2b8073(0xd8)](_0x4fe603,_0x4fe603+0x4)))[_0x2b8073(0xf4)](_0x55ef3b=>[_0x55ef3b&0x80,_0x55ef3b&0x1f,_0x55ef3b>>>0x8]),_0x3d2b52=[null][_0x2b8073(0x132)](Array[_0x2b8073(0xc1)]({'length':0x20},(_0x596ed4,_0x559325)=>_0x58326c+_0x559325*0x8)['map'](_0x353ef9=>[getUint(_0x40e9c8[_0x2b8073(0xd8)](_0x353ef9,_0x353ef9+0x4)),getUint(_0x40e9c8['slice'](_0x353ef9+0x4,_0x353ef9+0x8))])),_0x3cdeee=[];for(let _0x2bef95=0x1;_0x2bef95<_0x506c53[_0x2b8073(0xd2)];_0x2bef95++){const _0x25d057=await _0x26d588(_0x506c53[_0x2b8073(0xce)]+_0x2bef95),_0x52a389=getStruct(CDIC_HEADER,_0x25d057);if(_0x52a389[_0x2b8073(0x140)]!==_0x2b8073(0xc9))throw new Error(_0x2b8073(0x17e));const _0x41127e=Math['min'](0x1<<_0x52a389['codeLength'],_0x52a389[_0x2b8073(0x14b)]-_0x3cdeee['length']),_0x548358=_0x25d057[_0x2b8073(0xd8)](_0x52a389[_0x2b8073(0x16c)]);for(let _0x4f9c8d=0x0;_0x4f9c8d<_0x41127e;_0x4f9c8d++){const _0x4acc14=getUint(_0x548358[_0x2b8073(0xd8)](_0x4f9c8d*0x2,_0x4f9c8d*0x2+0x2)),_0xb668f=getUint(_0x548358[_0x2b8073(0xd8)](_0x4acc14,_0x4acc14+0x2)),_0x3d9a4b=_0xb668f&0x7fff,_0x50a5b9=_0xb668f&0x8000,_0xf8b78b=new Uint8Array(_0x548358['slice'](_0x4acc14+0x2,_0x4acc14+0x2+_0x3d9a4b));_0x3cdeee[_0x2b8073(0x1ad)]([_0xf8b78b,_0x50a5b9]);}}const _0x4d947c=_0x3e7e5d=>{const _0x232445=_0x2b8073;let _0x71410b=new Uint8Array();const _0x4ebe8e=_0x3e7e5d[_0x232445(0x15c)]*0x8;for(let _0xc8de0f=0x0;_0xc8de0f<_0x4ebe8e;){const _0x38c877=Number(read32Bits(_0x3e7e5d,_0xc8de0f));let [_0x445b29,_0x53949f,_0x40b9ff]=_0x16d912[_0x38c877>>>0x18];if(!_0x445b29){while(_0x38c877>>>0x20-_0x53949f<_0x3d2b52[_0x53949f][0x0])_0x53949f+=0x1;_0x40b9ff=_0x3d2b52[_0x53949f][0x1];}if((_0xc8de0f+=_0x53949f)>_0x4ebe8e)break;const _0x364446=_0x40b9ff-(_0x38c877>>>0x20-_0x53949f);let [_0x3e3086,_0x4cc776]=_0x3cdeee[_0x364446];!_0x4cc776&&(_0x3e3086=_0x4d947c(_0x3e3086),_0x3cdeee[_0x364446]=[_0x3e3086,!![]]),_0x71410b=concatTypedArray(_0x71410b,_0x3e3086);}return _0x71410b;};return _0x4d947c;},getIndexData=async(_0x1deb1b,_0x238a3e)=>{const _0x3d805c=_0x249bd8,_0x216a7f=await _0x238a3e(_0x1deb1b),_0x429e54=getStruct(INDX_HEADER,_0x216a7f);if(_0x429e54[_0x3d805c(0x140)]!==_0x3d805c(0xd0))throw new Error(_0x3d805c(0xe6));const _0x11b8ac=getDecoder(_0x429e54[_0x3d805c(0xd5)]),_0x531388=_0x216a7f[_0x3d805c(0xd8)](_0x429e54[_0x3d805c(0x16c)]),_0x3cfff7=getStruct(TAGX_HEADER,_0x531388);if(_0x3cfff7['magic']!==_0x3d805c(0x145))throw new Error('Invalid\x20TAGX\x20section');const _0x5d033c=(_0x3cfff7[_0x3d805c(0x16c)]-0xc)/0x4,_0x29357e=Array[_0x3d805c(0xc1)]({'length':_0x5d033c},(_0x1ca86a,_0x57e6b5)=>new Uint8Array(_0x531388[_0x3d805c(0xd8)](0xc+_0x57e6b5*0x4,0xc+_0x57e6b5*0x4+0x4))),_0x219477={};let _0x26940c=0x0;for(let _0x275bfd=0x0;_0x275bfd<_0x429e54[_0x3d805c(0xfa)];_0x275bfd++){const _0x222e83=await _0x238a3e(_0x1deb1b+_0x429e54['numRecords']+_0x275bfd+0x1),_0x4af5db=new Uint8Array(_0x222e83);for(let _0x4c7f52=0x0;_0x4c7f52<_0x4af5db[_0x3d805c(0x15c)];){const _0x2a58ab=_0x4c7f52,{value:_0x50e290,length:_0x56faff}=getVarLen(_0x4af5db,_0x4c7f52);_0x4c7f52+=_0x56faff;const _0x4d4bfe=_0x222e83[_0x3d805c(0xd8)](_0x4c7f52,_0x4c7f52+_0x50e290);_0x4c7f52+=_0x50e290,_0x219477[_0x26940c+_0x2a58ab]=_0x11b8ac[_0x3d805c(0xb9)](_0x4d4bfe);}_0x26940c+=0x10000;}const _0xa5fff0=[];for(let _0x261a25=0x0;_0x261a25<_0x429e54['numRecords'];_0x261a25++){const _0x475358=await _0x238a3e(_0x1deb1b+0x1+_0x261a25),_0x511b42=new Uint8Array(_0x475358),_0x2588c1=getStruct(INDX_HEADER,_0x475358);if(_0x2588c1[_0x3d805c(0x140)]!==_0x3d805c(0xd0))throw new Error(_0x3d805c(0xe6));for(let _0x3ab8dc=0x0;_0x3ab8dc<_0x2588c1[_0x3d805c(0x129)];_0x3ab8dc++){const _0x4f0d6e=_0x2588c1['idxt']+0x4+0x2*_0x3ab8dc,_0x3416c9=getUint(_0x475358[_0x3d805c(0xd8)](_0x4f0d6e,_0x4f0d6e+0x2)),_0x27734b=getUint(_0x475358['slice'](_0x3416c9,_0x3416c9+0x1)),_0xbf3617=getString(_0x475358[_0x3d805c(0xd8)](_0x3416c9+0x1,_0x3416c9+0x1+_0x27734b)),_0x3c3d66=[],_0x54e0bd=_0x3416c9+0x1+_0x27734b;let _0xc608fe=0x0,_0x363190=_0x54e0bd+_0x3cfff7[_0x3d805c(0x119)];for(const [_0x12aabd,_0x253050,_0x264193,_0x2b60a5]of _0x29357e){if(_0x2b60a5&0x1){_0xc608fe++;continue;}const _0x1d63f4=_0x54e0bd+_0xc608fe,_0x371fc2=getUint(_0x475358[_0x3d805c(0xd8)](_0x1d63f4,_0x1d63f4+0x1))&_0x264193;if(_0x371fc2===_0x264193){if(countBitsSet(_0x264193)>0x1){const {value:_0x5a091c,length:_0x5a4f8f}=getVarLen(_0x511b42,_0x363190);_0x3c3d66[_0x3d805c(0x1ad)]([_0x12aabd,null,_0x5a091c,_0x253050]),_0x363190+=_0x5a4f8f;}else _0x3c3d66['push']([_0x12aabd,0x1,null,_0x253050]);}else _0x3c3d66[_0x3d805c(0x1ad)]([_0x12aabd,_0x371fc2>>countUnsetEnd(_0x264193),null,_0x253050]);}const _0x192fb4={};for(const [_0x4ab10c,_0x4c1c00,_0x583b4d,_0xb7269f]of _0x3c3d66){const _0x36ee08=[];if(_0x4c1c00!=null)for(let _0x333ed8=0x0;_0x333ed8<_0x4c1c00*_0xb7269f;_0x333ed8++){const {value:_0x3376cf,length:_0x378201}=getVarLen(_0x511b42,_0x363190);_0x36ee08[_0x3d805c(0x1ad)](_0x3376cf),_0x363190+=_0x378201;}else{let _0x819649=0x0;while(_0x819649<_0x583b4d){const {value:_0x428215,length:_0x812a2c}=getVarLen(_0x511b42,_0x363190);_0x36ee08[_0x3d805c(0x1ad)](_0x428215),_0x363190+=_0x812a2c,_0x819649+=_0x812a2c;}}_0x192fb4[_0x4ab10c]=_0x36ee08;}_0xa5fff0['push']({'name':_0xbf3617,'tagMap':_0x192fb4});}}return{'table':_0xa5fff0,'cncx':_0x219477};},getNCX=async(_0x1fad05,_0x31324a)=>{const _0x22b3c3=_0x249bd8,{table:_0x3d6c04,cncx:_0x969693}=await getIndexData(_0x1fad05,_0x31324a),_0x27c154=_0x3d6c04[_0x22b3c3(0xf4)](({tagMap:_0x1def90},_0x31dd5d)=>({'index':_0x31dd5d,'offset':_0x1def90[0x1]?.[0x0],'size':_0x1def90[0x2]?.[0x0],'label':_0x969693[_0x1def90[0x3]]??'','headingLevel':_0x1def90[0x4]?.[0x0],'pos':_0x1def90[0x6],'parent':_0x1def90[0x15]?.[0x0],'firstChild':_0x1def90[0x16]?.[0x0],'lastChild':_0x1def90[0x17]?.[0x0]})),_0x5d77db=_0xb03f2f=>{const _0xdbf667=_0x22b3c3;if(_0xb03f2f[_0xdbf667(0xcb)]==null)return _0xb03f2f;return _0xb03f2f['children']=_0x27c154['filter'](_0xd6bb3e=>_0xd6bb3e[_0xdbf667(0x185)]===_0xb03f2f['index'])[_0xdbf667(0xf4)](_0x5d77db),_0xb03f2f;};return _0x27c154[_0x22b3c3(0x164)](_0x55c75f=>_0x55c75f[_0x22b3c3(0x14e)]===0x0)[_0x22b3c3(0xf4)](_0x5d77db);},getEXTH=(_0x44101a,_0x576968)=>{const _0x2d3873=_0x249bd8,{magic:_0x4621ba,count:_0x1a428f}=getStruct(EXTH_HEADER,_0x44101a);if(_0x4621ba!==_0x2d3873(0x1b1))throw new Error(_0x2d3873(0xc0));const _0x52b09f=getDecoder(_0x576968),_0x1a5526={};let _0x12cdc9=0xc;for(let _0x4bb469=0x0;_0x4bb469<_0x1a428f;_0x4bb469++){const _0x1860b7=getUint(_0x44101a['slice'](_0x12cdc9,_0x12cdc9+0x4)),_0x20fa59=getUint(_0x44101a['slice'](_0x12cdc9+0x4,_0x12cdc9+0x8));if(_0x1860b7 in EXTH_RECORD_TYPE){const [_0x3a7d3a,_0x7446cd,_0x74cebc]=EXTH_RECORD_TYPE[_0x1860b7],_0x27b444=_0x44101a[_0x2d3873(0xd8)](_0x12cdc9+0x8,_0x12cdc9+_0x20fa59),_0x113fc0=_0x7446cd===_0x2d3873(0xbc)?getUint(_0x27b444):_0x52b09f[_0x2d3873(0xb9)](_0x27b444);if(_0x74cebc)_0x1a5526[_0x3a7d3a]??=[],_0x1a5526[_0x3a7d3a][_0x2d3873(0x1ad)](_0x113fc0);else _0x1a5526[_0x3a7d3a]=_0x113fc0;}_0x12cdc9+=_0x20fa59;}return _0x1a5526;},getFont=async(_0x1c9838,_0x3d0f8f)=>{const _0xdc4a8c=_0x249bd8,{flags:_0x1db421,dataStart:_0xa05b1e,keyLength:_0x308052,keyStart:_0x188abf}=getStruct(FONT_HEADER,_0x1c9838),_0x16bd75=new Uint8Array(_0x1c9838['slice'](_0xa05b1e));if(_0x1db421&0x2){const _0x229d9d=_0x308052===0x10?0x400:0x410,_0x47bd6c=new Uint8Array(_0x1c9838['slice'](_0x188abf,_0x188abf+_0x308052)),_0x1fbf9b=Math['min'](_0x229d9d,_0x16bd75[_0xdc4a8c(0x16c)]);for(var _0x17fb66=0x0;_0x17fb66<_0x1fbf9b;_0x17fb66++)_0x16bd75[_0x17fb66]=_0x16bd75[_0x17fb66]^_0x47bd6c[_0x17fb66%_0x47bd6c[_0xdc4a8c(0x16c)]];}if(_0x1db421&0x1)try{return await _0x3d0f8f(_0x16bd75);}catch(_0x2e1a08){console['warn'](_0x2e1a08),console['warn'](_0xdc4a8c(0x149));}return _0x16bd75;},isMOBI=async _0x52b381=>{const _0x56b653=_0x249bd8;let _0x51be47=await _0x52b381['slice'](0x3c,0x44);const _0x372633=_0x51be47[_0x56b653(0xee)]();return _0x372633===_0x56b653(0xf2);};class PDB{#file;#offsets;[_0x249bd8(0x1b4)];async[_0x249bd8(0x14f)](_0x5b6e43){const _0x3efec1=_0x249bd8;this.#file=_0x5b6e43;const _0x250834=getStruct(PDB_HEADER,await _0x5b6e43[_0x3efec1(0xd8)](0x0,0x4e)['buffer']);this[_0x3efec1(0x1b4)]=_0x250834;const _0x2b169b=await _0x5b6e43[_0x3efec1(0xd8)](0x4e,0x4e+_0x250834[_0x3efec1(0x129)]*0x8)[_0x3efec1(0x1b5)];this.#offsets=Array[_0x3efec1(0xc1)]({'length':_0x250834[_0x3efec1(0x129)]},(_0x54a900,_0x34b844)=>getUint(_0x2b169b['slice'](_0x34b844*0x8,_0x34b844*0x8+0x4)))[_0x3efec1(0xf4)]((_0x565b60,_0x194652,_0x544f0c)=>[_0x565b60,_0x544f0c[_0x194652+0x1]]);}['loadRecord'](_0x2c12dd){const _0x4b8bda=_0x249bd8,_0x103423=this.#offsets[_0x2c12dd];if(!_0x103423)throw new RangeError(_0x4b8bda(0x15f));return this.#file[_0x4b8bda(0xd8)](..._0x103423)[_0x4b8bda(0x1b5)];}async[_0x249bd8(0x1b3)](_0x43fbb5){const _0x4bb542=_0x249bd8,_0x4dea98=this.#offsets[_0x43fbb5][0x0];return getString(await this.#file[_0x4bb542(0xd8)](_0x4dea98,_0x4dea98+0x4)['buffer']);}}class MOBI extends PDB{#start=0x0;#resourceStart;#decoder;#encoder;#decompress;#removeTrailingEntries;constructor({unzlib:_0x406818}){super(),this['unzlib']=_0x406818;}async[_0x249bd8(0x14f)](_0xcd40e1){const _0x107857=_0x249bd8;await super[_0x107857(0x14f)](_0xcd40e1),this[_0x107857(0xf8)]=this.#getHeaders(await super[_0x107857(0x16b)](0x0)),this.#resourceStart=this[_0x107857(0xf8)]['mobi'][_0x107857(0xc8)];let _0xff706a=this[_0x107857(0xf8)][_0x107857(0x137)][_0x107857(0x143)]>=0x8;if(!_0xff706a){const _0x46f1bb=this['headers'][_0x107857(0x153)]?.[_0x107857(0x18e)];if(_0x46f1bb<0xffffffff)try{this[_0x107857(0xf8)]=this.#getHeaders(await super['loadRecord'](_0x46f1bb)),this.#start=_0x46f1bb,_0xff706a=!![];}catch(_0x54931f){console[_0x107857(0x171)](_0x54931f),console[_0x107857(0x171)](_0x107857(0x172));}}return await this.#setup(),_0xff706a?new KF8(this)[_0x107857(0x11e)]():new MOBI6(this)['init']();}#getHeaders(_0x42bb34){const _0xd64e5c=_0x249bd8,_0x13cc48=getStruct(PALMDOC_HEADER,_0x42bb34),_0xf0539=getStruct(MOBI_HEADER,_0x42bb34);if(_0xf0539[_0xd64e5c(0x140)]!=='MOBI')throw new Error(_0xd64e5c(0x117));const {titleOffset:_0x18012f,titleLength:_0x30d513,localeLanguage:_0x199f60,localeRegion:_0xbf808c}=_0xf0539;_0xf0539['title']=_0x42bb34[_0xd64e5c(0xd8)](_0x18012f,_0x18012f+_0x30d513);const _0xb1060a=MOBI_LANG[_0x199f60];_0xf0539[_0xd64e5c(0xbd)]=_0xb1060a?.[_0xbf808c>>0x2]??_0xb1060a?.[0x0];const _0x5e2ccc=_0xf0539[_0xd64e5c(0x192)]&0x40?getEXTH(_0x42bb34[_0xd64e5c(0xd8)](_0xf0539[_0xd64e5c(0x16c)]+0x10),_0xf0539[_0xd64e5c(0xd5)]):null,_0xd5a5bd=_0xf0539['version']>=0x8?getStruct(KF8_HEADER,_0x42bb34):null;return{'palmdoc':_0x13cc48,'mobi':_0xf0539,'exth':_0x5e2ccc,'kf8':_0xd5a5bd};}async #setup(){const _0x4acb4a=_0x249bd8,{palmdoc:_0x3a6794,mobi:_0x5d4f35}=this['headers'];this.#decoder=getDecoder(_0x5d4f35[_0x4acb4a(0xd5)]),this.#encoder=new TextEncoder();const {compression:_0x2450c1}=_0x3a6794;this.#decompress=_0x2450c1===0x1?_0x1a5cc8=>_0x1a5cc8:_0x2450c1===0x2?decompressPalmDOC:_0x2450c1===0x4448?await huffcdic(_0x5d4f35,this[_0x4acb4a(0x16b)][_0x4acb4a(0x182)](this)):null;const {trailingFlags:_0x8fa47d}=_0x5d4f35,_0x463d8c=_0x8fa47d&0x1,_0x5d7bf8=countBitsSet(_0x8fa47d>>>0x1);this.#removeTrailingEntries=_0x137471=>{const _0x265444=_0x4acb4a;for(let _0x2b6d80=0x0;_0x2b6d80<_0x5d7bf8;_0x2b6d80++){const _0x2f7dcf=getVarLenFromEnd(_0x137471);_0x137471=_0x137471[_0x265444(0xd4)](0x0,-_0x2f7dcf);}if(_0x463d8c){const _0x62f5ae=(_0x137471[_0x137471[_0x265444(0x16c)]-0x1]&0x3)+0x1;_0x137471=_0x137471['subarray'](0x0,-_0x62f5ae);}return _0x137471;};}[_0x249bd8(0xb9)](..._0x4e1706){const _0x1d593a=_0x249bd8;return this.#decoder[_0x1d593a(0xb9)](..._0x4e1706);}['encode'](..._0x540854){const _0x2ea4b9=_0x249bd8;return this.#encoder[_0x2ea4b9(0x177)](..._0x540854);}[_0x249bd8(0x16b)](_0x48e9e9){const _0x42fe2d=_0x249bd8;return super[_0x42fe2d(0x16b)](this.#start+_0x48e9e9);}[_0x249bd8(0x1b3)](_0x1ce37d){const _0x2a9781=_0x249bd8;return super[_0x2a9781(0x1b3)](this.#start+_0x1ce37d);}['loadText'](_0x405a19){const _0x2d206d=_0x249bd8;let _0x4eaa13=this[_0x2d206d(0x16b)](_0x405a19+0x1),_0x9e9f71=new Uint8Array(_0x4eaa13),_0x171989=this.#removeTrailingEntries(_0x9e9f71);return this.#decompress(_0x171989);}async[_0x249bd8(0x152)](_0x5cb472){const _0x22a4a3=_0x249bd8,_0x180785=await super[_0x22a4a3(0x16b)](this.#resourceStart+_0x5cb472),_0x4c9307=getString(_0x180785[_0x22a4a3(0xd8)](0x0,0x4));if(_0x4c9307===_0x22a4a3(0x17d))return getFont(_0x180785,this[_0x22a4a3(0x151)]);if(_0x4c9307===_0x22a4a3(0x14a)||_0x4c9307==='AUDI')return _0x180785[_0x22a4a3(0xd8)](0xc);return _0x180785;}[_0x249bd8(0x15d)](){const _0x13ffe0=_0x249bd8,_0x5449a4=this['headers'][_0x13ffe0(0x137)][_0x13ffe0(0xb2)];if(_0x5449a4<0xffffffff)return getNCX(_0x5449a4,this['loadRecord'][_0x13ffe0(0x182)](this));}[_0x249bd8(0x170)](){const _0xdb05bb=_0x249bd8,{mobi:_0x48d06a,exth:_0x1de64b}=this[_0xdb05bb(0xf8)];return{'identifier':_0x48d06a[_0xdb05bb(0x11c)][_0xdb05bb(0x196)](),'title':unescapeHTML(_0x1de64b?.[_0xdb05bb(0xd7)]||this[_0xdb05bb(0xb9)](_0x48d06a[_0xdb05bb(0xd7)])),'author':_0x1de64b?.[_0xdb05bb(0x1ab)]?.[_0xdb05bb(0xf4)](unescapeHTML),'publisher':unescapeHTML(_0x1de64b?.[_0xdb05bb(0x158)]),'language':_0x1de64b?.[_0xdb05bb(0xbd)]??_0x48d06a['language'],'published':_0x1de64b?.[_0xdb05bb(0x19c)],'description':unescapeHTML(_0x1de64b?.[_0xdb05bb(0x176)]),'subject':_0x1de64b?.[_0xdb05bb(0x175)]?.[_0xdb05bb(0xf4)](unescapeHTML),'rights':unescapeHTML(_0x1de64b?.[_0xdb05bb(0x121)]),'contributor':_0x1de64b?.[_0xdb05bb(0x12c)]};}async[_0x249bd8(0x16d)](){const _0x2130ea=_0x249bd8,{exth:_0x37d71f}=this[_0x2130ea(0xf8)],_0x5c4574=_0x37d71f?.[_0x2130ea(0xe7)]<0xffffffff?_0x37d71f?.[_0x2130ea(0xe7)]:_0x37d71f?.[_0x2130ea(0x1a5)]<0xffffffff?_0x37d71f?.['thumbnailOffset']:null;if(_0x5c4574!=null){const _0x93cb1f=await this[_0x2130ea(0x152)](_0x5c4574);return _0x93cb1f;}return null;}}const mbpPagebreakRegex=/<\s*(?:mbp:)?pagebreak[^>]*>/gi,fileposRegex=/<[^<>]+filepos=['"]{0,1}(\d+)[^<>]*>/gi,getIndent=_0x31c5f9=>{const _0x5e65e2=_0x249bd8;let _0x3f08eb=0x0;while(_0x31c5f9){const _0x2e40c4=_0x31c5f9['parentElement'];if(_0x2e40c4){const _0x183542=_0x2e40c4[_0x5e65e2(0xfe)]['toLowerCase']();if(_0x183542==='p')_0x3f08eb+=1.5;else{if(_0x183542===_0x5e65e2(0x11a))_0x3f08eb+=0x2;}}_0x31c5f9=_0x2e40c4;}return _0x3f08eb;};class MOBI6{#resourceCache=new Map();#textCache=new Map();#cache=new Map();#sections;#fileposList=[];#type=MIME['HTML'];constructor(_0x135329){const _0x177202=_0x249bd8;this[_0x177202(0x137)]=_0x135329;}async['init'](){const _0x29b1e7=_0x249bd8;let _0x1a8e1c=new Uint8Array();for(let _0x1dace0=0x0;_0x1dace0<this[_0x29b1e7(0x137)][_0x29b1e7(0xf8)][_0x29b1e7(0x12b)][_0x29b1e7(0x14d)];_0x1dace0++)_0x1a8e1c=concatTypedArray(_0x1a8e1c,await this[_0x29b1e7(0x137)][_0x29b1e7(0x109)](_0x1dace0));const _0x5a39e8=Array[_0x29b1e7(0xc1)](new Uint8Array(_0x1a8e1c),_0x52b4f6=>String[_0x29b1e7(0xc4)](_0x52b4f6))[_0x29b1e7(0x131)]('');this.#sections=[0x0]['concat'](Array[_0x29b1e7(0xc1)](_0x5a39e8[_0x29b1e7(0x11d)](mbpPagebreakRegex),_0x3fe99a=>_0x3fe99a['index']))['map']((_0xd036d7,_0x380905,_0x2fdbc0)=>_0x5a39e8[_0x29b1e7(0xd8)](_0xd036d7,_0x2fdbc0[_0x380905+0x1]))[_0x29b1e7(0xf4)](_0x184b65=>Uint8Array[_0x29b1e7(0xc1)](_0x184b65,_0x1e26b6=>_0x1e26b6[_0x29b1e7(0x1aa)](0x0)))[_0x29b1e7(0xf4)](_0x37a071=>({'book':this,'raw':_0x37a071}))[_0x29b1e7(0x18a)]((_0x23721d,_0x1313a7)=>{const _0x1777b9=_0x29b1e7,_0x541b89=_0x23721d[_0x23721d[_0x1777b9(0x16c)]-0x1];return _0x1313a7['start']=_0x541b89?.[_0x1777b9(0x100)]??0x0,_0x1313a7[_0x1777b9(0x100)]=_0x1313a7[_0x1777b9(0x126)]+_0x1313a7[_0x1777b9(0xda)][_0x1777b9(0x15c)],_0x23721d['concat'](_0x1313a7);},[]),this[_0x29b1e7(0x180)]=this.#sections['map']((_0x2e594f,_0x4831d8)=>({'id':_0x4831d8,'load':()=>this[_0x29b1e7(0x11b)](_0x2e594f),'size':_0x2e594f[_0x29b1e7(0x100)]-_0x2e594f[_0x29b1e7(0x126)]}));try{}catch(_0x5aa98d){console[_0x29b1e7(0x171)](_0x5aa98d);}return this.#fileposList=[...new Set(Array[_0x29b1e7(0xc1)](_0x5a39e8['matchAll'](fileposRegex),_0x59ab38=>_0x59ab38[0x1]))][_0x29b1e7(0xf4)](_0x4995b1=>({'filepos':_0x4995b1,'number':Number(_0x4995b1)}))[_0x29b1e7(0xf5)]((_0x6d6e6c,_0x203841)=>_0x6d6e6c[_0x29b1e7(0x139)]-_0x203841[_0x29b1e7(0x139)]),this[_0x29b1e7(0x163)]=this[_0x29b1e7(0x137)]['getMetadata'](),this['getCover']=this[_0x29b1e7(0x137)][_0x29b1e7(0x16d)][_0x29b1e7(0x182)](this[_0x29b1e7(0x137)]),this;}async['loadResource'](_0x593aab){const _0x322144=_0x249bd8;if(this.#resourceCache[_0x322144(0x15b)](_0x593aab))return this.#resourceCache[_0x322144(0x19e)](_0x593aab);const _0x6fba1c=await this[_0x322144(0x137)][_0x322144(0x152)](_0x593aab),_0x1bcd58=URL[_0x322144(0x155)](new Blob([_0x6fba1c]));return this.#resourceCache[_0x322144(0x13a)](_0x593aab,_0x1bcd58),_0x1bcd58;}async[_0x249bd8(0xb1)](_0x1c3ce7){const _0x1765e3=_0x249bd8;return this[_0x1765e3(0x152)](Number(_0x1c3ce7)-0x1);}async[_0x249bd8(0x191)](_0x5dafb3){const _0x48dedb=_0x249bd8;for(const _0x1a8710 of _0x5dafb3['querySelectorAll'](_0x48dedb(0x124))){const _0x2ec84d=_0x1a8710['getAttribute'](_0x48dedb(0x156));try{_0x1a8710[_0x48dedb(0x1a0)]=await this[_0x48dedb(0xb1)](_0x2ec84d);}catch{console['warn'](_0x48dedb(0xed)+_0x2ec84d);}}for(const _0x414598 of _0x5dafb3[_0x48dedb(0xe9)](_0x48dedb(0xd6))){const _0x540b6a=_0x414598[_0x48dedb(0x1ae)]('mediarecindex'),_0x14137d=_0x414598['getAttribute'](_0x48dedb(0x156));try{_0x414598[_0x48dedb(0x1a0)]=await this[_0x48dedb(0xb1)](_0x540b6a);if(_0x14137d)_0x414598['poster']=await this['loadRecindex'](_0x14137d);}catch{console[_0x48dedb(0x171)](_0x48dedb(0x104)+_0x540b6a);}}for(const _0x5209ac of _0x5dafb3[_0x48dedb(0xe9)]('[filepos]')){const _0x3fc405=_0x5209ac['getAttribute'](_0x48dedb(0x10c));_0x5209ac[_0x48dedb(0xc3)]=_0x48dedb(0x18d)+_0x3fc405;}}async[_0x249bd8(0x109)](_0x1985bc){const _0x2e9f4a=_0x249bd8;if(this.#textCache[_0x2e9f4a(0x15b)](_0x1985bc))return this.#textCache['get'](_0x1985bc);const {raw:_0x43fd44}=_0x1985bc,_0x437f75=this.#fileposList[_0x2e9f4a(0x164)](({number:_0x52dd2f})=>_0x52dd2f>=_0x1985bc[_0x2e9f4a(0x126)]&&_0x52dd2f<_0x1985bc[_0x2e9f4a(0x100)])['map'](_0x2128ef=>({..._0x2128ef,'offset':_0x2128ef[_0x2e9f4a(0x139)]-_0x1985bc['start']}));let _0x2bcd1d=_0x43fd44;_0x437f75[_0x2e9f4a(0x16c)]&&(_0x2bcd1d=_0x43fd44['subarray'](0x0,_0x437f75[0x0][_0x2e9f4a(0x189)]),_0x437f75[_0x2e9f4a(0xe0)](({filepos:_0x2ae241,offset:_0x389a4d},_0x30ca72)=>{const _0x1144b1=_0x2e9f4a,_0xe6f6ff=_0x437f75[_0x30ca72+0x1],_0x17b031=this['mobi'][_0x1144b1(0x177)](_0x1144b1(0x19b)+_0x2ae241+'\x22></a>');_0x2bcd1d=concatTypedArray3(_0x2bcd1d,_0x17b031,_0x43fd44[_0x1144b1(0xd4)](_0x389a4d,_0xe6f6ff?.[_0x1144b1(0x189)]));}));const _0x1d6590=this[_0x2e9f4a(0x137)][_0x2e9f4a(0xb9)](_0x2bcd1d)[_0x2e9f4a(0x150)](mbpPagebreakRegex,'');return this.#textCache['set'](_0x1985bc,_0x1d6590),_0x1d6590;}async[_0x249bd8(0x118)](_0x2deb93){}async[_0x249bd8(0x11b)](_0x4ff2d9){}[_0x249bd8(0x194)](_0x422acb){const _0x3e902e=_0x249bd8,_0x4292eb=_0x422acb[_0x3e902e(0xdb)](/filepos:(.*)/)[0x1],_0x3f7876=Number(_0x4292eb),_0xed15a8=this.#sections[_0x3e902e(0xc7)](_0x3d212a=>_0x3d212a[_0x3e902e(0x100)]>_0x3f7876),_0x1eb148=_0x2ad317=>_0x2ad317[_0x3e902e(0x128)]('filepos'+_0x4292eb);return{'index':_0xed15a8,'anchor':_0x1eb148};}['splitTOCHref'](_0x4e6b32){const _0xc94d0=_0x249bd8,_0x11d501=_0x4e6b32['match'](/filepos:(.*)/)[0x1],_0x2ccdac=Number(_0x11d501),_0x2c1d7c=this.#sections[_0xc94d0(0xc7)](_0xc56822=>_0xc56822[_0xc94d0(0x100)]>_0x2ccdac);return[_0x2c1d7c,_0xc94d0(0x10c)+_0x11d501];}[_0x249bd8(0xef)](_0x480e4a,_0x377e5a){const _0x55a677=_0x249bd8;return _0x480e4a[_0x55a677(0x128)](_0x377e5a);}['isExternal'](_0x30c915){const _0xd89ac4=_0x249bd8;return/^(?!blob|filepos)\w+:/i[_0xd89ac4(0x134)](_0x30c915);}[_0x249bd8(0x12d)](){const _0x493dd0=_0x249bd8;for(const _0x2ee95f of this.#resourceCache[_0x493dd0(0x13f)]())URL[_0x493dd0(0x16a)](_0x2ee95f);for(const _0x5645fe of this.#cache[_0x493dd0(0x13f)]())URL['revokeObjectURL'](_0x5645fe);}}const kindleResourceRegex=/kindle:(flow|embed):(\w+)(?:\?mime=(\w+\/[-+.\w]+))?/,kindlePosRegex=/kindle:pos:fid:(\w+):off:(\w+)/,parseResourceURI=_0x3b97d1=>{const _0x4761c9=_0x249bd8,[_0x75a699,_0x299bdc,_0x4aad79]=_0x3b97d1[_0x4761c9(0xdb)](kindleResourceRegex)[_0x4761c9(0xd8)](0x1);return{'resourceType':_0x75a699,'id':parseInt(_0x299bdc,0x20),'type':_0x4aad79};},parsePosURI=_0x477193=>{const _0x4044dc=_0x249bd8,[_0x38cb73,_0x297c8f]=_0x477193['match'](kindlePosRegex)[_0x4044dc(0xd8)](0x1);return{'fid':parseInt(_0x38cb73,0x20),'off':parseInt(_0x297c8f,0x20)};},makePosURI=(_0x1903b6=0x0,_0x1563e8=0x0)=>_0x249bd8(0xd1)+_0x1903b6[_0x249bd8(0x196)](0x20)[_0x249bd8(0x186)]()[_0x249bd8(0xbb)](0x4,'0')+_0x249bd8(0x17b)+_0x1563e8[_0x249bd8(0x196)](0x20)[_0x249bd8(0x186)]()[_0x249bd8(0xbb)](0xa,'0'),getFragmentSelector=_0x243d70=>{const _0x58e7f8=_0x249bd8,_0xab50f9=_0x243d70[_0x58e7f8(0xdb)](/\s(id|name|aid)\s*=\s*['"]([^'"]*)['"]/i);if(!_0xab50f9)return;const [,_0x243c23,_0x1a1f37]=_0xab50f9;return'['+_0x243c23+'=\x22'+CSS[_0x58e7f8(0x184)](_0x1a1f37)+'\x22]';},replaceSeries=async(_0xb62ca1,_0x54d8f6,_0x4a9382)=>{const _0x58f2be=_0x249bd8,_0x2f29e4=[];_0xb62ca1[_0x58f2be(0x19f)](_0x54d8f6,(..._0x51752a)=>(_0x2f29e4[_0x58f2be(0x1ad)](_0x51752a),null));const _0x2ae7a7=[];for(const _0x1115f7 of _0x2f29e4)_0x2ae7a7['push'](await _0x4a9382(..._0x1115f7));return _0xb62ca1[_0x58f2be(0x19f)](_0x54d8f6,()=>_0x2ae7a7[_0x58f2be(0xec)]());},getPageSpread=_0x25afd6=>{const _0x5e8389=_0x249bd8;for(const _0x516cfc of _0x25afd6){if(_0x516cfc===_0x5e8389(0xb5)||_0x516cfc==='rendition:page-spread-left')return _0x5e8389(0x127);if(_0x516cfc===_0x5e8389(0x19d)||_0x516cfc===_0x5e8389(0x16f))return _0x5e8389(0x157);if(_0x516cfc==='rendition:page-spread-center')return _0x5e8389(0x13c);}};class KF8{#cache=new Map();#fragmentOffsets=new Map();#fragmentSelectors=new Map();#tables={};#sections;#fullRawLength;#rawHead=new Uint8Array();#rawTail=new Uint8Array();#lastLoadedHead=-0x1;#lastLoadedTail=-0x1;#type=MIME[_0x249bd8(0x195)];#inlineMap=new Map();constructor(_0x142a56){const _0x4e199b=_0x249bd8;this[_0x4e199b(0x137)]=_0x142a56;}async[_0x249bd8(0x11e)](){const _0x27781d=_0x249bd8,_0xd509a5=this[_0x27781d(0x137)]['loadRecord'][_0x27781d(0x182)](this[_0x27781d(0x137)]),{kf8:_0x5e1678}=this[_0x27781d(0x137)][_0x27781d(0xf8)];try{const _0x23def0=await _0xd509a5(_0x5e1678[_0x27781d(0x135)]),_0x39a2cb=getStruct(FDST_HEADER,_0x23def0);if(_0x39a2cb[_0x27781d(0x140)]!==_0x27781d(0xdf))throw new Error(_0x27781d(0x165));const _0x1a309e=Array[_0x27781d(0xc1)]({'length':_0x39a2cb['numEntries']},(_0x4dcc62,_0x38c8d9)=>0xc+_0x38c8d9*0x8)['map'](_0x1269d4=>[getUint(_0x23def0[_0x27781d(0xd8)](_0x1269d4,_0x1269d4+0x4)),getUint(_0x23def0[_0x27781d(0xd8)](_0x1269d4+0x4,_0x1269d4+0x8))]);this.#tables[_0x27781d(0xbf)]=_0x1a309e,this.#fullRawLength=_0x1a309e[_0x1a309e[_0x27781d(0x16c)]-0x1][0x1];}catch{}const _0x5288ce=(await getIndexData(_0x5e1678['skel'],_0xd509a5))[_0x27781d(0x10f)][_0x27781d(0xf4)](({name:_0x3e27ec,tagMap:_0x6d3756},_0x35127b)=>({'index':_0x35127b,'name':_0x3e27ec,'numFrag':_0x6d3756[0x1][0x0],'offset':_0x6d3756[0x6][0x0],'length':_0x6d3756[0x6][0x1]})),_0x31f08e=await getIndexData(_0x5e1678[_0x27781d(0xc2)],_0xd509a5),_0x4ffb27=_0x31f08e[_0x27781d(0x10f)]['map'](({name:_0x198eed,tagMap:_0x29417d})=>({'insertOffset':parseInt(_0x198eed),'selector':_0x31f08e[_0x27781d(0x187)][_0x29417d[0x2][0x0]],'index':_0x29417d[0x4][0x0],'offset':_0x29417d[0x6][0x0],'length':_0x29417d[0x6][0x1]}));this.#tables[_0x27781d(0x123)]=_0x5288ce,this.#tables[_0x27781d(0x174)]=_0x4ffb27,this.#sections=_0x5288ce[_0x27781d(0x18a)]((_0x100b8f,_0x2f45d0)=>{const _0x46b646=_0x27781d,_0x3728de=_0x100b8f[_0x100b8f['length']-0x1],_0x511882=_0x3728de?.['fragEnd']??0x0,_0x5290c2=_0x511882+_0x2f45d0[_0x46b646(0x1a1)],_0x35c5af=_0x4ffb27['slice'](_0x511882,_0x5290c2),_0x2e4c55=_0x2f45d0[_0x46b646(0x16c)]+_0x35c5af['map'](_0x2e677c=>_0x2e677c['length'])[_0x46b646(0x18a)]((_0x857e84,_0x5252d2)=>_0x857e84+_0x5252d2),_0xf4420b=(_0x3728de?.[_0x46b646(0x103)]??0x0)+_0x2e4c55;return _0x100b8f[_0x46b646(0x132)]({'skel':_0x2f45d0,'frags':_0x35c5af,'fragEnd':_0x5290c2,'length':_0x2e4c55,'totalLength':_0xf4420b});},[]);const _0x1fceda=await this[_0x27781d(0x101)](['RESC','PAGE']),_0x1e5aec=new Map();if(_0x1fceda[_0x27781d(0x1a4)]){const _0x2eca67=await this[_0x27781d(0x137)][_0x27781d(0x16b)](_0x1fceda[_0x27781d(0x1a4)]),_0x5c26c3=this['mobi'][_0x27781d(0xb9)](_0x2eca67[_0x27781d(0xd8)](0x10))[_0x27781d(0x19f)](/\0/g,''),_0x3001f5=_0x5c26c3[_0x27781d(0xf1)](/\?>/),_0xc6a6f9=_0x27781d(0x166)+_0x5c26c3[_0x27781d(0xd8)](_0x3001f5)+_0x27781d(0xf3);}this[_0x27781d(0x180)]=this.#sections[_0x27781d(0xf4)]((_0x3baddb,_0x11baad)=>_0x3baddb[_0x27781d(0x141)]['length']?{'id':_0x11baad,'load':()=>this[_0x27781d(0x11b)](_0x3baddb),'createDocument':()=>this[_0x27781d(0x118)](_0x3baddb),'size':_0x3baddb['length'],'pageSpread':_0x1e5aec[_0x27781d(0x19e)](_0x11baad)}:{'linear':'no'});try{const _0x170f34=await this[_0x27781d(0x137)]['getNCX'](),_0x53d36b=({label:_0x44aa1d,pos:_0x115e8a,children:_0x1734c0})=>{const _0x5d963b=_0x27781d,[_0x7b315a,_0x53bef7]=_0x115e8a,_0x31b877=makePosURI(_0x7b315a,_0x53bef7),_0x2d0282=this.#fragmentOffsets['get'](_0x7b315a);if(_0x2d0282)_0x2d0282[_0x5d963b(0x1ad)](_0x53bef7);else this.#fragmentOffsets[_0x5d963b(0x13a)](_0x7b315a,[_0x53bef7]);return{'label':unescapeHTML(_0x44aa1d),'href':_0x31b877,'subitems':_0x1734c0?.[_0x5d963b(0xf4)](_0x53d36b)};};this[_0x27781d(0xff)]=_0x170f34?.['map'](_0x53d36b);}catch(_0x3ddd04){console[_0x27781d(0x171)](_0x3ddd04);}const {exth:_0x405d67}=this['mobi']['headers'];return this[_0x27781d(0xbe)]=_0x405d67[_0x27781d(0x199)],this[_0x27781d(0xb7)]={'layout':_0x405d67[_0x27781d(0x13e)]===_0x27781d(0x1af)?'pre-paginated':_0x27781d(0x17a),'viewport':Object[_0x27781d(0xb3)](_0x405d67[_0x27781d(0xe1)]?.['split']('x')?.[_0x27781d(0xd8)](0x0,0x2)?.['map']((_0xdfa7a4,_0x49ecf8)=>[_0x49ecf8?_0x27781d(0xc5):_0x27781d(0xb0),_0xdfa7a4])??[])},this[_0x27781d(0x163)]=this[_0x27781d(0x137)][_0x27781d(0x170)](),this[_0x27781d(0x16d)]=this[_0x27781d(0x137)][_0x27781d(0x16d)][_0x27781d(0x182)](this[_0x27781d(0x137)]),this;}async['getResourcesByMagic'](_0x3a5df1){const _0x5a0b94=_0x249bd8,_0x130f47={},_0x461f48=this[_0x5a0b94(0x137)][_0x5a0b94(0xf8)]['kf8'][_0x5a0b94(0xc8)],_0x27aa66=this[_0x5a0b94(0x137)][_0x5a0b94(0x1b4)][_0x5a0b94(0x129)];for(let _0x195c71=_0x461f48;_0x195c71<_0x27aa66;_0x195c71++){try{const _0x5ca391=await this['mobi'][_0x5a0b94(0x1b3)](_0x195c71),_0x7645d8=_0x3a5df1['find'](_0x51b25d=>_0x51b25d===_0x5ca391);if(_0x7645d8)_0x130f47[_0x7645d8]=_0x195c71;}catch{}}return _0x130f47;}async[_0x249bd8(0x18f)](_0x5a5d8e){const _0x292d2e=_0x249bd8,{resourceType:_0x14f285,id:_0x246e3c,type:_0x145f94}=parseResourceURI(_0x5a5d8e),_0x3505e2=_0x14f285===_0x292d2e(0x122)?await this[_0x292d2e(0x17c)](_0x246e3c):await this[_0x292d2e(0x137)]['loadResource'](_0x246e3c-0x1),_0x478283=[MIME['XHTML'],MIME['HTML'],MIME['CSS'],MIME[_0x292d2e(0x161)]][_0x292d2e(0x120)](_0x145f94)?await this[_0x292d2e(0x191)](this[_0x292d2e(0x137)]['decode'](_0x3505e2)):_0x3505e2;return[new Blob([_0x478283],{'type':_0x145f94}),null];}async[_0x249bd8(0x152)](_0x49ed98){const _0x1fea7a=_0x249bd8;if(this.#cache['has'](_0x49ed98))return this.#cache[_0x1fea7a(0x19e)](_0x49ed98);const [_0x2136dc,_0x37cf64]=await this[_0x1fea7a(0x18f)](_0x49ed98),_0x36c8ef=_0x37cf64?_0x49ed98:URL[_0x1fea7a(0x155)](_0x2136dc);if(_0x37cf64)this.#inlineMap[_0x1fea7a(0x13a)](_0x36c8ef,_0x37cf64);return this.#cache['set'](_0x49ed98,_0x36c8ef),_0x36c8ef;}[_0x249bd8(0x191)](_0x2e446a){const _0x3618fe=_0x249bd8,_0x4ee4bc=new RegExp(kindleResourceRegex,'g');return replaceSeries(_0x2e446a,_0x4ee4bc,this['loadResource'][_0x3618fe(0x182)](this));}async[_0x249bd8(0x13b)](_0x4678e4,_0x1562b0){const _0x2a5222=_0x249bd8,_0x46c56e=_0x1562b0-this.#rawHead[_0x2a5222(0x16c)],_0x185852=this.#fullRawLength==null?Infinity:this.#fullRawLength-this.#rawTail[_0x2a5222(0x16c)]-_0x4678e4;if(_0x46c56e<0x0||_0x46c56e<_0x185852){while(this.#rawHead['length']<_0x1562b0){const _0x1f1976=++this.#lastLoadedHead,_0x3d2bf7=await this['mobi'][_0x2a5222(0x109)](_0x1f1976);this.#rawHead=concatTypedArray(this.#rawHead,_0x3d2bf7);}return this.#rawHead[_0x2a5222(0xd8)](_0x4678e4,_0x1562b0);}while(this.#fullRawLength-this.#rawTail['length']>_0x4678e4){const _0x208993=this[_0x2a5222(0x137)][_0x2a5222(0xf8)][_0x2a5222(0x12b)]['numTextRecords']-0x1-++this.#lastLoadedTail,_0x1e3c27=await this[_0x2a5222(0x137)][_0x2a5222(0x109)](_0x208993);this.#rawTail=concatTypedArray(_0x1e3c27,this.#rawTail);}const _0x33341a=this.#fullRawLength-this.#rawTail['length'];return this.#rawTail[_0x2a5222(0xd8)](_0x4678e4-_0x33341a,_0x1562b0-_0x33341a);}['loadFlow'](_0x1f8a8d){const _0x5d1c47=_0x249bd8;if(_0x1f8a8d<0xffffffff)return this[_0x5d1c47(0x13b)](...this.#tables['fdstTable'][_0x1f8a8d]);}async[_0x249bd8(0x109)](_0x124500){const _0x216e99=_0x249bd8,{skel:_0x471d04,frags:_0x1df1c2,length:_0x8633fb}=_0x124500,_0x19b75d=await this['loadRaw'](_0x471d04[_0x216e99(0x189)],_0x471d04['offset']+_0x8633fb);let _0x4a16c6=_0x19b75d[_0x216e99(0xd8)](0x0,_0x471d04[_0x216e99(0x16c)]);for(const _0x2362fa of _0x1df1c2){const _0x25d897=_0x2362fa[_0x216e99(0x160)]-_0x471d04[_0x216e99(0x189)],_0x180242=_0x471d04[_0x216e99(0x16c)]+_0x2362fa['offset'],_0xe8ed05=_0x19b75d[_0x216e99(0xd8)](_0x180242,_0x180242+_0x2362fa[_0x216e99(0x16c)]);_0x4a16c6=concatTypedArray3(_0x4a16c6[_0x216e99(0xd8)](0x0,_0x25d897),_0xe8ed05,_0x4a16c6[_0x216e99(0xd8)](_0x25d897));const _0x25082f=this.#fragmentOffsets[_0x216e99(0x19e)](_0x2362fa[_0x216e99(0x183)]);if(_0x25082f)for(const _0x3fda0c of _0x25082f){const _0xe5f03e=this['mobi']['decode'](_0xe8ed05)[_0x216e99(0xd8)](_0x3fda0c),_0x49a930=getFragmentSelector(_0xe5f03e);this.#setFragmentSelector(_0x2362fa[_0x216e99(0x183)],_0x3fda0c,_0x49a930);}}return this[_0x216e99(0x137)][_0x216e99(0xb9)](_0x4a16c6);}async['createDocument'](_0x4a0303){}async[_0x249bd8(0x11b)](_0x4f0ff9){}[_0x249bd8(0x162)](_0x370c46){const _0x12278c=_0x249bd8;return this.#sections[_0x12278c(0xc7)](_0x17e1fe=>_0x17e1fe[_0x12278c(0x141)][_0x12278c(0xe2)](_0x5b6456=>_0x5b6456[_0x12278c(0x183)]===_0x370c46));}#setFragmentSelector(_0x25a586,_0x13db3a,_0x562c2b){const _0x4bccca=_0x249bd8,_0xf6d432=this.#fragmentSelectors[_0x4bccca(0x19e)](_0x25a586);if(_0xf6d432)_0xf6d432[_0x4bccca(0x13a)](_0x13db3a,_0x562c2b);else{const _0x876705=new Map();this.#fragmentSelectors[_0x4bccca(0x13a)](_0x25a586,_0x876705),_0x876705[_0x4bccca(0x13a)](_0x13db3a,_0x562c2b);}}async[_0x249bd8(0x194)](_0x4427c8){const _0x42aad8=_0x249bd8,{fid:_0x3f5eec,off:_0x37831e}=parsePosURI(_0x4427c8),_0x312064=this['getIndexByFID'](_0x3f5eec);if(_0x312064<0x0)return;const _0x23a06a=this.#fragmentSelectors[_0x42aad8(0x19e)](_0x3f5eec)?.[_0x42aad8(0x19e)](_0x37831e);if(_0x23a06a)return{'index':_0x312064,'anchor':_0x3f0118=>_0x3f0118[_0x42aad8(0xdc)](_0x23a06a)};const {skel:_0x5794e6,frags:_0x2701ce}=this.#sections[_0x312064],_0x5865c4=_0x2701ce[_0x42aad8(0x11f)](_0x5c8d26=>_0x5c8d26['index']===_0x3f5eec),_0xe8ca71=_0x5794e6['offset']+_0x5794e6[_0x42aad8(0x16c)]+_0x5865c4['offset'],_0x14646b=await this[_0x42aad8(0x13b)](_0xe8ca71,_0xe8ca71+_0x5865c4[_0x42aad8(0x16c)]),_0x4979b7=this[_0x42aad8(0x137)]['decode'](_0x14646b)[_0x42aad8(0xd8)](_0x37831e),_0x574671=getFragmentSelector(_0x4979b7);this.#setFragmentSelector(_0x3f5eec,_0x37831e,_0x574671);const _0x24939b=_0x1e4fe4=>_0x1e4fe4[_0x42aad8(0xdc)](_0x574671);return{'index':_0x312064,'anchor':_0x24939b};}[_0x249bd8(0x14c)](_0x1a3abe){const _0x2aee32=_0x249bd8,_0x1d0fcc=parsePosURI(_0x1a3abe),_0x530ee5=this[_0x2aee32(0x162)](_0x1d0fcc[_0x2aee32(0xb6)]);return[_0x530ee5,_0x1d0fcc];}['getTOCFragment'](_0xefdc3f,{fid:_0x215664,off:_0x2da431}){const _0x2d76e2=this.#fragmentSelectors['get'](_0x215664)?.['get'](_0x2da431);return _0xefdc3f['querySelector'](_0x2d76e2);}[_0x249bd8(0x107)](_0x4b2610){const _0x5dc98d=_0x249bd8;return/^(?!blob|kindle)\w+:/i[_0x5dc98d(0x134)](_0x4b2610);}[_0x249bd8(0x12d)](){const _0x2989a6=_0x249bd8;for(const _0x5266a5 of this.#cache[_0x2989a6(0x13f)]())URL[_0x2989a6(0x16a)](_0x5266a5);}}function _0x6838(_0x599da0,_0x3d031c){const _0x35d192=_0x35d1();return _0x6838=function(_0x6838cd,_0x386379){_0x6838cd=_0x6838cd-0xaf;let _0x163e5e=_0x35d192[_0x6838cd];return _0x163e5e;},_0x6838(_0x599da0,_0x3d031c);}function _0x35d1(){const _0x25f763=['exports','search','BOOKMOBI','</package>','map','sort','4aFcveG','ar-QA','headers','isbn','numCncx','10975952GQwqyK','en-US','es-PA','tagName','toc','end','getResourcesByMagic','12WrHVsE','totalLength','Failed\x20to\x20load\x20media\x20','fr-CH','ar-EG','isExternal','es-UY','loadText','es-NI','uz-UZ','filepos','en-ZW','string','table','es-PY','es-PE','en-CA','84288622DTCyGo','es-CR','en-NZ','gl-ES','Missing\x20MOBI\x20header','createDocument','numControlBytes','blockquote','loadSection','uid','matchAll','init','find','includes','rights','flow','skelTable','img[recindex]','en-TT','start','left','getElementById','numRecords','ar-BH','palmdoc','contributor','destroy','990MDVQka','6rPhpRz','es-CL','join','concat','zh-CN','test','fdst','zeroMargin','mobi','en-GB','number','set','loadRaw','center','1mYXipL','fixedLayout','values','magic','frags','es-SV','version','es-HN','TAGX','it-IT','zh-TW','de-CH','Failed\x20to\x20decompress\x20font','VIDE','numEntries','splitTOCHref','numTextRecords','headingLevel','open','replaceAll','unzlib','loadResource','exth','zeroGutter','createObjectURL','recindex','right','publisher','fr-LU','Invalid\x20HUFF\x20record','has','byteLength','getNCX','application/xhtml+xml','Record\x20index\x20out\x20of\x20bounds','insertOffset','SVG','getIndexByFID','metadata','filter','Missing\x20FDST\x20record','<package>','8601383Flagdo','text/css','es-GT','revokeObjectURL','loadRecord','length','getCover','constructor','rendition:page-spread-right','getMetadata','warn','Failed\x20to\x20open\x20KF8;\x20falling\x20back\x20to\x20MOBI','cy-GB','fragTable','subject','description','encode','de-LI','fr-CA','reflowable',':off:','loadFlow','FONT','Invalid\x20CDIC\x20record','ar-SY','sections','coverURI','bind','index','escape','parent','toUpperCase','cncx','regionMagnification','offset','reduce','de-LU','ar-LB','filepos:','boundary','loadResourceBlob','7531870oMADZu','replaceResources','exthFlag','ar-YE','resolveHref','XHTML','toString','utf-8','HUFF','pageProgressionDirection','getUint32','<a\x20id=\x22filepos','date','page-spread-right','get','replace','src','numFrag','en-PH','asin','RESC','thumbnailOffset','fr-MC','pt-BR','70992nCUJlw','source','charCodeAt','creator','ar-MA','push','getAttribute','true','image/svg+xml','EXTH','ar-IQ','loadMagic','pdb','buffer','subjectCode','width','loadRecindex','indx','fromEntries','fr-FR','page-spread-left','fid','rendition','de-DE','decode','4942821htMCkb','padStart','uint','language','dir','fdstTable','Invalid\x20EXTH\x20header','from','frag','href','fromCharCode','height','en-BZ','findIndex','resourceStart','CDIC','es-BO','firstChild','application/xml','nl-BE','huffcdic','sv-FI','INDX','kindle:pos:fid:','numHuffcdic','it-CH','subarray','encoding','[mediarecindex]','title','slice','de-AT','raw','match','querySelector','sv-SE','es-VE','FDST','forEach','originalResolution','some','hsb','fr-BE','498098GOuQCa','Invalid\x20INDX\x20record','coverOffset','es-PR','querySelectorAll','zh-SG','en-IE','shift','Failed\x20to\x20load\x20image\x20','text','getTOCFragment'];_0x35d1=function(){return _0x25f763;};return _0x35d1();}module[_0x249bd8(0xf0)]={'MOBI':MOBI,'isMOBI':isMOBI};