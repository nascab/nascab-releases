const _0x247e1d=_0x1276;(function(_0x560a0f,_0x31ae39){const _0x481e7f=_0x1276,_0x34965d=_0x560a0f();while(!![]){try{const _0x52b8db=-parseInt(_0x481e7f(0x9e))/0x1*(-parseInt(_0x481e7f(0x8f))/0x2)+parseInt(_0x481e7f(0x130))/0x3*(parseInt(_0x481e7f(0xa1))/0x4)+-parseInt(_0x481e7f(0x94))/0x5+parseInt(_0x481e7f(0xed))/0x6*(-parseInt(_0x481e7f(0x99))/0x7)+-parseInt(_0x481e7f(0x15f))/0x8*(parseInt(_0x481e7f(0x14c))/0x9)+-parseInt(_0x481e7f(0xf3))/0xa+parseInt(_0x481e7f(0x7b))/0xb*(parseInt(_0x481e7f(0xb2))/0xc);if(_0x52b8db===_0x31ae39)break;else _0x34965d['push'](_0x34965d['shift']());}catch(_0x4215ad){_0x34965d['push'](_0x34965d['shift']());}}}(_0x17af,0x43a8c));const unescapeHTML=_0x19a830=>{if(!_0x19a830)return'';},MIME={'XML':_0x247e1d(0xe9),'XHTML':_0x247e1d(0xd8),'HTML':'text/html','CSS':_0x247e1d(0xcc),'SVG':_0x247e1d(0xd6)},PDB_HEADER={'name':[0x0,0x20,'string'],'type':[0x3c,0x4,_0x247e1d(0xf6)],'creator':[0x40,0x4,_0x247e1d(0xf6)],'numRecords':[0x4c,0x2,'uint']},PALMDOC_HEADER={'compression':[0x0,0x2,'uint'],'numTextRecords':[0x8,0x2,'uint'],'recordSize':[0xa,0x2,_0x247e1d(0x109)],'encryption':[0xc,0x2,'uint']},MOBI_HEADER={'magic':[0x10,0x4,_0x247e1d(0xf6)],'length':[0x14,0x4,'uint'],'type':[0x18,0x4,_0x247e1d(0x109)],'encoding':[0x1c,0x4,_0x247e1d(0x109)],'uid':[0x20,0x4,_0x247e1d(0x109)],'version':[0x24,0x4,_0x247e1d(0x109)],'titleOffset':[0x54,0x4,_0x247e1d(0x109)],'titleLength':[0x58,0x4,'uint'],'localeRegion':[0x5e,0x1,_0x247e1d(0x109)],'localeLanguage':[0x5f,0x1,'uint'],'resourceStart':[0x6c,0x4,_0x247e1d(0x109)],'huffcdic':[0x70,0x4,_0x247e1d(0x109)],'numHuffcdic':[0x74,0x4,_0x247e1d(0x109)],'exthFlag':[0x80,0x4,_0x247e1d(0x109)],'trailingFlags':[0xf0,0x4,'uint'],'indx':[0xf4,0x4,_0x247e1d(0x109)]},KF8_HEADER={'resourceStart':[0x6c,0x4,_0x247e1d(0x109)],'fdst':[0xc0,0x4,'uint'],'numFdst':[0xc4,0x4,_0x247e1d(0x109)],'frag':[0xf8,0x4,_0x247e1d(0x109)],'skel':[0xfc,0x4,'uint'],'guide':[0x104,0x4,_0x247e1d(0x109)]},EXTH_HEADER={'magic':[0x0,0x4,_0x247e1d(0xf6)],'length':[0x4,0x4,'uint'],'count':[0x8,0x4,'uint']},INDX_HEADER={'magic':[0x0,0x4,_0x247e1d(0xf6)],'length':[0x4,0x4,_0x247e1d(0x109)],'type':[0x8,0x4,'uint'],'idxt':[0x14,0x4,_0x247e1d(0x109)],'numRecords':[0x18,0x4,'uint'],'encoding':[0x1c,0x4,_0x247e1d(0x109)],'language':[0x20,0x4,_0x247e1d(0x109)],'total':[0x24,0x4,'uint'],'ordt':[0x28,0x4,_0x247e1d(0x109)],'ligt':[0x2c,0x4,_0x247e1d(0x109)],'numLigt':[0x30,0x4,_0x247e1d(0x109)],'numCncx':[0x34,0x4,_0x247e1d(0x109)]},TAGX_HEADER={'magic':[0x0,0x4,_0x247e1d(0xf6)],'length':[0x4,0x4,_0x247e1d(0x109)],'numControlBytes':[0x8,0x4,_0x247e1d(0x109)]},HUFF_HEADER={'magic':[0x0,0x4,_0x247e1d(0xf6)],'offset1':[0x8,0x4,_0x247e1d(0x109)],'offset2':[0xc,0x4,_0x247e1d(0x109)]},CDIC_HEADER={'magic':[0x0,0x4,_0x247e1d(0xf6)],'length':[0x4,0x4,_0x247e1d(0x109)],'numEntries':[0x8,0x4,_0x247e1d(0x109)],'codeLength':[0xc,0x4,_0x247e1d(0x109)]},FDST_HEADER={'magic':[0x0,0x4,_0x247e1d(0xf6)],'numEntries':[0x8,0x4,_0x247e1d(0x109)]},FONT_HEADER={'flags':[0x8,0x4,'uint'],'dataStart':[0xc,0x4,_0x247e1d(0x109)],'keyLength':[0x10,0x4,_0x247e1d(0x109)],'keyStart':[0x14,0x4,'uint']},MOBI_ENCODING={0x4e4:'windows-1252',0xfde9:_0x247e1d(0xda)},EXTH_RECORD_TYPE={0x64:[_0x247e1d(0x149),_0x247e1d(0xf6),!![]],0x65:['publisher'],0x67:[_0x247e1d(0xc6)],0x68:[_0x247e1d(0x11d)],0x69:[_0x247e1d(0xa2),_0x247e1d(0xf6),!![]],0x6a:['date'],0x6c:[_0x247e1d(0x71),'string',!![]],0x6d:[_0x247e1d(0x11b)],0x6e:['subjectCode',_0x247e1d(0xf6),!![]],0x70:[_0x247e1d(0xa8),_0x247e1d(0xf6),!![]],0x71:[_0x247e1d(0xec)],0x79:[_0x247e1d(0x11c),_0x247e1d(0x109)],0x7a:[_0x247e1d(0x125)],0x7d:['numResources',_0x247e1d(0x109)],0x7e:['originalResolution'],0x7f:[_0x247e1d(0xea)],0x80:[_0x247e1d(0xe5)],0x81:[_0x247e1d(0xba)],0x84:['regionMagnification'],0xc9:[_0x247e1d(0x8c),_0x247e1d(0x109)],0xca:[_0x247e1d(0x15a),_0x247e1d(0x109)],0x1f7:[_0x247e1d(0x12c)],0x20c:[_0x247e1d(0xcb),_0x247e1d(0xf6),!![]],0x20f:['pageProgressionDirection']},MOBI_LANG={0x1:['ar',_0x247e1d(0x14f),_0x247e1d(0x14d),_0x247e1d(0xff),_0x247e1d(0x66),_0x247e1d(0xf9),_0x247e1d(0x115),'ar-TN','ar-OM',_0x247e1d(0x154),_0x247e1d(0x85),_0x247e1d(0x9d),'ar-LB',_0x247e1d(0x140),_0x247e1d(0x146),'ar-BH','ar-QA'],0x2:['bg'],0x3:['ca'],0x4:['zh',_0x247e1d(0x131),'zh-CN',_0x247e1d(0xc2),_0x247e1d(0x155)],0x5:['cs'],0x6:['da'],0x7:['de','de-DE',_0x247e1d(0x106),_0x247e1d(0x82),_0x247e1d(0x112),_0x247e1d(0x13f)],0x8:['el'],0x9:['en',_0x247e1d(0x81),'en-GB',_0x247e1d(0x10d),_0x247e1d(0x12e),_0x247e1d(0x92),_0x247e1d(0xc8),'en-ZA',_0x247e1d(0x14a),null,'en-BZ',_0x247e1d(0x97),_0x247e1d(0xaa),_0x247e1d(0x98)],0xa:['es',_0x247e1d(0x91),_0x247e1d(0x86),null,_0x247e1d(0x136),'es-CR',_0x247e1d(0x135),_0x247e1d(0x137),_0x247e1d(0xbe),'es-CO','es-PE',_0x247e1d(0xd7),_0x247e1d(0xaf),_0x247e1d(0x7e),_0x247e1d(0x13d),'es-PY',_0x247e1d(0xfd),_0x247e1d(0xd3),_0x247e1d(0x8a),_0x247e1d(0x119),'es-PR'],0xb:['fi'],0xc:['fr',_0x247e1d(0xac),_0x247e1d(0x158),_0x247e1d(0x68),_0x247e1d(0x15b),_0x247e1d(0x104),_0x247e1d(0x123)],0xd:['he'],0xe:['hu'],0xf:['is'],0x10:['it',_0x247e1d(0xd0),'it-CH'],0x11:['ja'],0x12:['ko'],0x13:['nl',_0x247e1d(0xa7),_0x247e1d(0xc1)],0x14:['no','nb','nn'],0x15:['pl'],0x16:['pt',_0x247e1d(0x13a),_0x247e1d(0xcd)],0x17:['rm'],0x18:['ro'],0x19:['ru'],0x1a:['hr',null,'sr'],0x1b:['sk'],0x1c:['sq'],0x1d:['sv',_0x247e1d(0xae),_0x247e1d(0x11e)],0x1e:['th'],0x1f:['tr'],0x20:['ur'],0x21:['id'],0x22:['uk'],0x23:['be'],0x24:['sl'],0x25:['et'],0x26:['lv'],0x27:['lt'],0x29:['fa'],0x2a:['vi'],0x2b:['hy'],0x2c:['az'],0x2d:['eu'],0x2e:['hsb'],0x2f:['mk'],0x30:['st'],0x31:['ts'],0x32:['tn'],0x34:['xh'],0x35:['zu'],0x36:['af'],0x37:['ka'],0x38:['fo'],0x39:['hi'],0x3a:['mt'],0x3b:['se'],0x3e:['ms'],0x3f:['kk'],0x41:['sw'],0x43:['uz',null,_0x247e1d(0xde)],0x44:['tt'],0x45:['bn'],0x46:['pa'],0x47:['gu'],0x48:['or'],0x49:['ta'],0x4a:['te'],0x4b:['kn'],0x4c:['ml'],0x4d:['as'],0x4e:['mr'],0x4f:['sa'],0x52:['cy','cy-GB'],0x53:['gl',_0x247e1d(0x75)],0x57:[_0x247e1d(0x101)],0x61:['ne'],0x62:['fy']},concatTypedArray=(_0x571218,_0xa11c08)=>{const _0x4aba88=_0x247e1d,_0xbbd4f8=new _0x571218[(_0x4aba88(0x159))](_0x571218[_0x4aba88(0x88)]+_0xa11c08['length']);return _0xbbd4f8[_0x4aba88(0xe0)](_0x571218),_0xbbd4f8[_0x4aba88(0xe0)](_0xa11c08,_0x571218[_0x4aba88(0x88)]),_0xbbd4f8;},concatTypedArray3=(_0x218309,_0x3989da,_0xdac7a2)=>{const _0x2d5af1=_0x247e1d,_0x2cb806=new _0x218309[(_0x2d5af1(0x159))](_0x218309['length']+_0x3989da[_0x2d5af1(0x88)]+_0xdac7a2[_0x2d5af1(0x88)]);return _0x2cb806[_0x2d5af1(0xe0)](_0x218309),_0x2cb806['set'](_0x3989da,_0x218309['length']),_0x2cb806[_0x2d5af1(0xe0)](_0xdac7a2,_0x218309[_0x2d5af1(0x88)]+_0x3989da[_0x2d5af1(0x88)]),_0x2cb806;},decoder=new TextDecoder(),getString=function(_0x4b1c76){const _0x4c3a85=_0x247e1d;return decoder[_0x4c3a85(0x142)](_0x4b1c76);},getUint=function(_0x211ade){const _0x5260b1=_0x247e1d;if(!_0x211ade)return;const _0x4eab52=_0x211ade[_0x5260b1(0x13e)],_0x3f54ef=_0x4eab52===0x4?_0x5260b1(0x160):_0x4eab52===0x2?_0x5260b1(0xce):_0x5260b1(0xe2);return new DataView(_0x211ade)[_0x3f54ef](0x0);},getStruct=function(_0x374d70,_0x11020c){const _0x18ec12=_0x247e1d;return Object[_0x18ec12(0x14b)](Array[_0x18ec12(0xd1)](Object[_0x18ec12(0x11a)](_0x374d70))[_0x18ec12(0xb6)](([_0x2a13cf,[_0x148f37,_0x549c25,_0x2f9074]])=>[_0x2a13cf,(_0x2f9074===_0x18ec12(0xf6)?getString:getUint)(_0x11020c[_0x18ec12(0x128)](_0x148f37,_0x148f37+_0x549c25))]));},getDecoder=_0x579b68=>new TextDecoder(MOBI_ENCODING[_0x579b68]),getVarLen=(_0x49c488,_0x5c282d=0x0)=>{let _0x3d3cc3=0x0,_0x2ecc51=0x0;for(const _0x55ca8c of _0x49c488['subarray'](_0x5c282d,_0x5c282d+0x4)){_0x3d3cc3=_0x3d3cc3<<0x7|(_0x55ca8c&0x7f)>>>0x0,_0x2ecc51++;if(_0x55ca8c&0x80)break;}return{'value':_0x3d3cc3,'length':_0x2ecc51};},getVarLenFromEnd=_0x3f0a19=>{const _0x9e81c2=_0x247e1d;let _0x373467=0x0;for(const _0x46232d of _0x3f0a19[_0x9e81c2(0xc3)](-0x4)){if(_0x46232d&0x80)_0x373467=0x0;_0x373467=_0x373467<<0x7|_0x46232d&0x7f;}return _0x373467;},countBitsSet=_0x2c1afd=>{let _0x124f9c=0x0;for(;_0x2c1afd>0x0;_0x2c1afd=_0x2c1afd>>0x1)if((_0x2c1afd&0x1)===0x1)_0x124f9c++;return _0x124f9c;},countUnsetEnd=_0x3ff8d1=>{let _0x440ef9=0x0;while((_0x3ff8d1&0x1)===0x0)_0x3ff8d1=_0x3ff8d1>>0x1,_0x440ef9++;return _0x440ef9;},decompressPalmDOC=_0x5be11c=>{const _0x1c5ba2=_0x247e1d;let _0x54eb83=[];for(let _0x3264f5=0x0;_0x3264f5<_0x5be11c['length'];_0x3264f5++){const _0x20c519=_0x5be11c[_0x3264f5];if(_0x20c519===0x0)_0x54eb83[_0x1c5ba2(0x121)](0x0);else{if(_0x20c519<=0x8){for(const _0x5eb071 of _0x5be11c[_0x1c5ba2(0xc3)](_0x3264f5+0x1,(_0x3264f5+=_0x20c519)+0x1))_0x54eb83['push'](_0x5eb071);}else{if(_0x20c519<=0x7f)_0x54eb83[_0x1c5ba2(0x121)](_0x20c519);else{if(_0x20c519<=0xbf){const _0x3861b2=_0x20c519<<0x8|_0x5be11c[_0x3264f5++ +0x1],_0x7f06ab=(_0x3861b2&0x3fff)>>>0x3,_0x3d799e=(_0x3861b2&0x7)+0x3;for(let _0x37d70b=0x0;_0x37d70b<_0x3d799e;_0x37d70b++)_0x54eb83[_0x1c5ba2(0x121)](_0x54eb83[_0x54eb83['length']-_0x7f06ab]);}else _0x54eb83[_0x1c5ba2(0x121)](0x20,_0x20c519^0x80);}}}}return Uint8Array['from'](_0x54eb83);},read32Bits=(_0x133e16,_0x17e957)=>{const _0x39e5d9=_0x17e957>>0x3,_0x4a147f=_0x17e957+0x20,_0x3bb33c=_0x4a147f>>0x3;let _0x1a6daa=0x0n;for(let _0x2b8a3c=_0x39e5d9;_0x2b8a3c<=_0x3bb33c;_0x2b8a3c++)_0x1a6daa=_0x1a6daa<<0x8n|BigInt(_0x133e16[_0x2b8a3c]??0x0);return _0x1a6daa>>0x8n-BigInt(_0x4a147f&0x7)&0xffffffffn;},huffcdic=async(_0x1bf5b4,_0x1098c0)=>{const _0x4cd9c4=_0x247e1d,_0x389fab=await _0x1098c0(_0x1bf5b4[_0x4cd9c4(0xd4)]),{magic:_0x151525,offset1:_0x567230,offset2:_0x44c001}=getStruct(HUFF_HEADER,_0x389fab);if(_0x151525!==_0x4cd9c4(0xc4))throw new Error(_0x4cd9c4(0x6e));const _0x211b39=Array['from']({'length':0x100},(_0x31e17a,_0x13d181)=>_0x567230+_0x13d181*0x4)['map'](_0xb8b51d=>getUint(_0x389fab[_0x4cd9c4(0x128)](_0xb8b51d,_0xb8b51d+0x4)))[_0x4cd9c4(0xb6)](_0x4bf6de=>[_0x4bf6de&0x80,_0x4bf6de&0x1f,_0x4bf6de>>>0x8]),_0x4d4734=[null][_0x4cd9c4(0xfb)](Array['from']({'length':0x20},(_0x3e9c16,_0x32f7df)=>_0x44c001+_0x32f7df*0x8)['map'](_0x46081a=>[getUint(_0x389fab[_0x4cd9c4(0x128)](_0x46081a,_0x46081a+0x4)),getUint(_0x389fab[_0x4cd9c4(0x128)](_0x46081a+0x4,_0x46081a+0x8))])),_0xe26a5c=[];for(let _0x5e23b3=0x1;_0x5e23b3<_0x1bf5b4[_0x4cd9c4(0x78)];_0x5e23b3++){const _0x45c4a1=await _0x1098c0(_0x1bf5b4[_0x4cd9c4(0xd4)]+_0x5e23b3),_0x1af894=getStruct(CDIC_HEADER,_0x45c4a1);if(_0x1af894[_0x4cd9c4(0x6d)]!=='CDIC')throw new Error(_0x4cd9c4(0xd2));const _0x1d4a60=Math[_0x4cd9c4(0x12f)](0x1<<_0x1af894['codeLength'],_0x1af894['numEntries']-_0xe26a5c[_0x4cd9c4(0x88)]),_0x1b6c09=_0x45c4a1[_0x4cd9c4(0x128)](_0x1af894[_0x4cd9c4(0x88)]);for(let _0x1a7c7c=0x0;_0x1a7c7c<_0x1d4a60;_0x1a7c7c++){const _0x5ea25e=getUint(_0x1b6c09[_0x4cd9c4(0x128)](_0x1a7c7c*0x2,_0x1a7c7c*0x2+0x2)),_0x5dc840=getUint(_0x1b6c09[_0x4cd9c4(0x128)](_0x5ea25e,_0x5ea25e+0x2)),_0x333296=_0x5dc840&0x7fff,_0x3b1323=_0x5dc840&0x8000,_0x59a870=new Uint8Array(_0x1b6c09[_0x4cd9c4(0x128)](_0x5ea25e+0x2,_0x5ea25e+0x2+_0x333296));_0xe26a5c[_0x4cd9c4(0x121)]([_0x59a870,_0x3b1323]);}}const _0x319446=_0x160763=>{const _0x1280d8=_0x4cd9c4;let _0x12a5bc=new Uint8Array();const _0x3f4fb8=_0x160763[_0x1280d8(0x13e)]*0x8;for(let _0x2aa4d5=0x0;_0x2aa4d5<_0x3f4fb8;){const _0x1c7117=Number(read32Bits(_0x160763,_0x2aa4d5));let [_0x6ed2af,_0x5bd4ac,_0x5ce5bb]=_0x211b39[_0x1c7117>>>0x18];if(!_0x6ed2af){while(_0x1c7117>>>0x20-_0x5bd4ac<_0x4d4734[_0x5bd4ac][0x0])_0x5bd4ac+=0x1;_0x5ce5bb=_0x4d4734[_0x5bd4ac][0x1];}if((_0x2aa4d5+=_0x5bd4ac)>_0x3f4fb8)break;const _0x31c848=_0x5ce5bb-(_0x1c7117>>>0x20-_0x5bd4ac);let [_0x4b8e4d,_0x24d2f7]=_0xe26a5c[_0x31c848];!_0x24d2f7&&(_0x4b8e4d=_0x319446(_0x4b8e4d),_0xe26a5c[_0x31c848]=[_0x4b8e4d,!![]]),_0x12a5bc=concatTypedArray(_0x12a5bc,_0x4b8e4d);}return _0x12a5bc;};return _0x319446;},getIndexData=async(_0x153648,_0x33a791)=>{const _0x313248=_0x247e1d,_0x5bbca3=await _0x33a791(_0x153648),_0x96fd53=getStruct(INDX_HEADER,_0x5bbca3);if(_0x96fd53['magic']!==_0x313248(0xf4))throw new Error('Invalid\x20INDX\x20record');const _0x133eeb=getDecoder(_0x96fd53['encoding']),_0x5d43a4=_0x5bbca3[_0x313248(0x128)](_0x96fd53[_0x313248(0x88)]),_0x1a5c7e=getStruct(TAGX_HEADER,_0x5d43a4);if(_0x1a5c7e[_0x313248(0x6d)]!==_0x313248(0xdb))throw new Error('Invalid\x20TAGX\x20section');const _0x1f7416=(_0x1a5c7e[_0x313248(0x88)]-0xc)/0x4,_0x21f0ee=Array[_0x313248(0xd1)]({'length':_0x1f7416},(_0x313201,_0x58367d)=>new Uint8Array(_0x5d43a4['slice'](0xc+_0x58367d*0x4,0xc+_0x58367d*0x4+0x4))),_0x25f3f4={};let _0x392d0e=0x0;for(let _0x3aca00=0x0;_0x3aca00<_0x96fd53[_0x313248(0xbb)];_0x3aca00++){const _0xcde6be=await _0x33a791(_0x153648+_0x96fd53[_0x313248(0x96)]+_0x3aca00+0x1),_0x2194c5=new Uint8Array(_0xcde6be);for(let _0x4bd7c1=0x0;_0x4bd7c1<_0x2194c5['byteLength'];){const _0x510c20=_0x4bd7c1,{value:_0x39f5d8,length:_0x27f0d9}=getVarLen(_0x2194c5,_0x4bd7c1);_0x4bd7c1+=_0x27f0d9;const _0x47eb70=_0xcde6be[_0x313248(0x128)](_0x4bd7c1,_0x4bd7c1+_0x39f5d8);_0x4bd7c1+=_0x39f5d8,_0x25f3f4[_0x392d0e+_0x510c20]=_0x133eeb['decode'](_0x47eb70);}_0x392d0e+=0x10000;}const _0xadefef=[];for(let _0x7e5c30=0x0;_0x7e5c30<_0x96fd53[_0x313248(0x96)];_0x7e5c30++){const _0x2f1246=await _0x33a791(_0x153648+0x1+_0x7e5c30),_0x10f30d=new Uint8Array(_0x2f1246),_0x3ffdfe=getStruct(INDX_HEADER,_0x2f1246);if(_0x3ffdfe['magic']!==_0x313248(0xf4))throw new Error(_0x313248(0x105));for(let _0x2de269=0x0;_0x2de269<_0x3ffdfe[_0x313248(0x96)];_0x2de269++){const _0xb1efc8=_0x3ffdfe[_0x313248(0xf0)]+0x4+0x2*_0x2de269,_0x3a9a7b=getUint(_0x2f1246[_0x313248(0x128)](_0xb1efc8,_0xb1efc8+0x2)),_0x5ce1cb=getUint(_0x2f1246['slice'](_0x3a9a7b,_0x3a9a7b+0x1)),_0x59f928=getString(_0x2f1246[_0x313248(0x128)](_0x3a9a7b+0x1,_0x3a9a7b+0x1+_0x5ce1cb)),_0x494b91=[],_0x564011=_0x3a9a7b+0x1+_0x5ce1cb;let _0x4161cc=0x0,_0x1b72f8=_0x564011+_0x1a5c7e['numControlBytes'];for(const [_0x2fe1a4,_0x32ddc6,_0x5c6611,_0x11f2fd]of _0x21f0ee){if(_0x11f2fd&0x1){_0x4161cc++;continue;}const _0x1aad51=_0x564011+_0x4161cc,_0x52799b=getUint(_0x2f1246[_0x313248(0x128)](_0x1aad51,_0x1aad51+0x1))&_0x5c6611;if(_0x52799b===_0x5c6611){if(countBitsSet(_0x5c6611)>0x1){const {value:_0x582e4d,length:_0x2dcae4}=getVarLen(_0x10f30d,_0x1b72f8);_0x494b91[_0x313248(0x121)]([_0x2fe1a4,null,_0x582e4d,_0x32ddc6]),_0x1b72f8+=_0x2dcae4;}else _0x494b91[_0x313248(0x121)]([_0x2fe1a4,0x1,null,_0x32ddc6]);}else _0x494b91[_0x313248(0x121)]([_0x2fe1a4,_0x52799b>>countUnsetEnd(_0x5c6611),null,_0x32ddc6]);}const _0x3c564a={};for(const [_0x6f2ab2,_0x3530e3,_0x3bc55c,_0x5b965c]of _0x494b91){const _0xdaaaa3=[];if(_0x3530e3!=null)for(let _0x51a429=0x0;_0x51a429<_0x3530e3*_0x5b965c;_0x51a429++){const {value:_0x14754e,length:_0x310851}=getVarLen(_0x10f30d,_0x1b72f8);_0xdaaaa3['push'](_0x14754e),_0x1b72f8+=_0x310851;}else{let _0x557eba=0x0;while(_0x557eba<_0x3bc55c){const {value:_0x542bee,length:_0xff2fa1}=getVarLen(_0x10f30d,_0x1b72f8);_0xdaaaa3[_0x313248(0x121)](_0x542bee),_0x1b72f8+=_0xff2fa1,_0x557eba+=_0xff2fa1;}}_0x3c564a[_0x6f2ab2]=_0xdaaaa3;}_0xadefef[_0x313248(0x121)]({'name':_0x59f928,'tagMap':_0x3c564a});}}return{'table':_0xadefef,'cncx':_0x25f3f4};},getNCX=async(_0xfd8d89,_0x1a7b56)=>{const _0x500d46=_0x247e1d,{table:_0x1d4112,cncx:_0x3b7680}=await getIndexData(_0xfd8d89,_0x1a7b56),_0x3f0617=_0x1d4112[_0x500d46(0xb6)](({tagMap:_0x5dda2f},_0x3d8d31)=>({'index':_0x3d8d31,'offset':_0x5dda2f[0x1]?.[0x0],'size':_0x5dda2f[0x2]?.[0x0],'label':_0x3b7680[_0x5dda2f[0x3]]??'','headingLevel':_0x5dda2f[0x4]?.[0x0],'pos':_0x5dda2f[0x6],'parent':_0x5dda2f[0x15]?.[0x0],'firstChild':_0x5dda2f[0x16]?.[0x0],'lastChild':_0x5dda2f[0x17]?.[0x0]})),_0x56cee5=_0x395f9b=>{const _0x59e84e=_0x500d46;if(_0x395f9b['firstChild']==null)return _0x395f9b;return _0x395f9b[_0x59e84e(0xa5)]=_0x3f0617[_0x59e84e(0x124)](_0x2f9477=>_0x2f9477['parent']===_0x395f9b[_0x59e84e(0xc7)])['map'](_0x56cee5),_0x395f9b;};return _0x3f0617['filter'](_0x337c9f=>_0x337c9f[_0x500d46(0xef)]===0x0)[_0x500d46(0xb6)](_0x56cee5);},getEXTH=(_0x368848,_0x4dd105)=>{const _0x1d0fe9=_0x247e1d,{magic:_0x529a10,count:_0x53996a}=getStruct(EXTH_HEADER,_0x368848);if(_0x529a10!==_0x1d0fe9(0x8d))throw new Error('Invalid\x20EXTH\x20header');const _0x665f03=getDecoder(_0x4dd105),_0x442109={};let _0x237502=0xc;for(let _0x2bdb16=0x0;_0x2bdb16<_0x53996a;_0x2bdb16++){const _0x4a4ebf=getUint(_0x368848[_0x1d0fe9(0x128)](_0x237502,_0x237502+0x4)),_0x339981=getUint(_0x368848['slice'](_0x237502+0x4,_0x237502+0x8));if(_0x4a4ebf in EXTH_RECORD_TYPE){const [_0x29440f,_0x3e404b,_0x1b58ae]=EXTH_RECORD_TYPE[_0x4a4ebf],_0x1da81f=_0x368848[_0x1d0fe9(0x128)](_0x237502+0x8,_0x237502+_0x339981),_0x46c2a8=_0x3e404b==='uint'?getUint(_0x1da81f):_0x665f03[_0x1d0fe9(0x142)](_0x1da81f);if(_0x1b58ae)_0x442109[_0x29440f]??=[],_0x442109[_0x29440f][_0x1d0fe9(0x121)](_0x46c2a8);else _0x442109[_0x29440f]=_0x46c2a8;}_0x237502+=_0x339981;}return _0x442109;},getFont=async(_0x4ad0ee,_0x13c9e1)=>{const _0x43d505=_0x247e1d,{flags:_0x2478d6,dataStart:_0x54b255,keyLength:_0x25859d,keyStart:_0x1666cf}=getStruct(FONT_HEADER,_0x4ad0ee),_0x385741=new Uint8Array(_0x4ad0ee[_0x43d505(0x128)](_0x54b255));if(_0x2478d6&0x2){const _0x4a54d8=_0x25859d===0x10?0x400:0x410,_0x358948=new Uint8Array(_0x4ad0ee[_0x43d505(0x128)](_0x1666cf,_0x1666cf+_0x25859d)),_0x5c4474=Math['min'](_0x4a54d8,_0x385741[_0x43d505(0x88)]);for(var _0x5401bf=0x0;_0x5401bf<_0x5c4474;_0x5401bf++)_0x385741[_0x5401bf]=_0x385741[_0x5401bf]^_0x358948[_0x5401bf%_0x358948[_0x43d505(0x88)]];}if(_0x2478d6&0x1)try{return await _0x13c9e1(_0x385741);}catch(_0x4f5b69){console[_0x43d505(0x83)](_0x4f5b69),console['warn'](_0x43d505(0xb1));}return _0x385741;},isMOBI=async _0x3afd7c=>{const _0x48cc56=_0x247e1d;let _0x4f7169=await _0x3afd7c['slice'](0x3c,0x44);const _0x1ae995=_0x4f7169[_0x48cc56(0x95)]();return _0x1ae995==='BOOKMOBI';};function _0x17af(){const _0x1dc69=['index','en-IE','cncx','mediarecindex','language','text/css','pt-PT','getUint16','pdb','it-IT','from','Invalid\x20CDIC\x20record','es-SV','huffcdic','get','image/svg+xml','es-AR','application/xhtml+xml','getTOCFragment','utf-8','TAGX','fid','rendition:page-spread-left','uz-UZ','findIndex','set','some','getUint8','match','number','zeroMargin','totalLength','sort','width','application/xml','zeroGutter','indx','asin','318FnAgYw','search','headingLevel','idxt','true','Missing\x20FDST\x20record','1669150cVsqJy','INDX','getMetadata','string','test','<package>','ar-DZ','replaceAll','concat','skelTable','es-BO','src','ar-EG','fragTable','kok','rendition:page-spread-center','numEntries','fr-LU','Invalid\x20INDX\x20record','de-CH','AUDI','fdstTable','uint','reflowable','getCover','loadMagic','en-AU','loadText','numTextRecords','poster','loadResource','de-LU','XHTML','end','ar-MA','getResourcesByMagic','forEach','start','es-NI','entries','rights','boundary','isbn','sv-FI','split','shift','push','MOBI','fr-MC','filter','fixedLayout','destroy','toLowerCase','slice','getAttribute','matchAll','version','title','HTML','en-CA','min','142854rdqxnc','zh-TW','skel','replaceResources','recindex','es-PA','es-GT','es-DO','headers','FDST','pt-BR','init','open','es-UY','byteLength','de-LI','ar-KW','height','decode','\x22></a>','loadFlow','fragEnd','ar-AE','bind','VIDE','creator','en-JM','fromEntries','27NBCXfx','ar-IQ','filepos','ar-SA','escape','flow','buffer','numFrag','ar-YE','zh-SG','exports','isExternal','fr-BE','constructor','thumbnailOffset','fr-CH','getNCX','Missing\x20MOBI\x20header','blockquote','1180024VMZHSY','getUint32','table','padStart','[mediarecindex]','ar-LY','RESC','fr-CA','values','splitTOCHref','loadRaw','kf8','magic','Invalid\x20HUFF\x20record','Record\x20index\x20out\x20of\x20bounds','includes','contributor','revokeObjectURL','palmdoc','CSS','gl-ES','metadata','loadRecindex','numHuffcdic','</package>','filepos:','14080JKtHmZ','uid','offset','es-CL','sections','toString','en-US','de-AT','warn','loadRecord','ar-SY','es-MX','getElementById','length','replace','es-HN','frags','coverOffset','EXTH','loadResourceBlob','495452LJKDlz','mobi','es-ES','en-NZ','publisher','2177640oGpLiV','text','numRecords','en-TT','en-PH','55090uqvqGK','Failed\x20to\x20open\x20KF8;\x20falling\x20back\x20to\x20MOBI','exthFlag','right','ar-JO','1REOyBO','querySelector','[filepos]','24oNoXVe','subject','encode','dir','children','unzlib','nl-NL','source','tagName','en-ZW','left','fr-FR','querySelectorAll','sv-SE','es-EC','encoding','Failed\x20to\x20decompress\x20font','11304sDZzNU','loadSection','page-spread-right','href','map','has','getIndexByFID','resolveHref','coverURI','numCncx','toUpperCase','reduce','es-VE','createDocument','fdst','nl-BE','zh-HK','subarray','HUFF','frag','description'];_0x17af=function(){return _0x1dc69;};return _0x17af();}function _0x1276(_0x414f87,_0x1bda8c){const _0x17afed=_0x17af();return _0x1276=function(_0x1276f0,_0x14daa8){_0x1276f0=_0x1276f0-0x66;let _0x1a7c3a=_0x17afed[_0x1276f0];return _0x1a7c3a;},_0x1276(_0x414f87,_0x1bda8c);}class PDB{#file;#offsets;[_0x247e1d(0xcf)];async['open'](_0x42fbab){const _0x577aad=_0x247e1d;this.#file=_0x42fbab;const _0x4b4278=getStruct(PDB_HEADER,await _0x42fbab['slice'](0x0,0x4e)[_0x577aad(0x152)]);this[_0x577aad(0xcf)]=_0x4b4278;const _0x34bc17=await _0x42fbab[_0x577aad(0x128)](0x4e,0x4e+_0x4b4278[_0x577aad(0x96)]*0x8)[_0x577aad(0x152)];this.#offsets=Array[_0x577aad(0xd1)]({'length':_0x4b4278[_0x577aad(0x96)]},(_0x290de0,_0x5ef311)=>getUint(_0x34bc17['slice'](_0x5ef311*0x8,_0x5ef311*0x8+0x4)))[_0x577aad(0xb6)]((_0x1a304e,_0x49830d,_0x2bbd69)=>[_0x1a304e,_0x2bbd69[_0x49830d+0x1]]);}[_0x247e1d(0x84)](_0x15bba1){const _0x8769e8=_0x247e1d,_0x32442c=this.#offsets[_0x15bba1];if(!_0x32442c)throw new RangeError(_0x8769e8(0x6f));return this.#file[_0x8769e8(0x128)](..._0x32442c)[_0x8769e8(0x152)];}async['loadMagic'](_0x1d921d){const _0x3add35=_0x247e1d,_0x4c62f9=this.#offsets[_0x1d921d][0x0];return getString(await this.#file['slice'](_0x4c62f9,_0x4c62f9+0x4)[_0x3add35(0x152)]);}}class MOBI extends PDB{#start=0x0;#resourceStart;#decoder;#encoder;#decompress;#removeTrailingEntries;constructor({unzlib:_0x1a32c0}){const _0x34c20f=_0x247e1d;super(),this[_0x34c20f(0xa6)]=_0x1a32c0;}async[_0x247e1d(0x13c)](_0x1d5f4f){const _0x353cab=_0x247e1d;await super[_0x353cab(0x13c)](_0x1d5f4f),this[_0x353cab(0x138)]=this.#getHeaders(await super[_0x353cab(0x84)](0x0)),this.#resourceStart=this[_0x353cab(0x138)][_0x353cab(0x90)]['resourceStart'];let _0xdd109d=this[_0x353cab(0x138)][_0x353cab(0x90)][_0x353cab(0x12b)]>=0x8;if(!_0xdd109d){const _0x26b109=this[_0x353cab(0x138)]['exth']?.['boundary'];if(_0x26b109<0xffffffff)try{this[_0x353cab(0x138)]=this.#getHeaders(await super[_0x353cab(0x84)](_0x26b109)),this.#start=_0x26b109,_0xdd109d=!![];}catch(_0x1b1f7f){console['warn'](_0x1b1f7f),console[_0x353cab(0x83)](_0x353cab(0x9a));}}return await this.#setup(),_0xdd109d?new KF8(this)[_0x353cab(0x13b)]():new MOBI6(this)[_0x353cab(0x13b)]();}#getHeaders(_0x39b04d){const _0x4101d5=_0x247e1d,_0x56b9ec=getStruct(PALMDOC_HEADER,_0x39b04d),_0x1393e1=getStruct(MOBI_HEADER,_0x39b04d);if(_0x1393e1[_0x4101d5(0x6d)]!==_0x4101d5(0x122))throw new Error(_0x4101d5(0x15d));const {titleOffset:_0x432100,titleLength:_0x213cc7,localeLanguage:_0x377309,localeRegion:_0xe01978}=_0x1393e1;_0x1393e1[_0x4101d5(0x12c)]=_0x39b04d['slice'](_0x432100,_0x432100+_0x213cc7);const _0x56217c=MOBI_LANG[_0x377309];_0x1393e1[_0x4101d5(0xcb)]=_0x56217c?.[_0xe01978>>0x2]??_0x56217c?.[0x0];const _0x10122a=_0x1393e1[_0x4101d5(0x9b)]&0x40?getEXTH(_0x39b04d[_0x4101d5(0x128)](_0x1393e1[_0x4101d5(0x88)]+0x10),_0x1393e1[_0x4101d5(0xb0)]):null,_0x1a7f98=_0x1393e1['version']>=0x8?getStruct(KF8_HEADER,_0x39b04d):null;return{'palmdoc':_0x56b9ec,'mobi':_0x1393e1,'exth':_0x10122a,'kf8':_0x1a7f98};}async #setup(){const _0x5d7cc1=_0x247e1d,{palmdoc:_0x4c350f,mobi:_0x4096d5}=this['headers'];this.#decoder=getDecoder(_0x4096d5[_0x5d7cc1(0xb0)]),this.#encoder=new TextEncoder();const {compression:_0x1ac0b9}=_0x4c350f;this.#decompress=_0x1ac0b9===0x1?_0x4323ef=>_0x4323ef:_0x1ac0b9===0x2?decompressPalmDOC:_0x1ac0b9===0x4448?await huffcdic(_0x4096d5,this[_0x5d7cc1(0x84)][_0x5d7cc1(0x147)](this)):null;const {trailingFlags:_0x570e3f}=_0x4096d5,_0x2bd201=_0x570e3f&0x1,_0x228fb6=countBitsSet(_0x570e3f>>>0x1);this.#removeTrailingEntries=_0x55e11e=>{const _0x236105=_0x5d7cc1;for(let _0x2e4118=0x0;_0x2e4118<_0x228fb6;_0x2e4118++){const _0x549ff6=getVarLenFromEnd(_0x55e11e);_0x55e11e=_0x55e11e[_0x236105(0xc3)](0x0,-_0x549ff6);}if(_0x2bd201){const _0x45ef9b=(_0x55e11e[_0x55e11e[_0x236105(0x88)]-0x1]&0x3)+0x1;_0x55e11e=_0x55e11e[_0x236105(0xc3)](0x0,-_0x45ef9b);}return _0x55e11e;};}[_0x247e1d(0x142)](..._0x827cc1){return this.#decoder['decode'](..._0x827cc1);}[_0x247e1d(0xa3)](..._0x269c27){return this.#encoder['encode'](..._0x269c27);}['loadRecord'](_0x494ee4){const _0x3c1bb9=_0x247e1d;return super[_0x3c1bb9(0x84)](this.#start+_0x494ee4);}[_0x247e1d(0x10c)](_0x549197){const _0x433950=_0x247e1d;return super[_0x433950(0x10c)](this.#start+_0x549197);}['loadText'](_0x5c496f){let _0x36339f=this['loadRecord'](_0x5c496f+0x1),_0xf41dbd=new Uint8Array(_0x36339f),_0x2a0526=this.#removeTrailingEntries(_0xf41dbd);return this.#decompress(_0x2a0526);}async['loadResource'](_0x59387e){const _0x565bb8=_0x247e1d,_0x298291=await super[_0x565bb8(0x84)](this.#resourceStart+_0x59387e),_0x43aa50=getString(_0x298291['slice'](0x0,0x4));if(_0x43aa50==='FONT')return getFont(_0x298291,this[_0x565bb8(0xa6)]);if(_0x43aa50===_0x565bb8(0x148)||_0x43aa50===_0x565bb8(0x107))return _0x298291[_0x565bb8(0x128)](0xc);return _0x298291;}[_0x247e1d(0x15c)](){const _0x2948c5=_0x247e1d,_0x22c717=this['headers'][_0x2948c5(0x90)][_0x2948c5(0xeb)];if(_0x22c717<0xffffffff)return getNCX(_0x22c717,this['loadRecord']['bind'](this));}[_0x247e1d(0xf5)](){const _0x339442=_0x247e1d,{mobi:_0x5a6a26,exth:_0x38099f}=this[_0x339442(0x138)];return{'identifier':_0x5a6a26[_0x339442(0x7c)][_0x339442(0x80)](),'title':unescapeHTML(_0x38099f?.[_0x339442(0x12c)]||this[_0x339442(0x142)](_0x5a6a26[_0x339442(0x12c)])),'author':_0x38099f?.[_0x339442(0x149)]?.[_0x339442(0xb6)](unescapeHTML),'publisher':unescapeHTML(_0x38099f?.[_0x339442(0x93)]),'language':_0x38099f?.[_0x339442(0xcb)]??_0x5a6a26[_0x339442(0xcb)],'published':_0x38099f?.['date'],'description':unescapeHTML(_0x38099f?.[_0x339442(0xc6)]),'subject':_0x38099f?.[_0x339442(0xa2)]?.[_0x339442(0xb6)](unescapeHTML),'rights':unescapeHTML(_0x38099f?.[_0x339442(0x11b)]),'contributor':_0x38099f?.[_0x339442(0x71)]};}async[_0x247e1d(0x10b)](){const _0x29a77b=_0x247e1d,{exth:_0x522e16}=this[_0x29a77b(0x138)],_0x3751cf=_0x522e16?.[_0x29a77b(0x8c)]<0xffffffff?_0x522e16?.[_0x29a77b(0x8c)]:_0x522e16?.['thumbnailOffset']<0xffffffff?_0x522e16?.[_0x29a77b(0x15a)]:null;if(_0x3751cf!=null){const _0x1ae118=await this[_0x29a77b(0x111)](_0x3751cf);return _0x1ae118;}return null;}}const mbpPagebreakRegex=/<\s*(?:mbp:)?pagebreak[^>]*>/gi,fileposRegex=/<[^<>]+filepos=['"]{0,1}(\d+)[^<>]*>/gi,getIndent=_0x2961fc=>{const _0x511577=_0x247e1d;let _0x49b42f=0x0;while(_0x2961fc){const _0x521d0e=_0x2961fc['parentElement'];if(_0x521d0e){const _0x4ca34a=_0x521d0e[_0x511577(0xa9)][_0x511577(0x127)]();if(_0x4ca34a==='p')_0x49b42f+=1.5;else{if(_0x4ca34a===_0x511577(0x15e))_0x49b42f+=0x2;}}_0x2961fc=_0x521d0e;}return _0x49b42f;};class MOBI6{#resourceCache=new Map();#textCache=new Map();#cache=new Map();#sections;#fileposList=[];#type=MIME[_0x247e1d(0x12d)];constructor(_0x4ee46f){const _0x2f35aa=_0x247e1d;this[_0x2f35aa(0x90)]=_0x4ee46f;}async['init'](){const _0x130d05=_0x247e1d;let _0x4b797=new Uint8Array();for(let _0x1662a3=0x0;_0x1662a3<this[_0x130d05(0x90)][_0x130d05(0x138)][_0x130d05(0x73)][_0x130d05(0x10f)];_0x1662a3++)_0x4b797=concatTypedArray(_0x4b797,await this[_0x130d05(0x90)][_0x130d05(0x10e)](_0x1662a3));const _0xf10003=Array[_0x130d05(0xd1)](new Uint8Array(_0x4b797),_0x47d310=>String['fromCharCode'](_0x47d310))['join']('');this.#sections=[0x0][_0x130d05(0xfb)](Array[_0x130d05(0xd1)](_0xf10003[_0x130d05(0x12a)](mbpPagebreakRegex),_0xcd2bcc=>_0xcd2bcc[_0x130d05(0xc7)]))[_0x130d05(0xb6)]((_0x50787a,_0x2eb2a6,_0x59bf85)=>_0xf10003[_0x130d05(0x128)](_0x50787a,_0x59bf85[_0x2eb2a6+0x1]))[_0x130d05(0xb6)](_0x39746e=>Uint8Array['from'](_0x39746e,_0x4b573e=>_0x4b573e['charCodeAt'](0x0)))[_0x130d05(0xb6)](_0x5da0c2=>({'book':this,'raw':_0x5da0c2}))[_0x130d05(0xbd)]((_0x76d8df,_0x18f1ad)=>{const _0x3ba2c0=_0x130d05,_0x1a6b7b=_0x76d8df[_0x76d8df['length']-0x1];return _0x18f1ad[_0x3ba2c0(0x118)]=_0x1a6b7b?.['end']??0x0,_0x18f1ad[_0x3ba2c0(0x114)]=_0x18f1ad[_0x3ba2c0(0x118)]+_0x18f1ad['raw'][_0x3ba2c0(0x13e)],_0x76d8df[_0x3ba2c0(0xfb)](_0x18f1ad);},[]),this[_0x130d05(0x7f)]=this.#sections[_0x130d05(0xb6)]((_0x36bb4d,_0x5d136c)=>({'id':_0x5d136c,'load':()=>this[_0x130d05(0xb3)](_0x36bb4d),'size':_0x36bb4d[_0x130d05(0x114)]-_0x36bb4d[_0x130d05(0x118)]}));try{}catch(_0x1df611){console['warn'](_0x1df611);}return this.#fileposList=[...new Set(Array['from'](_0xf10003[_0x130d05(0x12a)](fileposRegex),_0x187c68=>_0x187c68[0x1]))]['map'](_0x704c80=>({'filepos':_0x704c80,'number':Number(_0x704c80)}))[_0x130d05(0xe7)]((_0x298e92,_0x5761b3)=>_0x298e92[_0x130d05(0xe4)]-_0x5761b3[_0x130d05(0xe4)]),this[_0x130d05(0x76)]=this[_0x130d05(0x90)][_0x130d05(0xf5)](),this[_0x130d05(0x10b)]=this[_0x130d05(0x90)][_0x130d05(0x10b)][_0x130d05(0x147)](this[_0x130d05(0x90)]),this;}async[_0x247e1d(0x111)](_0x1155de){const _0x3abdf2=_0x247e1d;if(this.#resourceCache[_0x3abdf2(0xb7)](_0x1155de))return this.#resourceCache[_0x3abdf2(0xd5)](_0x1155de);const _0x241b07=await this[_0x3abdf2(0x90)][_0x3abdf2(0x111)](_0x1155de),_0x5d50ac=URL['createObjectURL'](new Blob([_0x241b07]));return this.#resourceCache[_0x3abdf2(0xe0)](_0x1155de,_0x5d50ac),_0x5d50ac;}async['loadRecindex'](_0x483b09){return this['loadResource'](Number(_0x483b09)-0x1);}async[_0x247e1d(0x133)](_0x16f2af){const _0x195bfa=_0x247e1d;for(const _0x229743 of _0x16f2af[_0x195bfa(0xad)]('img[recindex]')){const _0x588655=_0x229743[_0x195bfa(0x129)](_0x195bfa(0x134));try{_0x229743[_0x195bfa(0xfe)]=await this[_0x195bfa(0x77)](_0x588655);}catch{console[_0x195bfa(0x83)]('Failed\x20to\x20load\x20image\x20'+_0x588655);}}for(const _0x4eb7cc of _0x16f2af[_0x195bfa(0xad)](_0x195bfa(0x163))){const _0x258d37=_0x4eb7cc['getAttribute'](_0x195bfa(0xca)),_0x1fbcec=_0x4eb7cc[_0x195bfa(0x129)]('recindex');try{_0x4eb7cc[_0x195bfa(0xfe)]=await this[_0x195bfa(0x77)](_0x258d37);if(_0x1fbcec)_0x4eb7cc[_0x195bfa(0x110)]=await this['loadRecindex'](_0x1fbcec);}catch{console[_0x195bfa(0x83)]('Failed\x20to\x20load\x20media\x20'+_0x258d37);}}for(const _0x5c49f9 of _0x16f2af[_0x195bfa(0xad)](_0x195bfa(0xa0))){const _0x479379=_0x5c49f9[_0x195bfa(0x129)](_0x195bfa(0x14e));_0x5c49f9[_0x195bfa(0xb5)]=_0x195bfa(0x7a)+_0x479379;}}async[_0x247e1d(0x10e)](_0x66323f){const _0x366d54=_0x247e1d;if(this.#textCache[_0x366d54(0xb7)](_0x66323f))return this.#textCache['get'](_0x66323f);const {raw:_0x1842b3}=_0x66323f,_0x5c6fe6=this.#fileposList[_0x366d54(0x124)](({number:_0x13f298})=>_0x13f298>=_0x66323f[_0x366d54(0x118)]&&_0x13f298<_0x66323f[_0x366d54(0x114)])['map'](_0x29bc30=>({..._0x29bc30,'offset':_0x29bc30['number']-_0x66323f['start']}));let _0x519f97=_0x1842b3;_0x5c6fe6[_0x366d54(0x88)]&&(_0x519f97=_0x1842b3[_0x366d54(0xc3)](0x0,_0x5c6fe6[0x0]['offset']),_0x5c6fe6[_0x366d54(0x117)](({filepos:_0x127d37,offset:_0x196a5c},_0xf31889)=>{const _0x182bb4=_0x366d54,_0x32cd7c=_0x5c6fe6[_0xf31889+0x1],_0x38c0d0=this[_0x182bb4(0x90)][_0x182bb4(0xa3)]('<a\x20id=\x22filepos'+_0x127d37+_0x182bb4(0x143));_0x519f97=concatTypedArray3(_0x519f97,_0x38c0d0,_0x1842b3[_0x182bb4(0xc3)](_0x196a5c,_0x32cd7c?.['offset']));}));const _0x5bae2f=this[_0x366d54(0x90)][_0x366d54(0x142)](_0x519f97)[_0x366d54(0xfa)](mbpPagebreakRegex,'');return this.#textCache[_0x366d54(0xe0)](_0x66323f,_0x5bae2f),_0x5bae2f;}async[_0x247e1d(0xbf)](_0x43e551){}async['loadSection'](_0x55a1cd){}[_0x247e1d(0xb9)](_0x10abc3){const _0x5cabde=_0x247e1d,_0x2c40ec=_0x10abc3['match'](/filepos:(.*)/)[0x1],_0x2ce2d8=Number(_0x2c40ec),_0x33804d=this.#sections['findIndex'](_0xcc9115=>_0xcc9115[_0x5cabde(0x114)]>_0x2ce2d8),_0x20d332=_0x53551c=>_0x53551c[_0x5cabde(0x87)](_0x5cabde(0x14e)+_0x2c40ec);return{'index':_0x33804d,'anchor':_0x20d332};}[_0x247e1d(0x6a)](_0x587d8d){const _0x405f0b=_0x247e1d,_0x30f1e1=_0x587d8d[_0x405f0b(0xe3)](/filepos:(.*)/)[0x1],_0x3c2dd7=Number(_0x30f1e1),_0x2f5442=this.#sections[_0x405f0b(0xdf)](_0x299757=>_0x299757['end']>_0x3c2dd7);return[_0x2f5442,_0x405f0b(0x14e)+_0x30f1e1];}['getTOCFragment'](_0xb2023d,_0x15621c){return _0xb2023d['getElementById'](_0x15621c);}[_0x247e1d(0x157)](_0x37d6b1){const _0x3c39fd=_0x247e1d;return/^(?!blob|filepos)\w+:/i[_0x3c39fd(0xf7)](_0x37d6b1);}['destroy'](){const _0x451b15=_0x247e1d;for(const _0x32f9c4 of this.#resourceCache[_0x451b15(0x69)]())URL['revokeObjectURL'](_0x32f9c4);for(const _0xca8252 of this.#cache[_0x451b15(0x69)]())URL[_0x451b15(0x72)](_0xca8252);}}const kindleResourceRegex=/kindle:(flow|embed):(\w+)(?:\?mime=(\w+\/[-+.\w]+))?/,kindlePosRegex=/kindle:pos:fid:(\w+):off:(\w+)/,parseResourceURI=_0x53eb80=>{const _0xc5b180=_0x247e1d,[_0x5d482f,_0x1079e6,_0x6f751e]=_0x53eb80[_0xc5b180(0xe3)](kindleResourceRegex)['slice'](0x1);return{'resourceType':_0x5d482f,'id':parseInt(_0x1079e6,0x20),'type':_0x6f751e};},parsePosURI=_0x32727c=>{const _0x4071c2=_0x247e1d,[_0x197cf9,_0x203abd]=_0x32727c[_0x4071c2(0xe3)](kindlePosRegex)[_0x4071c2(0x128)](0x1);return{'fid':parseInt(_0x197cf9,0x20),'off':parseInt(_0x203abd,0x20)};},makePosURI=(_0x314c9c=0x0,_0x54b853=0x0)=>'kindle:pos:fid:'+_0x314c9c[_0x247e1d(0x80)](0x20)[_0x247e1d(0xbc)]()[_0x247e1d(0x162)](0x4,'0')+':off:'+_0x54b853[_0x247e1d(0x80)](0x20)[_0x247e1d(0xbc)]()[_0x247e1d(0x162)](0xa,'0'),getFragmentSelector=_0x5b78eb=>{const _0x4c1873=_0x247e1d,_0x35c39a=_0x5b78eb[_0x4c1873(0xe3)](/\s(id|name|aid)\s*=\s*['"]([^'"]*)['"]/i);if(!_0x35c39a)return;const [,_0x21c32b,_0x276d57]=_0x35c39a;return'['+_0x21c32b+'=\x22'+CSS[_0x4c1873(0x150)](_0x276d57)+'\x22]';},replaceSeries=async(_0x2c7ed4,_0x41e29a,_0x3c03f7)=>{const _0x54c619=_0x247e1d,_0x39844e=[];_0x2c7ed4['replace'](_0x41e29a,(..._0x4557c0)=>(_0x39844e[_0x54c619(0x121)](_0x4557c0),null));const _0x3ebafd=[];for(const _0x175fd5 of _0x39844e)_0x3ebafd[_0x54c619(0x121)](await _0x3c03f7(..._0x175fd5));return _0x2c7ed4[_0x54c619(0x89)](_0x41e29a,()=>_0x3ebafd[_0x54c619(0x120)]());},getPageSpread=_0x5c76c4=>{const _0x21718a=_0x247e1d;for(const _0x2505b5 of _0x5c76c4){if(_0x2505b5==='page-spread-left'||_0x2505b5===_0x21718a(0xdd))return _0x21718a(0xab);if(_0x2505b5===_0x21718a(0xb4)||_0x2505b5==='rendition:page-spread-right')return _0x21718a(0x9c);if(_0x2505b5===_0x21718a(0x102))return'center';}};class KF8{#cache=new Map();#fragmentOffsets=new Map();#fragmentSelectors=new Map();#tables={};#sections;#fullRawLength;#rawHead=new Uint8Array();#rawTail=new Uint8Array();#lastLoadedHead=-0x1;#lastLoadedTail=-0x1;#type=MIME[_0x247e1d(0x113)];#inlineMap=new Map();constructor(_0x428fab){const _0x3faf66=_0x247e1d;this[_0x3faf66(0x90)]=_0x428fab;}async['init'](){const _0xa3f7aa=_0x247e1d,_0x4dee4a=this[_0xa3f7aa(0x90)][_0xa3f7aa(0x84)][_0xa3f7aa(0x147)](this[_0xa3f7aa(0x90)]),{kf8:_0x1b11c1}=this[_0xa3f7aa(0x90)][_0xa3f7aa(0x138)];try{const _0x1e8631=await _0x4dee4a(_0x1b11c1[_0xa3f7aa(0xc0)]),_0x61eb5a=getStruct(FDST_HEADER,_0x1e8631);if(_0x61eb5a[_0xa3f7aa(0x6d)]!==_0xa3f7aa(0x139))throw new Error(_0xa3f7aa(0xf2));const _0x2cf6ae=Array[_0xa3f7aa(0xd1)]({'length':_0x61eb5a[_0xa3f7aa(0x103)]},(_0x32a0bf,_0x3d3de4)=>0xc+_0x3d3de4*0x8)[_0xa3f7aa(0xb6)](_0x213184=>[getUint(_0x1e8631['slice'](_0x213184,_0x213184+0x4)),getUint(_0x1e8631['slice'](_0x213184+0x4,_0x213184+0x8))]);this.#tables[_0xa3f7aa(0x108)]=_0x2cf6ae,this.#fullRawLength=_0x2cf6ae[_0x2cf6ae[_0xa3f7aa(0x88)]-0x1][0x1];}catch{}const _0x2367e3=(await getIndexData(_0x1b11c1[_0xa3f7aa(0x132)],_0x4dee4a))[_0xa3f7aa(0x161)]['map'](({name:_0x1a8679,tagMap:_0x40f879},_0x540455)=>({'index':_0x540455,'name':_0x1a8679,'numFrag':_0x40f879[0x1][0x0],'offset':_0x40f879[0x6][0x0],'length':_0x40f879[0x6][0x1]})),_0x5e29fe=await getIndexData(_0x1b11c1[_0xa3f7aa(0xc5)],_0x4dee4a),_0x57e6c6=_0x5e29fe[_0xa3f7aa(0x161)][_0xa3f7aa(0xb6)](({name:_0x50ff30,tagMap:_0x12c248})=>({'insertOffset':parseInt(_0x50ff30),'selector':_0x5e29fe[_0xa3f7aa(0xc9)][_0x12c248[0x2][0x0]],'index':_0x12c248[0x4][0x0],'offset':_0x12c248[0x6][0x0],'length':_0x12c248[0x6][0x1]}));this.#tables[_0xa3f7aa(0xfc)]=_0x2367e3,this.#tables[_0xa3f7aa(0x100)]=_0x57e6c6,this.#sections=_0x2367e3[_0xa3f7aa(0xbd)]((_0x1fae10,_0x3d6928)=>{const _0x329fb6=_0xa3f7aa,_0x899347=_0x1fae10[_0x1fae10[_0x329fb6(0x88)]-0x1],_0x57dce0=_0x899347?.[_0x329fb6(0x145)]??0x0,_0x4ab129=_0x57dce0+_0x3d6928[_0x329fb6(0x153)],_0x517b8a=_0x57e6c6[_0x329fb6(0x128)](_0x57dce0,_0x4ab129),_0x28e12d=_0x3d6928['length']+_0x517b8a[_0x329fb6(0xb6)](_0x5b8c4e=>_0x5b8c4e['length'])['reduce']((_0x47a07d,_0xd03165)=>_0x47a07d+_0xd03165),_0x51870d=(_0x899347?.[_0x329fb6(0xe6)]??0x0)+_0x28e12d;return _0x1fae10['concat']({'skel':_0x3d6928,'frags':_0x517b8a,'fragEnd':_0x4ab129,'length':_0x28e12d,'totalLength':_0x51870d});},[]);const _0x953f04=await this[_0xa3f7aa(0x116)]([_0xa3f7aa(0x67),'PAGE']),_0x11f60c=new Map();if(_0x953f04['RESC']){const _0x524abe=await this['mobi'][_0xa3f7aa(0x84)](_0x953f04['RESC']),_0x2ea4fd=this['mobi'][_0xa3f7aa(0x142)](_0x524abe[_0xa3f7aa(0x128)](0x10))[_0xa3f7aa(0x89)](/\0/g,''),_0x2a3839=_0x2ea4fd[_0xa3f7aa(0xee)](/\?>/),_0x394aed=_0xa3f7aa(0xf8)+_0x2ea4fd[_0xa3f7aa(0x128)](_0x2a3839)+_0xa3f7aa(0x79);}this[_0xa3f7aa(0x7f)]=this.#sections[_0xa3f7aa(0xb6)]((_0xf4e4f8,_0x2e7969)=>_0xf4e4f8[_0xa3f7aa(0x8b)]['length']?{'id':_0x2e7969,'load':()=>this[_0xa3f7aa(0xb3)](_0xf4e4f8),'createDocument':()=>this[_0xa3f7aa(0xbf)](_0xf4e4f8),'size':_0xf4e4f8['length'],'pageSpread':_0x11f60c[_0xa3f7aa(0xd5)](_0x2e7969)}:{'linear':'no'});try{const _0x2a307d=await this['mobi'][_0xa3f7aa(0x15c)](),_0x2d9991=({label:_0x469bb4,pos:_0x811cd2,children:_0x1b06e4})=>{const _0x2bd14e=_0xa3f7aa,[_0xb50693,_0x44216e]=_0x811cd2,_0x2927ae=makePosURI(_0xb50693,_0x44216e),_0x195485=this.#fragmentOffsets[_0x2bd14e(0xd5)](_0xb50693);if(_0x195485)_0x195485[_0x2bd14e(0x121)](_0x44216e);else this.#fragmentOffsets[_0x2bd14e(0xe0)](_0xb50693,[_0x44216e]);return{'label':unescapeHTML(_0x469bb4),'href':_0x2927ae,'subitems':_0x1b06e4?.[_0x2bd14e(0xb6)](_0x2d9991)};};this['toc']=_0x2a307d?.[_0xa3f7aa(0xb6)](_0x2d9991);}catch(_0x55b3e8){console[_0xa3f7aa(0x83)](_0x55b3e8);}const {exth:_0x1e067f}=this[_0xa3f7aa(0x90)][_0xa3f7aa(0x138)];return this[_0xa3f7aa(0xa4)]=_0x1e067f['pageProgressionDirection'],this['rendition']={'layout':_0x1e067f[_0xa3f7aa(0x125)]===_0xa3f7aa(0xf1)?'pre-paginated':_0xa3f7aa(0x10a),'viewport':Object['fromEntries'](_0x1e067f['originalResolution']?.[_0xa3f7aa(0x11f)]('x')?.['slice'](0x0,0x2)?.[_0xa3f7aa(0xb6)]((_0x1d370a,_0x22dbd2)=>[_0x22dbd2?_0xa3f7aa(0x141):_0xa3f7aa(0xe8),_0x1d370a])??[])},this[_0xa3f7aa(0x76)]=this[_0xa3f7aa(0x90)][_0xa3f7aa(0xf5)](),this[_0xa3f7aa(0x10b)]=this[_0xa3f7aa(0x90)]['getCover']['bind'](this['mobi']),this;}async['getResourcesByMagic'](_0x20295a){const _0x44cb19=_0x247e1d,_0x50a68b={},_0x5bc1f6=this['mobi'][_0x44cb19(0x138)][_0x44cb19(0x6c)]['resourceStart'],_0x3d7ba4=this[_0x44cb19(0x90)][_0x44cb19(0xcf)][_0x44cb19(0x96)];for(let _0x4acc5b=_0x5bc1f6;_0x4acc5b<_0x3d7ba4;_0x4acc5b++){try{const _0x816872=await this[_0x44cb19(0x90)][_0x44cb19(0x10c)](_0x4acc5b),_0x3b12f6=_0x20295a['find'](_0x3cfaef=>_0x3cfaef===_0x816872);if(_0x3b12f6)_0x50a68b[_0x3b12f6]=_0x4acc5b;}catch{}}return _0x50a68b;}async[_0x247e1d(0x8e)](_0x28186f){const _0x50cbf5=_0x247e1d,{resourceType:_0x28d946,id:_0x1f0324,type:_0x33add6}=parseResourceURI(_0x28186f),_0x17974d=_0x28d946===_0x50cbf5(0x151)?await this['loadFlow'](_0x1f0324):await this[_0x50cbf5(0x90)][_0x50cbf5(0x111)](_0x1f0324-0x1),_0x43cc9c=[MIME[_0x50cbf5(0x113)],MIME[_0x50cbf5(0x12d)],MIME[_0x50cbf5(0x74)],MIME['SVG']][_0x50cbf5(0x70)](_0x33add6)?await this[_0x50cbf5(0x133)](this[_0x50cbf5(0x90)][_0x50cbf5(0x142)](_0x17974d)):_0x17974d;return[new Blob([_0x43cc9c],{'type':_0x33add6}),null];}async[_0x247e1d(0x111)](_0x5c7cf5){const _0x1f5282=_0x247e1d;if(this.#cache[_0x1f5282(0xb7)](_0x5c7cf5))return this.#cache[_0x1f5282(0xd5)](_0x5c7cf5);const [_0x27716b,_0x5edea5]=await this[_0x1f5282(0x8e)](_0x5c7cf5),_0x1d211b=_0x5edea5?_0x5c7cf5:URL['createObjectURL'](_0x27716b);if(_0x5edea5)this.#inlineMap[_0x1f5282(0xe0)](_0x1d211b,_0x5edea5);return this.#cache[_0x1f5282(0xe0)](_0x5c7cf5,_0x1d211b),_0x1d211b;}[_0x247e1d(0x133)](_0x2b9a6b){const _0x4129cf=_0x247e1d,_0x4dbea8=new RegExp(kindleResourceRegex,'g');return replaceSeries(_0x2b9a6b,_0x4dbea8,this[_0x4129cf(0x111)][_0x4129cf(0x147)](this));}async[_0x247e1d(0x6b)](_0x5f57a2,_0x15c620){const _0x240a8f=_0x247e1d,_0x420c76=_0x15c620-this.#rawHead[_0x240a8f(0x88)],_0x2d21ad=this.#fullRawLength==null?Infinity:this.#fullRawLength-this.#rawTail[_0x240a8f(0x88)]-_0x5f57a2;if(_0x420c76<0x0||_0x420c76<_0x2d21ad){while(this.#rawHead[_0x240a8f(0x88)]<_0x15c620){const _0x345164=++this.#lastLoadedHead,_0x3f40bb=await this[_0x240a8f(0x90)][_0x240a8f(0x10e)](_0x345164);this.#rawHead=concatTypedArray(this.#rawHead,_0x3f40bb);}return this.#rawHead[_0x240a8f(0x128)](_0x5f57a2,_0x15c620);}while(this.#fullRawLength-this.#rawTail['length']>_0x5f57a2){const _0x42b53d=this[_0x240a8f(0x90)][_0x240a8f(0x138)]['palmdoc'][_0x240a8f(0x10f)]-0x1-++this.#lastLoadedTail,_0x251858=await this[_0x240a8f(0x90)]['loadText'](_0x42b53d);this.#rawTail=concatTypedArray(_0x251858,this.#rawTail);}const _0xa8057f=this.#fullRawLength-this.#rawTail[_0x240a8f(0x88)];return this.#rawTail[_0x240a8f(0x128)](_0x5f57a2-_0xa8057f,_0x15c620-_0xa8057f);}[_0x247e1d(0x144)](_0xb65546){const _0x12b31d=_0x247e1d;if(_0xb65546<0xffffffff)return this[_0x12b31d(0x6b)](...this.#tables[_0x12b31d(0x108)][_0xb65546]);}async[_0x247e1d(0x10e)](_0x40537a){const _0x2ded25=_0x247e1d,{skel:_0xb93fa9,frags:_0x759a8e,length:_0x51a54f}=_0x40537a,_0x156fdd=await this['loadRaw'](_0xb93fa9[_0x2ded25(0x7d)],_0xb93fa9[_0x2ded25(0x7d)]+_0x51a54f);let _0x5e2cd2=_0x156fdd[_0x2ded25(0x128)](0x0,_0xb93fa9[_0x2ded25(0x88)]);for(const _0x3c3bfd of _0x759a8e){const _0x54a043=_0x3c3bfd['insertOffset']-_0xb93fa9['offset'],_0x16f39d=_0xb93fa9[_0x2ded25(0x88)]+_0x3c3bfd[_0x2ded25(0x7d)],_0x387178=_0x156fdd['slice'](_0x16f39d,_0x16f39d+_0x3c3bfd[_0x2ded25(0x88)]);_0x5e2cd2=concatTypedArray3(_0x5e2cd2['slice'](0x0,_0x54a043),_0x387178,_0x5e2cd2[_0x2ded25(0x128)](_0x54a043));const _0x535022=this.#fragmentOffsets[_0x2ded25(0xd5)](_0x3c3bfd[_0x2ded25(0xc7)]);if(_0x535022)for(const _0x5a4143 of _0x535022){const _0x285f69=this['mobi'][_0x2ded25(0x142)](_0x387178)[_0x2ded25(0x128)](_0x5a4143),_0x391422=getFragmentSelector(_0x285f69);this.#setFragmentSelector(_0x3c3bfd['index'],_0x5a4143,_0x391422);}}return this['mobi'][_0x2ded25(0x142)](_0x5e2cd2);}async[_0x247e1d(0xbf)](_0x2df618){}async[_0x247e1d(0xb3)](_0x2bee01){}[_0x247e1d(0xb8)](_0x38580a){const _0x29e13a=_0x247e1d;return this.#sections[_0x29e13a(0xdf)](_0x25fc5f=>_0x25fc5f[_0x29e13a(0x8b)][_0x29e13a(0xe1)](_0x5ea677=>_0x5ea677['index']===_0x38580a));}#setFragmentSelector(_0x206146,_0xbd2177,_0x5b18d9){const _0x2dbce3=_0x247e1d,_0x3fce93=this.#fragmentSelectors['get'](_0x206146);if(_0x3fce93)_0x3fce93[_0x2dbce3(0xe0)](_0xbd2177,_0x5b18d9);else{const _0x8dc5f2=new Map();this.#fragmentSelectors[_0x2dbce3(0xe0)](_0x206146,_0x8dc5f2),_0x8dc5f2[_0x2dbce3(0xe0)](_0xbd2177,_0x5b18d9);}}async[_0x247e1d(0xb9)](_0x2fe2c2){const _0x36bf63=_0x247e1d,{fid:_0x5151d2,off:_0x1ab90f}=parsePosURI(_0x2fe2c2),_0x38ad32=this['getIndexByFID'](_0x5151d2);if(_0x38ad32<0x0)return;const _0x24e74c=this.#fragmentSelectors['get'](_0x5151d2)?.[_0x36bf63(0xd5)](_0x1ab90f);if(_0x24e74c)return{'index':_0x38ad32,'anchor':_0x588652=>_0x588652[_0x36bf63(0x9f)](_0x24e74c)};const {skel:_0x197b1b,frags:_0x5927fa}=this.#sections[_0x38ad32],_0x17dbb5=_0x5927fa['find'](_0x526c8e=>_0x526c8e[_0x36bf63(0xc7)]===_0x5151d2),_0x289b60=_0x197b1b[_0x36bf63(0x7d)]+_0x197b1b[_0x36bf63(0x88)]+_0x17dbb5[_0x36bf63(0x7d)],_0x301432=await this[_0x36bf63(0x6b)](_0x289b60,_0x289b60+_0x17dbb5[_0x36bf63(0x88)]),_0x558606=this[_0x36bf63(0x90)][_0x36bf63(0x142)](_0x301432)[_0x36bf63(0x128)](_0x1ab90f),_0x2c532a=getFragmentSelector(_0x558606);this.#setFragmentSelector(_0x5151d2,_0x1ab90f,_0x2c532a);const _0x31d2a9=_0x3f4ece=>_0x3f4ece[_0x36bf63(0x9f)](_0x2c532a);return{'index':_0x38ad32,'anchor':_0x31d2a9};}['splitTOCHref'](_0x372ef9){const _0x3a9e56=_0x247e1d,_0x4941c7=parsePosURI(_0x372ef9),_0x2c6af8=this['getIndexByFID'](_0x4941c7[_0x3a9e56(0xdc)]);return[_0x2c6af8,_0x4941c7];}[_0x247e1d(0xd9)](_0x1ccb7c,{fid:_0xd03861,off:_0x1fa45e}){const _0x2185b3=_0x247e1d,_0x3a4653=this.#fragmentSelectors[_0x2185b3(0xd5)](_0xd03861)?.['get'](_0x1fa45e);return _0x1ccb7c['querySelector'](_0x3a4653);}[_0x247e1d(0x157)](_0x1f18d4){return/^(?!blob|kindle)\w+:/i['test'](_0x1f18d4);}[_0x247e1d(0x126)](){for(const _0x401da7 of this.#cache['values']())URL['revokeObjectURL'](_0x401da7);}}module[_0x247e1d(0x156)]={'MOBI':MOBI,'isMOBI':isMOBI};