const _0x4a69a8=_0xbf70;(function(_0xc5fcaf,_0x4933ca){const _0x473e21=_0xbf70,_0x1a0d02=_0xc5fcaf();while(!![]){try{const _0x7e6f3d=parseInt(_0x473e21(0x133))/0x1+parseInt(_0x473e21(0x13e))/0x2+-parseInt(_0x473e21(0x157))/0x3*(parseInt(_0x473e21(0x168))/0x4)+parseInt(_0x473e21(0x154))/0x5+parseInt(_0x473e21(0x1a7))/0x6+-parseInt(_0x473e21(0x19f))/0x7+-parseInt(_0x473e21(0x13f))/0x8;if(_0x7e6f3d===_0x4933ca)break;else _0x1a0d02['push'](_0x1a0d02['shift']());}catch(_0x5c5dbd){_0x1a0d02['push'](_0x1a0d02['shift']());}}}(_0x5c52,0xb2855));const path=require(_0x4a69a8(0x130)),dbFileIndexTable=require(_0x4a69a8(0x1a3)),config=require('../../myConfig/config'),exifUtil=require('../../utils/exifUtils'),videoStreamUtil=require(_0x4a69a8(0x161)),indexUtil=require(_0x4a69a8(0x173)),geohash=require('ngeohash'),mediaUtils=require(_0x4a69a8(0x12d)),indexTableName=dbFileIndexTable[_0x4a69a8(0x182)],photoIndexUtil={};photoIndexUtil[_0x4a69a8(0x17a)]=async function(_0x4db130,_0x5509e1,_0x3c2b4f){const _0x2e1bad=_0x4a69a8;return await indexUtil[_0x2e1bad(0x17a)](_0x4db130,_0x5509e1,indexTableName,'photo',_0x3c2b4f,photoIndexUtil[_0x2e1bad(0x164)]);},photoIndexUtil[_0x4a69a8(0x164)]=async function(_0x29786c,_0x3f6d6b,_0x14c8b4,_0x1242ff,_0x2567ae,_0x197eca){const _0xaa8473=_0x4a69a8;let _0x24cbe6=indexUtil[_0xaa8473(0x165)](_0x29786c,_0xaa8473(0x192),config,_0x14c8b4,_0x1242ff);if(!_0x24cbe6)return;let _0x1dd1f1=_0x197eca[_0xaa8473(0x166)];_0x197eca[_0xaa8473(0x193)]<_0x1dd1f1&&(_0x1dd1f1=_0x197eca[_0xaa8473(0x193)]);_0x197eca[_0xaa8473(0x180)]<_0x1dd1f1&&(_0x1dd1f1=_0x197eca[_0xaa8473(0x180)]);_0x197eca[_0xaa8473(0x167)]<_0x1dd1f1&&(_0x1dd1f1=_0x197eca[_0xaa8473(0x167)]);let _0x54f64c={'path':_0x14c8b4,'filename':_0x1242ff,'is_file':_0x2567ae,'ctime':_0x197eca[_0xaa8473(0x167)],'mtime':_0x197eca[_0xaa8473(0x193)],'ext':path[_0xaa8473(0x15b)](_0x1242ff),'birthtime':Math['ceil'](_0x1dd1f1),'size':_0x197eca[_0xaa8473(0x142)],'check_time':new Date()[_0xaa8473(0x13b)]()};_0x54f64c=await photoIndexUtil[_0xaa8473(0x145)](_0x3f6d6b,_0x54f64c);};const getLocalTimeOffset=(_0x325ab4=_0x4a69a8(0x190),_0x2dd020=new Date())=>{const _0x8d1bae=_0x4a69a8,_0x4c8b06=new Date(_0x2dd020[_0x8d1bae(0x179)]('en-US',{'timeZone':_0x8d1bae(0x190)})),_0x5389a8=new Date(_0x2dd020[_0x8d1bae(0x179)](_0x8d1bae(0x181),{'timeZone':_0x325ab4}));return _0x5389a8[_0x8d1bae(0x13b)]()-_0x4c8b06[_0x8d1bae(0x13b)]();};function _0xbf70(_0x32c105,_0x509f9f){const _0x5c52ac=_0x5c52();return _0xbf70=function(_0xbf70e2,_0x2ebbca){_0xbf70e2=_0xbf70e2-0x12d;let _0x5349d5=_0x5c52ac[_0xbf70e2];return _0x5349d5;},_0xbf70(_0x32c105,_0x509f9f);}function _0x5c52(){const _0x43b0ae=['location','stringify','parseVideoWH','encode','videoHeight','includes','streams','UTC','.JPG','photo','mtimeMs','\x20and\x20original_time\x20BETWEEN\x20?\x20AND\x20\x20?','.jpg','substring','replace','videoWidth','raw_filename','(filename\x20=\x20?\x20or\x20filename\x20=\x20?\x20\x20or\x20filename\x20=\x20?\x20\x20or\x20filename\x20=\x20?\x20\x20or\x20filename\x20=\x20?)','getExifInfo','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=0,is_show=1\x20WHERE\x20id=','com.android.version','com.apple.quicktime.creationdate','74578xPZcJl','join','geohash','.HEIC','../../db/dbFileIndexTable','.HEIF','changes','geohash2','5952648Lyfwke','../../utils/mediaUtils','lastIndexOf','.mp4','path','length','log','1356342YHZdrh','needDealLivePhotoState','getLivePhotoPartnerIndex','find','.JPEG','type','push','exifMinTimeStamp','getTime','\x20AND\x20original_time\x20BETWEEN\x20','Null','1347990vKpyDF','17583424dhSCGu','ext','(filename\x20=\x20?\x20or\x20filename\x20=\x20?\x20\x20or\x20filename\x20=\x20?\x20\x20or\x20filename\x20=\x20?)','size','substr','is_livephoto','dealMediaInfo','addOriginalDate','SELECT\x20*\x20FROM\x20file_index_photo\x20WHERE\x20path=?\x20AND\x20filename\x20LIKE\x20?\x20AND\x20type=1\x20AND\x20is_file=1\x20AND\x20is_raw!=','duration','mode','setPhotoRawFileNameAndState','rawImgTypeList','setLivePhotoAndRawStateOnDeletePhotoIndex','geohash5','is_show','geohash4','longitude','startsWith','win32','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=1,is_show=0\x20WHERE\x20id=','2212575fcVmQP','.heic','NaN','3eGvlqu','original_time','run','.mov','extname','is_raw','\x20AND\x20\x20','SELECT\x20id\x20FROM\x20file_index_photo\x20WHERE\x20path=?\x20and\x20is_file=1\x20and','get','prepare','../../utils/videoStreamUtil','geohash3','tags','addFileIndexToDb','doesPathCanAddToDb','birthtimeMs','ctimeMs','2100628XcvNPL','ffprobeSync','create','location-eng','error','imgTypeList','getDurationFromStream','ctime','toLowerCase','creation_time','filename','./indexUtil','\x20LIMIT\x201','is_file','getFullYear','恢复livephoto配对状态','original_date','toLocaleString','recursionFilesAddIndex','getTimeFromFileName','toUpperCase','latitude','format','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=1,is_show=1\x20WHERE\x20id=','atimeMs','en-US','INDEX_TABLE_NAME_PHOTO','videoTypeList','UPDATE\x20file_index_photo\x20SET\x20is_show=1\x20WHERE\x20path=?\x20AND\x20filename\x20=?','updateById','com.apple.quicktime.location.ISO6709','删除的是raw\x20把引用了自己文件名作为raw_filename的jpg文件恢复','dealFileChange'];_0x5c52=function(){return _0x43b0ae;};return _0x5c52();}photoIndexUtil[_0x4a69a8(0x145)]=async function(_0x53fbcb,_0x427d80){const _0x396a17=_0x4a69a8;let _0x21d32f=![],_0x547074=path[_0x396a17(0x1a0)](_0x427d80['path'],_0x427d80[_0x396a17(0x172)]);if(_0x427d80[_0x396a17(0x175)]==0x1&&_0x427d80[_0x396a17(0x140)]&&(config[_0x396a17(0x16d)][_0x396a17(0x18e)](_0x427d80[_0x396a17(0x140)]['toLowerCase']())||config[_0x396a17(0x14b)][_0x396a17(0x18e)](_0x427d80[_0x396a17(0x140)][_0x396a17(0x170)]()))){config[_0x396a17(0x14b)][_0x396a17(0x18e)](_0x427d80[_0x396a17(0x140)][_0x396a17(0x170)]())&&(_0x427d80[_0x396a17(0x15c)]=0x1);_0x427d80[_0x396a17(0x138)]=0x1;try{let {tags:_0x1e7d4e,dealedIndexObj:_0xd1af00}=await exifUtil[_0x396a17(0x19b)](_0x547074,_0x427d80);return photoIndexUtil[_0x396a17(0x146)](_0x53fbcb,_0xd1af00['originalTime'],_0xd1af00);}catch(_0x13f69b){return console[_0x396a17(0x132)](_0x396a17(0x16c),_0x13f69b),photoIndexUtil['addOriginalDate'](_0x53fbcb,_0x21d32f,_0x427d80);}}else{if(_0x427d80[_0x396a17(0x175)]==0x1&&_0x427d80['ext']&&config[_0x396a17(0x183)][_0x396a17(0x18e)](_0x427d80['ext'][_0x396a17(0x170)]())){_0x427d80[_0x396a17(0x138)]=0x2;try{let _0x23518=await indexUtil[_0x396a17(0x169)](_0x547074),_0x32ab50=0x0,_0x387a72=0x0;if(_0x23518&&_0x23518[_0x396a17(0x18f)]&&_0x23518['streams'][_0x396a17(0x131)]>0x0){_0x427d80['stream_info']=JSON[_0x396a17(0x18a)](_0x23518[_0x396a17(0x18f)]);let _0x47c6b9=videoStreamUtil[_0x396a17(0x18b)](_0x23518[_0x396a17(0x18f)]);_0x427d80['width']=_0x47c6b9[_0x396a17(0x198)],_0x427d80['height']=_0x47c6b9[_0x396a17(0x18d)];let _0x4b7dfd=videoStreamUtil[_0x396a17(0x16e)](_0x23518);_0x4b7dfd&&(_0x427d80[_0x396a17(0x148)]=_0x4b7dfd);}if(_0x23518&&_0x23518[_0x396a17(0x17e)]&&_0x23518[_0x396a17(0x17e)][_0x396a17(0x163)]){let _0x5b5ab4=_0x23518[_0x396a17(0x17e)]['tags'][_0x396a17(0x186)],_0x3dec5f=_0x23518['format']['tags']['com.apple.quicktime.model'],_0x181e54=_0x23518[_0x396a17(0x17e)][_0x396a17(0x163)][_0x396a17(0x19e)];_0x3dec5f&&(_0x427d80[_0x396a17(0x149)]=_0x3dec5f);_0x181e54&&(_0x21d32f=_0x181e54);if(!_0x21d32f&&_0x23518[_0x396a17(0x17e)][_0x396a17(0x163)][_0x396a17(0x171)]){let _0xf943c9=_0x23518[_0x396a17(0x17e)][_0x396a17(0x163)][_0x396a17(0x171)];_0xf943c9&&!_0xf943c9[_0x396a17(0x151)]('1970-01-01')&&(_0x21d32f=_0xf943c9);}function _0x492ca1(_0x1d3de1){const _0x830b27=_0x396a17;let _0x24b270=[];for(let _0x50773a=0x0;_0x50773a<_0x1d3de1[_0x830b27(0x131)];_0x50773a++){(_0x1d3de1[_0x50773a]=='+'||_0x1d3de1[_0x50773a]=='-')&&_0x24b270['push'](_0x50773a);}if(_0x24b270[_0x830b27(0x131)]==0x2)_0x32ab50=_0x1d3de1[_0x830b27(0x196)](_0x24b270[0x0],_0x24b270[0x1]),_0x387a72=_0x1d3de1[_0x830b27(0x196)](_0x24b270[0x1]);else _0x24b270[_0x830b27(0x131)]>=0x3&&(_0x32ab50=_0x1d3de1[_0x830b27(0x196)](_0x24b270[0x0],_0x24b270[0x1]),_0x387a72=_0x1d3de1['substring'](_0x24b270[0x1],_0x24b270[0x2]));}_0x5b5ab4&&_0x492ca1(_0x5b5ab4);let _0x41496c=_0x23518[_0x396a17(0x17e)][_0x396a17(0x163)][_0x396a17(0x189)]||_0x23518[_0x396a17(0x17e)][_0x396a17(0x163)][_0x396a17(0x16b)];_0x41496c&&!_0x32ab50&&(_0x41496c=_0x41496c[_0x396a17(0x197)]('/',''),_0x492ca1(_0x41496c));if(_0x32ab50&&_0x387a72&&_0x21d32f){let _0x244892=_0x23518[_0x396a17(0x17e)]['tags'][_0x396a17(0x19d)];if(_0x244892&&currentPlatform&&currentPlatform==_0x396a17(0x152))try{let _0x2b46bf=geoTz[_0x396a17(0x136)](_0x32ab50,_0x387a72);if(_0x2b46bf&&_0x2b46bf[_0x396a17(0x131)]>0x0){_0x2b46bf=_0x2b46bf[0x0];let _0x690570=new Date(_0x21d32f),_0x134c40=getLocalTimeOffset(_0x2b46bf,_0x690570);_0x21d32f=new Date(_0x690570[_0x396a17(0x13b)]()+_0x134c40)[_0x396a17(0x179)]();}}catch(_0x232c9c){console[_0x396a17(0x132)](_0x232c9c);}}_0x23518[_0x396a17(0x17e)]['duration']&&(_0x427d80['duration']=_0x23518[_0x396a17(0x17e)]['duration']);}return _0x427d80[_0x396a17(0x17d)]=_0x32ab50,_0x427d80['longitude']=_0x387a72,_0x21d32f=mediaUtils[_0x396a17(0x17b)](_0x21d32f,_0x427d80[_0x396a17(0x172)]),photoIndexUtil[_0x396a17(0x146)](_0x53fbcb,_0x21d32f,_0x427d80);}catch(_0x501094){return photoIndexUtil[_0x396a17(0x146)](_0x53fbcb,_0x21d32f,_0x427d80);}}else{if(_0x427d80[_0x396a17(0x175)]==0x1)return;return photoIndexUtil[_0x396a17(0x146)](_0x53fbcb,_0x21d32f,_0x427d80);}}},photoIndexUtil[_0x4a69a8(0x188)]=async function(_0x535873,_0x162c02,_0x5d26ba){await indexUtil['dealFileChange'](_0x535873,_0x162c02,_0x5d26ba,indexTableName,photoIndexUtil['addFileIndexToDb'],photoIndexUtil['recursionFilesAddIndex'],(_0xaeb0d0,_0x4230d5)=>{const _0x35dbf4=_0xbf70;_0x4230d5&&_0x4230d5[_0x35dbf4(0x1a5)]>0x0&&photoIndexUtil[_0x35dbf4(0x14c)](_0x535873,_0xaeb0d0);});},photoIndexUtil['addOriginalDate']=function(_0x423821,_0x47116b,_0xc8b711){const _0x2de8d2=_0x4a69a8;_0x47116b&&_0x47116b<config[_0x2de8d2(0x13a)]&&(_0x47116b=![]);(!_0x47116b||_0x47116b==_0x2de8d2(0x156)||_0x47116b=='Nan'||_0x47116b==_0x2de8d2(0x156)||_0x47116b==_0x2de8d2(0x13d))&&(_0x47116b=_0xc8b711['birthtime']||_0xc8b711[_0x2de8d2(0x16f)]);let _0x385683=new Date(_0x47116b);_0xc8b711[_0x2de8d2(0x158)]=_0x385683[_0x2de8d2(0x13b)]();let _0x33c37f=_0x385683[_0x2de8d2(0x176)](),_0x452e1b=_0x385683['getMonth']()+0x1;_0x452e1b=_0x452e1b>=0xa?_0x452e1b:'0'+_0x452e1b;let _0x1410e4=_0x385683['getDate']();_0x1410e4=_0x1410e4>=0xa?_0x1410e4:'0'+_0x1410e4,_0xc8b711[_0x2de8d2(0x178)]=_0x33c37f+'-'+_0x452e1b+'-'+_0x1410e4;_0xc8b711[_0x2de8d2(0x17d)]&&_0xc8b711[_0x2de8d2(0x150)]&&(_0xc8b711['geohash']=geohash[_0x2de8d2(0x18c)](_0xc8b711['latitude'],_0xc8b711[_0x2de8d2(0x150)],0x8),_0xc8b711[_0x2de8d2(0x14d)]=_0xc8b711['geohash'][_0x2de8d2(0x143)](0x0,0x5),_0xc8b711[_0x2de8d2(0x14f)]=_0xc8b711[_0x2de8d2(0x1a1)][_0x2de8d2(0x143)](0x0,0x4),_0xc8b711[_0x2de8d2(0x162)]=_0xc8b711[_0x2de8d2(0x1a1)]['substr'](0x0,0x3),_0xc8b711[_0x2de8d2(0x1a6)]=_0xc8b711['geohash']['substr'](0x0,0x2));let _0x2c420c=dbFileIndexTable[_0x2de8d2(0x16a)](_0x423821,_0xc8b711,indexTableName);if(_0x2c420c&&_0x2c420c['lastInsertRowid']){let _0x1dfbd4=dbFileIndexTable['getById'](_0x423821,_0x2c420c['lastInsertRowid'],indexTableName);_0x1dfbd4&&(photoIndexUtil[_0x2de8d2(0x134)](_0xc8b711)&&photoIndexUtil['setLivePhotoStateOnAddPhotoIndex'](_0x423821,_0x1dfbd4),photoIndexUtil[_0x2de8d2(0x14a)](_0x423821,_0x1dfbd4));}},photoIndexUtil[_0x4a69a8(0x14a)]=function(_0x381535,_0x58e6ed){const _0x3ddcbe=_0x4a69a8;try{if(!_0x58e6ed||!_0x58e6ed[_0x3ddcbe(0x140)]||_0x58e6ed[_0x3ddcbe(0x175)]!=0x1||!_0x58e6ed[_0x3ddcbe(0x158)]||_0x58e6ed[_0x3ddcbe(0x138)]!=0x1||!_0x58e6ed[_0x3ddcbe(0x172)])return;let _0x5f2ce4=_0x58e6ed['filename'][_0x3ddcbe(0x12e)](_0x58e6ed[_0x3ddcbe(0x140)]),_0x47b624=_0x58e6ed['filename']['substring'](0x0,_0x5f2ce4),_0x1e71c6=_0x58e6ed[_0x3ddcbe(0x158)]-0xc*0x3c*0x3c*0x3e9,_0x55432e=_0x58e6ed[_0x3ddcbe(0x158)]+0xc*0x3c*0x3c*0x3e9,_0x53152f=_0x3ddcbe(0x147)+_0x58e6ed[_0x3ddcbe(0x15c)]+_0x3ddcbe(0x13c)+_0x1e71c6+_0x3ddcbe(0x15d)+_0x55432e+_0x3ddcbe(0x174),_0x2c9e9a=_0x381535[_0x3ddcbe(0x160)](_0x53152f)[_0x3ddcbe(0x15f)](_0x58e6ed['path'],_0x47b624+'.%');if(_0x2c9e9a){let _0x4995ba,_0x1356ef;if(_0x58e6ed[_0x3ddcbe(0x15c)]==0x1)_0x4995ba=_0x58e6ed,_0x1356ef=_0x2c9e9a;else _0x58e6ed['is_raw']==0x0&&(_0x1356ef=_0x58e6ed,_0x4995ba=_0x2c9e9a);_0x4995ba&&_0x1356ef&&(dbFileIndexTable[_0x3ddcbe(0x185)](_0x381535,_0x4995ba['id'],_0x3ddcbe(0x14e),'0'),dbFileIndexTable[_0x3ddcbe(0x185)](_0x381535,_0x1356ef['id'],_0x3ddcbe(0x199),_0x4995ba[_0x3ddcbe(0x172)]));}}catch(_0xfa54bf){console[_0x3ddcbe(0x132)](_0xfa54bf);}},photoIndexUtil[_0x4a69a8(0x134)]=function(_0x5334dc){const _0x121c4c=_0x4a69a8;if(_0x5334dc[_0x121c4c(0x175)]!=0x1)return![];if(!_0x5334dc['original_time'])return![];let _0x5c8d21=_0x5334dc[_0x121c4c(0x140)];if(!_0x5c8d21)return![];_0x5c8d21=_0x5c8d21[_0x121c4c(0x17c)]();if(_0x5334dc['type']==0x1){if(_0x5c8d21!=_0x121c4c(0x191)&&_0x5c8d21!=_0x121c4c(0x1a2)&&_0x5c8d21!='.JPEG'&&_0x5c8d21!=_0x121c4c(0x1a4))return![];}else{if(_0x5334dc['type']==0x2){if(!_0x5334dc['duration']||_0x5334dc[_0x121c4c(0x148)]=='undefined'||_0x5334dc[_0x121c4c(0x148)]>0x4)return![];if(_0x5c8d21!='.MOV'&&_0x5c8d21!='.MP4')return![];}}return!![];},photoIndexUtil[_0x4a69a8(0x135)]=function(_0x3721a3,_0x457c61){const _0x5e4ec3=_0x4a69a8;let _0x2b60bc=_0x457c61[_0x5e4ec3(0x172)][_0x5e4ec3(0x197)](_0x457c61['ext'],''),_0x1c4600=_0x457c61['original_time']-0xc*0x3c*0x3c*0x3e9,_0x557244=_0x457c61[_0x5e4ec3(0x158)]+0xc*0x3c*0x3c*0x3e9,_0x59a2a7=_0x5e4ec3(0x15e),_0x234fda='',_0x588ba9=_0x5e4ec3(0x194),_0x4b6521=[_0x457c61[_0x5e4ec3(0x130)]];if(_0x457c61[_0x5e4ec3(0x138)]==0x1)_0x234fda=_0x5e4ec3(0x141),_0x4b6521['push'](_0x2b60bc+'.MP4'),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+_0x5e4ec3(0x15a)),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+'.MOV'),_0x4b6521['push'](_0x2b60bc+_0x5e4ec3(0x12f));else _0x457c61[_0x5e4ec3(0x138)]==0x2&&(_0x234fda=_0x5e4ec3(0x19a),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+_0x5e4ec3(0x191)),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+_0x5e4ec3(0x1a2)),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+_0x5e4ec3(0x155)),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+_0x5e4ec3(0x195)),_0x4b6521[_0x5e4ec3(0x139)](_0x2b60bc+_0x5e4ec3(0x137)));let _0x12c0c6=_0x59a2a7+_0x234fda+_0x588ba9;_0x4b6521[_0x5e4ec3(0x139)](_0x1c4600),_0x4b6521['push'](_0x557244);let _0x413b2e=_0x3721a3[_0x5e4ec3(0x160)](_0x12c0c6)[_0x5e4ec3(0x15f)](_0x4b6521);return _0x413b2e;},photoIndexUtil[_0x4a69a8(0x14c)]=function(_0x51e8bd,_0x1f9d96){const _0x49eb67=_0x4a69a8;if(!_0x1f9d96)return;if(_0x1f9d96[_0x49eb67(0x144)]==0x1){if(!photoIndexUtil[_0x49eb67(0x134)](_0x1f9d96))return;let _0x318343=photoIndexUtil[_0x49eb67(0x135)](_0x51e8bd,_0x1f9d96);_0x318343&&(console[_0x49eb67(0x132)](_0x49eb67(0x177)),_0x51e8bd['prepare'](_0x49eb67(0x19c)+_0x318343['id'])[_0x49eb67(0x159)]());}if(_0x1f9d96['is_raw']==0x1)console['log'](_0x49eb67(0x187)),_0x51e8bd['prepare']('UPDATE\x20file_index_photo\x20SET\x20raw_filename=null\x20WHERE\x20path=?\x20AND\x20raw_filename\x20=?\x20')[_0x49eb67(0x159)](_0x1f9d96[_0x49eb67(0x130)],_0x1f9d96[_0x49eb67(0x172)]);else _0x1f9d96['is_raw']==0x0&&_0x1f9d96[_0x49eb67(0x199)]!=null&&_0x1f9d96[_0x49eb67(0x199)]!=''&&_0x51e8bd['prepare'](_0x49eb67(0x184))[_0x49eb67(0x159)](_0x1f9d96['path'],_0x1f9d96[_0x49eb67(0x199)]);},photoIndexUtil['setLivePhotoStateOnAddPhotoIndex']=function(_0x49219a,_0x598bf6){const _0xdca229=_0x4a69a8;if(!photoIndexUtil['needDealLivePhotoState'](_0x598bf6))return;let _0x9f81e6=photoIndexUtil[_0xdca229(0x135)](_0x49219a,_0x598bf6);if(_0x9f81e6){if(_0x598bf6['type']==0x1)_0x49219a[_0xdca229(0x160)](_0xdca229(0x153)+_0x598bf6['id'])['run'](),_0x49219a['prepare'](_0xdca229(0x17f)+_0x9f81e6['id'])[_0xdca229(0x159)]();else _0x598bf6[_0xdca229(0x138)]==0x2&&(_0x49219a['prepare'](_0xdca229(0x17f)+_0x598bf6['id'])[_0xdca229(0x159)](),_0x49219a[_0xdca229(0x160)](_0xdca229(0x153)+_0x9f81e6['id'])['run']());}},module['exports']=photoIndexUtil;