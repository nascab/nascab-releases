function _0x2c5f(){const _0xe4742d=['from','.cbr','不支持的压缩文件格式','toLowerCase','then','getEpubImageList','epub','isDirectory','.cbz','getZipInnerFileList','toBuffer','710TBMRMZ','7994889QBzmAM','length','308zAaEUQ','getInnerFileContent','.rar','extname','path','getSharpDealedBuffer','includes','forEach','sortFileNamesByNumber','extraction','catch','extract','1652DDNZkn','.epub','entryName','getEntries','254758dyrttL','4665416YPQOhw','53112cRCdZf','../myConfig/config','name','795Pjmeoz','./zipEpubUtil','./arrayUtil','push','exports','log','getFileList','adm-zip','.zip','readFile','jpeg','getZipCover','imgTypeList','createExtractorFromData','node-unrar-js','2132508iLoBqZ'];_0x2c5f=function(){return _0xe4742d;};return _0x2c5f();}const _0x4118e2=_0x1f8e;(function(_0x1c0964,_0x1739f3){const _0x45145a=_0x1f8e,_0x3473a2=_0x1c0964();while(!![]){try{const _0x2ad40c=-parseInt(_0x45145a(0x12d))/0x1+-parseInt(_0x45145a(0x11d))/0x2*(-parseInt(_0x45145a(0x132))/0x3)+-parseInt(_0x45145a(0x129))/0x4*(-parseInt(_0x45145a(0x11a))/0x5)+parseInt(_0x45145a(0x10e))/0x6+-parseInt(_0x45145a(0x12e))/0x7+-parseInt(_0x45145a(0x12f))/0x8+parseInt(_0x45145a(0x11b))/0x9;if(_0x2ad40c===_0x1739f3)break;else _0x3473a2['push'](_0x3473a2['shift']());}catch(_0x5e4929){_0x3473a2['push'](_0x3473a2['shift']());}}}(_0x2c5f,0x6564e));const path=require(_0x4118e2(0x121));let zipUtil={};function _0x1f8e(_0x127925,_0x295cc9){const _0x2c5fb0=_0x2c5f();return _0x1f8e=function(_0x1f8e14,_0x5c3d95){_0x1f8e14=_0x1f8e14-0x108;let _0x5e40ca=_0x2c5fb0[_0x1f8e14];return _0x5e40ca;},_0x1f8e(_0x127925,_0x295cc9);}const sharp=require('sharp'),AdmZip=require(_0x4118e2(0x139)),unrar=require(_0x4118e2(0x10d)),fs=require('fs'),config=require(_0x4118e2(0x130)),EPub=require(_0x4118e2(0x115)),zipEpubUtil=require(_0x4118e2(0x133)),arrayUtil=require(_0x4118e2(0x134));zipUtil[_0x4118e2(0x118)]=(_0x2504de,_0x520a40)=>{return new Promise((_0x25c405,_0x2fea87)=>{const _0x4000bc=_0x1f8e;let _0x5e7c4b=[];try{let _0x18d54b=path[_0x4000bc(0x120)](_0x2504de);_0x18d54b&&(_0x18d54b=_0x18d54b[_0x4000bc(0x112)]());if(_0x18d54b==_0x4000bc(0x13a)||_0x18d54b=='.cbz'){const _0x261dac=new AdmZip(_0x2504de);_0x261dac[_0x4000bc(0x12c)]()[_0x4000bc(0x124)](_0x2d02de=>{const _0x235ea8=_0x4000bc;let _0x361264=!![],_0x5ceb2b=path[_0x235ea8(0x120)](_0x2d02de[_0x235ea8(0x12b)]);_0x520a40&&(_0x361264=![],_0x5ceb2b&&config[_0x235ea8(0x10b)]['includes'](_0x5ceb2b[_0x235ea8(0x112)]())&&(_0x361264=!![])),_0x361264&&_0x5e7c4b[_0x235ea8(0x135)]({'isDir':_0x2d02de[_0x235ea8(0x116)],'name':_0x2d02de[_0x235ea8(0x12b)]});}),_0x25c405(arrayUtil[_0x4000bc(0x125)](_0x5e7c4b,_0x4000bc(0x131)));}else{if(_0x18d54b==_0x4000bc(0x11f)||_0x18d54b==_0x4000bc(0x110))fs[_0x4000bc(0x108)](_0x2504de,(_0x522a20,_0x280f8e)=>{const _0x3df150=_0x4000bc;unrar[_0x3df150(0x10c)]({'data':_0x280f8e})[_0x3df150(0x113)](_0x55f1fe=>{const _0x43a306=_0x3df150,_0x290216=_0x55f1fe[_0x43a306(0x138)](),_0x5e6c62=[..._0x290216['fileHeaders']];for(let _0x556dc3 of _0x5e6c62){let _0xf449ef=!![],_0x17604d=path[_0x43a306(0x120)](_0x556dc3[_0x43a306(0x131)]);_0x520a40&&(_0xf449ef=![],_0x17604d&&config[_0x43a306(0x10b)]['includes'](_0x17604d[_0x43a306(0x112)]())&&(_0xf449ef=!![])),_0xf449ef&&_0x5e7c4b[_0x43a306(0x135)]({'isDir':![],'name':_0x556dc3[_0x43a306(0x131)]});}_0x25c405(arrayUtil[_0x43a306(0x125)](_0x5e7c4b,'name'));});});else _0x18d54b==_0x4000bc(0x12a)?zipEpubUtil[_0x4000bc(0x114)](_0x2504de)[_0x4000bc(0x113)](_0x2bcd60=>{const _0x5457a5=_0x4000bc;for(let _0x414906 of _0x2bcd60){_0x5e7c4b[_0x5457a5(0x135)]({'isDir':![],'name':_0x414906});}_0x25c405(_0x5e7c4b);}):(console[_0x4000bc(0x137)](_0x4000bc(0x111),_0x2504de),_0x25c405([]));}}catch(_0x2791e2){console[_0x4000bc(0x137)](_0x2791e2),_0x25c405([]);}});},zipUtil[_0x4118e2(0x122)]=(_0x37f4a0,_0x2cea15)=>{return new Promise((_0x33a4c4,_0x505c5b)=>{const _0x17d6bb=_0x1f8e;let _0x53be8b=path[_0x17d6bb(0x120)](_0x2cea15);_0x53be8b&&config[_0x17d6bb(0x10b)][_0x17d6bb(0x123)](_0x53be8b['toLowerCase']())?sharp(_0x37f4a0,{'failOnError':![]})[_0x17d6bb(0x109)]({'quality':0x4d})[_0x17d6bb(0x119)]()[_0x17d6bb(0x113)](_0x4fbb52=>{_0x33a4c4(_0x4fbb52);})[_0x17d6bb(0x127)](_0x194241=>{const _0xa9ec9=_0x17d6bb;console[_0xa9ec9(0x137)](_0x194241),_0x33a4c4(_0x37f4a0);}):_0x33a4c4(_0x37f4a0);});},zipUtil[_0x4118e2(0x11e)]=(_0x106df3,_0x42e118)=>{return new Promise((_0x2368e5,_0x30914d)=>{const _0x5ac8b5=_0x1f8e;try{let _0x269ce5=path[_0x5ac8b5(0x120)](_0x106df3);_0x269ce5&&(_0x269ce5=_0x269ce5[_0x5ac8b5(0x112)]());if(_0x269ce5==_0x5ac8b5(0x13a)||_0x269ce5==_0x5ac8b5(0x117)||_0x269ce5==_0x5ac8b5(0x12a)){const _0x53ed88=new AdmZip(_0x106df3);let _0xae4a16=_0x53ed88['readFile'](_0x42e118);zipUtil[_0x5ac8b5(0x122)](_0xae4a16,_0x42e118)[_0x5ac8b5(0x113)](_0x290eaa=>{_0x2368e5(_0x290eaa);});}else _0x269ce5=='.rar'||_0x269ce5==_0x5ac8b5(0x110)?fs['readFile'](_0x106df3,(_0x3f28fa,_0x339989)=>{const _0x18be09=_0x5ac8b5;if(_0x3f28fa)return console[_0x18be09(0x137)](_0x3f28fa),_0x2368e5(null);unrar[_0x18be09(0x10c)]({'data':_0x339989})[_0x18be09(0x113)](_0x33f036=>{const _0x377d71=_0x18be09;try{const _0x5ee3d7=_0x33f036[_0x377d71(0x128)]({'files':[_0x42e118]}),_0xf7b5e5=[..._0x5ee3d7['files']];if(_0xf7b5e5&&_0xf7b5e5[_0x377d71(0x11c)]>0x0){let _0x49db70=Buffer[_0x377d71(0x10f)](_0xf7b5e5[0x0][_0x377d71(0x126)]);zipUtil[_0x377d71(0x122)](_0x49db70,_0x42e118)['then'](_0x2aa8cd=>{_0x2368e5(_0x2aa8cd);});}else _0x2368e5(null);}catch(_0x408e44){_0x2368e5(null);}});}):(console['log'](_0x5ac8b5(0x111),_0x106df3),_0x2368e5(null));}catch(_0x2bc3a8){console[_0x5ac8b5(0x137)](_0x2bc3a8),_0x2368e5(null);}});},zipUtil[_0x4118e2(0x10a)]=_0x11a38a=>{return new Promise((_0x5d528d,_0x56e764)=>{const _0x14f1d1=_0x1f8e;try{zipUtil[_0x14f1d1(0x118)](_0x11a38a,!![])['then'](_0x3fb0fc=>{const _0x2db8b0=_0x14f1d1;if(_0x3fb0fc[_0x2db8b0(0x11c)]>0x0){let _0x990175=_0x3fb0fc[0x0];zipUtil[_0x2db8b0(0x11e)](_0x11a38a,_0x990175[_0x2db8b0(0x131)])[_0x2db8b0(0x113)](_0x4a36b9=>{_0x5d528d({'dealedBuffer':_0x4a36b9,'fileCount':_0x3fb0fc['length']});});}else _0x5d528d(null);});}catch(_0x41a73e){_0x5d528d(null);}});},module[_0x4118e2(0x136)]=zipUtil;