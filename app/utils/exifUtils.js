const _0x27c73d=_0x2e7f;(function(_0x1dd231,_0x1030e4){const _0x390c3f=_0x2e7f,_0x4a6857=_0x1dd231();while(!![]){try{const _0xedb383=parseInt(_0x390c3f(0x1a6))/0x1*(parseInt(_0x390c3f(0x1ba))/0x2)+parseInt(_0x390c3f(0x1ae))/0x3+parseInt(_0x390c3f(0x1c5))/0x4+parseInt(_0x390c3f(0x1b5))/0x5+parseInt(_0x390c3f(0x1c7))/0x6*(-parseInt(_0x390c3f(0x1af))/0x7)+-parseInt(_0x390c3f(0x1b7))/0x8+-parseInt(_0x390c3f(0x1ad))/0x9*(parseInt(_0x390c3f(0x1bf))/0xa);if(_0xedb383===_0x1030e4)break;else _0x4a6857['push'](_0x4a6857['shift']());}catch(_0x416ae0){_0x4a6857['push'](_0x4a6857['shift']());}}}(_0x545b,0x4c0de));const path=require(_0x27c73d(0x1c6));function _0x545b(){const _0x194579=['12588HkPuwF','getRotateFromTags','sharp','exifr','filename','CreateDate','1uVFTAk','sharpGetExifInfo','indexOf','then','ImageWidth','log','DateTimeOriginal','1159497NItQrz','1431018ivIusx','980uIrJAj','exifr异常','mode','exports','exifrGetExifInfo','width','2594355JcEFMP','ExifImageHeight','673920PDwMWg','originalTime','height','298054kvTXvy','180','metadata','catch','CameraOrientation','50HcVsLe','getExifInfo','270','getTimeFromFileName','longitude','latitude','754956uRQDJT','path'];_0x545b=function(){return _0x194579;};return _0x545b();}function _0x2e7f(_0x58fcdf,_0x4b112b){const _0x545b92=_0x545b();return _0x2e7f=function(_0x2e7f4d,_0x32a24d){_0x2e7f4d=_0x2e7f4d-0x1a1;let _0x45fdc0=_0x545b92[_0x2e7f4d];return _0x45fdc0;},_0x2e7f(_0x58fcdf,_0x4b112b);}let exifUtils={};var exifr=require(_0x27c73d(0x1a3));const sharp=require(_0x27c73d(0x1a2));let mediaUtils=require('../utils/mediaUtils');exifUtils[_0x27c73d(0x1a1)]=function(_0x4e5e90){const _0x342a32=_0x27c73d;let _0x3b24f7=0x0;if(!_0x4e5e90)return null;if(_0x4e5e90[_0x342a32(0x1be)]){if(_0x4e5e90[_0x342a32(0x1be)][_0x342a32(0x1a8)]('90')!=-0x1)_0x3b24f7=0x5a;else{if(_0x4e5e90['CameraOrientation'][_0x342a32(0x1a8)](_0x342a32(0x1bb))!=-0x1)_0x3b24f7=0xb4;else _0x4e5e90[_0x342a32(0x1be)]['indexOf'](_0x342a32(0x1c1))!=-0x1&&(_0x3b24f7=0x10e);}}return _0x3b24f7;},exifUtils['sharpGetExifInfo']=function(_0x5bbda8,_0x3ed50f,_0x53721f,_0x543e3e){const _0x1a2738=_0x27c73d;sharp(_0x5bbda8,{'failOnError':![]})[_0x1a2738(0x1bc)]()[_0x1a2738(0x1a9)](_0x441682=>{const _0x1f8af9=_0x1a2738;_0x441682[_0x1f8af9(0x1b4)]&&_0x441682[_0x1f8af9(0x1b9)]&&_0x441682[_0x1f8af9(0x1b4)]!=_0x3ed50f['width']&&_0x441682[_0x1f8af9(0x1b4)]>0x0&&(_0x3ed50f[_0x1f8af9(0x1b4)]=_0x441682['width'],_0x3ed50f['height']=_0x441682[_0x1f8af9(0x1b9)]),_0x53721f({'tags':_0x441682,'dealedIndexObj':_0x3ed50f});})[_0x1a2738(0x1bd)](_0x105fbf=>{_0x53721f({'tags':null,'dealedIndexObj':_0x3ed50f});});},exifUtils[_0x27c73d(0x1b3)]=function(_0x3e1780,_0xda6205,_0x442caf,_0x4a2307){const _0x58df51=_0x27c73d;let _0x3a0a63=![];try{exifr['parse'](_0x3e1780)[_0x58df51(0x1a9)](_0x327b14=>{const _0x2ec89d=_0x58df51;_0x327b14&&(_0xda6205[_0x2ec89d(0x1b1)]=_0x327b14['Model'],_0xda6205[_0x2ec89d(0x1c4)]=_0x327b14[_0x2ec89d(0x1c4)],_0xda6205[_0x2ec89d(0x1c3)]=_0x327b14['longitude'],_0xda6205['width']=_0x327b14[_0x2ec89d(0x1aa)]||_0x327b14['ExifImageWidth'],_0xda6205[_0x2ec89d(0x1b9)]=_0x327b14['ImageHeight']||_0x327b14[_0x2ec89d(0x1b6)],_0x3a0a63=_0x327b14[_0x2ec89d(0x1ac)],_0x327b14[_0x2ec89d(0x1a5)]&&!_0x3a0a63&&(_0x3a0a63=_0x327b14[_0x2ec89d(0x1a5)]));_0x3a0a63=mediaUtils[_0x2ec89d(0x1c2)](_0x3a0a63,_0xda6205[_0x2ec89d(0x1a4)]);function _0x4551a7(){const _0x515d88=_0x2ec89d;if(_0x3a0a63)try{_0x3a0a63=new Date(_0x3a0a63)['getTime'](),_0xda6205[_0x515d88(0x1b8)]=_0x3a0a63;}catch(_0x3554e1){console['log'](_0x3554e1),_0xda6205[_0x515d88(0x1b8)]='';}if(!_0xda6205[_0x515d88(0x1b4)]||!_0xda6205[_0x515d88(0x1b9)])return exifUtils[_0x515d88(0x1a7)](_0x3e1780,_0xda6205,_0x442caf,_0x4a2307);else _0x442caf({'tags':_0x327b14,'dealedIndexObj':_0xda6205});}sharp(_0x3e1780,{'failOnError':![]})[_0x2ec89d(0x1bc)]()[_0x2ec89d(0x1a9)](_0x4f6855=>{const _0x378f0b=_0x2ec89d;_0x4f6855[_0x378f0b(0x1b4)]&&_0x4f6855[_0x378f0b(0x1b9)]&&_0x4f6855[_0x378f0b(0x1b4)]!=_0xda6205[_0x378f0b(0x1b4)]&&_0x4f6855[_0x378f0b(0x1b4)]>0x0&&(_0xda6205[_0x378f0b(0x1b4)]=_0x4f6855['width'],_0xda6205[_0x378f0b(0x1b9)]=_0x4f6855[_0x378f0b(0x1b9)]),_0x4551a7();})[_0x2ec89d(0x1bd)](_0x516e07=>{const _0x50e7f3=_0x2ec89d;console[_0x50e7f3(0x1ab)](_0x516e07),_0x4551a7();});})[_0x58df51(0x1bd)](_0x5b38e5=>{const _0x471b25=_0x58df51;return console[_0x471b25(0x1ab)](_0x471b25(0x1b0),_0x5b38e5),exifUtils[_0x471b25(0x1a7)](_0x3e1780,_0xda6205,_0x442caf,_0x4a2307);});}catch(_0x20eabb){return console[_0x58df51(0x1ab)](_0x58df51(0x1b0),_0x20eabb),exifUtils[_0x58df51(0x1a7)](_0x3e1780,_0xda6205,_0x442caf,_0x4a2307);}},exifUtils[_0x27c73d(0x1c0)]=function(_0x3c64a8,_0x17401d){return new Promise((_0x293bb5,_0x2b1e5e)=>{const _0x4935de=_0x2e7f;exifUtils[_0x4935de(0x1b3)](_0x3c64a8,_0x17401d,_0x293bb5);return;});},module[_0x27c73d(0x1b2)]=exifUtils;