const _0x54a96d=_0x5707;(function(_0x13617e,_0x454114){const _0x399935=_0x5707,_0x11d7ed=_0x13617e();while(!![]){try{const _0x513ccb=parseInt(_0x399935(0x1e3))/0x1*(parseInt(_0x399935(0x1eb))/0x2)+-parseInt(_0x399935(0x1fe))/0x3+parseInt(_0x399935(0x205))/0x4+-parseInt(_0x399935(0x1f9))/0x5*(-parseInt(_0x399935(0x1ef))/0x6)+-parseInt(_0x399935(0x1f1))/0x7*(-parseInt(_0x399935(0x1ec))/0x8)+parseInt(_0x399935(0x1e8))/0x9+-parseInt(_0x399935(0x1ff))/0xa;if(_0x513ccb===_0x454114)break;else _0x11d7ed['push'](_0x11d7ed['shift']());}catch(_0xa19bb7){_0x11d7ed['push'](_0x11d7ed['shift']());}}}(_0x3350,0x45c1f));function _0x5707(_0x19317e,_0x36d2b1){const _0x33503d=_0x3350();return _0x5707=function(_0x5707e3,_0x59182e){_0x5707e3=_0x5707e3-0x1e3;let _0x24f60d=_0x33503d[_0x5707e3];return _0x24f60d;},_0x5707(_0x19317e,_0x36d2b1);}const path=require(_0x54a96d(0x206));let exifUtils={};var exifr=require(_0x54a96d(0x203));function _0x3350(){const _0x41c82d=['../utils/mediaUtils','height','1362QRkFPi','getTime','latitude','sharpGetExifInfo','then','3612483LKTOCX','180','exports','296fKxAcZ','2576HKQZnQ','ExifImageWidth','CreateDate','3582aLspzh','exifr异常','3115SRispz','originalTime','metadata','width','catch','indexOf','ExifImageHeight','log','2410xRtgJO','exifrGetExifInfo','getTimeFromFileName','filename','sharp','424422xsivfC','11039380dLSiMO','Model','CameraOrientation','longitude','exifr','getExifInfo','1988528wXeJDe','path'];_0x3350=function(){return _0x41c82d;};return _0x3350();}const sharp=require(_0x54a96d(0x1fd));let mediaUtils=require(_0x54a96d(0x207));exifUtils['getRotateFromTags']=function(_0x51c64d){const _0x17d365=_0x54a96d;let _0x3d3ce9=0x0;if(!_0x51c64d)return null;if(_0x51c64d['CameraOrientation']){if(_0x51c64d[_0x17d365(0x201)][_0x17d365(0x1f6)]('90')!=-0x1)_0x3d3ce9=0x5a;else{if(_0x51c64d['CameraOrientation'][_0x17d365(0x1f6)](_0x17d365(0x1e9))!=-0x1)_0x3d3ce9=0xb4;else _0x51c64d['CameraOrientation'][_0x17d365(0x1f6)]('270')!=-0x1&&(_0x3d3ce9=0x10e);}}return _0x3d3ce9;},exifUtils[_0x54a96d(0x1e6)]=function(_0x540828,_0x17cce6,_0x20fbe9,_0x11a0e9){const _0x3983f=_0x54a96d;sharp(_0x540828,{'failOnError':![]})[_0x3983f(0x1f3)]()[_0x3983f(0x1e7)](_0x589043=>{const _0x2a423c=_0x3983f;_0x589043[_0x2a423c(0x1f4)]&&_0x589043[_0x2a423c(0x208)]&&_0x589043[_0x2a423c(0x1f4)]!=_0x17cce6[_0x2a423c(0x1f4)]&&_0x589043['width']>0x0&&(_0x17cce6[_0x2a423c(0x1f4)]=_0x589043['width'],_0x17cce6[_0x2a423c(0x208)]=_0x589043[_0x2a423c(0x208)]),_0x20fbe9({'tags':_0x589043,'dealedIndexObj':_0x17cce6});})[_0x3983f(0x1f5)](_0x520800=>{_0x20fbe9({'tags':null,'dealedIndexObj':_0x17cce6});});},exifUtils['exifrGetExifInfo']=function(_0x1bcd5a,_0x51d5e7,_0x3014bd,_0x21f029){const _0x5e10cd=_0x54a96d;let _0x5c1be5=![];try{exifr['parse'](_0x1bcd5a)['then'](_0x20017a=>{const _0x17d1be=_0x5707;_0x20017a&&(_0x51d5e7['mode']=_0x20017a[_0x17d1be(0x200)],_0x51d5e7[_0x17d1be(0x1e5)]=_0x20017a['latitude'],_0x51d5e7[_0x17d1be(0x202)]=_0x20017a[_0x17d1be(0x202)],_0x51d5e7[_0x17d1be(0x1f4)]=_0x20017a['ImageWidth']||_0x20017a[_0x17d1be(0x1ed)],_0x51d5e7[_0x17d1be(0x208)]=_0x20017a['ImageHeight']||_0x20017a[_0x17d1be(0x1f7)],_0x5c1be5=_0x20017a['DateTimeOriginal'],_0x20017a['CreateDate']&&!_0x5c1be5&&(_0x5c1be5=_0x20017a[_0x17d1be(0x1ee)]));_0x5c1be5=mediaUtils[_0x17d1be(0x1fb)](_0x5c1be5,_0x51d5e7[_0x17d1be(0x1fc)]);function _0x3ab689(){const _0xcc7d26=_0x17d1be;if(_0x5c1be5)try{_0x5c1be5=new Date(_0x5c1be5)[_0xcc7d26(0x1e4)](),_0x51d5e7[_0xcc7d26(0x1f2)]=_0x5c1be5;}catch(_0xecb85c){console[_0xcc7d26(0x1f8)](_0xecb85c),_0x51d5e7[_0xcc7d26(0x1f2)]='';}if(!_0x51d5e7[_0xcc7d26(0x1f4)]||!_0x51d5e7['height'])return exifUtils['sharpGetExifInfo'](_0x1bcd5a,_0x51d5e7,_0x3014bd,_0x21f029);else _0x3014bd({'tags':_0x20017a,'dealedIndexObj':_0x51d5e7});}sharp(_0x1bcd5a,{'failOnError':![]})[_0x17d1be(0x1f3)]()['then'](_0xa35449=>{const _0x458d70=_0x17d1be;_0xa35449['width']&&_0xa35449['height']&&_0xa35449['width']!=_0x51d5e7['width']&&_0xa35449[_0x458d70(0x1f4)]>0x0&&(_0x51d5e7[_0x458d70(0x1f4)]=_0xa35449[_0x458d70(0x1f4)],_0x51d5e7['height']=_0xa35449['height']),_0x3ab689();})[_0x17d1be(0x1f5)](_0x46cbbe=>{console['log'](_0x46cbbe),_0x3ab689();});})['catch'](_0xb312f4=>{const _0x354a3b=_0x5707;return console[_0x354a3b(0x1f8)](_0x354a3b(0x1f0),_0xb312f4),exifUtils[_0x354a3b(0x1e6)](_0x1bcd5a,_0x51d5e7,_0x3014bd,_0x21f029);});}catch(_0x2891db){return console[_0x5e10cd(0x1f8)](_0x5e10cd(0x1f0),_0x2891db),exifUtils['sharpGetExifInfo'](_0x1bcd5a,_0x51d5e7,_0x3014bd,_0x21f029);}},exifUtils[_0x54a96d(0x204)]=function(_0x3b9258,_0xab6a8f){return new Promise((_0x210c2a,_0x47ee4c)=>{const _0x56f07a=_0x5707;exifUtils[_0x56f07a(0x1fa)](_0x3b9258,_0xab6a8f,_0x210c2a);return;});},module[_0x54a96d(0x1ea)]=exifUtils;