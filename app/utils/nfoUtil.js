function _0xec20(){const _0xf1d0a=['297129JlQWhH','genre','name','profile_path','storyline','getSeasonNumber','4442392kpjswF','.nfo','saveBookNfo','2394342PlRKLk','push','releasedate','../utils/movieInfoTmdbApi','12ctvBvT','guestActorsOriginal','language','vote_count','title','6216110atUnUt','biography','tmdbid','11GAHKEk','parseNfoTvSeries','path','douban_score','customrating','9ZhFcDr','movie_actor_array','year','sortname','tmdb_id','parse','isbn','publisher','readFile','basename','movie_alias','introduction','existsSync','filename','tagline','tvshow','movie_name','nfo缓存失败','is_tvplay','book','enddate','IMAGE_URL','saveNfoFile','494094kxnaae','../utils/movieSeasonUtil','directors','episode','guestactors','season.nfo','split','build','rating','showtitle','thumb','cover_url','writeFile','substring','original_name','actorsOriginal','log','localtitle','publish_date','creator','tvshow.nfo','tag','3324tyhmay','plot','artist','9287532SddyEm','season','creatorOriginal','length','actor','episodedetails','actors','905lacxKW','director','dirname','directorsOriginal','parseNfo','release_date','originaltitle','exports','vote_average','join','regions','originalname','nfo读取失败','nfoInfo.vote_average','movie','7NDipDH'];_0xec20=function(){return _0xf1d0a;};return _0xec20();}const _0x146264=_0x46da;(function(_0x1d3bcf,_0x4fe421){const _0x43e5a3=_0x46da,_0x4d194f=_0x1d3bcf();while(!![]){try{const _0x17b35f=-parseInt(_0x43e5a3(0xfb))/0x1+parseInt(_0x43e5a3(0x108))/0x2*(parseInt(_0x43e5a3(0x12c))/0x3)+-parseInt(_0x43e5a3(0xe1))/0x4*(-parseInt(_0x43e5a3(0xeb))/0x5)+parseInt(_0x43e5a3(0x104))/0x6+-parseInt(_0x43e5a3(0xfa))/0x7*(parseInt(_0x43e5a3(0x101))/0x8)+-parseInt(_0x43e5a3(0x115))/0x9*(-parseInt(_0x43e5a3(0x10d))/0xa)+parseInt(_0x43e5a3(0x110))/0xb*(-parseInt(_0x43e5a3(0xe4))/0xc);if(_0x17b35f===_0x4fe421)break;else _0x4d194f['push'](_0x4d194f['shift']());}catch(_0x5ae6b9){_0x4d194f['push'](_0x4d194f['shift']());}}}(_0xec20,0x8218e));let fs=require('fs'),path=require(_0x146264(0x112)),nfoUtil={},movieSeasonUtil=require(_0x146264(0x12d));function _0x46da(_0x27f481,_0x1e1bfb){const _0xec2088=_0xec20();return _0x46da=function(_0x46dabd,_0x5e776f){_0x46dabd=_0x46dabd-0xdc;let _0x1d8920=_0xec2088[_0x46dabd];return _0x1d8920;},_0x46da(_0x27f481,_0x1e1bfb);}const {XMLParser,XMLBuilder}=require('fast-xml-parser');let movieInfoTmdbApi=require(_0x146264(0x107));function doParse(_0x12f029,_0x467a74,_0x38ccd3,_0x415e2d){const _0x3a4409=_0x146264,_0x52ad2d=new XMLParser();function _0x144685(_0x4a9d26,_0x231233){const _0x3bb70a=_0x46da;function _0xc8d633(_0x2915ff){const _0x2e25a3=_0x46da;if(_0x2915ff['length']>0x0&&_0x2915ff[0x0]instanceof Object){let _0x330b80=[];for(let _0x5e8acc in _0x2915ff){let _0x486b99=_0x2915ff[_0x5e8acc];_0x330b80[_0x2e25a3(0x105)](_0x486b99['name']||_0x486b99[_0x2e25a3(0x10c)]);}return _0x330b80;}else return _0x2915ff;}if(!_0x4a9d26)return'';if(_0x4a9d26 instanceof Array){let _0x5831e9=_0xc8d633(_0x4a9d26);return _0x5831e9?_0x5831e9[_0x3bb70a(0xf4)]('\x20/\x20'):'';}else{if(_0x4a9d26 instanceof Object){let _0x448bfd=_0xc8d633([_0x4a9d26]);return _0x448bfd?_0x448bfd['join']('\x20/\x20'):'';}}return _0x4a9d26;}try{_0x38ccd3['nfoFullPath']=_0x415e2d;let _0xc88a43=_0x52ad2d[_0x3a4409(0x11a)](fs['readFileSync'](_0x415e2d));_0xc88a43['movie']||_0xc88a43[_0x3a4409(0xe9)]||_0xc88a43['tvshow']?(_0xc88a43=_0xc88a43[_0x3a4409(0xf9)]||_0xc88a43[_0x3a4409(0xe9)]||_0xc88a43[_0x3a4409(0x124)],_0x38ccd3={..._0x38ccd3,'movie_info_name':_0xc88a43[_0x3a4409(0x135)]||_0xc88a43['name']||_0xc88a43[_0x3a4409(0x10c)]||_0xc88a43[_0x3a4409(0xf1)]||_0xc88a43[_0x3a4409(0xdc)]||'','movie_alias':_0xc88a43[_0x3a4409(0x118)]||'','movie_regions':_0x144685(_0xc88a43['country']),'movie_language':_0x144685(_0xc88a43[_0x3a4409(0x10a)]),'movie_imdb_id':_0xc88a43['imdbid']||'','movie_genres':_0x144685(_0xc88a43['genre']),'movie_release_date':_0xc88a43[_0x3a4409(0x106)]||'','movie_end_date':_0xc88a43[_0x3a4409(0x129)]||'','movie_douban_id':_0xc88a43['doubanid']||'','movie_storyline':_0xc88a43[_0x3a4409(0xe2)]||_0xc88a43[_0x3a4409(0x10e)]||_0xc88a43['review']||'','movie_douban_score':_0xc88a43[_0x3a4409(0x113)]||_0xc88a43[_0x3a4409(0x134)]||_0xc88a43[_0x3a4409(0x114)]||0x0,'movie_year':_0xc88a43[_0x3a4409(0x117)]||'','tagline':_0xc88a43[_0x3a4409(0x123)]||'','movie_actor':_0x144685(_0xc88a43[_0x3a4409(0xe8)]),'movie_creator':_0x144685(_0xc88a43[_0x3a4409(0xde)]),'movie_director':_0x144685(_0xc88a43[_0x3a4409(0xec)]),'movie_tags':_0x144685(_0xc88a43['tag']),'season_number':_0xc88a43[_0x3a4409(0xe5)]||'','episode_number':_0xc88a43[_0x3a4409(0x12f)]||''},_0xc88a43[_0x3a4409(0xe8)]instanceof Array&&_0xc88a43['actor'][_0x3a4409(0xe7)]>0x0&&(_0xc88a43[_0x3a4409(0xe8)][0x0]instanceof Object&&(_0x38ccd3[_0x3a4409(0x116)]=_0xc88a43[_0x3a4409(0xe8)])),_0xc88a43[_0x3a4409(0xec)]instanceof Array&&_0xc88a43[_0x3a4409(0xec)][_0x3a4409(0xe7)]>0x0&&(_0xc88a43['director'][0x0]instanceof Object&&(_0x38ccd3['movie_director_array']=_0xc88a43[_0x3a4409(0xec)])),_0x12f029(_0x38ccd3)):_0x467a74();}catch(_0x6ac42d){_0x467a74(_0x6ac42d);}}nfoUtil[_0x146264(0xef)]=function(_0x353750,_0xacde2e,_0x27b711){return new Promise((_0x4d6859,_0x529688)=>{const _0x1d0340=_0x46da;let _0x33ca16=_0x353750[_0x1d0340(0x122)];if(_0xacde2e){let {name:_0x44d254}=path[_0x1d0340(0x11a)](_0x33ca16);_0x33ca16=_0x44d254;}let _0x12886b,_0x3e002b;if(_0x353750['is_tvplay']==0x1&&!_0x27b711){_0x12886b=path[_0x1d0340(0xf4)](_0x353750[_0x1d0340(0x112)],_0x1d0340(0xdf)),_0x3e002b=fs[_0x1d0340(0x121)](_0x12886b);let _0x4696b3=path[_0x1d0340(0x11e)](_0x353750['path']),_0x4896c9=movieSeasonUtil[_0x1d0340(0x100)](_0x4696b3);_0x4896c9>0x0&&(_0x353750['seasonNumber']=_0x4896c9,_0x12886b=path[_0x1d0340(0xf4)](_0x353750['path'],_0x1d0340(0x131)),_0x3e002b=fs['existsSync'](_0x12886b),!_0x3e002b&&(_0x12886b=path['join'](path[_0x1d0340(0xed)](_0x353750[_0x1d0340(0x112)]),_0x1d0340(0xdf)),_0x3e002b=fs[_0x1d0340(0x121)](_0x12886b)));}else _0x12886b=path[_0x1d0340(0xf4)](_0x353750['path'],_0x33ca16+_0x1d0340(0x102)),_0x3e002b=fs[_0x1d0340(0x121)](_0x12886b);if(!_0x3e002b)return _0x529688();doParse(_0x4d6859,_0x529688,_0x353750,_0x12886b);});},nfoUtil[_0x146264(0x111)]=function(_0x268af2){return new Promise((_0x4a5035,_0x5d2f8e)=>{const _0x452d7f=_0x46da;let _0x19bc4c,_0x205f9e;if(_0x268af2[_0x452d7f(0x127)]==0x1){let _0x4ed29e=path[_0x452d7f(0x11e)](_0x268af2[_0x452d7f(0x112)]),_0x3d374a=movieSeasonUtil[_0x452d7f(0x100)](_0x4ed29e);_0x3d374a>0x0&&(_0x19bc4c=path[_0x452d7f(0xf4)](path[_0x452d7f(0xed)](_0x268af2['path']),_0x452d7f(0xdf)),_0x205f9e=fs['existsSync'](_0x19bc4c)),!_0x205f9e&&(_0x19bc4c=path['join'](_0x268af2[_0x452d7f(0x112)],_0x452d7f(0xdf)),_0x205f9e=fs[_0x452d7f(0x121)](_0x19bc4c));}if(!_0x205f9e)return _0x5d2f8e();doParse(_0x4a5035,_0x5d2f8e,_0x268af2,_0x19bc4c);});},nfoUtil[_0x146264(0x12b)]=function(_0x29e5e2,_0x317479,_0x5ee763=_0x146264(0xf9)){return new Promise((_0x57fc94,_0x2dccef)=>{const _0x4be614=_0x46da;try{let _0x19a473={'title':_0x29e5e2[_0x4be614(0x125)]||'','name':_0x29e5e2['movie_name']||'','sortname':_0x29e5e2[_0x4be614(0x11f)]||'','tmdbid':_0x29e5e2[_0x4be614(0x119)]||'','imdbid':_0x29e5e2['movie_imdb_id']||'','releasedate':_0x29e5e2[_0x4be614(0xf0)]||'','enddate':_0x29e5e2[_0x4be614(0x129)]||'','biography':_0x29e5e2[_0x4be614(0xff)]||'','year':_0x29e5e2['year']||''};_0x19a473[_0x4be614(0x10a)]=_0x29e5e2['languages']?_0x29e5e2['languages'][_0x4be614(0x132)]('/'):[],_0x19a473['country']=_0x29e5e2[_0x4be614(0xf5)]?_0x29e5e2['regions']['split']('/'):[],_0x19a473[_0x4be614(0xfc)]=_0x29e5e2['genres']?_0x29e5e2['genres']['split']('/'):[];if(_0x29e5e2['actorsOriginal']&&_0x29e5e2['actorsOriginal'][_0x4be614(0xe7)]>0x0){_0x19a473[_0x4be614(0xe8)]=[];for(let _0x35fdf8 of _0x29e5e2[_0x4be614(0x13b)]){let _0xce1054={};_0x35fdf8[_0x4be614(0xfd)]&&(_0xce1054[_0x4be614(0xfd)]=_0x35fdf8[_0x4be614(0xfd)]),_0x35fdf8[_0x4be614(0x13a)]&&(_0xce1054[_0x4be614(0xf6)]=_0x35fdf8[_0x4be614(0x13a)]),_0x35fdf8[_0x4be614(0xfe)]&&(_0xce1054['thumb']=movieInfoTmdbApi[_0x4be614(0x12a)]+_0x35fdf8['profile_path']),_0x35fdf8['id']&&(_0xce1054[_0x4be614(0x10f)]=_0x35fdf8['id']),_0x19a473[_0x4be614(0xe8)][_0x4be614(0x105)](_0xce1054);}}else _0x19a473['actor']=_0x29e5e2[_0x4be614(0xea)]?_0x29e5e2[_0x4be614(0xea)][_0x4be614(0x132)]('/'):[];if(_0x29e5e2[_0x4be614(0xee)]&&_0x29e5e2['directorsOriginal'][_0x4be614(0xe7)]>0x0){_0x19a473[_0x4be614(0xec)]=[];for(let _0x1c4c9c of _0x29e5e2[_0x4be614(0xee)]){let _0x32af61={};_0x1c4c9c[_0x4be614(0xfd)]&&(_0x32af61[_0x4be614(0xfd)]=_0x1c4c9c['name']),_0x1c4c9c[_0x4be614(0x13a)]&&(_0x32af61['originalname']=_0x1c4c9c['original_name']),_0x1c4c9c[_0x4be614(0xfe)]&&(_0x32af61[_0x4be614(0x136)]=movieInfoTmdbApi[_0x4be614(0x12a)]+_0x1c4c9c[_0x4be614(0xfe)]),_0x1c4c9c['id']&&(_0x32af61[_0x4be614(0x10f)]=_0x1c4c9c['id']),_0x19a473[_0x4be614(0xec)][_0x4be614(0x105)](_0x32af61);}}else _0x19a473[_0x4be614(0xec)]=_0x29e5e2['directors']?_0x29e5e2[_0x4be614(0x12e)][_0x4be614(0x132)]('/'):[];if(_0x29e5e2['creatorOriginal']&&_0x29e5e2['creatorOriginal']['length']>0x0){_0x19a473['creator']=[];for(let _0x31b36e of _0x29e5e2[_0x4be614(0xe6)]){let _0x1685d9={};_0x31b36e[_0x4be614(0xfd)]&&(_0x1685d9['name']=_0x31b36e['name']),_0x31b36e[_0x4be614(0x13a)]&&(_0x1685d9[_0x4be614(0xf6)]=_0x31b36e[_0x4be614(0x13a)]),_0x31b36e[_0x4be614(0xfe)]&&(_0x1685d9['thumb']=movieInfoTmdbApi[_0x4be614(0x12a)]+_0x31b36e['profile_path']),_0x31b36e['id']&&(_0x1685d9[_0x4be614(0x10f)]=_0x31b36e['id']),_0x19a473['creator'][_0x4be614(0x105)](_0x1685d9);}}else _0x19a473[_0x4be614(0xde)]=_0x29e5e2[_0x4be614(0xde)]?_0x29e5e2[_0x4be614(0xde)][_0x4be614(0x132)]('/'):[];if(_0x29e5e2['guestActorsOriginal']&&_0x29e5e2[_0x4be614(0x109)][_0x4be614(0xe7)]>0x0){_0x19a473[_0x4be614(0x130)]=[];for(let _0x579779 of _0x29e5e2[_0x4be614(0x109)]){let _0x509add={};_0x579779[_0x4be614(0xfd)]&&(_0x509add[_0x4be614(0xfd)]=_0x579779['name']),_0x579779['original_name']&&(_0x509add[_0x4be614(0xf6)]=_0x579779[_0x4be614(0x13a)]),_0x579779[_0x4be614(0xfe)]&&(_0x509add[_0x4be614(0x136)]=movieInfoTmdbApi[_0x4be614(0x12a)]+_0x579779['profile_path']),_0x579779['id']&&(_0x509add['tmdbid']=_0x579779['id']),_0x19a473['guestactors'][_0x4be614(0x105)](_0x509add);}}else _0x19a473[_0x4be614(0x130)]=_0x29e5e2[_0x4be614(0x130)]?_0x29e5e2[_0x4be614(0x130)]['split']('/'):[];_0x29e5e2['episode']&&(_0x19a473[_0x4be614(0x12f)]=_0x29e5e2[_0x4be614(0x12f)]);_0x29e5e2['season']&&(_0x19a473[_0x4be614(0xe5)]=_0x29e5e2[_0x4be614(0xe5)]);_0x29e5e2[_0x4be614(0x135)]&&(_0x19a473[_0x4be614(0x135)]=_0x29e5e2['showtitle']);_0x29e5e2['cover_url']&&(_0x19a473['thumb']=_0x29e5e2[_0x4be614(0x137)]);console['log'](_0x4be614(0xf8),_0x29e5e2['vote_average']);_0x29e5e2[_0x4be614(0xf3)]&&(_0x19a473['rating']=_0x29e5e2[_0x4be614(0xf3)]);_0x29e5e2[_0x4be614(0x123)]&&(_0x19a473[_0x4be614(0x123)]=_0x29e5e2[_0x4be614(0x123)]);_0x29e5e2[_0x4be614(0x10b)]&&(_0x19a473[_0x4be614(0x10b)]=_0x29e5e2[_0x4be614(0x10b)]);const _0x3e0306=new XMLBuilder();let _0xb59a8b={};_0xb59a8b[_0x5ee763]=_0x19a473;const _0x36ee1c=_0x3e0306['build'](_0xb59a8b);fs[_0x4be614(0x138)](_0x317479,_0x36ee1c,_0x27c4cc=>{_0x57fc94();});}catch(_0x5d9944){console[_0x4be614(0x13c)](_0x4be614(0x126),_0x317479,_0x5d9944),_0x57fc94();}});},nfoUtil[_0x146264(0x103)]=function(_0x2be9ee,_0x3c6dbd){return new Promise((_0x872c2,_0x1924da)=>{const _0x44c263=_0x46da;try{let _0x87440e={'title':_0x2be9ee[_0x44c263(0x10c)]?_0x2be9ee[_0x44c263(0x10c)]:'','publish_date':_0x2be9ee['publish_date']?_0x2be9ee[_0x44c263(0xdd)]:'','year':_0x2be9ee['year']?_0x2be9ee['year']:'','isbn':_0x2be9ee[_0x44c263(0x11b)]?_0x2be9ee[_0x44c263(0x11b)]:''};_0x87440e[_0x44c263(0x10a)]=_0x2be9ee[_0x44c263(0x10a)]?_0x2be9ee[_0x44c263(0x10a)]:'',_0x87440e[_0x44c263(0xfc)]=_0x2be9ee[_0x44c263(0xfc)]?_0x2be9ee[_0x44c263(0xfc)]:'',_0x87440e[_0x44c263(0xe0)]=_0x2be9ee[_0x44c263(0xe0)]?_0x2be9ee[_0x44c263(0xe0)]:'',_0x87440e[_0x44c263(0x11c)]=_0x2be9ee[_0x44c263(0x11c)]?_0x2be9ee['publisher']:'',_0x87440e[_0x44c263(0xe3)]=_0x2be9ee[_0x44c263(0xe3)]?_0x2be9ee[_0x44c263(0xe3)]:'',_0x87440e[_0x44c263(0x120)]=_0x2be9ee[_0x44c263(0x120)]?_0x2be9ee['introduction']:'';const _0x44ddc1=new XMLBuilder(),_0x14614b=_0x44ddc1[_0x44c263(0x133)]({'book':_0x87440e});fs[_0x44c263(0x138)](_0x3c6dbd,_0x14614b,_0x3b61c8=>{_0x872c2();});}catch(_0x20e505){console[_0x44c263(0x13c)](_0x44c263(0x126),_0x3c6dbd,_0x20e505),_0x1924da();}});},nfoUtil['restoreBookNfo']=function(_0x30d18e){return new Promise((_0x5c4e2f,_0x119f57)=>{const _0x56a6f1=_0x46da;try{let _0x5a2929=path[_0x56a6f1(0xf4)](_0x30d18e[_0x56a6f1(0x112)],_0x30d18e[_0x56a6f1(0x122)]),_0x455bc6=_0x5a2929[_0x56a6f1(0x139)](0x0,_0x5a2929['lastIndexOf']('.'))+_0x56a6f1(0x102);const _0x21e0e0=require('fs'),_0x4d1a00=new XMLParser();_0x21e0e0['stat'](_0x455bc6,(_0x1326db,_0x141e3a)=>{const _0x4708ee=_0x56a6f1;if(_0x1326db)return _0x119f57();_0x21e0e0[_0x4708ee(0x11d)](_0x455bc6,(_0x3ed0ee,_0x5d66af)=>{const _0x1ecc71=_0x4708ee;if(_0x3ed0ee)return _0x119f57();let _0x4d447b=_0x4d1a00['parse'](_0x5d66af);if(_0x4d447b[_0x1ecc71(0x128)]){let _0x50c152=_0x4d447b[_0x1ecc71(0x128)];_0x50c152[_0x1ecc71(0x10c)]&&(_0x30d18e[_0x1ecc71(0x10c)]=_0x50c152['title']),_0x50c152[_0x1ecc71(0x117)]&&(_0x30d18e[_0x1ecc71(0x117)]=_0x50c152[_0x1ecc71(0x117)]),_0x50c152[_0x1ecc71(0xdd)]&&(_0x30d18e[_0x1ecc71(0xdd)]=_0x50c152[_0x1ecc71(0xdd)]),_0x50c152['isbn']&&(_0x30d18e['isbn']=_0x50c152[_0x1ecc71(0x11b)]),_0x50c152['language']&&(_0x30d18e[_0x1ecc71(0x10a)]=_0x50c152[_0x1ecc71(0x10a)]),_0x50c152[_0x1ecc71(0xe0)]&&(_0x30d18e['tag']=_0x50c152[_0x1ecc71(0xe0)]),_0x50c152[_0x1ecc71(0x11c)]&&(_0x30d18e['publisher']=_0x50c152['publisher']),_0x50c152[_0x1ecc71(0xe3)]&&(_0x30d18e[_0x1ecc71(0xe3)]=_0x50c152['artist']),_0x50c152['introduction']&&(_0x30d18e['introduction']=_0x50c152['introduction']);}_0x5c4e2f(_0x30d18e);});});}catch(_0x24af33){console[_0x56a6f1(0x13c)](_0x56a6f1(0xf7),_0x24af33),_0x119f57();}});},module[_0x146264(0xf2)]=nfoUtil;