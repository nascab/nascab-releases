const _0x4aeb12=_0x350e;(function(_0x565af7,_0x424e7c){const _0x2d0185=_0x350e,_0x418914=_0x565af7();while(!![]){try{const _0x2b0a71=-parseInt(_0x2d0185(0x14c))/0x1+-parseInt(_0x2d0185(0x13b))/0x2*(parseInt(_0x2d0185(0x12e))/0x3)+-parseInt(_0x2d0185(0x132))/0x4+parseInt(_0x2d0185(0x131))/0x5*(-parseInt(_0x2d0185(0x144))/0x6)+-parseInt(_0x2d0185(0x12d))/0x7+-parseInt(_0x2d0185(0x13f))/0x8*(-parseInt(_0x2d0185(0x130))/0x9)+parseInt(_0x2d0185(0x147))/0xa*(parseInt(_0x2d0185(0x149))/0xb);if(_0x2b0a71===_0x424e7c)break;else _0x418914['push'](_0x418914['shift']());}catch(_0x5220be){_0x418914['push'](_0x418914['shift']());}}}(_0x1ea1,0x46505));function _0x350e(_0x472c88,_0x518dde){const _0x1ea1f6=_0x1ea1();return _0x350e=function(_0x350ec0,_0x5bdd87){_0x350ec0=_0x350ec0-0x12c;let _0x7614a5=_0x1ea1f6[_0x350ec0];return _0x7614a5;},_0x350e(_0x472c88,_0x518dde);}const path=require('path');function _0x1ea1(){const _0x1d1302=['manifest','window','end','querySelectorAll','1438976EOJVcF','1492278uOYizN','parse','27mWOVfd','40IvaNUZ','15404kPLTVd','flow','toLowerCase','replaceAll','push','未找到epub清单文件','getEpubFile','exports','document','2iCyDgX','log','../','img','1026448tQtNTU','hasOwnProperty','getFile','href','src','109734qoUkUo','getEpubImageList','forEach','20VnfejU','.jpg','6528082pWcdhi','.html','getAttribute','430680riNSJE'];_0x1ea1=function(){return _0x1d1302;};return _0x1ea1();}let zipEpubUtil={};const sharp=require('sharp'),fs=require('fs'),config=require('../myConfig/config'),EPub=require('epub'),{JSDOM}=require('jsdom');zipEpubUtil[_0x4aeb12(0x138)]=(_0x337677,_0x102d55)=>{return new Promise((_0x227875,_0x1fe51a)=>{const _0x485195=_0x350e;_0x337677[_0x485195(0x141)](_0x102d55,(_0xd0b8a7,_0x1d97d6,_0x5836bb)=>{if(_0xd0b8a7)return _0x227875(null);_0x227875(_0x1d97d6,_0x5836bb);});});},zipEpubUtil[_0x4aeb12(0x145)]=_0x61d4d1=>{return new Promise(async(_0x5ee030,_0x29363f)=>{const _0x17c0f1=_0x350e;let _0x59b0b8=[],_0x563d36=new EPub(_0x61d4d1);_0x563d36['on'](_0x17c0f1(0x14f),async()=>{const _0x398f8b=_0x17c0f1;!_0x563d36[_0x398f8b(0x133)]&&console['log'](_0x398f8b(0x137));for(let _0x533d0 of _0x563d36['flow']){if(!_0x533d0[_0x398f8b(0x142)]||!_0x533d0['id'])continue;let _0x9d62c9=path['extname'](_0x533d0[_0x398f8b(0x142)]);if(!_0x9d62c9)continue;_0x9d62c9=_0x9d62c9[_0x398f8b(0x134)]();if(_0x9d62c9==_0x398f8b(0x14a)){let _0x578e1b=await zipEpubUtil[_0x398f8b(0x138)](_0x563d36,_0x533d0['id']);try{const _0x1884fc=new JSDOM(_0x578e1b),_0x4a8cb5=_0x1884fc[_0x398f8b(0x14e)][_0x398f8b(0x13a)],_0x4271bc=_0x4a8cb5[_0x398f8b(0x12c)](_0x398f8b(0x13e));_0x4271bc[_0x398f8b(0x146)](_0x49f659=>{const _0x138294=_0x398f8b;let _0x3a506b=_0x49f659[_0x138294(0x14b)](_0x138294(0x143));_0x3a506b&&(_0x3a506b=_0x3a506b[_0x138294(0x135)](_0x138294(0x13d),''),_0x59b0b8[_0x138294(0x136)](_0x3a506b));});}catch(_0x20be6a){console[_0x398f8b(0x13c)](_0x20be6a);}}else{if(_0x9d62c9==_0x398f8b(0x148)){let _0x13bd3c=_0x533d0[_0x398f8b(0x142)][_0x398f8b(0x135)](_0x398f8b(0x13d),'');_0x59b0b8[_0x398f8b(0x136)](_0x13bd3c);}}}let _0x579d1e=[];if(_0x563d36[_0x398f8b(0x14d)]&&_0x563d36['manifest']instanceof Object)for(let _0x1244c8 of _0x59b0b8){for(const _0x54dc84 in _0x563d36[_0x398f8b(0x14d)]){if(_0x563d36[_0x398f8b(0x14d)][_0x398f8b(0x140)](_0x54dc84)){let _0x17fb5f=_0x563d36[_0x398f8b(0x14d)][_0x54dc84];if(_0x17fb5f[_0x398f8b(0x142)]&&(_0x17fb5f[_0x398f8b(0x142)]==_0x1244c8||_0x17fb5f[_0x398f8b(0x142)]['endsWith']('/'+_0x1244c8))){_0x579d1e['push'](_0x17fb5f['href']);break;}}}}else _0x579d1e=_0x59b0b8;_0x5ee030(_0x579d1e);}),_0x563d36[_0x17c0f1(0x12f)]();});},module[_0x4aeb12(0x139)]=zipEpubUtil;