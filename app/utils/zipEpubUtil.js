const _0x3fede2=_0x3ee7;(function(_0x36be11,_0x2f507){const _0x132273=_0x3ee7,_0x1b43db=_0x36be11();while(!![]){try{const _0x5a8f9e=-parseInt(_0x132273(0x195))/0x1+-parseInt(_0x132273(0x196))/0x2*(parseInt(_0x132273(0x19f))/0x3)+parseInt(_0x132273(0x193))/0x4*(-parseInt(_0x132273(0x1a5))/0x5)+-parseInt(_0x132273(0x197))/0x6+-parseInt(_0x132273(0x19e))/0x7*(parseInt(_0x132273(0x199))/0x8)+parseInt(_0x132273(0x191))/0x9*(parseInt(_0x132273(0x1ab))/0xa)+parseInt(_0x132273(0x1a8))/0xb;if(_0x5a8f9e===_0x2f507)break;else _0x1b43db['push'](_0x1b43db['shift']());}catch(_0x2851c5){_0x1b43db['push'](_0x1b43db['shift']());}}}(_0x2368,0xd970d));function _0x3ee7(_0x15ea46,_0xf1daed){const _0x2368a6=_0x2368();return _0x3ee7=function(_0x3ee798,_0x25cc4d){_0x3ee798=_0x3ee798-0x18d;let _0x5960bd=_0x2368a6[_0x3ee798];return _0x5960bd;},_0x3ee7(_0x15ea46,_0xf1daed);}const path=require('path');let zipEpubUtil={};const sharp=require('sharp'),fs=require('fs'),config=require(_0x3fede2(0x1aa)),EPub=require(_0x3fede2(0x194)),{JSDOM}=require(_0x3fede2(0x1ae));zipEpubUtil['getEpubFile']=(_0x461f5d,_0x353318)=>{return new Promise((_0x3dc90d,_0x252ffa)=>{const _0x17acac=_0x3ee7;_0x461f5d[_0x17acac(0x1a6)](_0x353318,(_0x17bc5d,_0x40177f,_0x32e24e)=>{if(_0x17bc5d)return _0x3dc90d(null);_0x3dc90d(_0x40177f,_0x32e24e);});});},zipEpubUtil[_0x3fede2(0x1b1)]=_0x54ca08=>{return new Promise(async(_0x5d9386,_0x10d1bb)=>{const _0x37c6cd=_0x3ee7;let _0x5b350a=[],_0x4324eb=new EPub(_0x54ca08);_0x4324eb['on']('end',async()=>{const _0x1faae0=_0x3ee7;!_0x4324eb[_0x1faae0(0x192)]&&console[_0x1faae0(0x1af)](_0x1faae0(0x18d));for(let _0x13c3eb of _0x4324eb[_0x1faae0(0x192)]){if(!_0x13c3eb[_0x1faae0(0x18e)]||!_0x13c3eb['id'])continue;let _0x1d3fcf=path[_0x1faae0(0x1b0)](_0x13c3eb[_0x1faae0(0x18e)]);if(!_0x1d3fcf)continue;_0x1d3fcf=_0x1d3fcf[_0x1faae0(0x19b)]();if(_0x1d3fcf==_0x1faae0(0x1a4)){let _0x34e80c=await zipEpubUtil[_0x1faae0(0x198)](_0x4324eb,_0x13c3eb['id']);try{const _0x3d90dd=new JSDOM(_0x34e80c),_0xb0b6ae=_0x3d90dd[_0x1faae0(0x190)][_0x1faae0(0x1a2)],_0x3c8439=_0xb0b6ae[_0x1faae0(0x1a3)](_0x1faae0(0x1ac));_0x3c8439['forEach'](_0x4433f1=>{const _0x29b53e=_0x1faae0;let _0x440aa7=_0x4433f1[_0x29b53e(0x19d)]('src');_0x440aa7&&(_0x440aa7=_0x440aa7['replaceAll'](_0x29b53e(0x18f),''),_0x5b350a[_0x29b53e(0x1a7)](_0x440aa7));});}catch(_0x7615e0){console['log'](_0x7615e0);}}else{if(_0x1d3fcf==_0x1faae0(0x19c)){let _0x80d880=_0x13c3eb[_0x1faae0(0x18e)][_0x1faae0(0x1a1)]('../','');_0x5b350a[_0x1faae0(0x1a7)](_0x80d880);}}}let _0x24b0a0=[];if(_0x4324eb['manifest']&&_0x4324eb[_0x1faae0(0x1a0)]instanceof Object)for(let _0x5f15c2 of _0x5b350a){for(const _0x48a3e9 in _0x4324eb[_0x1faae0(0x1a0)]){if(_0x4324eb[_0x1faae0(0x1a0)][_0x1faae0(0x1ad)](_0x48a3e9)){let _0x126cb1=_0x4324eb[_0x1faae0(0x1a0)][_0x48a3e9];if(_0x126cb1[_0x1faae0(0x18e)]&&(_0x126cb1[_0x1faae0(0x18e)]==_0x5f15c2||_0x126cb1['href']['endsWith']('/'+_0x5f15c2))){_0x24b0a0['push'](_0x126cb1[_0x1faae0(0x18e)]);break;}}}}else _0x24b0a0=_0x5b350a;_0x5d9386(_0x24b0a0);}),_0x4324eb[_0x37c6cd(0x19a)]();});},module[_0x3fede2(0x1a9)]=zipEpubUtil;function _0x2368(){const _0x2261ae=['log','extname','getEpubImageList','未找到epub清单文件','href','../','window','27GKTlBL','flow','4UpHDri','epub','994190gDfZLk','6OcMxol','4826460KZlDYA','getEpubFile','16JacFzI','parse','toLowerCase','.jpg','getAttribute','4557175yBqiXI','463014mMlUNb','manifest','replaceAll','document','querySelectorAll','.html','4887220bwofiT','getFile','push','44796334PjPpFC','exports','../myConfig/config','4531170IaLxin','img','hasOwnProperty','jsdom'];_0x2368=function(){return _0x2261ae;};return _0x2368();}