const _0xc79a6=_0x14b2;(function(_0xfdfb63,_0x55d2d9){const _0x1a0343=_0x14b2,_0x2aa511=_0xfdfb63();while(!![]){try{const _0x5d3c72=parseInt(_0x1a0343(0x1ba))/0x1*(-parseInt(_0x1a0343(0x1b1))/0x2)+-parseInt(_0x1a0343(0x1a3))/0x3+-parseInt(_0x1a0343(0x1a4))/0x4+parseInt(_0x1a0343(0x1b6))/0x5*(-parseInt(_0x1a0343(0x1ae))/0x6)+parseInt(_0x1a0343(0x1ac))/0x7+parseInt(_0x1a0343(0x1b7))/0x8+-parseInt(_0x1a0343(0x19f))/0x9*(-parseInt(_0x1a0343(0x1af))/0xa);if(_0x5d3c72===_0x55d2d9)break;else _0x2aa511['push'](_0x2aa511['shift']());}catch(_0x23a17a){_0x2aa511['push'](_0x2aa511['shift']());}}}(_0xfcb4,0x48d55));function _0x14b2(_0xa506b2,_0x76f387){const _0xfcb4f1=_0xfcb4();return _0x14b2=function(_0x14b228,_0x52009b){_0x14b228=_0x14b228-0x197;let _0x1279a3=_0xfcb4f1[_0x14b228];return _0x1279a3;},_0x14b2(_0xa506b2,_0x76f387);}function _0xfcb4(){const _0x453de6=['1654236NCIqJr','1512456ZDZdgy','exports','querySelectorAll','epub','img','log','getEpubFile','.html','1841868eeIpxB','hasOwnProperty','1182fEdBhX','70xriebW','sharp','2tpDtpe','endsWith','getAttribute','push','parse','7405UbwxHB','2475848inHmsM','../','../myConfig/config','50749FZAKnm','path','flow','manifest','window','getFile','href','.jpg','replaceAll','getEpubImageList','jsdom','end','1282824XtAbgV','extname','src','document'];_0xfcb4=function(){return _0x453de6;};return _0xfcb4();}const path=require(_0xc79a6(0x1bb));let zipEpubUtil={};const sharp=require(_0xc79a6(0x1b0)),fs=require('fs'),config=require(_0xc79a6(0x1b9)),EPub=require(_0xc79a6(0x1a7)),{JSDOM}=require(_0xc79a6(0x19d));zipEpubUtil[_0xc79a6(0x1aa)]=(_0x3e3302,_0x59050a)=>{return new Promise((_0x25cd1f,_0x3c781e)=>{const _0x58d708=_0x14b2;_0x3e3302[_0x58d708(0x198)](_0x59050a,(_0x307163,_0x24aeee,_0x401b82)=>{if(_0x307163)return _0x25cd1f(null);_0x25cd1f(_0x24aeee,_0x401b82);});});},zipEpubUtil[_0xc79a6(0x19c)]=_0x55b9a4=>{return new Promise(async(_0x1b02d7,_0x4e05b3)=>{const _0x4acf92=_0x14b2;let _0x3e2a95=[],_0xe0ce3a=new EPub(_0x55b9a4);_0xe0ce3a['on'](_0x4acf92(0x19e),async()=>{const _0xa01861=_0x4acf92;!_0xe0ce3a[_0xa01861(0x1bc)]&&console['log']('未找到epub清单文件');for(let _0x283d85 of _0xe0ce3a['flow']){if(!_0x283d85[_0xa01861(0x199)]||!_0x283d85['id'])continue;let _0x377bcd=path[_0xa01861(0x1a0)](_0x283d85[_0xa01861(0x199)]);if(!_0x377bcd)continue;_0x377bcd=_0x377bcd['toLowerCase']();if(_0x377bcd==_0xa01861(0x1ab)){let _0x155260=await zipEpubUtil[_0xa01861(0x1aa)](_0xe0ce3a,_0x283d85['id']);try{const _0xd4daa0=new JSDOM(_0x155260),_0x4c50a0=_0xd4daa0[_0xa01861(0x197)][_0xa01861(0x1a2)],_0x31f9fb=_0x4c50a0[_0xa01861(0x1a6)](_0xa01861(0x1a8));_0x31f9fb['forEach'](_0x584f7c=>{const _0xfb2ceb=_0xa01861;let _0x1dd80d=_0x584f7c[_0xfb2ceb(0x1b3)](_0xfb2ceb(0x1a1));_0x1dd80d&&(_0x1dd80d=_0x1dd80d[_0xfb2ceb(0x19b)](_0xfb2ceb(0x1b8),''),_0x3e2a95[_0xfb2ceb(0x1b4)](_0x1dd80d));});}catch(_0x425f03){console[_0xa01861(0x1a9)](_0x425f03);}}else{if(_0x377bcd==_0xa01861(0x19a)){let _0x6dd747=_0x283d85['href'][_0xa01861(0x19b)]('../','');_0x3e2a95[_0xa01861(0x1b4)](_0x6dd747);}}}let _0x155c7e=[];if(_0xe0ce3a['manifest']&&_0xe0ce3a[_0xa01861(0x1bd)]instanceof Object)for(let _0x37d17b of _0x3e2a95){for(const _0x22f7fd in _0xe0ce3a[_0xa01861(0x1bd)]){if(_0xe0ce3a[_0xa01861(0x1bd)][_0xa01861(0x1ad)](_0x22f7fd)){let _0x517bf9=_0xe0ce3a[_0xa01861(0x1bd)][_0x22f7fd];if(_0x517bf9['href']&&(_0x517bf9['href']==_0x37d17b||_0x517bf9[_0xa01861(0x199)][_0xa01861(0x1b2)]('/'+_0x37d17b))){_0x155c7e['push'](_0x517bf9['href']);break;}}}}else _0x155c7e=_0x3e2a95;_0x1b02d7(_0x155c7e);}),_0xe0ce3a[_0x4acf92(0x1b5)]();});},module[_0xc79a6(0x1a5)]=zipEpubUtil;