const _0x27f735=_0x2148;(function(_0x13d268,_0xfd3f7b){const _0x5cb8a8=_0x2148,_0x875ba1=_0x13d268();while(!![]){try{const _0x53722e=-parseInt(_0x5cb8a8(0x198))/0x1*(-parseInt(_0x5cb8a8(0x169))/0x2)+parseInt(_0x5cb8a8(0x164))/0x3*(parseInt(_0x5cb8a8(0x1a7))/0x4)+-parseInt(_0x5cb8a8(0x174))/0x5+parseInt(_0x5cb8a8(0x188))/0x6*(parseInt(_0x5cb8a8(0x19f))/0x7)+parseInt(_0x5cb8a8(0x1af))/0x8*(-parseInt(_0x5cb8a8(0x171))/0x9)+parseInt(_0x5cb8a8(0x17a))/0xa*(parseInt(_0x5cb8a8(0x19a))/0xb)+parseInt(_0x5cb8a8(0x17d))/0xc;if(_0x53722e===_0xfd3f7b)break;else _0x875ba1['push'](_0x875ba1['shift']());}catch(_0x26c707){_0x875ba1['push'](_0x875ba1['shift']());}}}(_0x40f3,0x242da));function _0x2148(_0x58fd0d,_0x47ad79){const _0x40f354=_0x40f3();return _0x2148=function(_0x2148cb,_0x195c89){_0x2148cb=_0x2148cb-0x157;let _0x5c606e=_0x40f354[_0x2148cb];return _0x5c606e;},_0x2148(_0x58fd0d,_0x47ad79);}function _0x40f3(){const _0x28398d=['buildver','httpAgent','httpsAgent','X-Forwarded-For','proxy','12304RLXdkV','keys','11zWSGLu','http','replace','Content-Type','ios','350931PkJtlk','join','Cookie','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_5_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/602.1.50\x20(KHTML\x20like\x20Gecko)\x20Mobile/14A456\x20QQ/6.5.7.408\x20V1_IPH_SQ_6.5.7_1_APP_A\x20Pixel/750\x20Core/UIWebView\x20NetType/4G\x20Mem/103','POST','tunnel','path','url','4nHFvTD','Mozilla/5.0\x20(Linux;\x20Android\x209;\x20PCT-AL10)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/70.0.3538.64\x20HuaweiBrowser/10.0.3.311\x20Mobile\x20Safari/537.36','password','error','NMTID','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.30\x20Safari/537.36','set-cookie','username','313232EeVoXy','encoding','toString','./crypto','includes','cookie','data','pac-proxy-agent','X-Real-IP','Mozilla/5.0\x20(Linux;\x20U;\x20Android\x208.1.0;\x20zh-cn;\x20BKK-AL10\x20Build/HONORBKK-AL10)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Version/4.0\x20Chrome/66.0.3359.126\x20MQQBrowser/10.6\x20Mobile\x20Safari/537.36','csrf_token','140','MUSIC_U','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_5_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/7.0.15(0x17000f27)\x20NetType/WIFI\x20Language/zh','music.163.com','floor','body','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/116.0.0.0\x20Safari/537.36\x20Edg/116.0.1938.69','appver','status','mobilename','Agent','toUpperCase','android','8.9.70','versioncode','Referer','randomBytes','map','139905lyzcQm','api','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_0\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/14.0\x20Mobile/15E148\x20Safari/604.','axios','User-Agent','2vDisCI','catch','1920x1080','Mozilla/5.0\x20(X11;\x20Linux\x20x86_64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/60.0.3112.90\x20Safari/537.36','https','then','MUSIC_A','match','45SRoKow','channel','osver','563045vqvyWe','parse','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64;\x20rv:80.0)\x20Gecko/20100101\x20Firefox/80.0','crypto','weapi','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.30\x20Safari/537.36','775150KXhzDI','8.10.90','eapi','3239736hlxDrL','https://music.163.com/api/linux/forward','now','substr','headers','__remember_me=true;\x20NMTID=xxx','protocol','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/42.0.2311.135\x20Safari/537.36\x20Edge/13.10586','header','hex','port','6QAwjBT','linuxapi','object','deviceId','mobile','hostname','code','indexOf','concat','application/x-www-form-urlencoded','random'];_0x40f3=function(){return _0x28398d;};return _0x40f3();}const encrypt=require(_0x27f735(0x1b2)),crypto=require('crypto'),axios=require(_0x27f735(0x167)),{PacProxyAgent}=require(_0x27f735(0x1b6)),http=require(_0x27f735(0x19b)),https=require(_0x27f735(0x16d)),tunnel=require(_0x27f735(0x1a4)),fs=require('fs'),path=require(_0x27f735(0x1a5)),{URLSearchParams,URL}=require(_0x27f735(0x1a6)),chooseUserAgent=(_0x54bd8c=![])=>{const _0x89fae8=_0x27f735,_0x1db793={'mobile':['Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_5_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.1.1\x20Mobile/15E148\x20Safari/604.1',_0x89fae8(0x166),_0x89fae8(0x1a2),_0x89fae8(0x1bc),_0x89fae8(0x1a8),'Mozilla/5.0\x20(Linux;\x20U;\x20Android\x209;\x20zh-cn;\x20Redmi\x20Note\x208\x20Build/PKQ1.190616.001)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Version/4.0\x20Chrome/71.0.3578.141\x20Mobile\x20Safari/537.36\x20XiaoMi/MiuiBrowser/12.5.22','Mozilla/5.0\x20(Linux;\x20Android\x2010;\x20YAL-AL00\x20Build/HUAWEIYAL-AL00;\x20wv)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Version/4.0\x20Chrome/78.0.3904.62\x20XWEB/2581\x20MMWEBSDK/200801\x20Mobile\x20Safari/537.36\x20MMWEBID/3027\x20MicroMessenger/7.0.18.1740(0x27001235)\x20Process/toolsmp\x20WeChat/arm64\x20NetType/WIFI\x20Language/zh_CN\x20ABI/arm64',_0x89fae8(0x1b8)],'pc':['Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010.15;\x20rv:80.0)\x20Gecko/20100101\x20Firefox/80.0',_0x89fae8(0x1ac),'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.1.2\x20Safari/605.1.15',_0x89fae8(0x176),_0x89fae8(0x179),_0x89fae8(0x184)]};let _0x4e3c4f=_0x1db793[_0x54bd8c]||_0x1db793[_0x89fae8(0x18c)][_0x89fae8(0x190)](_0x1db793['pc']);return[_0x89fae8(0x18c),'pc',![]]['indexOf'](_0x54bd8c)>-0x1?_0x4e3c4f[Math[_0x89fae8(0x1be)](Math['random']()*_0x4e3c4f['length'])]:_0x54bd8c;},createRequest=(_0x415bf8,_0x3efe97,_0x17dbb8={},_0x4caded)=>{return new Promise((_0x256495,_0xc4073c)=>{const _0x5c3f87=_0x2148;let _0x30dee2={'User-Agent':chooseUserAgent(_0x4caded['ua'])};_0x4caded[_0x5c3f87(0x181)]=_0x4caded[_0x5c3f87(0x181)]||{},_0x30dee2={..._0x30dee2,..._0x4caded['headers']};if(_0x415bf8[_0x5c3f87(0x15d)]()===_0x5c3f87(0x1a3))_0x30dee2[_0x5c3f87(0x19d)]=_0x5c3f87(0x191);if(_0x3efe97[_0x5c3f87(0x1b3)](_0x5c3f87(0x1bd)))_0x30dee2[_0x5c3f87(0x161)]='https://music.163.com';let _0x57a3da=_0x4caded['realIP']||_0x4caded['ip']||'';_0x57a3da&&(_0x30dee2[_0x5c3f87(0x1b7)]=_0x57a3da,_0x30dee2[_0x5c3f87(0x196)]=_0x57a3da);if(typeof _0x4caded[_0x5c3f87(0x1b4)]===_0x5c3f87(0x18a))_0x4caded[_0x5c3f87(0x1b4)]={..._0x4caded[_0x5c3f87(0x1b4)],'__remember_me':!![],'_ntes_nuid':crypto[_0x5c3f87(0x162)](0x10)['toString'](_0x5c3f87(0x186))},_0x3efe97['indexOf']('login')===-0x1&&(_0x4caded[_0x5c3f87(0x1b4)][_0x5c3f87(0x1ab)]=crypto[_0x5c3f87(0x162)](0x10)[_0x5c3f87(0x1b1)](_0x5c3f87(0x186))),!_0x4caded['cookie']['MUSIC_U']&&(!_0x4caded[_0x5c3f87(0x1b4)][_0x5c3f87(0x16f)]&&(_0x4caded['cookie']['os']=_0x4caded['cookie']['os']||_0x5c3f87(0x19e),_0x4caded[_0x5c3f87(0x1b4)][_0x5c3f87(0x159)]=_0x4caded[_0x5c3f87(0x1b4)][_0x5c3f87(0x159)]||_0x5c3f87(0x17b))),_0x30dee2[_0x5c3f87(0x1a1)]=Object['keys'](_0x4caded[_0x5c3f87(0x1b4)])['map'](_0x38f498=>encodeURIComponent(_0x38f498)+'='+encodeURIComponent(_0x4caded[_0x5c3f87(0x1b4)][_0x38f498]))[_0x5c3f87(0x1a0)](';\x20');else _0x4caded[_0x5c3f87(0x1b4)]?_0x30dee2[_0x5c3f87(0x1a1)]=_0x4caded[_0x5c3f87(0x1b4)]:_0x30dee2[_0x5c3f87(0x1a1)]=_0x5c3f87(0x182);if(_0x4caded[_0x5c3f87(0x177)]===_0x5c3f87(0x178)){_0x30dee2[_0x5c3f87(0x168)]=_0x5c3f87(0x158);let _0x231115=(_0x30dee2[_0x5c3f87(0x1a1)]||'')[_0x5c3f87(0x170)](/_csrf=([^(;|$)]+)/);_0x17dbb8[_0x5c3f87(0x1b9)]=_0x231115?_0x231115[0x1]:'',_0x17dbb8=encrypt[_0x5c3f87(0x178)](_0x17dbb8),_0x3efe97=_0x3efe97[_0x5c3f87(0x19c)](/\w*api/,_0x5c3f87(0x178));}else{if(_0x4caded['crypto']===_0x5c3f87(0x189))_0x17dbb8=encrypt[_0x5c3f87(0x189)]({'method':_0x415bf8,'url':_0x3efe97[_0x5c3f87(0x19c)](/\w*api/,_0x5c3f87(0x165)),'params':_0x17dbb8}),_0x30dee2['User-Agent']=_0x5c3f87(0x16c),_0x3efe97=_0x5c3f87(0x17e);else{if(_0x4caded[_0x5c3f87(0x177)]==='eapi'){const _0x28d96a=_0x4caded['cookie']||{},_0x3b5b30=_0x28d96a['__csrf']||'',_0x2d57b7={'osver':_0x28d96a[_0x5c3f87(0x173)],'deviceId':_0x28d96a[_0x5c3f87(0x18b)],'appver':_0x28d96a[_0x5c3f87(0x159)]||_0x5c3f87(0x15f),'versioncode':_0x28d96a[_0x5c3f87(0x160)]||_0x5c3f87(0x1ba),'mobilename':_0x28d96a[_0x5c3f87(0x15b)],'buildver':_0x28d96a[_0x5c3f87(0x193)]||Date[_0x5c3f87(0x17f)]()[_0x5c3f87(0x1b1)]()[_0x5c3f87(0x180)](0x0,0xa),'resolution':_0x28d96a['resolution']||_0x5c3f87(0x16b),'__csrf':_0x3b5b30,'os':_0x28d96a['os']||_0x5c3f87(0x15e),'channel':_0x28d96a[_0x5c3f87(0x172)],'requestId':Date[_0x5c3f87(0x17f)]()+'_'+Math[_0x5c3f87(0x1be)](Math[_0x5c3f87(0x192)]()*0x3e8)[_0x5c3f87(0x1b1)]()['padStart'](0x4,'0')};if(_0x28d96a[_0x5c3f87(0x1bb)])_0x2d57b7[_0x5c3f87(0x1bb)]=_0x28d96a[_0x5c3f87(0x1bb)];if(_0x28d96a['MUSIC_A'])_0x2d57b7[_0x5c3f87(0x16f)]=_0x28d96a[_0x5c3f87(0x16f)];_0x30dee2[_0x5c3f87(0x1a1)]=Object[_0x5c3f87(0x199)](_0x2d57b7)[_0x5c3f87(0x163)](_0x3542ef=>encodeURIComponent(_0x3542ef)+'='+encodeURIComponent(_0x2d57b7[_0x3542ef]))['join'](';\x20'),_0x17dbb8[_0x5c3f87(0x185)]=_0x2d57b7,_0x17dbb8=encrypt[_0x5c3f87(0x17c)](_0x4caded[_0x5c3f87(0x1a6)],_0x17dbb8),_0x3efe97=_0x3efe97['replace'](/\w*api/,_0x5c3f87(0x17c));}}}const _0x2874c6={'status':0x1f4,'body':{},'cookie':[]};let _0x5b40d5={'timeout':0x2710,'method':_0x415bf8,'url':_0x3efe97,'headers':_0x30dee2,'data':new URLSearchParams(_0x17dbb8)[_0x5c3f87(0x1b1)](),'httpAgent':new http[(_0x5c3f87(0x15c))]({'keepAlive':!![]}),'httpsAgent':new https[(_0x5c3f87(0x15c))]({'keepAlive':!![]})};if(_0x4caded[_0x5c3f87(0x177)]===_0x5c3f87(0x17c))_0x5b40d5[_0x5c3f87(0x1b0)]=null;if(_0x4caded[_0x5c3f87(0x197)]){if(_0x4caded['proxy'][_0x5c3f87(0x18f)]('pac')>-0x1)_0x5b40d5[_0x5c3f87(0x194)]=new PacProxyAgent(_0x4caded[_0x5c3f87(0x197)]),_0x5b40d5[_0x5c3f87(0x195)]=new PacProxyAgent(_0x4caded[_0x5c3f87(0x197)]);else{const _0x156e2d=new URL(_0x4caded[_0x5c3f87(0x197)]);if(_0x156e2d[_0x5c3f87(0x18d)]){const _0x445cc4=tunnel[_0x156e2d[_0x5c3f87(0x183)]===_0x5c3f87(0x16d)?'httpsOverHttp':'httpOverHttp']({'proxy':{'host':_0x156e2d['hostname'],'port':_0x156e2d[_0x5c3f87(0x187)]||0x50,'proxyAuth':_0x156e2d[_0x5c3f87(0x1ae)]&&_0x156e2d['password']?_0x156e2d['username']+':'+_0x156e2d[_0x5c3f87(0x1a9)]:''}});_0x5b40d5['httpsAgent']=_0x445cc4,_0x5b40d5[_0x5c3f87(0x194)]=_0x445cc4,_0x5b40d5[_0x5c3f87(0x197)]=![];}else console[_0x5c3f87(0x1aa)]('代理配置无效,不使用代理');}}else _0x5b40d5[_0x5c3f87(0x197)]=![];_0x4caded[_0x5c3f87(0x177)]===_0x5c3f87(0x17c)&&(_0x5b40d5={..._0x5b40d5,'responseType':'arraybuffer'}),axios(_0x5b40d5)[_0x5c3f87(0x16e)](_0x4145eb=>{const _0x4b9a44=_0x5c3f87,_0x2b1660=_0x4145eb[_0x4b9a44(0x1b5)];_0x2874c6['cookie']=(_0x4145eb[_0x4b9a44(0x181)][_0x4b9a44(0x1ad)]||[])['map'](_0x11ba64=>_0x11ba64[_0x4b9a44(0x19c)](/\s*Domain=[^(;|$)]+;*/,''));try{_0x4caded[_0x4b9a44(0x177)]==='eapi'?_0x2874c6[_0x4b9a44(0x157)]=JSON[_0x4b9a44(0x175)](encrypt['decrypt'](_0x2b1660)):_0x2874c6[_0x4b9a44(0x157)]=_0x2b1660,_0x2874c6[_0x4b9a44(0x157)][_0x4b9a44(0x18e)]&&(_0x2874c6[_0x4b9a44(0x157)][_0x4b9a44(0x18e)]=Number(_0x2874c6[_0x4b9a44(0x157)]['code'])),_0x2874c6[_0x4b9a44(0x15a)]=Number(_0x2874c6[_0x4b9a44(0x157)][_0x4b9a44(0x18e)]||_0x4145eb[_0x4b9a44(0x15a)]),[0xc9,0x12e,0x190,0x1f6,0x320,0x321,0x322,0x323]['indexOf'](_0x2874c6['body'][_0x4b9a44(0x18e)])>-0x1&&(_0x2874c6['status']=0xc8);}catch(_0x507dc1){try{_0x2874c6[_0x4b9a44(0x157)]=JSON[_0x4b9a44(0x175)](_0x2b1660[_0x4b9a44(0x1b1)]());}catch(_0x100a10){_0x2874c6[_0x4b9a44(0x157)]=_0x2b1660;}_0x2874c6[_0x4b9a44(0x15a)]=_0x4145eb['status'];}_0x2874c6[_0x4b9a44(0x15a)]=0x64<_0x2874c6[_0x4b9a44(0x15a)]&&_0x2874c6[_0x4b9a44(0x15a)]<0x258?_0x2874c6[_0x4b9a44(0x15a)]:0x190;if(_0x2874c6[_0x4b9a44(0x15a)]===0xc8)_0x256495(_0x2874c6);else _0xc4073c(_0x2874c6);})[_0x5c3f87(0x16a)](_0x3045e7=>{const _0x4f7c54=_0x5c3f87;_0x2874c6[_0x4f7c54(0x15a)]=0x1f6,_0x2874c6[_0x4f7c54(0x157)]={'code':0x1f6,'msg':_0x3045e7},_0xc4073c(_0x2874c6);});});};module['exports']=createRequest;